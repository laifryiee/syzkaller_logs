possible deadlock in try_to_wake_up

c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM..c[?7l[2J[    0.000000] Linux version 6.16.0-rc2-aaf5c23bf6a4+ (root@p-arls02) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-7), GNU ld version 2.35.2-65.el9) #1 SMP PREEMPT_DYNAMIC Tue Jun 17 06:35:02 CST 2025
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/CPU: Model not found in latest microcode list
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000002] kvm-clock: using sched offset of 553318612 cycles
[    0.000371] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001493] tsc: Detected 1267.200 MHz processor
[    0.007146] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.007547] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.008127] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.014073] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.014475] Using GB pages for direct mapping
[    0.016399] ACPI: Early table checksum verification disabled
[    0.016796] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.017204] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.017814] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.018420] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.019019] ACPI: FACS 0x000000007FFE0000 000040
[    0.019357] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.019951] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.020553] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.021151] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.021643] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.022128] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.022617] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.023102] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.023588] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.024471] No NUMA configuration found
[    0.024733] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.025227] NODE_DATA(0) allocated [mem 0x7ffb4e80-0x7ffdfc7f]
[    0.026002] Zone ranges:
[    0.026182]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.026616]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.027046]   Normal   empty
[    0.027255]   Device   empty
[    0.027459] Movable zone start for each node
[    0.027762] Early memory node ranges
[    0.028010]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.028444]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.028878] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.030047] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.030718] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.068845] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.520052] kasan: KernelAddressSanitizer initialized
[    0.520668] ACPI: PM-Timer IO Port: 0x608
[    0.520975] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.521425] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.521921] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.522375] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.522830] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.523289] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.523755] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.524233] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.524676] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.525038] TSC deadline timer available
[    0.525318] CPU topo: Max. logical packages:   1
[    0.525638] CPU topo: Max. logical dies:       1
[    0.525959] CPU topo: Max. dies per package:   1
[    0.526287] CPU topo: Max. threads per core:   1
[    0.526612] CPU topo: Num. cores per package:     2
[    0.526958] CPU topo: Num. threads per package:   2
[    0.527307] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.527779] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.528327] kvm-guest: KVM setup pv remote TLB flush
[    0.528677] kvm-guest: setup PV sched yield
[    0.529004] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.529533] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x000fffff]
[    0.530060] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.530488] Booting paravirtualized kernel on KVM
[    0.530815] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.531545] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.533974] percpu: Embedded 80 pages/cpu s290816 r8192 d28672 u1048576
[    0.534582] kvm-guest: PV spinlocks enabled
[    0.534889] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.535414] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.536466] random: crng init done
[    0.536712] printk: log buffer data + meta data: 262144 + 917504 = 1179648 bytes
[    0.539043] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.540353] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.541219] Fallback order for Node 0: 0 
[    0.541227] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.541953] Policy zone: DMA32
[    0.542160] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.542582] stackdepot: allocating hash table via alloc_large_system_hash
[    0.543041] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.635090] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.635627] kmemleak: Kernel memory leak detector disabled
[    0.666173] ftrace: allocating 73930 entries in 292 pages
[    0.666557] ftrace: allocated 292 pages with 3 groups
[    0.671555] Dynamic Preempt: voluntary
[    0.672199] Running RCU self tests
[    0.672440] Running RCU synchronous self tests
[    0.672743] rcu: Preemptible hierarchical RCU implementation.
[    0.673125] rcu: 	RCU lockdep checking is enabled.
[    0.673451] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.673911] 	Trampoline variant of Tasks RCU enabled.
[    0.674249] 	Rude variant of Tasks RCU enabled.
[    0.674553] 	Tracing variant of Tasks RCU enabled.
[    0.674874] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.675382] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.675880] Running RCU synchronous self tests
[    0.676183] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.676783] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.677413] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.729191] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.730107] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.736451] Console: colour VGA+ 80x25
[    0.736776] printk: legacy console [ttyS0] enabled
[    0.736776] printk: legacy console [ttyS0] enabled
[    0.737447] printk: legacy bootconsole [earlyser0] disabled
[    0.737447] printk: legacy bootconsole [earlyser0] disabled
[    0.738229] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.738768] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.739061] ... MAX_LOCK_DEPTH:          48
[    0.739359] ... MAX_LOCKDEP_KEYS:        8192
[    0.739669] ... CLASSHASH_SIZE:          4096
[    0.739982] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.740303] ... MAX_LOCKDEP_CHAINS:      524288
[    0.740628] ... CHAINHASH_SIZE:          262144
[    0.740953]  memory used by lock dependency info: 54145 kB
[    0.741342]  memory used for stack traces: 4224 kB
[    0.741683]  per task-struct memory footprint: 1920 bytes
[    0.742133] ACPI: Core revision 20250404
[    0.742753] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.743547] APIC: Switch to symmetric I/O mode setup
[    0.744051] x2apic enabled
[    0.744577] APIC: Switched APIC routing to: physical x2apic
[    0.744972] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.745485] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.746121] kvm-guest: setup PV IPIs
[    0.747235] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.747747] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    0.748476] Calibrating delay loop (skipped) preset value.. 2534.40 BogoMIPS (lpj=5068800)
[    0.749186] CPU0: Thermal monitoring enabled (TM1)
[    0.749529] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.750066] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.750436] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.750866] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.751448] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.752485] ITS: Mitigation: Aligned branch/return thunks
[    0.752858] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.753431] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.754193] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.754688] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.755246] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.755800] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.756468] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.756898] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.757331] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.757858] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.758281] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.758701] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.879671] Freeing SMP alternatives memory: 60K
[    0.880010] pid_max: default: 32768 minimum: 301
[    0.880661] LSM: initializing lsm=capability,yama,ima,evm
[    0.881158] Yama: becoming mindful.
[    0.881768] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.882288] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.884156] Running RCU synchronous self tests
[    0.884487] Running RCU synchronous self tests
[    0.885124] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xc6, stepping: 0x0)
[    0.886562] Performance Events: unsupported CPU family 6 model 198 no PMU driver, software events only.
[    0.887234] signal: max sigframe size: 3632
[    0.887680] rcu: Hierarchical SRCU implementation.
[    0.888005] rcu: 	Max phase no-delay instances is 1000.
[    0.888465] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    0.897410] NMI watchdog: Perf NMI watchdog permanently disabled
[    0.898009] smp: Bringing up secondary CPUs ...
[    0.898948] smpboot: x86: Booting SMP configuration:
[    0.899305] .... node  #0, CPUs:      #1
[    0.900548] smp: Brought up 1 node, 2 CPUs
[    0.901118] smpboot: Total of 2 processors activated (5068.80 BogoMIPS)
[    0.902256] Memory: 1545512K/2096632K available (79001K kernel code, 15320K rwdata, 18328K rodata, 16064K init, 68660K bss, 539468K reserved, 0K cma-reserved)
[    0.904807] devtmpfs: initialized
[    0.905345] x86/mm: Memory block size: 128MB
[    0.914879] Running RCU synchronous self tests
[    0.914879] Running RCU synchronous self tests
[    0.916579] Running RCU Tasks wait API self tests
[    0.916818] Running RCU Tasks Rude wait API self tests
[    0.916880] Running RCU Tasks Trace wait API self tests
[    0.936519] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.940554] posixtimers hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    0.941158] futex hash table entries: 512 (65536 bytes on 1 NUMA nodes, total 64 KiB, linear).
[    0.942183] pinctrl core: initialized pinctrl subsystem
[    0.943591] 
[    0.943699] *************************************************************
[    0.944150] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.944471] **                                                         **
[    0.944929] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    0.945391] **                                                         **
[    0.945850] ** This means that this kernel is built to expose internal **
[    0.946311] ** IOMMU data structures, which may compromise security on **
[    0.946768] ** your system.                                            **
[    0.947228] **                                                         **
[    0.947701] ** If you see this message and you are not debugging the   **
[    0.948157] ** kernel, report this immediately to your vendor!         **
[    0.948469] **                                                         **
[    0.948926] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.949394] *************************************************************
[    0.949925] PM: RTC time: 22:37:30, date: 2025-06-16
[    0.954507] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.956127] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    0.956493] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.957039] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.957669] audit: initializing netlink subsys (disabled)
[    0.958088] audit: type=2000 audit(1750113451.326:1): state=initialized audit_enabled=0 res=1
[    0.958088] thermal_sys: Registered thermal governor 'fair_share'
[    0.958088] thermal_sys: Registered thermal governor 'bang_bang'
[    0.958224] thermal_sys: Registered thermal governor 'step_wise'
[    0.958635] thermal_sys: Registered thermal governor 'user_space'
[    0.960502] cpuidle: using governor ladder
[    0.961252] cpuidle: using governor menu
[    0.961252] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.962203] PCI: Using configuration type 1 for base access
[    0.964729] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    0.968486] Callback from call_rcu_tasks_trace() invoked.
[    1.078798] HugeTLB: allocation took 0ms with hugepage_allocation_threads=1
[    1.079328] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.079799] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.080255] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.080470] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.088363] ACPI: Added _OSI(Module Device)
[    1.088474] ACPI: Added _OSI(Processor Device)
[    1.088785] ACPI: Added _OSI(Processor Aggregator Device)
[    1.098319] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.114139] ACPI: Interpreter enabled
[    1.114528] ACPI: PM: (supports S0 S3 S4 S5)
[    1.114838] ACPI: Using IOAPIC for interrupt routing
[    1.115276] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.115899] PCI: Using E820 reservations for host bridge windows
[    1.117127] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.143462] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.143927] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.144474] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.145253] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.149329] acpiphp: Slot [3] registered
[    1.149703] acpiphp: Slot [4] registered
[    1.150095] acpiphp: Slot [5] registered
[    1.150457] acpiphp: Slot [6] registered
[    1.150826] acpiphp: Slot [7] registered
[    1.151204] acpiphp: Slot [8] registered
[    1.151606] acpiphp: Slot [9] registered
[    1.151978] acpiphp: Slot [10] registered
[    1.152356] acpiphp: Slot [11] registered
[    1.152565] acpiphp: Slot [12] registered
[    1.152964] acpiphp: Slot [13] registered
[    1.153347] acpiphp: Slot [14] registered
[    1.153724] acpiphp: Slot [15] registered
[    1.154113] acpiphp: Slot [16] registered
[    1.154516] acpiphp: Slot [17] registered
[    1.154896] acpiphp: Slot [18] registered
[    1.155685] acpiphp: Slot [19] registered
[    1.156059] acpiphp: Slot [20] registered
[    1.156478] acpiphp: Slot [21] registered
[    1.156848] acpiphp: Slot [22] registered
[    1.157218] acpiphp: Slot [23] registered
[    1.157589] acpiphp: Slot [24] registered
[    1.157980] acpiphp: Slot [25] registered
[    1.158355] acpiphp: Slot [26] registered
[    1.158735] acpiphp: Slot [27] registered
[    1.159104] acpiphp: Slot [28] registered
[    1.159495] acpiphp: Slot [29] registered
[    1.159864] acpiphp: Slot [30] registered
[    1.160233] acpiphp: Slot [31] registered
[    1.160523] PCI host bridge to bus 0000:00
[    1.160846] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.161324] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.161794] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.162315] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.162834] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.163371] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.163847] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.170505] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.172081] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.172949] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.173340] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.173805] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.174236] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.174706] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.175529] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.176338] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.176479] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.177395] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.185132] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.185641] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.186074] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.186659] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.194005] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.195502] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.195921] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.196312] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.211590] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.212694] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.213671] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.214664] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.215322] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.220465] iommu: Default domain type: Translated
[    1.220465] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.222473] SCSI subsystem initialized
[    1.224703] ACPI: bus type USB registered
[    1.224703] usbcore: registered new interface driver usbfs
[    1.224703] usbcore: registered new interface driver hub
[    1.224703] usbcore: registered new device driver usb
[    1.225277] pps_core: LinuxPPS API ver. 1 registered
[    1.225616] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.226285] PTP clock support registered
[    1.228465] EDAC MC: Ver: 3.0.0
[    1.232472] NetLabel: Initializing
[    1.232472] NetLabel:  domain hash size = 128
[    1.232472] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.232472] NetLabel:  unlabeled traffic allowed by default
[    1.232472] PCI: Using ACPI for IRQ routing
[    1.232826] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.233270] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.233681] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.234286] vgaarb: loaded
[    1.236465] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.236465] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.240465] clocksource: Switched to clocksource kvm-clock
[    1.240465] VFS: Disk quotas dquot_6.6.0
[    1.240465] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.246771] pnp: PnP ACPI init
[    1.249772] pnp: PnP ACPI: found 6 devices
[    1.266913] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.267963] NET: Registered PF_INET protocol family
[    1.268752] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.270728] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.271403] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.272046] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.273182] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.279810] TCP: Hash tables configured (established 16384 bind 16384)
[    1.280487] UDP hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.281031] UDP-Lite hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.281843] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.283132] RPC: Registered named UNIX socket transport module.
[    1.283555] RPC: Registered udp transport module.
[    1.283897] RPC: Registered tcp transport module.
[    1.284231] RPC: Registered tcp-with-tls transport module.
[    1.284616] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.285101] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.285548] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.286012] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.286506] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.287002] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.287759] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.288160] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.288656] PCI: CLS 0 bytes, default 64
[    1.289448] ACPI: bus type thunderbolt registered
[    1.290316] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    3.217497] Initialise system trusted keyrings
[    3.220032] Key type blacklist registered
[    3.220828] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.222967] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.225341] NFS: Registering the id_resolver key type
[    3.225743] Key type id_resolver registered
[    3.226061] Key type id_legacy registered
[    3.226379] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.226887] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.227660] fuse: init (API version 7.44)
[    3.228471] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.230064] Callback from call_rcu_tasks() invoked.
[    3.230610] 9p: Installing v9fs 9p2000 file system support
[    3.240761] Key type asymmetric registered
[    3.241086] Asymmetric key parser 'x509' registered
[    3.241621] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 242)
[    3.242537] io scheduler mq-deadline registered
[    3.242966] io scheduler bfq registered
[    3.244121] ledtrig-cpu: registered to indicate activity on CPUs
[    3.245945] IPMI message handler: version 39.2
[    3.246348] ipmi device interface
[    3.248601] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.249835] ACPI: button: Power Button [PWRF]
[    3.252275] ERST DBG: ERST support is disabled.
[    3.254001] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.256470] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.280311] Linux agpgart interface v0.103
[    3.282836] ACPI: bus type drm_connector registered
[    3.303108] brd: module loaded
[    3.314304] loop: module loaded
[    3.324822] scsi host0: ata_piix
[    3.326599] scsi host1: ata_piix
[    3.327228] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.327759] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.331828] tun: Universal TUN/TAP device driver, 1.6
[    3.332547] e100: Intel(R) PRO/100 Network Driver
[    3.332919] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.333402] e1000: Intel(R) PRO/1000 Network Driver
[    3.333743] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.485679] ata1: found unknown device (class 0)
[    3.486335] ata2: found unknown device (class 0)
[    3.487070] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.487462] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.488409] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.488959] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.491577] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.491669] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.492927] sd 0:0:0:0: [sda] Write Protect is off
[    3.493332] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.494038] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.495802] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.513427] sd 0:0:0:0: [sda] Attached SCSI disk
[    3.519407] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    3.796225] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.102132] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.102627] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.103260] e1000e: Intel(R) PRO/1000 Network Driver
[    4.103611] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.104165] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.104543] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.105278] PPP generic driver version 2.4.2
[    4.107245] VFIO - User Level meta-driver version: 0.3
[    4.109120] usbcore: registered new interface driver uas
[    4.109585] usbcore: registered new interface driver usb-storage
[    4.110271] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.111649] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.112074] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.113591] mousedev: PS/2 mouse device common for all mice
[    4.115065] rtc_cmos 00:05: RTC can wake from S4
[    4.116740] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.118126] rtc_cmos 00:05: registered as rtc0
[    4.118477] rtc_cmos 00:05: setting system clock to 2025-06-16T22:37:33 UTC (1750113453)
[    4.119280] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.119882] i2c_dev: i2c /dev entries driver
[    4.121841] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.122707] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.123544] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.123676] device-mapper: uevent: version 1.0.3
[    4.125224] device-mapper: ioctl: 4.50.0-ioctl (2025-04-28) initialised: dm-devel@lists.linux.dev
[    4.125918] intel_pstate: CPU model not supported
[    4.126514] sdhci: Secure Digital Host Controller Interface driver
[    4.126967] sdhci: Copyright(c) Pierre Ossman
[    4.127443] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.128352] drop_monitor: Initializing network drop monitor service
[    4.129104] NET: Registered PF_INET6 protocol family
[    4.134185] Segment Routing with IPv6
[    4.134496] In-situ OAM (IOAM) with IPv6
[    4.134860] NET: Registered PF_PACKET protocol family
[    4.135588] 9pnet: Installing 9P2000 support
[    4.136017] Key type dns_resolver registered
[    4.138163] IPI shorthand broadcast: enabled
[    4.180880] sched_clock: Marking stable (4164003166, 13864531)->(4181385677, -3517980)
[    4.182653] registered taskstats version 1
[    4.183673] Loading compiled-in X.509 certificates
[    4.240566] Demotion targets for Node 0: null
[    4.242471] Key type .fscrypt registered
[    4.242757] Key type fscrypt-provisioning registered
[    4.246218] Key type encrypted registered
[    4.246549] ima: No TPM chip found, activating TPM-bypass!
[    4.246971] ima: Allocated hash algorithm: sha1
[    4.247334] ima: No architecture policies found
[    4.247805] evm: Initialising EVM extended attributes:
[    4.248168] evm: security.selinux
[    4.248405] evm: security.SMACK64
[    4.248645] evm: security.SMACK64EXEC
[    4.248910] evm: security.SMACK64TRANSMUTE
[    4.249202] evm: security.SMACK64MMAP
[    4.249464] evm: security.apparmor
[    4.249710] evm: security.ima
[    4.249947] evm: security.capability
[    4.250203] evm: HMAC attrs: 0x1
[    4.252040] PM:   Magic number: 13:119:654
[    4.254755] RAS: Correctable Errors collector initialized.
[    4.255351] clk: Disabling unused clocks
[    4.255825] PM: genpd: Disabling unused power domains
[    4.257043] md: Waiting for all devices to be available before autodetect
[    4.257368] md: If you don't use raid, use raid=noautodetect
[    4.257628] md: Autodetecting RAID arrays.
[    4.257830] md: autorun ...
[    4.258005] md: ... autorun DONE.
[    4.269429] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.270044] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.272869] devtmpfs: mounted
[    4.291917] Freeing unused decrypted memory: 2028K
[    4.296098] Freeing unused kernel image (initmem) memory: 16064K
[    4.296484] Write protecting the kernel read-only data: 98304k
[    4.299420] Freeing unused kernel image (text/rodata gap) memory: 868K
[    4.300016] Freeing unused kernel image (rodata/data gap) memory: 104K
[    4.358146] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.358462] Run /sbin/init as init process
[    4.622083] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    4.623527] systemd[1]: Detected virtualization kvm.
[    4.624527] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    4.632144] systemd[1]: Hostname set to <test>.
[    4.785196] systemd-rc-local-generator[123]: /etc/rc.d/rc.local is not marked executable, skipping.
[    5.229125] systemd[1]: Queued start job for default target Multi-User System.
[    5.248787] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    5.253703] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    5.256730] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    5.259478] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    5.262339] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    5.264987] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    5.266961] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password Râ€¦uests to Wall Directory Watch[0m.
[    5.270306] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitraryâ€¦s File System Automount Point[0m.
[    5.272581] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    5.274490] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    5.275892] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    5.277189] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    5.279564] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    5.282202] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    5.283994] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    5.333237] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    5.334749] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    5.338018] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    5.339571] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    5.340915] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    5.342169] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    5.343392] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    5.344426] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    5.349947] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    5.355120] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    5.360623] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    5.370716] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    5.371722] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    5.372449] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.16.0-rc2-aaf5c23bf6a4+/modules.devname).
[    5.378643] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVMâ€¦meventd or progress polling[0m...
[    5.385306] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    5.392217] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    5.402219] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    5.414521] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS â€¦from /etc/sysconfig/network[0m...
[    5.427996] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    5.437605] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    5.455151] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network â€¦ts from Kernel command line[0m...
[    5.470281] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    5.477099] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    5.515055] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    5.527940] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    5.534173] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    5.535499] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    5.539374] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    5.546939] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    5.548427] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    5.550944] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    5.552148] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    5.554126] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    5.555377] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    5.557671] systemd[1]: Finished Read and set NIS domainname from /etc/sysconfig/network.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS â€¦e from /etc/sysconfig/network[0m.
[    5.559271] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w.
[    5.563382] systemd[1]: systemd-modules-load.service: Main process exited, code=exited, status=1/FAILURE
[    5.564439] systemd[1]: systemd-modules-load.service: Failed with result 'exit-code'.
[    5.565661] systemd[1]: Failed to start Load Kernel Modules.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    5.576772] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVMâ€¦ dmeventd or progress polling[0m.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
         Mounting [0;1;39mFUSE Control File System[0m...
         Mounting [0;1;39mKernel Configuration File System[0m...
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mApply Kernel Variables[0m...
[    5.691373] systemd-journald[145]: Received client request to flush runtime journal.
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manageâ€¦for Device Events and Files[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to sâ€¦E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to sâ€¦VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
         Starting [0;1;39mWait for udev To â€¦plete Device Initialization[0m...
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password â€¦ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF â€¦itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberosâ€¦ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine aâ€¦tainer Registration Service[0m...
         Starting [0;1;39mupdate of the rooâ€¦NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine anâ€¦ontainer Registration Service[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the rooâ€¦ DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[    8.786112] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.16.0-rc2-aaf5c23bf6a4+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   17.803134] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   17.803595] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 728, name: repro
[   17.803966] preempt_count: 1, expected: 0
[   17.804159] RCU nest depth: 1, expected: 0
[   17.804357] 4 locks held by repro/728:
[   17.804541]  #0: ffff888016e4eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   17.804978]  #1: ffff8880280106d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   17.805428]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   17.805850]  #3: ffff88802462cbb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   17.806358] Preemption disabled at:
[   17.806360] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   17.806834] CPU: 0 UID: 0 PID: 728 Comm: repro Not tainted 6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   17.806843] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   17.806848] Call Trace:
[   17.806852]  <TASK>
[   17.806855]  dump_stack_lvl+0x121/0x150
[   17.806874]  dump_stack+0x19/0x20
[   17.806882]  __might_resched+0x37b/0x5a0
[   17.806895]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   17.806911]  __might_sleep+0xa3/0x170
[   17.806920]  ? vm_normal_folio+0x8c/0x170
[   17.806931]  __relocate_anon_folios+0x7bd/0x11a0
[   17.806945]  ? __pfx___relocate_anon_folios+0x10/0x10
[   17.806956]  ? __this_cpu_preempt_check+0x21/0x30
[   17.806966]  ? lock_set_class+0x17a/0x260
[   17.806982]  copy_vma_and_data+0x47e/0x1480
[   17.806994]  ? percpu_counter_add_batch+0xd9/0x210
[   17.807008]  ? __pfx_copy_vma_and_data+0x10/0x10
[   17.807015]  ? vms_complete_munmap_vmas+0x525/0x810
[   17.807030]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   17.807037]  ? __this_cpu_preempt_check+0x21/0x30
[   17.807048]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   17.807057]  ? mtree_range_walk+0x728/0xb70
[   17.807069]  ? __lock_acquire+0x412/0x22a0
[   17.807079]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   17.807089]  ? percpu_counter_add_batch+0xd9/0x210
[   17.807094]  ? debug_smp_processor_id+0x20/0x30
[   17.807105]  ? __this_cpu_preempt_check+0x21/0x30
[   17.807112]  ? lock_is_held_type+0xef/0x150
[   17.807124]  move_vma+0x689/0x1a60
[   17.807136]  ? __pfx_move_vma+0x10/0x10
[   17.807145]  ? cap_mmap_addr+0x58/0x140
[   17.807155]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   17.807165]  ? security_mmap_addr+0x63/0x1b0
[   17.807174]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   17.807183]  ? __get_unmapped_area+0x1a4/0x440
[   17.807195]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   17.807204]  ? vrm_set_new_addr+0x21d/0x2b0
[   17.807214]  __do_sys_mremap+0xd3e/0x1600
[   17.807224]  ? __pfx___do_sys_mremap+0x10/0x10
[   17.807234]  ? __this_cpu_preempt_check+0x21/0x30
[   17.807248]  ? __this_cpu_preempt_check+0x21/0x30
[   17.807266]  __x64_sys_mremap+0xc7/0x150
[   17.807273]  ? syscall_trace_enter+0x14d/0x280
[   17.807285]  x64_sys_call+0x1933/0x2150
[   17.807292]  do_syscall_64+0x6d/0x2e0
[   17.807303]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   17.807310] RIP: 0033:0x7fda4043ee5d
[   17.807317] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   17.807324] RSP: 002b:00007fff9a3965c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   17.807332] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fda4043ee5d
[   17.807336] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   17.807340] RBP: 00007fff9a3965d0 R08: 000000002038d000 R09: 0000000000000001
[   17.807343] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff9a3966e8
[   17.807347] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fda407e0000
[   17.807360]  </TASK>
[   18.812185] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   18.812646] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 762, name: repro
[   18.813032] preempt_count: 1, expected: 0
[   18.813239] RCU nest depth: 1, expected: 0
[   18.813449] 4 locks held by repro/762:
[   18.813649]  #0: ffff88800d46f560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   18.814162]  #1: ffff888013ea6c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   18.814643]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   18.815091]  #3: ffff888028491078 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   18.815586] Preemption disabled at:
[   18.815588] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   18.816092] CPU: 1 UID: 0 PID: 762 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   18.816103] Tainted: [W]=WARN
[   18.816105] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   18.816110] Call Trace:
[   18.816112]  <TASK>
[   18.816115]  dump_stack_lvl+0x121/0x150
[   18.816128]  dump_stack+0x19/0x20
[   18.816137]  __might_resched+0x37b/0x5a0
[   18.816148]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.816163]  __might_sleep+0xa3/0x170
[   18.816173]  ? vm_normal_folio+0x8c/0x170
[   18.816184]  __relocate_anon_folios+0x7bd/0x11a0
[   18.816199]  ? __pfx___relocate_anon_folios+0x10/0x10
[   18.816211]  ? __this_cpu_preempt_check+0x21/0x30
[   18.816219]  ? lock_set_class+0x17a/0x260
[   18.816235]  copy_vma_and_data+0x47e/0x1480
[   18.816247]  ? percpu_counter_add_batch+0xd9/0x210
[   18.816260]  ? __pfx_copy_vma_and_data+0x10/0x10
[   18.816268]  ? vms_complete_munmap_vmas+0x525/0x810
[   18.816283]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   18.816291]  ? __this_cpu_preempt_check+0x21/0x30
[   18.816302]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.816312]  ? mtree_range_walk+0x728/0xb70
[   18.816325]  ? __lock_acquire+0x412/0x22a0
[   18.816335]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   18.816346]  ? percpu_counter_add_batch+0xd9/0x210
[   18.816352]  ? debug_smp_processor_id+0x20/0x30
[   18.816363]  ? __this_cpu_preempt_check+0x21/0x30
[   18.816370]  ? lock_is_held_type+0xef/0x150
[   18.816383]  move_vma+0x689/0x1a60
[   18.816395]  ? __pfx_move_vma+0x10/0x10
[   18.816404]  ? cap_mmap_addr+0x58/0x140
[   18.816414]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.816424]  ? security_mmap_addr+0x63/0x1b0
[   18.816433]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.816443]  ? __get_unmapped_area+0x1a4/0x440
[   18.816455]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.816465]  ? vrm_set_new_addr+0x21d/0x2b0
[   18.816475]  __do_sys_mremap+0xd3e/0x1600
[   18.816486]  ? __pfx___do_sys_mremap+0x10/0x10
[   18.816496]  ? __this_cpu_preempt_check+0x21/0x30
[   18.816511]  ? __this_cpu_preempt_check+0x21/0x30
[   18.816529]  __x64_sys_mremap+0xc7/0x150
[   18.816537]  ? syscall_trace_enter+0x14d/0x280
[   18.816547]  x64_sys_call+0x1933/0x2150
[   18.816555]  do_syscall_64+0x6d/0x2e0
[   18.816566]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   18.816573] RIP: 0033:0x7f2a3a83ee5d
[   18.816581] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   18.816587] RSP: 002b:00007ffda6a740d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   18.816603] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2a3a83ee5d
[   18.816607] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   18.816611] RBP: 00007ffda6a740e0 R08: 000000002038d000 R09: 0000000000000001
[   18.816615] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffda6a741f8
[   18.816619] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2a3aaa7000
[   18.816633]  </TASK>
[   19.837562] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   19.838056] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 797, name: repro
[   19.838424] preempt_count: 1, expected: 0
[   19.838626] RCU nest depth: 1, expected: 0
[   19.838835] 4 locks held by repro/797:
[   19.839025]  #0: ffff888017656060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   19.839466]  #1: ffff88801fffb8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   19.839926]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   19.840356]  #3: ffff8880284a5678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   19.840839] Preemption disabled at:
[   19.840842] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   19.841325] CPU: 0 UID: 0 PID: 797 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   19.841336] Tainted: [W]=WARN
[   19.841338] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   19.841343] Call Trace:
[   19.841346]  <TASK>
[   19.841349]  dump_stack_lvl+0x121/0x150
[   19.841362]  dump_stack+0x19/0x20
[   19.841371]  __might_resched+0x37b/0x5a0
[   19.841382]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.841396]  __might_sleep+0xa3/0x170
[   19.841406]  ? vm_normal_folio+0x8c/0x170
[   19.841417]  __relocate_anon_folios+0x7bd/0x11a0
[   19.841432]  ? __pfx___relocate_anon_folios+0x10/0x10
[   19.841443]  ? __this_cpu_preempt_check+0x21/0x30
[   19.841452]  ? lock_set_class+0x17a/0x260
[   19.841467]  copy_vma_and_data+0x47e/0x1480
[   19.841479]  ? percpu_counter_add_batch+0xd9/0x210
[   19.841492]  ? __pfx_copy_vma_and_data+0x10/0x10
[   19.841499]  ? vms_complete_munmap_vmas+0x525/0x810
[   19.841514]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   19.841521]  ? __this_cpu_preempt_check+0x21/0x30
[   19.841533]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.841542]  ? mtree_range_walk+0x728/0xb70
[   19.841554]  ? __lock_acquire+0x412/0x22a0
[   19.841565]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   19.841574]  ? percpu_counter_add_batch+0xd9/0x210
[   19.841580]  ? debug_smp_processor_id+0x20/0x30
[   19.841592]  ? __this_cpu_preempt_check+0x21/0x30
[   19.841598]  ? lock_is_held_type+0xef/0x150
[   19.841611]  move_vma+0x689/0x1a60
[   19.841623]  ? __pfx_move_vma+0x10/0x10
[   19.841632]  ? cap_mmap_addr+0x58/0x140
[   19.841641]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.841651]  ? security_mmap_addr+0x63/0x1b0
[   19.841660]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.841670]  ? __get_unmapped_area+0x1a4/0x440
[   19.841685]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.841695]  ? vrm_set_new_addr+0x21d/0x2b0
[   19.841705]  __do_sys_mremap+0xd3e/0x1600
[   19.841715]  ? __pfx___do_sys_mremap+0x10/0x10
[   19.841725]  ? __this_cpu_preempt_check+0x21/0x30
[   19.841739]  ? __this_cpu_preempt_check+0x21/0x30
[   19.841757]  __x64_sys_mremap+0xc7/0x150
[   19.841765]  ? syscall_trace_enter+0x14d/0x280
[   19.841775]  x64_sys_call+0x1933/0x2150
[   19.841783]  do_syscall_64+0x6d/0x2e0
[   19.841795]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   19.841801] RIP: 0033:0x7f138f83ee5d
[   19.841809] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   19.841815] RSP: 002b:00007ffdf42f4758 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   19.841822] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f138f83ee5d
[   19.841826] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   19.841830] RBP: 00007ffdf42f4760 R08: 000000002038d000 R09: 0000000000000001
[   19.841833] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdf42f4878
[   19.841837] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f138fbd7000
[   19.841851]  </TASK>
[   20.849635] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   20.850139] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 831, name: repro
[   20.850522] preempt_count: 1, expected: 0
[   20.850734] RCU nest depth: 1, expected: 0
[   20.850955] 4 locks held by repro/831:
[   20.851155]  #0: ffff8880188bb660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   20.851618]  #1: ffff888028112078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   20.852100]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   20.852554]  #3: ffff88801286c918 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   20.853061] Preemption disabled at:
[   20.853064] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   20.853573] CPU: 0 UID: 0 PID: 831 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   20.853584] Tainted: [W]=WARN
[   20.853587] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   20.853592] Call Trace:
[   20.853594]  <TASK>
[   20.853598]  dump_stack_lvl+0x121/0x150
[   20.853613]  dump_stack+0x19/0x20
[   20.853622]  __might_resched+0x37b/0x5a0
[   20.853633]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.853649]  __might_sleep+0xa3/0x170
[   20.853659]  ? vm_normal_folio+0x8c/0x170
[   20.853672]  __relocate_anon_folios+0x7bd/0x11a0
[   20.853691]  ? __pfx___relocate_anon_folios+0x10/0x10
[   20.853702]  ? __this_cpu_preempt_check+0x21/0x30
[   20.853711]  ? lock_set_class+0x17a/0x260
[   20.853727]  copy_vma_and_data+0x47e/0x1480
[   20.853740]  ? percpu_counter_add_batch+0xd9/0x210
[   20.853753]  ? __pfx_copy_vma_and_data+0x10/0x10
[   20.853761]  ? vms_complete_munmap_vmas+0x525/0x810
[   20.853777]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   20.853784]  ? __this_cpu_preempt_check+0x21/0x30
[   20.853797]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.853807]  ? mtree_range_walk+0x728/0xb70
[   20.853820]  ? __lock_acquire+0x412/0x22a0
[   20.853831]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   20.853841]  ? percpu_counter_add_batch+0xd9/0x210
[   20.853847]  ? debug_smp_processor_id+0x20/0x30
[   20.853859]  ? __this_cpu_preempt_check+0x21/0x30
[   20.853870]  ? lock_is_held_type+0xef/0x150
[   20.853886]  move_vma+0x689/0x1a60
[   20.853902]  ? __pfx_move_vma+0x10/0x10
[   20.853914]  ? cap_mmap_addr+0x58/0x140
[   20.853925]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.853937]  ? security_mmap_addr+0x63/0x1b0
[   20.853949]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.853961]  ? __get_unmapped_area+0x1a4/0x440
[   20.853977]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.853989]  ? vrm_set_new_addr+0x21d/0x2b0
[   20.854002]  __do_sys_mremap+0xd3e/0x1600
[   20.854015]  ? __pfx___do_sys_mremap+0x10/0x10
[   20.854028]  ? __this_cpu_preempt_check+0x21/0x30
[   20.854047]  ? __this_cpu_preempt_check+0x21/0x30
[   20.854072]  __x64_sys_mremap+0xc7/0x150
[   20.854082]  ? syscall_trace_enter+0x14d/0x280
[   20.854094]  x64_sys_call+0x1933/0x2150
[   20.854102]  do_syscall_64+0x6d/0x2e0
[   20.854116]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   20.854125] RIP: 0033:0x7f61a0a3ee5d
[   20.854133] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   20.854140] RSP: 002b:00007ffc7a6cc288 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   20.854147] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f61a0a3ee5d
[   20.854152] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   20.854157] RBP: 00007ffc7a6cc290 R08: 000000002038d000 R09: 0000000000000001
[   20.854161] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc7a6cc3a8
[   20.854166] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f61a0d13000
[   20.854184]  </TASK>
[   21.853420] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   21.853909] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 865, name: repro
[   21.854279] preempt_count: 1, expected: 0
[   21.854478] RCU nest depth: 1, expected: 0
[   21.854684] 4 locks held by repro/865:
[   21.854889]  #0: ffff8880100fcb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   21.855333]  #1: ffff8880281bc188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   21.855799]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   21.856237]  #3: ffff8880281b3138 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   21.856725] Preemption disabled at:
[   21.856728] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   21.857217] CPU: 0 UID: 0 PID: 865 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   21.857228] Tainted: [W]=WARN
[   21.857230] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   21.857235] Call Trace:
[   21.857237]  <TASK>
[   21.857241]  dump_stack_lvl+0x121/0x150
[   21.857254]  dump_stack+0x19/0x20
[   21.857263]  __might_resched+0x37b/0x5a0
[   21.857274]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.857289]  __might_sleep+0xa3/0x170
[   21.857298]  ? vm_normal_folio+0x8c/0x170
[   21.857309]  __relocate_anon_folios+0x7bd/0x11a0
[   21.857324]  ? __pfx___relocate_anon_folios+0x10/0x10
[   21.857336]  ? __this_cpu_preempt_check+0x21/0x30
[   21.857344]  ? lock_set_class+0x17a/0x260
[   21.857359]  copy_vma_and_data+0x47e/0x1480
[   21.857371]  ? percpu_counter_add_batch+0xd9/0x210
[   21.857383]  ? __pfx_copy_vma_and_data+0x10/0x10
[   21.857390]  ? vms_complete_munmap_vmas+0x525/0x810
[   21.857406]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   21.857413]  ? __this_cpu_preempt_check+0x21/0x30
[   21.857424]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.857434]  ? mtree_range_walk+0x728/0xb70
[   21.857446]  ? __lock_acquire+0x412/0x22a0
[   21.857457]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   21.857466]  ? percpu_counter_add_batch+0xd9/0x210
[   21.857472]  ? debug_smp_processor_id+0x20/0x30
[   21.857483]  ? __this_cpu_preempt_check+0x21/0x30
[   21.857490]  ? lock_is_held_type+0xef/0x150
[   21.857503]  move_vma+0x689/0x1a60
[   21.857515]  ? __pfx_move_vma+0x10/0x10
[   21.857524]  ? cap_mmap_addr+0x58/0x140
[   21.857533]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.857543]  ? security_mmap_addr+0x63/0x1b0
[   21.857552]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.857562]  ? __get_unmapped_area+0x1a4/0x440
[   21.857574]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.857584]  ? vrm_set_new_addr+0x21d/0x2b0
[   21.857594]  __do_sys_mremap+0xd3e/0x1600
[   21.857604]  ? __pfx___do_sys_mremap+0x10/0x10
[   21.857615]  ? __this_cpu_preempt_check+0x21/0x30
[   21.857628]  ? __this_cpu_preempt_check+0x21/0x30
[   21.857646]  __x64_sys_mremap+0xc7/0x150
[   21.857654]  ? syscall_trace_enter+0x14d/0x280
[   21.857664]  x64_sys_call+0x1933/0x2150
[   21.857672]  do_syscall_64+0x6d/0x2e0
[   21.857686]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   21.857692] RIP: 0033:0x7fbb41a3ee5d
[   21.857700] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   21.857706] RSP: 002b:00007fff3e508268 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   21.857712] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fbb41a3ee5d
[   21.857716] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   21.857720] RBP: 00007fff3e508270 R08: 000000002038d000 R09: 0000000000000001
[   21.857724] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff3e508388
[   21.857728] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fbb41d43000
[   21.857741]  </TASK>
[   22.878461] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   22.878990] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 899, name: repro
[   22.879388] preempt_count: 1, expected: 0
[   22.879603] RCU nest depth: 1, expected: 0
[   22.879846] 4 locks held by repro/899:
[   22.880050]  #0: ffff8880180755e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   22.880528]  #1: ffff88802c9193a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   22.881034]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   22.881500]  #3: ffff88802c8f2f18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   22.882219] Preemption disabled at:
[   22.882222] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   22.882749] CPU: 0 UID: 0 PID: 899 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   22.882761] Tainted: [W]=WARN
[   22.882763] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   22.882769] Call Trace:
[   22.882771]  <TASK>
[   22.882774]  dump_stack_lvl+0x121/0x150
[   22.882792]  dump_stack+0x19/0x20
[   22.882801]  __might_resched+0x37b/0x5a0
[   22.882813]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.882829]  __might_sleep+0xa3/0x170
[   22.882839]  ? vm_normal_folio+0x8c/0x170
[   22.882851]  __relocate_anon_folios+0x7bd/0x11a0
[   22.882867]  ? __pfx___relocate_anon_folios+0x10/0x10
[   22.882879]  ? __this_cpu_preempt_check+0x21/0x30
[   22.882887]  ? lock_set_class+0x17a/0x260
[   22.882903]  copy_vma_and_data+0x47e/0x1480
[   22.882916]  ? percpu_counter_add_batch+0xd9/0x210
[   22.882929]  ? __pfx_copy_vma_and_data+0x10/0x10
[   22.882936]  ? vms_complete_munmap_vmas+0x525/0x810
[   22.882952]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   22.882960]  ? __this_cpu_preempt_check+0x21/0x30
[   22.882972]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.882982]  ? mtree_range_walk+0x728/0xb70
[   22.882995]  ? __lock_acquire+0x412/0x22a0
[   22.883006]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   22.883017]  ? percpu_counter_add_batch+0xd9/0x210
[   22.883023]  ? debug_smp_processor_id+0x20/0x30
[   22.883035]  ? __this_cpu_preempt_check+0x21/0x30
[   22.883042]  ? lock_is_held_type+0xef/0x150
[   22.883056]  move_vma+0x689/0x1a60
[   22.883069]  ? __pfx_move_vma+0x10/0x10
[   22.883079]  ? cap_mmap_addr+0x58/0x140
[   22.883087]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.883098]  ? security_mmap_addr+0x63/0x1b0
[   22.883107]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.883118]  ? __get_unmapped_area+0x1a4/0x440
[   22.883131]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.883141]  ? vrm_set_new_addr+0x21d/0x2b0
[   22.883152]  __do_sys_mremap+0xd3e/0x1600
[   22.883163]  ? __pfx___do_sys_mremap+0x10/0x10
[   22.883174]  ? __this_cpu_preempt_check+0x21/0x30
[   22.883190]  ? __this_cpu_preempt_check+0x21/0x30
[   22.883210]  __x64_sys_mremap+0xc7/0x150
[   22.883219]  ? syscall_trace_enter+0x14d/0x280
[   22.883229]  x64_sys_call+0x1933/0x2150
[   22.883236]  do_syscall_64+0x6d/0x2e0
[   22.883248]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   22.883254] RIP: 0033:0x7f0bd983ee5d
[   22.883262] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   22.883268] RSP: 002b:00007ffda9b33e78 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   22.883275] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f0bd983ee5d
[   22.883279] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   22.883283] RBP: 00007ffda9b33e80 R08: 000000002038d000 R09: 0000000000000001
[   22.883288] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffda9b33f98
[   22.883292] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f0bd9bb1000
[   22.883306]  </TASK>
[   23.904335] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   23.904813] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 933, name: repro
[   23.905179] preempt_count: 1, expected: 0
[   23.905380] RCU nest depth: 1, expected: 0
[   23.905582] 4 locks held by repro/933:
[   23.905770]  #0: ffff888012e3c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   23.906241]  #1: ffff8880280a38f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   23.906702]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   23.907132]  #3: ffff88802c848918 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   23.907610] Preemption disabled at:
[   23.907612] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   23.908097] CPU: 0 UID: 0 PID: 933 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   23.908108] Tainted: [W]=WARN
[   23.908111] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.908115] Call Trace:
[   23.908117]  <TASK>
[   23.908121]  dump_stack_lvl+0x121/0x150
[   23.908134]  dump_stack+0x19/0x20
[   23.908143]  __might_resched+0x37b/0x5a0
[   23.908154]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.908168]  __might_sleep+0xa3/0x170
[   23.908178]  ? vm_normal_folio+0x8c/0x170
[   23.908189]  __relocate_anon_folios+0x7bd/0x11a0
[   23.908204]  ? __pfx___relocate_anon_folios+0x10/0x10
[   23.908215]  ? __this_cpu_preempt_check+0x21/0x30
[   23.908223]  ? lock_set_class+0x17a/0x260
[   23.908238]  copy_vma_and_data+0x47e/0x1480
[   23.908250]  ? percpu_counter_add_batch+0xd9/0x210
[   23.908262]  ? __pfx_copy_vma_and_data+0x10/0x10
[   23.908270]  ? vms_complete_munmap_vmas+0x525/0x810
[   23.908285]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   23.908292]  ? __this_cpu_preempt_check+0x21/0x30
[   23.908303]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.908313]  ? mtree_range_walk+0x728/0xb70
[   23.908325]  ? __lock_acquire+0x412/0x22a0
[   23.908335]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   23.908345]  ? percpu_counter_add_batch+0xd9/0x210
[   23.908351]  ? debug_smp_processor_id+0x20/0x30
[   23.908362]  ? __this_cpu_preempt_check+0x21/0x30
[   23.908369]  ? lock_is_held_type+0xef/0x150
[   23.908382]  move_vma+0x689/0x1a60
[   23.908394]  ? __pfx_move_vma+0x10/0x10
[   23.908402]  ? cap_mmap_addr+0x58/0x140
[   23.908411]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.908421]  ? security_mmap_addr+0x63/0x1b0
[   23.908430]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.908440]  ? __get_unmapped_area+0x1a4/0x440
[   23.908452]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.908462]  ? vrm_set_new_addr+0x21d/0x2b0
[   23.908471]  __do_sys_mremap+0xd3e/0x1600
[   23.908482]  ? __pfx___do_sys_mremap+0x10/0x10
[   23.908492]  ? __this_cpu_preempt_check+0x21/0x30
[   23.908506]  ? __this_cpu_preempt_check+0x21/0x30
[   23.908524]  __x64_sys_mremap+0xc7/0x150
[   23.908532]  ? syscall_trace_enter+0x14d/0x280
[   23.908542]  x64_sys_call+0x1933/0x2150
[   23.908550]  do_syscall_64+0x6d/0x2e0
[   23.908560]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   23.908567] RIP: 0033:0x7efeb063ee5d
[   23.908574] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   23.908580] RSP: 002b:00007ffe3aee4d38 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   23.908587] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007efeb063ee5d
[   23.908591] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   23.908595] RBP: 00007ffe3aee4d40 R08: 000000002038d000 R09: 0000000000000001
[   23.908599] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe3aee4e58
[   23.908602] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007efeb088e000
[   23.908616]  </TASK>
[   24.917103] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   24.917562] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 967, name: repro
[   24.917996] preempt_count: 1, expected: 0
[   24.918202] RCU nest depth: 1, expected: 0
[   24.918410] 4 locks held by repro/967:
[   24.918604]  #0: ffff888014922160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   24.919082]  #1: ffff888023b22c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   24.919550]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   24.919995]  #3: ffff88802cb0d258 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   24.920518] Preemption disabled at:
[   24.920521] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   24.921016] CPU: 0 UID: 0 PID: 967 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   24.921027] Tainted: [W]=WARN
[   24.921030] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.921035] Call Trace:
[   24.921037]  <TASK>
[   24.921040]  dump_stack_lvl+0x121/0x150
[   24.921054]  dump_stack+0x19/0x20
[   24.921062]  __might_resched+0x37b/0x5a0
[   24.921074]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.921089]  __might_sleep+0xa3/0x170
[   24.921099]  ? vm_normal_folio+0x8c/0x170
[   24.921111]  __relocate_anon_folios+0x7bd/0x11a0
[   24.921126]  ? __pfx___relocate_anon_folios+0x10/0x10
[   24.921137]  ? __this_cpu_preempt_check+0x21/0x30
[   24.921146]  ? lock_set_class+0x17a/0x260
[   24.921161]  copy_vma_and_data+0x47e/0x1480
[   24.921173]  ? percpu_counter_add_batch+0xd9/0x210
[   24.921186]  ? __pfx_copy_vma_and_data+0x10/0x10
[   24.921194]  ? vms_complete_munmap_vmas+0x525/0x810
[   24.921209]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   24.921217]  ? __this_cpu_preempt_check+0x21/0x30
[   24.921228]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.921238]  ? mtree_range_walk+0x728/0xb70
[   24.921251]  ? __lock_acquire+0x412/0x22a0
[   24.921261]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.921271]  ? percpu_counter_add_batch+0xd9/0x210
[   24.921277]  ? debug_smp_processor_id+0x20/0x30
[   24.921289]  ? __this_cpu_preempt_check+0x21/0x30
[   24.921296]  ? lock_is_held_type+0xef/0x150
[   24.921309]  move_vma+0x689/0x1a60
[   24.921321]  ? __pfx_move_vma+0x10/0x10
[   24.921330]  ? cap_mmap_addr+0x58/0x140
[   24.921340]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.921350]  ? security_mmap_addr+0x63/0x1b0
[   24.921359]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.921369]  ? __get_unmapped_area+0x1a4/0x440
[   24.921382]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.921392]  ? vrm_set_new_addr+0x21d/0x2b0
[   24.921402]  __do_sys_mremap+0xd3e/0x1600
[   24.921412]  ? __pfx___do_sys_mremap+0x10/0x10
[   24.921423]  ? __this_cpu_preempt_check+0x21/0x30
[   24.921438]  ? __this_cpu_preempt_check+0x21/0x30
[   24.921456]  __x64_sys_mremap+0xc7/0x150
[   24.921464]  ? syscall_trace_enter+0x14d/0x280
[   24.921475]  x64_sys_call+0x1933/0x2150
[   24.921482]  do_syscall_64+0x6d/0x2e0
[   24.921494]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.921501] RIP: 0033:0x7fb27763ee5d
[   24.921508] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   24.921515] RSP: 002b:00007ffe12aa9eb8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   24.921521] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fb27763ee5d
[   24.921525] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   24.921529] RBP: 00007ffe12aa9ec0 R08: 000000002038d000 R09: 0000000000000001
[   24.921533] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe12aa9fd8
[   24.921537] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fb277961000
[   24.921550]  </TASK>
[   25.914420] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   25.914873] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1000, name: repro
[   25.915250] preempt_count: 1, expected: 0
[   25.915450] RCU nest depth: 1, expected: 0
[   25.915656] 4 locks held by repro/1000:
[   25.915850]  #0: ffff888013f5eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   25.916296]  #1: ffff88802cd10078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   25.916763]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   25.917200]  #3: ffff88802cd17f78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   25.917717] Preemption disabled at:
[   25.917719] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   25.918247] CPU: 0 UID: 0 PID: 1000 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   25.918258] Tainted: [W]=WARN
[   25.918261] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.918266] Call Trace:
[   25.918268]  <TASK>
[   25.918272]  dump_stack_lvl+0x121/0x150
[   25.918286]  dump_stack+0x19/0x20
[   25.918295]  __might_resched+0x37b/0x5a0
[   25.918306]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.918321]  __might_sleep+0xa3/0x170
[   25.918330]  ? vm_normal_folio+0x8c/0x170
[   25.918342]  __relocate_anon_folios+0x7bd/0x11a0
[   25.918357]  ? __pfx___relocate_anon_folios+0x10/0x10
[   25.918369]  ? __this_cpu_preempt_check+0x21/0x30
[   25.918377]  ? lock_set_class+0x17a/0x260
[   25.918393]  copy_vma_and_data+0x47e/0x1480
[   25.918405]  ? percpu_counter_add_batch+0xd9/0x210
[   25.918418]  ? __pfx_copy_vma_and_data+0x10/0x10
[   25.918426]  ? vms_complete_munmap_vmas+0x525/0x810
[   25.918441]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   25.918449]  ? __this_cpu_preempt_check+0x21/0x30
[   25.918460]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.918471]  ? mtree_range_walk+0x728/0xb70
[   25.918483]  ? __lock_acquire+0x412/0x22a0
[   25.918494]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.918504]  ? percpu_counter_add_batch+0xd9/0x210
[   25.918510]  ? debug_smp_processor_id+0x20/0x30
[   25.918521]  ? __this_cpu_preempt_check+0x21/0x30
[   25.918528]  ? lock_is_held_type+0xef/0x150
[   25.918542]  move_vma+0x689/0x1a60
[   25.918554]  ? __pfx_move_vma+0x10/0x10
[   25.918564]  ? cap_mmap_addr+0x58/0x140
[   25.918573]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.918583]  ? security_mmap_addr+0x63/0x1b0
[   25.918593]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.918603]  ? __get_unmapped_area+0x1a4/0x440
[   25.918615]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.918625]  ? vrm_set_new_addr+0x21d/0x2b0
[   25.918635]  __do_sys_mremap+0xd3e/0x1600
[   25.918646]  ? __pfx___do_sys_mremap+0x10/0x10
[   25.918657]  ? __this_cpu_preempt_check+0x21/0x30
[   25.918671]  ? __this_cpu_preempt_check+0x21/0x30
[   25.918693]  __x64_sys_mremap+0xc7/0x150
[   25.918702]  ? syscall_trace_enter+0x14d/0x280
[   25.918712]  x64_sys_call+0x1933/0x2150
[   25.918720]  do_syscall_64+0x6d/0x2e0
[   25.918731]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.918738] RIP: 0033:0x7f1784e3ee5d
[   25.918746] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   25.918753] RSP: 002b:00007ffe8ce58fd8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   25.918759] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f1784e3ee5d
[   25.918764] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   25.918768] RBP: 00007ffe8ce58fe0 R08: 000000002038d000 R09: 0000000000000001
[   25.918772] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe8ce590f8
[   25.918776] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f1785086000
[   25.918790]  </TASK>
[   26.936461] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   26.936922] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1035, name: repro
[   26.937298] preempt_count: 1, expected: 0
[   26.937500] RCU nest depth: 1, expected: 0
[   26.937707] 4 locks held by repro/1035:
[   26.937926]  #0: ffff8880149b7560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   26.938362]  #1: ffff888028241e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   26.938834]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   26.939267]  #3: ffff88802c9a01f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   26.939749] Preemption disabled at:
[   26.939752] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   26.940233] CPU: 0 UID: 0 PID: 1035 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   26.940244] Tainted: [W]=WARN
[   26.940246] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.940251] Call Trace:
[   26.940253]  <TASK>
[   26.940256]  dump_stack_lvl+0x121/0x150
[   26.940269]  dump_stack+0x19/0x20
[   26.940277]  __might_resched+0x37b/0x5a0
[   26.940288]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.940302]  __might_sleep+0xa3/0x170
[   26.940311]  ? vm_normal_folio+0x8c/0x170
[   26.940322]  __relocate_anon_folios+0x7bd/0x11a0
[   26.940337]  ? __pfx___relocate_anon_folios+0x10/0x10
[   26.940348]  ? __this_cpu_preempt_check+0x21/0x30
[   26.940356]  ? lock_set_class+0x17a/0x260
[   26.940370]  copy_vma_and_data+0x47e/0x1480
[   26.940383]  ? percpu_counter_add_batch+0xd9/0x210
[   26.940394]  ? __pfx_copy_vma_and_data+0x10/0x10
[   26.940401]  ? vms_complete_munmap_vmas+0x525/0x810
[   26.940416]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   26.940423]  ? __this_cpu_preempt_check+0x21/0x30
[   26.940434]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.940444]  ? mtree_range_walk+0x728/0xb70
[   26.940456]  ? __lock_acquire+0x412/0x22a0
[   26.940467]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.940476]  ? percpu_counter_add_batch+0xd9/0x210
[   26.940482]  ? debug_smp_processor_id+0x20/0x30
[   26.940493]  ? __this_cpu_preempt_check+0x21/0x30
[   26.940500]  ? lock_is_held_type+0xef/0x150
[   26.940513]  move_vma+0x689/0x1a60
[   26.940525]  ? __pfx_move_vma+0x10/0x10
[   26.940534]  ? cap_mmap_addr+0x58/0x140
[   26.940549]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.940559]  ? security_mmap_addr+0x63/0x1b0
[   26.940568]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.940578]  ? __get_unmapped_area+0x1a4/0x440
[   26.940591]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.940601]  ? vrm_set_new_addr+0x21d/0x2b0
[   26.940611]  __do_sys_mremap+0xd3e/0x1600
[   26.940621]  ? __pfx___do_sys_mremap+0x10/0x10
[   26.940640]  ? __this_cpu_preempt_check+0x21/0x30
[   26.940658]  __x64_sys_mremap+0xc7/0x150
[   26.940666]  ? syscall_trace_enter+0x14d/0x280
[   26.940679]  x64_sys_call+0x1933/0x2150
[   26.940687]  do_syscall_64+0x6d/0x2e0
[   26.940698]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.940704] RIP: 0033:0x7f9732c3ee5d
[   26.940712] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   26.940718] RSP: 002b:00007ffd2bffec78 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   26.940725] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9732c3ee5d
[   26.940729] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   26.940733] RBP: 00007ffd2bffec80 R08: 000000002038d000 R09: 0000000000000001
[   26.940736] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd2bffed98
[   26.940740] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f973301f000
[   26.940754]  </TASK>
[   27.943833] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   27.944326] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1069, name: repro
[   27.944723] preempt_count: 1, expected: 0
[   27.944937] RCU nest depth: 1, expected: 0
[   27.945152] 4 locks held by repro/1069:
[   27.945343]  #0: ffff888016e4e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   27.945832]  #1: ffff888028054d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   27.946331]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   27.946780]  #3: ffff88801eedbe58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   27.947288] Preemption disabled at:
[   27.947291] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   27.947805] CPU: 1 UID: 0 PID: 1069 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   27.947817] Tainted: [W]=WARN
[   27.947820] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.947838] Call Trace:
[   27.947841]  <TASK>
[   27.947844]  dump_stack_lvl+0x121/0x150
[   27.947859]  dump_stack+0x19/0x20
[   27.947868]  __might_resched+0x37b/0x5a0
[   27.947880]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.947895]  __might_sleep+0xa3/0x170
[   27.947905]  ? vm_normal_folio+0x8c/0x170
[   27.947917]  __relocate_anon_folios+0x7bd/0x11a0
[   27.947933]  ? __pfx___relocate_anon_folios+0x10/0x10
[   27.947945]  ? __this_cpu_preempt_check+0x21/0x30
[   27.947953]  ? lock_set_class+0x17a/0x260
[   27.947969]  copy_vma_and_data+0x47e/0x1480
[   27.947982]  ? percpu_counter_add_batch+0xd9/0x210
[   27.947995]  ? __pfx_copy_vma_and_data+0x10/0x10
[   27.948003]  ? vms_complete_munmap_vmas+0x525/0x810
[   27.948019]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   27.948026]  ? __this_cpu_preempt_check+0x21/0x30
[   27.948038]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.948048]  ? mtree_range_walk+0x728/0xb70
[   27.948061]  ? __lock_acquire+0x412/0x22a0
[   27.948072]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.948082]  ? percpu_counter_add_batch+0xd9/0x210
[   27.948089]  ? debug_smp_processor_id+0x20/0x30
[   27.948100]  ? __this_cpu_preempt_check+0x21/0x30
[   27.948107]  ? lock_is_held_type+0xef/0x150
[   27.948121]  move_vma+0x689/0x1a60
[   27.948134]  ? __pfx_move_vma+0x10/0x10
[   27.948143]  ? cap_mmap_addr+0x58/0x140
[   27.948153]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.948163]  ? security_mmap_addr+0x63/0x1b0
[   27.948173]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.948183]  ? __get_unmapped_area+0x1a4/0x440
[   27.948196]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.948206]  ? vrm_set_new_addr+0x21d/0x2b0
[   27.948217]  __do_sys_mremap+0xd3e/0x1600
[   27.948227]  ? __pfx___do_sys_mremap+0x10/0x10
[   27.948238]  ? __this_cpu_preempt_check+0x21/0x30
[   27.948253]  ? __this_cpu_preempt_check+0x21/0x30
[   27.948273]  __x64_sys_mremap+0xc7/0x150
[   27.948281]  ? syscall_trace_enter+0x14d/0x280
[   27.948291]  x64_sys_call+0x1933/0x2150
[   27.948299]  do_syscall_64+0x6d/0x2e0
[   27.948311]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.948318] RIP: 0033:0x7f19ae03ee5d
[   27.948326] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   27.948332] RSP: 002b:00007ffcfeb07438 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   27.948339] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f19ae03ee5d
[   27.948343] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   27.948347] RBP: 00007ffcfeb07440 R08: 000000002038d000 R09: 0000000000000001
[   27.948352] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcfeb07558
[   27.948356] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f19ae2e5000
[   27.948370]  </TASK>
[   28.969561] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   28.970050] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1103, name: repro
[   28.970422] preempt_count: 1, expected: 0
[   28.970623] RCU nest depth: 1, expected: 0
[   28.970831] 4 locks held by repro/1103:
[   28.971024]  #0: ffff888019d22160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   28.971493]  #1: ffff8880284b27e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   28.971954]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   28.972386]  #3: ffff88802847ed98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   28.972869] Preemption disabled at:
[   28.972872] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   28.973358] CPU: 1 UID: 0 PID: 1103 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   28.973369] Tainted: [W]=WARN
[   28.973371] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.973376] Call Trace:
[   28.973379]  <TASK>
[   28.973383]  dump_stack_lvl+0x121/0x150
[   28.973396]  dump_stack+0x19/0x20
[   28.973405]  __might_resched+0x37b/0x5a0
[   28.973416]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.973431]  __might_sleep+0xa3/0x170
[   28.973440]  ? vm_normal_folio+0x8c/0x170
[   28.973452]  __relocate_anon_folios+0x7bd/0x11a0
[   28.973467]  ? __pfx___relocate_anon_folios+0x10/0x10
[   28.973478]  ? __this_cpu_preempt_check+0x21/0x30
[   28.973487]  ? lock_set_class+0x17a/0x260
[   28.973502]  copy_vma_and_data+0x47e/0x1480
[   28.973514]  ? percpu_counter_add_batch+0xd9/0x210
[   28.973526]  ? __pfx_copy_vma_and_data+0x10/0x10
[   28.973534]  ? vms_complete_munmap_vmas+0x525/0x810
[   28.973549]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   28.973556]  ? __this_cpu_preempt_check+0x21/0x30
[   28.973568]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.973579]  ? mtree_range_walk+0x728/0xb70
[   28.973591]  ? __lock_acquire+0x412/0x22a0
[   28.973602]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.973612]  ? percpu_counter_add_batch+0xd9/0x210
[   28.973617]  ? debug_smp_processor_id+0x20/0x30
[   28.973629]  ? __this_cpu_preempt_check+0x21/0x30
[   28.973636]  ? lock_is_held_type+0xef/0x150
[   28.973648]  move_vma+0x689/0x1a60
[   28.973661]  ? __pfx_move_vma+0x10/0x10
[   28.973673]  ? cap_mmap_addr+0x58/0x140
[   28.973682]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.973692]  ? security_mmap_addr+0x63/0x1b0
[   28.973701]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.973711]  ? __get_unmapped_area+0x1a4/0x440
[   28.973723]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.973733]  ? vrm_set_new_addr+0x21d/0x2b0
[   28.973743]  __do_sys_mremap+0xd3e/0x1600
[   28.973753]  ? __pfx___do_sys_mremap+0x10/0x10
[   28.973764]  ? __this_cpu_preempt_check+0x21/0x30
[   28.973778]  ? __this_cpu_preempt_check+0x21/0x30
[   28.973798]  __x64_sys_mremap+0xc7/0x150
[   28.973806]  ? syscall_trace_enter+0x14d/0x280
[   28.973816]  x64_sys_call+0x1933/0x2150
[   28.973824]  do_syscall_64+0x6d/0x2e0
[   28.973835]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.973842] RIP: 0033:0x7fdf7503ee5d
[   28.973851] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   28.973858] RSP: 002b:00007ffe338aa528 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   28.973867] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fdf7503ee5d
[   28.973871] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   28.973876] RBP: 00007ffe338aa530 R08: 000000002038d000 R09: 0000000000000001
[   28.973880] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe338aa648
[   28.973884] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fdf75278000
[   28.973902]  </TASK>
[   29.973410] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   29.973852] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1137, name: repro
[   29.974553] preempt_count: 1, expected: 0
[   29.974758] RCU nest depth: 1, expected: 0
[   29.974959] 4 locks held by repro/1137:
[   29.975151]  #0: ffff888017653660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   29.975589]  #1: ffff88801202f7e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   29.976044]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   29.976472]  #3: ffff88802cd507f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   29.976947] Preemption disabled at:
[   29.976950] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   29.977428] CPU: 1 UID: 0 PID: 1137 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   29.977440] Tainted: [W]=WARN
[   29.977442] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.977446] Call Trace:
[   29.977449]  <TASK>
[   29.977452]  dump_stack_lvl+0x121/0x150
[   29.977466]  dump_stack+0x19/0x20
[   29.977474]  __might_resched+0x37b/0x5a0
[   29.977485]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.977500]  __might_sleep+0xa3/0x170
[   29.977509]  ? vm_normal_folio+0x8c/0x170
[   29.977521]  __relocate_anon_folios+0x7bd/0x11a0
[   29.977536]  ? __pfx___relocate_anon_folios+0x10/0x10
[   29.977547]  ? __this_cpu_preempt_check+0x21/0x30
[   29.977555]  ? lock_set_class+0x17a/0x260
[   29.977570]  copy_vma_and_data+0x47e/0x1480
[   29.977582]  ? percpu_counter_add_batch+0xd9/0x210
[   29.977595]  ? __pfx_copy_vma_and_data+0x10/0x10
[   29.977602]  ? vms_complete_munmap_vmas+0x525/0x810
[   29.977617]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   29.977624]  ? __this_cpu_preempt_check+0x21/0x30
[   29.977636]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.977646]  ? mtree_range_walk+0x728/0xb70
[   29.977658]  ? __lock_acquire+0x412/0x22a0
[   29.977671]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.977681]  ? percpu_counter_add_batch+0xd9/0x210
[   29.977686]  ? debug_smp_processor_id+0x20/0x30
[   29.977698]  ? __this_cpu_preempt_check+0x21/0x30
[   29.977705]  ? lock_is_held_type+0xef/0x150
[   29.977717]  move_vma+0x689/0x1a60
[   29.977730]  ? __pfx_move_vma+0x10/0x10
[   29.977739]  ? cap_mmap_addr+0x58/0x140
[   29.977748]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.977757]  ? security_mmap_addr+0x63/0x1b0
[   29.977767]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.977776]  ? __get_unmapped_area+0x1a4/0x440
[   29.977789]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.977799]  ? vrm_set_new_addr+0x21d/0x2b0
[   29.977809]  __do_sys_mremap+0xd3e/0x1600
[   29.977819]  ? __pfx___do_sys_mremap+0x10/0x10
[   29.977830]  ? __this_cpu_preempt_check+0x21/0x30
[   29.977844]  ? __this_cpu_preempt_check+0x21/0x30
[   29.977865]  __x64_sys_mremap+0xc7/0x150
[   29.977874]  ? syscall_trace_enter+0x14d/0x280
[   29.977886]  x64_sys_call+0x1933/0x2150
[   29.977894]  do_syscall_64+0x6d/0x2e0
[   29.977908]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.977915] RIP: 0033:0x7fd94483ee5d
[   29.977923] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   29.977930] RSP: 002b:00007ffff34a8468 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   29.977937] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fd94483ee5d
[   29.977941] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   29.977945] RBP: 00007ffff34a8470 R08: 000000002038d000 R09: 0000000000000001
[   29.977950] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffff34a8588
[   29.977954] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fd944a54000
[   29.977971]  </TASK>
[   30.990259] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   30.990722] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1171, name: repro
[   30.991096] preempt_count: 1, expected: 0
[   30.991295] RCU nest depth: 1, expected: 0
[   30.991499] 4 locks held by repro/1171:
[   30.991695]  #0: ffff88801a896ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   30.992138]  #1: ffff88801ef51f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   30.992599]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   30.993032]  #3: ffff88802cf23d98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   30.993514] Preemption disabled at:
[   30.993516] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   30.994035] CPU: 0 UID: 0 PID: 1171 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   30.994046] Tainted: [W]=WARN
[   30.994048] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.994053] Call Trace:
[   30.994055]  <TASK>
[   30.994059]  dump_stack_lvl+0x121/0x150
[   30.994073]  dump_stack+0x19/0x20
[   30.994081]  __might_resched+0x37b/0x5a0
[   30.994092]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.994107]  __might_sleep+0xa3/0x170
[   30.994116]  ? vm_normal_folio+0x8c/0x170
[   30.994128]  __relocate_anon_folios+0x7bd/0x11a0
[   30.994143]  ? __pfx___relocate_anon_folios+0x10/0x10
[   30.994154]  ? __this_cpu_preempt_check+0x21/0x30
[   30.994163]  ? lock_set_class+0x17a/0x260
[   30.994178]  copy_vma_and_data+0x47e/0x1480
[   30.994190]  ? percpu_counter_add_batch+0xd9/0x210
[   30.994202]  ? __pfx_copy_vma_and_data+0x10/0x10
[   30.994209]  ? vms_complete_munmap_vmas+0x525/0x810
[   30.994225]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   30.994232]  ? __this_cpu_preempt_check+0x21/0x30
[   30.994243]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.994253]  ? mtree_range_walk+0x728/0xb70
[   30.994265]  ? __lock_acquire+0x412/0x22a0
[   30.994276]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.994285]  ? percpu_counter_add_batch+0xd9/0x210
[   30.994291]  ? debug_smp_processor_id+0x20/0x30
[   30.994303]  ? __this_cpu_preempt_check+0x21/0x30
[   30.994309]  ? lock_is_held_type+0xef/0x150
[   30.994322]  move_vma+0x689/0x1a60
[   30.994334]  ? __pfx_move_vma+0x10/0x10
[   30.994343]  ? cap_mmap_addr+0x58/0x140
[   30.994353]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.994362]  ? security_mmap_addr+0x63/0x1b0
[   30.994372]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.994381]  ? __get_unmapped_area+0x1a4/0x440
[   30.994393]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.994403]  ? vrm_set_new_addr+0x21d/0x2b0
[   30.994413]  __do_sys_mremap+0xd3e/0x1600
[   30.994423]  ? __pfx___do_sys_mremap+0x10/0x10
[   30.994434]  ? __this_cpu_preempt_check+0x21/0x30
[   30.994448]  ? __this_cpu_preempt_check+0x21/0x30
[   30.994466]  __x64_sys_mremap+0xc7/0x150
[   30.994474]  ? syscall_trace_enter+0x14d/0x280
[   30.994484]  x64_sys_call+0x1933/0x2150
[   30.994492]  do_syscall_64+0x6d/0x2e0
[   30.994503]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.994509] RIP: 0033:0x7f72c503ee5d
[   30.994516] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   30.994522] RSP: 002b:00007ffc5a272b98 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   30.994529] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f72c503ee5d
[   30.994533] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   30.994537] RBP: 00007ffc5a272ba0 R08: 000000002038d000 R09: 0000000000000001
[   30.994541] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc5a272cb8
[   30.994544] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f72c52c4000
[   30.994558]  </TASK>
[   32.007265] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   32.007779] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1205, name: repro
[   32.008164] preempt_count: 1, expected: 0
[   32.008371] RCU nest depth: 1, expected: 0
[   32.008581] 4 locks held by repro/1205:
[   32.008806]  #0: ffff8880268a55e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   32.009266]  #1: ffff888028408b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   32.009745]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   32.010227]  #3: ffff888028740318 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   32.010726] Preemption disabled at:
[   32.010729] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   32.011232] CPU: 0 UID: 0 PID: 1205 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   32.011243] Tainted: [W]=WARN
[   32.011245] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.011250] Call Trace:
[   32.011251]  <TASK>
[   32.011255]  dump_stack_lvl+0x121/0x150
[   32.011268]  dump_stack+0x19/0x20
[   32.011277]  __might_resched+0x37b/0x5a0
[   32.011287]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.011302]  __might_sleep+0xa3/0x170
[   32.011312]  ? vm_normal_folio+0x8c/0x170
[   32.011323]  __relocate_anon_folios+0x7bd/0x11a0
[   32.011339]  ? __pfx___relocate_anon_folios+0x10/0x10
[   32.011351]  ? __this_cpu_preempt_check+0x21/0x30
[   32.011359]  ? lock_set_class+0x17a/0x260
[   32.011374]  copy_vma_and_data+0x47e/0x1480
[   32.011387]  ? percpu_counter_add_batch+0xd9/0x210
[   32.011399]  ? __pfx_copy_vma_and_data+0x10/0x10
[   32.011406]  ? vms_complete_munmap_vmas+0x525/0x810
[   32.011422]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   32.011429]  ? __this_cpu_preempt_check+0x21/0x30
[   32.011441]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.011451]  ? mtree_range_walk+0x728/0xb70
[   32.011464]  ? __lock_acquire+0x412/0x22a0
[   32.011474]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.011485]  ? percpu_counter_add_batch+0xd9/0x210
[   32.011491]  ? debug_smp_processor_id+0x20/0x30
[   32.011503]  ? __this_cpu_preempt_check+0x21/0x30
[   32.011510]  ? lock_is_held_type+0xef/0x150
[   32.011523]  move_vma+0x689/0x1a60
[   32.011536]  ? __pfx_move_vma+0x10/0x10
[   32.011545]  ? cap_mmap_addr+0x58/0x140
[   32.011554]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.011564]  ? security_mmap_addr+0x63/0x1b0
[   32.011574]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.011584]  ? __get_unmapped_area+0x1a4/0x440
[   32.011596]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.011607]  ? vrm_set_new_addr+0x21d/0x2b0
[   32.011617]  __do_sys_mremap+0xd3e/0x1600
[   32.011628]  ? __pfx___do_sys_mremap+0x10/0x10
[   32.011639]  ? __this_cpu_preempt_check+0x21/0x30
[   32.011654]  ? __this_cpu_preempt_check+0x21/0x30
[   32.011677]  __x64_sys_mremap+0xc7/0x150
[   32.011685]  ? syscall_trace_enter+0x14d/0x280
[   32.011695]  x64_sys_call+0x1933/0x2150
[   32.011703]  do_syscall_64+0x6d/0x2e0
[   32.011714]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.011721] RIP: 0033:0x7fdfd683ee5d
[   32.011728] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   32.011735] RSP: 002b:00007ffd69f2b238 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   32.011741] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fdfd683ee5d
[   32.011746] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   32.011750] RBP: 00007ffd69f2b240 R08: 000000002038d000 R09: 0000000000000001
[   32.011754] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd69f2b358
[   32.011758] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fdfd6a75000
[   32.011772]  </TASK>
[   33.024084] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   33.024572] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1240, name: repro
[   33.024947] preempt_count: 1, expected: 0
[   33.025145] RCU nest depth: 1, expected: 0
[   33.025349] 4 locks held by repro/1240:
[   33.025544]  #0: ffff888018074b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   33.026090]  #1: ffff88802c904d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   33.026559]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   33.026990]  #3: ffff88802c9914f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   33.027465] Preemption disabled at:
[   33.027467] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   33.027948] CPU: 0 UID: 0 PID: 1240 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   33.027959] Tainted: [W]=WARN
[   33.027962] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.027978] Call Trace:
[   33.027980]  <TASK>
[   33.027983]  dump_stack_lvl+0x121/0x150
[   33.027996]  dump_stack+0x19/0x20
[   33.028005]  __might_resched+0x37b/0x5a0
[   33.028016]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.028031]  __might_sleep+0xa3/0x170
[   33.028040]  ? vm_normal_folio+0x8c/0x170
[   33.028052]  __relocate_anon_folios+0x7bd/0x11a0
[   33.028067]  ? __pfx___relocate_anon_folios+0x10/0x10
[   33.028079]  ? __this_cpu_preempt_check+0x21/0x30
[   33.028087]  ? lock_set_class+0x17a/0x260
[   33.028102]  copy_vma_and_data+0x47e/0x1480
[   33.028114]  ? percpu_counter_add_batch+0xd9/0x210
[   33.028127]  ? __pfx_copy_vma_and_data+0x10/0x10
[   33.028134]  ? vms_complete_munmap_vmas+0x525/0x810
[   33.028150]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   33.028157]  ? __this_cpu_preempt_check+0x21/0x30
[   33.028169]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.028178]  ? mtree_range_walk+0x728/0xb70
[   33.028191]  ? __lock_acquire+0x412/0x22a0
[   33.028201]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.028211]  ? percpu_counter_add_batch+0xd9/0x210
[   33.028217]  ? debug_smp_processor_id+0x20/0x30
[   33.028228]  ? __this_cpu_preempt_check+0x21/0x30
[   33.028235]  ? lock_is_held_type+0xef/0x150
[   33.028247]  move_vma+0x689/0x1a60
[   33.028260]  ? __pfx_move_vma+0x10/0x10
[   33.028269]  ? cap_mmap_addr+0x58/0x140
[   33.028278]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.028287]  ? security_mmap_addr+0x63/0x1b0
[   33.028296]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.028306]  ? __get_unmapped_area+0x1a4/0x440
[   33.028318]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.028328]  ? vrm_set_new_addr+0x21d/0x2b0
[   33.028338]  __do_sys_mremap+0xd3e/0x1600
[   33.028348]  ? __pfx___do_sys_mremap+0x10/0x10
[   33.028367]  ? __this_cpu_preempt_check+0x21/0x30
[   33.028385]  __x64_sys_mremap+0xc7/0x150
[   33.028393]  ? syscall_trace_enter+0x14d/0x280
[   33.028403]  x64_sys_call+0x1933/0x2150
[   33.028411]  do_syscall_64+0x6d/0x2e0
[   33.028421]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.028428] RIP: 0033:0x7f8462a3ee5d
[   33.028435] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   33.028441] RSP: 002b:00007ffe25d753f8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   33.028448] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8462a3ee5d
[   33.028452] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   33.028455] RBP: 00007ffe25d75400 R08: 000000002038d000 R09: 0000000000000001
[   33.028459] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe25d75518
[   33.028463] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8462d65000
[   33.028477]  </TASK>
[   34.045724] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   34.046199] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1274, name: repro
[   34.046568] preempt_count: 1, expected: 0
[   34.046771] RCU nest depth: 1, expected: 0
[   34.046973] 4 locks held by repro/1274:
[   34.047166]  #0: ffff88802680abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   34.047613]  #1: ffff8880287e7a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   34.048075]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   34.048514]  #3: ffff88802c88b0d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   34.048999] Preemption disabled at:
[   34.049001] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   34.049491] CPU: 0 UID: 0 PID: 1274 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   34.049502] Tainted: [W]=WARN
[   34.049504] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.049509] Call Trace:
[   34.049511]  <TASK>
[   34.049514]  dump_stack_lvl+0x121/0x150
[   34.049528]  dump_stack+0x19/0x20
[   34.049536]  __might_resched+0x37b/0x5a0
[   34.049548]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.049562]  __might_sleep+0xa3/0x170
[   34.049571]  ? vm_normal_folio+0x8c/0x170
[   34.049583]  __relocate_anon_folios+0x7bd/0x11a0
[   34.049598]  ? __pfx___relocate_anon_folios+0x10/0x10
[   34.049609]  ? __this_cpu_preempt_check+0x21/0x30
[   34.049617]  ? lock_set_class+0x17a/0x260
[   34.049632]  copy_vma_and_data+0x47e/0x1480
[   34.049644]  ? percpu_counter_add_batch+0xd9/0x210
[   34.049657]  ? __pfx_copy_vma_and_data+0x10/0x10
[   34.049664]  ? vms_complete_munmap_vmas+0x525/0x810
[   34.049685]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   34.049692]  ? __this_cpu_preempt_check+0x21/0x30
[   34.049704]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.049714]  ? mtree_range_walk+0x728/0xb70
[   34.049726]  ? __lock_acquire+0x412/0x22a0
[   34.049736]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.049746]  ? percpu_counter_add_batch+0xd9/0x210
[   34.049752]  ? debug_smp_processor_id+0x20/0x30
[   34.049763]  ? __this_cpu_preempt_check+0x21/0x30
[   34.049770]  ? lock_is_held_type+0xef/0x150
[   34.049783]  move_vma+0x689/0x1a60
[   34.049795]  ? __pfx_move_vma+0x10/0x10
[   34.049804]  ? cap_mmap_addr+0x58/0x140
[   34.049813]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.049823]  ? security_mmap_addr+0x63/0x1b0
[   34.049832]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.049842]  ? __get_unmapped_area+0x1a4/0x440
[   34.049854]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.049866]  ? vrm_set_new_addr+0x21d/0x2b0
[   34.049878]  __do_sys_mremap+0xd3e/0x1600
[   34.049890]  ? __pfx___do_sys_mremap+0x10/0x10
[   34.049903]  ? __this_cpu_preempt_check+0x21/0x30
[   34.049920]  ? __this_cpu_preempt_check+0x21/0x30
[   34.049944]  __x64_sys_mremap+0xc7/0x150
[   34.049953]  ? syscall_trace_enter+0x14d/0x280
[   34.049965]  x64_sys_call+0x1933/0x2150
[   34.049973]  do_syscall_64+0x6d/0x2e0
[   34.049986]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.049994] RIP: 0033:0x7fdfd3a3ee5d
[   34.050001] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   34.050008] RSP: 002b:00007ffe5155b928 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   34.050014] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fdfd3a3ee5d
[   34.050019] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   34.050023] RBP: 00007ffe5155b930 R08: 000000002038d000 R09: 0000000000000001
[   34.050027] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe5155ba48
[   34.050032] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fdfd3c7e000
[   34.050049]  </TASK>
[   35.058966] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   35.059418] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1309, name: repro
[   35.059788] preempt_count: 1, expected: 0
[   35.059984] RCU nest depth: 1, expected: 0
[   35.060188] 4 locks held by repro/1309:
[   35.060382]  #0: ffff88801a51cb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   35.060819]  #1: ffff88802cbcfe48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   35.061274]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   35.061702]  #3: ffff88802cb75d98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   35.062203] Preemption disabled at:
[   35.062206] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   35.062691] CPU: 1 UID: 0 PID: 1309 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   35.062702] Tainted: [W]=WARN
[   35.062705] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.062709] Call Trace:
[   35.062711]  <TASK>
[   35.062715]  dump_stack_lvl+0x121/0x150
[   35.062728]  dump_stack+0x19/0x20
[   35.062737]  __might_resched+0x37b/0x5a0
[   35.062748]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.062762]  __might_sleep+0xa3/0x170
[   35.062771]  ? vm_normal_folio+0x8c/0x170
[   35.062783]  __relocate_anon_folios+0x7bd/0x11a0
[   35.062798]  ? __pfx___relocate_anon_folios+0x10/0x10
[   35.062809]  ? __this_cpu_preempt_check+0x21/0x30
[   35.062817]  ? lock_set_class+0x17a/0x260
[   35.062833]  copy_vma_and_data+0x47e/0x1480
[   35.062845]  ? percpu_counter_add_batch+0xd9/0x210
[   35.062857]  ? __pfx_copy_vma_and_data+0x10/0x10
[   35.062864]  ? vms_complete_munmap_vmas+0x525/0x810
[   35.062880]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   35.062887]  ? __this_cpu_preempt_check+0x21/0x30
[   35.062898]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.062908]  ? mtree_range_walk+0x728/0xb70
[   35.062920]  ? __lock_acquire+0x412/0x22a0
[   35.062930]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.062940]  ? percpu_counter_add_batch+0xd9/0x210
[   35.062946]  ? debug_smp_processor_id+0x20/0x30
[   35.062957]  ? __this_cpu_preempt_check+0x21/0x30
[   35.062964]  ? lock_is_held_type+0xef/0x150
[   35.062977]  move_vma+0x689/0x1a60
[   35.062989]  ? __pfx_move_vma+0x10/0x10
[   35.062998]  ? cap_mmap_addr+0x58/0x140
[   35.063007]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.063016]  ? security_mmap_addr+0x63/0x1b0
[   35.063026]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.063036]  ? __get_unmapped_area+0x1a4/0x440
[   35.063047]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.063057]  ? vrm_set_new_addr+0x21d/0x2b0
[   35.063067]  __do_sys_mremap+0xd3e/0x1600
[   35.063077]  ? __pfx___do_sys_mremap+0x10/0x10
[   35.063088]  ? __this_cpu_preempt_check+0x21/0x30
[   35.063101]  ? __this_cpu_preempt_check+0x21/0x30
[   35.063120]  __x64_sys_mremap+0xc7/0x150
[   35.063142]  ? syscall_trace_enter+0x14d/0x280
[   35.063152]  x64_sys_call+0x1933/0x2150
[   35.063159]  do_syscall_64+0x6d/0x2e0
[   35.063170]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.063176] RIP: 0033:0x7f2ec7a3ee5d
[   35.063184] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   35.063191] RSP: 002b:00007ffc97fbdfc8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   35.063197] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2ec7a3ee5d
[   35.063201] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   35.063205] RBP: 00007ffc97fbdfd0 R08: 000000002038d000 R09: 0000000000000001
[   35.063209] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc97fbe0e8
[   35.063213] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2ec7e11000
[   35.063226]  </TASK>
[   36.081631] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   36.082415] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1343, name: repro
[   36.082801] preempt_count: 1, expected: 0
[   36.083008] RCU nest depth: 1, expected: 0
[   36.083218] 4 locks held by repro/1343:
[   36.083421]  #0: ffff888015e0eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   36.083885]  #1: ffff88802d09f5c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   36.084360]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   36.084809]  #3: ffff88802caa6c18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   36.085306] Preemption disabled at:
[   36.085309] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   36.085815] CPU: 1 UID: 0 PID: 1343 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   36.085826] Tainted: [W]=WARN
[   36.085828] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.085833] Call Trace:
[   36.085835]  <TASK>
[   36.085838]  dump_stack_lvl+0x121/0x150
[   36.085852]  dump_stack+0x19/0x20
[   36.085861]  __might_resched+0x37b/0x5a0
[   36.085877]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.085894]  __might_sleep+0xa3/0x170
[   36.085906]  ? vm_normal_folio+0x8c/0x170
[   36.085920]  __relocate_anon_folios+0x7bd/0x11a0
[   36.085939]  ? __pfx___relocate_anon_folios+0x10/0x10
[   36.085953]  ? __this_cpu_preempt_check+0x21/0x30
[   36.085962]  ? lock_set_class+0x17a/0x260
[   36.085981]  copy_vma_and_data+0x47e/0x1480
[   36.085997]  ? percpu_counter_add_batch+0xd9/0x210
[   36.086011]  ? __pfx_copy_vma_and_data+0x10/0x10
[   36.086020]  ? vms_complete_munmap_vmas+0x525/0x810
[   36.086039]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   36.086048]  ? __this_cpu_preempt_check+0x21/0x30
[   36.086061]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.086073]  ? mtree_range_walk+0x728/0xb70
[   36.086089]  ? __lock_acquire+0x412/0x22a0
[   36.086102]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.086114]  ? percpu_counter_add_batch+0xd9/0x210
[   36.086120]  ? debug_smp_processor_id+0x20/0x30
[   36.086134]  ? __this_cpu_preempt_check+0x21/0x30
[   36.086142]  ? lock_is_held_type+0xef/0x150
[   36.086159]  move_vma+0x689/0x1a60
[   36.086174]  ? __pfx_move_vma+0x10/0x10
[   36.086185]  ? cap_mmap_addr+0x58/0x140
[   36.086196]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.086208]  ? security_mmap_addr+0x63/0x1b0
[   36.086219]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.086231]  ? __get_unmapped_area+0x1a4/0x440
[   36.086246]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.086258]  ? vrm_set_new_addr+0x21d/0x2b0
[   36.086276]  __do_sys_mremap+0xd3e/0x1600
[   36.086289]  ? __pfx___do_sys_mremap+0x10/0x10
[   36.086302]  ? __this_cpu_preempt_check+0x21/0x30
[   36.086320]  ? __this_cpu_preempt_check+0x21/0x30
[   36.086344]  __x64_sys_mremap+0xc7/0x150
[   36.086354]  ? syscall_trace_enter+0x14d/0x280
[   36.086366]  x64_sys_call+0x1933/0x2150
[   36.086374]  do_syscall_64+0x6d/0x2e0
[   36.086388]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.086396] RIP: 0033:0x7f0371c3ee5d
[   36.086404] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   36.086411] RSP: 002b:00007ffe21f4e7d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   36.086419] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f0371c3ee5d
[   36.086423] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   36.086428] RBP: 00007ffe21f4e7e0 R08: 000000002038d000 R09: 0000000000000001
[   36.086432] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe21f4e8f8
[   36.086436] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f0371f26000
[   36.086454]  </TASK>
[   37.102307] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   37.102802] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1377, name: repro
[   37.103194] preempt_count: 1, expected: 0
[   37.103405] RCU nest depth: 1, expected: 0
[   37.103619] 4 locks held by repro/1377:
[   37.103826]  #0: ffff888010c781e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   37.104298]  #1: ffff88801ef50b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   37.104801]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   37.105260]  #3: ffff8880272ce138 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   37.105782] Preemption disabled at:
[   37.105785] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   37.106331] CPU: 0 UID: 0 PID: 1377 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   37.106342] Tainted: [W]=WARN
[   37.106345] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.106349] Call Trace:
[   37.106352]  <TASK>
[   37.106355]  dump_stack_lvl+0x121/0x150
[   37.106369]  dump_stack+0x19/0x20
[   37.106378]  __might_resched+0x37b/0x5a0
[   37.106389]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.106404]  __might_sleep+0xa3/0x170
[   37.106414]  ? vm_normal_folio+0x8c/0x170
[   37.106426]  __relocate_anon_folios+0x7bd/0x11a0
[   37.106442]  ? __pfx___relocate_anon_folios+0x10/0x10
[   37.106453]  ? __this_cpu_preempt_check+0x21/0x30
[   37.106462]  ? lock_set_class+0x17a/0x260
[   37.106477]  copy_vma_and_data+0x47e/0x1480
[   37.106490]  ? percpu_counter_add_batch+0xd9/0x210
[   37.106502]  ? __pfx_copy_vma_and_data+0x10/0x10
[   37.106510]  ? vms_complete_munmap_vmas+0x525/0x810
[   37.106526]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   37.106534]  ? __this_cpu_preempt_check+0x21/0x30
[   37.106545]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.106556]  ? mtree_range_walk+0x728/0xb70
[   37.106569]  ? __lock_acquire+0x412/0x22a0
[   37.106580]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.106590]  ? percpu_counter_add_batch+0xd9/0x210
[   37.106596]  ? debug_smp_processor_id+0x20/0x30
[   37.106608]  ? __this_cpu_preempt_check+0x21/0x30
[   37.106615]  ? lock_is_held_type+0xef/0x150
[   37.106629]  move_vma+0x689/0x1a60
[   37.106641]  ? __pfx_move_vma+0x10/0x10
[   37.106651]  ? cap_mmap_addr+0x58/0x140
[   37.106660]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.106673]  ? security_mmap_addr+0x63/0x1b0
[   37.106683]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.106693]  ? __get_unmapped_area+0x1a4/0x440
[   37.106706]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.106716]  ? vrm_set_new_addr+0x21d/0x2b0
[   37.106734]  __do_sys_mremap+0xd3e/0x1600
[   37.106747]  ? __pfx___do_sys_mremap+0x10/0x10
[   37.106758]  ? __this_cpu_preempt_check+0x21/0x30
[   37.106773]  ? __this_cpu_preempt_check+0x21/0x30
[   37.106792]  __x64_sys_mremap+0xc7/0x150
[   37.106801]  ? syscall_trace_enter+0x14d/0x280
[   37.106811]  x64_sys_call+0x1933/0x2150
[   37.106818]  do_syscall_64+0x6d/0x2e0
[   37.106829]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.106836] RIP: 0033:0x7f6be8c3ee5d
[   37.106843] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   37.106850] RSP: 002b:00007ffca238d378 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   37.106857] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f6be8c3ee5d
[   37.106861] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   37.106865] RBP: 00007ffca238d380 R08: 000000002038d000 R09: 0000000000000001
[   37.106870] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffca238d498
[   37.106874] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f6be8f30000
[   37.106888]  </TASK>
[   38.106890] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   38.107359] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1410, name: repro
[   38.107742] preempt_count: 1, expected: 0
[   38.107939] RCU nest depth: 1, expected: 0
[   38.108125] 4 locks held by repro/1410:
[   38.108322]  #0: ffff888014926ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   38.108777]  #1: ffff88802cc26188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   38.109257]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   38.109702]  #3: ffff888013dc2eb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   38.110222] Preemption disabled at:
[   38.110225] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   38.110726] CPU: 1 UID: 0 PID: 1410 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   38.110736] Tainted: [W]=WARN
[   38.110739] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.110743] Call Trace:
[   38.110745]  <TASK>
[   38.110748]  dump_stack_lvl+0x121/0x150
[   38.110761]  dump_stack+0x19/0x20
[   38.110770]  __might_resched+0x37b/0x5a0
[   38.110780]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.110794]  __might_sleep+0xa3/0x170
[   38.110804]  ? vm_normal_folio+0x8c/0x170
[   38.110816]  __relocate_anon_folios+0x7bd/0x11a0
[   38.110831]  ? __pfx___relocate_anon_folios+0x10/0x10
[   38.110843]  ? __this_cpu_preempt_check+0x21/0x30
[   38.110850]  ? lock_set_class+0x17a/0x260
[   38.110865]  copy_vma_and_data+0x47e/0x1480
[   38.110878]  ? percpu_counter_add_batch+0xd9/0x210
[   38.110890]  ? __pfx_copy_vma_and_data+0x10/0x10
[   38.110897]  ? vms_complete_munmap_vmas+0x525/0x810
[   38.110913]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   38.110920]  ? __this_cpu_preempt_check+0x21/0x30
[   38.110931]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.110941]  ? mtree_range_walk+0x728/0xb70
[   38.110954]  ? __lock_acquire+0x412/0x22a0
[   38.110964]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.110974]  ? percpu_counter_add_batch+0xd9/0x210
[   38.110980]  ? debug_smp_processor_id+0x20/0x30
[   38.110992]  ? __this_cpu_preempt_check+0x21/0x30
[   38.110999]  ? lock_is_held_type+0xef/0x150
[   38.111012]  move_vma+0x689/0x1a60
[   38.111024]  ? __pfx_move_vma+0x10/0x10
[   38.111033]  ? cap_mmap_addr+0x58/0x140
[   38.111042]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.111052]  ? security_mmap_addr+0x63/0x1b0
[   38.111062]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.111072]  ? __get_unmapped_area+0x1a4/0x440
[   38.111084]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.111094]  ? vrm_set_new_addr+0x21d/0x2b0
[   38.111104]  __do_sys_mremap+0xd3e/0x1600
[   38.111115]  ? __pfx___do_sys_mremap+0x10/0x10
[   38.111125]  ? __this_cpu_preempt_check+0x21/0x30
[   38.111154]  ? __this_cpu_preempt_check+0x21/0x30
[   38.111173]  __x64_sys_mremap+0xc7/0x150
[   38.111181]  ? syscall_trace_enter+0x14d/0x280
[   38.111192]  x64_sys_call+0x1933/0x2150
[   38.111199]  do_syscall_64+0x6d/0x2e0
[   38.111210]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.111217] RIP: 0033:0x7f425983ee5d
[   38.111225] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   38.111231] RSP: 002b:00007ffc4998e3a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   38.111238] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f425983ee5d
[   38.111242] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   38.111246] RBP: 00007ffc4998e3b0 R08: 000000002038d000 R09: 0000000000000001
[   38.111250] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc4998e4c8
[   38.111254] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4259ba4000
[   38.111268]  </TASK>
[   39.132617] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   39.133067] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1448, name: repro
[   39.133418] preempt_count: 1, expected: 0
[   39.133606] RCU nest depth: 1, expected: 0
[   39.133803] 4 locks held by repro/1448:
[   39.134013]  #0: ffff8880103081e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   39.134440]  #1: ffff88801fd26b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   39.134883]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   39.135287]  #3: ffff8880120bdd98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   39.135744] Preemption disabled at:
[   39.135747] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   39.136209] CPU: 0 UID: 0 PID: 1448 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   39.136219] Tainted: [W]=WARN
[   39.136221] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.136226] Call Trace:
[   39.136228]  <TASK>
[   39.136231]  dump_stack_lvl+0x121/0x150
[   39.136244]  dump_stack+0x19/0x20
[   39.136252]  __might_resched+0x37b/0x5a0
[   39.136263]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.136277]  __might_sleep+0xa3/0x170
[   39.136286]  ? vm_normal_folio+0x8c/0x170
[   39.136296]  __relocate_anon_folios+0x7bd/0x11a0
[   39.136311]  ? __pfx___relocate_anon_folios+0x10/0x10
[   39.136321]  ? __this_cpu_preempt_check+0x21/0x30
[   39.136329]  ? lock_set_class+0x17a/0x260
[   39.136343]  copy_vma_and_data+0x47e/0x1480
[   39.136355]  ? percpu_counter_add_batch+0xd9/0x210
[   39.136367]  ? __pfx_copy_vma_and_data+0x10/0x10
[   39.136374]  ? vms_complete_munmap_vmas+0x525/0x810
[   39.136388]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   39.136395]  ? __this_cpu_preempt_check+0x21/0x30
[   39.136406]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.136415]  ? mtree_range_walk+0x728/0xb70
[   39.136426]  ? __lock_acquire+0x412/0x22a0
[   39.136436]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.136445]  ? percpu_counter_add_batch+0xd9/0x210
[   39.136451]  ? debug_smp_processor_id+0x20/0x30
[   39.136462]  ? __this_cpu_preempt_check+0x21/0x30
[   39.136468]  ? lock_is_held_type+0xef/0x150
[   39.136480]  move_vma+0x689/0x1a60
[   39.136492]  ? __pfx_move_vma+0x10/0x10
[   39.136500]  ? cap_mmap_addr+0x58/0x140
[   39.136509]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.136518]  ? security_mmap_addr+0x63/0x1b0
[   39.136526]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.136536]  ? __get_unmapped_area+0x1a4/0x440
[   39.136547]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.136557]  ? vrm_set_new_addr+0x21d/0x2b0
[   39.136566]  __do_sys_mremap+0xd3e/0x1600
[   39.136576]  ? __pfx___do_sys_mremap+0x10/0x10
[   39.136586]  ? __this_cpu_preempt_check+0x21/0x30
[   39.136599]  ? __this_cpu_preempt_check+0x21/0x30
[   39.136617]  __x64_sys_mremap+0xc7/0x150
[   39.136624]  ? syscall_trace_enter+0x14d/0x280
[   39.136634]  x64_sys_call+0x1933/0x2150
[   39.136641]  do_syscall_64+0x6d/0x2e0
[   39.136652]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.136658] RIP: 0033:0x7f21a023ee5d
[   39.136669] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   39.136675] RSP: 002b:00007ffd3f02d008 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   39.136681] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f21a023ee5d
[   39.136685] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   39.136689] RBP: 00007ffd3f02d010 R08: 000000002038d000 R09: 0000000000000001
[   39.136692] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd3f02d128
[   39.136696] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f21a0647000
[   39.136710]  </TASK>
[   40.138680] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   40.139152] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1484, name: repro
[   40.139524] preempt_count: 1, expected: 0
[   40.139726] RCU nest depth: 1, expected: 0
[   40.139928] 4 locks held by repro/1484:
[   40.140121]  #0: ffff88801a9516e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   40.140560]  #1: ffff88801749d5c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   40.141019]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   40.141457]  #3: ffff88801210d9d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   40.141968] Preemption disabled at:
[   40.141971] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   40.142451] CPU: 1 UID: 0 PID: 1484 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   40.142462] Tainted: [W]=WARN
[   40.142465] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.142469] Call Trace:
[   40.142472]  <TASK>
[   40.142475]  dump_stack_lvl+0x121/0x150
[   40.142488]  dump_stack+0x19/0x20
[   40.142497]  __might_resched+0x37b/0x5a0
[   40.142516]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.142549]  __might_sleep+0xa3/0x170
[   40.142559]  ? vm_normal_folio+0x8c/0x170
[   40.142570]  __relocate_anon_folios+0x7bd/0x11a0
[   40.142585]  ? __pfx___relocate_anon_folios+0x10/0x10
[   40.142596]  ? __this_cpu_preempt_check+0x21/0x30
[   40.142604]  ? lock_set_class+0x17a/0x260
[   40.142618]  copy_vma_and_data+0x47e/0x1480
[   40.142630]  ? percpu_counter_add_batch+0xd9/0x210
[   40.142641]  ? __pfx_copy_vma_and_data+0x10/0x10
[   40.142649]  ? vms_complete_munmap_vmas+0x525/0x810
[   40.142667]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   40.142674]  ? __this_cpu_preempt_check+0x21/0x30
[   40.142685]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.142695]  ? mtree_range_walk+0x728/0xb70
[   40.142707]  ? __lock_acquire+0x412/0x22a0
[   40.142717]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.142727]  ? percpu_counter_add_batch+0xd9/0x210
[   40.142733]  ? debug_smp_processor_id+0x20/0x30
[   40.142744]  ? __this_cpu_preempt_check+0x21/0x30
[   40.142751]  ? lock_is_held_type+0xef/0x150
[   40.142763]  move_vma+0x689/0x1a60
[   40.142776]  ? __pfx_move_vma+0x10/0x10
[   40.142785]  ? cap_mmap_addr+0x58/0x140
[   40.142793]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.142803]  ? security_mmap_addr+0x63/0x1b0
[   40.142812]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.142822]  ? __get_unmapped_area+0x1a4/0x440
[   40.142833]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.142843]  ? vrm_set_new_addr+0x21d/0x2b0
[   40.142853]  __do_sys_mremap+0xd3e/0x1600
[   40.142863]  ? __pfx___do_sys_mremap+0x10/0x10
[   40.142874]  ? __this_cpu_preempt_check+0x21/0x30
[   40.142888]  ? __this_cpu_preempt_check+0x21/0x30
[   40.142906]  __x64_sys_mremap+0xc7/0x150
[   40.142913]  ? syscall_trace_enter+0x14d/0x280
[   40.142923]  x64_sys_call+0x1933/0x2150
[   40.142930]  do_syscall_64+0x6d/0x2e0
[   40.142941]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.142947] RIP: 0033:0x7ff2ecc3ee5d
[   40.142954] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   40.142961] RSP: 002b:00007ffe7557e418 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   40.142967] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff2ecc3ee5d
[   40.142971] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   40.142975] RBP: 00007ffe7557e420 R08: 000000002038d000 R09: 0000000000000001
[   40.142979] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe7557e538
[   40.142983] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff2ed044000
[   40.142996]  </TASK>
[   41.140726] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   41.141179] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1517, name: repro
[   41.141570] preempt_count: 1, expected: 0
[   41.141778] RCU nest depth: 1, expected: 0
[   41.142273] 4 locks held by repro/1517:
[   41.142470]  #0: ffff88801bcb6ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   41.142923]  #1: ffff8880285fe3a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   41.143384]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   41.143822]  #3: ffff888015d5ec78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   41.144304] Preemption disabled at:
[   41.144307] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   41.144798] CPU: 1 UID: 0 PID: 1517 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   41.144808] Tainted: [W]=WARN
[   41.144810] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.144815] Call Trace:
[   41.144817]  <TASK>
[   41.144820]  dump_stack_lvl+0x121/0x150
[   41.144833]  dump_stack+0x19/0x20
[   41.144842]  __might_resched+0x37b/0x5a0
[   41.144853]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.144867]  __might_sleep+0xa3/0x170
[   41.144876]  ? vm_normal_folio+0x8c/0x170
[   41.144888]  __relocate_anon_folios+0x7bd/0x11a0
[   41.144903]  ? __pfx___relocate_anon_folios+0x10/0x10
[   41.144914]  ? __this_cpu_preempt_check+0x21/0x30
[   41.144922]  ? lock_set_class+0x17a/0x260
[   41.144937]  copy_vma_and_data+0x47e/0x1480
[   41.144950]  ? percpu_counter_add_batch+0xd9/0x210
[   41.144962]  ? __pfx_copy_vma_and_data+0x10/0x10
[   41.144969]  ? vms_complete_munmap_vmas+0x525/0x810
[   41.144984]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   41.144991]  ? __this_cpu_preempt_check+0x21/0x30
[   41.145002]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.145012]  ? mtree_range_walk+0x728/0xb70
[   41.145024]  ? __lock_acquire+0x412/0x22a0
[   41.145034]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.145044]  ? percpu_counter_add_batch+0xd9/0x210
[   41.145050]  ? debug_smp_processor_id+0x20/0x30
[   41.145061]  ? __this_cpu_preempt_check+0x21/0x30
[   41.145068]  ? lock_is_held_type+0xef/0x150
[   41.145080]  move_vma+0x689/0x1a60
[   41.145092]  ? __pfx_move_vma+0x10/0x10
[   41.145101]  ? cap_mmap_addr+0x58/0x140
[   41.145110]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.145120]  ? security_mmap_addr+0x63/0x1b0
[   41.145129]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.145139]  ? __get_unmapped_area+0x1a4/0x440
[   41.145151]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.145160]  ? vrm_set_new_addr+0x21d/0x2b0
[   41.145170]  __do_sys_mremap+0xd3e/0x1600
[   41.145180]  ? __pfx___do_sys_mremap+0x10/0x10
[   41.145191]  ? __this_cpu_preempt_check+0x21/0x30
[   41.145205]  ? __this_cpu_preempt_check+0x21/0x30
[   41.145223]  __x64_sys_mremap+0xc7/0x150
[   41.145231]  ? syscall_trace_enter+0x14d/0x280
[   41.145240]  x64_sys_call+0x1933/0x2150
[   41.145247]  do_syscall_64+0x6d/0x2e0
[   41.145258]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.145264] RIP: 0033:0x7f2411e3ee5d
[   41.145271] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   41.145278] RSP: 002b:00007fff9e807cc8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   41.145284] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2411e3ee5d
[   41.145288] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   41.145291] RBP: 00007fff9e807cd0 R08: 000000002038d000 R09: 0000000000000001
[   41.145295] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff9e807de8
[   41.145299] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f24121f3000
[   41.145313]  </TASK>
[   42.141105] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   42.142706] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1551, name: repro
[   42.143586] preempt_count: 1, expected: 0
[   42.143913] RCU nest depth: 1, expected: 0
[   42.144119] 4 locks held by repro/1551:
[   42.144299]  #0: ffff88801a7c81e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   42.144760]  #1: ffff88802db56e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   42.145237]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   42.145686]  #3: ffff88802db60018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   42.146217] Preemption disabled at:
[   42.146220] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   42.146723] CPU: 1 UID: 0 PID: 1551 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   42.146735] Tainted: [W]=WARN
[   42.146737] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.146742] Call Trace:
[   42.146745]  <TASK>
[   42.146750]  dump_stack_lvl+0x121/0x150
[   42.146764]  dump_stack+0x19/0x20
[   42.146774]  __might_resched+0x37b/0x5a0
[   42.146785]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.146800]  __might_sleep+0xa3/0x170
[   42.146810]  ? vm_normal_folio+0x8c/0x170
[   42.146822]  __relocate_anon_folios+0x7bd/0x11a0
[   42.146838]  ? __pfx___relocate_anon_folios+0x10/0x10
[   42.146850]  ? __this_cpu_preempt_check+0x21/0x30
[   42.146859]  ? lock_set_class+0x17a/0x260
[   42.146875]  copy_vma_and_data+0x47e/0x1480
[   42.146888]  ? percpu_counter_add_batch+0xd9/0x210
[   42.146901]  ? __pfx_copy_vma_and_data+0x10/0x10
[   42.146908]  ? vms_complete_munmap_vmas+0x525/0x810
[   42.146924]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   42.146932]  ? __this_cpu_preempt_check+0x21/0x30
[   42.146943]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.146954]  ? mtree_range_walk+0x728/0xb70
[   42.146966]  ? __lock_acquire+0x412/0x22a0
[   42.146977]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.146988]  ? percpu_counter_add_batch+0xd9/0x210
[   42.146994]  ? debug_smp_processor_id+0x20/0x30
[   42.147006]  ? __this_cpu_preempt_check+0x21/0x30
[   42.147013]  ? lock_is_held_type+0xef/0x150
[   42.147026]  move_vma+0x689/0x1a60
[   42.147039]  ? __pfx_move_vma+0x10/0x10
[   42.147048]  ? cap_mmap_addr+0x58/0x140
[   42.147058]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.147068]  ? security_mmap_addr+0x63/0x1b0
[   42.147078]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.147088]  ? __get_unmapped_area+0x1a4/0x440
[   42.147101]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.147111]  ? vrm_set_new_addr+0x21d/0x2b0
[   42.147121]  __do_sys_mremap+0xd3e/0x1600
[   42.147132]  ? __pfx___do_sys_mremap+0x10/0x10
[   42.147143]  ? __this_cpu_preempt_check+0x21/0x30
[   42.147158]  ? __this_cpu_preempt_check+0x21/0x30
[   42.147177]  __x64_sys_mremap+0xc7/0x150
[   42.147186]  ? syscall_trace_enter+0x14d/0x280
[   42.147196]  x64_sys_call+0x1933/0x2150
[   42.147204]  do_syscall_64+0x6d/0x2e0
[   42.147216]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.147223] RIP: 0033:0x7faadde3ee5d
[   42.147231] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   42.147238] RSP: 002b:00007ffd39aff288 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   42.147244] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007faadde3ee5d
[   42.147249] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   42.147253] RBP: 00007ffd39aff290 R08: 000000002038d000 R09: 0000000000000001
[   42.147257] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd39aff3a8
[   42.147261] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007faade1c8000
[   42.147275]  </TASK>
[   43.154575] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   43.155009] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1585, name: repro
[   43.155362] preempt_count: 1, expected: 0
[   43.155559] RCU nest depth: 1, expected: 0
[   43.155757] 4 locks held by repro/1585:
[   43.155922]  #0: ffff888016ec6060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   43.156348]  #1: ffff888028301b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   43.156786]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   43.157197]  #3: ffff88802825c318 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   43.157652] Preemption disabled at:
[   43.157655] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   43.158145] CPU: 1 UID: 0 PID: 1585 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   43.158155] Tainted: [W]=WARN
[   43.158158] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.158162] Call Trace:
[   43.158165]  <TASK>
[   43.158168]  dump_stack_lvl+0x121/0x150
[   43.158180]  dump_stack+0x19/0x20
[   43.158189]  __might_resched+0x37b/0x5a0
[   43.158199]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.158213]  __might_sleep+0xa3/0x170
[   43.158222]  ? vm_normal_folio+0x8c/0x170
[   43.158233]  __relocate_anon_folios+0x7bd/0x11a0
[   43.158247]  ? __pfx___relocate_anon_folios+0x10/0x10
[   43.158258]  ? __this_cpu_preempt_check+0x21/0x30
[   43.158266]  ? lock_set_class+0x17a/0x260
[   43.158280]  copy_vma_and_data+0x47e/0x1480
[   43.158291]  ? percpu_counter_add_batch+0xd9/0x210
[   43.158303]  ? __pfx_copy_vma_and_data+0x10/0x10
[   43.158310]  ? vms_complete_munmap_vmas+0x525/0x810
[   43.158325]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   43.158332]  ? __this_cpu_preempt_check+0x21/0x30
[   43.158342]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.158351]  ? mtree_range_walk+0x728/0xb70
[   43.158363]  ? __lock_acquire+0x412/0x22a0
[   43.158373]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.158382]  ? percpu_counter_add_batch+0xd9/0x210
[   43.158388]  ? debug_smp_processor_id+0x20/0x30
[   43.158398]  ? __this_cpu_preempt_check+0x21/0x30
[   43.158405]  ? lock_is_held_type+0xef/0x150
[   43.158417]  move_vma+0x689/0x1a60
[   43.158429]  ? __pfx_move_vma+0x10/0x10
[   43.158437]  ? cap_mmap_addr+0x58/0x140
[   43.158446]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.158455]  ? security_mmap_addr+0x63/0x1b0
[   43.158464]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.158473]  ? __get_unmapped_area+0x1a4/0x440
[   43.158485]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.158494]  ? vrm_set_new_addr+0x21d/0x2b0
[   43.158503]  __do_sys_mremap+0xd3e/0x1600
[   43.158513]  ? __pfx___do_sys_mremap+0x10/0x10
[   43.158523]  ? __this_cpu_preempt_check+0x21/0x30
[   43.158536]  ? __this_cpu_preempt_check+0x21/0x30
[   43.158553]  __x64_sys_mremap+0xc7/0x150
[   43.158561]  ? syscall_trace_enter+0x14d/0x280
[   43.158571]  x64_sys_call+0x1933/0x2150
[   43.158578]  do_syscall_64+0x6d/0x2e0
[   43.158589]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.158595] RIP: 0033:0x7f10b583ee5d
[   43.158602] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   43.158608] RSP: 002b:00007ffde5c8cf48 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   43.158614] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f10b583ee5d
[   43.158618] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   43.158622] RBP: 00007ffde5c8cf50 R08: 000000002038d000 R09: 0000000000000001
[   43.158625] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffde5c8d068
[   43.158629] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f10b5a8b000
[   43.158642]  </TASK>
[   44.170790] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   44.171296] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1619, name: repro
[   44.171703] preempt_count: 1, expected: 0
[   44.171919] RCU nest depth: 1, expected: 0
[   44.172140] 4 locks held by repro/1619:
[   44.172349]  #0: ffff88801a51a160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   44.172829]  #1: ffff88802c988b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   44.173326]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   44.173795]  #3: ffff88802c96b738 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   44.174649] Preemption disabled at:
[   44.174652] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   44.175159] CPU: 0 UID: 0 PID: 1619 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   44.175171] Tainted: [W]=WARN
[   44.175174] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.175179] Call Trace:
[   44.175181]  <TASK>
[   44.175184]  dump_stack_lvl+0x121/0x150
[   44.175199]  dump_stack+0x19/0x20
[   44.175208]  __might_resched+0x37b/0x5a0
[   44.175220]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.175235]  __might_sleep+0xa3/0x170
[   44.175245]  ? vm_normal_folio+0x8c/0x170
[   44.175258]  __relocate_anon_folios+0x7bd/0x11a0
[   44.175280]  ? __pfx___relocate_anon_folios+0x10/0x10
[   44.175293]  ? __this_cpu_preempt_check+0x21/0x30
[   44.175301]  ? lock_set_class+0x17a/0x260
[   44.175318]  copy_vma_and_data+0x47e/0x1480
[   44.175331]  ? percpu_counter_add_batch+0xd9/0x210
[   44.175345]  ? __pfx_copy_vma_and_data+0x10/0x10
[   44.175353]  ? vms_complete_munmap_vmas+0x525/0x810
[   44.175369]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   44.175377]  ? __this_cpu_preempt_check+0x21/0x30
[   44.175389]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.175400]  ? mtree_range_walk+0x728/0xb70
[   44.175413]  ? __lock_acquire+0x412/0x22a0
[   44.175424]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.175435]  ? percpu_counter_add_batch+0xd9/0x210
[   44.175441]  ? debug_smp_processor_id+0x20/0x30
[   44.175454]  ? __this_cpu_preempt_check+0x21/0x30
[   44.175461]  ? lock_is_held_type+0xef/0x150
[   44.175475]  move_vma+0x689/0x1a60
[   44.175488]  ? __pfx_move_vma+0x10/0x10
[   44.175498]  ? cap_mmap_addr+0x58/0x140
[   44.175508]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.175518]  ? security_mmap_addr+0x63/0x1b0
[   44.175528]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.175539]  ? __get_unmapped_area+0x1a4/0x440
[   44.175552]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.175563]  ? vrm_set_new_addr+0x21d/0x2b0
[   44.175573]  __do_sys_mremap+0xd3e/0x1600
[   44.175585]  ? __pfx___do_sys_mremap+0x10/0x10
[   44.175596]  ? __this_cpu_preempt_check+0x21/0x30
[   44.175611]  ? __this_cpu_preempt_check+0x21/0x30
[   44.175632]  __x64_sys_mremap+0xc7/0x150
[   44.175640]  ? syscall_trace_enter+0x14d/0x280
[   44.175651]  x64_sys_call+0x1933/0x2150
[   44.175663]  do_syscall_64+0x6d/0x2e0
[   44.175674]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.175682] RIP: 0033:0x7f741503ee5d
[   44.175690] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   44.175697] RSP: 002b:00007ffdec85e5d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   44.175703] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f741503ee5d
[   44.175708] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   44.175712] RBP: 00007ffdec85e5e0 R08: 000000002038d000 R09: 0000000000000001
[   44.175716] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdec85e6f8
[   44.175720] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f741529f000
[   44.175735]  </TASK>
[   45.180022] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   45.180471] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1652, name: repro
[   45.180872] preempt_count: 1, expected: 0
[   45.181074] RCU nest depth: 1, expected: 0
[   45.181279] 4 locks held by repro/1652:
[   45.181475]  #0: ffff888015e0eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   45.181967]  #1: ffff88801d1e33a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   45.182426]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   45.182862]  #3: ffff888015d75f78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   45.183341] Preemption disabled at:
[   45.183344] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   45.183831] CPU: 0 UID: 0 PID: 1652 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   45.183842] Tainted: [W]=WARN
[   45.183844] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.183849] Call Trace:
[   45.183851]  <TASK>
[   45.183855]  dump_stack_lvl+0x121/0x150
[   45.183868]  dump_stack+0x19/0x20
[   45.183876]  __might_resched+0x37b/0x5a0
[   45.183888]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.183902]  __might_sleep+0xa3/0x170
[   45.183911]  ? vm_normal_folio+0x8c/0x170
[   45.183923]  __relocate_anon_folios+0x7bd/0x11a0
[   45.183937]  ? __pfx___relocate_anon_folios+0x10/0x10
[   45.183949]  ? __this_cpu_preempt_check+0x21/0x30
[   45.183957]  ? lock_set_class+0x17a/0x260
[   45.183972]  copy_vma_and_data+0x47e/0x1480
[   45.183984]  ? percpu_counter_add_batch+0xd9/0x210
[   45.183997]  ? __pfx_copy_vma_and_data+0x10/0x10
[   45.184004]  ? vms_complete_munmap_vmas+0x525/0x810
[   45.184019]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   45.184026]  ? __this_cpu_preempt_check+0x21/0x30
[   45.184037]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.184047]  ? mtree_range_walk+0x728/0xb70
[   45.184059]  ? __lock_acquire+0x412/0x22a0
[   45.184070]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.184079]  ? percpu_counter_add_batch+0xd9/0x210
[   45.184085]  ? debug_smp_processor_id+0x20/0x30
[   45.184097]  ? __this_cpu_preempt_check+0x21/0x30
[   45.184103]  ? lock_is_held_type+0xef/0x150
[   45.184116]  move_vma+0x689/0x1a60
[   45.184128]  ? __pfx_move_vma+0x10/0x10
[   45.184137]  ? cap_mmap_addr+0x58/0x140
[   45.184147]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.184156]  ? security_mmap_addr+0x63/0x1b0
[   45.184165]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.184175]  ? __get_unmapped_area+0x1a4/0x440
[   45.184187]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.184197]  ? vrm_set_new_addr+0x21d/0x2b0
[   45.184207]  __do_sys_mremap+0xd3e/0x1600
[   45.184217]  ? __pfx___do_sys_mremap+0x10/0x10
[   45.184228]  ? __this_cpu_preempt_check+0x21/0x30
[   45.184242]  ? __this_cpu_preempt_check+0x21/0x30
[   45.184260]  __x64_sys_mremap+0xc7/0x150
[   45.184268]  ? syscall_trace_enter+0x14d/0x280
[   45.184278]  x64_sys_call+0x1933/0x2150
[   45.184286]  do_syscall_64+0x6d/0x2e0
[   45.184297]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.184304] RIP: 0033:0x7ff58243ee5d
[   45.184311] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   45.184317] RSP: 002b:00007ffdf8709958 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   45.184324] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff58243ee5d
[   45.184328] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   45.184331] RBP: 00007ffdf8709960 R08: 000000002038d000 R09: 0000000000000001
[   45.184335] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdf8709a78
[   45.184339] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff5826e7000
[   45.184353]  </TASK>
[   46.191079] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   46.191547] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1686, name: repro
[   46.191925] preempt_count: 1, expected: 0
[   46.192115] RCU nest depth: 1, expected: 0
[   46.192301] 4 locks held by repro/1686:
[   46.192498]  #0: ffff8880149b01e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   46.192954]  #1: ffff888013e91188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   46.193429]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   46.193919]  #3: ffff88802cb85a38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   46.194411] Preemption disabled at:
[   46.194413] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   46.194942] CPU: 1 UID: 0 PID: 1686 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   46.194953] Tainted: [W]=WARN
[   46.194955] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.194960] Call Trace:
[   46.194963]  <TASK>
[   46.194966]  dump_stack_lvl+0x121/0x150
[   46.194980]  dump_stack+0x19/0x20
[   46.194989]  __might_resched+0x37b/0x5a0
[   46.195000]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.195015]  __might_sleep+0xa3/0x170
[   46.195024]  ? vm_normal_folio+0x8c/0x170
[   46.195036]  __relocate_anon_folios+0x7bd/0x11a0
[   46.195051]  ? __pfx___relocate_anon_folios+0x10/0x10
[   46.195063]  ? __this_cpu_preempt_check+0x21/0x30
[   46.195071]  ? lock_set_class+0x17a/0x260
[   46.195087]  copy_vma_and_data+0x47e/0x1480
[   46.195099]  ? percpu_counter_add_batch+0xd9/0x210
[   46.195112]  ? __pfx_copy_vma_and_data+0x10/0x10
[   46.195119]  ? vms_complete_munmap_vmas+0x525/0x810
[   46.195135]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   46.195142]  ? __this_cpu_preempt_check+0x21/0x30
[   46.195153]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.195163]  ? mtree_range_walk+0x728/0xb70
[   46.195176]  ? __lock_acquire+0x412/0x22a0
[   46.195187]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.195197]  ? percpu_counter_add_batch+0xd9/0x210
[   46.195203]  ? debug_smp_processor_id+0x20/0x30
[   46.195214]  ? __this_cpu_preempt_check+0x21/0x30
[   46.195221]  ? lock_is_held_type+0xef/0x150
[   46.195234]  move_vma+0x689/0x1a60
[   46.195246]  ? __pfx_move_vma+0x10/0x10
[   46.195256]  ? cap_mmap_addr+0x58/0x140
[   46.195265]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.195275]  ? security_mmap_addr+0x63/0x1b0
[   46.195284]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.195294]  ? __get_unmapped_area+0x1a4/0x440
[   46.195306]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.195316]  ? vrm_set_new_addr+0x21d/0x2b0
[   46.195326]  __do_sys_mremap+0xd3e/0x1600
[   46.195337]  ? __pfx___do_sys_mremap+0x10/0x10
[   46.195347]  ? __this_cpu_preempt_check+0x21/0x30
[   46.195362]  ? __this_cpu_preempt_check+0x21/0x30
[   46.195381]  __x64_sys_mremap+0xc7/0x150
[   46.195389]  ? syscall_trace_enter+0x14d/0x280
[   46.195399]  x64_sys_call+0x1933/0x2150
[   46.195407]  do_syscall_64+0x6d/0x2e0
[   46.195419]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.195425] RIP: 0033:0x7f019843ee5d
[   46.195433] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   46.195439] RSP: 002b:00007ffc4e8d79c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   46.195446] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f019843ee5d
[   46.195450] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   46.195454] RBP: 00007ffc4e8d79d0 R08: 000000002038d000 R09: 0000000000000001
[   46.195458] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc4e8d7ae8
[   46.195462] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f0198672000
[   46.195476]  </TASK>
[   47.209183] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   47.209658] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1720, name: repro
[   47.210075] preempt_count: 1, expected: 0
[   47.210286] RCU nest depth: 1, expected: 0
[   47.210500] 4 locks held by repro/1720:
[   47.210707]  #0: ffff888019e096e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   47.211176]  #1: ffff88802cbcee48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   47.211665]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   47.212121]  #3: ffff88801eedbc78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   47.212621] Preemption disabled at:
[   47.212623] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   47.213129] CPU: 1 UID: 0 PID: 1720 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   47.213140] Tainted: [W]=WARN
[   47.213142] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.213147] Call Trace:
[   47.213149]  <TASK>
[   47.213153]  dump_stack_lvl+0x121/0x150
[   47.213167]  dump_stack+0x19/0x20
[   47.213177]  __might_resched+0x37b/0x5a0
[   47.213188]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.213203]  __might_sleep+0xa3/0x170
[   47.213213]  ? vm_normal_folio+0x8c/0x170
[   47.213225]  __relocate_anon_folios+0x7bd/0x11a0
[   47.213241]  ? __pfx___relocate_anon_folios+0x10/0x10
[   47.213253]  ? __this_cpu_preempt_check+0x21/0x30
[   47.213261]  ? lock_set_class+0x17a/0x260
[   47.213277]  copy_vma_and_data+0x47e/0x1480
[   47.213290]  ? percpu_counter_add_batch+0xd9/0x210
[   47.213303]  ? __pfx_copy_vma_and_data+0x10/0x10
[   47.213311]  ? vms_complete_munmap_vmas+0x525/0x810
[   47.213327]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   47.213334]  ? __this_cpu_preempt_check+0x21/0x30
[   47.213346]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.213356]  ? mtree_range_walk+0x728/0xb70
[   47.213369]  ? __lock_acquire+0x412/0x22a0
[   47.213380]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.213391]  ? percpu_counter_add_batch+0xd9/0x210
[   47.213397]  ? debug_smp_processor_id+0x20/0x30
[   47.213409]  ? __this_cpu_preempt_check+0x21/0x30
[   47.213416]  ? lock_is_held_type+0xef/0x150
[   47.213429]  move_vma+0x689/0x1a60
[   47.213442]  ? __pfx_move_vma+0x10/0x10
[   47.213451]  ? cap_mmap_addr+0x58/0x140
[   47.213461]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.213471]  ? security_mmap_addr+0x63/0x1b0
[   47.213480]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.213491]  ? __get_unmapped_area+0x1a4/0x440
[   47.213503]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.213514]  ? vrm_set_new_addr+0x21d/0x2b0
[   47.213524]  __do_sys_mremap+0xd3e/0x1600
[   47.213535]  ? __pfx___do_sys_mremap+0x10/0x10
[   47.213546]  ? __this_cpu_preempt_check+0x21/0x30
[   47.213560]  ? __this_cpu_preempt_check+0x21/0x30
[   47.213579]  __x64_sys_mremap+0xc7/0x150
[   47.213588]  ? syscall_trace_enter+0x14d/0x280
[   47.213598]  x64_sys_call+0x1933/0x2150
[   47.213606]  do_syscall_64+0x6d/0x2e0
[   47.213617]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.213624] RIP: 0033:0x7fb98da3ee5d
[   47.213632] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   47.213639] RSP: 002b:00007ffe9eabd6d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   47.213645] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fb98da3ee5d
[   47.213650] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   47.213657] RBP: 00007ffe9eabd6e0 R08: 000000002038d000 R09: 0000000000000001
[   47.213661] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe9eabd7f8
[   47.213666] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fb98dc9e000
[   47.213680]  </TASK>
[   48.215141] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   48.215615] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1754, name: repro
[   48.216003] preempt_count: 1, expected: 0
[   48.216209] RCU nest depth: 1, expected: 0
[   48.216420] 4 locks held by repro/1754:
[   48.216620]  #0: ffff8880149ef560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   48.217072]  #1: ffff88801fffb7e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   48.217542]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   48.218011]  #3: ffff88802d476f18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   48.218499] Preemption disabled at:
[   48.218501] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   48.219001] CPU: 1 UID: 0 PID: 1754 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   48.219012] Tainted: [W]=WARN
[   48.219014] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.219019] Call Trace:
[   48.219021]  <TASK>
[   48.219024]  dump_stack_lvl+0x121/0x150
[   48.219038]  dump_stack+0x19/0x20
[   48.219046]  __might_resched+0x37b/0x5a0
[   48.219058]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.219072]  __might_sleep+0xa3/0x170
[   48.219082]  ? vm_normal_folio+0x8c/0x170
[   48.219094]  __relocate_anon_folios+0x7bd/0x11a0
[   48.219109]  ? __pfx___relocate_anon_folios+0x10/0x10
[   48.219121]  ? __this_cpu_preempt_check+0x21/0x30
[   48.219129]  ? lock_set_class+0x17a/0x260
[   48.219145]  copy_vma_and_data+0x47e/0x1480
[   48.219157]  ? percpu_counter_add_batch+0xd9/0x210
[   48.219170]  ? __pfx_copy_vma_and_data+0x10/0x10
[   48.219177]  ? vms_complete_munmap_vmas+0x525/0x810
[   48.219193]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   48.219200]  ? __this_cpu_preempt_check+0x21/0x30
[   48.219212]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.219222]  ? mtree_range_walk+0x728/0xb70
[   48.219234]  ? __lock_acquire+0x412/0x22a0
[   48.219245]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.219255]  ? percpu_counter_add_batch+0xd9/0x210
[   48.219261]  ? debug_smp_processor_id+0x20/0x30
[   48.219272]  ? __this_cpu_preempt_check+0x21/0x30
[   48.219279]  ? lock_is_held_type+0xef/0x150
[   48.219292]  move_vma+0x689/0x1a60
[   48.219305]  ? __pfx_move_vma+0x10/0x10
[   48.219314]  ? cap_mmap_addr+0x58/0x140
[   48.219324]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.219333]  ? security_mmap_addr+0x63/0x1b0
[   48.219362]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.219372]  ? __get_unmapped_area+0x1a4/0x440
[   48.219384]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.219394]  ? vrm_set_new_addr+0x21d/0x2b0
[   48.219404]  __do_sys_mremap+0xd3e/0x1600
[   48.219415]  ? __pfx___do_sys_mremap+0x10/0x10
[   48.219426]  ? __this_cpu_preempt_check+0x21/0x30
[   48.219440]  ? __this_cpu_preempt_check+0x21/0x30
[   48.219459]  __x64_sys_mremap+0xc7/0x150
[   48.219467]  ? syscall_trace_enter+0x14d/0x280
[   48.219476]  x64_sys_call+0x1933/0x2150
[   48.219483]  do_syscall_64+0x6d/0x2e0
[   48.219494]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.219501] RIP: 0033:0x7f5731a3ee5d
[   48.219508] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   48.219514] RSP: 002b:00007fff85061218 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   48.219520] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f5731a3ee5d
[   48.219524] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   48.219529] RBP: 00007fff85061220 R08: 000000002038d000 R09: 0000000000000001
[   48.219532] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff85061338
[   48.219536] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f5731da7000
[   48.219550]  </TASK>
[   49.238227] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   49.238679] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1788, name: repro
[   49.239047] preempt_count: 1, expected: 0
[   49.239246] RCU nest depth: 1, expected: 0
[   49.239450] 4 locks held by repro/1788:
[   49.239646]  #0: ffff8880181f2be0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   49.240086]  #1: ffff888028112188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   49.240544]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   49.240975]  #3: ffff88801ff6f738 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   49.241450] Preemption disabled at:
[   49.241452] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   49.242223] CPU: 0 UID: 0 PID: 1788 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   49.242234] Tainted: [W]=WARN
[   49.242237] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.242241] Call Trace:
[   49.242243]  <TASK>
[   49.242246]  dump_stack_lvl+0x121/0x150
[   49.242258]  dump_stack+0x19/0x20
[   49.242267]  __might_resched+0x37b/0x5a0
[   49.242278]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.242292]  __might_sleep+0xa3/0x170
[   49.242301]  ? vm_normal_folio+0x8c/0x170
[   49.242313]  __relocate_anon_folios+0x7bd/0x11a0
[   49.242330]  ? __pfx___relocate_anon_folios+0x10/0x10
[   49.242345]  ? __this_cpu_preempt_check+0x21/0x30
[   49.242353]  ? lock_set_class+0x17a/0x260
[   49.242368]  copy_vma_and_data+0x47e/0x1480
[   49.242381]  ? percpu_counter_add_batch+0xd9/0x210
[   49.242393]  ? __pfx_copy_vma_and_data+0x10/0x10
[   49.242400]  ? vms_complete_munmap_vmas+0x525/0x810
[   49.242416]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   49.242423]  ? __this_cpu_preempt_check+0x21/0x30
[   49.242434]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.242444]  ? mtree_range_walk+0x728/0xb70
[   49.242456]  ? __lock_acquire+0x412/0x22a0
[   49.242467]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.242476]  ? percpu_counter_add_batch+0xd9/0x210
[   49.242482]  ? debug_smp_processor_id+0x20/0x30
[   49.242493]  ? __this_cpu_preempt_check+0x21/0x30
[   49.242500]  ? lock_is_held_type+0xef/0x150
[   49.242513]  move_vma+0x689/0x1a60
[   49.242525]  ? __pfx_move_vma+0x10/0x10
[   49.242534]  ? cap_mmap_addr+0x58/0x140
[   49.242543]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.242553]  ? security_mmap_addr+0x63/0x1b0
[   49.242562]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.242572]  ? __get_unmapped_area+0x1a4/0x440
[   49.242584]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.242594]  ? vrm_set_new_addr+0x21d/0x2b0
[   49.242604]  __do_sys_mremap+0xd3e/0x1600
[   49.242614]  ? __pfx___do_sys_mremap+0x10/0x10
[   49.242625]  ? __this_cpu_preempt_check+0x21/0x30
[   49.242639]  ? __this_cpu_preempt_check+0x21/0x30
[   49.242661]  __x64_sys_mremap+0xc7/0x150
[   49.242669]  ? syscall_trace_enter+0x14d/0x280
[   49.242680]  x64_sys_call+0x1933/0x2150
[   49.242687]  do_syscall_64+0x6d/0x2e0
[   49.242699]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.242705] RIP: 0033:0x7fae9f83ee5d
[   49.242713] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   49.242733] RSP: 002b:00007ffc420ab598 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   49.242740] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fae9f83ee5d
[   49.242744] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   49.242748] RBP: 00007ffc420ab5a0 R08: 000000002038d000 R09: 0000000000000001
[   49.242752] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc420ab6b8
[   49.242755] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fae9fb86000
[   49.242769]  </TASK>
[   49.243599] systemd-journald[145]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   49.262683] systemd-journald[145]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   50.248455] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   50.248957] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1823, name: repro
[   50.249350] preempt_count: 1, expected: 0
[   50.249562] RCU nest depth: 1, expected: 0
[   50.249779] 4 locks held by repro/1823:
[   50.250014]  #0: ffff8880100fcb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   50.250479]  #1: ffff88801fd984b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   50.250969]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   50.251424]  #3: ffff8880113b6378 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   50.251931] Preemption disabled at:
[   50.251934] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   50.252455] CPU: 0 UID: 0 PID: 1823 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   50.252467] Tainted: [W]=WARN
[   50.252469] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.252474] Call Trace:
[   50.252476]  <TASK>
[   50.252479]  dump_stack_lvl+0x121/0x150
[   50.252492]  dump_stack+0x19/0x20
[   50.252501]  __might_resched+0x37b/0x5a0
[   50.252512]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.252527]  __might_sleep+0xa3/0x170
[   50.252537]  ? vm_normal_folio+0x8c/0x170
[   50.252548]  __relocate_anon_folios+0x7bd/0x11a0
[   50.252564]  ? __pfx___relocate_anon_folios+0x10/0x10
[   50.252576]  ? __this_cpu_preempt_check+0x21/0x30
[   50.252584]  ? lock_set_class+0x17a/0x260
[   50.252599]  copy_vma_and_data+0x47e/0x1480
[   50.252612]  ? percpu_counter_add_batch+0xd9/0x210
[   50.252624]  ? __pfx_copy_vma_and_data+0x10/0x10
[   50.252632]  ? vms_complete_munmap_vmas+0x525/0x810
[   50.252648]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   50.252658]  ? __this_cpu_preempt_check+0x21/0x30
[   50.252670]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.252680]  ? mtree_range_walk+0x728/0xb70
[   50.252693]  ? __lock_acquire+0x412/0x22a0
[   50.252704]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.252714]  ? percpu_counter_add_batch+0xd9/0x210
[   50.252720]  ? debug_smp_processor_id+0x20/0x30
[   50.252732]  ? __this_cpu_preempt_check+0x21/0x30
[   50.252739]  ? lock_is_held_type+0xef/0x150
[   50.252753]  move_vma+0x689/0x1a60
[   50.252765]  ? __pfx_move_vma+0x10/0x10
[   50.252775]  ? cap_mmap_addr+0x58/0x140
[   50.252783]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.252793]  ? security_mmap_addr+0x63/0x1b0
[   50.252803]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.252813]  ? __get_unmapped_area+0x1a4/0x440
[   50.252825]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.252836]  ? vrm_set_new_addr+0x21d/0x2b0
[   50.252846]  __do_sys_mremap+0xd3e/0x1600
[   50.252857]  ? __pfx___do_sys_mremap+0x10/0x10
[   50.252877]  ? __this_cpu_preempt_check+0x21/0x30
[   50.252896]  __x64_sys_mremap+0xc7/0x150
[   50.252904]  ? syscall_trace_enter+0x14d/0x280
[   50.252914]  x64_sys_call+0x1933/0x2150
[   50.252921]  do_syscall_64+0x6d/0x2e0
[   50.252933]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.252939] RIP: 0033:0x7fabf743ee5d
[   50.252947] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   50.252953] RSP: 002b:00007fff0f0fdc28 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   50.252960] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fabf743ee5d
[   50.252964] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   50.252968] RBP: 00007fff0f0fdc30 R08: 000000002038d000 R09: 0000000000000001
[   50.252972] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff0f0fdd48
[   50.252976] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fabf76aa000
[   50.252991]  </TASK>
[   51.259526] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   51.259993] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1857, name: repro
[   51.260388] preempt_count: 1, expected: 0
[   51.260588] RCU nest depth: 1, expected: 0
[   51.260796] 4 locks held by repro/1857:
[   51.260989]  #0: ffff88800f44cb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   51.261441]  #1: ffff8880282e7188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   51.261934]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   51.262371]  #3: ffff88802d027498 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   51.262861] Preemption disabled at:
[   51.262863] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   51.263351] CPU: 0 UID: 0 PID: 1857 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   51.263362] Tainted: [W]=WARN
[   51.263365] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.263369] Call Trace:
[   51.263372]  <TASK>
[   51.263375]  dump_stack_lvl+0x121/0x150
[   51.263388]  dump_stack+0x19/0x20
[   51.263397]  __might_resched+0x37b/0x5a0
[   51.263408]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.263422]  __might_sleep+0xa3/0x170
[   51.263432]  ? vm_normal_folio+0x8c/0x170
[   51.263443]  __relocate_anon_folios+0x7bd/0x11a0
[   51.263458]  ? __pfx___relocate_anon_folios+0x10/0x10
[   51.263469]  ? __this_cpu_preempt_check+0x21/0x30
[   51.263477]  ? lock_set_class+0x17a/0x260
[   51.263492]  copy_vma_and_data+0x47e/0x1480
[   51.263504]  ? percpu_counter_add_batch+0xd9/0x210
[   51.263517]  ? __pfx_copy_vma_and_data+0x10/0x10
[   51.263524]  ? vms_complete_munmap_vmas+0x525/0x810
[   51.263539]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   51.263546]  ? __this_cpu_preempt_check+0x21/0x30
[   51.263557]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.263567]  ? mtree_range_walk+0x728/0xb70
[   51.263579]  ? __lock_acquire+0x412/0x22a0
[   51.263590]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.263600]  ? percpu_counter_add_batch+0xd9/0x210
[   51.263605]  ? debug_smp_processor_id+0x20/0x30
[   51.263617]  ? __this_cpu_preempt_check+0x21/0x30
[   51.263623]  ? lock_is_held_type+0xef/0x150
[   51.263636]  move_vma+0x689/0x1a60
[   51.263648]  ? __pfx_move_vma+0x10/0x10
[   51.263660]  ? cap_mmap_addr+0x58/0x140
[   51.263669]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.263678]  ? security_mmap_addr+0x63/0x1b0
[   51.263688]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.263697]  ? __get_unmapped_area+0x1a4/0x440
[   51.263709]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.263719]  ? vrm_set_new_addr+0x21d/0x2b0
[   51.263729]  __do_sys_mremap+0xd3e/0x1600
[   51.263739]  ? __pfx___do_sys_mremap+0x10/0x10
[   51.263749]  ? __this_cpu_preempt_check+0x21/0x30
[   51.263764]  ? __this_cpu_preempt_check+0x21/0x30
[   51.263782]  __x64_sys_mremap+0xc7/0x150
[   51.263790]  ? syscall_trace_enter+0x14d/0x280
[   51.263800]  x64_sys_call+0x1933/0x2150
[   51.263807]  do_syscall_64+0x6d/0x2e0
[   51.263818]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.263825] RIP: 0033:0x7f9bfd43ee5d
[   51.263832] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   51.263838] RSP: 002b:00007ffe4ca7bce8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   51.263845] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9bfd43ee5d
[   51.263849] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   51.263853] RBP: 00007ffe4ca7bcf0 R08: 000000002038d000 R09: 0000000000000001
[   51.263856] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe4ca7be08
[   51.263860] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9bfd7e2000
[   51.263873]  </TASK>
[   52.284408] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   52.284901] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1891, name: repro
[   52.285284] preempt_count: 1, expected: 0
[   52.285490] RCU nest depth: 1, expected: 0
[   52.285701] 4 locks held by repro/1891:
[   52.285929]  #0: ffff88800e35b660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   52.286384]  #1: ffff8880280f87e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   52.286859]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   52.287301]  #3: ffff88801d375bb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   52.287794] Preemption disabled at:
[   52.287797] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   52.288292] CPU: 1 UID: 0 PID: 1891 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   52.288304] Tainted: [W]=WARN
[   52.288306] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.288311] Call Trace:
[   52.288313]  <TASK>
[   52.288316]  dump_stack_lvl+0x121/0x150
[   52.288331]  dump_stack+0x19/0x20
[   52.288339]  __might_resched+0x37b/0x5a0
[   52.288351]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.288365]  __might_sleep+0xa3/0x170
[   52.288375]  ? vm_normal_folio+0x8c/0x170
[   52.288387]  __relocate_anon_folios+0x7bd/0x11a0
[   52.288402]  ? __pfx___relocate_anon_folios+0x10/0x10
[   52.288413]  ? __this_cpu_preempt_check+0x21/0x30
[   52.288422]  ? lock_set_class+0x17a/0x260
[   52.288437]  copy_vma_and_data+0x47e/0x1480
[   52.288450]  ? percpu_counter_add_batch+0xd9/0x210
[   52.288463]  ? __pfx_copy_vma_and_data+0x10/0x10
[   52.288470]  ? vms_complete_munmap_vmas+0x525/0x810
[   52.288486]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   52.288493]  ? __this_cpu_preempt_check+0x21/0x30
[   52.288504]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.288514]  ? mtree_range_walk+0x728/0xb70
[   52.288527]  ? __lock_acquire+0x412/0x22a0
[   52.288537]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.288548]  ? percpu_counter_add_batch+0xd9/0x210
[   52.288554]  ? debug_smp_processor_id+0x20/0x30
[   52.288565]  ? __this_cpu_preempt_check+0x21/0x30
[   52.288572]  ? lock_is_held_type+0xef/0x150
[   52.288585]  move_vma+0x689/0x1a60
[   52.288597]  ? __pfx_move_vma+0x10/0x10
[   52.288607]  ? cap_mmap_addr+0x58/0x140
[   52.288616]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.288626]  ? security_mmap_addr+0x63/0x1b0
[   52.288635]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.288645]  ? __get_unmapped_area+0x1a4/0x440
[   52.288660]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.288670]  ? vrm_set_new_addr+0x21d/0x2b0
[   52.288680]  __do_sys_mremap+0xd3e/0x1600
[   52.288691]  ? __pfx___do_sys_mremap+0x10/0x10
[   52.288701]  ? __this_cpu_preempt_check+0x21/0x30
[   52.288716]  ? __this_cpu_preempt_check+0x21/0x30
[   52.288735]  __x64_sys_mremap+0xc7/0x150
[   52.288743]  ? syscall_trace_enter+0x14d/0x280
[   52.288753]  x64_sys_call+0x1933/0x2150
[   52.288761]  do_syscall_64+0x6d/0x2e0
[   52.288772]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.288779] RIP: 0033:0x7efec223ee5d
[   52.288787] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   52.288794] RSP: 002b:00007ffd77ecfe68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   52.288800] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007efec223ee5d
[   52.288804] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   52.288808] RBP: 00007ffd77ecfe70 R08: 000000002038d000 R09: 0000000000000001
[   52.288812] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd77ecff88
[   52.288816] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007efec2633000
[   52.288830]  </TASK>
[   53.303376] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   53.303877] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1925, name: repro
[   53.304272] preempt_count: 1, expected: 0
[   53.304482] RCU nest depth: 1, expected: 0
[   53.304697] 4 locks held by repro/1925:
[   53.304883]  #0: ffff888016ec7560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   53.305331]  #1: ffff888011f4e8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   53.305818]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   53.306297]  #3: ffff888012480438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   53.306807] Preemption disabled at:
[   53.306810] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   53.307320] CPU: 0 UID: 0 PID: 1925 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   53.307332] Tainted: [W]=WARN
[   53.307334] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.307339] Call Trace:
[   53.307342]  <TASK>
[   53.307345]  dump_stack_lvl+0x121/0x150
[   53.307359]  dump_stack+0x19/0x20
[   53.307368]  __might_resched+0x37b/0x5a0
[   53.307380]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.307396]  __might_sleep+0xa3/0x170
[   53.307406]  ? vm_normal_folio+0x8c/0x170
[   53.307418]  __relocate_anon_folios+0x7bd/0x11a0
[   53.307434]  ? __pfx___relocate_anon_folios+0x10/0x10
[   53.307452]  ? __this_cpu_preempt_check+0x21/0x30
[   53.307461]  ? lock_set_class+0x17a/0x260
[   53.307477]  copy_vma_and_data+0x47e/0x1480
[   53.307489]  ? percpu_counter_add_batch+0xd9/0x210
[   53.307502]  ? __pfx_copy_vma_and_data+0x10/0x10
[   53.307510]  ? vms_complete_munmap_vmas+0x525/0x810
[   53.307526]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   53.307534]  ? __this_cpu_preempt_check+0x21/0x30
[   53.307545]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.307556]  ? mtree_range_walk+0x728/0xb70
[   53.307568]  ? __lock_acquire+0x412/0x22a0
[   53.307579]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.307590]  ? percpu_counter_add_batch+0xd9/0x210
[   53.307596]  ? debug_smp_processor_id+0x20/0x30
[   53.307607]  ? __this_cpu_preempt_check+0x21/0x30
[   53.307615]  ? lock_is_held_type+0xef/0x150
[   53.307628]  move_vma+0x689/0x1a60
[   53.307641]  ? __pfx_move_vma+0x10/0x10
[   53.307654]  ? cap_mmap_addr+0x58/0x140
[   53.307664]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.307674]  ? security_mmap_addr+0x63/0x1b0
[   53.307684]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.307694]  ? __get_unmapped_area+0x1a4/0x440
[   53.307707]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.307717]  ? vrm_set_new_addr+0x21d/0x2b0
[   53.307728]  __do_sys_mremap+0xd3e/0x1600
[   53.307738]  ? __pfx___do_sys_mremap+0x10/0x10
[   53.307749]  ? __this_cpu_preempt_check+0x21/0x30
[   53.307764]  ? __this_cpu_preempt_check+0x21/0x30
[   53.307783]  __x64_sys_mremap+0xc7/0x150
[   53.307791]  ? syscall_trace_enter+0x14d/0x280
[   53.307802]  x64_sys_call+0x1933/0x2150
[   53.307810]  do_syscall_64+0x6d/0x2e0
[   53.307822]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.307829] RIP: 0033:0x7f0072e3ee5d
[   53.307836] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   53.307843] RSP: 002b:00007fff5e63dd98 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   53.307850] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f0072e3ee5d
[   53.307854] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   53.307858] RBP: 00007fff5e63dda0 R08: 000000002038d000 R09: 0000000000000001
[   53.307862] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff5e63deb8
[   53.307866] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f00730a1000
[   53.307881]  </TASK>
[   54.322187] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   54.322692] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1959, name: repro
[   54.323071] preempt_count: 1, expected: 0
[   54.323276] RCU nest depth: 1, expected: 0
[   54.323483] 4 locks held by repro/1959:
[   54.323688]  #0: ffff88801039c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   54.324139]  #1: ffff88802d403298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   54.324607]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   54.325073]  #3: ffff88802cc8d7f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   54.325564] Preemption disabled at:
[   54.325567] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   54.326091] CPU: 0 UID: 0 PID: 1959 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   54.326103] Tainted: [W]=WARN
[   54.326105] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.326110] Call Trace:
[   54.326112]  <TASK>
[   54.326116]  dump_stack_lvl+0x121/0x150
[   54.326130]  dump_stack+0x19/0x20
[   54.326139]  __might_resched+0x37b/0x5a0
[   54.326150]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.326165]  __might_sleep+0xa3/0x170
[   54.326174]  ? vm_normal_folio+0x8c/0x170
[   54.326186]  __relocate_anon_folios+0x7bd/0x11a0
[   54.326201]  ? __pfx___relocate_anon_folios+0x10/0x10
[   54.326213]  ? __this_cpu_preempt_check+0x21/0x30
[   54.326221]  ? lock_set_class+0x17a/0x260
[   54.326237]  copy_vma_and_data+0x47e/0x1480
[   54.326249]  ? percpu_counter_add_batch+0xd9/0x210
[   54.326262]  ? __pfx_copy_vma_and_data+0x10/0x10
[   54.326269]  ? vms_complete_munmap_vmas+0x525/0x810
[   54.326285]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   54.326293]  ? __this_cpu_preempt_check+0x21/0x30
[   54.326304]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.326314]  ? mtree_range_walk+0x728/0xb70
[   54.326327]  ? __lock_acquire+0x412/0x22a0
[   54.326337]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.326347]  ? percpu_counter_add_batch+0xd9/0x210
[   54.326353]  ? debug_smp_processor_id+0x20/0x30
[   54.326365]  ? __this_cpu_preempt_check+0x21/0x30
[   54.326372]  ? lock_is_held_type+0xef/0x150
[   54.326385]  move_vma+0x689/0x1a60
[   54.326397]  ? __pfx_move_vma+0x10/0x10
[   54.326406]  ? cap_mmap_addr+0x58/0x140
[   54.326416]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.326426]  ? security_mmap_addr+0x63/0x1b0
[   54.326435]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.326445]  ? __get_unmapped_area+0x1a4/0x440
[   54.326457]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.326467]  ? vrm_set_new_addr+0x21d/0x2b0
[   54.326478]  __do_sys_mremap+0xd3e/0x1600
[   54.326488]  ? __pfx___do_sys_mremap+0x10/0x10
[   54.326499]  ? __this_cpu_preempt_check+0x21/0x30
[   54.326513]  ? __this_cpu_preempt_check+0x21/0x30
[   54.326532]  __x64_sys_mremap+0xc7/0x150
[   54.326540]  ? syscall_trace_enter+0x14d/0x280
[   54.326551]  x64_sys_call+0x1933/0x2150
[   54.326559]  do_syscall_64+0x6d/0x2e0
[   54.326570]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.326577] RIP: 0033:0x7f8c5783ee5d
[   54.326585] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   54.326592] RSP: 002b:00007ffef798cf08 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   54.326598] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8c5783ee5d
[   54.326602] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   54.326606] RBP: 00007ffef798cf10 R08: 000000002038d000 R09: 0000000000000001
[   54.326610] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffef798d028
[   54.326614] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8c57a78000
[   54.326628]  </TASK>
[   55.346464] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   55.346970] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1993, name: repro
[   55.347353] preempt_count: 1, expected: 0
[   55.347557] RCU nest depth: 1, expected: 0
[   55.347767] 4 locks held by repro/1993:
[   55.347964]  #0: ffff888019cee060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   55.348421]  #1: ffff88802c809d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   55.348896]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   55.349340]  #3: ffff888028734eb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   55.349835] Preemption disabled at:
[   55.349838] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   55.350371] CPU: 1 UID: 0 PID: 1993 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   55.350383] Tainted: [W]=WARN
[   55.350385] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.350390] Call Trace:
[   55.350393]  <TASK>
[   55.350396]  dump_stack_lvl+0x121/0x150
[   55.350410]  dump_stack+0x19/0x20
[   55.350419]  __might_resched+0x37b/0x5a0
[   55.350430]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.350445]  __might_sleep+0xa3/0x170
[   55.350455]  ? vm_normal_folio+0x8c/0x170
[   55.350467]  __relocate_anon_folios+0x7bd/0x11a0
[   55.350482]  ? __pfx___relocate_anon_folios+0x10/0x10
[   55.350494]  ? __this_cpu_preempt_check+0x21/0x30
[   55.350502]  ? lock_set_class+0x17a/0x260
[   55.350518]  copy_vma_and_data+0x47e/0x1480
[   55.350530]  ? percpu_counter_add_batch+0xd9/0x210
[   55.350543]  ? __pfx_copy_vma_and_data+0x10/0x10
[   55.350550]  ? vms_complete_munmap_vmas+0x525/0x810
[   55.350580]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   55.350588]  ? __this_cpu_preempt_check+0x21/0x30
[   55.350599]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.350609]  ? mtree_range_walk+0x728/0xb70
[   55.350621]  ? __lock_acquire+0x412/0x22a0
[   55.350632]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.350642]  ? percpu_counter_add_batch+0xd9/0x210
[   55.350651]  ? debug_smp_processor_id+0x20/0x30
[   55.350663]  ? __this_cpu_preempt_check+0x21/0x30
[   55.350670]  ? lock_is_held_type+0xef/0x150
[   55.350683]  move_vma+0x689/0x1a60
[   55.350695]  ? __pfx_move_vma+0x10/0x10
[   55.350704]  ? cap_mmap_addr+0x58/0x140
[   55.350714]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.350723]  ? security_mmap_addr+0x63/0x1b0
[   55.350733]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.350743]  ? __get_unmapped_area+0x1a4/0x440
[   55.350755]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.350766]  ? vrm_set_new_addr+0x21d/0x2b0
[   55.350776]  __do_sys_mremap+0xd3e/0x1600
[   55.350786]  ? __pfx___do_sys_mremap+0x10/0x10
[   55.350797]  ? __this_cpu_preempt_check+0x21/0x30
[   55.350811]  ? __this_cpu_preempt_check+0x21/0x30
[   55.350830]  __x64_sys_mremap+0xc7/0x150
[   55.350839]  ? syscall_trace_enter+0x14d/0x280
[   55.350849]  x64_sys_call+0x1933/0x2150
[   55.350856]  do_syscall_64+0x6d/0x2e0
[   55.350867]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.350874] RIP: 0033:0x7f2ba143ee5d
[   55.350882] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   55.350888] RSP: 002b:00007ffc6c49ba78 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   55.350894] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2ba143ee5d
[   55.350899] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   55.350903] RBP: 00007ffc6c49ba80 R08: 000000002038d000 R09: 0000000000000001
[   55.350907] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc6c49bb98
[   55.350910] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2ba171c000
[   55.350924]  </TASK>
[   56.369714] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   56.370247] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2027, name: repro
[   56.370652] preempt_count: 1, expected: 0
[   56.370866] RCU nest depth: 1, expected: 0
[   56.371111] 4 locks held by repro/2027:
[   56.371320]  #0: ffff88800eedcb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   56.371796]  #1: ffff88802cd3c4b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   56.372289]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   56.372754]  #3: ffff88802cd9de58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   56.373290] Preemption disabled at:
[   56.373293] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   56.373815] CPU: 0 UID: 0 PID: 2027 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   56.373834] Tainted: [W]=WARN
[   56.373836] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.373841] Call Trace:
[   56.373843]  <TASK>
[   56.373847]  dump_stack_lvl+0x121/0x150
[   56.373860]  dump_stack+0x19/0x20
[   56.373873]  __might_resched+0x37b/0x5a0
[   56.373886]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.373904]  __might_sleep+0xa3/0x170
[   56.373916]  ? vm_normal_folio+0x8c/0x170
[   56.373931]  __relocate_anon_folios+0x7bd/0x11a0
[   56.373951]  ? __pfx___relocate_anon_folios+0x10/0x10
[   56.373966]  ? __this_cpu_preempt_check+0x21/0x30
[   56.373975]  ? lock_set_class+0x17a/0x260
[   56.373995]  copy_vma_and_data+0x47e/0x1480
[   56.374011]  ? percpu_counter_add_batch+0xd9/0x210
[   56.374026]  ? __pfx_copy_vma_and_data+0x10/0x10
[   56.374035]  ? vms_complete_munmap_vmas+0x525/0x810
[   56.374059]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   56.374067]  ? __this_cpu_preempt_check+0x21/0x30
[   56.374082]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.374095]  ? mtree_range_walk+0x728/0xb70
[   56.374111]  ? __lock_acquire+0x412/0x22a0
[   56.374125]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.374137]  ? percpu_counter_add_batch+0xd9/0x210
[   56.374145]  ? debug_smp_processor_id+0x20/0x30
[   56.374159]  ? __this_cpu_preempt_check+0x21/0x30
[   56.374168]  ? lock_is_held_type+0xef/0x150
[   56.374185]  move_vma+0x689/0x1a60
[   56.374201]  ? __pfx_move_vma+0x10/0x10
[   56.374213]  ? cap_mmap_addr+0x58/0x140
[   56.374224]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.374237]  ? security_mmap_addr+0x63/0x1b0
[   56.374248]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.374261]  ? __get_unmapped_area+0x1a4/0x440
[   56.374277]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.374290]  ? vrm_set_new_addr+0x21d/0x2b0
[   56.374303]  __do_sys_mremap+0xd3e/0x1600
[   56.374317]  ? __pfx___do_sys_mremap+0x10/0x10
[   56.374331]  ? __this_cpu_preempt_check+0x21/0x30
[   56.374350]  ? __this_cpu_preempt_check+0x21/0x30
[   56.374375]  __x64_sys_mremap+0xc7/0x150
[   56.374386]  ? syscall_trace_enter+0x14d/0x280
[   56.374398]  x64_sys_call+0x1933/0x2150
[   56.374407]  do_syscall_64+0x6d/0x2e0
[   56.374421]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.374429] RIP: 0033:0x7f1cfe63ee5d
[   56.374438] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   56.374445] RSP: 002b:00007ffe1afc9dd8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   56.374453] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f1cfe63ee5d
[   56.374458] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   56.374462] RBP: 00007ffe1afc9de0 R08: 000000002038d000 R09: 0000000000000001
[   56.374467] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe1afc9ef8
[   56.374472] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f1cfe94f000
[   56.374491]  </TASK>
[   57.370338] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   57.370787] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2060, name: repro
[   57.371152] preempt_count: 1, expected: 0
[   57.371349] RCU nest depth: 1, expected: 0
[   57.371553] 4 locks held by repro/2060:
[   57.371755]  #0: ffff888010c7cb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   57.372194]  #1: ffff88801c258188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   57.372649]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   57.373072]  #3: ffff88801c1f0798 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   57.373546] Preemption disabled at:
[   57.373549] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   57.374061] CPU: 1 UID: 0 PID: 2060 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   57.374073] Tainted: [W]=WARN
[   57.374075] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.374079] Call Trace:
[   57.374082]  <TASK>
[   57.374086]  dump_stack_lvl+0x121/0x150
[   57.374100]  dump_stack+0x19/0x20
[   57.374109]  __might_resched+0x37b/0x5a0
[   57.374120]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.374134]  __might_sleep+0xa3/0x170
[   57.374144]  ? vm_normal_folio+0x8c/0x170
[   57.374155]  __relocate_anon_folios+0x7bd/0x11a0
[   57.374170]  ? __pfx___relocate_anon_folios+0x10/0x10
[   57.374181]  ? __this_cpu_preempt_check+0x21/0x30
[   57.374189]  ? lock_set_class+0x17a/0x260
[   57.374204]  copy_vma_and_data+0x47e/0x1480
[   57.374217]  ? percpu_counter_add_batch+0xd9/0x210
[   57.374229]  ? __pfx_copy_vma_and_data+0x10/0x10
[   57.374236]  ? vms_complete_munmap_vmas+0x525/0x810
[   57.374252]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   57.374259]  ? __this_cpu_preempt_check+0x21/0x30
[   57.374270]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.374280]  ? mtree_range_walk+0x728/0xb70
[   57.374292]  ? __lock_acquire+0x412/0x22a0
[   57.374303]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.374312]  ? percpu_counter_add_batch+0xd9/0x210
[   57.374318]  ? debug_smp_processor_id+0x20/0x30
[   57.374330]  ? __this_cpu_preempt_check+0x21/0x30
[   57.374336]  ? lock_is_held_type+0xef/0x150
[   57.374349]  move_vma+0x689/0x1a60
[   57.374361]  ? __pfx_move_vma+0x10/0x10
[   57.374370]  ? cap_mmap_addr+0x58/0x140
[   57.374379]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.374389]  ? security_mmap_addr+0x63/0x1b0
[   57.374398]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.374408]  ? __get_unmapped_area+0x1a4/0x440
[   57.374420]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.374429]  ? vrm_set_new_addr+0x21d/0x2b0
[   57.374440]  __do_sys_mremap+0xd3e/0x1600
[   57.374450]  ? __pfx___do_sys_mremap+0x10/0x10
[   57.374460]  ? __this_cpu_preempt_check+0x21/0x30
[   57.374474]  ? __this_cpu_preempt_check+0x21/0x30
[   57.374493]  __x64_sys_mremap+0xc7/0x150
[   57.374501]  ? syscall_trace_enter+0x14d/0x280
[   57.374511]  x64_sys_call+0x1933/0x2150
[   57.374518]  do_syscall_64+0x6d/0x2e0
[   57.374529]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.374536] RIP: 0033:0x7f090e23ee5d
[   57.374543] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   57.374550] RSP: 002b:00007ffe7a28a788 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   57.374556] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f090e23ee5d
[   57.374560] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   57.374564] RBP: 00007ffe7a28a790 R08: 000000002038d000 R09: 0000000000000001
[   57.374568] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe7a28a8a8
[   57.374572] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f090e56a000
[   57.374585]  </TASK>
[   58.374891] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   58.375376] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2093, name: repro
[   58.375773] preempt_count: 1, expected: 0
[   58.375984] RCU nest depth: 1, expected: 0
[   58.376199] 4 locks held by repro/2093:
[   58.376403]  #0: ffff888016e4a160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   58.376876]  #1: ffff88801ef034b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   58.377359]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   58.377816]  #3: ffff88802831feb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   58.378652] Preemption disabled at:
[   58.378655] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   58.379138] CPU: 0 UID: 0 PID: 2093 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   58.379150] Tainted: [W]=WARN
[   58.379153] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.379157] Call Trace:
[   58.379160]  <TASK>
[   58.379163]  dump_stack_lvl+0x121/0x150
[   58.379176]  dump_stack+0x19/0x20
[   58.379185]  __might_resched+0x37b/0x5a0
[   58.379197]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.379212]  __might_sleep+0xa3/0x170
[   58.379222]  ? vm_normal_folio+0x8c/0x170
[   58.379234]  __relocate_anon_folios+0x7bd/0x11a0
[   58.379250]  ? __pfx___relocate_anon_folios+0x10/0x10
[   58.379262]  ? __this_cpu_preempt_check+0x21/0x30
[   58.379270]  ? lock_set_class+0x17a/0x260
[   58.379286]  copy_vma_and_data+0x47e/0x1480
[   58.379299]  ? percpu_counter_add_batch+0xd9/0x210
[   58.379312]  ? __pfx_copy_vma_and_data+0x10/0x10
[   58.379319]  ? vms_complete_munmap_vmas+0x525/0x810
[   58.379335]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   58.379343]  ? __this_cpu_preempt_check+0x21/0x30
[   58.379354]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.379365]  ? mtree_range_walk+0x728/0xb70
[   58.379377]  ? __lock_acquire+0x412/0x22a0
[   58.379388]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.379398]  ? percpu_counter_add_batch+0xd9/0x210
[   58.379405]  ? debug_smp_processor_id+0x20/0x30
[   58.379416]  ? __this_cpu_preempt_check+0x21/0x30
[   58.379423]  ? lock_is_held_type+0xef/0x150
[   58.379437]  move_vma+0x689/0x1a60
[   58.379450]  ? __pfx_move_vma+0x10/0x10
[   58.379459]  ? cap_mmap_addr+0x58/0x140
[   58.379468]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.379479]  ? security_mmap_addr+0x63/0x1b0
[   58.379488]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.379498]  ? __get_unmapped_area+0x1a4/0x440
[   58.379511]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.379521]  ? vrm_set_new_addr+0x21d/0x2b0
[   58.379532]  __do_sys_mremap+0xd3e/0x1600
[   58.379542]  ? __pfx___do_sys_mremap+0x10/0x10
[   58.379553]  ? __this_cpu_preempt_check+0x21/0x30
[   58.379568]  ? __this_cpu_preempt_check+0x21/0x30
[   58.379587]  __x64_sys_mremap+0xc7/0x150
[   58.379596]  ? syscall_trace_enter+0x14d/0x280
[   58.379607]  x64_sys_call+0x1933/0x2150
[   58.379615]  do_syscall_64+0x6d/0x2e0
[   58.379626]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.379633] RIP: 0033:0x7f66a643ee5d
[   58.379640] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   58.379650] RSP: 002b:00007fff2b4469d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   58.379657] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f66a643ee5d
[   58.379661] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   58.379666] RBP: 00007fff2b4469e0 R08: 000000002038d000 R09: 0000000000000001
[   58.379670] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff2b446af8
[   58.379674] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f66a6697000
[   58.379688]  </TASK>
[   59.379992] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   59.380459] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2127, name: repro
[   59.380849] preempt_count: 1, expected: 0
[   59.381054] RCU nest depth: 1, expected: 0
[   59.381267] 4 locks held by repro/2127:
[   59.381467]  #0: ffff8880149e81e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   59.381970]  #1: ffff88802ce1a078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   59.382444]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   59.382888]  #3: ffff88801ef31198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   59.383378] Preemption disabled at:
[   59.383381] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   59.383881] CPU: 0 UID: 0 PID: 2127 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   59.383893] Tainted: [W]=WARN
[   59.383895] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.383900] Call Trace:
[   59.383902]  <TASK>
[   59.383905]  dump_stack_lvl+0x121/0x150
[   59.383919]  dump_stack+0x19/0x20
[   59.383928]  __might_resched+0x37b/0x5a0
[   59.383939]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.383954]  __might_sleep+0xa3/0x170
[   59.383964]  ? vm_normal_folio+0x8c/0x170
[   59.383976]  __relocate_anon_folios+0x7bd/0x11a0
[   59.383991]  ? __pfx___relocate_anon_folios+0x10/0x10
[   59.384003]  ? __this_cpu_preempt_check+0x21/0x30
[   59.384011]  ? lock_set_class+0x17a/0x260
[   59.384026]  copy_vma_and_data+0x47e/0x1480
[   59.384039]  ? percpu_counter_add_batch+0xd9/0x210
[   59.384051]  ? __pfx_copy_vma_and_data+0x10/0x10
[   59.384059]  ? vms_complete_munmap_vmas+0x525/0x810
[   59.384074]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   59.384082]  ? __this_cpu_preempt_check+0x21/0x30
[   59.384093]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.384103]  ? mtree_range_walk+0x728/0xb70
[   59.384115]  ? __lock_acquire+0x412/0x22a0
[   59.384126]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.384136]  ? percpu_counter_add_batch+0xd9/0x210
[   59.384142]  ? debug_smp_processor_id+0x20/0x30
[   59.384153]  ? __this_cpu_preempt_check+0x21/0x30
[   59.384160]  ? lock_is_held_type+0xef/0x150
[   59.384174]  move_vma+0x689/0x1a60
[   59.384186]  ? __pfx_move_vma+0x10/0x10
[   59.384195]  ? cap_mmap_addr+0x58/0x140
[   59.384204]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.384214]  ? security_mmap_addr+0x63/0x1b0
[   59.384224]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.384234]  ? __get_unmapped_area+0x1a4/0x440
[   59.384246]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.384256]  ? vrm_set_new_addr+0x21d/0x2b0
[   59.384266]  __do_sys_mremap+0xd3e/0x1600
[   59.384277]  ? __pfx___do_sys_mremap+0x10/0x10
[   59.384287]  ? __this_cpu_preempt_check+0x21/0x30
[   59.384301]  ? __this_cpu_preempt_check+0x21/0x30
[   59.384321]  __x64_sys_mremap+0xc7/0x150
[   59.384329]  ? syscall_trace_enter+0x14d/0x280
[   59.384339]  x64_sys_call+0x1933/0x2150
[   59.384347]  do_syscall_64+0x6d/0x2e0
[   59.384358]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.384365] RIP: 0033:0x7f7296c3ee5d
[   59.384372] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   59.384379] RSP: 002b:00007ffc787adf78 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   59.384385] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7296c3ee5d
[   59.384389] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   59.384393] RBP: 00007ffc787adf80 R08: 000000002038d000 R09: 0000000000000001
[   59.384397] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc787ae098
[   59.384401] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7296eb8000
[   59.384415]  </TASK>
[   60.378077] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   60.378545] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2160, name: repro
[   60.378943] preempt_count: 1, expected: 0
[   60.379148] RCU nest depth: 1, expected: 0
[   60.379360] 4 locks held by repro/2160:
[   60.379560]  #0: ffff88801a6f7560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x410/0x1600
[   60.380024]  #1: ffff88802cece6d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x3ba/0x1480
[   60.380500]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   60.380943]  #3: ffff888028256978 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   60.381439] Preemption disabled at:
[   60.381441] [<ffffffff81e0c122>] __pte_offset_map_lock+0x1a2/0x3c0
[   60.381967] CPU: 1 UID: 0 PID: 2160 Comm: repro Tainted: G        W           6.16.0-rc2-aaf5c23bf6a4+ #1 PREEMPT(voluntary) 
[   60.381978] Tainted: [W]=WARN
[   60.381981] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.381985] Call Trace:
[   60.381988]  <TASK>
[   60.381992]  dump_stack_lvl+0x121/0x150
[   60.382006]  dump_stack+0x19/0x20
[   60.382015]  __might_resched+0x37b/0x5a0
[   60.382026]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.382041]  __might_sleep+0xa3/0x170
[   60.382051]  ? vm_normal_folio+0x8c/0x170
[   60.382062]  __relocate_anon_folios+0x7bd/0x11a0
[   60.382078]  ? __pfx___relocate_anon_folios+0x10/0x10
[   60.382089]  ? __this_cpu_preempt_check+0x21/0x30
[   60.382098]  ? lock_set_class+0x17a/0x260
[   60.382113]  copy_vma_and_data+0x47e/0x1480
[   60.382125]  ? percpu_counter_add_batch+0xd9/0x210
[   60.382138]  ? __pfx_copy_vma_and_data+0x10/0x10
[   60.382146]  ? vms_complete_munmap_vmas+0x525/0x810
[   60.382161]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   60.382169]  ? __this_cpu_preempt_check+0x21/0x30
[   60.382180]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   60.382190]  ? mtree_range_walk+0x728/0xb70
[   60.382202]  ? __lock_acquire+0x412/0x22a0
[   60.382213]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.382223]  ? percpu_counter_add_batch+0xd9/0x210
[   60.382229]  ? debug_smp_processor_id+0x20/0x30
[   60.382241]  ? __this_cpu_preempt_check+0x21/0x30
[   60.382247]  ? lock_is_held_type+0xef/0x150
[   60.382261]  move_vma+0x689/0x1a60
[   60.382273]  ? __pfx_move_vma+0x10/0x10
[   60.382282]  ? cap_mmap_addr+0x58/0x140
[   60.382291]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   60.382302]  ? security_mmap_addr+0x63/0x1b0
[   60.382311]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.382321]  ? __get_unmapped_area+0x1a4/0x440
[   60.382333]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.382343]  ? vrm_set_new_addr+0x21d/0x2b0
[   60.382353]  __do_sys_mremap+0xd3e/0x1600
[   60.382364]  ? __pfx___do_sys_mremap+0x10/0x10
[   60.382374]  ? __this_cpu_preempt_check+0x21/0x30
[   60.382389]  ? __this_cpu_preempt_check+0x21/0x30
[   60.382408]  __x64_sys_mremap+0xc7/0x150
[   60.382416]  ? syscall_trace_enter+0x14d/0x280
[   60.382426]  x64_sys_call+0x1933/0x2150
[   60.382434]  do_syscall_64+0x6d/0x2e0
[   60.382445]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.382453] RIP: 0033:0x7fbea2a3ee5d
[   60.382460] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   60.382467] RSP: 002b:00007ffe21252bc8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   60.382473] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fbea2a3ee5d
[   60.382477] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   60.382481] RBP: 00007ffe21252bd0 R08: 000000002038d000 R09: 0000000000000001
[   60.382485] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe21252ce8
[   60.382489] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fbea2dfc000
[   60.382503]  </TASK>

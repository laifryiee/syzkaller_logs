c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.16.0-rc2-24d3f236a397+ (root@p-arls02) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-7), GNU ld version 2.35.2-65.el9) #1 SMP PREEMPT_DYNAMIC Tue Jun 17 04:48:15 CST 2025
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/CPU: Model not found in latest microcode list
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000002] kvm-clock: using sched offset of 905729483 cycles
[    0.000375] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001524] tsc: Detected 1267.200 MHz processor
[    0.007111] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.007515] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.008106] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.016559] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.016989] Using GB pages for direct mapping
[    0.018879] ACPI: Early table checksum verification disabled
[    0.019271] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.019694] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.020313] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.020929] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.021538] ACPI: FACS 0x000000007FFE0000 000040
[    0.021877] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.022470] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023069] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023658] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.024152] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.024636] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.025125] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.025610] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.026100] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.027034] No NUMA configuration found
[    0.027290] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.027780] NODE_DATA(0) allocated [mem 0x7ffb4e80-0x7ffdfc7f]
[    0.028734] Zone ranges:
[    0.028916]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.029349]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.029782]   Normal   empty
[    0.029989]   Device   empty
[    0.030197] Movable zone start for each node
[    0.030510] Early memory node ranges
[    0.030763]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.031209]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.031655] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.032777] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.033455] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.115028] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.549078] kasan: KernelAddressSanitizer initialized
[    0.549719] ACPI: PM-Timer IO Port: 0x608
[    0.550039] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.550492] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.550979] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.551422] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.551880] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.552341] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.552806] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.553288] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.553730] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.554099] TSC deadline timer available
[    0.554374] CPU topo: Max. logical packages:   1
[    0.554692] CPU topo: Max. logical dies:       1
[    0.555014] CPU topo: Max. dies per package:   1
[    0.555333] CPU topo: Max. threads per core:   1
[    0.555651] CPU topo: Num. cores per package:     2
[    0.555992] CPU topo: Num. threads per package:   2
[    0.556335] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.556830] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.557370] kvm-guest: KVM setup pv remote TLB flush
[    0.557716] kvm-guest: setup PV sched yield
[    0.558039] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.558563] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x000fffff]
[    0.559089] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.559508] Booting paravirtualized kernel on KVM
[    0.559839] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.560570] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.562969] percpu: Embedded 80 pages/cpu s290816 r8192 d28672 u1048576
[    0.563560] kvm-guest: PV spinlocks enabled
[    0.563873] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.564390] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.565461] random: crng init done
[    0.565711] printk: log buffer data + meta data: 262144 + 917504 = 1179648 bytes
[    0.568000] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.569293] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.570138] Fallback order for Node 0: 0 
[    0.570146] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.570865] Policy zone: DMA32
[    0.571071] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.571487] stackdepot: allocating hash table via alloc_large_system_hash
[    0.571949] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.672106] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.672602] kmemleak: Kernel memory leak detector disabled
[    0.705635] ftrace: allocating 73931 entries in 292 pages
[    0.706020] ftrace: allocated 292 pages with 3 groups
[    0.709887] Dynamic Preempt: voluntary
[    0.710517] Running RCU self tests
[    0.710748] Running RCU synchronous self tests
[    0.711051] rcu: Preemptible hierarchical RCU implementation.
[    0.711446] rcu: 	RCU lockdep checking is enabled.
[    0.711770] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.712231] 	Trampoline variant of Tasks RCU enabled.
[    0.712587] 	Rude variant of Tasks RCU enabled.
[    0.712898] 	Tracing variant of Tasks RCU enabled.
[    0.713220] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.713761] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.714253] Running RCU synchronous self tests
[    0.714553] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.715137] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.715742] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.766510] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.767362] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.773504] Console: colour VGA+ 80x25
[    0.773812] printk: legacy console [ttyS0] enabled
[    0.773812] printk: legacy console [ttyS0] enabled
[    0.774463] printk: legacy bootconsole [earlyser0] disabled
[    0.774463] printk: legacy bootconsole [earlyser0] disabled
[    0.775228] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.775756] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.776044] ... MAX_LOCK_DEPTH:          48
[    0.776335] ... MAX_LOCKDEP_KEYS:        8192
[    0.776637] ... CLASSHASH_SIZE:          4096
[    0.776940] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.777258] ... MAX_LOCKDEP_CHAINS:      524288
[    0.777579] ... CHAINHASH_SIZE:          262144
[    0.777902]  memory used by lock dependency info: 54145 kB
[    0.778287]  memory used for stack traces: 4224 kB
[    0.778625]  per task-struct memory footprint: 1920 bytes
[    0.779070] ACPI: Core revision 20250404
[    0.779649] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.780426] APIC: Switch to symmetric I/O mode setup
[    0.780951] x2apic enabled
[    0.781449] APIC: Switched APIC routing to: physical x2apic
[    0.781842] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.782353] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.782983] kvm-guest: setup PV IPIs
[    0.784070] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.784548] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    0.785324] Calibrating delay loop (skipped) preset value.. 2534.40 BogoMIPS (lpj=5068800)
[    0.786019] CPU0: Thermal monitoring enabled (TM1)
[    0.786362] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.786894] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.787263] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.787690] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.788272] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.789331] ITS: Mitigation: Aligned branch/return thunks
[    0.789704] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.790275] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.791041] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.791541] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.792091] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.792664] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.793314] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.793751] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.794179] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.794713] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.795130] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.795552] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.914655] Freeing SMP alternatives memory: 60K
[    0.915018] pid_max: default: 32768 minimum: 301
[    0.915552] LSM: initializing lsm=capability,yama,ima,evm
[    0.916027] Yama: becoming mindful.
[    0.916626] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.917145] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.918571] Running RCU synchronous self tests
[    0.918874] Running RCU synchronous self tests
[    0.919539] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xc6, stepping: 0x0)
[    0.921021] Performance Events: unsupported CPU family 6 model 198 no PMU driver, software events only.
[    0.921311] signal: max sigframe size: 3632
[    0.921311] rcu: Hierarchical SRCU implementation.
[    0.921311] rcu: 	Max phase no-delay instances is 1000.
[    0.921311] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    0.930313] NMI watchdog: Perf NMI watchdog permanently disabled
[    0.930930] smp: Bringing up secondary CPUs ...
[    0.931873] smpboot: x86: Booting SMP configuration:
[    0.932226] .... node  #0, CPUs:      #1
[    0.933441] smp: Brought up 1 node, 2 CPUs
[    0.934013] smpboot: Total of 2 processors activated (5068.80 BogoMIPS)
[    0.934992] Memory: 1545512K/2096632K available (79009K kernel code, 15320K rwdata, 18328K rodata, 16068K init, 68656K bss, 539468K reserved, 0K cma-reserved)
[    0.937612] devtmpfs: initialized
[    0.938158] x86/mm: Memory block size: 128MB
[    0.947568] Running RCU synchronous self tests
[    0.947568] Running RCU synchronous self tests
[    0.949416] Running RCU Tasks wait API self tests
[    0.949672] Running RCU Tasks Rude wait API self tests
[    0.949698] Running RCU Tasks Trace wait API self tests
[    0.969361] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.973379] posixtimers hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    0.973975] futex hash table entries: 512 (65536 bytes on 1 NUMA nodes, total 64 KiB, linear).
[    0.974951] pinctrl core: initialized pinctrl subsystem
[    0.976204] 
[    0.976311] *************************************************************
[    0.976765] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.977236] **                                                         **
[    0.977318] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    0.977741] **                                                         **
[    0.978149] ** This means that this kernel is built to expose internal **
[    0.978561] ** IOMMU data structures, which may compromise security on **
[    0.978996] ** your system.                                            **
[    0.979469] **                                                         **
[    0.979925] ** If you see this message and you are not debugging the   **
[    0.980382] ** kernel, report this immediately to your vendor!         **
[    0.980850] **                                                         **
[    0.981306] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.981315] *************************************************************
[    0.981831] PM: RTC time: 20:50:40, date: 2025-06-16
[    0.986093] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.987635] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    0.988140] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.988709] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.989326] audit: initializing netlink subsys (disabled)
[    0.989727] audit: type=2000 audit(1750107041.358:1): state=initialized audit_enabled=0 res=1
[    0.991070] thermal_sys: Registered thermal governor 'fair_share'
[    0.991078] thermal_sys: Registered thermal governor 'bang_bang'
[    0.991078] thermal_sys: Registered thermal governor 'step_wise'
[    0.991078] thermal_sys: Registered thermal governor 'user_space'
[    0.993342] cpuidle: using governor ladder
[    0.994045] cpuidle: using governor menu
[    0.994071] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.994071] PCI: Using configuration type 1 for base access
[    0.994324] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    0.998224] HugeTLB: allocation took 0ms with hugepage_allocation_threads=1
[    0.998748] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    0.999244] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    0.999711] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.001326] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.001804] Callback from call_rcu_tasks_trace() invoked.
[    1.114701] ACPI: Added _OSI(Module Device)
[    1.115060] ACPI: Added _OSI(Processor Device)
[    1.115385] ACPI: Added _OSI(Processor Aggregator Device)
[    1.125612] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.138196] ACPI: Interpreter enabled
[    1.138196] ACPI: PM: (supports S0 S3 S4 S5)
[    1.138196] ACPI: Using IOAPIC for interrupt routing
[    1.138497] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.139130] PCI: Using E820 reservations for host bridge windows
[    1.140343] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.167156] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.167639] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.168210] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.168990] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.172546] acpiphp: Slot [3] registered
[    1.172919] acpiphp: Slot [4] registered
[    1.173281] acpiphp: Slot [5] registered
[    1.173407] acpiphp: Slot [6] registered
[    1.173782] acpiphp: Slot [7] registered
[    1.174191] acpiphp: Slot [8] registered
[    1.174551] acpiphp: Slot [9] registered
[    1.174920] acpiphp: Slot [10] registered
[    1.175297] acpiphp: Slot [11] registered
[    1.175695] acpiphp: Slot [12] registered
[    1.176082] acpiphp: Slot [13] registered
[    1.176457] acpiphp: Slot [14] registered
[    1.176826] acpiphp: Slot [15] registered
[    1.177225] acpiphp: Slot [16] registered
[    1.177451] acpiphp: Slot [17] registered
[    1.177840] acpiphp: Slot [18] registered
[    1.178225] acpiphp: Slot [19] registered
[    1.178622] acpiphp: Slot [20] registered
[    1.179000] acpiphp: Slot [21] registered
[    1.179379] acpiphp: Slot [22] registered
[    1.179753] acpiphp: Slot [23] registered
[    1.180140] acpiphp: Slot [24] registered
[    1.180510] acpiphp: Slot [25] registered
[    1.180893] acpiphp: Slot [26] registered
[    1.181261] acpiphp: Slot [27] registered
[    1.185425] acpiphp: Slot [28] registered
[    1.185801] acpiphp: Slot [29] registered
[    1.186184] acpiphp: Slot [30] registered
[    1.186559] acpiphp: Slot [31] registered
[    1.186894] PCI host bridge to bus 0000:00
[    1.187224] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.187712] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.188183] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.188709] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.189227] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.189320] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.189836] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.196463] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.198056] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.199093] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.199490] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.199967] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.200399] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.200874] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.201722] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.202534] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.203048] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.203953] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.218384] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.218982] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.219418] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.220355] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.228279] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.234593] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.235030] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.235423] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.251653] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.252805] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.253793] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.254786] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.255445] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.259454] iommu: Default domain type: Translated
[    1.259825] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.265435] SCSI subsystem initialized
[    1.266355] ACPI: bus type USB registered
[    1.266915] usbcore: registered new interface driver usbfs
[    1.267433] usbcore: registered new interface driver hub
[    1.267862] usbcore: registered new device driver usb
[    1.268662] pps_core: LinuxPPS API ver. 1 registered
[    1.269013] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.269362] PTP clock support registered
[    1.270101] EDAC MC: Ver: 3.0.0
[    1.274089] NetLabel: Initializing
[    1.274341] NetLabel:  domain hash size = 128
[    1.274648] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.275269] NetLabel:  unlabeled traffic allowed by default
[    1.276470] PCI: Using ACPI for IRQ routing
[    1.277157] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.277311] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.277311] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.277318] vgaarb: loaded
[    1.278495] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.278874] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.285311] clocksource: Switched to clocksource kvm-clock
[    1.285311] VFS: Disk quotas dquot_6.6.0
[    1.285311] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.294964] pnp: PnP ACPI init
[    1.298455] pnp: PnP ACPI: found 6 devices
[    1.316242] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.317387] NET: Registered PF_INET protocol family
[    1.318083] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.319993] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.320670] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.321271] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.322460] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.325391] TCP: Hash tables configured (established 16384 bind 16384)
[    1.326078] UDP hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.326742] UDP-Lite hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.327760] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.329018] RPC: Registered named UNIX socket transport module.
[    1.329461] RPC: Registered udp transport module.
[    1.329812] RPC: Registered tcp transport module.
[    1.330143] RPC: Registered tcp-with-tls transport module.
[    1.330529] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.331025] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.331468] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.331902] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.332387] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.332885] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.333668] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.334083] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.334583] PCI: CLS 0 bytes, default 64
[    1.335025] ACPI: bus type thunderbolt registered
[    1.335812] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    3.190172] Initialise system trusted keyrings
[    3.190634] Key type blacklist registered
[    3.191629] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.193847] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.196139] NFS: Registering the id_resolver key type
[    3.196533] Key type id_resolver registered
[    3.196827] Key type id_legacy registered
[    3.197168] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.197691] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.198820] fuse: init (API version 7.44)
[    3.199937] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.202219] 9p: Installing v9fs 9p2000 file system support
[    3.212147] Key type asymmetric registered
[    3.212450] Asymmetric key parser 'x509' registered
[    3.212957] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 242)
[    3.213916] io scheduler mq-deadline registered
[    3.214333] io scheduler bfq registered
[    3.215665] ledtrig-cpu: registered to indicate activity on CPUs
[    3.217544] IPMI message handler: version 39.2
[    3.217924] ipmi device interface
[    3.220080] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.221109] ACPI: button: Power Button [PWRF]
[    3.223241] ERST DBG: ERST support is disabled.
[    3.225046] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.226560] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.257605] Callback from call_rcu_tasks() invoked.
[    3.257836] Linux agpgart interface v0.103
[    3.260945] ACPI: bus type drm_connector registered
[    3.284382] brd: module loaded
[    3.321017] loop: module loaded
[    3.333175] scsi host0: ata_piix
[    3.334921] scsi host1: ata_piix
[    3.335538] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.336051] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.339070] tun: Universal TUN/TAP device driver, 1.6
[    3.340057] e100: Intel(R) PRO/100 Network Driver
[    3.340412] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.340900] e1000: Intel(R) PRO/1000 Network Driver
[    3.341247] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.489760] ata1: found unknown device (class 0)
[    3.490682] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.491090] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.493257] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.493963] ata2: found unknown device (class 0)
[    3.496586] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.497197] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.497833] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.498935] sd 0:0:0:0: [sda] Write Protect is off
[    3.499431] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.500203] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.500258] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.527496] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    3.530402] sd 0:0:0:0: [sda] Attached SCSI disk
[    3.770392] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.077667] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.078215] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.078889] e1000e: Intel(R) PRO/1000 Network Driver
[    4.079244] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.079781] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.080159] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.080854] PPP generic driver version 2.4.2
[    4.082875] VFIO - User Level meta-driver version: 0.3
[    4.084795] usbcore: registered new interface driver uas
[    4.085294] usbcore: registered new interface driver usb-storage
[    4.086019] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.087801] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.088203] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.091070] mousedev: PS/2 mouse device common for all mice
[    4.092726] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.094382] rtc_cmos 00:05: RTC can wake from S4
[    4.095637] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.096351] rtc_cmos 00:05: registered as rtc0
[    4.096754] rtc_cmos 00:05: setting system clock to 2025-06-16T20:50:44 UTC (1750107044)
[    4.097746] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.097836] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.098358] i2c_dev: i2c /dev entries driver
[    4.099656] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.100569] device-mapper: uevent: version 1.0.3
[    4.101356] device-mapper: ioctl: 4.50.0-ioctl (2025-04-28) initialised: dm-devel@lists.linux.dev
[    4.102056] intel_pstate: CPU model not supported
[    4.102638] sdhci: Secure Digital Host Controller Interface driver
[    4.103070] sdhci: Copyright(c) Pierre Ossman
[    4.103574] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.104503] drop_monitor: Initializing network drop monitor service
[    4.105287] NET: Registered PF_INET6 protocol family
[    4.110955] Segment Routing with IPv6
[    4.111344] In-situ OAM (IOAM) with IPv6
[    4.111793] NET: Registered PF_PACKET protocol family
[    4.112641] 9pnet: Installing 9P2000 support
[    4.113104] Key type dns_resolver registered
[    4.115527] IPI shorthand broadcast: enabled
[    4.158546] sched_clock: Marking stable (4144007300, 13476278)->(4163072351, -5588773)
[    4.160273] registered taskstats version 1
[    4.161231] Loading compiled-in X.509 certificates
[    4.219043] Demotion targets for Node 0: null
[    4.220972] Key type .fscrypt registered
[    4.221291] Key type fscrypt-provisioning registered
[    4.226131] Key type encrypted registered
[    4.226525] ima: No TPM chip found, activating TPM-bypass!
[    4.226932] ima: Allocated hash algorithm: sha1
[    4.227331] ima: No architecture policies found
[    4.227802] evm: Initialising EVM extended attributes:
[    4.228161] evm: security.selinux
[    4.228400] evm: security.SMACK64
[    4.228636] evm: security.SMACK64EXEC
[    4.228895] evm: security.SMACK64TRANSMUTE
[    4.229185] evm: security.SMACK64MMAP
[    4.229449] evm: security.apparmor
[    4.229711] evm: security.ima
[    4.229924] evm: security.capability
[    4.230177] evm: HMAC attrs: 0x1
[    4.232477] PM:   Magic number: 13:113:852
[    4.233770] RAS: Correctable Errors collector initialized.
[    4.234408] clk: Disabling unused clocks
[    4.235052] PM: genpd: Disabling unused power domains
[    4.236843] md: Waiting for all devices to be available before autodetect
[    4.237135] md: If you don't use raid, use raid=noautodetect
[    4.237417] md: Autodetecting RAID arrays.
[    4.237680] md: autorun ...
[    4.237826] md: ... autorun DONE.
[    4.251031] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.251674] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.254708] devtmpfs: mounted
[    4.275124] Freeing unused decrypted memory: 2028K
[    4.287372] Freeing unused kernel image (initmem) memory: 16068K
[    4.287838] Write protecting the kernel read-only data: 98304k
[    4.291275] Freeing unused kernel image (text/rodata gap) memory: 860K
[    4.291748] Freeing unused kernel image (rodata/data gap) memory: 104K
[    4.350913] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.351279] Run /sbin/init as init process
[    4.576220] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    4.577653] systemd[1]: Detected virtualization kvm.
[    4.578439] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    4.584686] systemd[1]: Hostname set to <test>.
[    4.796837] systemd-rc-local-generator[121]: /etc/rc.d/rc.local is not marked executable, skipping.
[    5.199054] systemd[1]: Queued start job for default target Multi-User System.
[    5.228126] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    5.232296] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    5.234643] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    5.236832] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    5.239295] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    5.241284] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    5.242354] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password Râ€¦uests to Wall Directory Watch[0m.
[    5.244032] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitraryâ€¦s File System Automount Point[0m.
[    5.245159] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    5.246199] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    5.247081] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    5.247926] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    5.249113] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    5.250579] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    5.251537] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    5.302748] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    5.303816] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    5.306692] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    5.307789] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    5.309155] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    5.310398] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    5.311651] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    5.312760] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    5.342145] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    5.347461] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    5.356453] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    5.361757] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    5.364976] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    5.365697] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.16.0-rc2-24d3f236a397+/modules.devname).
[    5.370431] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVMâ€¦meventd or progress polling[0m...
[    5.376475] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    5.429282] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    5.443383] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    5.452164] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS â€¦from /etc/sysconfig/network[0m...
[    5.463086] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    5.472865] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    5.480300] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network â€¦ts from Kernel command line[0m...
[    5.498984] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    5.500173] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    5.521814] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    5.551016] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    5.554008] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    5.557109] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    5.567381] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    5.569367] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    5.573362] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    5.579478] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    5.581790] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    5.587188] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    5.588367] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    5.595411] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS â€¦e from /etc/sysconfig/network[0m.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
[    5.612722] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w.
         Mounting [0;1;39mFUSE Control File System[0m...
         Mounting [0;1;39mKernel Configuration File System[0m...
         Starting [0;1;39mApply Kernel Variables[0m...
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVMâ€¦ dmeventd or progress polling[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
         Starting [0;1;39mSetup Virtual Console[0m...
[    5.752153] systemd-journald[147]: Received client request to flush runtime journal.
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manageâ€¦for Device Events and Files[0m...
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
         Starting [0;1;39mWait for udev To â€¦plete Device Initialization[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to sâ€¦E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password â€¦ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to sâ€¦VME devices found during boot[0m.
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF â€¦itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberosâ€¦ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine aâ€¦tainer Registration Service[0m...
         Starting [0;1;39mupdate of the rooâ€¦NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine anâ€¦ontainer Registration Service[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the rooâ€¦ DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[    8.789710] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.16.0-rc2-24d3f236a397+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   17.308413] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   17.308891] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 727, name: repro
[   17.309257] preempt_count: 1, expected: 0
[   17.309456] RCU nest depth: 1, expected: 0
[   17.309815] 4 locks held by repro/727:
[   17.310007]  #0: ffff8880158f4b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   17.310464]  #1: ffff88800ed0ab18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   17.310919]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   17.311351]  #3: ffff888012986a98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   17.311821] Preemption disabled at:
[   17.311824] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   17.312320] CPU: 1 UID: 0 PID: 727 Comm: repro Not tainted 6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   17.312330] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   17.312339] Call Trace:
[   17.312345]  <TASK>
[   17.312349]  dump_stack_lvl+0x121/0x150
[   17.312382]  dump_stack+0x19/0x20
[   17.312390]  __might_resched+0x37b/0x5a0
[   17.312409]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   17.312428]  __might_sleep+0xa3/0x170
[   17.312438]  ? vm_normal_folio+0x8c/0x170
[   17.312450]  __relocate_anon_folios+0xf97/0x2960
[   17.312467]  ? reacquire_held_locks+0xdd/0x1f0
[   17.312483]  ? __pfx___relocate_anon_folios+0x10/0x10
[   17.312495]  ? lock_set_class+0x17a/0x260
[   17.312508]  copy_vma_and_data+0x606/0x1790
[   17.312520]  ? percpu_counter_add_batch+0xd9/0x210
[   17.312540]  ? __pfx_copy_vma_and_data+0x10/0x10
[   17.312547]  ? vms_complete_munmap_vmas+0x525/0x810
[   17.312564]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   17.312571]  ? __this_cpu_preempt_check+0x21/0x30
[   17.312588]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   17.312598]  ? mtree_range_walk+0x728/0xb70
[   17.312612]  ? __lock_acquire+0x412/0x22a0
[   17.312622]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   17.312632]  ? percpu_counter_add_batch+0xd9/0x210
[   17.312638]  ? debug_smp_processor_id+0x20/0x30
[   17.312648]  ? __this_cpu_preempt_check+0x21/0x30
[   17.312655]  ? lock_is_held_type+0xef/0x150
[   17.312670]  move_vma+0x689/0x1a60
[   17.312682]  ? __pfx_move_vma+0x10/0x10
[   17.312691]  ? cap_mmap_addr+0x58/0x140
[   17.312704]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   17.312715]  ? security_mmap_addr+0x63/0x1b0
[   17.312728]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   17.312737]  ? __get_unmapped_area+0x1a4/0x440
[   17.312749]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   17.312759]  ? vrm_set_new_addr+0x21d/0x2b0
[   17.312768]  __do_sys_mremap+0xeb4/0x1620
[   17.312778]  ? __pfx___do_sys_mremap+0x10/0x10
[   17.312788]  ? __this_cpu_preempt_check+0x21/0x30
[   17.312802]  ? __this_cpu_preempt_check+0x21/0x30
[   17.312820]  __x64_sys_mremap+0xc7/0x150
[   17.312828]  ? syscall_trace_enter+0x14d/0x280
[   17.312842]  x64_sys_call+0x1933/0x2150
[   17.312853]  do_syscall_64+0x6d/0x2e0
[   17.312864]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   17.312871] RIP: 0033:0x7f32b3c3ee5d
[   17.312883] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   17.312889] RSP: 002b:00007fff53354108 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   17.312899] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f32b3c3ee5d
[   17.312903] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   17.312912] RBP: 00007fff53354110 R08: 000000002038d000 R09: 0000000000000001
[   17.312916] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff53354228
[   17.312919] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f32b3eac000
[   17.312932]  </TASK>
[   18.332096] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   18.332567] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 763, name: repro
[   18.332920] preempt_count: 1, expected: 0
[   18.333113] RCU nest depth: 1, expected: 0
[   18.333312] 4 locks held by repro/763:
[   18.333531]  #0: ffff88801414c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   18.333970]  #1: ffff888011e83d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   18.334422]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   18.334835]  #3: ffff888011d92258 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   18.335299] Preemption disabled at:
[   18.335301] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   18.335775] CPU: 1 UID: 0 PID: 763 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   18.335786] Tainted: [W]=WARN
[   18.335788] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   18.335793] Call Trace:
[   18.335795]  <TASK>
[   18.335798]  dump_stack_lvl+0x121/0x150
[   18.335811]  dump_stack+0x19/0x20
[   18.335819]  __might_resched+0x37b/0x5a0
[   18.335831]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.335845]  __might_sleep+0xa3/0x170
[   18.335854]  ? vm_normal_folio+0x8c/0x170
[   18.335864]  __relocate_anon_folios+0xf97/0x2960
[   18.335893]  ? reacquire_held_locks+0xdd/0x1f0
[   18.335905]  ? __pfx___relocate_anon_folios+0x10/0x10
[   18.335918]  ? lock_set_class+0x17a/0x260
[   18.335931]  copy_vma_and_data+0x606/0x1790
[   18.335943]  ? percpu_counter_add_batch+0xd9/0x210
[   18.335956]  ? __pfx_copy_vma_and_data+0x10/0x10
[   18.335963]  ? vms_complete_munmap_vmas+0x525/0x810
[   18.335979]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   18.335985]  ? __this_cpu_preempt_check+0x21/0x30
[   18.335998]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.336008]  ? mtree_range_walk+0x728/0xb70
[   18.336019]  ? __lock_acquire+0x412/0x22a0
[   18.336030]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   18.336039]  ? percpu_counter_add_batch+0xd9/0x210
[   18.336045]  ? debug_smp_processor_id+0x20/0x30
[   18.336056]  ? __this_cpu_preempt_check+0x21/0x30
[   18.336063]  ? lock_is_held_type+0xef/0x150
[   18.336075]  move_vma+0x689/0x1a60
[   18.336087]  ? __pfx_move_vma+0x10/0x10
[   18.336096]  ? cap_mmap_addr+0x58/0x140
[   18.336105]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.336115]  ? security_mmap_addr+0x63/0x1b0
[   18.336123]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.336133]  ? __get_unmapped_area+0x1a4/0x440
[   18.336145]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.336154]  ? vrm_set_new_addr+0x21d/0x2b0
[   18.336164]  __do_sys_mremap+0xeb4/0x1620
[   18.336174]  ? __pfx___do_sys_mremap+0x10/0x10
[   18.336184]  ? __this_cpu_preempt_check+0x21/0x30
[   18.336198]  ? __this_cpu_preempt_check+0x21/0x30
[   18.336216]  __x64_sys_mremap+0xc7/0x150
[   18.336224]  ? syscall_trace_enter+0x14d/0x280
[   18.336241]  x64_sys_call+0x1933/0x2150
[   18.336248]  do_syscall_64+0x6d/0x2e0
[   18.336259]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   18.336265] RIP: 0033:0x7f5faea3ee5d
[   18.336273] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   18.336279] RSP: 002b:00007ffefb91f5d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   18.336285] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f5faea3ee5d
[   18.336289] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   18.336293] RBP: 00007ffefb91f5e0 R08: 000000002038d000 R09: 0000000000000001
[   18.336297] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffefb91f6f8
[   18.336304] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f5faedff000
[   18.336317]  </TASK>
[   19.339064] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   19.339518] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 799, name: repro
[   19.339873] preempt_count: 1, expected: 0
[   19.340079] RCU nest depth: 1, expected: 0
[   19.340280] 4 locks held by repro/799:
[   19.340465]  #0: ffff8880296881e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   19.340890]  #1: ffff8880294ad6d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   19.341333]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   19.341776]  #3: ffff88802956a8b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   19.342247] Preemption disabled at:
[   19.342249] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   19.342720] CPU: 1 UID: 0 PID: 799 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   19.342730] Tainted: [W]=WARN
[   19.342732] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   19.342737] Call Trace:
[   19.342739]  <TASK>
[   19.342742]  dump_stack_lvl+0x121/0x150
[   19.342755]  dump_stack+0x19/0x20
[   19.342763]  __might_resched+0x37b/0x5a0
[   19.342773]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.342786]  __might_sleep+0xa3/0x170
[   19.342795]  ? vm_normal_folio+0x8c/0x170
[   19.342806]  __relocate_anon_folios+0xf97/0x2960
[   19.342822]  ? reacquire_held_locks+0xdd/0x1f0
[   19.342872]  ? __pfx___relocate_anon_folios+0x10/0x10
[   19.342884]  ? lock_set_class+0x17a/0x260
[   19.342898]  copy_vma_and_data+0x606/0x1790
[   19.342910]  ? percpu_counter_add_batch+0xd9/0x210
[   19.342923]  ? __pfx_copy_vma_and_data+0x10/0x10
[   19.342930]  ? vms_complete_munmap_vmas+0x525/0x810
[   19.342945]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   19.342951]  ? __this_cpu_preempt_check+0x21/0x30
[   19.342964]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.342974]  ? mtree_range_walk+0x728/0xb70
[   19.342986]  ? __lock_acquire+0x412/0x22a0
[   19.342996]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   19.343005]  ? percpu_counter_add_batch+0xd9/0x210
[   19.343015]  ? debug_smp_processor_id+0x20/0x30
[   19.343025]  ? __this_cpu_preempt_check+0x21/0x30
[   19.343032]  ? lock_is_held_type+0xef/0x150
[   19.343045]  move_vma+0x689/0x1a60
[   19.343056]  ? __pfx_move_vma+0x10/0x10
[   19.343065]  ? cap_mmap_addr+0x58/0x140
[   19.343074]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.343084]  ? security_mmap_addr+0x63/0x1b0
[   19.343092]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.343102]  ? __get_unmapped_area+0x1a4/0x440
[   19.343113]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.343123]  ? vrm_set_new_addr+0x21d/0x2b0
[   19.343133]  __do_sys_mremap+0xeb4/0x1620
[   19.343145]  ? __pfx___do_sys_mremap+0x10/0x10
[   19.343163]  ? __this_cpu_preempt_check+0x21/0x30
[   19.343180]  __x64_sys_mremap+0xc7/0x150
[   19.343188]  ? syscall_trace_enter+0x14d/0x280
[   19.343198]  x64_sys_call+0x1933/0x2150
[   19.343205]  do_syscall_64+0x6d/0x2e0
[   19.343215]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   19.343222] RIP: 0033:0x7f9b2aa3ee5d
[   19.343232] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   19.343238] RSP: 002b:00007ffdf77df7d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   19.343245] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9b2aa3ee5d
[   19.343249] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   19.343253] RBP: 00007ffdf77df7e0 R08: 000000002038d000 R09: 0000000000000001
[   19.343256] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdf77df8f8
[   19.343260] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9b2ade0000
[   19.343273]  </TASK>
[   20.354934] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   20.355399] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 835, name: repro
[   20.355763] preempt_count: 1, expected: 0
[   20.355957] RCU nest depth: 1, expected: 0
[   20.356155] 4 locks held by repro/835:
[   20.356339]  #0: ffff8880161b7560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   20.356781]  #1: ffff888026159078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   20.357220]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   20.357678]  #3: ffff88801183d1f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   20.358147] Preemption disabled at:
[   20.358149] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   20.358620] CPU: 1 UID: 0 PID: 835 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   20.358630] Tainted: [W]=WARN
[   20.358632] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   20.358637] Call Trace:
[   20.358639]  <TASK>
[   20.358642]  dump_stack_lvl+0x121/0x150
[   20.358655]  dump_stack+0x19/0x20
[   20.358663]  __might_resched+0x37b/0x5a0
[   20.358674]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.358688]  __might_sleep+0xa3/0x170
[   20.358697]  ? vm_normal_folio+0x8c/0x170
[   20.358707]  __relocate_anon_folios+0xf97/0x2960
[   20.358723]  ? reacquire_held_locks+0xdd/0x1f0
[   20.358735]  ? __pfx___relocate_anon_folios+0x10/0x10
[   20.358747]  ? lock_set_class+0x17a/0x260
[   20.358760]  copy_vma_and_data+0x606/0x1790
[   20.358772]  ? percpu_counter_add_batch+0xd9/0x210
[   20.358784]  ? __pfx_copy_vma_and_data+0x10/0x10
[   20.358791]  ? vms_complete_munmap_vmas+0x525/0x810
[   20.358809]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   20.358816]  ? __this_cpu_preempt_check+0x21/0x30
[   20.358829]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.358838]  ? mtree_range_walk+0x728/0xb70
[   20.358849]  ? __lock_acquire+0x412/0x22a0
[   20.358859]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   20.358869]  ? percpu_counter_add_batch+0xd9/0x210
[   20.358874]  ? debug_smp_processor_id+0x20/0x30
[   20.358885]  ? __this_cpu_preempt_check+0x21/0x30
[   20.358891]  ? lock_is_held_type+0xef/0x150
[   20.358903]  move_vma+0x689/0x1a60
[   20.358915]  ? __pfx_move_vma+0x10/0x10
[   20.358923]  ? cap_mmap_addr+0x58/0x140
[   20.358932]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.358941]  ? security_mmap_addr+0x63/0x1b0
[   20.358950]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.358959]  ? __get_unmapped_area+0x1a4/0x440
[   20.358971]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.358980]  ? vrm_set_new_addr+0x21d/0x2b0
[   20.358989]  __do_sys_mremap+0xeb4/0x1620
[   20.358999]  ? __pfx___do_sys_mremap+0x10/0x10
[   20.359017]  ? __this_cpu_preempt_check+0x21/0x30
[   20.359034]  __x64_sys_mremap+0xc7/0x150
[   20.359041]  ? syscall_trace_enter+0x14d/0x280
[   20.359051]  x64_sys_call+0x1933/0x2150
[   20.359058]  do_syscall_64+0x6d/0x2e0
[   20.359068]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   20.359074] RIP: 0033:0x7fd71943ee5d
[   20.359082] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   20.359088] RSP: 002b:00007ffdb96a73c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   20.359094] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fd71943ee5d
[   20.359098] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   20.359102] RBP: 00007ffdb96a73d0 R08: 000000002038d000 R09: 0000000000000001
[   20.359105] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdb96a74e8
[   20.359109] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fd719658000
[   20.359122]  </TASK>
[   21.363397] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   21.363830] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 870, name: repro
[   21.364182] preempt_count: 1, expected: 0
[   21.364376] RCU nest depth: 1, expected: 0
[   21.364570] 4 locks held by repro/870:
[   21.364754]  #0: ffff88802a4fabe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   21.365182]  #1: ffff8880144ac188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   21.365954]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   21.366373]  #3: ffff88802a510618 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   21.366831] Preemption disabled at:
[   21.366833] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   21.367307] CPU: 0 UID: 0 PID: 870 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   21.367318] Tainted: [W]=WARN
[   21.367320] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   21.367325] Call Trace:
[   21.367328]  <TASK>
[   21.367330]  dump_stack_lvl+0x121/0x150
[   21.367344]  dump_stack+0x19/0x20
[   21.367352]  __might_resched+0x37b/0x5a0
[   21.367364]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.367378]  __might_sleep+0xa3/0x170
[   21.367387]  ? vm_normal_folio+0x8c/0x170
[   21.367398]  __relocate_anon_folios+0xf97/0x2960
[   21.367414]  ? reacquire_held_locks+0xdd/0x1f0
[   21.367427]  ? __pfx___relocate_anon_folios+0x10/0x10
[   21.367439]  ? lock_set_class+0x17a/0x260
[   21.367452]  copy_vma_and_data+0x606/0x1790
[   21.367465]  ? percpu_counter_add_batch+0xd9/0x210
[   21.367478]  ? __pfx_copy_vma_and_data+0x10/0x10
[   21.367485]  ? vms_complete_munmap_vmas+0x525/0x810
[   21.367500]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   21.367506]  ? __this_cpu_preempt_check+0x21/0x30
[   21.367519]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.367529]  ? mtree_range_walk+0x728/0xb70
[   21.367541]  ? __lock_acquire+0x412/0x22a0
[   21.367551]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   21.367560]  ? percpu_counter_add_batch+0xd9/0x210
[   21.367566]  ? debug_smp_processor_id+0x20/0x30
[   21.367577]  ? __this_cpu_preempt_check+0x21/0x30
[   21.367584]  ? lock_is_held_type+0xef/0x150
[   21.367596]  move_vma+0x689/0x1a60
[   21.367608]  ? __pfx_move_vma+0x10/0x10
[   21.367617]  ? cap_mmap_addr+0x58/0x140
[   21.367626]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.367635]  ? security_mmap_addr+0x63/0x1b0
[   21.367644]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.367654]  ? __get_unmapped_area+0x1a4/0x440
[   21.367665]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.367675]  ? vrm_set_new_addr+0x21d/0x2b0
[   21.367685]  __do_sys_mremap+0xeb4/0x1620
[   21.367695]  ? __pfx___do_sys_mremap+0x10/0x10
[   21.367713]  ? __this_cpu_preempt_check+0x21/0x30
[   21.367731]  __x64_sys_mremap+0xc7/0x150
[   21.367738]  ? syscall_trace_enter+0x14d/0x280
[   21.367748]  x64_sys_call+0x1933/0x2150
[   21.367755]  do_syscall_64+0x6d/0x2e0
[   21.367766]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   21.367775] RIP: 0033:0x7fc2c9a3ee5d
[   21.367783] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   21.367790] RSP: 002b:00007ffcbfdbe368 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   21.367796] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fc2c9a3ee5d
[   21.367800] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   21.367804] RBP: 00007ffcbfdbe370 R08: 000000002038d000 R09: 0000000000000001
[   21.367808] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcbfdbe488
[   21.367811] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fc2c9c79000
[   21.367824]  </TASK>
[   22.381076] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   22.381553] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 906, name: repro
[   22.381905] preempt_count: 1, expected: 0
[   22.382099] RCU nest depth: 1, expected: 0
[   22.382302] 4 locks held by repro/906:
[   22.382484]  #0: ffff8880191c01e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   22.382914]  #1: ffff88802702bb18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   22.383356]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   22.383781]  #3: ffff888026318e58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   22.384245] Preemption disabled at:
[   22.384251] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   22.384720] CPU: 0 UID: 0 PID: 906 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   22.384731] Tainted: [W]=WARN
[   22.384733] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   22.384738] Call Trace:
[   22.384740]  <TASK>
[   22.384744]  dump_stack_lvl+0x121/0x150
[   22.384757]  dump_stack+0x19/0x20
[   22.384766]  __might_resched+0x37b/0x5a0
[   22.384777]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.384791]  __might_sleep+0xa3/0x170
[   22.384800]  ? vm_normal_folio+0x8c/0x170
[   22.384811]  __relocate_anon_folios+0xf97/0x2960
[   22.384827]  ? reacquire_held_locks+0xdd/0x1f0
[   22.384840]  ? __pfx___relocate_anon_folios+0x10/0x10
[   22.384852]  ? lock_set_class+0x17a/0x260
[   22.384865]  copy_vma_and_data+0x606/0x1790
[   22.384878]  ? percpu_counter_add_batch+0xd9/0x210
[   22.384891]  ? __pfx_copy_vma_and_data+0x10/0x10
[   22.384898]  ? vms_complete_munmap_vmas+0x525/0x810
[   22.384913]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   22.384920]  ? __this_cpu_preempt_check+0x21/0x30
[   22.384933]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.384943]  ? mtree_range_walk+0x728/0xb70
[   22.384955]  ? __lock_acquire+0x412/0x22a0
[   22.384965]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   22.384974]  ? percpu_counter_add_batch+0xd9/0x210
[   22.384980]  ? debug_smp_processor_id+0x20/0x30
[   22.384994]  ? __this_cpu_preempt_check+0x21/0x30
[   22.385000]  ? lock_is_held_type+0xef/0x150
[   22.385013]  move_vma+0x689/0x1a60
[   22.385025]  ? __pfx_move_vma+0x10/0x10
[   22.385033]  ? cap_mmap_addr+0x58/0x140
[   22.385042]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.385052]  ? security_mmap_addr+0x63/0x1b0
[   22.385061]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.385070]  ? __get_unmapped_area+0x1a4/0x440
[   22.385082]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.385092]  ? vrm_set_new_addr+0x21d/0x2b0
[   22.385101]  __do_sys_mremap+0xeb4/0x1620
[   22.385111]  ? __pfx___do_sys_mremap+0x10/0x10
[   22.385122]  ? __this_cpu_preempt_check+0x21/0x30
[   22.385135]  ? __this_cpu_preempt_check+0x21/0x30
[   22.385154]  __x64_sys_mremap+0xc7/0x150
[   22.385161]  ? syscall_trace_enter+0x14d/0x280
[   22.385171]  x64_sys_call+0x1933/0x2150
[   22.385179]  do_syscall_64+0x6d/0x2e0
[   22.385189]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   22.385196] RIP: 0033:0x7f3ab203ee5d
[   22.385204] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   22.385210] RSP: 002b:00007ffd0ed4b5f8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   22.385217] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3ab203ee5d
[   22.385221] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   22.385224] RBP: 00007ffd0ed4b600 R08: 000000002038d000 R09: 0000000000000001
[   22.385228] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd0ed4b718
[   22.385235] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f3ab2260000
[   22.385249]  </TASK>
[   23.403974] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   23.404431] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 943, name: repro
[   23.404789] preempt_count: 1, expected: 0
[   23.405003] RCU nest depth: 1, expected: 0
[   23.405206] 4 locks held by repro/943:
[   23.405396]  #0: ffff8880171eb660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   23.405852]  #1: ffff88802a6b3b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   23.406328]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   23.406745]  #3: ffff88802a6f0d98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   23.407204] Preemption disabled at:
[   23.407206] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   23.407690] CPU: 0 UID: 0 PID: 943 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   23.407700] Tainted: [W]=WARN
[   23.407703] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.407707] Call Trace:
[   23.407710]  <TASK>
[   23.407713]  dump_stack_lvl+0x121/0x150
[   23.407729]  dump_stack+0x19/0x20
[   23.407738]  __might_resched+0x37b/0x5a0
[   23.407748]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.407763]  __might_sleep+0xa3/0x170
[   23.407772]  ? vm_normal_folio+0x8c/0x170
[   23.407783]  __relocate_anon_folios+0xf97/0x2960
[   23.407799]  ? reacquire_held_locks+0xdd/0x1f0
[   23.407811]  ? __pfx___relocate_anon_folios+0x10/0x10
[   23.407823]  ? lock_set_class+0x17a/0x260
[   23.407837]  copy_vma_and_data+0x606/0x1790
[   23.407849]  ? percpu_counter_add_batch+0xd9/0x210
[   23.407862]  ? __pfx_copy_vma_and_data+0x10/0x10
[   23.407869]  ? vms_complete_munmap_vmas+0x525/0x810
[   23.407884]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   23.407891]  ? __this_cpu_preempt_check+0x21/0x30
[   23.407904]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.407913]  ? mtree_range_walk+0x728/0xb70
[   23.407925]  ? __lock_acquire+0x412/0x22a0
[   23.407935]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   23.407945]  ? percpu_counter_add_batch+0xd9/0x210
[   23.407951]  ? debug_smp_processor_id+0x20/0x30
[   23.407961]  ? __this_cpu_preempt_check+0x21/0x30
[   23.407968]  ? lock_is_held_type+0xef/0x150
[   23.407980]  move_vma+0x689/0x1a60
[   23.407992]  ? __pfx_move_vma+0x10/0x10
[   23.408001]  ? cap_mmap_addr+0x58/0x140
[   23.408010]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.408019]  ? security_mmap_addr+0x63/0x1b0
[   23.408028]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.408037]  ? __get_unmapped_area+0x1a4/0x440
[   23.408049]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.408059]  ? vrm_set_new_addr+0x21d/0x2b0
[   23.408068]  __do_sys_mremap+0xeb4/0x1620
[   23.408078]  ? __pfx___do_sys_mremap+0x10/0x10
[   23.408088]  ? __this_cpu_preempt_check+0x21/0x30
[   23.408102]  ? __this_cpu_preempt_check+0x21/0x30
[   23.408120]  __x64_sys_mremap+0xc7/0x150
[   23.408127]  ? syscall_trace_enter+0x14d/0x280
[   23.408137]  x64_sys_call+0x1933/0x2150
[   23.408143]  do_syscall_64+0x6d/0x2e0
[   23.408154]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   23.408160] RIP: 0033:0x7f454b43ee5d
[   23.408167] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   23.408173] RSP: 002b:00007ffc57f75088 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   23.408179] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f454b43ee5d
[   23.408183] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   23.408187] RBP: 00007ffc57f75090 R08: 000000002038d000 R09: 0000000000000001
[   23.408192] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc57f751a8
[   23.408196] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f454b67d000
[   23.408209]  </TASK>
[   24.428403] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   24.428909] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 979, name: repro
[   24.429273] preempt_count: 1, expected: 0
[   24.429469] RCU nest depth: 1, expected: 0
[   24.429697] 4 locks held by repro/979:
[   24.429884]  #0: ffff8880124855e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   24.430324]  #1: ffff8880272084b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   24.430765]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   24.431177]  #3: ffff888027231678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   24.431640] Preemption disabled at:
[   24.431642] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   24.432104] CPU: 0 UID: 0 PID: 979 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   24.432115] Tainted: [W]=WARN
[   24.432125] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.432130] Call Trace:
[   24.432132]  <TASK>
[   24.432135]  dump_stack_lvl+0x121/0x150
[   24.432148]  dump_stack+0x19/0x20
[   24.432156]  __might_resched+0x37b/0x5a0
[   24.432166]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.432180]  __might_sleep+0xa3/0x170
[   24.432188]  ? vm_normal_folio+0x8c/0x170
[   24.432199]  __relocate_anon_folios+0xf97/0x2960
[   24.432214]  ? reacquire_held_locks+0xdd/0x1f0
[   24.432226]  ? __pfx___relocate_anon_folios+0x10/0x10
[   24.432241]  ? lock_set_class+0x17a/0x260
[   24.432254]  copy_vma_and_data+0x606/0x1790
[   24.432265]  ? percpu_counter_add_batch+0xd9/0x210
[   24.432277]  ? __pfx_copy_vma_and_data+0x10/0x10
[   24.432284]  ? vms_complete_munmap_vmas+0x525/0x810
[   24.432299]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   24.432305]  ? __this_cpu_preempt_check+0x21/0x30
[   24.432337]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.432347]  ? mtree_range_walk+0x728/0xb70
[   24.432359]  ? __lock_acquire+0x412/0x22a0
[   24.432370]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.432379]  ? percpu_counter_add_batch+0xd9/0x210
[   24.432385]  ? debug_smp_processor_id+0x20/0x30
[   24.432396]  ? __this_cpu_preempt_check+0x21/0x30
[   24.432402]  ? lock_is_held_type+0xef/0x150
[   24.432415]  move_vma+0x689/0x1a60
[   24.432427]  ? __pfx_move_vma+0x10/0x10
[   24.432436]  ? cap_mmap_addr+0x58/0x140
[   24.432447]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.432456]  ? security_mmap_addr+0x63/0x1b0
[   24.432465]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.432475]  ? __get_unmapped_area+0x1a4/0x440
[   24.432489]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.432499]  ? vrm_set_new_addr+0x21d/0x2b0
[   24.432508]  __do_sys_mremap+0xeb4/0x1620
[   24.432518]  ? __pfx___do_sys_mremap+0x10/0x10
[   24.432528]  ? __this_cpu_preempt_check+0x21/0x30
[   24.432541]  ? __this_cpu_preempt_check+0x21/0x30
[   24.432558]  __x64_sys_mremap+0xc7/0x150
[   24.432566]  ? syscall_trace_enter+0x14d/0x280
[   24.432575]  x64_sys_call+0x1933/0x2150
[   24.432582]  do_syscall_64+0x6d/0x2e0
[   24.432593]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.432599] RIP: 0033:0x7fab19c3ee5d
[   24.432606] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   24.432612] RSP: 002b:00007ffccdabbfd8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   24.432619] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fab19c3ee5d
[   24.432623] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   24.432626] RBP: 00007ffccdabbfe0 R08: 000000002038d000 R09: 0000000000000001
[   24.432630] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffccdabc0f8
[   24.432634] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fab19f20000
[   24.432646]  </TASK>
[   25.452406] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   25.452891] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1015, name: repro
[   25.453257] preempt_count: 1, expected: 0
[   25.453452] RCU nest depth: 1, expected: 0
[   25.453676] 4 locks held by repro/1015:
[   25.453863]  #0: ffff888015bd40e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   25.454296]  #1: ffff88802bbd84b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   25.454747]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   25.455165]  #3: ffff88802bacfe58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   25.455627] Preemption disabled at:
[   25.455629] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   25.456088] CPU: 0 UID: 0 PID: 1015 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   25.456098] Tainted: [W]=WARN
[   25.456100] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.456105] Call Trace:
[   25.456107]  <TASK>
[   25.456110]  dump_stack_lvl+0x121/0x150
[   25.456134]  dump_stack+0x19/0x20
[   25.456142]  __might_resched+0x37b/0x5a0
[   25.456153]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.456167]  __might_sleep+0xa3/0x170
[   25.456176]  ? vm_normal_folio+0x8c/0x170
[   25.456187]  __relocate_anon_folios+0xf97/0x2960
[   25.456205]  ? reacquire_held_locks+0xdd/0x1f0
[   25.456218]  ? __pfx___relocate_anon_folios+0x10/0x10
[   25.456232]  ? lock_set_class+0x17a/0x260
[   25.456245]  copy_vma_and_data+0x606/0x1790
[   25.456257]  ? percpu_counter_add_batch+0xd9/0x210
[   25.456270]  ? __pfx_copy_vma_and_data+0x10/0x10
[   25.456278]  ? vms_complete_munmap_vmas+0x525/0x810
[   25.456293]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   25.456299]  ? __this_cpu_preempt_check+0x21/0x30
[   25.456312]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.456322]  ? mtree_range_walk+0x728/0xb70
[   25.456333]  ? __lock_acquire+0x412/0x22a0
[   25.456344]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.456353]  ? percpu_counter_add_batch+0xd9/0x210
[   25.456359]  ? debug_smp_processor_id+0x20/0x30
[   25.456370]  ? __this_cpu_preempt_check+0x21/0x30
[   25.456376]  ? lock_is_held_type+0xef/0x150
[   25.456389]  move_vma+0x689/0x1a60
[   25.456401]  ? __pfx_move_vma+0x10/0x10
[   25.456410]  ? cap_mmap_addr+0x58/0x140
[   25.456419]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.456428]  ? security_mmap_addr+0x63/0x1b0
[   25.456437]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.456447]  ? __get_unmapped_area+0x1a4/0x440
[   25.456458]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.456468]  ? vrm_set_new_addr+0x21d/0x2b0
[   25.456477]  __do_sys_mremap+0xeb4/0x1620
[   25.456487]  ? __pfx___do_sys_mremap+0x10/0x10
[   25.456498]  ? __this_cpu_preempt_check+0x21/0x30
[   25.456511]  ? __this_cpu_preempt_check+0x21/0x30
[   25.456530]  __x64_sys_mremap+0xc7/0x150
[   25.456537]  ? syscall_trace_enter+0x14d/0x280
[   25.456547]  x64_sys_call+0x1933/0x2150
[   25.456555]  do_syscall_64+0x6d/0x2e0
[   25.456565]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.456572] RIP: 0033:0x7efdade3ee5d
[   25.456579] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   25.456585] RSP: 002b:00007fffaba25c68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   25.456592] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007efdade3ee5d
[   25.456596] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   25.456599] RBP: 00007fffaba25c70 R08: 000000002038d000 R09: 0000000000000001
[   25.456603] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffaba25d88
[   25.456607] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007efdae061000
[   25.456620]  </TASK>
[   26.467038] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   26.467494] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1051, name: repro
[   26.467870] preempt_count: 1, expected: 0
[   26.468064] RCU nest depth: 1, expected: 0
[   26.468264] 4 locks held by repro/1051:
[   26.468448]  #0: ffff88800e214b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   26.468870]  #1: ffff8880220a2078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   26.469307]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   26.469749]  #3: ffff88802be2b5b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   26.470215] Preemption disabled at:
[   26.470217] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   26.470684] CPU: 0 UID: 0 PID: 1051 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   26.470695] Tainted: [W]=WARN
[   26.470697] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.470701] Call Trace:
[   26.470703]  <TASK>
[   26.470706]  dump_stack_lvl+0x121/0x150
[   26.470720]  dump_stack+0x19/0x20
[   26.470728]  __might_resched+0x37b/0x5a0
[   26.470739]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.470753]  __might_sleep+0xa3/0x170
[   26.470768]  ? vm_normal_folio+0x8c/0x170
[   26.470778]  __relocate_anon_folios+0xf97/0x2960
[   26.470794]  ? reacquire_held_locks+0xdd/0x1f0
[   26.470806]  ? __pfx___relocate_anon_folios+0x10/0x10
[   26.470818]  ? lock_set_class+0x17a/0x260
[   26.470831]  copy_vma_and_data+0x606/0x1790
[   26.470843]  ? percpu_counter_add_batch+0xd9/0x210
[   26.470856]  ? __pfx_copy_vma_and_data+0x10/0x10
[   26.470863]  ? vms_complete_munmap_vmas+0x525/0x810
[   26.470877]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   26.470884]  ? __this_cpu_preempt_check+0x21/0x30
[   26.470897]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.470906]  ? mtree_range_walk+0x728/0xb70
[   26.470918]  ? __lock_acquire+0x412/0x22a0
[   26.470928]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.470937]  ? percpu_counter_add_batch+0xd9/0x210
[   26.470943]  ? debug_smp_processor_id+0x20/0x30
[   26.470953]  ? __this_cpu_preempt_check+0x21/0x30
[   26.470959]  ? lock_is_held_type+0xef/0x150
[   26.470972]  move_vma+0x689/0x1a60
[   26.470983]  ? __pfx_move_vma+0x10/0x10
[   26.470992]  ? cap_mmap_addr+0x58/0x140
[   26.471001]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.471010]  ? security_mmap_addr+0x63/0x1b0
[   26.471018]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.471028]  ? __get_unmapped_area+0x1a4/0x440
[   26.471039]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.471048]  ? vrm_set_new_addr+0x21d/0x2b0
[   26.471060]  __do_sys_mremap+0xeb4/0x1620
[   26.471072]  ? __pfx___do_sys_mremap+0x10/0x10
[   26.471090]  ? __this_cpu_preempt_check+0x21/0x30
[   26.471107]  __x64_sys_mremap+0xc7/0x150
[   26.471114]  ? syscall_trace_enter+0x14d/0x280
[   26.471124]  x64_sys_call+0x1933/0x2150
[   26.471131]  do_syscall_64+0x6d/0x2e0
[   26.471141]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.471152] RIP: 0033:0x7fb231e3ee5d
[   26.471173] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   26.471179] RSP: 002b:00007ffe0a0951a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   26.471185] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fb231e3ee5d
[   26.471189] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   26.471193] RBP: 00007ffe0a0951b0 R08: 000000002038d000 R09: 0000000000000001
[   26.471196] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe0a0952c8
[   26.471200] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fb232154000
[   26.471213]  </TASK>
[   27.472327] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   27.472781] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1087, name: repro
[   27.473145] preempt_count: 1, expected: 0
[   27.473342] RCU nest depth: 1, expected: 0
[   27.473720] 4 locks held by repro/1087:
[   27.473920]  #0: ffff88801701cb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   27.474357]  #1: ffff888011542a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   27.474809]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   27.475232]  #3: ffff88802b414e58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   27.475697] Preemption disabled at:
[   27.475700] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   27.476178] CPU: 0 UID: 0 PID: 1087 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   27.476189] Tainted: [W]=WARN
[   27.476191] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.476196] Call Trace:
[   27.476198]  <TASK>
[   27.476201]  dump_stack_lvl+0x121/0x150
[   27.476226]  dump_stack+0x19/0x20
[   27.476238]  __might_resched+0x37b/0x5a0
[   27.476249]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.476263]  __might_sleep+0xa3/0x170
[   27.476272]  ? vm_normal_folio+0x8c/0x170
[   27.476283]  __relocate_anon_folios+0xf97/0x2960
[   27.476299]  ? reacquire_held_locks+0xdd/0x1f0
[   27.476311]  ? __pfx___relocate_anon_folios+0x10/0x10
[   27.476323]  ? lock_set_class+0x17a/0x260
[   27.476340]  copy_vma_and_data+0x606/0x1790
[   27.476352]  ? percpu_counter_add_batch+0xd9/0x210
[   27.476365]  ? __pfx_copy_vma_and_data+0x10/0x10
[   27.476372]  ? vms_complete_munmap_vmas+0x525/0x810
[   27.476389]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   27.476396]  ? __this_cpu_preempt_check+0x21/0x30
[   27.476408]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.476418]  ? mtree_range_walk+0x728/0xb70
[   27.476430]  ? __lock_acquire+0x412/0x22a0
[   27.476440]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.476449]  ? percpu_counter_add_batch+0xd9/0x210
[   27.476455]  ? debug_smp_processor_id+0x20/0x30
[   27.476466]  ? __this_cpu_preempt_check+0x21/0x30
[   27.476472]  ? lock_is_held_type+0xef/0x150
[   27.476485]  move_vma+0x689/0x1a60
[   27.476497]  ? __pfx_move_vma+0x10/0x10
[   27.476505]  ? cap_mmap_addr+0x58/0x140
[   27.476514]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.476524]  ? security_mmap_addr+0x63/0x1b0
[   27.476532]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.476542]  ? __get_unmapped_area+0x1a4/0x440
[   27.476554]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.476563]  ? vrm_set_new_addr+0x21d/0x2b0
[   27.476573]  __do_sys_mremap+0xeb4/0x1620
[   27.476583]  ? __pfx___do_sys_mremap+0x10/0x10
[   27.476593]  ? __this_cpu_preempt_check+0x21/0x30
[   27.476606]  ? __this_cpu_preempt_check+0x21/0x30
[   27.476624]  __x64_sys_mremap+0xc7/0x150
[   27.476631]  ? syscall_trace_enter+0x14d/0x280
[   27.476641]  x64_sys_call+0x1933/0x2150
[   27.476648]  do_syscall_64+0x6d/0x2e0
[   27.476659]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.476665] RIP: 0033:0x7f19a8c3ee5d
[   27.476672] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   27.476679] RSP: 002b:00007fffd945b038 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   27.476686] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f19a8c3ee5d
[   27.476690] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   27.476693] RBP: 00007fffd945b040 R08: 000000002038d000 R09: 0000000000000001
[   27.476697] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffd945b158
[   27.476701] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f19a8f34000
[   27.476714]  </TASK>
[   28.493579] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   28.494039] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1122, name: repro
[   28.494415] preempt_count: 1, expected: 0
[   28.494616] RCU nest depth: 1, expected: 0
[   28.494821] 4 locks held by repro/1122:
[   28.495017]  #0: ffff888014dccb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   28.495465]  #1: ffff88802b625f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   28.495925]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   28.496355]  #3: ffff88802b672438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   28.496836] Preemption disabled at:
[   28.496839] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   28.497324] CPU: 0 UID: 0 PID: 1122 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   28.497335] Tainted: [W]=WARN
[   28.497337] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.497341] Call Trace:
[   28.497343]  <TASK>
[   28.497346]  dump_stack_lvl+0x121/0x150
[   28.497359]  dump_stack+0x19/0x20
[   28.497368]  __might_resched+0x37b/0x5a0
[   28.497378]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.497392]  __might_sleep+0xa3/0x170
[   28.497401]  ? vm_normal_folio+0x8c/0x170
[   28.497412]  __relocate_anon_folios+0xf97/0x2960
[   28.497429]  ? reacquire_held_locks+0xdd/0x1f0
[   28.497441]  ? __pfx___relocate_anon_folios+0x10/0x10
[   28.497454]  ? lock_set_class+0x17a/0x260
[   28.497467]  copy_vma_and_data+0x606/0x1790
[   28.497484]  ? percpu_counter_add_batch+0xd9/0x210
[   28.497498]  ? __pfx_copy_vma_and_data+0x10/0x10
[   28.497507]  ? vms_complete_munmap_vmas+0x525/0x810
[   28.497528]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   28.497536]  ? __this_cpu_preempt_check+0x21/0x30
[   28.497550]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.497562]  ? mtree_range_walk+0x728/0xb70
[   28.497577]  ? __lock_acquire+0x412/0x22a0
[   28.497589]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.497601]  ? percpu_counter_add_batch+0xd9/0x210
[   28.497608]  ? debug_smp_processor_id+0x20/0x30
[   28.497622]  ? __this_cpu_preempt_check+0x21/0x30
[   28.497630]  ? lock_is_held_type+0xef/0x150
[   28.497645]  move_vma+0x689/0x1a60
[   28.497660]  ? __pfx_move_vma+0x10/0x10
[   28.497671]  ? cap_mmap_addr+0x58/0x140
[   28.497680]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.497692]  ? security_mmap_addr+0x63/0x1b0
[   28.497703]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.497715]  ? __get_unmapped_area+0x1a4/0x440
[   28.497729]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.497741]  ? vrm_set_new_addr+0x21d/0x2b0
[   28.497753]  __do_sys_mremap+0xeb4/0x1620
[   28.497766]  ? __pfx___do_sys_mremap+0x10/0x10
[   28.497778]  ? __this_cpu_preempt_check+0x21/0x30
[   28.497796]  ? __this_cpu_preempt_check+0x21/0x30
[   28.497820]  __x64_sys_mremap+0xc7/0x150
[   28.497829]  ? syscall_trace_enter+0x14d/0x280
[   28.497840]  x64_sys_call+0x1933/0x2150
[   28.497850]  do_syscall_64+0x6d/0x2e0
[   28.497863]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.497870] RIP: 0033:0x7fb00663ee5d
[   28.497877] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   28.497884] RSP: 002b:00007fff038808a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   28.497891] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fb00663ee5d
[   28.497895] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   28.497900] RBP: 00007fff038808b0 R08: 000000002038d000 R09: 0000000000000001
[   28.497904] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff038809c8
[   28.497908] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fb0069da000
[   28.497926]  </TASK>
[   29.501969] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   29.502439] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1155, name: repro
[   29.502811] preempt_count: 1, expected: 0
[   29.503014] RCU nest depth: 1, expected: 0
[   29.503218] 4 locks held by repro/1155:
[   29.503417]  #0: ffff8880161b6060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   29.503856]  #1: ffff88802b77ec28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   29.504319]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   29.504769]  #3: ffff88802b79a798 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   29.505254] Preemption disabled at:
[   29.505257] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   29.505768] CPU: 0 UID: 0 PID: 1155 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   29.505779] Tainted: [W]=WARN
[   29.505781] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.505787] Call Trace:
[   29.505790]  <TASK>
[   29.505793]  dump_stack_lvl+0x121/0x150
[   29.505807]  dump_stack+0x19/0x20
[   29.505816]  __might_resched+0x37b/0x5a0
[   29.505827]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.505841]  __might_sleep+0xa3/0x170
[   29.505850]  ? vm_normal_folio+0x8c/0x170
[   29.505862]  __relocate_anon_folios+0xf97/0x2960
[   29.505878]  ? reacquire_held_locks+0xdd/0x1f0
[   29.505891]  ? __pfx___relocate_anon_folios+0x10/0x10
[   29.505904]  ? lock_set_class+0x17a/0x260
[   29.505917]  copy_vma_and_data+0x606/0x1790
[   29.505930]  ? percpu_counter_add_batch+0xd9/0x210
[   29.505943]  ? __pfx_copy_vma_and_data+0x10/0x10
[   29.505950]  ? vms_complete_munmap_vmas+0x525/0x810
[   29.505966]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   29.505973]  ? __this_cpu_preempt_check+0x21/0x30
[   29.505986]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.505996]  ? mtree_range_walk+0x728/0xb70
[   29.506019]  ? __lock_acquire+0x412/0x22a0
[   29.506032]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.506042]  ? percpu_counter_add_batch+0xd9/0x210
[   29.506048]  ? debug_smp_processor_id+0x20/0x30
[   29.506059]  ? __this_cpu_preempt_check+0x21/0x30
[   29.506066]  ? lock_is_held_type+0xef/0x150
[   29.506079]  move_vma+0x689/0x1a60
[   29.506091]  ? __pfx_move_vma+0x10/0x10
[   29.506100]  ? cap_mmap_addr+0x58/0x140
[   29.506109]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.506118]  ? security_mmap_addr+0x63/0x1b0
[   29.506127]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.506137]  ? __get_unmapped_area+0x1a4/0x440
[   29.506149]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.506159]  ? vrm_set_new_addr+0x21d/0x2b0
[   29.506169]  __do_sys_mremap+0xeb4/0x1620
[   29.506179]  ? __pfx___do_sys_mremap+0x10/0x10
[   29.506189]  ? __this_cpu_preempt_check+0x21/0x30
[   29.506203]  ? __this_cpu_preempt_check+0x21/0x30
[   29.506221]  __x64_sys_mremap+0xc7/0x150
[   29.506235]  ? syscall_trace_enter+0x14d/0x280
[   29.506245]  x64_sys_call+0x1933/0x2150
[   29.506253]  do_syscall_64+0x6d/0x2e0
[   29.506263]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.506270] RIP: 0033:0x7f5fbce3ee5d
[   29.506279] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   29.506285] RSP: 002b:00007ffeb7379348 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   29.506292] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f5fbce3ee5d
[   29.506296] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   29.506300] RBP: 00007ffeb7379350 R08: 000000002038d000 R09: 0000000000000001
[   29.506304] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffeb7379468
[   29.506308] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f5fbd084000
[   29.506321]  </TASK>
[   30.521629] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   30.522133] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1189, name: repro
[   30.522540] preempt_count: 1, expected: 0
[   30.522757] RCU nest depth: 1, expected: 0
[   30.522979] 4 locks held by repro/1189:
[   30.523188]  #0: ffff8880161b6ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   30.523667]  #1: ffff88802a537078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   30.524161]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   30.524630]  #3: ffff88802b714df8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   30.525147] Preemption disabled at:
[   30.525150] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   30.525717] CPU: 1 UID: 0 PID: 1189 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   30.525729] Tainted: [W]=WARN
[   30.525731] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.525736] Call Trace:
[   30.525748]  <TASK>
[   30.525752]  dump_stack_lvl+0x121/0x150
[   30.525766]  dump_stack+0x19/0x20
[   30.525775]  __might_resched+0x37b/0x5a0
[   30.525786]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.525802]  __might_sleep+0xa3/0x170
[   30.525812]  ? vm_normal_folio+0x8c/0x170
[   30.525824]  __relocate_anon_folios+0xf97/0x2960
[   30.525841]  ? reacquire_held_locks+0xdd/0x1f0
[   30.525855]  ? __pfx___relocate_anon_folios+0x10/0x10
[   30.525868]  ? lock_set_class+0x17a/0x260
[   30.525883]  copy_vma_and_data+0x606/0x1790
[   30.525897]  ? percpu_counter_add_batch+0xd9/0x210
[   30.525910]  ? __pfx_copy_vma_and_data+0x10/0x10
[   30.525917]  ? vms_complete_munmap_vmas+0x525/0x810
[   30.525934]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   30.525941]  ? __this_cpu_preempt_check+0x21/0x30
[   30.525954]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.525965]  ? mtree_range_walk+0x728/0xb70
[   30.525978]  ? __lock_acquire+0x412/0x22a0
[   30.525989]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.526000]  ? percpu_counter_add_batch+0xd9/0x210
[   30.526006]  ? debug_smp_processor_id+0x20/0x30
[   30.526021]  ? __this_cpu_preempt_check+0x21/0x30
[   30.526029]  ? lock_is_held_type+0xef/0x150
[   30.526042]  move_vma+0x689/0x1a60
[   30.526056]  ? __pfx_move_vma+0x10/0x10
[   30.526065]  ? cap_mmap_addr+0x58/0x140
[   30.526075]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.526085]  ? security_mmap_addr+0x63/0x1b0
[   30.526095]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.526105]  ? __get_unmapped_area+0x1a4/0x440
[   30.526118]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.526129]  ? vrm_set_new_addr+0x21d/0x2b0
[   30.526140]  __do_sys_mremap+0xeb4/0x1620
[   30.526151]  ? __pfx___do_sys_mremap+0x10/0x10
[   30.526162]  ? __this_cpu_preempt_check+0x21/0x30
[   30.526177]  ? __this_cpu_preempt_check+0x21/0x30
[   30.526197]  __x64_sys_mremap+0xc7/0x150
[   30.526206]  ? syscall_trace_enter+0x14d/0x280
[   30.526216]  x64_sys_call+0x1933/0x2150
[   30.526223]  do_syscall_64+0x6d/0x2e0
[   30.526238]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.526245] RIP: 0033:0x7f775e23ee5d
[   30.526253] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   30.526260] RSP: 002b:00007fffbf3ee468 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   30.526269] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f775e23ee5d
[   30.526274] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   30.526278] RBP: 00007fffbf3ee470 R08: 000000002038d000 R09: 0000000000000001
[   30.526282] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffbf3ee588
[   30.526286] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f775e459000
[   30.526301]  </TASK>
[   31.534075] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   31.534514] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1223, name: repro
[   31.534872] preempt_count: 1, expected: 0
[   31.535065] RCU nest depth: 1, expected: 0
[   31.535261] 4 locks held by repro/1223:
[   31.535448]  #0: ffff8880191c6ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   31.535875]  #1: ffff888011837c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   31.536319]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   31.536733]  #3: ffff888011e73cd8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   31.537194] Preemption disabled at:
[   31.537196] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   31.537696] CPU: 1 UID: 0 PID: 1223 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   31.537706] Tainted: [W]=WARN
[   31.537709] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.537713] Call Trace:
[   31.537716]  <TASK>
[   31.537720]  dump_stack_lvl+0x121/0x150
[   31.537734]  dump_stack+0x19/0x20
[   31.537743]  __might_resched+0x37b/0x5a0
[   31.537754]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.537768]  __might_sleep+0xa3/0x170
[   31.537777]  ? vm_normal_folio+0x8c/0x170
[   31.537788]  __relocate_anon_folios+0xf97/0x2960
[   31.537804]  ? reacquire_held_locks+0xdd/0x1f0
[   31.537816]  ? __pfx___relocate_anon_folios+0x10/0x10
[   31.537828]  ? lock_set_class+0x17a/0x260
[   31.537842]  copy_vma_and_data+0x606/0x1790
[   31.537854]  ? percpu_counter_add_batch+0xd9/0x210
[   31.537867]  ? __pfx_copy_vma_and_data+0x10/0x10
[   31.537874]  ? vms_complete_munmap_vmas+0x525/0x810
[   31.537889]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   31.537896]  ? __this_cpu_preempt_check+0x21/0x30
[   31.537909]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.537918]  ? mtree_range_walk+0x728/0xb70
[   31.537930]  ? __lock_acquire+0x412/0x22a0
[   31.537940]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.537950]  ? percpu_counter_add_batch+0xd9/0x210
[   31.537956]  ? debug_smp_processor_id+0x20/0x30
[   31.537967]  ? __this_cpu_preempt_check+0x21/0x30
[   31.537973]  ? lock_is_held_type+0xef/0x150
[   31.537986]  move_vma+0x689/0x1a60
[   31.538011]  ? __pfx_move_vma+0x10/0x10
[   31.538019]  ? cap_mmap_addr+0x58/0x140
[   31.538031]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.538041]  ? security_mmap_addr+0x63/0x1b0
[   31.538050]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.538059]  ? __get_unmapped_area+0x1a4/0x440
[   31.538071]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.538081]  ? vrm_set_new_addr+0x21d/0x2b0
[   31.538090]  __do_sys_mremap+0xeb4/0x1620
[   31.538100]  ? __pfx___do_sys_mremap+0x10/0x10
[   31.538119]  ? __this_cpu_preempt_check+0x21/0x30
[   31.538136]  __x64_sys_mremap+0xc7/0x150
[   31.538144]  ? syscall_trace_enter+0x14d/0x280
[   31.538154]  x64_sys_call+0x1933/0x2150
[   31.538161]  do_syscall_64+0x6d/0x2e0
[   31.538171]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.538178] RIP: 0033:0x7fbe37a3ee5d
[   31.538186] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   31.538192] RSP: 002b:00007ffffa708c68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   31.538198] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fbe37a3ee5d
[   31.538202] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   31.538206] RBP: 00007ffffa708c70 R08: 000000002038d000 R09: 0000000000000001
[   31.538210] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffffa708d88
[   31.538214] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fbe37de0000
[   31.538227]  </TASK>
[   32.556400] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   32.556873] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1258, name: repro
[   32.557251] preempt_count: 1, expected: 0
[   32.557451] RCU nest depth: 1, expected: 0
[   32.557681] 4 locks held by repro/1258:
[   32.557877]  #0: ffff888017b17560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   32.558324]  #1: ffff88802bfd16d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   32.558786]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   32.559217]  #3: ffff8880129e3bb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   32.559697] Preemption disabled at:
[   32.559699] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   32.560185] CPU: 1 UID: 0 PID: 1258 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   32.560196] Tainted: [W]=WARN
[   32.560198] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.560202] Call Trace:
[   32.560204]  <TASK>
[   32.560207]  dump_stack_lvl+0x121/0x150
[   32.560221]  dump_stack+0x19/0x20
[   32.560232]  __might_resched+0x37b/0x5a0
[   32.560243]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.560257]  __might_sleep+0xa3/0x170
[   32.560271]  ? vm_normal_folio+0x8c/0x170
[   32.560284]  __relocate_anon_folios+0xf97/0x2960
[   32.560301]  ? reacquire_held_locks+0xdd/0x1f0
[   32.560313]  ? __pfx___relocate_anon_folios+0x10/0x10
[   32.560328]  ? lock_set_class+0x17a/0x260
[   32.560341]  copy_vma_and_data+0x606/0x1790
[   32.560354]  ? percpu_counter_add_batch+0xd9/0x210
[   32.560367]  ? __pfx_copy_vma_and_data+0x10/0x10
[   32.560374]  ? vms_complete_munmap_vmas+0x525/0x810
[   32.560389]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   32.560396]  ? __this_cpu_preempt_check+0x21/0x30
[   32.560409]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.560418]  ? mtree_range_walk+0x728/0xb70
[   32.560431]  ? __lock_acquire+0x412/0x22a0
[   32.560441]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.560451]  ? percpu_counter_add_batch+0xd9/0x210
[   32.560457]  ? debug_smp_processor_id+0x20/0x30
[   32.560468]  ? __this_cpu_preempt_check+0x21/0x30
[   32.560475]  ? lock_is_held_type+0xef/0x150
[   32.560487]  move_vma+0x689/0x1a60
[   32.560499]  ? __pfx_move_vma+0x10/0x10
[   32.560508]  ? cap_mmap_addr+0x58/0x140
[   32.560517]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.560527]  ? security_mmap_addr+0x63/0x1b0
[   32.560536]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.560545]  ? __get_unmapped_area+0x1a4/0x440
[   32.560559]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.560569]  ? vrm_set_new_addr+0x21d/0x2b0
[   32.560579]  __do_sys_mremap+0xeb4/0x1620
[   32.560589]  ? __pfx___do_sys_mremap+0x10/0x10
[   32.560600]  ? __this_cpu_preempt_check+0x21/0x30
[   32.560614]  ? __this_cpu_preempt_check+0x21/0x30
[   32.560632]  __x64_sys_mremap+0xc7/0x150
[   32.560640]  ? syscall_trace_enter+0x14d/0x280
[   32.560650]  x64_sys_call+0x1933/0x2150
[   32.560657]  do_syscall_64+0x6d/0x2e0
[   32.560668]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.560678] RIP: 0033:0x7f1453a3ee5d
[   32.560685] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   32.560709] RSP: 002b:00007fff12cf5fb8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   32.560715] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f1453a3ee5d
[   32.560719] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   32.560723] RBP: 00007fff12cf5fc0 R08: 000000002038d000 R09: 0000000000000001
[   32.560727] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff12cf60d8
[   32.560731] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f1453d2d000
[   32.560744]  </TASK>
[   33.578658] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   33.579163] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1292, name: repro
[   33.579561] preempt_count: 1, expected: 0
[   33.579774] RCU nest depth: 1, expected: 0
[   33.579990] 4 locks held by repro/1292:
[   33.580194]  #0: ffff88801977eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   33.580668]  #1: ffff88802b5315c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   33.581165]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   33.581661]  #3: ffff88802b5a93d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   33.582172] Preemption disabled at:
[   33.582175] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   33.582686] CPU: 0 UID: 0 PID: 1292 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   33.582698] Tainted: [W]=WARN
[   33.582700] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.582705] Call Trace:
[   33.582707]  <TASK>
[   33.582710]  dump_stack_lvl+0x121/0x150
[   33.582725]  dump_stack+0x19/0x20
[   33.582734]  __might_resched+0x37b/0x5a0
[   33.582746]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.582761]  __might_sleep+0xa3/0x170
[   33.582771]  ? vm_normal_folio+0x8c/0x170
[   33.582783]  __relocate_anon_folios+0xf97/0x2960
[   33.582800]  ? reacquire_held_locks+0xdd/0x1f0
[   33.582814]  ? __pfx___relocate_anon_folios+0x10/0x10
[   33.582827]  ? lock_set_class+0x17a/0x260
[   33.582841]  copy_vma_and_data+0x606/0x1790
[   33.582854]  ? percpu_counter_add_batch+0xd9/0x210
[   33.582868]  ? __pfx_copy_vma_and_data+0x10/0x10
[   33.582876]  ? vms_complete_munmap_vmas+0x525/0x810
[   33.582892]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   33.582899]  ? __this_cpu_preempt_check+0x21/0x30
[   33.582913]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.582923]  ? mtree_range_walk+0x728/0xb70
[   33.582936]  ? __lock_acquire+0x412/0x22a0
[   33.582947]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.582957]  ? percpu_counter_add_batch+0xd9/0x210
[   33.582964]  ? debug_smp_processor_id+0x20/0x30
[   33.582975]  ? __this_cpu_preempt_check+0x21/0x30
[   33.582982]  ? lock_is_held_type+0xef/0x150
[   33.582996]  move_vma+0x689/0x1a60
[   33.583009]  ? __pfx_move_vma+0x10/0x10
[   33.583018]  ? cap_mmap_addr+0x58/0x140
[   33.583028]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.583038]  ? security_mmap_addr+0x63/0x1b0
[   33.583048]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.583058]  ? __get_unmapped_area+0x1a4/0x440
[   33.583074]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.583085]  ? vrm_set_new_addr+0x21d/0x2b0
[   33.583095]  __do_sys_mremap+0xeb4/0x1620
[   33.583106]  ? __pfx___do_sys_mremap+0x10/0x10
[   33.583121]  ? __this_cpu_preempt_check+0x21/0x30
[   33.583135]  ? __this_cpu_preempt_check+0x21/0x30
[   33.583154]  __x64_sys_mremap+0xc7/0x150
[   33.583163]  ? syscall_trace_enter+0x14d/0x280
[   33.583173]  x64_sys_call+0x1933/0x2150
[   33.583181]  do_syscall_64+0x6d/0x2e0
[   33.583193]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.583200] RIP: 0033:0x7f496c43ee5d
[   33.583208] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   33.583215] RSP: 002b:00007ffd552ff488 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   33.583222] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f496c43ee5d
[   33.583226] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   33.583234] RBP: 00007ffd552ff490 R08: 000000002038d000 R09: 0000000000000001
[   33.583238] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd552ff5a8
[   33.583242] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f496c83e000
[   33.583256]  </TASK>
[   34.596784] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   34.597266] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1326, name: repro
[   34.597673] preempt_count: 1, expected: 0
[   34.597879] RCU nest depth: 1, expected: 0
[   34.598087] 4 locks held by repro/1326:
[   34.598288]  #0: ffff88801517d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   34.598769]  #1: ffff88802ba1a8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   34.599241]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   34.599683]  #3: ffff88802b9bf9d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   34.600175] Preemption disabled at:
[   34.600178] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   34.600675] CPU: 0 UID: 0 PID: 1326 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   34.600687] Tainted: [W]=WARN
[   34.600689] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.600694] Call Trace:
[   34.600696]  <TASK>
[   34.600699]  dump_stack_lvl+0x121/0x150
[   34.600714]  dump_stack+0x19/0x20
[   34.600722]  __might_resched+0x37b/0x5a0
[   34.600734]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.600749]  __might_sleep+0xa3/0x170
[   34.600759]  ? vm_normal_folio+0x8c/0x170
[   34.600770]  __relocate_anon_folios+0xf97/0x2960
[   34.600787]  ? reacquire_held_locks+0xdd/0x1f0
[   34.600800]  ? __pfx___relocate_anon_folios+0x10/0x10
[   34.600813]  ? lock_set_class+0x17a/0x260
[   34.600827]  copy_vma_and_data+0x606/0x1790
[   34.600853]  ? percpu_counter_add_batch+0xd9/0x210
[   34.600866]  ? __pfx_copy_vma_and_data+0x10/0x10
[   34.600874]  ? vms_complete_munmap_vmas+0x525/0x810
[   34.600890]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   34.600897]  ? __this_cpu_preempt_check+0x21/0x30
[   34.600910]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.600921]  ? mtree_range_walk+0x728/0xb70
[   34.600933]  ? __lock_acquire+0x412/0x22a0
[   34.600944]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.600954]  ? percpu_counter_add_batch+0xd9/0x210
[   34.600960]  ? debug_smp_processor_id+0x20/0x30
[   34.600971]  ? __this_cpu_preempt_check+0x21/0x30
[   34.600978]  ? lock_is_held_type+0xef/0x150
[   34.600991]  move_vma+0x689/0x1a60
[   34.601004]  ? __pfx_move_vma+0x10/0x10
[   34.601013]  ? cap_mmap_addr+0x58/0x140
[   34.601023]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.601033]  ? security_mmap_addr+0x63/0x1b0
[   34.601042]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.601052]  ? __get_unmapped_area+0x1a4/0x440
[   34.601065]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.601075]  ? vrm_set_new_addr+0x21d/0x2b0
[   34.601085]  __do_sys_mremap+0xeb4/0x1620
[   34.601095]  ? __pfx___do_sys_mremap+0x10/0x10
[   34.601106]  ? __this_cpu_preempt_check+0x21/0x30
[   34.601121]  ? __this_cpu_preempt_check+0x21/0x30
[   34.601140]  __x64_sys_mremap+0xc7/0x150
[   34.601148]  ? syscall_trace_enter+0x14d/0x280
[   34.601158]  x64_sys_call+0x1933/0x2150
[   34.601171]  do_syscall_64+0x6d/0x2e0
[   34.601182]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.601189] RIP: 0033:0x7f2da123ee5d
[   34.601198] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   34.601204] RSP: 002b:00007fff88f62538 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   34.601216] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2da123ee5d
[   34.601220] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   34.601224] RBP: 00007fff88f62540 R08: 000000002038d000 R09: 0000000000000001
[   34.601228] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff88f62658
[   34.601234] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2da1465000
[   34.601248]  </TASK>
[   35.603805] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   35.604263] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1361, name: repro
[   35.604635] preempt_count: 1, expected: 0
[   35.604839] RCU nest depth: 1, expected: 0
[   35.605053] 4 locks held by repro/1361:
[   35.605251]  #0: ffff88800f07d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   35.605731]  #1: ffff8880144e2298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   35.606206]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   35.606638]  #3: ffff88802bc7b558 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   35.607137] Preemption disabled at:
[   35.607140] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   35.607624] CPU: 0 UID: 0 PID: 1361 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   35.607635] Tainted: [W]=WARN
[   35.607637] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.607641] Call Trace:
[   35.607643]  <TASK>
[   35.607646]  dump_stack_lvl+0x121/0x150
[   35.607659]  dump_stack+0x19/0x20
[   35.607667]  __might_resched+0x37b/0x5a0
[   35.607678]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.607692]  __might_sleep+0xa3/0x170
[   35.607701]  ? vm_normal_folio+0x8c/0x170
[   35.607712]  __relocate_anon_folios+0xf97/0x2960
[   35.607728]  ? reacquire_held_locks+0xdd/0x1f0
[   35.607740]  ? __pfx___relocate_anon_folios+0x10/0x10
[   35.607753]  ? lock_set_class+0x17a/0x260
[   35.607767]  copy_vma_and_data+0x606/0x1790
[   35.607779]  ? percpu_counter_add_batch+0xd9/0x210
[   35.607791]  ? __pfx_copy_vma_and_data+0x10/0x10
[   35.607798]  ? vms_complete_munmap_vmas+0x525/0x810
[   35.607813]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   35.607820]  ? __this_cpu_preempt_check+0x21/0x30
[   35.607832]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.607842]  ? mtree_range_walk+0x728/0xb70
[   35.607854]  ? __lock_acquire+0x412/0x22a0
[   35.607864]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.607874]  ? percpu_counter_add_batch+0xd9/0x210
[   35.607880]  ? debug_smp_processor_id+0x20/0x30
[   35.607891]  ? __this_cpu_preempt_check+0x21/0x30
[   35.607897]  ? lock_is_held_type+0xef/0x150
[   35.607915]  move_vma+0x689/0x1a60
[   35.607949]  ? __pfx_move_vma+0x10/0x10
[   35.607958]  ? cap_mmap_addr+0x58/0x140
[   35.607967]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.607977]  ? security_mmap_addr+0x63/0x1b0
[   35.607986]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.607996]  ? __get_unmapped_area+0x1a4/0x440
[   35.608008]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.608018]  ? vrm_set_new_addr+0x21d/0x2b0
[   35.608028]  __do_sys_mremap+0xeb4/0x1620
[   35.608038]  ? __pfx___do_sys_mremap+0x10/0x10
[   35.608049]  ? __this_cpu_preempt_check+0x21/0x30
[   35.608063]  ? __this_cpu_preempt_check+0x21/0x30
[   35.608085]  __x64_sys_mremap+0xc7/0x150
[   35.608093]  ? syscall_trace_enter+0x14d/0x280
[   35.608103]  x64_sys_call+0x1933/0x2150
[   35.608110]  do_syscall_64+0x6d/0x2e0
[   35.608121]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.608127] RIP: 0033:0x7ff82243ee5d
[   35.608135] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   35.608145] RSP: 002b:00007ffe17d17968 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   35.608152] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff82243ee5d
[   35.608156] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   35.608159] RBP: 00007ffe17d17970 R08: 000000002038d000 R09: 0000000000000001
[   35.608163] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe17d17a88
[   35.608167] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff82274d000
[   35.608181]  </TASK>
[   36.614338] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   36.614772] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1397, name: repro
[   36.615121] preempt_count: 1, expected: 0
[   36.615314] RCU nest depth: 1, expected: 0
[   36.615508] 4 locks held by repro/1397:
[   36.615693]  #0: ffff88800e214b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   36.616114]  #1: ffff88801b12aa08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   36.616553]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   36.616963]  #3: ffff8880115c14f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   36.617423] Preemption disabled at:
[   36.617426] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   36.617959] CPU: 0 UID: 0 PID: 1397 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   36.617970] Tainted: [W]=WARN
[   36.617973] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.617977] Call Trace:
[   36.617979]  <TASK>
[   36.617982]  dump_stack_lvl+0x121/0x150
[   36.617995]  dump_stack+0x19/0x20
[   36.618004]  __might_resched+0x37b/0x5a0
[   36.618014]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.618028]  __might_sleep+0xa3/0x170
[   36.618037]  ? vm_normal_folio+0x8c/0x170
[   36.618048]  __relocate_anon_folios+0xf97/0x2960
[   36.618064]  ? reacquire_held_locks+0xdd/0x1f0
[   36.618076]  ? __pfx___relocate_anon_folios+0x10/0x10
[   36.618088]  ? lock_set_class+0x17a/0x260
[   36.618101]  copy_vma_and_data+0x606/0x1790
[   36.618113]  ? percpu_counter_add_batch+0xd9/0x210
[   36.618125]  ? __pfx_copy_vma_and_data+0x10/0x10
[   36.618132]  ? vms_complete_munmap_vmas+0x525/0x810
[   36.618147]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   36.618154]  ? __this_cpu_preempt_check+0x21/0x30
[   36.618166]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.618183]  ? mtree_range_walk+0x728/0xb70
[   36.618194]  ? __lock_acquire+0x412/0x22a0
[   36.618204]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.618214]  ? percpu_counter_add_batch+0xd9/0x210
[   36.618219]  ? debug_smp_processor_id+0x20/0x30
[   36.618235]  ? __this_cpu_preempt_check+0x21/0x30
[   36.618242]  ? lock_is_held_type+0xef/0x150
[   36.618254]  move_vma+0x689/0x1a60
[   36.618266]  ? __pfx_move_vma+0x10/0x10
[   36.618275]  ? cap_mmap_addr+0x58/0x140
[   36.618283]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.618293]  ? security_mmap_addr+0x63/0x1b0
[   36.618301]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.618311]  ? __get_unmapped_area+0x1a4/0x440
[   36.618322]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.618331]  ? vrm_set_new_addr+0x21d/0x2b0
[   36.618341]  __do_sys_mremap+0xeb4/0x1620
[   36.618350]  ? __pfx___do_sys_mremap+0x10/0x10
[   36.618360]  ? __this_cpu_preempt_check+0x21/0x30
[   36.618374]  ? __this_cpu_preempt_check+0x21/0x30
[   36.618391]  __x64_sys_mremap+0xc7/0x150
[   36.618399]  ? syscall_trace_enter+0x14d/0x280
[   36.618409]  x64_sys_call+0x1933/0x2150
[   36.618416]  do_syscall_64+0x6d/0x2e0
[   36.618426]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.618438] RIP: 0033:0x7fa67c43ee5d
[   36.618461] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   36.618469] RSP: 002b:00007ffcdeb4e218 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   36.618475] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa67c43ee5d
[   36.618479] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   36.618483] RBP: 00007ffcdeb4e220 R08: 000000002038d000 R09: 0000000000000001
[   36.618486] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcdeb4e338
[   36.618490] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa67c79a000
[   36.618503]  </TASK>
[   37.637085] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   37.637530] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1435, name: repro
[   37.637882] preempt_count: 1, expected: 0
[   37.638090] RCU nest depth: 1, expected: 0
[   37.638268] 4 locks held by repro/1435:
[   37.638456]  #0: ffff888019242160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   37.638877]  #1: ffff888011536a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   37.639315]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   37.639727]  #3: ffff888014515498 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   37.640183] Preemption disabled at:
[   37.640186] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   37.640650] CPU: 0 UID: 0 PID: 1435 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   37.640675] Tainted: [W]=WARN
[   37.640677] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.640681] Call Trace:
[   37.640684]  <TASK>
[   37.640687]  dump_stack_lvl+0x121/0x150
[   37.640701]  dump_stack+0x19/0x20
[   37.640709]  __might_resched+0x37b/0x5a0
[   37.640720]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.640734]  __might_sleep+0xa3/0x170
[   37.640742]  ? vm_normal_folio+0x8c/0x170
[   37.640753]  __relocate_anon_folios+0xf97/0x2960
[   37.640768]  ? reacquire_held_locks+0xdd/0x1f0
[   37.640781]  ? __pfx___relocate_anon_folios+0x10/0x10
[   37.640792]  ? lock_set_class+0x17a/0x260
[   37.640805]  copy_vma_and_data+0x606/0x1790
[   37.640817]  ? percpu_counter_add_batch+0xd9/0x210
[   37.640830]  ? __pfx_copy_vma_and_data+0x10/0x10
[   37.640837]  ? vms_complete_munmap_vmas+0x525/0x810
[   37.640851]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   37.640861]  ? __this_cpu_preempt_check+0x21/0x30
[   37.640873]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.640883]  ? mtree_range_walk+0x728/0xb70
[   37.640895]  ? __lock_acquire+0x412/0x22a0
[   37.640904]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.640914]  ? percpu_counter_add_batch+0xd9/0x210
[   37.640919]  ? debug_smp_processor_id+0x20/0x30
[   37.640930]  ? __this_cpu_preempt_check+0x21/0x30
[   37.640936]  ? lock_is_held_type+0xef/0x150
[   37.640949]  move_vma+0x689/0x1a60
[   37.640960]  ? __pfx_move_vma+0x10/0x10
[   37.640969]  ? cap_mmap_addr+0x58/0x140
[   37.640977]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.640987]  ? security_mmap_addr+0x63/0x1b0
[   37.640996]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.641005]  ? __get_unmapped_area+0x1a4/0x440
[   37.641017]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.641026]  ? vrm_set_new_addr+0x21d/0x2b0
[   37.641035]  __do_sys_mremap+0xeb4/0x1620
[   37.641045]  ? __pfx___do_sys_mremap+0x10/0x10
[   37.641055]  ? __this_cpu_preempt_check+0x21/0x30
[   37.641068]  ? __this_cpu_preempt_check+0x21/0x30
[   37.641086]  __x64_sys_mremap+0xc7/0x150
[   37.641093]  ? syscall_trace_enter+0x14d/0x280
[   37.641103]  x64_sys_call+0x1933/0x2150
[   37.641110]  do_syscall_64+0x6d/0x2e0
[   37.641121]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.641128] RIP: 0033:0x7ff7f1e3ee5d
[   37.641140] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   37.641146] RSP: 002b:00007ffcb0924228 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   37.641152] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff7f1e3ee5d
[   37.641156] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   37.641162] RBP: 00007ffcb0924230 R08: 000000002038d000 R09: 0000000000000001
[   37.641166] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcb0924348
[   37.641169] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff7f2054000
[   37.641182]  </TASK>
[   38.645684] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   38.646117] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1475, name: repro
[   38.646474] preempt_count: 1, expected: 0
[   38.646667] RCU nest depth: 1, expected: 0
[   38.646861] 4 locks held by repro/1475:
[   38.647024]  #0: ffff8880296896e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   38.647446]  #1: ffff888011f59d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   38.647881]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   38.648298]  #3: ffff8880196d6018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   38.648753] Preemption disabled at:
[   38.648756] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   38.649218] CPU: 1 UID: 0 PID: 1475 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   38.649228] Tainted: [W]=WARN
[   38.649233] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.649237] Call Trace:
[   38.649239]  <TASK>
[   38.649242]  dump_stack_lvl+0x121/0x150
[   38.649255]  dump_stack+0x19/0x20
[   38.649263]  __might_resched+0x37b/0x5a0
[   38.649274]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.649288]  __might_sleep+0xa3/0x170
[   38.649297]  ? vm_normal_folio+0x8c/0x170
[   38.649308]  __relocate_anon_folios+0xf97/0x2960
[   38.649324]  ? reacquire_held_locks+0xdd/0x1f0
[   38.649336]  ? __pfx___relocate_anon_folios+0x10/0x10
[   38.649348]  ? lock_set_class+0x17a/0x260
[   38.649361]  copy_vma_and_data+0x606/0x1790
[   38.649373]  ? percpu_counter_add_batch+0xd9/0x210
[   38.649385]  ? __pfx_copy_vma_and_data+0x10/0x10
[   38.649392]  ? vms_complete_munmap_vmas+0x525/0x810
[   38.649407]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   38.649414]  ? __this_cpu_preempt_check+0x21/0x30
[   38.649426]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.649436]  ? mtree_range_walk+0x728/0xb70
[   38.649447]  ? __lock_acquire+0x412/0x22a0
[   38.649457]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.649466]  ? percpu_counter_add_batch+0xd9/0x210
[   38.649472]  ? debug_smp_processor_id+0x20/0x30
[   38.649493]  ? __this_cpu_preempt_check+0x21/0x30
[   38.649500]  ? lock_is_held_type+0xef/0x150
[   38.649515]  move_vma+0x689/0x1a60
[   38.649530]  ? __pfx_move_vma+0x10/0x10
[   38.649540]  ? cap_mmap_addr+0x58/0x140
[   38.649550]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.649561]  ? security_mmap_addr+0x63/0x1b0
[   38.649571]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.649583]  ? __get_unmapped_area+0x1a4/0x440
[   38.649597]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.649609]  ? vrm_set_new_addr+0x21d/0x2b0
[   38.649620]  __do_sys_mremap+0xeb4/0x1620
[   38.649632]  ? __pfx___do_sys_mremap+0x10/0x10
[   38.649644]  ? __this_cpu_preempt_check+0x21/0x30
[   38.649661]  ? __this_cpu_preempt_check+0x21/0x30
[   38.649683]  __x64_sys_mremap+0xc7/0x150
[   38.649692]  ? syscall_trace_enter+0x14d/0x280
[   38.649703]  x64_sys_call+0x1933/0x2150
[   38.649711]  do_syscall_64+0x6d/0x2e0
[   38.649724]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.649731] RIP: 0033:0x7fa5d743ee5d
[   38.649738] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   38.649745] RSP: 002b:00007ffc6ae131a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   38.649752] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa5d743ee5d
[   38.649756] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   38.649760] RBP: 00007ffc6ae131b0 R08: 000000002038d000 R09: 0000000000000001
[   38.649765] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc6ae132c8
[   38.649771] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa5d7808000
[   38.649788]  </TASK>
[   39.651041] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   39.651466] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1513, name: repro
[   39.651815] preempt_count: 1, expected: 0
[   39.652003] RCU nest depth: 1, expected: 0
[   39.652221] 4 locks held by repro/1513:
[   39.652402]  #0: ffff88801957abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   39.652817]  #1: ffff88802b5ac298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   39.653251]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   39.653689]  #3: ffff88802b69ba38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   39.654143] Preemption disabled at:
[   39.654146] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   39.654602] CPU: 0 UID: 0 PID: 1513 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   39.654612] Tainted: [W]=WARN
[   39.654614] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.654619] Call Trace:
[   39.654621]  <TASK>
[   39.654624]  dump_stack_lvl+0x121/0x150
[   39.654637]  dump_stack+0x19/0x20
[   39.654659]  __might_resched+0x37b/0x5a0
[   39.654670]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.654684]  __might_sleep+0xa3/0x170
[   39.654692]  ? vm_normal_folio+0x8c/0x170
[   39.654703]  __relocate_anon_folios+0xf97/0x2960
[   39.654718]  ? reacquire_held_locks+0xdd/0x1f0
[   39.654730]  ? __pfx___relocate_anon_folios+0x10/0x10
[   39.654742]  ? lock_set_class+0x17a/0x260
[   39.654755]  copy_vma_and_data+0x606/0x1790
[   39.654767]  ? percpu_counter_add_batch+0xd9/0x210
[   39.654779]  ? __pfx_copy_vma_and_data+0x10/0x10
[   39.654786]  ? vms_complete_munmap_vmas+0x525/0x810
[   39.654800]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   39.654807]  ? __this_cpu_preempt_check+0x21/0x30
[   39.654819]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.654828]  ? mtree_range_walk+0x728/0xb70
[   39.654839]  ? __lock_acquire+0x412/0x22a0
[   39.654849]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.654858]  ? percpu_counter_add_batch+0xd9/0x210
[   39.654863]  ? debug_smp_processor_id+0x20/0x30
[   39.654873]  ? __this_cpu_preempt_check+0x21/0x30
[   39.654880]  ? lock_is_held_type+0xef/0x150
[   39.654892]  move_vma+0x689/0x1a60
[   39.654903]  ? __pfx_move_vma+0x10/0x10
[   39.654911]  ? cap_mmap_addr+0x58/0x140
[   39.654920]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.654929]  ? security_mmap_addr+0x63/0x1b0
[   39.654937]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.654946]  ? __get_unmapped_area+0x1a4/0x440
[   39.654959]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.654968]  ? vrm_set_new_addr+0x21d/0x2b0
[   39.654977]  __do_sys_mremap+0xeb4/0x1620
[   39.654986]  ? __pfx___do_sys_mremap+0x10/0x10
[   39.654996]  ? __this_cpu_preempt_check+0x21/0x30
[   39.655009]  ? __this_cpu_preempt_check+0x21/0x30
[   39.655026]  __x64_sys_mremap+0xc7/0x150
[   39.655034]  ? syscall_trace_enter+0x14d/0x280
[   39.655043]  x64_sys_call+0x1933/0x2150
[   39.655050]  do_syscall_64+0x6d/0x2e0
[   39.655060]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.655066] RIP: 0033:0x7f613a83ee5d
[   39.655074] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   39.655080] RSP: 002b:00007ffe4b14eae8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   39.655086] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f613a83ee5d
[   39.655090] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   39.655094] RBP: 00007ffe4b14eaf0 R08: 000000002038d000 R09: 0000000000000001
[   39.655099] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe4b14ec08
[   39.655102] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f613ab72000
[   39.655115]  </TASK>
[   40.676406] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   40.676871] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1551, name: repro
[   40.677235] preempt_count: 1, expected: 0
[   40.677425] RCU nest depth: 1, expected: 0
[   40.677643] 4 locks held by repro/1551:
[   40.677832]  #0: ffff888014dcabe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   40.678264]  #1: ffff88802b4e08f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   40.678704]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   40.679117]  #3: ffff888011e2ec18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   40.679575] Preemption disabled at:
[   40.679578] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   40.680040] CPU: 1 UID: 0 PID: 1551 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   40.680050] Tainted: [W]=WARN
[   40.680052] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.680056] Call Trace:
[   40.680058]  <TASK>
[   40.680061]  dump_stack_lvl+0x121/0x150
[   40.680073]  dump_stack+0x19/0x20
[   40.680082]  __might_resched+0x37b/0x5a0
[   40.680091]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.680105]  __might_sleep+0xa3/0x170
[   40.680114]  ? vm_normal_folio+0x8c/0x170
[   40.680124]  __relocate_anon_folios+0xf97/0x2960
[   40.680140]  ? reacquire_held_locks+0xdd/0x1f0
[   40.680152]  ? __pfx___relocate_anon_folios+0x10/0x10
[   40.680164]  ? lock_set_class+0x17a/0x260
[   40.680177]  copy_vma_and_data+0x606/0x1790
[   40.680189]  ? percpu_counter_add_batch+0xd9/0x210
[   40.680226]  ? __pfx_copy_vma_and_data+0x10/0x10
[   40.680236]  ? vms_complete_munmap_vmas+0x525/0x810
[   40.680251]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   40.680258]  ? __this_cpu_preempt_check+0x21/0x30
[   40.680270]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.680279]  ? mtree_range_walk+0x728/0xb70
[   40.680291]  ? __lock_acquire+0x412/0x22a0
[   40.680300]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.680310]  ? percpu_counter_add_batch+0xd9/0x210
[   40.680315]  ? debug_smp_processor_id+0x20/0x30
[   40.680326]  ? __this_cpu_preempt_check+0x21/0x30
[   40.680332]  ? lock_is_held_type+0xef/0x150
[   40.680344]  move_vma+0x689/0x1a60
[   40.680356]  ? __pfx_move_vma+0x10/0x10
[   40.680364]  ? cap_mmap_addr+0x58/0x140
[   40.680373]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.680386]  ? security_mmap_addr+0x63/0x1b0
[   40.680394]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.680403]  ? __get_unmapped_area+0x1a4/0x440
[   40.680415]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.680424]  ? vrm_set_new_addr+0x21d/0x2b0
[   40.680434]  __do_sys_mremap+0xeb4/0x1620
[   40.680444]  ? __pfx___do_sys_mremap+0x10/0x10
[   40.680453]  ? __this_cpu_preempt_check+0x21/0x30
[   40.680467]  ? __this_cpu_preempt_check+0x21/0x30
[   40.680484]  __x64_sys_mremap+0xc7/0x150
[   40.680492]  ? syscall_trace_enter+0x14d/0x280
[   40.680501]  x64_sys_call+0x1933/0x2150
[   40.680508]  do_syscall_64+0x6d/0x2e0
[   40.680519]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.680526] RIP: 0033:0x7f2cd263ee5d
[   40.680533] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   40.680539] RSP: 002b:00007fff0dbb7988 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   40.680545] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2cd263ee5d
[   40.680549] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   40.680553] RBP: 00007fff0dbb7990 R08: 000000002038d000 R09: 0000000000000001
[   40.680557] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff0dbb7aa8
[   40.680560] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2cd2985000
[   40.680573]  </TASK>
[   41.696869] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   41.697313] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1589, name: repro
[   41.697990] preempt_count: 1, expected: 0
[   41.698183] RCU nest depth: 1, expected: 0
[   41.698387] 4 locks held by repro/1589:
[   41.698571]  #0: ffff888017b12160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   41.698997]  #1: ffff88802a740188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   41.699439]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   41.699843]  #3: ffff88802a72b318 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   41.700296] Preemption disabled at:
[   41.700298] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   41.700756] CPU: 1 UID: 0 PID: 1589 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   41.700767] Tainted: [W]=WARN
[   41.700769] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.700774] Call Trace:
[   41.700776]  <TASK>
[   41.700779]  dump_stack_lvl+0x121/0x150
[   41.700792]  dump_stack+0x19/0x20
[   41.700801]  __might_resched+0x37b/0x5a0
[   41.700811]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.700825]  __might_sleep+0xa3/0x170
[   41.700834]  ? vm_normal_folio+0x8c/0x170
[   41.700845]  __relocate_anon_folios+0xf97/0x2960
[   41.700863]  ? reacquire_held_locks+0xdd/0x1f0
[   41.700875]  ? __pfx___relocate_anon_folios+0x10/0x10
[   41.700887]  ? lock_set_class+0x17a/0x260
[   41.700900]  copy_vma_and_data+0x606/0x1790
[   41.700912]  ? percpu_counter_add_batch+0xd9/0x210
[   41.700924]  ? __pfx_copy_vma_and_data+0x10/0x10
[   41.700931]  ? vms_complete_munmap_vmas+0x525/0x810
[   41.700946]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   41.700952]  ? __this_cpu_preempt_check+0x21/0x30
[   41.700964]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.700973]  ? mtree_range_walk+0x728/0xb70
[   41.700984]  ? __lock_acquire+0x412/0x22a0
[   41.700994]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.701003]  ? percpu_counter_add_batch+0xd9/0x210
[   41.701008]  ? debug_smp_processor_id+0x20/0x30
[   41.701019]  ? __this_cpu_preempt_check+0x21/0x30
[   41.701025]  ? lock_is_held_type+0xef/0x150
[   41.701037]  move_vma+0x689/0x1a60
[   41.701048]  ? __pfx_move_vma+0x10/0x10
[   41.701056]  ? cap_mmap_addr+0x58/0x140
[   41.701065]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.701074]  ? security_mmap_addr+0x63/0x1b0
[   41.701082]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.701091]  ? __get_unmapped_area+0x1a4/0x440
[   41.701103]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.701112]  ? vrm_set_new_addr+0x21d/0x2b0
[   41.701121]  __do_sys_mremap+0xeb4/0x1620
[   41.701131]  ? __pfx___do_sys_mremap+0x10/0x10
[   41.701140]  ? __this_cpu_preempt_check+0x21/0x30
[   41.701153]  ? __this_cpu_preempt_check+0x21/0x30
[   41.701170]  __x64_sys_mremap+0xc7/0x150
[   41.701177]  ? syscall_trace_enter+0x14d/0x280
[   41.701186]  x64_sys_call+0x1933/0x2150
[   41.701193]  do_syscall_64+0x6d/0x2e0
[   41.701203]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.701209] RIP: 0033:0x7f8045a3ee5d
[   41.701216] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   41.701222] RSP: 002b:00007ffd1ebeb728 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   41.701228] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8045a3ee5d
[   41.701234] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   41.701238] RBP: 00007ffd1ebeb730 R08: 000000002038d000 R09: 0000000000000001
[   41.701241] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd1ebeb848
[   41.701245] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8045cd1000
[   41.701257]  </TASK>
[   42.718166] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   42.718610] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1627, name: repro
[   42.718966] preempt_count: 1, expected: 0
[   42.719174] RCU nest depth: 1, expected: 0
[   42.719373] 4 locks held by repro/1627:
[   42.719558]  #0: ffff8880151781e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   42.719985]  #1: ffff88802bdc0a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   42.720427]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   42.720837]  #3: ffff88802a7e3678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   42.721295] Preemption disabled at:
[   42.721298] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   42.721787] CPU: 1 UID: 0 PID: 1627 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   42.721797] Tainted: [W]=WARN
[   42.721800] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.721804] Call Trace:
[   42.721806]  <TASK>
[   42.721809]  dump_stack_lvl+0x121/0x150
[   42.721823]  dump_stack+0x19/0x20
[   42.721831]  __might_resched+0x37b/0x5a0
[   42.721842]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.721856]  __might_sleep+0xa3/0x170
[   42.721865]  ? vm_normal_folio+0x8c/0x170
[   42.721876]  __relocate_anon_folios+0xf97/0x2960
[   42.721891]  ? reacquire_held_locks+0xdd/0x1f0
[   42.721903]  ? __pfx___relocate_anon_folios+0x10/0x10
[   42.721915]  ? lock_set_class+0x17a/0x260
[   42.721928]  copy_vma_and_data+0x606/0x1790
[   42.721940]  ? percpu_counter_add_batch+0xd9/0x210
[   42.721953]  ? __pfx_copy_vma_and_data+0x10/0x10
[   42.721960]  ? vms_complete_munmap_vmas+0x525/0x810
[   42.721975]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   42.721981]  ? __this_cpu_preempt_check+0x21/0x30
[   42.721993]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.722003]  ? mtree_range_walk+0x728/0xb70
[   42.722014]  ? __lock_acquire+0x412/0x22a0
[   42.722024]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.722033]  ? percpu_counter_add_batch+0xd9/0x210
[   42.722042]  ? debug_smp_processor_id+0x20/0x30
[   42.722052]  ? __this_cpu_preempt_check+0x21/0x30
[   42.722059]  ? lock_is_held_type+0xef/0x150
[   42.722071]  move_vma+0x689/0x1a60
[   42.722082]  ? __pfx_move_vma+0x10/0x10
[   42.722091]  ? cap_mmap_addr+0x58/0x140
[   42.722100]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.722109]  ? security_mmap_addr+0x63/0x1b0
[   42.722118]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.722127]  ? __get_unmapped_area+0x1a4/0x440
[   42.722139]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.722148]  ? vrm_set_new_addr+0x21d/0x2b0
[   42.722158]  __do_sys_mremap+0xeb4/0x1620
[   42.722169]  ? __pfx___do_sys_mremap+0x10/0x10
[   42.722187]  ? __this_cpu_preempt_check+0x21/0x30
[   42.722205]  __x64_sys_mremap+0xc7/0x150
[   42.722213]  ? syscall_trace_enter+0x14d/0x280
[   42.722222]  x64_sys_call+0x1933/0x2150
[   42.722229]  do_syscall_64+0x6d/0x2e0
[   42.722243]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.722249] RIP: 0033:0x7f26f163ee5d
[   42.722256] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   42.722263] RSP: 002b:00007ffec0171538 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   42.722269] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f26f163ee5d
[   42.722273] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   42.722277] RBP: 00007ffec0171540 R08: 000000002038d000 R09: 0000000000000001
[   42.722281] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffec0171658
[   42.722284] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f26f1871000
[   42.722298]  </TASK>
[   43.737072] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   43.737531] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1665, name: repro
[   43.737887] preempt_count: 1, expected: 0
[   43.738079] RCU nest depth: 1, expected: 0
[   43.738276] 4 locks held by repro/1665:
[   43.738461]  #0: ffff88801a9d01e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   43.738888]  #1: ffff88802be31b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   43.739331]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   43.739746]  #3: ffff88802b9dcd38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   43.740221] Preemption disabled at:
[   43.740223] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   43.740687] CPU: 1 UID: 0 PID: 1665 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   43.740698] Tainted: [W]=WARN
[   43.740700] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.740705] Call Trace:
[   43.740707]  <TASK>
[   43.740710]  dump_stack_lvl+0x121/0x150
[   43.740724]  dump_stack+0x19/0x20
[   43.740732]  __might_resched+0x37b/0x5a0
[   43.740743]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.740756]  __might_sleep+0xa3/0x170
[   43.740765]  ? vm_normal_folio+0x8c/0x170
[   43.740776]  __relocate_anon_folios+0xf97/0x2960
[   43.740791]  ? reacquire_held_locks+0xdd/0x1f0
[   43.740804]  ? __pfx___relocate_anon_folios+0x10/0x10
[   43.740816]  ? lock_set_class+0x17a/0x260
[   43.740829]  copy_vma_and_data+0x606/0x1790
[   43.740841]  ? percpu_counter_add_batch+0xd9/0x210
[   43.740853]  ? __pfx_copy_vma_and_data+0x10/0x10
[   43.740860]  ? vms_complete_munmap_vmas+0x525/0x810
[   43.740877]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   43.740886]  ? __this_cpu_preempt_check+0x21/0x30
[   43.740898]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.740907]  ? mtree_range_walk+0x728/0xb70
[   43.740920]  ? __lock_acquire+0x412/0x22a0
[   43.740930]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.740939]  ? percpu_counter_add_batch+0xd9/0x210
[   43.740944]  ? debug_smp_processor_id+0x20/0x30
[   43.740955]  ? __this_cpu_preempt_check+0x21/0x30
[   43.740961]  ? lock_is_held_type+0xef/0x150
[   43.740973]  move_vma+0x689/0x1a60
[   43.740985]  ? __pfx_move_vma+0x10/0x10
[   43.740993]  ? cap_mmap_addr+0x58/0x140
[   43.741002]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.741012]  ? security_mmap_addr+0x63/0x1b0
[   43.741020]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.741029]  ? __get_unmapped_area+0x1a4/0x440
[   43.741041]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.741050]  ? vrm_set_new_addr+0x21d/0x2b0
[   43.741060]  __do_sys_mremap+0xeb4/0x1620
[   43.741069]  ? __pfx___do_sys_mremap+0x10/0x10
[   43.741079]  ? __this_cpu_preempt_check+0x21/0x30
[   43.741093]  ? __this_cpu_preempt_check+0x21/0x30
[   43.741110]  __x64_sys_mremap+0xc7/0x150
[   43.741118]  ? syscall_trace_enter+0x14d/0x280
[   43.741127]  x64_sys_call+0x1933/0x2150
[   43.741135]  do_syscall_64+0x6d/0x2e0
[   43.741145]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.741152] RIP: 0033:0x7f52e663ee5d
[   43.741159] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   43.741165] RSP: 002b:00007ffd4a2b0f58 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   43.741172] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f52e663ee5d
[   43.741176] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   43.741180] RBP: 00007ffd4a2b0f60 R08: 000000002038d000 R09: 0000000000000001
[   43.741183] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd4a2b1078
[   43.741187] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f52e6983000
[   43.741200]  </TASK>
[   44.736597] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   44.737037] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1702, name: repro
[   44.737392] preempt_count: 1, expected: 0
[   44.737608] RCU nest depth: 1, expected: 0
[   44.737805] 4 locks held by repro/1702:
[   44.737992]  #0: ffff8880190a4b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   44.738415]  #1: ffff8880295abb18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   44.738848]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   44.739252]  #3: ffff888012c677f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   44.739711] Preemption disabled at:
[   44.739726] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   44.740192] CPU: 1 UID: 0 PID: 1702 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   44.740206] Tainted: [W]=WARN
[   44.740208] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.740213] Call Trace:
[   44.740215]  <TASK>
[   44.740218]  dump_stack_lvl+0x121/0x150
[   44.740234]  dump_stack+0x19/0x20
[   44.740243]  __might_resched+0x37b/0x5a0
[   44.740254]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.740268]  __might_sleep+0xa3/0x170
[   44.740277]  ? vm_normal_folio+0x8c/0x170
[   44.740287]  __relocate_anon_folios+0xf97/0x2960
[   44.740302]  ? reacquire_held_locks+0xdd/0x1f0
[   44.740315]  ? __pfx___relocate_anon_folios+0x10/0x10
[   44.740327]  ? lock_set_class+0x17a/0x260
[   44.740340]  copy_vma_and_data+0x606/0x1790
[   44.740352]  ? percpu_counter_add_batch+0xd9/0x210
[   44.740364]  ? __pfx_copy_vma_and_data+0x10/0x10
[   44.740371]  ? vms_complete_munmap_vmas+0x525/0x810
[   44.740386]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   44.740392]  ? __this_cpu_preempt_check+0x21/0x30
[   44.740404]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.740413]  ? mtree_range_walk+0x728/0xb70
[   44.740425]  ? __lock_acquire+0x412/0x22a0
[   44.740435]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.740444]  ? percpu_counter_add_batch+0xd9/0x210
[   44.740450]  ? debug_smp_processor_id+0x20/0x30
[   44.740460]  ? __this_cpu_preempt_check+0x21/0x30
[   44.740467]  ? lock_is_held_type+0xef/0x150
[   44.740479]  move_vma+0x689/0x1a60
[   44.740490]  ? __pfx_move_vma+0x10/0x10
[   44.740499]  ? cap_mmap_addr+0x58/0x140
[   44.740508]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.740517]  ? security_mmap_addr+0x63/0x1b0
[   44.740525]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.740535]  ? __get_unmapped_area+0x1a4/0x440
[   44.740546]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.740555]  ? vrm_set_new_addr+0x21d/0x2b0
[   44.740565]  __do_sys_mremap+0xeb4/0x1620
[   44.740574]  ? __pfx___do_sys_mremap+0x10/0x10
[   44.740584]  ? __this_cpu_preempt_check+0x21/0x30
[   44.740598]  ? __this_cpu_preempt_check+0x21/0x30
[   44.740615]  __x64_sys_mremap+0xc7/0x150
[   44.740622]  ? syscall_trace_enter+0x14d/0x280
[   44.740632]  x64_sys_call+0x1933/0x2150
[   44.740641]  do_syscall_64+0x6d/0x2e0
[   44.740651]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.740657] RIP: 0033:0x7f9b37c3ee5d
[   44.740665] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   44.740671] RSP: 002b:00007fff825ab118 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   44.740677] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9b37c3ee5d
[   44.740681] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   44.740685] RBP: 00007fff825ab120 R08: 000000002038d000 R09: 0000000000000001
[   44.740688] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff825ab238
[   44.740692] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9b37ee4000
[   44.740704]  </TASK>
[   45.746285] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   45.746723] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1739, name: repro
[   45.747073] preempt_count: 1, expected: 0
[   45.747265] RCU nest depth: 1, expected: 0
[   45.747463] 4 locks held by repro/1739:
[   45.747651]  #0: ffff8880153081e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   45.748075]  #1: ffff88802b596188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   45.748518]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   45.748936]  #3: ffff888022628af8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   45.749397] Preemption disabled at:
[   45.749400] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   45.749891] CPU: 1 UID: 0 PID: 1739 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   45.749902] Tainted: [W]=WARN
[   45.749904] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.749912] Call Trace:
[   45.749914]  <TASK>
[   45.749917]  dump_stack_lvl+0x121/0x150
[   45.749931]  dump_stack+0x19/0x20
[   45.749939]  __might_resched+0x37b/0x5a0
[   45.749949]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.749963]  __might_sleep+0xa3/0x170
[   45.749972]  ? vm_normal_folio+0x8c/0x170
[   45.749983]  __relocate_anon_folios+0xf97/0x2960
[   45.749998]  ? reacquire_held_locks+0xdd/0x1f0
[   45.750011]  ? __pfx___relocate_anon_folios+0x10/0x10
[   45.750023]  ? lock_set_class+0x17a/0x260
[   45.750036]  copy_vma_and_data+0x606/0x1790
[   45.750047]  ? percpu_counter_add_batch+0xd9/0x210
[   45.750060]  ? __pfx_copy_vma_and_data+0x10/0x10
[   45.750067]  ? vms_complete_munmap_vmas+0x525/0x810
[   45.750082]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   45.750089]  ? __this_cpu_preempt_check+0x21/0x30
[   45.750100]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.750110]  ? mtree_range_walk+0x728/0xb70
[   45.750122]  ? __lock_acquire+0x412/0x22a0
[   45.750131]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.750143]  ? percpu_counter_add_batch+0xd9/0x210
[   45.750149]  ? debug_smp_processor_id+0x20/0x30
[   45.750159]  ? __this_cpu_preempt_check+0x21/0x30
[   45.750166]  ? lock_is_held_type+0xef/0x150
[   45.750178]  move_vma+0x689/0x1a60
[   45.750189]  ? __pfx_move_vma+0x10/0x10
[   45.750198]  ? cap_mmap_addr+0x58/0x140
[   45.750207]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.750216]  ? security_mmap_addr+0x63/0x1b0
[   45.750225]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.750237]  ? __get_unmapped_area+0x1a4/0x440
[   45.750248]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.750257]  ? vrm_set_new_addr+0x21d/0x2b0
[   45.750267]  __do_sys_mremap+0xeb4/0x1620
[   45.750276]  ? __pfx___do_sys_mremap+0x10/0x10
[   45.750294]  ? __this_cpu_preempt_check+0x21/0x30
[   45.750312]  __x64_sys_mremap+0xc7/0x150
[   45.750319]  ? syscall_trace_enter+0x14d/0x280
[   45.750329]  x64_sys_call+0x1933/0x2150
[   45.750336]  do_syscall_64+0x6d/0x2e0
[   45.750346]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.750352] RIP: 0033:0x7fee5d03ee5d
[   45.750359] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   45.750366] RSP: 002b:00007ffc1fe93bc8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   45.750372] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fee5d03ee5d
[   45.750376] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   45.750380] RBP: 00007ffc1fe93bd0 R08: 000000002038d000 R09: 0000000000000001
[   45.750383] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc1fe93ce8
[   45.750387] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fee5d347000
[   45.750400]  </TASK>
[   46.765177] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   46.765618] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1776, name: repro
[   46.765969] preempt_count: 1, expected: 0
[   46.766161] RCU nest depth: 1, expected: 0
[   46.766355] 4 locks held by repro/1776:
[   46.766540]  #0: ffff8880172cabe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   46.766958]  #1: ffff88802c066c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   46.767388]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   46.767794]  #3: ffff8880133d6bb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   46.768242] Preemption disabled at:
[   46.768244] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   46.768697] CPU: 1 UID: 0 PID: 1776 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   46.768708] Tainted: [W]=WARN
[   46.768710] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.768714] Call Trace:
[   46.768716]  <TASK>
[   46.768729]  dump_stack_lvl+0x121/0x150
[   46.768742]  dump_stack+0x19/0x20
[   46.768750]  __might_resched+0x37b/0x5a0
[   46.768761]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.768777]  __might_sleep+0xa3/0x170
[   46.768786]  ? vm_normal_folio+0x8c/0x170
[   46.768797]  __relocate_anon_folios+0xf97/0x2960
[   46.768812]  ? reacquire_held_locks+0xdd/0x1f0
[   46.768824]  ? __pfx___relocate_anon_folios+0x10/0x10
[   46.768836]  ? lock_set_class+0x17a/0x260
[   46.768848]  copy_vma_and_data+0x606/0x1790
[   46.768860]  ? percpu_counter_add_batch+0xd9/0x210
[   46.768873]  ? __pfx_copy_vma_and_data+0x10/0x10
[   46.768879]  ? vms_complete_munmap_vmas+0x525/0x810
[   46.768894]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   46.768901]  ? __this_cpu_preempt_check+0x21/0x30
[   46.768912]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.768921]  ? mtree_range_walk+0x728/0xb70
[   46.768932]  ? __lock_acquire+0x412/0x22a0
[   46.768942]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.768951]  ? percpu_counter_add_batch+0xd9/0x210
[   46.768956]  ? debug_smp_processor_id+0x20/0x30
[   46.768967]  ? __this_cpu_preempt_check+0x21/0x30
[   46.768973]  ? lock_is_held_type+0xef/0x150
[   46.768985]  move_vma+0x689/0x1a60
[   46.768996]  ? __pfx_move_vma+0x10/0x10
[   46.769004]  ? cap_mmap_addr+0x58/0x140
[   46.769014]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.769023]  ? security_mmap_addr+0x63/0x1b0
[   46.769031]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.769040]  ? __get_unmapped_area+0x1a4/0x440
[   46.769051]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.769061]  ? vrm_set_new_addr+0x21d/0x2b0
[   46.769070]  __do_sys_mremap+0xeb4/0x1620
[   46.769079]  ? __pfx___do_sys_mremap+0x10/0x10
[   46.769097]  ? __this_cpu_preempt_check+0x21/0x30
[   46.769114]  __x64_sys_mremap+0xc7/0x150
[   46.769121]  ? syscall_trace_enter+0x14d/0x280
[   46.769130]  x64_sys_call+0x1933/0x2150
[   46.769137]  do_syscall_64+0x6d/0x2e0
[   46.769147]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.769153] RIP: 0033:0x7fcf9f23ee5d
[   46.769160] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   46.769166] RSP: 002b:00007ffefb7106a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   46.769172] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcf9f23ee5d
[   46.769176] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   46.769180] RBP: 00007ffefb7106b0 R08: 000000002038d000 R09: 0000000000000001
[   46.769185] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffefb7107c8
[   46.769188] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcf9f5c3000
[   46.769201]  </TASK>
[   47.786763] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   47.787212] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1813, name: repro
[   47.787569] preempt_count: 1, expected: 0
[   47.787758] RCU nest depth: 1, expected: 0
[   47.787953] 4 locks held by repro/1813:
[   47.788137]  #0: ffff88802968c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   47.788564]  #1: ffff88802399fd38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   47.789002]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   47.789413]  #3: ffff88802c030018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   47.789896] Preemption disabled at:
[   47.789899] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   47.790372] CPU: 1 UID: 0 PID: 1813 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   47.790383] Tainted: [W]=WARN
[   47.790385] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.790390] Call Trace:
[   47.790392]  <TASK>
[   47.790395]  dump_stack_lvl+0x121/0x150
[   47.790409]  dump_stack+0x19/0x20
[   47.790417]  __might_resched+0x37b/0x5a0
[   47.790428]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.790443]  __might_sleep+0xa3/0x170
[   47.790452]  ? vm_normal_folio+0x8c/0x170
[   47.790463]  __relocate_anon_folios+0xf97/0x2960
[   47.790479]  ? reacquire_held_locks+0xdd/0x1f0
[   47.790491]  ? __pfx___relocate_anon_folios+0x10/0x10
[   47.790517]  ? lock_set_class+0x17a/0x260
[   47.790531]  copy_vma_and_data+0x606/0x1790
[   47.790543]  ? percpu_counter_add_batch+0xd9/0x210
[   47.790556]  ? __pfx_copy_vma_and_data+0x10/0x10
[   47.790563]  ? vms_complete_munmap_vmas+0x525/0x810
[   47.790578]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   47.790585]  ? __this_cpu_preempt_check+0x21/0x30
[   47.790597]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.790607]  ? mtree_range_walk+0x728/0xb70
[   47.790619]  ? __lock_acquire+0x412/0x22a0
[   47.790629]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.790638]  ? percpu_counter_add_batch+0xd9/0x210
[   47.790644]  ? debug_smp_processor_id+0x20/0x30
[   47.790655]  ? __this_cpu_preempt_check+0x21/0x30
[   47.790662]  ? lock_is_held_type+0xef/0x150
[   47.790674]  move_vma+0x689/0x1a60
[   47.790686]  ? __pfx_move_vma+0x10/0x10
[   47.790695]  ? cap_mmap_addr+0x58/0x140
[   47.790707]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.790716]  ? security_mmap_addr+0x63/0x1b0
[   47.790725]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.790735]  ? __get_unmapped_area+0x1a4/0x440
[   47.790749]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.790759]  ? vrm_set_new_addr+0x21d/0x2b0
[   47.790768]  __do_sys_mremap+0xeb4/0x1620
[   47.790778]  ? __pfx___do_sys_mremap+0x10/0x10
[   47.790796]  ? __this_cpu_preempt_check+0x21/0x30
[   47.790814]  __x64_sys_mremap+0xc7/0x150
[   47.790822]  ? syscall_trace_enter+0x14d/0x280
[   47.790832]  x64_sys_call+0x1933/0x2150
[   47.790839]  do_syscall_64+0x6d/0x2e0
[   47.790850]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.790857] RIP: 0033:0x7f1b9da3ee5d
[   47.790864] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   47.790870] RSP: 002b:00007ffc829e6a28 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   47.790876] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f1b9da3ee5d
[   47.790880] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   47.790884] RBP: 00007ffc829e6a30 R08: 000000002038d000 R09: 0000000000000001
[   47.790888] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc829e6b48
[   47.790892] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f1b9de38000
[   47.790905]  </TASK>
[   48.801137] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   48.801612] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1850, name: repro
[   48.801970] preempt_count: 1, expected: 0
[   48.802160] RCU nest depth: 1, expected: 0
[   48.802356] 4 locks held by repro/1850:
[   48.802540]  #0: ffff888017250c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   48.802966]  #1: ffff88802bd106d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   48.803406]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   48.803818]  #3: ffff888029536018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   48.804276] Preemption disabled at:
[   48.804279] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   48.804738] CPU: 0 UID: 0 PID: 1850 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   48.804749] Tainted: [W]=WARN
[   48.804751] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.804756] Call Trace:
[   48.804758]  <TASK>
[   48.804760]  dump_stack_lvl+0x121/0x150
[   48.804774]  dump_stack+0x19/0x20
[   48.804782]  __might_resched+0x37b/0x5a0
[   48.804793]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.804807]  __might_sleep+0xa3/0x170
[   48.804816]  ? vm_normal_folio+0x8c/0x170
[   48.804827]  __relocate_anon_folios+0xf97/0x2960
[   48.804842]  ? reacquire_held_locks+0xdd/0x1f0
[   48.804860]  ? __pfx___relocate_anon_folios+0x10/0x10
[   48.804872]  ? lock_set_class+0x17a/0x260
[   48.804885]  copy_vma_and_data+0x606/0x1790
[   48.804897]  ? percpu_counter_add_batch+0xd9/0x210
[   48.804910]  ? __pfx_copy_vma_and_data+0x10/0x10
[   48.804917]  ? vms_complete_munmap_vmas+0x525/0x810
[   48.804935]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   48.804941]  ? __this_cpu_preempt_check+0x21/0x30
[   48.804954]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.804963]  ? mtree_range_walk+0x728/0xb70
[   48.804975]  ? __lock_acquire+0x412/0x22a0
[   48.804985]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.804994]  ? percpu_counter_add_batch+0xd9/0x210
[   48.805000]  ? debug_smp_processor_id+0x20/0x30
[   48.805010]  ? __this_cpu_preempt_check+0x21/0x30
[   48.805017]  ? lock_is_held_type+0xef/0x150
[   48.805029]  move_vma+0x689/0x1a60
[   48.805040]  ? __pfx_move_vma+0x10/0x10
[   48.805049]  ? cap_mmap_addr+0x58/0x140
[   48.805058]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.805068]  ? security_mmap_addr+0x63/0x1b0
[   48.805076]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.805085]  ? __get_unmapped_area+0x1a4/0x440
[   48.805097]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.805106]  ? vrm_set_new_addr+0x21d/0x2b0
[   48.805115]  __do_sys_mremap+0xeb4/0x1620
[   48.805125]  ? __pfx___do_sys_mremap+0x10/0x10
[   48.805135]  ? __this_cpu_preempt_check+0x21/0x30
[   48.805148]  ? __this_cpu_preempt_check+0x21/0x30
[   48.805165]  __x64_sys_mremap+0xc7/0x150
[   48.805173]  ? syscall_trace_enter+0x14d/0x280
[   48.805182]  x64_sys_call+0x1933/0x2150
[   48.805190]  do_syscall_64+0x6d/0x2e0
[   48.805200]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.805207] RIP: 0033:0x7fc93963ee5d
[   48.805214] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   48.805220] RSP: 002b:00007fffb8d20148 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   48.805227] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fc93963ee5d
[   48.805233] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   48.805237] RBP: 00007fffb8d20150 R08: 000000002038d000 R09: 0000000000000001
[   48.805240] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffb8d20268
[   48.805244] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fc939854000
[   48.805256]  </TASK>
[   48.819651] systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   48.820621] systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   49.819704] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   49.820159] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1888, name: repro
[   49.820519] preempt_count: 1, expected: 0
[   49.820712] RCU nest depth: 1, expected: 0
[   49.820907] 4 locks held by repro/1888:
[   49.821094]  #0: ffff8880154740e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   49.821547]  #1: ffff88802a4d9298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   49.821985]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   49.822401]  #3: ffff88802a482c18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   49.822863] Preemption disabled at:
[   49.822866] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   49.823332] CPU: 1 UID: 0 PID: 1888 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   49.823343] Tainted: [W]=WARN
[   49.823345] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.823349] Call Trace:
[   49.823351]  <TASK>
[   49.823354]  dump_stack_lvl+0x121/0x150
[   49.823368]  dump_stack+0x19/0x20
[   49.823376]  __might_resched+0x37b/0x5a0
[   49.823387]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.823401]  __might_sleep+0xa3/0x170
[   49.823410]  ? vm_normal_folio+0x8c/0x170
[   49.823421]  __relocate_anon_folios+0xf97/0x2960
[   49.823436]  ? reacquire_held_locks+0xdd/0x1f0
[   49.823448]  ? __pfx___relocate_anon_folios+0x10/0x10
[   49.823463]  ? lock_set_class+0x17a/0x260
[   49.823476]  copy_vma_and_data+0x606/0x1790
[   49.823488]  ? percpu_counter_add_batch+0xd9/0x210
[   49.823500]  ? __pfx_copy_vma_and_data+0x10/0x10
[   49.823507]  ? vms_complete_munmap_vmas+0x525/0x810
[   49.823522]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   49.823529]  ? __this_cpu_preempt_check+0x21/0x30
[   49.823541]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.823550]  ? mtree_range_walk+0x728/0xb70
[   49.823562]  ? __lock_acquire+0x412/0x22a0
[   49.823571]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.823581]  ? percpu_counter_add_batch+0xd9/0x210
[   49.823586]  ? debug_smp_processor_id+0x20/0x30
[   49.823597]  ? __this_cpu_preempt_check+0x21/0x30
[   49.823603]  ? lock_is_held_type+0xef/0x150
[   49.823616]  move_vma+0x689/0x1a60
[   49.823627]  ? __pfx_move_vma+0x10/0x10
[   49.823636]  ? cap_mmap_addr+0x58/0x140
[   49.823644]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.823654]  ? security_mmap_addr+0x63/0x1b0
[   49.823662]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.823671]  ? __get_unmapped_area+0x1a4/0x440
[   49.823683]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.823695]  ? vrm_set_new_addr+0x21d/0x2b0
[   49.823704]  __do_sys_mremap+0xeb4/0x1620
[   49.823714]  ? __pfx___do_sys_mremap+0x10/0x10
[   49.823724]  ? __this_cpu_preempt_check+0x21/0x30
[   49.823737]  ? __this_cpu_preempt_check+0x21/0x30
[   49.823754]  __x64_sys_mremap+0xc7/0x150
[   49.823761]  ? syscall_trace_enter+0x14d/0x280
[   49.823771]  x64_sys_call+0x1933/0x2150
[   49.823778]  do_syscall_64+0x6d/0x2e0
[   49.823788]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.823794] RIP: 0033:0x7fbe7263ee5d
[   49.823802] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   49.823808] RSP: 002b:00007ffc3e030928 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   49.823814] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fbe7263ee5d
[   49.823818] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   49.823822] RBP: 00007ffc3e030930 R08: 000000002038d000 R09: 0000000000000001
[   49.823826] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc3e030a48
[   49.823829] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fbe72937000
[   49.823842]  </TASK>
[   50.827807] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   50.828266] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1924, name: repro
[   50.828625] preempt_count: 1, expected: 0
[   50.828815] RCU nest depth: 1, expected: 0
[   50.829010] 4 locks held by repro/1924:
[   50.829194]  #0: ffff8880171e8c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   50.829666]  #1: ffff88802a7e5c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   50.830116]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   50.830541]  #3: ffff88802b5c4438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   50.831003] Preemption disabled at:
[   50.831006] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   50.831476] CPU: 0 UID: 0 PID: 1924 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   50.831487] Tainted: [W]=WARN
[   50.831489] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.831493] Call Trace:
[   50.831509]  <TASK>
[   50.831512]  dump_stack_lvl+0x121/0x150
[   50.831525]  dump_stack+0x19/0x20
[   50.831533]  __might_resched+0x37b/0x5a0
[   50.831544]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.831559]  __might_sleep+0xa3/0x170
[   50.831567]  ? vm_normal_folio+0x8c/0x170
[   50.831578]  __relocate_anon_folios+0xf97/0x2960
[   50.831594]  ? reacquire_held_locks+0xdd/0x1f0
[   50.831606]  ? __pfx___relocate_anon_folios+0x10/0x10
[   50.831618]  ? lock_set_class+0x17a/0x260
[   50.831631]  copy_vma_and_data+0x606/0x1790
[   50.831643]  ? percpu_counter_add_batch+0xd9/0x210
[   50.831658]  ? __pfx_copy_vma_and_data+0x10/0x10
[   50.831665]  ? vms_complete_munmap_vmas+0x525/0x810
[   50.831682]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   50.831689]  ? __this_cpu_preempt_check+0x21/0x30
[   50.831702]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.831711]  ? mtree_range_walk+0x728/0xb70
[   50.831723]  ? __lock_acquire+0x412/0x22a0
[   50.831734]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.831743]  ? percpu_counter_add_batch+0xd9/0x210
[   50.831749]  ? debug_smp_processor_id+0x20/0x30
[   50.831760]  ? __this_cpu_preempt_check+0x21/0x30
[   50.831766]  ? lock_is_held_type+0xef/0x150
[   50.831779]  move_vma+0x689/0x1a60
[   50.831791]  ? __pfx_move_vma+0x10/0x10
[   50.831800]  ? cap_mmap_addr+0x58/0x140
[   50.831809]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.831818]  ? security_mmap_addr+0x63/0x1b0
[   50.831827]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.831837]  ? __get_unmapped_area+0x1a4/0x440
[   50.831849]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.831858]  ? vrm_set_new_addr+0x21d/0x2b0
[   50.831868]  __do_sys_mremap+0xeb4/0x1620
[   50.831877]  ? __pfx___do_sys_mremap+0x10/0x10
[   50.831888]  ? __this_cpu_preempt_check+0x21/0x30
[   50.831901]  ? __this_cpu_preempt_check+0x21/0x30
[   50.831918]  __x64_sys_mremap+0xc7/0x150
[   50.831925]  ? syscall_trace_enter+0x14d/0x280
[   50.831935]  x64_sys_call+0x1933/0x2150
[   50.831942]  do_syscall_64+0x6d/0x2e0
[   50.831953]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.831960] RIP: 0033:0x7fda1ce3ee5d
[   50.831967] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   50.831973] RSP: 002b:00007ffc60113a08 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   50.831980] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fda1ce3ee5d
[   50.831983] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   50.831987] RBP: 00007ffc60113a10 R08: 000000002038d000 R09: 0000000000000001
[   50.831991] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc60113b28
[   50.831994] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fda1d0cc000
[   50.832007]  </TASK>
[   51.837000] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   51.837451] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1960, name: repro
[   51.837835] preempt_count: 1, expected: 0
[   51.838028] RCU nest depth: 1, expected: 0
[   51.838225] 4 locks held by repro/1960:
[   51.838419]  #0: ffff8880179d40e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   51.838845]  #1: ffff888023a1ac28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   51.839297]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   51.839710]  #3: ffff8880270cebb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   51.840167] Preemption disabled at:
[   51.840170] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   51.840633] CPU: 0 UID: 0 PID: 1960 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   51.840643] Tainted: [W]=WARN
[   51.840645] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.840650] Call Trace:
[   51.840652]  <TASK>
[   51.840655]  dump_stack_lvl+0x121/0x150
[   51.840668]  dump_stack+0x19/0x20
[   51.840677]  __might_resched+0x37b/0x5a0
[   51.840688]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.840702]  __might_sleep+0xa3/0x170
[   51.840711]  ? vm_normal_folio+0x8c/0x170
[   51.840721]  __relocate_anon_folios+0xf97/0x2960
[   51.840737]  ? reacquire_held_locks+0xdd/0x1f0
[   51.840749]  ? __pfx___relocate_anon_folios+0x10/0x10
[   51.840761]  ? lock_set_class+0x17a/0x260
[   51.840774]  copy_vma_and_data+0x606/0x1790
[   51.840786]  ? percpu_counter_add_batch+0xd9/0x210
[   51.840799]  ? __pfx_copy_vma_and_data+0x10/0x10
[   51.840806]  ? vms_complete_munmap_vmas+0x525/0x810
[   51.840820]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   51.840827]  ? __this_cpu_preempt_check+0x21/0x30
[   51.840839]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.840854]  ? mtree_range_walk+0x728/0xb70
[   51.840865]  ? __lock_acquire+0x412/0x22a0
[   51.840875]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.840885]  ? percpu_counter_add_batch+0xd9/0x210
[   51.840890]  ? debug_smp_processor_id+0x20/0x30
[   51.840901]  ? __this_cpu_preempt_check+0x21/0x30
[   51.840908]  ? lock_is_held_type+0xef/0x150
[   51.840920]  move_vma+0x689/0x1a60
[   51.840931]  ? __pfx_move_vma+0x10/0x10
[   51.840940]  ? cap_mmap_addr+0x58/0x140
[   51.840949]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.840958]  ? security_mmap_addr+0x63/0x1b0
[   51.840967]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.840976]  ? __get_unmapped_area+0x1a4/0x440
[   51.840987]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.840996]  ? vrm_set_new_addr+0x21d/0x2b0
[   51.841006]  __do_sys_mremap+0xeb4/0x1620
[   51.841015]  ? __pfx___do_sys_mremap+0x10/0x10
[   51.841025]  ? __this_cpu_preempt_check+0x21/0x30
[   51.841039]  ? __this_cpu_preempt_check+0x21/0x30
[   51.841056]  __x64_sys_mremap+0xc7/0x150
[   51.841066]  ? syscall_trace_enter+0x14d/0x280
[   51.841075]  x64_sys_call+0x1933/0x2150
[   51.841082]  do_syscall_64+0x6d/0x2e0
[   51.841092]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.841099] RIP: 0033:0x7f8e8763ee5d
[   51.841107] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   51.841113] RSP: 002b:00007fff9ff2f8c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   51.841119] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8e8763ee5d
[   51.841123] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   51.841127] RBP: 00007fff9ff2f8d0 R08: 000000002038d000 R09: 0000000000000001
[   51.841130] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff9ff2f9e8
[   51.841134] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8e87956000
[   51.841147]  </TASK>
[   52.845879] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   52.846326] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1996, name: repro
[   52.846682] preempt_count: 1, expected: 0
[   52.846872] RCU nest depth: 1, expected: 0
[   52.847066] 4 locks held by repro/1996:
[   52.847252]  #0: ffff888015c87560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   52.847678]  #1: ffff888027109d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   52.848117]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   52.848531]  #3: ffff8880116c4738 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   52.848989] Preemption disabled at:
[   52.848991] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   52.849455] CPU: 0 UID: 0 PID: 1996 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   52.849465] Tainted: [W]=WARN
[   52.849467] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.849472] Call Trace:
[   52.849474]  <TASK>
[   52.849480]  dump_stack_lvl+0x121/0x150
[   52.849495]  dump_stack+0x19/0x20
[   52.849505]  __might_resched+0x37b/0x5a0
[   52.849518]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.849535]  __might_sleep+0xa3/0x170
[   52.849546]  ? vm_normal_folio+0x8c/0x170
[   52.849559]  __relocate_anon_folios+0xf97/0x2960
[   52.849579]  ? reacquire_held_locks+0xdd/0x1f0
[   52.849595]  ? __pfx___relocate_anon_folios+0x10/0x10
[   52.849610]  ? lock_set_class+0x17a/0x260
[   52.849626]  copy_vma_and_data+0x606/0x1790
[   52.849642]  ? percpu_counter_add_batch+0xd9/0x210
[   52.849656]  ? __pfx_copy_vma_and_data+0x10/0x10
[   52.849665]  ? vms_complete_munmap_vmas+0x525/0x810
[   52.849683]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   52.849691]  ? __this_cpu_preempt_check+0x21/0x30
[   52.849705]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.849730]  ? mtree_range_walk+0x728/0xb70
[   52.849745]  ? __lock_acquire+0x412/0x22a0
[   52.849757]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.849768]  ? percpu_counter_add_batch+0xd9/0x210
[   52.849777]  ? debug_smp_processor_id+0x20/0x30
[   52.849790]  ? __this_cpu_preempt_check+0x21/0x30
[   52.849798]  ? lock_is_held_type+0xef/0x150
[   52.849813]  move_vma+0x689/0x1a60
[   52.849827]  ? __pfx_move_vma+0x10/0x10
[   52.849838]  ? cap_mmap_addr+0x58/0x140
[   52.849847]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.849859]  ? security_mmap_addr+0x63/0x1b0
[   52.849869]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.849880]  ? __get_unmapped_area+0x1a4/0x440
[   52.849895]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.849906]  ? vrm_set_new_addr+0x21d/0x2b0
[   52.849917]  __do_sys_mremap+0xeb4/0x1620
[   52.849929]  ? __pfx___do_sys_mremap+0x10/0x10
[   52.849952]  ? __this_cpu_preempt_check+0x21/0x30
[   52.849977]  __x64_sys_mremap+0xc7/0x150
[   52.849986]  ? syscall_trace_enter+0x14d/0x280
[   52.849997]  x64_sys_call+0x1933/0x2150
[   52.850005]  do_syscall_64+0x6d/0x2e0
[   52.850018]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.850025] RIP: 0033:0x7f255cc3ee5d
[   52.850032] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   52.850039] RSP: 002b:00007fffd0906e98 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   52.850046] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f255cc3ee5d
[   52.850050] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   52.850054] RBP: 00007fffd0906ea0 R08: 000000002038d000 R09: 0000000000000001
[   52.850058] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffd0906fb8
[   52.850063] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f255d03b000
[   52.850079]  </TASK>
[   53.856708] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   53.857161] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2032, name: repro
[   53.857554] preempt_count: 1, expected: 0
[   53.857746] RCU nest depth: 1, expected: 0
[   53.857940] 4 locks held by repro/2032:
[   53.858125]  #0: ffff888013136ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   53.858554]  #1: ffff88802baf68f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   53.858994]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   53.859407]  #3: ffff888029417af8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   53.859867] Preemption disabled at:
[   53.859869] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   53.860334] CPU: 0 UID: 0 PID: 2032 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   53.860345] Tainted: [W]=WARN
[   53.860347] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.860364] Call Trace:
[   53.860366]  <TASK>
[   53.860369]  dump_stack_lvl+0x121/0x150
[   53.860383]  dump_stack+0x19/0x20
[   53.860392]  __might_resched+0x37b/0x5a0
[   53.860402]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.860417]  __might_sleep+0xa3/0x170
[   53.860426]  ? vm_normal_folio+0x8c/0x170
[   53.860436]  __relocate_anon_folios+0xf97/0x2960
[   53.860453]  ? reacquire_held_locks+0xdd/0x1f0
[   53.860465]  ? __pfx___relocate_anon_folios+0x10/0x10
[   53.860477]  ? lock_set_class+0x17a/0x260
[   53.860490]  copy_vma_and_data+0x606/0x1790
[   53.860502]  ? percpu_counter_add_batch+0xd9/0x210
[   53.860515]  ? __pfx_copy_vma_and_data+0x10/0x10
[   53.860522]  ? vms_complete_munmap_vmas+0x525/0x810
[   53.860537]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   53.860543]  ? __this_cpu_preempt_check+0x21/0x30
[   53.860555]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.860565]  ? mtree_range_walk+0x728/0xb70
[   53.860576]  ? __lock_acquire+0x412/0x22a0
[   53.860586]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.860596]  ? percpu_counter_add_batch+0xd9/0x210
[   53.860601]  ? debug_smp_processor_id+0x20/0x30
[   53.860612]  ? __this_cpu_preempt_check+0x21/0x30
[   53.860618]  ? lock_is_held_type+0xef/0x150
[   53.860630]  move_vma+0x689/0x1a60
[   53.860642]  ? __pfx_move_vma+0x10/0x10
[   53.860651]  ? cap_mmap_addr+0x58/0x140
[   53.860663]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.860672]  ? security_mmap_addr+0x63/0x1b0
[   53.860681]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.860690]  ? __get_unmapped_area+0x1a4/0x440
[   53.860701]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.860710]  ? vrm_set_new_addr+0x21d/0x2b0
[   53.860720]  __do_sys_mremap+0xeb4/0x1620
[   53.860730]  ? __pfx___do_sys_mremap+0x10/0x10
[   53.860740]  ? __this_cpu_preempt_check+0x21/0x30
[   53.860753]  ? __this_cpu_preempt_check+0x21/0x30
[   53.860770]  __x64_sys_mremap+0xc7/0x150
[   53.860778]  ? syscall_trace_enter+0x14d/0x280
[   53.860787]  x64_sys_call+0x1933/0x2150
[   53.860794]  do_syscall_64+0x6d/0x2e0
[   53.860804]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.860811] RIP: 0033:0x7f19d943ee5d
[   53.860819] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   53.860827] RSP: 002b:00007ffc37e8f488 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   53.860834] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f19d943ee5d
[   53.860838] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   53.860841] RBP: 00007ffc37e8f490 R08: 000000002038d000 R09: 0000000000000001
[   53.860845] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc37e8f5a8
[   53.860849] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f19d96c7000
[   53.860861]  </TASK>
[   54.877296] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   54.877765] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2067, name: repro
[   54.878128] preempt_count: 1, expected: 0
[   54.878324] RCU nest depth: 1, expected: 0
[   54.878520] 4 locks held by repro/2067:
[   54.878707]  #0: ffff88801701c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   54.879140]  #1: ffff88802a451d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   54.879591]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   54.880010]  #3: ffff88801b1caaf8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   54.880481] Preemption disabled at:
[   54.880483] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   54.880951] CPU: 0 UID: 0 PID: 2067 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   54.880962] Tainted: [W]=WARN
[   54.880964] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.880969] Call Trace:
[   54.880972]  <TASK>
[   54.880975]  dump_stack_lvl+0x121/0x150
[   54.880989]  dump_stack+0x19/0x20
[   54.880997]  __might_resched+0x37b/0x5a0
[   54.881008]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.881022]  __might_sleep+0xa3/0x170
[   54.881032]  ? vm_normal_folio+0x8c/0x170
[   54.881043]  __relocate_anon_folios+0xf97/0x2960
[   54.881059]  ? reacquire_held_locks+0xdd/0x1f0
[   54.881071]  ? __pfx___relocate_anon_folios+0x10/0x10
[   54.881083]  ? lock_set_class+0x17a/0x260
[   54.881096]  copy_vma_and_data+0x606/0x1790
[   54.881109]  ? percpu_counter_add_batch+0xd9/0x210
[   54.881122]  ? __pfx_copy_vma_and_data+0x10/0x10
[   54.881129]  ? vms_complete_munmap_vmas+0x525/0x810
[   54.881144]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   54.881151]  ? __this_cpu_preempt_check+0x21/0x30
[   54.881163]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.881172]  ? mtree_range_walk+0x728/0xb70
[   54.881185]  ? __lock_acquire+0x412/0x22a0
[   54.881195]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.881204]  ? percpu_counter_add_batch+0xd9/0x210
[   54.881210]  ? debug_smp_processor_id+0x20/0x30
[   54.881221]  ? __this_cpu_preempt_check+0x21/0x30
[   54.881228]  ? lock_is_held_type+0xef/0x150
[   54.881246]  move_vma+0x689/0x1a60
[   54.881261]  ? __pfx_move_vma+0x10/0x10
[   54.881270]  ? cap_mmap_addr+0x58/0x140
[   54.881278]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.881288]  ? security_mmap_addr+0x63/0x1b0
[   54.881297]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.881306]  ? __get_unmapped_area+0x1a4/0x440
[   54.881321]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.881330]  ? vrm_set_new_addr+0x21d/0x2b0
[   54.881340]  __do_sys_mremap+0xeb4/0x1620
[   54.881350]  ? __pfx___do_sys_mremap+0x10/0x10
[   54.881368]  ? __this_cpu_preempt_check+0x21/0x30
[   54.881386]  __x64_sys_mremap+0xc7/0x150
[   54.881394]  ? syscall_trace_enter+0x14d/0x280
[   54.881404]  x64_sys_call+0x1933/0x2150
[   54.881412]  do_syscall_64+0x6d/0x2e0
[   54.881422]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.881429] RIP: 0033:0x7f05fca3ee5d
[   54.881438] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   54.881444] RSP: 002b:00007ffe62756498 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   54.881451] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f05fca3ee5d
[   54.881455] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   54.881458] RBP: 00007ffe627564a0 R08: 000000002038d000 R09: 0000000000000001
[   54.881462] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe627565b8
[   54.881466] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f05fcc6e000
[   54.881483]  </TASK>
[   55.880635] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   55.881082] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2102, name: repro
[   55.881455] preempt_count: 1, expected: 0
[   55.881676] RCU nest depth: 1, expected: 0
[   55.881873] 4 locks held by repro/2102:
[   55.882063]  #0: ffff8880296b6ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   55.882500]  #1: ffff88802bb0a4b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   55.882936]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   55.883353]  #3: ffff88802b5492b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   55.883816] Preemption disabled at:
[   55.883818] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   55.884288] CPU: 1 UID: 0 PID: 2102 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   55.884299] Tainted: [W]=WARN
[   55.884301] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.884306] Call Trace:
[   55.884308]  <TASK>
[   55.884311]  dump_stack_lvl+0x121/0x150
[   55.884325]  dump_stack+0x19/0x20
[   55.884333]  __might_resched+0x37b/0x5a0
[   55.884344]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.884360]  __might_sleep+0xa3/0x170
[   55.884369]  ? vm_normal_folio+0x8c/0x170
[   55.884380]  __relocate_anon_folios+0xf97/0x2960
[   55.884395]  ? reacquire_held_locks+0xdd/0x1f0
[   55.884412]  ? __pfx___relocate_anon_folios+0x10/0x10
[   55.884424]  ? lock_set_class+0x17a/0x260
[   55.884437]  copy_vma_and_data+0x606/0x1790
[   55.884449]  ? percpu_counter_add_batch+0xd9/0x210
[   55.884461]  ? __pfx_copy_vma_and_data+0x10/0x10
[   55.884468]  ? vms_complete_munmap_vmas+0x525/0x810
[   55.884483]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   55.884489]  ? __this_cpu_preempt_check+0x21/0x30
[   55.884502]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.884511]  ? mtree_range_walk+0x728/0xb70
[   55.884523]  ? __lock_acquire+0x412/0x22a0
[   55.884532]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.884542]  ? percpu_counter_add_batch+0xd9/0x210
[   55.884547]  ? debug_smp_processor_id+0x20/0x30
[   55.884558]  ? __this_cpu_preempt_check+0x21/0x30
[   55.884564]  ? lock_is_held_type+0xef/0x150
[   55.884576]  move_vma+0x689/0x1a60
[   55.884588]  ? __pfx_move_vma+0x10/0x10
[   55.884596]  ? cap_mmap_addr+0x58/0x140
[   55.884605]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.884614]  ? security_mmap_addr+0x63/0x1b0
[   55.884623]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.884632]  ? __get_unmapped_area+0x1a4/0x440
[   55.884644]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.884653]  ? vrm_set_new_addr+0x21d/0x2b0
[   55.884662]  __do_sys_mremap+0xeb4/0x1620
[   55.884672]  ? __pfx___do_sys_mremap+0x10/0x10
[   55.884682]  ? __this_cpu_preempt_check+0x21/0x30
[   55.884698]  ? __this_cpu_preempt_check+0x21/0x30
[   55.884715]  __x64_sys_mremap+0xc7/0x150
[   55.884723]  ? syscall_trace_enter+0x14d/0x280
[   55.884733]  x64_sys_call+0x1933/0x2150
[   55.884740]  do_syscall_64+0x6d/0x2e0
[   55.884751]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.884757] RIP: 0033:0x7fae4aa3ee5d
[   55.884765] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   55.884771] RSP: 002b:00007ffcd04c2948 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   55.884777] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fae4aa3ee5d
[   55.884781] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   55.884785] RBP: 00007ffcd04c2950 R08: 000000002038d000 R09: 0000000000000001
[   55.884789] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcd04c2a68
[   55.884792] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fae4ae05000
[   55.884805]  </TASK>
[   56.891285] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   56.891725] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2137, name: repro
[   56.892087] preempt_count: 1, expected: 0
[   56.892290] RCU nest depth: 1, expected: 0
[   56.892494] 4 locks held by repro/2137:
[   56.892685]  #0: ffff8880172cd5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   56.893124]  #1: ffff8880134e7d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   56.893594]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   56.894017]  #3: ffff8880297b1d98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   56.894489] Preemption disabled at:
[   56.894492] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   56.894959] CPU: 0 UID: 0 PID: 2137 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   56.894970] Tainted: [W]=WARN
[   56.894972] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.894976] Call Trace:
[   56.894978]  <TASK>
[   56.894981]  dump_stack_lvl+0x121/0x150
[   56.894995]  dump_stack+0x19/0x20
[   56.895003]  __might_resched+0x37b/0x5a0
[   56.895014]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.895028]  __might_sleep+0xa3/0x170
[   56.895036]  ? vm_normal_folio+0x8c/0x170
[   56.895047]  __relocate_anon_folios+0xf97/0x2960
[   56.895062]  ? reacquire_held_locks+0xdd/0x1f0
[   56.895075]  ? __pfx___relocate_anon_folios+0x10/0x10
[   56.895087]  ? lock_set_class+0x17a/0x260
[   56.895100]  copy_vma_and_data+0x606/0x1790
[   56.895111]  ? percpu_counter_add_batch+0xd9/0x210
[   56.895124]  ? __pfx_copy_vma_and_data+0x10/0x10
[   56.895131]  ? vms_complete_munmap_vmas+0x525/0x810
[   56.895146]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   56.895152]  ? __this_cpu_preempt_check+0x21/0x30
[   56.895164]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.895174]  ? mtree_range_walk+0x728/0xb70
[   56.895185]  ? __lock_acquire+0x412/0x22a0
[   56.895195]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.895204]  ? percpu_counter_add_batch+0xd9/0x210
[   56.895210]  ? debug_smp_processor_id+0x20/0x30
[   56.895220]  ? __this_cpu_preempt_check+0x21/0x30
[   56.895227]  ? lock_is_held_type+0xef/0x150
[   56.895242]  move_vma+0x689/0x1a60
[   56.895253]  ? __pfx_move_vma+0x10/0x10
[   56.895262]  ? cap_mmap_addr+0x58/0x140
[   56.895271]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.895280]  ? security_mmap_addr+0x63/0x1b0
[   56.895289]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.895302]  ? __get_unmapped_area+0x1a4/0x440
[   56.895313]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.895323]  ? vrm_set_new_addr+0x21d/0x2b0
[   56.895333]  __do_sys_mremap+0xeb4/0x1620
[   56.895343]  ? __pfx___do_sys_mremap+0x10/0x10
[   56.895361]  ? __this_cpu_preempt_check+0x21/0x30
[   56.895378]  __x64_sys_mremap+0xc7/0x150
[   56.895386]  ? syscall_trace_enter+0x14d/0x280
[   56.895396]  x64_sys_call+0x1933/0x2150
[   56.895406]  do_syscall_64+0x6d/0x2e0
[   56.895419]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.895425] RIP: 0033:0x7f16ece3ee5d
[   56.895433] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   56.895439] RSP: 002b:00007ffe1c6fa408 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   56.895445] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f16ece3ee5d
[   56.895449] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   56.895453] RBP: 00007ffe1c6fa410 R08: 000000002038d000 R09: 0000000000000001
[   56.895457] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe1c6fa528
[   56.895460] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f16ed063000
[   56.895473]  </TASK>
[   57.899656] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   57.900127] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2173, name: repro
[   57.900491] preempt_count: 1, expected: 0
[   57.900683] RCU nest depth: 1, expected: 0
[   57.900890] 4 locks held by repro/2173:
[   57.901079]  #0: ffff888013616ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   57.901536]  #1: ffff88802bb7f6d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   57.902008]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   57.902432]  #3: ffff88802c030738 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   57.902898] Preemption disabled at:
[   57.902901] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   57.903375] CPU: 0 UID: 0 PID: 2173 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   57.903385] Tainted: [W]=WARN
[   57.903387] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.903393] Call Trace:
[   57.903395]  <TASK>
[   57.903398]  dump_stack_lvl+0x121/0x150
[   57.903411]  dump_stack+0x19/0x20
[   57.903419]  __might_resched+0x37b/0x5a0
[   57.903430]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.903444]  __might_sleep+0xa3/0x170
[   57.903453]  ? vm_normal_folio+0x8c/0x170
[   57.903464]  __relocate_anon_folios+0xf97/0x2960
[   57.903479]  ? reacquire_held_locks+0xdd/0x1f0
[   57.903492]  ? __pfx___relocate_anon_folios+0x10/0x10
[   57.903503]  ? lock_set_class+0x17a/0x260
[   57.903517]  copy_vma_and_data+0x606/0x1790
[   57.903532]  ? percpu_counter_add_batch+0xd9/0x210
[   57.903545]  ? __pfx_copy_vma_and_data+0x10/0x10
[   57.903552]  ? vms_complete_munmap_vmas+0x525/0x810
[   57.903567]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   57.903574]  ? __this_cpu_preempt_check+0x21/0x30
[   57.903586]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.903595]  ? mtree_range_walk+0x728/0xb70
[   57.903607]  ? __lock_acquire+0x412/0x22a0
[   57.903617]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.903626]  ? percpu_counter_add_batch+0xd9/0x210
[   57.903631]  ? debug_smp_processor_id+0x20/0x30
[   57.903642]  ? __this_cpu_preempt_check+0x21/0x30
[   57.903648]  ? lock_is_held_type+0xef/0x150
[   57.903661]  move_vma+0x689/0x1a60
[   57.903672]  ? __pfx_move_vma+0x10/0x10
[   57.903681]  ? cap_mmap_addr+0x58/0x140
[   57.903690]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.903699]  ? security_mmap_addr+0x63/0x1b0
[   57.903708]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.903717]  ? __get_unmapped_area+0x1a4/0x440
[   57.903729]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.903739]  ? vrm_set_new_addr+0x21d/0x2b0
[   57.903748]  __do_sys_mremap+0xeb4/0x1620
[   57.903758]  ? __pfx___do_sys_mremap+0x10/0x10
[   57.903769]  ? __this_cpu_preempt_check+0x21/0x30
[   57.903783]  ? __this_cpu_preempt_check+0x21/0x30
[   57.903800]  __x64_sys_mremap+0xc7/0x150
[   57.903808]  ? syscall_trace_enter+0x14d/0x280
[   57.903818]  x64_sys_call+0x1933/0x2150
[   57.903825]  do_syscall_64+0x6d/0x2e0
[   57.903836]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.903843] RIP: 0033:0x7fd64c03ee5d
[   57.903850] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   57.903859] RSP: 002b:00007ffea9fcbf08 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   57.903868] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fd64c03ee5d
[   57.903872] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   57.903876] RBP: 00007ffea9fcbf10 R08: 000000002038d000 R09: 0000000000000001
[   57.903880] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffea9fcc028
[   57.903883] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fd64c322000
[   57.903896]  </TASK>
[   58.913568] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   58.914038] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2209, name: repro
[   58.914411] preempt_count: 1, expected: 0
[   58.914610] RCU nest depth: 1, expected: 0
[   58.914812] 4 locks held by repro/2209:
[   58.915004]  #0: ffff8880130e7560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   58.915445]  #1: ffff88802a5a9a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   58.915904]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   58.916333]  #3: ffff88801e243978 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   58.916808] Preemption disabled at:
[   58.916811] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   58.917315] CPU: 0 UID: 0 PID: 2209 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   58.917325] Tainted: [W]=WARN
[   58.917327] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.917332] Call Trace:
[   58.917334]  <TASK>
[   58.917338]  dump_stack_lvl+0x121/0x150
[   58.917350]  dump_stack+0x19/0x20
[   58.917358]  __might_resched+0x37b/0x5a0
[   58.917369]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.917382]  __might_sleep+0xa3/0x170
[   58.917391]  ? vm_normal_folio+0x8c/0x170
[   58.917402]  __relocate_anon_folios+0xf97/0x2960
[   58.917418]  ? reacquire_held_locks+0xdd/0x1f0
[   58.917430]  ? __pfx___relocate_anon_folios+0x10/0x10
[   58.917442]  ? lock_set_class+0x17a/0x260
[   58.917455]  copy_vma_and_data+0x606/0x1790
[   58.917468]  ? percpu_counter_add_batch+0xd9/0x210
[   58.917484]  ? __pfx_copy_vma_and_data+0x10/0x10
[   58.917492]  ? vms_complete_munmap_vmas+0x525/0x810
[   58.917510]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   58.917518]  ? __this_cpu_preempt_check+0x21/0x30
[   58.917532]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.917543]  ? mtree_range_walk+0x728/0xb70
[   58.917558]  ? __lock_acquire+0x412/0x22a0
[   58.917570]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.917582]  ? percpu_counter_add_batch+0xd9/0x210
[   58.917588]  ? debug_smp_processor_id+0x20/0x30
[   58.917602]  ? __this_cpu_preempt_check+0x21/0x30
[   58.917609]  ? lock_is_held_type+0xef/0x150
[   58.917625]  move_vma+0x689/0x1a60
[   58.917639]  ? __pfx_move_vma+0x10/0x10
[   58.917650]  ? cap_mmap_addr+0x58/0x140
[   58.917659]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.917671]  ? security_mmap_addr+0x63/0x1b0
[   58.917681]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.917692]  ? __get_unmapped_area+0x1a4/0x440
[   58.917707]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.917718]  ? vrm_set_new_addr+0x21d/0x2b0
[   58.917730]  __do_sys_mremap+0xeb4/0x1620
[   58.917742]  ? __pfx___do_sys_mremap+0x10/0x10
[   58.917755]  ? __this_cpu_preempt_check+0x21/0x30
[   58.917772]  ? __this_cpu_preempt_check+0x21/0x30
[   58.917797]  __x64_sys_mremap+0xc7/0x150
[   58.917806]  ? syscall_trace_enter+0x14d/0x280
[   58.917823]  x64_sys_call+0x1933/0x2150
[   58.917855]  do_syscall_64+0x6d/0x2e0
[   58.917869]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.917876] RIP: 0033:0x7f77c123ee5d
[   58.917884] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   58.917892] RSP: 002b:00007ffed829f778 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   58.917902] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f77c123ee5d
[   58.917906] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   58.917910] RBP: 00007ffed829f780 R08: 000000002038d000 R09: 0000000000000001
[   58.917915] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffed829f898
[   58.917919] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f77c1492000
[   58.917936]  </TASK>
[   59.930870] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   59.931375] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2242, name: repro
[   59.931772] preempt_count: 1, expected: 0
[   59.931985] RCU nest depth: 1, expected: 0
[   59.932201] 4 locks held by repro/2242:
[   59.932409]  #0: ffff88802a4d55e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   59.932881]  #1: ffff8880263ee3a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   59.933372]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   59.933860]  #3: ffff88802be36678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   59.934373] Preemption disabled at:
[   59.934376] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   59.934890] CPU: 1 UID: 0 PID: 2242 Comm: repro Tainted: G        W           6.16.0-rc2-24d3f236a397+ #1 PREEMPT(voluntary) 
[   59.934902] Tainted: [W]=WARN
[   59.934905] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.934910] Call Trace:
[   59.934912]  <TASK>
[   59.934915]  dump_stack_lvl+0x121/0x150
[   59.934929]  dump_stack+0x19/0x20
[   59.934938]  __might_resched+0x37b/0x5a0
[   59.934950]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.934965]  __might_sleep+0xa3/0x170
[   59.934975]  ? vm_normal_folio+0x8c/0x170
[   59.934987]  __relocate_anon_folios+0xf97/0x2960
[   59.935004]  ? reacquire_held_locks+0xdd/0x1f0
[   59.935017]  ? __pfx___relocate_anon_folios+0x10/0x10
[   59.935031]  ? lock_set_class+0x17a/0x260
[   59.935045]  copy_vma_and_data+0x606/0x1790
[   59.935058]  ? percpu_counter_add_batch+0xd9/0x210
[   59.935072]  ? __pfx_copy_vma_and_data+0x10/0x10
[   59.935079]  ? vms_complete_munmap_vmas+0x525/0x810
[   59.935095]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   59.935103]  ? __this_cpu_preempt_check+0x21/0x30
[   59.935116]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.935132]  ? mtree_range_walk+0x728/0xb70
[   59.935145]  ? __lock_acquire+0x412/0x22a0
[   59.935156]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.935166]  ? percpu_counter_add_batch+0xd9/0x210
[   59.935172]  ? debug_smp_processor_id+0x20/0x30
[   59.935184]  ? __this_cpu_preempt_check+0x21/0x30
[   59.935192]  ? lock_is_held_type+0xef/0x150
[   59.935205]  move_vma+0x689/0x1a60
[   59.935218]  ? __pfx_move_vma+0x10/0x10
[   59.935227]  ? cap_mmap_addr+0x58/0x140
[   59.935240]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.935250]  ? security_mmap_addr+0x63/0x1b0
[   59.935260]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.935270]  ? __get_unmapped_area+0x1a4/0x440
[   59.935283]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.935293]  ? vrm_set_new_addr+0x21d/0x2b0
[   59.935303]  __do_sys_mremap+0xeb4/0x1620
[   59.935314]  ? __pfx___do_sys_mremap+0x10/0x10
[   59.935325]  ? __this_cpu_preempt_check+0x21/0x30
[   59.935340]  ? __this_cpu_preempt_check+0x21/0x30
[   59.935359]  __x64_sys_mremap+0xc7/0x150
[   59.935367]  ? syscall_trace_enter+0x14d/0x280
[   59.935378]  x64_sys_call+0x1933/0x2150
[   59.935386]  do_syscall_64+0x6d/0x2e0
[   59.935397]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.935404] RIP: 0033:0x7fa3e9a3ee5d
[   59.935412] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   59.935419] RSP: 002b:00007ffd6cc0c068 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   59.935426] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa3e9a3ee5d
[   59.935430] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   59.935440] RBP: 00007ffd6cc0c070 R08: 000000002038d000 R09: 0000000000000001
[   59.935445] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd6cc0c188
[   59.935449] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa3e9d62000
[   59.935463]  </TASK>

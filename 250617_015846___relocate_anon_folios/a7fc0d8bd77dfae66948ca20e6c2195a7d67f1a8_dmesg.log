c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.16.0-rc2-a7fc0d8bd77d+ (root@p-arls02) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-7), GNU ld version 2.35.2-65.el9) #1 SMP PREEMPT_DYNAMIC Tue Jun 17 05:09:37 CST 2025
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/CPU: Model not found in latest microcode list
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000004] kvm-clock: using sched offset of 919912767 cycles
[    0.000418] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001695] tsc: Detected 1267.200 MHz processor
[    0.008018] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.008484] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.009126] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.018760] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.019232] Using GB pages for direct mapping
[    0.021367] ACPI: Early table checksum verification disabled
[    0.021810] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.022268] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.022936] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023605] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024273] ACPI: FACS 0x000000007FFE0000 000040
[    0.024639] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025302] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025966] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.026629] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.027169] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.027710] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.028246] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.028790] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.029329] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.030363] No NUMA configuration found
[    0.030641] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.031172] NODE_DATA(0) allocated [mem 0x7ffb4e80-0x7ffdfc7f]
[    0.032279] Zone ranges:
[    0.032474]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.032934]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.033411]   Normal   empty
[    0.033636]   Device   empty
[    0.033862] Movable zone start for each node
[    0.034199] Early memory node ranges
[    0.034475]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.034955]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.035437] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.037000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.037722] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.085069] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.576755] kasan: KernelAddressSanitizer initialized
[    0.577434] ACPI: PM-Timer IO Port: 0x608
[    0.577790] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.578255] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.578789] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.579247] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.579723] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.580197] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.580688] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.581184] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.581651] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.582041] TSC deadline timer available
[    0.582329] CPU topo: Max. logical packages:   1
[    0.582664] CPU topo: Max. logical dies:       1
[    0.582995] CPU topo: Max. dies per package:   1
[    0.583329] CPU topo: Max. threads per core:   1
[    0.583661] CPU topo: Num. cores per package:     2
[    0.584011] CPU topo: Num. threads per package:   2
[    0.584361] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.584877] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.585429] kvm-guest: KVM setup pv remote TLB flush
[    0.585792] kvm-guest: setup PV sched yield
[    0.586155] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.586704] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x000fffff]
[    0.587255] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.587700] Booting paravirtualized kernel on KVM
[    0.588057] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.588838] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.591430] percpu: Embedded 80 pages/cpu s290816 r8192 d28672 u1048576
[    0.592088] kvm-guest: PV spinlocks enabled
[    0.592408] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.592958] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.594115] random: crng init done
[    0.594375] printk: log buffer data + meta data: 262144 + 917504 = 1179648 bytes
[    0.597046] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.598444] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.599378] Fallback order for Node 0: 0 
[    0.599390] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.600148] Policy zone: DMA32
[    0.600363] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.600797] stackdepot: allocating hash table via alloc_large_system_hash
[    0.601279] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.655200] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.655690] kmemleak: Kernel memory leak detector disabled
[    0.692221] ftrace: allocating 73931 entries in 292 pages
[    0.692621] ftrace: allocated 292 pages with 3 groups
[    0.696787] Dynamic Preempt: voluntary
[    0.697430] Running RCU self tests
[    0.697663] Running RCU synchronous self tests
[    0.697970] rcu: Preemptible hierarchical RCU implementation.
[    0.698374] rcu: 	RCU lockdep checking is enabled.
[    0.698708] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.699180] 	Trampoline variant of Tasks RCU enabled.
[    0.699535] 	Rude variant of Tasks RCU enabled.
[    0.699849] 	Tracing variant of Tasks RCU enabled.
[    0.700184] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.700710] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.701235] Running RCU synchronous self tests
[    0.701556] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.702171] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.702809] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.757398] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.758324] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.764832] Console: colour VGA+ 80x25
[    0.765165] printk: legacy console [ttyS0] enabled
[    0.765165] printk: legacy console [ttyS0] enabled
[    0.765862] printk: legacy bootconsole [earlyser0] disabled
[    0.765862] printk: legacy bootconsole [earlyser0] disabled
[    0.766666] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.767222] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.767523] ... MAX_LOCK_DEPTH:          48
[    0.767827] ... MAX_LOCKDEP_KEYS:        8192
[    0.768145] ... CLASSHASH_SIZE:          4096
[    0.768464] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.768791] ... MAX_LOCKDEP_CHAINS:      524288
[    0.769120] ... CHAINHASH_SIZE:          262144
[    0.769447]  memory used by lock dependency info: 54145 kB
[    0.769846]  memory used for stack traces: 4224 kB
[    0.770192]  per task-struct memory footprint: 1920 bytes
[    0.770653] ACPI: Core revision 20250404
[    0.771264] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.772085] APIC: Switch to symmetric I/O mode setup
[    0.772722] x2apic enabled
[    0.773243] APIC: Switched APIC routing to: physical x2apic
[    0.773657] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.774185] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.774842] kvm-guest: setup PV IPIs
[    0.775999] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.776500] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    0.777260] Calibrating delay loop (skipped) preset value.. 2534.40 BogoMIPS (lpj=5068800)
[    0.777985] CPU0: Thermal monitoring enabled (TM1)
[    0.778343] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.778916] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.779297] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.779760] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.781276] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.781692] ITS: Mitigation: Aligned branch/return thunks
[    0.782079] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.782682] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.783480] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.783996] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.784575] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.785282] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.785824] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.786280] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.786735] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.787290] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.787733] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.788170] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.916965] Freeing SMP alternatives memory: 60K
[    0.917264] pid_max: default: 32768 minimum: 301
[    0.917808] LSM: initializing lsm=capability,yama,ima,evm
[    0.918295] Yama: becoming mindful.
[    0.918905] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.919434] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.921559] Running RCU synchronous self tests
[    0.921886] Running RCU synchronous self tests
[    0.922629] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xc6, stepping: 0x0)
[    0.924196] Performance Events: unsupported CPU family 6 model 198 no PMU driver, software events only.
[    0.924979] signal: max sigframe size: 3632
[    0.925246] rcu: Hierarchical SRCU implementation.
[    0.925246] rcu: 	Max phase no-delay instances is 1000.
[    0.925246] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    0.934939] NMI watchdog: Perf NMI watchdog permanently disabled
[    0.935600] smp: Bringing up secondary CPUs ...
[    0.936673] smpboot: x86: Booting SMP configuration:
[    0.937048] .... node  #0, CPUs:      #1
[    0.942404] smp: Brought up 1 node, 2 CPUs
[    0.942404] smpboot: Total of 2 processors activated (5068.80 BogoMIPS)
[    0.945371] Memory: 1545512K/2096632K available (79009K kernel code, 15320K rwdata, 18328K rodata, 16068K init, 68656K bss, 539468K reserved, 0K cma-reserved)
[    0.947028] devtmpfs: initialized
[    0.949328] x86/mm: Memory block size: 128MB
[    0.961653] Running RCU synchronous self tests
[    0.962024] Running RCU synchronous self tests
[    0.962378] Running RCU Tasks wait API self tests
[    0.962378] Running RCU Tasks Rude wait API self tests
[    0.962378] Running RCU Tasks Trace wait API self tests
[    0.981330] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.982208] posixtimers hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    0.982854] futex hash table entries: 512 (65536 bytes on 1 NUMA nodes, total 64 KiB, linear).
[    0.983940] pinctrl core: initialized pinctrl subsystem
[    0.985765] 
[    0.985891] *************************************************************
[    0.986379] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.986876] **                                                         **
[    0.987368] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    0.987863] **                                                         **
[    0.988356] ** This means that this kernel is built to expose internal **
[    0.988850] ** IOMMU data structures, which may compromise security on **
[    0.989253] ** your system.                                            **
[    0.989746] **                                                         **
[    0.990242] ** If you see this message and you are not debugging the   **
[    0.990738] ** kernel, report this immediately to your vendor!         **
[    0.991235] **                                                         **
[    0.991732] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.992231] *************************************************************
[    0.992806] PM: RTC time: 21:12:09, date: 2025-06-16
[    0.997499] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.999170] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    0.999705] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.000290] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.000961] audit: initializing netlink subsys (disabled)
[    1.001416] audit: type=2000 audit(1750108330.097:1): state=initialized audit_enabled=0 res=1
[    1.003175] thermal_sys: Registered thermal governor 'fair_share'
[    1.003183] thermal_sys: Registered thermal governor 'bang_bang'
[    1.003646] thermal_sys: Registered thermal governor 'step_wise'
[    1.004088] thermal_sys: Registered thermal governor 'user_space'
[    1.005350] cpuidle: using governor ladder
[    1.006143] cpuidle: using governor menu
[    1.006158] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.007312] PCI: Using configuration type 1 for base access
[    1.009558] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    1.013294] Callback from call_rcu_tasks_trace() invoked.
[    1.132797] HugeTLB: allocation took 0ms with hugepage_allocation_threads=1
[    1.133267] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.133776] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.134269] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.134775] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.142373] ACPI: Added _OSI(Module Device)
[    1.142742] ACPI: Added _OSI(Processor Device)
[    1.143093] ACPI: Added _OSI(Processor Aggregator Device)
[    1.154019] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.159430] ACPI: Interpreter enabled
[    1.159856] ACPI: PM: (supports S0 S3 S4 S5)
[    1.160190] ACPI: Using IOAPIC for interrupt routing
[    1.160672] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.161255] PCI: Using E820 reservations for host bridge windows
[    1.162595] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.192682] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.193242] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.193262] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.194173] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.198774] acpiphp: Slot [3] registered
[    1.199202] acpiphp: Slot [4] registered
[    1.199611] acpiphp: Slot [5] registered
[    1.200016] acpiphp: Slot [6] registered
[    1.200427] acpiphp: Slot [7] registered
[    1.200858] acpiphp: Slot [8] registered
[    1.201272] acpiphp: Slot [9] registered
[    1.201688] acpiphp: Slot [10] registered
[    1.202106] acpiphp: Slot [11] registered
[    1.202551] acpiphp: Slot [12] registered
[    1.202961] acpiphp: Slot [13] registered
[    1.203379] acpiphp: Slot [14] registered
[    1.203794] acpiphp: Slot [15] registered
[    1.204256] acpiphp: Slot [16] registered
[    1.204672] acpiphp: Slot [17] registered
[    1.205084] acpiphp: Slot [18] registered
[    1.205356] acpiphp: Slot [19] registered
[    1.205807] acpiphp: Slot [20] registered
[    1.206220] acpiphp: Slot [21] registered
[    1.206637] acpiphp: Slot [22] registered
[    1.207063] acpiphp: Slot [23] registered
[    1.207509] acpiphp: Slot [24] registered
[    1.207925] acpiphp: Slot [25] registered
[    1.208343] acpiphp: Slot [26] registered
[    1.208763] acpiphp: Slot [27] registered
[    1.209207] acpiphp: Slot [28] registered
[    1.209355] acpiphp: Slot [29] registered
[    1.209785] acpiphp: Slot [30] registered
[    1.210200] acpiphp: Slot [31] registered
[    1.210582] PCI host bridge to bus 0000:00
[    1.210955] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.211501] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.212039] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.212624] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.213215] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.213258] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.213827] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.221352] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.223138] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.224367] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.224797] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.225256] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.225745] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.226283] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.227258] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.228168] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.228750] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.229702] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.234319] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.234963] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.235450] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.236312] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.245577] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.248012] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.248534] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.248984] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.266983] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.268277] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.269404] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.270526] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.271286] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.275441] iommu: Default domain type: Translated
[    1.275853] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.283869] SCSI subsystem initialized
[    1.284922] ACPI: bus type USB registered
[    1.285564] usbcore: registered new interface driver usbfs
[    1.286191] usbcore: registered new interface driver hub
[    1.286677] usbcore: registered new device driver usb
[    1.287572] pps_core: LinuxPPS API ver. 1 registered
[    1.287978] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.288737] PTP clock support registered
[    1.289622] EDAC MC: Ver: 3.0.0
[    1.294144] NetLabel: Initializing
[    1.294447] NetLabel:  domain hash size = 128
[    1.294801] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.295469] NetLabel:  unlabeled traffic allowed by default
[    1.296824] PCI: Using ACPI for IRQ routing
[    1.297634] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.298137] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.298618] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.299301] vgaarb: loaded
[    1.300788] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.301208] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.305871] clocksource: Switched to clocksource kvm-clock
[    1.308847] VFS: Disk quotas dquot_6.6.0
[    1.309216] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.315796] pnp: PnP ACPI init
[    1.319664] pnp: PnP ACPI: found 6 devices
[    1.339681] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.340958] NET: Registered PF_INET protocol family
[    1.341788] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.344079] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.344854] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.345558] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.346842] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.350505] TCP: Hash tables configured (established 16384 bind 16384)
[    1.351356] UDP hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.352132] UDP-Lite hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.353296] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.355639] RPC: Registered named UNIX socket transport module.
[    1.356159] RPC: Registered udp transport module.
[    1.356534] RPC: Registered tcp transport module.
[    1.356909] RPC: Registered tcp-with-tls transport module.
[    1.357344] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.357913] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.358414] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.358936] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.359479] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.360017] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.360930] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.361401] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.361960] PCI: CLS 0 bytes, default 64
[    1.362487] ACPI: bus type thunderbolt registered
[    1.363377] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    3.393087] Initialise system trusted keyrings
[    3.393638] Key type blacklist registered
[    3.394295] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.396657] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.398889] NFS: Registering the id_resolver key type
[    3.399281] Key type id_resolver registered
[    3.399593] Key type id_legacy registered
[    3.399940] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.400464] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.401307] fuse: init (API version 7.44)
[    3.402146] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.404285] 9p: Installing v9fs 9p2000 file system support
[    3.415202] Key type asymmetric registered
[    3.415552] Asymmetric key parser 'x509' registered
[    3.416156] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 242)
[    3.417313] io scheduler mq-deadline registered
[    3.417856] io scheduler bfq registered
[    3.419267] ledtrig-cpu: registered to indicate activity on CPUs
[    3.421402] IPMI message handler: version 39.2
[    3.421815] ipmi device interface
[    3.424238] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.425300] ACPI: button: Power Button [PWRF]
[    3.427736] ERST DBG: ERST support is disabled.
[    3.430127] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.431921] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.442676] Callback from call_rcu_tasks() invoked.
[    3.458161] Linux agpgart interface v0.103
[    3.461157] ACPI: bus type drm_connector registered
[    3.482726] brd: module loaded
[    3.494718] loop: module loaded
[    3.506544] scsi host0: ata_piix
[    3.508165] scsi host1: ata_piix
[    3.508838] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.509375] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.512558] tun: Universal TUN/TAP device driver, 1.6
[    3.513318] e100: Intel(R) PRO/100 Network Driver
[    3.513664] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.514156] e1000: Intel(R) PRO/1000 Network Driver
[    3.514533] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.666787] ata2: found unknown device (class 0)
[    3.667664] ata1: found unknown device (class 0)
[    3.668410] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.668837] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.669596] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.671687] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.674499] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.675339] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.676459] sd 0:0:0:0: [sda] Write Protect is off
[    3.676883] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.677684] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.678901] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.696047] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    3.706380] sd 0:0:0:0: [sda] Attached SCSI disk
[    4.014335] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.322126] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.322720] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.323399] e1000e: Intel(R) PRO/1000 Network Driver
[    4.323757] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.324344] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.324733] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.325461] PPP generic driver version 2.4.2
[    4.327765] VFIO - User Level meta-driver version: 0.3
[    4.330651] usbcore: registered new interface driver uas
[    4.331205] usbcore: registered new interface driver usb-storage
[    4.331919] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.333507] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.333954] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.335599] mousedev: PS/2 mouse device common for all mice
[    4.337687] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.338553] rtc_cmos 00:05: RTC can wake from S4
[    4.341427] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.341443] rtc_cmos 00:05: registered as rtc0
[    4.342597] rtc_cmos 00:05: setting system clock to 2025-06-16T21:12:13 UTC (1750108333)
[    4.343881] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.344405] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.345164] i2c_dev: i2c /dev entries driver
[    4.346096] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.347098] device-mapper: uevent: version 1.0.3
[    4.348348] device-mapper: ioctl: 4.50.0-ioctl (2025-04-28) initialised: dm-devel@lists.linux.dev
[    4.349108] intel_pstate: CPU model not supported
[    4.349699] sdhci: Secure Digital Host Controller Interface driver
[    4.350145] sdhci: Copyright(c) Pierre Ossman
[    4.350685] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.351667] drop_monitor: Initializing network drop monitor service
[    4.352530] NET: Registered PF_INET6 protocol family
[    4.358020] Segment Routing with IPv6
[    4.358372] In-situ OAM (IOAM) with IPv6
[    4.358803] NET: Registered PF_PACKET protocol family
[    4.359905] 9pnet: Installing 9P2000 support
[    4.360341] Key type dns_resolver registered
[    4.362500] IPI shorthand broadcast: enabled
[    4.407368] sched_clock: Marking stable (4392010161, 14427855)->(4473383515, -66945499)
[    4.409603] registered taskstats version 1
[    4.412583] Loading compiled-in X.509 certificates
[    4.475165] Demotion targets for Node 0: null
[    4.477320] Key type .fscrypt registered
[    4.478015] Key type fscrypt-provisioning registered
[    4.482323] Key type encrypted registered
[    4.482759] ima: No TPM chip found, activating TPM-bypass!
[    4.483180] ima: Allocated hash algorithm: sha1
[    4.483606] ima: No architecture policies found
[    4.484116] evm: Initialising EVM extended attributes:
[    4.484493] evm: security.selinux
[    4.484745] evm: security.SMACK64
[    4.484981] evm: security.SMACK64EXEC
[    4.485236] evm: security.SMACK64TRANSMUTE
[    4.485542] evm: security.SMACK64MMAP
[    4.485810] evm: security.apparmor
[    4.486067] evm: security.ima
[    4.486292] evm: security.capability
[    4.486577] evm: HMAC attrs: 0x1
[    4.488849] PM:   Magic number: 13:598:247
[    4.490660] RAS: Correctable Errors collector initialized.
[    4.492510] clk: Disabling unused clocks
[    4.493259] PM: genpd: Disabling unused power domains
[    4.495752] md: Waiting for all devices to be available before autodetect
[    4.496507] md: If you don't use raid, use raid=noautodetect
[    4.497171] md: Autodetecting RAID arrays.
[    4.497680] md: autorun ...
[    4.498019] md: ... autorun DONE.
[    4.515099] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.515790] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.519547] devtmpfs: mounted
[    4.541674] Freeing unused decrypted memory: 2028K
[    4.555126] Freeing unused kernel image (initmem) memory: 16068K
[    4.555660] Write protecting the kernel read-only data: 98304k
[    4.559521] Freeing unused kernel image (text/rodata gap) memory: 860K
[    4.560165] Freeing unused kernel image (rodata/data gap) memory: 104K
[    4.625156] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.625555] Run /sbin/init as init process
[    4.916993] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    4.918822] systemd[1]: Detected virtualization kvm.
[    4.919918] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    4.927762] systemd[1]: Hostname set to <test>.
[    5.196928] systemd-rc-local-generator[119]: /etc/rc.d/rc.local is not marked executable, skipping.
[    5.645388] systemd[1]: Queued start job for default target Multi-User System.
[    5.673139] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    5.677430] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    5.679829] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    5.682278] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    5.684596] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    5.686702] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    5.687765] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password Râ€¦uests to Wall Directory Watch[0m.
[    5.689597] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitraryâ€¦s File System Automount Point[0m.
[    5.690766] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    5.691654] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    5.692326] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    5.692953] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    5.694063] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    5.695504] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    5.696434] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    5.721659] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    5.722804] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    5.726196] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    5.727334] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    5.728714] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    5.730001] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    5.731357] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    5.732422] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    5.737576] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    5.743312] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    5.751847] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    5.757249] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    5.759319] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    5.760071] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.16.0-rc2-a7fc0d8bd77d+/modules.devname).
[    5.765548] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVMâ€¦meventd or progress polling[0m...
[    5.775055] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    5.785777] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    5.790897] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    5.800219] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS â€¦from /etc/sysconfig/network[0m...
[    5.814195] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    5.826789] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    5.839055] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network â€¦ts from Kernel command line[0m...
[    5.864335] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    5.866679] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    5.882151] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    5.919398] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    5.922981] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    5.955684] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    5.957844] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    5.961263] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    5.965754] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    5.970061] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    5.975764] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    5.979888] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    5.981225] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    5.987828] systemd[1]: Finished Read and set NIS domainname from /etc/sysconfig/network.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS â€¦e from /etc/sysconfig/network[0m.
[    5.989693] systemd[1]: systemd-modules-load.service: Main process exited, code=exited, status=1/FAILURE
[    5.993905] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w.
[    5.994154] systemd[1]: systemd-modules-load.service: Failed with result 'exit-code'.
[    5.999476] systemd[1]: Failed to start Load Kernel Modules.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    6.008150] systemd[1]: Finished Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVMâ€¦ dmeventd or progress polling[0m.
[    6.014534] systemd[1]: Finished Generate network units from Kernel command line.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[    6.020056] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
         Mounting [0;1;39mFUSE Control File System[0m...
         Mounting [0;1;39mKernel Configuration File System[0m...
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
[    6.130580] systemd-journald[145]: Received client request to flush runtime journal.
         Starting [0;1;39mApply Kernel Variables[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manageâ€¦for Device Events and Files[0m...
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
         Starting [0;1;39mWait for udev To â€¦plete Device Initialization[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to sâ€¦E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to sâ€¦VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password â€¦ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF â€¦itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberosâ€¦ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine aâ€¦tainer Registration Service[0m...
         Starting [0;1;39mupdate of the rooâ€¦NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine anâ€¦ontainer Registration Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the rooâ€¦ DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[    9.238664] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.16.0-rc2-a7fc0d8bd77d+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   18.132113] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   18.132566] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 726, name: repro
[   18.132912] preempt_count: 1, expected: 0
[   18.133098] RCU nest depth: 1, expected: 0
[   18.133286] 4 locks held by repro/726:
[   18.133463]  #0: ffff888015c9b660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   18.133899]  #1: ffff888013761d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   18.134327]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   18.134766]  #3: ffff888011c593d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   18.135223] Preemption disabled at:
[   18.135226] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   18.135702] CPU: 0 UID: 0 PID: 726 Comm: repro Not tainted 6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   18.135711] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   18.135720] Call Trace:
[   18.135726]  <TASK>
[   18.135729]  dump_stack_lvl+0x121/0x150
[   18.135762]  dump_stack+0x19/0x20
[   18.135770]  __might_resched+0x37b/0x5a0
[   18.135789]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.135808]  __might_sleep+0xa3/0x170
[   18.135817]  ? vm_normal_folio+0x8c/0x170
[   18.135830]  __relocate_anon_folios+0xf97/0x2960
[   18.135845]  ? reacquire_held_locks+0xdd/0x1f0
[   18.135861]  ? __pfx___relocate_anon_folios+0x10/0x10
[   18.135872]  ? lock_set_class+0x17a/0x260
[   18.135885]  copy_vma_and_data+0x606/0x1790
[   18.135897]  ? percpu_counter_add_batch+0xd9/0x210
[   18.135920]  ? __pfx_copy_vma_and_data+0x10/0x10
[   18.135927]  ? vms_complete_munmap_vmas+0x525/0x810
[   18.135943]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   18.135950]  ? __this_cpu_preempt_check+0x21/0x30
[   18.135967]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.135976]  ? mtree_range_walk+0x728/0xb70
[   18.135989]  ? __lock_acquire+0x412/0x22a0
[   18.135999]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   18.136008]  ? percpu_counter_add_batch+0xd9/0x210
[   18.136014]  ? debug_smp_processor_id+0x20/0x30
[   18.136026]  ? __this_cpu_preempt_check+0x21/0x30
[   18.136033]  ? lock_is_held_type+0xef/0x150
[   18.136046]  move_vma+0x689/0x1a60
[   18.136058]  ? __pfx_move_vma+0x10/0x10
[   18.136066]  ? cap_mmap_addr+0x58/0x140
[   18.136081]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.136090]  ? security_mmap_addr+0x63/0x1b0
[   18.136102]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.136111]  ? __get_unmapped_area+0x1a4/0x440
[   18.136123]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.136133]  ? vrm_set_new_addr+0x21d/0x2b0
[   18.136142]  __do_sys_mremap+0xeb4/0x1620
[   18.136152]  ? __pfx___do_sys_mremap+0x10/0x10
[   18.136162]  ? __this_cpu_preempt_check+0x21/0x30
[   18.136175]  ? __this_cpu_preempt_check+0x21/0x30
[   18.136192]  __x64_sys_mremap+0xc7/0x150
[   18.136200]  ? syscall_trace_enter+0x14d/0x280
[   18.136214]  x64_sys_call+0x1933/0x2150
[   18.136225]  do_syscall_64+0x6d/0x2e0
[   18.136240]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   18.136246] RIP: 0033:0x7f855223ee5d
[   18.136258] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   18.136264] RSP: 002b:00007ffc460a3508 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   18.136274] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f855223ee5d
[   18.136278] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   18.136282] RBP: 00007ffc460a3510 R08: 000000002038d000 R09: 0000000000000001
[   18.136285] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc460a3628
[   18.136289] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f85525a9000
[   18.136302]  </TASK>
[   19.146415] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   19.147187] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 764, name: repro
[   19.147541] preempt_count: 1, expected: 0
[   19.147730] RCU nest depth: 1, expected: 0
[   19.147920] 4 locks held by repro/764:
[   19.148099]  #0: ffff888019896060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   19.148519]  #1: ffff888013ce1188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   19.148951]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   19.149357]  #3: ffff88802a442a98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   19.149811] Preemption disabled at:
[   19.149813] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   19.150271] CPU: 0 UID: 0 PID: 764 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   19.150281] Tainted: [W]=WARN
[   19.150283] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   19.150288] Call Trace:
[   19.150290]  <TASK>
[   19.150293]  dump_stack_lvl+0x121/0x150
[   19.150318]  dump_stack+0x19/0x20
[   19.150326]  __might_resched+0x37b/0x5a0
[   19.150337]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.150350]  __might_sleep+0xa3/0x170
[   19.150359]  ? vm_normal_folio+0x8c/0x170
[   19.150369]  __relocate_anon_folios+0xf97/0x2960
[   19.150384]  ? reacquire_held_locks+0xdd/0x1f0
[   19.150396]  ? __pfx___relocate_anon_folios+0x10/0x10
[   19.150408]  ? lock_set_class+0x17a/0x260
[   19.150420]  copy_vma_and_data+0x606/0x1790
[   19.150436]  ? percpu_counter_add_batch+0xd9/0x210
[   19.150451]  ? __pfx_copy_vma_and_data+0x10/0x10
[   19.150459]  ? vms_complete_munmap_vmas+0x525/0x810
[   19.150477]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   19.150485]  ? __this_cpu_preempt_check+0x21/0x30
[   19.150500]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.150513]  ? mtree_range_walk+0x728/0xb70
[   19.150528]  ? __lock_acquire+0x412/0x22a0
[   19.150540]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   19.150551]  ? percpu_counter_add_batch+0xd9/0x210
[   19.150557]  ? debug_smp_processor_id+0x20/0x30
[   19.150571]  ? __this_cpu_preempt_check+0x21/0x30
[   19.150578]  ? lock_is_held_type+0xef/0x150
[   19.150593]  move_vma+0x689/0x1a60
[   19.150608]  ? __pfx_move_vma+0x10/0x10
[   19.150618]  ? cap_mmap_addr+0x58/0x140
[   19.150628]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.150639]  ? security_mmap_addr+0x63/0x1b0
[   19.150650]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.150661]  ? __get_unmapped_area+0x1a4/0x440
[   19.150675]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.150686]  ? vrm_set_new_addr+0x21d/0x2b0
[   19.150697]  __do_sys_mremap+0xeb4/0x1620
[   19.150709]  ? __pfx___do_sys_mremap+0x10/0x10
[   19.150731]  ? __this_cpu_preempt_check+0x21/0x30
[   19.150753]  __x64_sys_mremap+0xc7/0x150
[   19.150762]  ? syscall_trace_enter+0x14d/0x280
[   19.150773]  x64_sys_call+0x1933/0x2150
[   19.150780]  do_syscall_64+0x6d/0x2e0
[   19.150792]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   19.150799] RIP: 0033:0x7f0debc3ee5d
[   19.150806] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   19.150816] RSP: 002b:00007fff121d0718 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   19.150822] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f0debc3ee5d
[   19.150826] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   19.150830] RBP: 00007fff121d0720 R08: 000000002038d000 R09: 0000000000000001
[   19.150834] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff121d0838
[   19.150840] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f0debed4000
[   19.150856]  </TASK>
[   20.160651] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   20.161087] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 800, name: repro
[   20.161428] preempt_count: 1, expected: 0
[   20.161614] RCU nest depth: 1, expected: 0
[   20.161802] 4 locks held by repro/800:
[   20.161978]  #0: ffff888012f94b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   20.162391]  #1: ffff8880230d74b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   20.162847]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   20.163253]  #3: ffff8880137d3678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   20.163705] Preemption disabled at:
[   20.163708] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   20.164159] CPU: 1 UID: 0 PID: 800 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   20.164169] Tainted: [W]=WARN
[   20.164171] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   20.164176] Call Trace:
[   20.164178]  <TASK>
[   20.164181]  dump_stack_lvl+0x121/0x150
[   20.164194]  dump_stack+0x19/0x20
[   20.164202]  __might_resched+0x37b/0x5a0
[   20.164213]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.164227]  __might_sleep+0xa3/0x170
[   20.164236]  ? vm_normal_folio+0x8c/0x170
[   20.164246]  __relocate_anon_folios+0xf97/0x2960
[   20.164261]  ? reacquire_held_locks+0xdd/0x1f0
[   20.164273]  ? __pfx___relocate_anon_folios+0x10/0x10
[   20.164285]  ? lock_set_class+0x17a/0x260
[   20.164297]  copy_vma_and_data+0x606/0x1790
[   20.164309]  ? percpu_counter_add_batch+0xd9/0x210
[   20.164322]  ? __pfx_copy_vma_and_data+0x10/0x10
[   20.164328]  ? vms_complete_munmap_vmas+0x525/0x810
[   20.164343]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   20.164349]  ? __this_cpu_preempt_check+0x21/0x30
[   20.164366]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.164375]  ? mtree_range_walk+0x728/0xb70
[   20.164386]  ? __lock_acquire+0x412/0x22a0
[   20.164396]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   20.164405]  ? percpu_counter_add_batch+0xd9/0x210
[   20.164410]  ? debug_smp_processor_id+0x20/0x30
[   20.164420]  ? __this_cpu_preempt_check+0x21/0x30
[   20.164427]  ? lock_is_held_type+0xef/0x150
[   20.164439]  move_vma+0x689/0x1a60
[   20.164450]  ? __pfx_move_vma+0x10/0x10
[   20.164458]  ? cap_mmap_addr+0x58/0x140
[   20.164467]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.164476]  ? security_mmap_addr+0x63/0x1b0
[   20.164487]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.164496]  ? __get_unmapped_area+0x1a4/0x440
[   20.164510]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.164519]  ? vrm_set_new_addr+0x21d/0x2b0
[   20.164528]  __do_sys_mremap+0xeb4/0x1620
[   20.164537]  ? __pfx___do_sys_mremap+0x10/0x10
[   20.164547]  ? __this_cpu_preempt_check+0x21/0x30
[   20.164560]  ? __this_cpu_preempt_check+0x21/0x30
[   20.164577]  __x64_sys_mremap+0xc7/0x150
[   20.164585]  ? syscall_trace_enter+0x14d/0x280
[   20.164594]  x64_sys_call+0x1933/0x2150
[   20.164602]  do_syscall_64+0x6d/0x2e0
[   20.164612]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   20.164619] RIP: 0033:0x7fea4a03ee5d
[   20.164626] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   20.164632] RSP: 002b:00007ffe0ab4c738 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   20.164638] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fea4a03ee5d
[   20.164644] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   20.164648] RBP: 00007ffe0ab4c740 R08: 000000002038d000 R09: 0000000000000001
[   20.164652] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe0ab4c858
[   20.164655] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fea4a358000
[   20.164668]  </TASK>
[   21.180421] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   21.180866] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 838, name: repro
[   21.181212] preempt_count: 1, expected: 0
[   21.181400] RCU nest depth: 1, expected: 0
[   21.181589] 4 locks held by repro/838:
[   21.181763]  #0: ffff8880155ac0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   21.182188]  #1: ffff88802b4d1078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   21.182653]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   21.183064]  #3: ffff88801b0a6eb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   21.183519] Preemption disabled at:
[   21.183521] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   21.183977] CPU: 1 UID: 0 PID: 838 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   21.183987] Tainted: [W]=WARN
[   21.183989] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   21.183994] Call Trace:
[   21.183996]  <TASK>
[   21.183999]  dump_stack_lvl+0x121/0x150
[   21.184012]  dump_stack+0x19/0x20
[   21.184020]  __might_resched+0x37b/0x5a0
[   21.184031]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.184044]  __might_sleep+0xa3/0x170
[   21.184053]  ? vm_normal_folio+0x8c/0x170
[   21.184064]  __relocate_anon_folios+0xf97/0x2960
[   21.184079]  ? reacquire_held_locks+0xdd/0x1f0
[   21.184097]  ? __pfx___relocate_anon_folios+0x10/0x10
[   21.184109]  ? lock_set_class+0x17a/0x260
[   21.184121]  copy_vma_and_data+0x606/0x1790
[   21.184133]  ? percpu_counter_add_batch+0xd9/0x210
[   21.184145]  ? __pfx_copy_vma_and_data+0x10/0x10
[   21.184152]  ? vms_complete_munmap_vmas+0x525/0x810
[   21.184166]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   21.184172]  ? __this_cpu_preempt_check+0x21/0x30
[   21.184185]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.184194]  ? mtree_range_walk+0x728/0xb70
[   21.184205]  ? __lock_acquire+0x412/0x22a0
[   21.184215]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   21.184224]  ? percpu_counter_add_batch+0xd9/0x210
[   21.184229]  ? debug_smp_processor_id+0x20/0x30
[   21.184239]  ? __this_cpu_preempt_check+0x21/0x30
[   21.184246]  ? lock_is_held_type+0xef/0x150
[   21.184257]  move_vma+0x689/0x1a60
[   21.184268]  ? __pfx_move_vma+0x10/0x10
[   21.184277]  ? cap_mmap_addr+0x58/0x140
[   21.184286]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.184295]  ? security_mmap_addr+0x63/0x1b0
[   21.184303]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.184312]  ? __get_unmapped_area+0x1a4/0x440
[   21.184323]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.184332]  ? vrm_set_new_addr+0x21d/0x2b0
[   21.184341]  __do_sys_mremap+0xeb4/0x1620
[   21.184351]  ? __pfx___do_sys_mremap+0x10/0x10
[   21.184360]  ? __this_cpu_preempt_check+0x21/0x30
[   21.184373]  ? __this_cpu_preempt_check+0x21/0x30
[   21.184390]  __x64_sys_mremap+0xc7/0x150
[   21.184398]  ? syscall_trace_enter+0x14d/0x280
[   21.184407]  x64_sys_call+0x1933/0x2150
[   21.184414]  do_syscall_64+0x6d/0x2e0
[   21.184424]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   21.184430] RIP: 0033:0x7f4768a3ee5d
[   21.184437] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   21.184443] RSP: 002b:00007fff3a5fd738 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   21.184449] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f4768a3ee5d
[   21.184453] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   21.184457] RBP: 00007fff3a5fd740 R08: 000000002038d000 R09: 0000000000000001
[   21.184463] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff3a5fd858
[   21.184466] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4768d5b000
[   21.184479]  </TASK>
[   22.193301] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   22.193747] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 876, name: repro
[   22.194102] preempt_count: 1, expected: 0
[   22.194295] RCU nest depth: 1, expected: 0
[   22.194794] 4 locks held by repro/876:
[   22.194967]  #0: ffff88801570d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   22.195382]  #1: ffff888025f8d8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   22.195824]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   22.196238]  #3: ffff88802b760018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   22.196699] Preemption disabled at:
[   22.196702] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   22.197168] CPU: 1 UID: 0 PID: 876 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   22.197179] Tainted: [W]=WARN
[   22.197181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   22.197186] Call Trace:
[   22.197188]  <TASK>
[   22.197191]  dump_stack_lvl+0x121/0x150
[   22.197204]  dump_stack+0x19/0x20
[   22.197212]  __might_resched+0x37b/0x5a0
[   22.197223]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.197237]  __might_sleep+0xa3/0x170
[   22.197246]  ? vm_normal_folio+0x8c/0x170
[   22.197256]  __relocate_anon_folios+0xf97/0x2960
[   22.197272]  ? reacquire_held_locks+0xdd/0x1f0
[   22.197284]  ? __pfx___relocate_anon_folios+0x10/0x10
[   22.197296]  ? lock_set_class+0x17a/0x260
[   22.197309]  copy_vma_and_data+0x606/0x1790
[   22.197321]  ? percpu_counter_add_batch+0xd9/0x210
[   22.197333]  ? __pfx_copy_vma_and_data+0x10/0x10
[   22.197340]  ? vms_complete_munmap_vmas+0x525/0x810
[   22.197355]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   22.197361]  ? __this_cpu_preempt_check+0x21/0x30
[   22.197374]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.197383]  ? mtree_range_walk+0x728/0xb70
[   22.197395]  ? __lock_acquire+0x412/0x22a0
[   22.197405]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   22.197414]  ? percpu_counter_add_batch+0xd9/0x210
[   22.197419]  ? debug_smp_processor_id+0x20/0x30
[   22.197430]  ? __this_cpu_preempt_check+0x21/0x30
[   22.197436]  ? lock_is_held_type+0xef/0x150
[   22.197449]  move_vma+0x689/0x1a60
[   22.197460]  ? __pfx_move_vma+0x10/0x10
[   22.197469]  ? cap_mmap_addr+0x58/0x140
[   22.197477]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.197487]  ? security_mmap_addr+0x63/0x1b0
[   22.197495]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.197504]  ? __get_unmapped_area+0x1a4/0x440
[   22.197519]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.197528]  ? vrm_set_new_addr+0x21d/0x2b0
[   22.197537]  __do_sys_mremap+0xeb4/0x1620
[   22.197550]  ? __pfx___do_sys_mremap+0x10/0x10
[   22.197560]  ? __this_cpu_preempt_check+0x21/0x30
[   22.197573]  ? __this_cpu_preempt_check+0x21/0x30
[   22.197590]  __x64_sys_mremap+0xc7/0x150
[   22.197597]  ? syscall_trace_enter+0x14d/0x280
[   22.197607]  x64_sys_call+0x1933/0x2150
[   22.197614]  do_syscall_64+0x6d/0x2e0
[   22.197624]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   22.197631] RIP: 0033:0x7f3d1203ee5d
[   22.197638] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   22.197644] RSP: 002b:00007ffc9d88a4d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   22.197651] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3d1203ee5d
[   22.197655] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   22.197658] RBP: 00007ffc9d88a4e0 R08: 000000002038d000 R09: 0000000000000001
[   22.197662] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc9d88a5f8
[   22.197666] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f3d123d9000
[   22.197681]  </TASK>
[   23.197738] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   23.198173] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 913, name: repro
[   23.198550] preempt_count: 1, expected: 0
[   23.198721] RCU nest depth: 1, expected: 0
[   23.198915] 4 locks held by repro/913:
[   23.199095]  #0: ffff88801985a160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   23.199512]  #1: ffff88802a5637e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   23.199939]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   23.200342]  #3: ffff88802a54ad38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   23.200794] Preemption disabled at:
[   23.200796] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   23.201252] CPU: 1 UID: 0 PID: 913 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   23.201262] Tainted: [W]=WARN
[   23.201264] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.201268] Call Trace:
[   23.201271]  <TASK>
[   23.201273]  dump_stack_lvl+0x121/0x150
[   23.201286]  dump_stack+0x19/0x20
[   23.201295]  __might_resched+0x37b/0x5a0
[   23.201305]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.201319]  __might_sleep+0xa3/0x170
[   23.201327]  ? vm_normal_folio+0x8c/0x170
[   23.201338]  __relocate_anon_folios+0xf97/0x2960
[   23.201353]  ? reacquire_held_locks+0xdd/0x1f0
[   23.201365]  ? __pfx___relocate_anon_folios+0x10/0x10
[   23.201377]  ? lock_set_class+0x17a/0x260
[   23.201389]  copy_vma_and_data+0x606/0x1790
[   23.201401]  ? percpu_counter_add_batch+0xd9/0x210
[   23.201414]  ? __pfx_copy_vma_and_data+0x10/0x10
[   23.201420]  ? vms_complete_munmap_vmas+0x525/0x810
[   23.201438]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   23.201444]  ? __this_cpu_preempt_check+0x21/0x30
[   23.201456]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.201466]  ? mtree_range_walk+0x728/0xb70
[   23.201477]  ? __lock_acquire+0x412/0x22a0
[   23.201486]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   23.201495]  ? percpu_counter_add_batch+0xd9/0x210
[   23.201501]  ? debug_smp_processor_id+0x20/0x30
[   23.201514]  ? __this_cpu_preempt_check+0x21/0x30
[   23.201520]  ? lock_is_held_type+0xef/0x150
[   23.201532]  move_vma+0x689/0x1a60
[   23.201543]  ? __pfx_move_vma+0x10/0x10
[   23.201552]  ? cap_mmap_addr+0x58/0x140
[   23.201561]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.201570]  ? security_mmap_addr+0x63/0x1b0
[   23.201579]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.201588]  ? __get_unmapped_area+0x1a4/0x440
[   23.201600]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.201609]  ? vrm_set_new_addr+0x21d/0x2b0
[   23.201618]  __do_sys_mremap+0xeb4/0x1620
[   23.201628]  ? __pfx___do_sys_mremap+0x10/0x10
[   23.201638]  ? __this_cpu_preempt_check+0x21/0x30
[   23.201651]  ? __this_cpu_preempt_check+0x21/0x30
[   23.201668]  __x64_sys_mremap+0xc7/0x150
[   23.201676]  ? syscall_trace_enter+0x14d/0x280
[   23.201685]  x64_sys_call+0x1933/0x2150
[   23.201692]  do_syscall_64+0x6d/0x2e0
[   23.201702]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   23.201709] RIP: 0033:0x7f689503ee5d
[   23.201715] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   23.201721] RSP: 002b:00007fff9facfbc8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   23.201727] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f689503ee5d
[   23.201731] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   23.201735] RBP: 00007fff9facfbd0 R08: 000000002038d000 R09: 0000000000000001
[   23.201738] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff9facfce8
[   23.201742] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f6895383000
[   23.201755]  </TASK>
[   24.208729] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   24.209180] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 951, name: repro
[   24.209540] preempt_count: 1, expected: 0
[   24.209733] RCU nest depth: 1, expected: 0
[   24.209928] 4 locks held by repro/951:
[   24.210110]  #0: ffff888015733660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   24.210561]  #1: ffff88802b4acd38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   24.210997]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   24.211409]  #3: ffff88802b4afcd8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   24.211871] Preemption disabled at:
[   24.211873] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   24.212339] CPU: 1 UID: 0 PID: 951 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   24.212350] Tainted: [W]=WARN
[   24.212352] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.212357] Call Trace:
[   24.212360]  <TASK>
[   24.212362]  dump_stack_lvl+0x121/0x150
[   24.212376]  dump_stack+0x19/0x20
[   24.212384]  __might_resched+0x37b/0x5a0
[   24.212395]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.212409]  __might_sleep+0xa3/0x170
[   24.212418]  ? vm_normal_folio+0x8c/0x170
[   24.212428]  __relocate_anon_folios+0xf97/0x2960
[   24.212444]  ? reacquire_held_locks+0xdd/0x1f0
[   24.212456]  ? __pfx___relocate_anon_folios+0x10/0x10
[   24.212468]  ? lock_set_class+0x17a/0x260
[   24.212481]  copy_vma_and_data+0x606/0x1790
[   24.212493]  ? percpu_counter_add_batch+0xd9/0x210
[   24.212508]  ? __pfx_copy_vma_and_data+0x10/0x10
[   24.212515]  ? vms_complete_munmap_vmas+0x525/0x810
[   24.212530]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   24.212536]  ? __this_cpu_preempt_check+0x21/0x30
[   24.212549]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.212558]  ? mtree_range_walk+0x728/0xb70
[   24.212570]  ? __lock_acquire+0x412/0x22a0
[   24.212579]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.212589]  ? percpu_counter_add_batch+0xd9/0x210
[   24.212594]  ? debug_smp_processor_id+0x20/0x30
[   24.212605]  ? __this_cpu_preempt_check+0x21/0x30
[   24.212611]  ? lock_is_held_type+0xef/0x150
[   24.212624]  move_vma+0x689/0x1a60
[   24.212635]  ? __pfx_move_vma+0x10/0x10
[   24.212644]  ? cap_mmap_addr+0x58/0x140
[   24.212652]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.212662]  ? security_mmap_addr+0x63/0x1b0
[   24.212670]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.212679]  ? __get_unmapped_area+0x1a4/0x440
[   24.212691]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.212700]  ? vrm_set_new_addr+0x21d/0x2b0
[   24.212710]  __do_sys_mremap+0xeb4/0x1620
[   24.212719]  ? __pfx___do_sys_mremap+0x10/0x10
[   24.212729]  ? __this_cpu_preempt_check+0x21/0x30
[   24.212742]  ? __this_cpu_preempt_check+0x21/0x30
[   24.212760]  __x64_sys_mremap+0xc7/0x150
[   24.212767]  ? syscall_trace_enter+0x14d/0x280
[   24.212777]  x64_sys_call+0x1933/0x2150
[   24.212786]  do_syscall_64+0x6d/0x2e0
[   24.212797]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.212803] RIP: 0033:0x7f20dd83ee5d
[   24.212810] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   24.212817] RSP: 002b:00007fff419042c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   24.212823] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f20dd83ee5d
[   24.212827] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   24.212830] RBP: 00007fff419042d0 R08: 000000002038d000 R09: 0000000000000001
[   24.212834] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff419043e8
[   24.212838] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f20ddc0b000
[   24.212851]  </TASK>
[   25.229814] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   25.230265] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 989, name: repro
[   25.230931] preempt_count: 1, expected: 0
[   25.231125] RCU nest depth: 1, expected: 0
[   25.231322] 4 locks held by repro/989:
[   25.231508]  #0: ffff888014d2abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   25.231944]  #1: ffff88802537e4b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   25.232387]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   25.232802]  #3: ffff88801122cbb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   25.233261] Preemption disabled at:
[   25.233263] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   25.233734] CPU: 1 UID: 0 PID: 989 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   25.233744] Tainted: [W]=WARN
[   25.233747] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.233752] Call Trace:
[   25.233754]  <TASK>
[   25.233757]  dump_stack_lvl+0x121/0x150
[   25.233770]  dump_stack+0x19/0x20
[   25.233779]  __might_resched+0x37b/0x5a0
[   25.233790]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.233803]  __might_sleep+0xa3/0x170
[   25.233812]  ? vm_normal_folio+0x8c/0x170
[   25.233823]  __relocate_anon_folios+0xf97/0x2960
[   25.233838]  ? reacquire_held_locks+0xdd/0x1f0
[   25.233850]  ? __pfx___relocate_anon_folios+0x10/0x10
[   25.233862]  ? lock_set_class+0x17a/0x260
[   25.233875]  copy_vma_and_data+0x606/0x1790
[   25.233887]  ? percpu_counter_add_batch+0xd9/0x210
[   25.233900]  ? __pfx_copy_vma_and_data+0x10/0x10
[   25.233907]  ? vms_complete_munmap_vmas+0x525/0x810
[   25.233921]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   25.233928]  ? __this_cpu_preempt_check+0x21/0x30
[   25.233940]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.233950]  ? mtree_range_walk+0x728/0xb70
[   25.233961]  ? __lock_acquire+0x412/0x22a0
[   25.233974]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.233983]  ? percpu_counter_add_batch+0xd9/0x210
[   25.233989]  ? debug_smp_processor_id+0x20/0x30
[   25.233999]  ? __this_cpu_preempt_check+0x21/0x30
[   25.234009]  ? lock_is_held_type+0xef/0x150
[   25.234021]  move_vma+0x689/0x1a60
[   25.234032]  ? __pfx_move_vma+0x10/0x10
[   25.234041]  ? cap_mmap_addr+0x58/0x140
[   25.234049]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.234059]  ? security_mmap_addr+0x63/0x1b0
[   25.234067]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.234077]  ? __get_unmapped_area+0x1a4/0x440
[   25.234088]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.234097]  ? vrm_set_new_addr+0x21d/0x2b0
[   25.234107]  __do_sys_mremap+0xeb4/0x1620
[   25.234116]  ? __pfx___do_sys_mremap+0x10/0x10
[   25.234126]  ? __this_cpu_preempt_check+0x21/0x30
[   25.234139]  ? __this_cpu_preempt_check+0x21/0x30
[   25.234157]  __x64_sys_mremap+0xc7/0x150
[   25.234164]  ? syscall_trace_enter+0x14d/0x280
[   25.234174]  x64_sys_call+0x1933/0x2150
[   25.234181]  do_syscall_64+0x6d/0x2e0
[   25.234191]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.234198] RIP: 0033:0x7f46ce43ee5d
[   25.234205] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   25.234211] RSP: 002b:00007ffc271b8618 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   25.234218] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f46ce43ee5d
[   25.234222] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   25.234225] RBP: 00007ffc271b8620 R08: 000000002038d000 R09: 0000000000000001
[   25.234229] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc271b8738
[   25.234232] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f46ce675000
[   25.234245]  </TASK>
[   26.233446] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   26.233924] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1026, name: repro
[   26.234273] preempt_count: 1, expected: 0
[   26.234488] RCU nest depth: 1, expected: 0
[   26.234687] 4 locks held by repro/1026:
[   26.234875]  #0: ffff8880242401e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   26.235304]  #1: ffff88802a49bc28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   26.235742]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   26.236154]  #3: ffff888025fd0978 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   26.236608] Preemption disabled at:
[   26.236611] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   26.237078] CPU: 1 UID: 0 PID: 1026 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   26.237088] Tainted: [W]=WARN
[   26.237090] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.237095] Call Trace:
[   26.237100]  <TASK>
[   26.237103]  dump_stack_lvl+0x121/0x150
[   26.237116]  dump_stack+0x19/0x20
[   26.237124]  __might_resched+0x37b/0x5a0
[   26.237135]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.237149]  __might_sleep+0xa3/0x170
[   26.237158]  ? vm_normal_folio+0x8c/0x170
[   26.237168]  __relocate_anon_folios+0xf97/0x2960
[   26.237183]  ? reacquire_held_locks+0xdd/0x1f0
[   26.237196]  ? __pfx___relocate_anon_folios+0x10/0x10
[   26.237208]  ? lock_set_class+0x17a/0x260
[   26.237221]  copy_vma_and_data+0x606/0x1790
[   26.237233]  ? percpu_counter_add_batch+0xd9/0x210
[   26.237245]  ? __pfx_copy_vma_and_data+0x10/0x10
[   26.237252]  ? vms_complete_munmap_vmas+0x525/0x810
[   26.237267]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   26.237273]  ? __this_cpu_preempt_check+0x21/0x30
[   26.237286]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.237296]  ? mtree_range_walk+0x728/0xb70
[   26.237307]  ? __lock_acquire+0x412/0x22a0
[   26.237317]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.237326]  ? percpu_counter_add_batch+0xd9/0x210
[   26.237332]  ? debug_smp_processor_id+0x20/0x30
[   26.237342]  ? __this_cpu_preempt_check+0x21/0x30
[   26.237349]  ? lock_is_held_type+0xef/0x150
[   26.237361]  move_vma+0x689/0x1a60
[   26.237372]  ? __pfx_move_vma+0x10/0x10
[   26.237381]  ? cap_mmap_addr+0x58/0x140
[   26.237390]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.237399]  ? security_mmap_addr+0x63/0x1b0
[   26.237408]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.237417]  ? __get_unmapped_area+0x1a4/0x440
[   26.237429]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.237438]  ? vrm_set_new_addr+0x21d/0x2b0
[   26.237448]  __do_sys_mremap+0xeb4/0x1620
[   26.237457]  ? __pfx___do_sys_mremap+0x10/0x10
[   26.237467]  ? __this_cpu_preempt_check+0x21/0x30
[   26.237480]  ? __this_cpu_preempt_check+0x21/0x30
[   26.237498]  __x64_sys_mremap+0xc7/0x150
[   26.237508]  ? syscall_trace_enter+0x14d/0x280
[   26.237517]  x64_sys_call+0x1933/0x2150
[   26.237525]  do_syscall_64+0x6d/0x2e0
[   26.237535]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.237541] RIP: 0033:0x7fe4d6c3ee5d
[   26.237549] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   26.237555] RSP: 002b:00007ffcdbaaf0a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   26.237563] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fe4d6c3ee5d
[   26.237567] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   26.237570] RBP: 00007ffcdbaaf0b0 R08: 000000002038d000 R09: 0000000000000001
[   26.237574] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcdbaaf1c8
[   26.237578] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fe4d6efe000
[   26.237591]  </TASK>
[   27.250037] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   27.250828] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1064, name: repro
[   27.251176] preempt_count: 1, expected: 0
[   27.251370] RCU nest depth: 1, expected: 0
[   27.251570] 4 locks held by repro/1064:
[   27.251756]  #0: ffff8880125c96e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   27.252174]  #1: ffff888025187f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   27.252609]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   27.253013]  #3: ffff88802287c1f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   27.253463] Preemption disabled at:
[   27.253477] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   27.253938] CPU: 1 UID: 0 PID: 1064 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   27.253969] Tainted: [W]=WARN
[   27.253971] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.253976] Call Trace:
[   27.253978]  <TASK>
[   27.253980]  dump_stack_lvl+0x121/0x150
[   27.253994]  dump_stack+0x19/0x20
[   27.254002]  __might_resched+0x37b/0x5a0
[   27.254012]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.254026]  __might_sleep+0xa3/0x170
[   27.254034]  ? vm_normal_folio+0x8c/0x170
[   27.254045]  __relocate_anon_folios+0xf97/0x2960
[   27.254060]  ? reacquire_held_locks+0xdd/0x1f0
[   27.254072]  ? __pfx___relocate_anon_folios+0x10/0x10
[   27.254084]  ? lock_set_class+0x17a/0x260
[   27.254097]  copy_vma_and_data+0x606/0x1790
[   27.254108]  ? percpu_counter_add_batch+0xd9/0x210
[   27.254121]  ? __pfx_copy_vma_and_data+0x10/0x10
[   27.254128]  ? vms_complete_munmap_vmas+0x525/0x810
[   27.254142]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   27.254149]  ? __this_cpu_preempt_check+0x21/0x30
[   27.254161]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.254171]  ? mtree_range_walk+0x728/0xb70
[   27.254182]  ? __lock_acquire+0x412/0x22a0
[   27.254192]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.254201]  ? percpu_counter_add_batch+0xd9/0x210
[   27.254206]  ? debug_smp_processor_id+0x20/0x30
[   27.254217]  ? __this_cpu_preempt_check+0x21/0x30
[   27.254223]  ? lock_is_held_type+0xef/0x150
[   27.254235]  move_vma+0x689/0x1a60
[   27.254249]  ? __pfx_move_vma+0x10/0x10
[   27.254260]  ? cap_mmap_addr+0x58/0x140
[   27.254269]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.254278]  ? security_mmap_addr+0x63/0x1b0
[   27.254286]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.254295]  ? __get_unmapped_area+0x1a4/0x440
[   27.254306]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.254316]  ? vrm_set_new_addr+0x21d/0x2b0
[   27.254325]  __do_sys_mremap+0xeb4/0x1620
[   27.254334]  ? __pfx___do_sys_mremap+0x10/0x10
[   27.254344]  ? __this_cpu_preempt_check+0x21/0x30
[   27.254357]  ? __this_cpu_preempt_check+0x21/0x30
[   27.254374]  __x64_sys_mremap+0xc7/0x150
[   27.254381]  ? syscall_trace_enter+0x14d/0x280
[   27.254391]  x64_sys_call+0x1933/0x2150
[   27.254398]  do_syscall_64+0x6d/0x2e0
[   27.254408]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.254415] RIP: 0033:0x7f2d4e23ee5d
[   27.254422] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   27.254432] RSP: 002b:00007fffc99bf318 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   27.254439] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2d4e23ee5d
[   27.254443] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   27.254447] RBP: 00007fffc99bf320 R08: 000000002038d000 R09: 0000000000000001
[   27.254451] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffc99bf438
[   27.254455] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2d4e61f000
[   27.254472]  </TASK>
[   28.257235] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   28.257693] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1100, name: repro
[   28.258057] preempt_count: 1, expected: 0
[   28.258252] RCU nest depth: 1, expected: 0
[   28.258482] 4 locks held by repro/1100:
[   28.258674]  #0: ffff888015f0eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   28.259130]  #1: ffff88802a457f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   28.259585]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   28.260038]  #3: ffff88802a44b798 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   28.260506] Preemption disabled at:
[   28.260508] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   28.260980] CPU: 1 UID: 0 PID: 1100 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   28.260993] Tainted: [W]=WARN
[   28.260995] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.261000] Call Trace:
[   28.261003]  <TASK>
[   28.261006]  dump_stack_lvl+0x121/0x150
[   28.261020]  dump_stack+0x19/0x20
[   28.261028]  __might_resched+0x37b/0x5a0
[   28.261039]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.261054]  __might_sleep+0xa3/0x170
[   28.261065]  ? vm_normal_folio+0x8c/0x170
[   28.261076]  __relocate_anon_folios+0xf97/0x2960
[   28.261092]  ? reacquire_held_locks+0xdd/0x1f0
[   28.261105]  ? __pfx___relocate_anon_folios+0x10/0x10
[   28.261117]  ? lock_set_class+0x17a/0x260
[   28.261130]  copy_vma_and_data+0x606/0x1790
[   28.261142]  ? percpu_counter_add_batch+0xd9/0x210
[   28.261155]  ? __pfx_copy_vma_and_data+0x10/0x10
[   28.261162]  ? vms_complete_munmap_vmas+0x525/0x810
[   28.261178]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   28.261184]  ? __this_cpu_preempt_check+0x21/0x30
[   28.261198]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.261207]  ? mtree_range_walk+0x728/0xb70
[   28.261219]  ? __lock_acquire+0x412/0x22a0
[   28.261229]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.261239]  ? percpu_counter_add_batch+0xd9/0x210
[   28.261245]  ? debug_smp_processor_id+0x20/0x30
[   28.261256]  ? __this_cpu_preempt_check+0x21/0x30
[   28.261262]  ? lock_is_held_type+0xef/0x150
[   28.261275]  move_vma+0x689/0x1a60
[   28.261287]  ? __pfx_move_vma+0x10/0x10
[   28.261296]  ? cap_mmap_addr+0x58/0x140
[   28.261305]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.261315]  ? security_mmap_addr+0x63/0x1b0
[   28.261324]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.261334]  ? __get_unmapped_area+0x1a4/0x440
[   28.261346]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.261355]  ? vrm_set_new_addr+0x21d/0x2b0
[   28.261365]  __do_sys_mremap+0xeb4/0x1620
[   28.261375]  ? __pfx___do_sys_mremap+0x10/0x10
[   28.261386]  ? __this_cpu_preempt_check+0x21/0x30
[   28.261399]  ? __this_cpu_preempt_check+0x21/0x30
[   28.261417]  __x64_sys_mremap+0xc7/0x150
[   28.261425]  ? syscall_trace_enter+0x14d/0x280
[   28.261435]  x64_sys_call+0x1933/0x2150
[   28.261442]  do_syscall_64+0x6d/0x2e0
[   28.261453]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.261460] RIP: 0033:0x7f56ee03ee5d
[   28.261468] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   28.261475] RSP: 002b:00007ffcefc8d178 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   28.261481] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f56ee03ee5d
[   28.261485] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   28.261489] RBP: 00007ffcefc8d180 R08: 000000002038d000 R09: 0000000000000001
[   28.261493] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcefc8d298
[   28.261496] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f56ee30d000
[   28.261513]  </TASK>
[   29.273937] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   29.274406] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1136, name: repro
[   29.274796] preempt_count: 1, expected: 0
[   29.274991] RCU nest depth: 1, expected: 0
[   29.275189] 4 locks held by repro/1136:
[   29.275378]  #0: ffff888015bad5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   29.275812]  #1: ffff888010014f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   29.276264]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   29.276685]  #3: ffff88801352e018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   29.277149] Preemption disabled at:
[   29.277152] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   29.277624] CPU: 0 UID: 0 PID: 1136 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   29.277635] Tainted: [W]=WARN
[   29.277637] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.277656] Call Trace:
[   29.277658]  <TASK>
[   29.277661]  dump_stack_lvl+0x121/0x150
[   29.277675]  dump_stack+0x19/0x20
[   29.277684]  __might_resched+0x37b/0x5a0
[   29.277694]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.277708]  __might_sleep+0xa3/0x170
[   29.277717]  ? vm_normal_folio+0x8c/0x170
[   29.277728]  __relocate_anon_folios+0xf97/0x2960
[   29.277744]  ? reacquire_held_locks+0xdd/0x1f0
[   29.277757]  ? __pfx___relocate_anon_folios+0x10/0x10
[   29.277769]  ? lock_set_class+0x17a/0x260
[   29.277782]  copy_vma_and_data+0x606/0x1790
[   29.277794]  ? percpu_counter_add_batch+0xd9/0x210
[   29.277807]  ? __pfx_copy_vma_and_data+0x10/0x10
[   29.277814]  ? vms_complete_munmap_vmas+0x525/0x810
[   29.277830]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   29.277836]  ? __this_cpu_preempt_check+0x21/0x30
[   29.277849]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.277859]  ? mtree_range_walk+0x728/0xb70
[   29.277871]  ? __lock_acquire+0x412/0x22a0
[   29.277881]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.277890]  ? percpu_counter_add_batch+0xd9/0x210
[   29.277896]  ? debug_smp_processor_id+0x20/0x30
[   29.277907]  ? __this_cpu_preempt_check+0x21/0x30
[   29.277913]  ? lock_is_held_type+0xef/0x150
[   29.277926]  move_vma+0x689/0x1a60
[   29.277938]  ? __pfx_move_vma+0x10/0x10
[   29.277946]  ? cap_mmap_addr+0x58/0x140
[   29.277956]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.277965]  ? security_mmap_addr+0x63/0x1b0
[   29.277974]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.277983]  ? __get_unmapped_area+0x1a4/0x440
[   29.277998]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.278008]  ? vrm_set_new_addr+0x21d/0x2b0
[   29.278017]  __do_sys_mremap+0xeb4/0x1620
[   29.278027]  ? __pfx___do_sys_mremap+0x10/0x10
[   29.278037]  ? __this_cpu_preempt_check+0x21/0x30
[   29.278051]  ? __this_cpu_preempt_check+0x21/0x30
[   29.278069]  __x64_sys_mremap+0xc7/0x150
[   29.278077]  ? syscall_trace_enter+0x14d/0x280
[   29.278086]  x64_sys_call+0x1933/0x2150
[   29.278094]  do_syscall_64+0x6d/0x2e0
[   29.278104]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.278110] RIP: 0033:0x7f27f7e3ee5d
[   29.278119] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   29.278125] RSP: 002b:00007fffec9e4068 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   29.278131] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f27f7e3ee5d
[   29.278135] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   29.278139] RBP: 00007fffec9e4070 R08: 000000002038d000 R09: 0000000000000001
[   29.278143] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffec9e4188
[   29.278147] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f27f80fd000
[   29.278160]  </TASK>
[   30.279217] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   30.279679] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1172, name: repro
[   30.280043] preempt_count: 1, expected: 0
[   30.280237] RCU nest depth: 1, expected: 0
[   30.280437] 4 locks held by repro/1172:
[   30.280630]  #0: ffff8880157096e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   30.281064]  #1: ffff88802b5bdf58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   30.281518]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   30.281940]  #3: ffff88802b4f4498 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   30.282411] Preemption disabled at:
[   30.282413] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   30.282920] CPU: 1 UID: 0 PID: 1172 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   30.282931] Tainted: [W]=WARN
[   30.282933] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.282937] Call Trace:
[   30.282940]  <TASK>
[   30.282943]  dump_stack_lvl+0x121/0x150
[   30.282956]  dump_stack+0x19/0x20
[   30.282965]  __might_resched+0x37b/0x5a0
[   30.282976]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.282996]  __might_sleep+0xa3/0x170
[   30.283005]  ? vm_normal_folio+0x8c/0x170
[   30.283016]  __relocate_anon_folios+0xf97/0x2960
[   30.283032]  ? reacquire_held_locks+0xdd/0x1f0
[   30.283044]  ? __pfx___relocate_anon_folios+0x10/0x10
[   30.283056]  ? lock_set_class+0x17a/0x260
[   30.283073]  copy_vma_and_data+0x606/0x1790
[   30.283085]  ? percpu_counter_add_batch+0xd9/0x210
[   30.283098]  ? __pfx_copy_vma_and_data+0x10/0x10
[   30.283105]  ? vms_complete_munmap_vmas+0x525/0x810
[   30.283120]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   30.283127]  ? __this_cpu_preempt_check+0x21/0x30
[   30.283139]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.283149]  ? mtree_range_walk+0x728/0xb70
[   30.283160]  ? __lock_acquire+0x412/0x22a0
[   30.283171]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.283180]  ? percpu_counter_add_batch+0xd9/0x210
[   30.283186]  ? debug_smp_processor_id+0x20/0x30
[   30.283197]  ? __this_cpu_preempt_check+0x21/0x30
[   30.283203]  ? lock_is_held_type+0xef/0x150
[   30.283216]  move_vma+0x689/0x1a60
[   30.283227]  ? __pfx_move_vma+0x10/0x10
[   30.283236]  ? cap_mmap_addr+0x58/0x140
[   30.283246]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.283255]  ? security_mmap_addr+0x63/0x1b0
[   30.283274]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.283283]  ? __get_unmapped_area+0x1a4/0x440
[   30.283295]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.283304]  ? vrm_set_new_addr+0x21d/0x2b0
[   30.283314]  __do_sys_mremap+0xeb4/0x1620
[   30.283324]  ? __pfx___do_sys_mremap+0x10/0x10
[   30.283334]  ? __this_cpu_preempt_check+0x21/0x30
[   30.283348]  ? __this_cpu_preempt_check+0x21/0x30
[   30.283365]  __x64_sys_mremap+0xc7/0x150
[   30.283373]  ? syscall_trace_enter+0x14d/0x280
[   30.283383]  x64_sys_call+0x1933/0x2150
[   30.283390]  do_syscall_64+0x6d/0x2e0
[   30.283400]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.283407] RIP: 0033:0x7f212a23ee5d
[   30.283415] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   30.283421] RSP: 002b:00007ffe3b70d6a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   30.283427] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f212a23ee5d
[   30.283431] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   30.283435] RBP: 00007ffe3b70d6b0 R08: 000000002038d000 R09: 0000000000000001
[   30.283439] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe3b70d7c8
[   30.283442] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f212a57a000
[   30.283455]  </TASK>
[   31.303869] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   31.304306] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1208, name: repro
[   31.304677] preempt_count: 1, expected: 0
[   31.304876] RCU nest depth: 1, expected: 0
[   31.305079] 4 locks held by repro/1208:
[   31.305270]  #0: ffff8880146101e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   31.305725]  #1: ffff888011d35188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   31.306180]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   31.306651]  #3: ffff888025ccc858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   31.307126] Preemption disabled at:
[   31.307129] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   31.307610] CPU: 1 UID: 0 PID: 1208 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   31.307620] Tainted: [W]=WARN
[   31.307622] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.307627] Call Trace:
[   31.307629]  <TASK>
[   31.307632]  dump_stack_lvl+0x121/0x150
[   31.307646]  dump_stack+0x19/0x20
[   31.307654]  __might_resched+0x37b/0x5a0
[   31.307665]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.307679]  __might_sleep+0xa3/0x170
[   31.307688]  ? vm_normal_folio+0x8c/0x170
[   31.307699]  __relocate_anon_folios+0xf97/0x2960
[   31.307715]  ? reacquire_held_locks+0xdd/0x1f0
[   31.307730]  ? __pfx___relocate_anon_folios+0x10/0x10
[   31.307742]  ? lock_set_class+0x17a/0x260
[   31.307756]  copy_vma_and_data+0x606/0x1790
[   31.307768]  ? percpu_counter_add_batch+0xd9/0x210
[   31.307781]  ? __pfx_copy_vma_and_data+0x10/0x10
[   31.307788]  ? vms_complete_munmap_vmas+0x525/0x810
[   31.307802]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   31.307809]  ? __this_cpu_preempt_check+0x21/0x30
[   31.307822]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.307832]  ? mtree_range_walk+0x728/0xb70
[   31.307843]  ? __lock_acquire+0x412/0x22a0
[   31.307853]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.307863]  ? percpu_counter_add_batch+0xd9/0x210
[   31.307869]  ? debug_smp_processor_id+0x20/0x30
[   31.307880]  ? __this_cpu_preempt_check+0x21/0x30
[   31.307886]  ? lock_is_held_type+0xef/0x150
[   31.307899]  move_vma+0x689/0x1a60
[   31.307910]  ? __pfx_move_vma+0x10/0x10
[   31.307919]  ? cap_mmap_addr+0x58/0x140
[   31.307928]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.307938]  ? security_mmap_addr+0x63/0x1b0
[   31.307946]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.307956]  ? __get_unmapped_area+0x1a4/0x440
[   31.307968]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.307977]  ? vrm_set_new_addr+0x21d/0x2b0
[   31.307987]  __do_sys_mremap+0xeb4/0x1620
[   31.307997]  ? __pfx___do_sys_mremap+0x10/0x10
[   31.308007]  ? __this_cpu_preempt_check+0x21/0x30
[   31.308023]  ? __this_cpu_preempt_check+0x21/0x30
[   31.308041]  __x64_sys_mremap+0xc7/0x150
[   31.308049]  ? syscall_trace_enter+0x14d/0x280
[   31.308059]  x64_sys_call+0x1933/0x2150
[   31.308066]  do_syscall_64+0x6d/0x2e0
[   31.308077]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.308084] RIP: 0033:0x7f9f4a23ee5d
[   31.308092] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   31.308099] RSP: 002b:00007ffca3624e48 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   31.308105] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9f4a23ee5d
[   31.308109] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   31.308113] RBP: 00007ffca3624e50 R08: 000000002038d000 R09: 0000000000000001
[   31.308117] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffca3624f68
[   31.308120] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9f4a4e2000
[   31.308133]  </TASK>
[   32.306953] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   32.307383] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1244, name: repro
[   32.307747] preempt_count: 1, expected: 0
[   32.307945] RCU nest depth: 1, expected: 0
[   32.308143] 4 locks held by repro/1244:
[   32.308330]  #0: ffff8880178a4b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   32.308761]  #1: ffff88802a646188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   32.309196]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   32.309608]  #3: ffff88802a5dbdf8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   32.310066] Preemption disabled at:
[   32.310068] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   32.310559] CPU: 1 UID: 0 PID: 1244 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   32.310570] Tainted: [W]=WARN
[   32.310572] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.310577] Call Trace:
[   32.310579]  <TASK>
[   32.310582]  dump_stack_lvl+0x121/0x150
[   32.310597]  dump_stack+0x19/0x20
[   32.310605]  __might_resched+0x37b/0x5a0
[   32.310616]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.310631]  __might_sleep+0xa3/0x170
[   32.310640]  ? vm_normal_folio+0x8c/0x170
[   32.310651]  __relocate_anon_folios+0xf97/0x2960
[   32.310667]  ? reacquire_held_locks+0xdd/0x1f0
[   32.310680]  ? __pfx___relocate_anon_folios+0x10/0x10
[   32.310692]  ? lock_set_class+0x17a/0x260
[   32.310705]  copy_vma_and_data+0x606/0x1790
[   32.310718]  ? percpu_counter_add_batch+0xd9/0x210
[   32.310743]  ? __pfx_copy_vma_and_data+0x10/0x10
[   32.310750]  ? vms_complete_munmap_vmas+0x525/0x810
[   32.310765]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   32.310772]  ? __this_cpu_preempt_check+0x21/0x30
[   32.310788]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.310798]  ? mtree_range_walk+0x728/0xb70
[   32.310810]  ? __lock_acquire+0x412/0x22a0
[   32.310820]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.310830]  ? percpu_counter_add_batch+0xd9/0x210
[   32.310835]  ? debug_smp_processor_id+0x20/0x30
[   32.310846]  ? __this_cpu_preempt_check+0x21/0x30
[   32.310853]  ? lock_is_held_type+0xef/0x150
[   32.310865]  move_vma+0x689/0x1a60
[   32.310877]  ? __pfx_move_vma+0x10/0x10
[   32.310886]  ? cap_mmap_addr+0x58/0x140
[   32.310895]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.310905]  ? security_mmap_addr+0x63/0x1b0
[   32.310914]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.310923]  ? __get_unmapped_area+0x1a4/0x440
[   32.310935]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.310945]  ? vrm_set_new_addr+0x21d/0x2b0
[   32.310954]  __do_sys_mremap+0xeb4/0x1620
[   32.310964]  ? __pfx___do_sys_mremap+0x10/0x10
[   32.310983]  ? __this_cpu_preempt_check+0x21/0x30
[   32.311001]  __x64_sys_mremap+0xc7/0x150
[   32.311009]  ? syscall_trace_enter+0x14d/0x280
[   32.311019]  x64_sys_call+0x1933/0x2150
[   32.311026]  do_syscall_64+0x6d/0x2e0
[   32.311037]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.311066] RIP: 0033:0x7f7526e3ee5d
[   32.311074] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   32.311080] RSP: 002b:00007ffc7ab2f788 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   32.311086] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7526e3ee5d
[   32.311090] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   32.311094] RBP: 00007ffc7ab2f790 R08: 000000002038d000 R09: 0000000000000001
[   32.311098] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc7ab2f8a8
[   32.311101] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f752722f000
[   32.311115]  </TASK>
[   33.313243] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   33.313716] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1280, name: repro
[   33.314081] preempt_count: 1, expected: 0
[   33.314277] RCU nest depth: 1, expected: 0
[   33.314763] 4 locks held by repro/1280:
[   33.314940]  #0: ffff8880252a3660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   33.315357]  #1: ffff8880137dc298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   33.315811]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   33.316232]  #3: ffff88802a595078 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   33.316700] Preemption disabled at:
[   33.316702] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   33.317167] CPU: 1 UID: 0 PID: 1280 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   33.317192] Tainted: [W]=WARN
[   33.317197] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.317201] Call Trace:
[   33.317203]  <TASK>
[   33.317209]  dump_stack_lvl+0x121/0x150
[   33.317223]  dump_stack+0x19/0x20
[   33.317231]  __might_resched+0x37b/0x5a0
[   33.317242]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.317256]  __might_sleep+0xa3/0x170
[   33.317265]  ? vm_normal_folio+0x8c/0x170
[   33.317275]  __relocate_anon_folios+0xf97/0x2960
[   33.317291]  ? reacquire_held_locks+0xdd/0x1f0
[   33.317304]  ? __pfx___relocate_anon_folios+0x10/0x10
[   33.317316]  ? lock_set_class+0x17a/0x260
[   33.317329]  copy_vma_and_data+0x606/0x1790
[   33.317341]  ? percpu_counter_add_batch+0xd9/0x210
[   33.317354]  ? __pfx_copy_vma_and_data+0x10/0x10
[   33.317361]  ? vms_complete_munmap_vmas+0x525/0x810
[   33.317376]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   33.317382]  ? __this_cpu_preempt_check+0x21/0x30
[   33.317395]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.317407]  ? mtree_range_walk+0x728/0xb70
[   33.317418]  ? __lock_acquire+0x412/0x22a0
[   33.317428]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.317437]  ? percpu_counter_add_batch+0xd9/0x210
[   33.317443]  ? debug_smp_processor_id+0x20/0x30
[   33.317454]  ? __this_cpu_preempt_check+0x21/0x30
[   33.317460]  ? lock_is_held_type+0xef/0x150
[   33.317472]  move_vma+0x689/0x1a60
[   33.317484]  ? __pfx_move_vma+0x10/0x10
[   33.317492]  ? cap_mmap_addr+0x58/0x140
[   33.317504]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.317513]  ? security_mmap_addr+0x63/0x1b0
[   33.317522]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.317531]  ? __get_unmapped_area+0x1a4/0x440
[   33.317543]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.317552]  ? vrm_set_new_addr+0x21d/0x2b0
[   33.317562]  __do_sys_mremap+0xeb4/0x1620
[   33.317572]  ? __pfx___do_sys_mremap+0x10/0x10
[   33.317582]  ? __this_cpu_preempt_check+0x21/0x30
[   33.317596]  ? __this_cpu_preempt_check+0x21/0x30
[   33.317613]  __x64_sys_mremap+0xc7/0x150
[   33.317621]  ? syscall_trace_enter+0x14d/0x280
[   33.317631]  x64_sys_call+0x1933/0x2150
[   33.317637]  do_syscall_64+0x6d/0x2e0
[   33.317647]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.317654] RIP: 0033:0x7fddae03ee5d
[   33.317663] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   33.317669] RSP: 002b:00007ffdfcbbed58 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   33.317675] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fddae03ee5d
[   33.317679] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   33.317683] RBP: 00007ffdfcbbed60 R08: 000000002038d000 R09: 0000000000000001
[   33.317686] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdfcbbee78
[   33.317690] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fddae253000
[   33.317703]  </TASK>
[   34.319778] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   34.320230] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1316, name: repro
[   34.320589] preempt_count: 1, expected: 0
[   34.320781] RCU nest depth: 1, expected: 0
[   34.320975] 4 locks held by repro/1316:
[   34.321162]  #0: ffff88801a1bd5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   34.321589]  #1: ffff8880270696d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   34.322027]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   34.322464]  #3: ffff888025cb4378 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   34.322932] Preemption disabled at:
[   34.322935] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   34.323402] CPU: 1 UID: 0 PID: 1316 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   34.323412] Tainted: [W]=WARN
[   34.323414] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.323419] Call Trace:
[   34.323421]  <TASK>
[   34.323424]  dump_stack_lvl+0x121/0x150
[   34.323438]  dump_stack+0x19/0x20
[   34.323446]  __might_resched+0x37b/0x5a0
[   34.323457]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.323471]  __might_sleep+0xa3/0x170
[   34.323479]  ? vm_normal_folio+0x8c/0x170
[   34.323490]  __relocate_anon_folios+0xf97/0x2960
[   34.323509]  ? reacquire_held_locks+0xdd/0x1f0
[   34.323521]  ? __pfx___relocate_anon_folios+0x10/0x10
[   34.323533]  ? lock_set_class+0x17a/0x260
[   34.323546]  copy_vma_and_data+0x606/0x1790
[   34.323558]  ? percpu_counter_add_batch+0xd9/0x210
[   34.323571]  ? __pfx_copy_vma_and_data+0x10/0x10
[   34.323578]  ? vms_complete_munmap_vmas+0x525/0x810
[   34.323593]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   34.323599]  ? __this_cpu_preempt_check+0x21/0x30
[   34.323612]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.323622]  ? mtree_range_walk+0x728/0xb70
[   34.323634]  ? __lock_acquire+0x412/0x22a0
[   34.323644]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.323653]  ? percpu_counter_add_batch+0xd9/0x210
[   34.323670]  ? debug_smp_processor_id+0x20/0x30
[   34.323684]  ? __this_cpu_preempt_check+0x21/0x30
[   34.323690]  ? lock_is_held_type+0xef/0x150
[   34.323703]  move_vma+0x689/0x1a60
[   34.323714]  ? __pfx_move_vma+0x10/0x10
[   34.323723]  ? cap_mmap_addr+0x58/0x140
[   34.323732]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.323741]  ? security_mmap_addr+0x63/0x1b0
[   34.323749]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.323759]  ? __get_unmapped_area+0x1a4/0x440
[   34.323770]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.323779]  ? vrm_set_new_addr+0x21d/0x2b0
[   34.323789]  __do_sys_mremap+0xeb4/0x1620
[   34.323798]  ? __pfx___do_sys_mremap+0x10/0x10
[   34.323808]  ? __this_cpu_preempt_check+0x21/0x30
[   34.323821]  ? __this_cpu_preempt_check+0x21/0x30
[   34.323839]  __x64_sys_mremap+0xc7/0x150
[   34.323847]  ? syscall_trace_enter+0x14d/0x280
[   34.323857]  x64_sys_call+0x1933/0x2150
[   34.323864]  do_syscall_64+0x6d/0x2e0
[   34.323875]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.323882] RIP: 0033:0x7fecff43ee5d
[   34.323889] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   34.323895] RSP: 002b:00007ffd97ce0e48 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   34.323901] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fecff43ee5d
[   34.323905] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   34.323909] RBP: 00007ffd97ce0e50 R08: 000000002038d000 R09: 0000000000000001
[   34.323913] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd97ce0f68
[   34.323916] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fecff7e1000
[   34.323929]  </TASK>
[   35.345751] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   35.346182] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1353, name: repro
[   35.346561] preempt_count: 1, expected: 0
[   35.346755] RCU nest depth: 1, expected: 0
[   35.346951] 4 locks held by repro/1353:
[   35.347134]  #0: ffff888024312160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   35.347554]  #1: ffff88802a5b5f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   35.347986]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   35.348389]  #3: ffff88802a57b318 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   35.348842] Preemption disabled at:
[   35.348845] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   35.349295] CPU: 0 UID: 0 PID: 1353 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   35.349305] Tainted: [W]=WARN
[   35.349308] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.349312] Call Trace:
[   35.349314]  <TASK>
[   35.349317]  dump_stack_lvl+0x121/0x150
[   35.349331]  dump_stack+0x19/0x20
[   35.349348]  __might_resched+0x37b/0x5a0
[   35.349359]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.349372]  __might_sleep+0xa3/0x170
[   35.349381]  ? vm_normal_folio+0x8c/0x170
[   35.349392]  __relocate_anon_folios+0xf97/0x2960
[   35.349407]  ? reacquire_held_locks+0xdd/0x1f0
[   35.349419]  ? __pfx___relocate_anon_folios+0x10/0x10
[   35.349431]  ? lock_set_class+0x17a/0x260
[   35.349444]  copy_vma_and_data+0x606/0x1790
[   35.349456]  ? percpu_counter_add_batch+0xd9/0x210
[   35.349469]  ? __pfx_copy_vma_and_data+0x10/0x10
[   35.349476]  ? vms_complete_munmap_vmas+0x525/0x810
[   35.349490]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   35.349497]  ? __this_cpu_preempt_check+0x21/0x30
[   35.349512]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.349522]  ? mtree_range_walk+0x728/0xb70
[   35.349534]  ? __lock_acquire+0x412/0x22a0
[   35.349544]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.349553]  ? percpu_counter_add_batch+0xd9/0x210
[   35.349559]  ? debug_smp_processor_id+0x20/0x30
[   35.349570]  ? __this_cpu_preempt_check+0x21/0x30
[   35.349576]  ? lock_is_held_type+0xef/0x150
[   35.349589]  move_vma+0x689/0x1a60
[   35.349605]  ? __pfx_move_vma+0x10/0x10
[   35.349614]  ? cap_mmap_addr+0x58/0x140
[   35.349623]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.349632]  ? security_mmap_addr+0x63/0x1b0
[   35.349641]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.349651]  ? __get_unmapped_area+0x1a4/0x440
[   35.349662]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.349671]  ? vrm_set_new_addr+0x21d/0x2b0
[   35.349681]  __do_sys_mremap+0xeb4/0x1620
[   35.349690]  ? __pfx___do_sys_mremap+0x10/0x10
[   35.349700]  ? __this_cpu_preempt_check+0x21/0x30
[   35.349719]  ? __this_cpu_preempt_check+0x21/0x30
[   35.349736]  __x64_sys_mremap+0xc7/0x150
[   35.349743]  ? syscall_trace_enter+0x14d/0x280
[   35.349753]  x64_sys_call+0x1933/0x2150
[   35.349760]  do_syscall_64+0x6d/0x2e0
[   35.349770]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.349777] RIP: 0033:0x7f4cb4e3ee5d
[   35.349784] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   35.349790] RSP: 002b:00007ffe1f0a7ed8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   35.349797] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f4cb4e3ee5d
[   35.349801] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   35.349804] RBP: 00007ffe1f0a7ee0 R08: 000000002038d000 R09: 0000000000000001
[   35.349808] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe1f0a7ff8
[   35.349813] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4cb5183000
[   35.349826]  </TASK>
[   36.351998] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   36.352439] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1389, name: repro
[   36.352797] preempt_count: 1, expected: 0
[   36.352990] RCU nest depth: 1, expected: 0
[   36.353188] 4 locks held by repro/1389:
[   36.353380]  #0: ffff888014602160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   36.353811]  #1: ffff888011be1d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   36.354254]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   36.354699]  #3: ffff888011c59d38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   36.355160] Preemption disabled at:
[   36.355162] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   36.355627] CPU: 0 UID: 0 PID: 1389 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   36.355638] Tainted: [W]=WARN
[   36.355640] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.355645] Call Trace:
[   36.355647]  <TASK>
[   36.355650]  dump_stack_lvl+0x121/0x150
[   36.355664]  dump_stack+0x19/0x20
[   36.355673]  __might_resched+0x37b/0x5a0
[   36.355684]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.355698]  __might_sleep+0xa3/0x170
[   36.355707]  ? vm_normal_folio+0x8c/0x170
[   36.355718]  __relocate_anon_folios+0xf97/0x2960
[   36.355734]  ? reacquire_held_locks+0xdd/0x1f0
[   36.355746]  ? __pfx___relocate_anon_folios+0x10/0x10
[   36.355758]  ? lock_set_class+0x17a/0x260
[   36.355772]  copy_vma_and_data+0x606/0x1790
[   36.355784]  ? percpu_counter_add_batch+0xd9/0x210
[   36.355797]  ? __pfx_copy_vma_and_data+0x10/0x10
[   36.355804]  ? vms_complete_munmap_vmas+0x525/0x810
[   36.355819]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   36.355826]  ? __this_cpu_preempt_check+0x21/0x30
[   36.355838]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.355848]  ? mtree_range_walk+0x728/0xb70
[   36.355860]  ? __lock_acquire+0x412/0x22a0
[   36.355870]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.355879]  ? percpu_counter_add_batch+0xd9/0x210
[   36.355885]  ? debug_smp_processor_id+0x20/0x30
[   36.355896]  ? __this_cpu_preempt_check+0x21/0x30
[   36.355903]  ? lock_is_held_type+0xef/0x150
[   36.355915]  move_vma+0x689/0x1a60
[   36.355927]  ? __pfx_move_vma+0x10/0x10
[   36.355936]  ? cap_mmap_addr+0x58/0x140
[   36.355945]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.355969]  ? security_mmap_addr+0x63/0x1b0
[   36.355981]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.355990]  ? __get_unmapped_area+0x1a4/0x440
[   36.356002]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.356012]  ? vrm_set_new_addr+0x21d/0x2b0
[   36.356022]  __do_sys_mremap+0xeb4/0x1620
[   36.356032]  ? __pfx___do_sys_mremap+0x10/0x10
[   36.356042]  ? __this_cpu_preempt_check+0x21/0x30
[   36.356055]  ? __this_cpu_preempt_check+0x21/0x30
[   36.356074]  __x64_sys_mremap+0xc7/0x150
[   36.356081]  ? syscall_trace_enter+0x14d/0x280
[   36.356091]  x64_sys_call+0x1933/0x2150
[   36.356098]  do_syscall_64+0x6d/0x2e0
[   36.356109]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.356115] RIP: 0033:0x7fc7a043ee5d
[   36.356123] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   36.356129] RSP: 002b:00007fff7f1564c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   36.356136] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fc7a043ee5d
[   36.356140] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   36.356143] RBP: 00007fff7f1564d0 R08: 000000002038d000 R09: 0000000000000001
[   36.356147] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff7f1565e8
[   36.356151] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fc7a06cc000
[   36.356164]  </TASK>
[   37.351910] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   37.352370] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1422, name: repro
[   37.352740] preempt_count: 1, expected: 0
[   37.352934] RCU nest depth: 1, expected: 0
[   37.353136] 4 locks held by repro/1422:
[   37.353328]  #0: ffff888019897560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   37.353765]  #1: ffff8880136a8e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   37.354215]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   37.354763]  #3: ffff88802287c198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   37.355234] Preemption disabled at:
[   37.355237] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   37.355714] CPU: 0 UID: 0 PID: 1422 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   37.355725] Tainted: [W]=WARN
[   37.355727] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.355732] Call Trace:
[   37.355734]  <TASK>
[   37.355737]  dump_stack_lvl+0x121/0x150
[   37.355751]  dump_stack+0x19/0x20
[   37.355760]  __might_resched+0x37b/0x5a0
[   37.355770]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.355785]  __might_sleep+0xa3/0x170
[   37.355794]  ? vm_normal_folio+0x8c/0x170
[   37.355805]  __relocate_anon_folios+0xf97/0x2960
[   37.355822]  ? reacquire_held_locks+0xdd/0x1f0
[   37.355848]  ? __pfx___relocate_anon_folios+0x10/0x10
[   37.355861]  ? lock_set_class+0x17a/0x260
[   37.355874]  copy_vma_and_data+0x606/0x1790
[   37.355887]  ? percpu_counter_add_batch+0xd9/0x210
[   37.355900]  ? __pfx_copy_vma_and_data+0x10/0x10
[   37.355907]  ? vms_complete_munmap_vmas+0x525/0x810
[   37.355922]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   37.355929]  ? __this_cpu_preempt_check+0x21/0x30
[   37.355943]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.355952]  ? mtree_range_walk+0x728/0xb70
[   37.355965]  ? __lock_acquire+0x412/0x22a0
[   37.355975]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.355985]  ? percpu_counter_add_batch+0xd9/0x210
[   37.355991]  ? debug_smp_processor_id+0x20/0x30
[   37.356002]  ? __this_cpu_preempt_check+0x21/0x30
[   37.356009]  ? lock_is_held_type+0xef/0x150
[   37.356022]  move_vma+0x689/0x1a60
[   37.356034]  ? __pfx_move_vma+0x10/0x10
[   37.356043]  ? cap_mmap_addr+0x58/0x140
[   37.356052]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.356062]  ? security_mmap_addr+0x63/0x1b0
[   37.356071]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.356081]  ? __get_unmapped_area+0x1a4/0x440
[   37.356093]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.356103]  ? vrm_set_new_addr+0x21d/0x2b0
[   37.356115]  __do_sys_mremap+0xeb4/0x1620
[   37.356126]  ? __pfx___do_sys_mremap+0x10/0x10
[   37.356144]  ? __this_cpu_preempt_check+0x21/0x30
[   37.356163]  __x64_sys_mremap+0xc7/0x150
[   37.356171]  ? syscall_trace_enter+0x14d/0x280
[   37.356181]  x64_sys_call+0x1933/0x2150
[   37.356188]  do_syscall_64+0x6d/0x2e0
[   37.356199]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.356205] RIP: 0033:0x7f57b243ee5d
[   37.356213] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   37.356219] RSP: 002b:00007ffe939ee918 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   37.356226] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f57b243ee5d
[   37.356230] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   37.356234] RBP: 00007ffe939ee920 R08: 000000002038d000 R09: 0000000000000001
[   37.356237] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe939eea38
[   37.356241] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f57b26ef000
[   37.356255]  </TASK>
[   38.363944] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   38.364452] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1455, name: repro
[   38.364844] preempt_count: 1, expected: 0
[   38.365053] RCU nest depth: 1, expected: 0
[   38.365282] 4 locks held by repro/1455:
[   38.365486]  #0: ffff88802b238c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   38.365954]  #1: ffff88802a404c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   38.366462]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   38.366951]  #3: ffff888025c3b8b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   38.367456] Preemption disabled at:
[   38.367459] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   38.367991] CPU: 0 UID: 0 PID: 1455 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   38.368003] Tainted: [W]=WARN
[   38.368005] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.368010] Call Trace:
[   38.368013]  <TASK>
[   38.368016]  dump_stack_lvl+0x121/0x150
[   38.368030]  dump_stack+0x19/0x20
[   38.368039]  __might_resched+0x37b/0x5a0
[   38.368050]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.368065]  __might_sleep+0xa3/0x170
[   38.368075]  ? vm_normal_folio+0x8c/0x170
[   38.368087]  __relocate_anon_folios+0xf97/0x2960
[   38.368108]  ? reacquire_held_locks+0xdd/0x1f0
[   38.368122]  ? __pfx___relocate_anon_folios+0x10/0x10
[   38.368135]  ? lock_set_class+0x17a/0x260
[   38.368150]  copy_vma_and_data+0x606/0x1790
[   38.368163]  ? percpu_counter_add_batch+0xd9/0x210
[   38.368176]  ? __pfx_copy_vma_and_data+0x10/0x10
[   38.368184]  ? vms_complete_munmap_vmas+0x525/0x810
[   38.368200]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   38.368207]  ? __this_cpu_preempt_check+0x21/0x30
[   38.368221]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.368231]  ? mtree_range_walk+0x728/0xb70
[   38.368244]  ? __lock_acquire+0x412/0x22a0
[   38.368255]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.368265]  ? percpu_counter_add_batch+0xd9/0x210
[   38.368271]  ? debug_smp_processor_id+0x20/0x30
[   38.368283]  ? __this_cpu_preempt_check+0x21/0x30
[   38.368290]  ? lock_is_held_type+0xef/0x150
[   38.368304]  move_vma+0x689/0x1a60
[   38.368316]  ? __pfx_move_vma+0x10/0x10
[   38.368326]  ? cap_mmap_addr+0x58/0x140
[   38.368335]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.368345]  ? security_mmap_addr+0x63/0x1b0
[   38.368355]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.368365]  ? __get_unmapped_area+0x1a4/0x440
[   38.368378]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.368388]  ? vrm_set_new_addr+0x21d/0x2b0
[   38.368398]  __do_sys_mremap+0xeb4/0x1620
[   38.368409]  ? __pfx___do_sys_mremap+0x10/0x10
[   38.368425]  ? __this_cpu_preempt_check+0x21/0x30
[   38.368439]  ? __this_cpu_preempt_check+0x21/0x30
[   38.368458]  __x64_sys_mremap+0xc7/0x150
[   38.368469]  ? syscall_trace_enter+0x14d/0x280
[   38.368480]  x64_sys_call+0x1933/0x2150
[   38.368487]  do_syscall_64+0x6d/0x2e0
[   38.368501]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.368508] RIP: 0033:0x7fcdb563ee5d
[   38.368516] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   38.368523] RSP: 002b:00007fff0859e758 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   38.368529] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcdb563ee5d
[   38.368534] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   38.368538] RBP: 00007fff0859e760 R08: 000000002038d000 R09: 0000000000000001
[   38.368542] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff0859e878
[   38.368546] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcdb5942000
[   38.368560]  </TASK>
[   39.383374] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   39.383849] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1492, name: repro
[   39.384221] preempt_count: 1, expected: 0
[   39.384420] RCU nest depth: 1, expected: 0
[   39.384631] 4 locks held by repro/1492:
[   39.384823]  #0: ffff888010f0e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   39.385266]  #1: ffff888025db6f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   39.385730]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   39.386161]  #3: ffff88802b5a8738 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   39.386666] Preemption disabled at:
[   39.386669] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   39.387154] CPU: 1 UID: 0 PID: 1492 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   39.387165] Tainted: [W]=WARN
[   39.387167] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.387172] Call Trace:
[   39.387174]  <TASK>
[   39.387177]  dump_stack_lvl+0x121/0x150
[   39.387191]  dump_stack+0x19/0x20
[   39.387200]  __might_resched+0x37b/0x5a0
[   39.387212]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.387226]  __might_sleep+0xa3/0x170
[   39.387236]  ? vm_normal_folio+0x8c/0x170
[   39.387247]  __relocate_anon_folios+0xf97/0x2960
[   39.387263]  ? reacquire_held_locks+0xdd/0x1f0
[   39.387276]  ? __pfx___relocate_anon_folios+0x10/0x10
[   39.387288]  ? lock_set_class+0x17a/0x260
[   39.387302]  copy_vma_and_data+0x606/0x1790
[   39.387314]  ? percpu_counter_add_batch+0xd9/0x210
[   39.387327]  ? __pfx_copy_vma_and_data+0x10/0x10
[   39.387335]  ? vms_complete_munmap_vmas+0x525/0x810
[   39.387364]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   39.387371]  ? __this_cpu_preempt_check+0x21/0x30
[   39.387384]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.387394]  ? mtree_range_walk+0x728/0xb70
[   39.387406]  ? __lock_acquire+0x412/0x22a0
[   39.387416]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.387426]  ? percpu_counter_add_batch+0xd9/0x210
[   39.387432]  ? debug_smp_processor_id+0x20/0x30
[   39.387443]  ? __this_cpu_preempt_check+0x21/0x30
[   39.387450]  ? lock_is_held_type+0xef/0x150
[   39.387463]  move_vma+0x689/0x1a60
[   39.387475]  ? __pfx_move_vma+0x10/0x10
[   39.387484]  ? cap_mmap_addr+0x58/0x140
[   39.387493]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.387506]  ? security_mmap_addr+0x63/0x1b0
[   39.387515]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.387525]  ? __get_unmapped_area+0x1a4/0x440
[   39.387537]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.387547]  ? vrm_set_new_addr+0x21d/0x2b0
[   39.387557]  __do_sys_mremap+0xeb4/0x1620
[   39.387567]  ? __pfx___do_sys_mremap+0x10/0x10
[   39.387577]  ? __this_cpu_preempt_check+0x21/0x30
[   39.387591]  ? __this_cpu_preempt_check+0x21/0x30
[   39.387610]  __x64_sys_mremap+0xc7/0x150
[   39.387618]  ? syscall_trace_enter+0x14d/0x280
[   39.387628]  x64_sys_call+0x1933/0x2150
[   39.387635]  do_syscall_64+0x6d/0x2e0
[   39.387646]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.387653] RIP: 0033:0x7f328ee3ee5d
[   39.387664] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   39.387670] RSP: 002b:00007ffc2c0ad528 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   39.387677] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f328ee3ee5d
[   39.387682] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   39.387685] RBP: 00007ffc2c0ad530 R08: 000000002038d000 R09: 0000000000000001
[   39.387689] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc2c0ad648
[   39.387693] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f328f1f7000
[   39.387707]  </TASK>
[   40.404264] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   40.404724] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1527, name: repro
[   40.405099] preempt_count: 1, expected: 0
[   40.405303] RCU nest depth: 1, expected: 0
[   40.405511] 4 locks held by repro/1527:
[   40.405707]  #0: ffff8880183740e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   40.406173]  #1: ffff88802be178f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   40.406661]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   40.407108]  #3: ffff88802b692918 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   40.407595] Preemption disabled at:
[   40.407612] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   40.408099] CPU: 1 UID: 0 PID: 1527 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   40.408110] Tainted: [W]=WARN
[   40.408112] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.408117] Call Trace:
[   40.408119]  <TASK>
[   40.408122]  dump_stack_lvl+0x121/0x150
[   40.408136]  dump_stack+0x19/0x20
[   40.408145]  __might_resched+0x37b/0x5a0
[   40.408156]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.408171]  __might_sleep+0xa3/0x170
[   40.408180]  ? vm_normal_folio+0x8c/0x170
[   40.408191]  __relocate_anon_folios+0xf97/0x2960
[   40.408208]  ? reacquire_held_locks+0xdd/0x1f0
[   40.408221]  ? __pfx___relocate_anon_folios+0x10/0x10
[   40.408233]  ? lock_set_class+0x17a/0x260
[   40.408247]  copy_vma_and_data+0x606/0x1790
[   40.408260]  ? percpu_counter_add_batch+0xd9/0x210
[   40.408273]  ? __pfx_copy_vma_and_data+0x10/0x10
[   40.408280]  ? vms_complete_munmap_vmas+0x525/0x810
[   40.408295]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   40.408302]  ? __this_cpu_preempt_check+0x21/0x30
[   40.408315]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.408325]  ? mtree_range_walk+0x728/0xb70
[   40.408337]  ? __lock_acquire+0x412/0x22a0
[   40.408347]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.408357]  ? percpu_counter_add_batch+0xd9/0x210
[   40.408363]  ? debug_smp_processor_id+0x20/0x30
[   40.408374]  ? __this_cpu_preempt_check+0x21/0x30
[   40.408381]  ? lock_is_held_type+0xef/0x150
[   40.408394]  move_vma+0x689/0x1a60
[   40.408406]  ? __pfx_move_vma+0x10/0x10
[   40.408415]  ? cap_mmap_addr+0x58/0x140
[   40.408424]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.408434]  ? security_mmap_addr+0x63/0x1b0
[   40.408443]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.408453]  ? __get_unmapped_area+0x1a4/0x440
[   40.408465]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.408475]  ? vrm_set_new_addr+0x21d/0x2b0
[   40.408485]  __do_sys_mremap+0xeb4/0x1620
[   40.408495]  ? __pfx___do_sys_mremap+0x10/0x10
[   40.408509]  ? __this_cpu_preempt_check+0x21/0x30
[   40.408523]  ? __this_cpu_preempt_check+0x21/0x30
[   40.408541]  __x64_sys_mremap+0xc7/0x150
[   40.408549]  ? syscall_trace_enter+0x14d/0x280
[   40.408559]  x64_sys_call+0x1933/0x2150
[   40.408568]  do_syscall_64+0x6d/0x2e0
[   40.408579]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.408586] RIP: 0033:0x7f21f603ee5d
[   40.408593] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   40.408605] RSP: 002b:00007ffd06798898 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   40.408612] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f21f603ee5d
[   40.408616] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   40.408620] RBP: 00007ffd067988a0 R08: 000000002038d000 R09: 0000000000000001
[   40.408624] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd067989b8
[   40.408627] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f21f6447000
[   40.408641]  </TASK>
[   41.406953] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   41.407423] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1561, name: repro
[   41.407805] preempt_count: 1, expected: 0
[   41.408006] RCU nest depth: 1, expected: 0
[   41.408211] 4 locks held by repro/1561:
[   41.408404]  #0: ffff88801985eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   41.408884]  #1: ffff88802a73c5c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   41.409346]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   41.409785]  #3: ffff88802714d8b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   41.410280] Preemption disabled at:
[   41.410283] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   41.410808] CPU: 1 UID: 0 PID: 1561 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   41.410819] Tainted: [W]=WARN
[   41.410821] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.410826] Call Trace:
[   41.410828]  <TASK>
[   41.410831]  dump_stack_lvl+0x121/0x150
[   41.410846]  dump_stack+0x19/0x20
[   41.410855]  __might_resched+0x37b/0x5a0
[   41.410866]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.410881]  __might_sleep+0xa3/0x170
[   41.410891]  ? vm_normal_folio+0x8c/0x170
[   41.410902]  __relocate_anon_folios+0xf97/0x2960
[   41.410919]  ? reacquire_held_locks+0xdd/0x1f0
[   41.410933]  ? __pfx___relocate_anon_folios+0x10/0x10
[   41.410945]  ? lock_set_class+0x17a/0x260
[   41.410960]  copy_vma_and_data+0x606/0x1790
[   41.410972]  ? percpu_counter_add_batch+0xd9/0x210
[   41.410986]  ? __pfx_copy_vma_and_data+0x10/0x10
[   41.410993]  ? vms_complete_munmap_vmas+0x525/0x810
[   41.411009]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   41.411016]  ? __this_cpu_preempt_check+0x21/0x30
[   41.411030]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.411040]  ? mtree_range_walk+0x728/0xb70
[   41.411053]  ? __lock_acquire+0x412/0x22a0
[   41.411063]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.411086]  ? percpu_counter_add_batch+0xd9/0x210
[   41.411092]  ? debug_smp_processor_id+0x20/0x30
[   41.411104]  ? __this_cpu_preempt_check+0x21/0x30
[   41.411111]  ? lock_is_held_type+0xef/0x150
[   41.411124]  move_vma+0x689/0x1a60
[   41.411136]  ? __pfx_move_vma+0x10/0x10
[   41.411146]  ? cap_mmap_addr+0x58/0x140
[   41.411155]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.411165]  ? security_mmap_addr+0x63/0x1b0
[   41.411175]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.411185]  ? __get_unmapped_area+0x1a4/0x440
[   41.411197]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.411207]  ? vrm_set_new_addr+0x21d/0x2b0
[   41.411217]  __do_sys_mremap+0xeb4/0x1620
[   41.411228]  ? __pfx___do_sys_mremap+0x10/0x10
[   41.411239]  ? __this_cpu_preempt_check+0x21/0x30
[   41.411253]  ? __this_cpu_preempt_check+0x21/0x30
[   41.411272]  __x64_sys_mremap+0xc7/0x150
[   41.411280]  ? syscall_trace_enter+0x14d/0x280
[   41.411291]  x64_sys_call+0x1933/0x2150
[   41.411298]  do_syscall_64+0x6d/0x2e0
[   41.411309]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.411316] RIP: 0033:0x7fa1e243ee5d
[   41.411324] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   41.411331] RSP: 002b:00007fff22816068 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   41.411338] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa1e243ee5d
[   41.411345] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   41.411349] RBP: 00007fff22816070 R08: 000000002038d000 R09: 0000000000000001
[   41.411353] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff22816188
[   41.411357] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa1e271d000
[   41.411370]  </TASK>
[   42.417019] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   42.417470] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1595, name: repro
[   42.417835] preempt_count: 1, expected: 0
[   42.418031] RCU nest depth: 1, expected: 0
[   42.418233] 4 locks held by repro/1595:
[   42.418422]  #0: ffff8880252a6ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   42.418883]  #1: ffff888011dc7188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   42.419332]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   42.419755]  #3: ffff88802a595198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   42.420220] Preemption disabled at:
[   42.420223] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   42.420702] CPU: 1 UID: 0 PID: 1595 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   42.420713] Tainted: [W]=WARN
[   42.420715] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.420720] Call Trace:
[   42.420734]  <TASK>
[   42.420737]  dump_stack_lvl+0x121/0x150
[   42.420751]  dump_stack+0x19/0x20
[   42.420759]  __might_resched+0x37b/0x5a0
[   42.420771]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.420785]  __might_sleep+0xa3/0x170
[   42.420794]  ? vm_normal_folio+0x8c/0x170
[   42.420805]  __relocate_anon_folios+0xf97/0x2960
[   42.420821]  ? reacquire_held_locks+0xdd/0x1f0
[   42.420834]  ? __pfx___relocate_anon_folios+0x10/0x10
[   42.420846]  ? lock_set_class+0x17a/0x260
[   42.420860]  copy_vma_and_data+0x606/0x1790
[   42.420872]  ? percpu_counter_add_batch+0xd9/0x210
[   42.420885]  ? __pfx_copy_vma_and_data+0x10/0x10
[   42.420892]  ? vms_complete_munmap_vmas+0x525/0x810
[   42.420907]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   42.420914]  ? __this_cpu_preempt_check+0x21/0x30
[   42.420926]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.420936]  ? mtree_range_walk+0x728/0xb70
[   42.420948]  ? __lock_acquire+0x412/0x22a0
[   42.420958]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.420967]  ? percpu_counter_add_batch+0xd9/0x210
[   42.420973]  ? debug_smp_processor_id+0x20/0x30
[   42.420984]  ? __this_cpu_preempt_check+0x21/0x30
[   42.420990]  ? lock_is_held_type+0xef/0x150
[   42.421003]  move_vma+0x689/0x1a60
[   42.421014]  ? __pfx_move_vma+0x10/0x10
[   42.421023]  ? cap_mmap_addr+0x58/0x140
[   42.421032]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.421042]  ? security_mmap_addr+0x63/0x1b0
[   42.421051]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.421060]  ? __get_unmapped_area+0x1a4/0x440
[   42.421072]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.421082]  ? vrm_set_new_addr+0x21d/0x2b0
[   42.421091]  __do_sys_mremap+0xeb4/0x1620
[   42.421101]  ? __pfx___do_sys_mremap+0x10/0x10
[   42.421111]  ? __this_cpu_preempt_check+0x21/0x30
[   42.421124]  ? __this_cpu_preempt_check+0x21/0x30
[   42.421142]  __x64_sys_mremap+0xc7/0x150
[   42.421150]  ? syscall_trace_enter+0x14d/0x280
[   42.421160]  x64_sys_call+0x1933/0x2150
[   42.421167]  do_syscall_64+0x6d/0x2e0
[   42.421178]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.421184] RIP: 0033:0x7f875583ee5d
[   42.421192] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   42.421198] RSP: 002b:00007fff9aaa2308 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   42.421204] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f875583ee5d
[   42.421211] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   42.421214] RBP: 00007fff9aaa2310 R08: 000000002038d000 R09: 0000000000000001
[   42.421221] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff9aaa2428
[   42.421225] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8755b2e000
[   42.421238]  </TASK>
[   43.418909] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   43.419396] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1630, name: repro
[   43.419791] preempt_count: 1, expected: 0
[   43.420001] RCU nest depth: 1, expected: 0
[   43.420227] 4 locks held by repro/1630:
[   43.420433]  #0: ffff88802bd0e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   43.420903]  #1: ffff888015ad87e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   43.421387]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   43.421842]  #3: ffff8880271e4af8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   43.422346] Preemption disabled at:
[   43.422349] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   43.422873] CPU: 0 UID: 0 PID: 1630 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   43.422885] Tainted: [W]=WARN
[   43.422887] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.422892] Call Trace:
[   43.422894]  <TASK>
[   43.422898]  dump_stack_lvl+0x121/0x150
[   43.422911]  dump_stack+0x19/0x20
[   43.422920]  __might_resched+0x37b/0x5a0
[   43.422931]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.422946]  __might_sleep+0xa3/0x170
[   43.422955]  ? vm_normal_folio+0x8c/0x170
[   43.422967]  __relocate_anon_folios+0xf97/0x2960
[   43.422984]  ? reacquire_held_locks+0xdd/0x1f0
[   43.422997]  ? __pfx___relocate_anon_folios+0x10/0x10
[   43.423010]  ? lock_set_class+0x17a/0x260
[   43.423025]  copy_vma_and_data+0x606/0x1790
[   43.423038]  ? percpu_counter_add_batch+0xd9/0x210
[   43.423050]  ? __pfx_copy_vma_and_data+0x10/0x10
[   43.423068]  ? vms_complete_munmap_vmas+0x525/0x810
[   43.423084]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   43.423092]  ? __this_cpu_preempt_check+0x21/0x30
[   43.423104]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.423115]  ? mtree_range_walk+0x728/0xb70
[   43.423127]  ? __lock_acquire+0x412/0x22a0
[   43.423138]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.423149]  ? percpu_counter_add_batch+0xd9/0x210
[   43.423155]  ? debug_smp_processor_id+0x20/0x30
[   43.423167]  ? __this_cpu_preempt_check+0x21/0x30
[   43.423174]  ? lock_is_held_type+0xef/0x150
[   43.423187]  move_vma+0x689/0x1a60
[   43.423200]  ? __pfx_move_vma+0x10/0x10
[   43.423212]  ? cap_mmap_addr+0x58/0x140
[   43.423221]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.423232]  ? security_mmap_addr+0x63/0x1b0
[   43.423241]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.423251]  ? __get_unmapped_area+0x1a4/0x440
[   43.423264]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.423274]  ? vrm_set_new_addr+0x21d/0x2b0
[   43.423284]  __do_sys_mremap+0xeb4/0x1620
[   43.423295]  ? __pfx___do_sys_mremap+0x10/0x10
[   43.423306]  ? __this_cpu_preempt_check+0x21/0x30
[   43.423321]  ? __this_cpu_preempt_check+0x21/0x30
[   43.423340]  __x64_sys_mremap+0xc7/0x150
[   43.423348]  ? syscall_trace_enter+0x14d/0x280
[   43.423358]  x64_sys_call+0x1933/0x2150
[   43.423366]  do_syscall_64+0x6d/0x2e0
[   43.423377]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.423384] RIP: 0033:0x7f63b643ee5d
[   43.423392] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   43.423399] RSP: 002b:00007ffe850de1e8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   43.423405] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f63b643ee5d
[   43.423410] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   43.423414] RBP: 00007ffe850de1f0 R08: 000000002038d000 R09: 0000000000000001
[   43.423418] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe850de308
[   43.423422] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f63b6778000
[   43.423436]  </TASK>
[   44.443503] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   44.443983] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1665, name: repro
[   44.444334] preempt_count: 1, expected: 0
[   44.444525] RCU nest depth: 1, expected: 0
[   44.444722] 4 locks held by repro/1665:
[   44.444906]  #0: ffff8880242596e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   44.445328]  #1: ffff88802b1087e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   44.445768]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   44.446177]  #3: ffff888015afbd98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   44.446716] Preemption disabled at:
[   44.446719] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   44.447195] CPU: 0 UID: 0 PID: 1665 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   44.447206] Tainted: [W]=WARN
[   44.447208] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.447213] Call Trace:
[   44.447215]  <TASK>
[   44.447218]  dump_stack_lvl+0x121/0x150
[   44.447232]  dump_stack+0x19/0x20
[   44.447240]  __might_resched+0x37b/0x5a0
[   44.447251]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.447265]  __might_sleep+0xa3/0x170
[   44.447278]  ? vm_normal_folio+0x8c/0x170
[   44.447291]  __relocate_anon_folios+0xf97/0x2960
[   44.447307]  ? reacquire_held_locks+0xdd/0x1f0
[   44.447319]  ? __pfx___relocate_anon_folios+0x10/0x10
[   44.447332]  ? lock_set_class+0x17a/0x260
[   44.447345]  copy_vma_and_data+0x606/0x1790
[   44.447357]  ? percpu_counter_add_batch+0xd9/0x210
[   44.447370]  ? __pfx_copy_vma_and_data+0x10/0x10
[   44.447377]  ? vms_complete_munmap_vmas+0x525/0x810
[   44.447392]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   44.447399]  ? __this_cpu_preempt_check+0x21/0x30
[   44.447412]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.447422]  ? mtree_range_walk+0x728/0xb70
[   44.447434]  ? __lock_acquire+0x412/0x22a0
[   44.447444]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.447453]  ? percpu_counter_add_batch+0xd9/0x210
[   44.447459]  ? debug_smp_processor_id+0x20/0x30
[   44.447470]  ? __this_cpu_preempt_check+0x21/0x30
[   44.447477]  ? lock_is_held_type+0xef/0x150
[   44.447489]  move_vma+0x689/0x1a60
[   44.447504]  ? __pfx_move_vma+0x10/0x10
[   44.447512]  ? cap_mmap_addr+0x58/0x140
[   44.447522]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.447531]  ? security_mmap_addr+0x63/0x1b0
[   44.447540]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.447550]  ? __get_unmapped_area+0x1a4/0x440
[   44.447561]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.447571]  ? vrm_set_new_addr+0x21d/0x2b0
[   44.447580]  __do_sys_mremap+0xeb4/0x1620
[   44.447590]  ? __pfx___do_sys_mremap+0x10/0x10
[   44.447601]  ? __this_cpu_preempt_check+0x21/0x30
[   44.447614]  ? __this_cpu_preempt_check+0x21/0x30
[   44.447632]  __x64_sys_mremap+0xc7/0x150
[   44.447640]  ? syscall_trace_enter+0x14d/0x280
[   44.447649]  x64_sys_call+0x1933/0x2150
[   44.447657]  do_syscall_64+0x6d/0x2e0
[   44.447667]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.447674] RIP: 0033:0x7fd3f7e3ee5d
[   44.447681] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   44.447687] RSP: 002b:00007fff36f44928 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   44.447693] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fd3f7e3ee5d
[   44.447697] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   44.447701] RBP: 00007fff36f44930 R08: 000000002038d000 R09: 0000000000000001
[   44.447705] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff36f44a48
[   44.447708] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fd3f8058000
[   44.447721]  </TASK>
[   45.449164] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   45.449659] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1699, name: repro
[   45.450039] preempt_count: 1, expected: 0
[   45.450249] RCU nest depth: 1, expected: 0
[   45.450860] 4 locks held by repro/1699:
[   45.451050]  #0: ffff8880124f8c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   45.451487]  #1: ffff88802a4777e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   45.451956]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   45.452390]  #3: ffff8880136c1558 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   45.452872] Preemption disabled at:
[   45.452875] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   45.453359] CPU: 1 UID: 0 PID: 1699 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   45.453370] Tainted: [W]=WARN
[   45.453372] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.453377] Call Trace:
[   45.453380]  <TASK>
[   45.453382]  dump_stack_lvl+0x121/0x150
[   45.453396]  dump_stack+0x19/0x20
[   45.453405]  __might_resched+0x37b/0x5a0
[   45.453417]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.453431]  __might_sleep+0xa3/0x170
[   45.453440]  ? vm_normal_folio+0x8c/0x170
[   45.453451]  __relocate_anon_folios+0xf97/0x2960
[   45.453468]  ? reacquire_held_locks+0xdd/0x1f0
[   45.453481]  ? __pfx___relocate_anon_folios+0x10/0x10
[   45.453493]  ? lock_set_class+0x17a/0x260
[   45.453509]  copy_vma_and_data+0x606/0x1790
[   45.453522]  ? percpu_counter_add_batch+0xd9/0x210
[   45.453535]  ? __pfx_copy_vma_and_data+0x10/0x10
[   45.453542]  ? vms_complete_munmap_vmas+0x525/0x810
[   45.453557]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   45.453565]  ? __this_cpu_preempt_check+0x21/0x30
[   45.453577]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.453587]  ? mtree_range_walk+0x728/0xb70
[   45.453600]  ? __lock_acquire+0x412/0x22a0
[   45.453610]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.453620]  ? percpu_counter_add_batch+0xd9/0x210
[   45.453625]  ? debug_smp_processor_id+0x20/0x30
[   45.453637]  ? __this_cpu_preempt_check+0x21/0x30
[   45.453643]  ? lock_is_held_type+0xef/0x150
[   45.453656]  move_vma+0x689/0x1a60
[   45.453668]  ? __pfx_move_vma+0x10/0x10
[   45.453677]  ? cap_mmap_addr+0x58/0x140
[   45.453687]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.453697]  ? security_mmap_addr+0x63/0x1b0
[   45.453706]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.453716]  ? __get_unmapped_area+0x1a4/0x440
[   45.453730]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.453740]  ? vrm_set_new_addr+0x21d/0x2b0
[   45.453750]  __do_sys_mremap+0xeb4/0x1620
[   45.453760]  ? __pfx___do_sys_mremap+0x10/0x10
[   45.453779]  ? __this_cpu_preempt_check+0x21/0x30
[   45.453797]  __x64_sys_mremap+0xc7/0x150
[   45.453805]  ? syscall_trace_enter+0x14d/0x280
[   45.453815]  x64_sys_call+0x1933/0x2150
[   45.453823]  do_syscall_64+0x6d/0x2e0
[   45.453834]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.453841] RIP: 0033:0x7f43f4c3ee5d
[   45.453848] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   45.453855] RSP: 002b:00007ffdcf7958f8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   45.453861] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f43f4c3ee5d
[   45.453865] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   45.453869] RBP: 00007ffdcf795900 R08: 000000002038d000 R09: 0000000000000001
[   45.453873] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdcf795a18
[   45.453877] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f43f4f0f000
[   45.453890]  </TASK>
[   46.449870] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   46.450359] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1733, name: repro
[   46.450790] preempt_count: 1, expected: 0
[   46.451002] RCU nest depth: 1, expected: 0
[   46.451215] 4 locks held by repro/1733:
[   46.451418]  #0: ffff88801711d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   46.451889]  #1: ffff888013faa8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   46.452384]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   46.452843]  #3: ffff88802a400f78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   46.453346] Preemption disabled at:
[   46.453349] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   46.453871] CPU: 1 UID: 0 PID: 1733 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   46.453883] Tainted: [W]=WARN
[   46.453885] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.453891] Call Trace:
[   46.453893]  <TASK>
[   46.453896]  dump_stack_lvl+0x121/0x150
[   46.453911]  dump_stack+0x19/0x20
[   46.453920]  __might_resched+0x37b/0x5a0
[   46.453931]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.453947]  __might_sleep+0xa3/0x170
[   46.453957]  ? vm_normal_folio+0x8c/0x170
[   46.453968]  __relocate_anon_folios+0xf97/0x2960
[   46.453986]  ? reacquire_held_locks+0xdd/0x1f0
[   46.454000]  ? __pfx___relocate_anon_folios+0x10/0x10
[   46.454013]  ? lock_set_class+0x17a/0x260
[   46.454027]  copy_vma_and_data+0x606/0x1790
[   46.454041]  ? percpu_counter_add_batch+0xd9/0x210
[   46.454058]  ? __pfx_copy_vma_and_data+0x10/0x10
[   46.454065]  ? vms_complete_munmap_vmas+0x525/0x810
[   46.454082]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   46.454089]  ? __this_cpu_preempt_check+0x21/0x30
[   46.454103]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.454113]  ? mtree_range_walk+0x728/0xb70
[   46.454126]  ? __lock_acquire+0x412/0x22a0
[   46.454137]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.454147]  ? percpu_counter_add_batch+0xd9/0x210
[   46.454154]  ? debug_smp_processor_id+0x20/0x30
[   46.454165]  ? __this_cpu_preempt_check+0x21/0x30
[   46.454173]  ? lock_is_held_type+0xef/0x150
[   46.454186]  move_vma+0x689/0x1a60
[   46.454199]  ? __pfx_move_vma+0x10/0x10
[   46.454208]  ? cap_mmap_addr+0x58/0x140
[   46.454218]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.454228]  ? security_mmap_addr+0x63/0x1b0
[   46.454237]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.454248]  ? __get_unmapped_area+0x1a4/0x440
[   46.454260]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.454271]  ? vrm_set_new_addr+0x21d/0x2b0
[   46.454281]  __do_sys_mremap+0xeb4/0x1620
[   46.454292]  ? __pfx___do_sys_mremap+0x10/0x10
[   46.454303]  ? __this_cpu_preempt_check+0x21/0x30
[   46.454318]  ? __this_cpu_preempt_check+0x21/0x30
[   46.454337]  __x64_sys_mremap+0xc7/0x150
[   46.454345]  ? syscall_trace_enter+0x14d/0x280
[   46.454355]  x64_sys_call+0x1933/0x2150
[   46.454363]  do_syscall_64+0x6d/0x2e0
[   46.454375]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.454382] RIP: 0033:0x7f040a63ee5d
[   46.454390] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   46.454397] RSP: 002b:00007ffc4b060f38 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   46.454404] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f040a63ee5d
[   46.454408] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   46.454412] RBP: 00007ffc4b060f40 R08: 000000002038d000 R09: 0000000000000001
[   46.454417] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc4b061058
[   46.454421] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f040a9fc000
[   46.454441]  </TASK>
[   47.449092] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   47.449541] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1766, name: repro
[   47.449894] preempt_count: 1, expected: 0
[   47.450083] RCU nest depth: 1, expected: 0
[   47.450275] 4 locks held by repro/1766:
[   47.450485]  #0: ffff888019892be0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   47.450915]  #1: ffff88802b1fdc28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   47.451363]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   47.451778]  #3: ffff88802b2e6858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   47.452239] Preemption disabled at:
[   47.452242] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   47.452699] CPU: 0 UID: 0 PID: 1766 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   47.452710] Tainted: [W]=WARN
[   47.452712] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.452717] Call Trace:
[   47.452719]  <TASK>
[   47.452723]  dump_stack_lvl+0x121/0x150
[   47.452737]  dump_stack+0x19/0x20
[   47.452745]  __might_resched+0x37b/0x5a0
[   47.452756]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.452770]  __might_sleep+0xa3/0x170
[   47.452780]  ? vm_normal_folio+0x8c/0x170
[   47.452790]  __relocate_anon_folios+0xf97/0x2960
[   47.452806]  ? reacquire_held_locks+0xdd/0x1f0
[   47.452819]  ? __pfx___relocate_anon_folios+0x10/0x10
[   47.452831]  ? lock_set_class+0x17a/0x260
[   47.452844]  copy_vma_and_data+0x606/0x1790
[   47.452856]  ? percpu_counter_add_batch+0xd9/0x210
[   47.452870]  ? __pfx_copy_vma_and_data+0x10/0x10
[   47.452877]  ? vms_complete_munmap_vmas+0x525/0x810
[   47.452891]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   47.452898]  ? __this_cpu_preempt_check+0x21/0x30
[   47.452911]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.452920]  ? mtree_range_walk+0x728/0xb70
[   47.452932]  ? __lock_acquire+0x412/0x22a0
[   47.452942]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.452952]  ? percpu_counter_add_batch+0xd9/0x210
[   47.452958]  ? debug_smp_processor_id+0x20/0x30
[   47.452969]  ? __this_cpu_preempt_check+0x21/0x30
[   47.452975]  ? lock_is_held_type+0xef/0x150
[   47.452988]  move_vma+0x689/0x1a60
[   47.452999]  ? __pfx_move_vma+0x10/0x10
[   47.453008]  ? cap_mmap_addr+0x58/0x140
[   47.453017]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.453027]  ? security_mmap_addr+0x63/0x1b0
[   47.453036]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.453045]  ? __get_unmapped_area+0x1a4/0x440
[   47.453057]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.453066]  ? vrm_set_new_addr+0x21d/0x2b0
[   47.453076]  __do_sys_mremap+0xeb4/0x1620
[   47.453086]  ? __pfx___do_sys_mremap+0x10/0x10
[   47.453096]  ? __this_cpu_preempt_check+0x21/0x30
[   47.453110]  ? __this_cpu_preempt_check+0x21/0x30
[   47.453127]  __x64_sys_mremap+0xc7/0x150
[   47.453137]  ? syscall_trace_enter+0x14d/0x280
[   47.453147]  x64_sys_call+0x1933/0x2150
[   47.453154]  do_syscall_64+0x6d/0x2e0
[   47.453164]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.453171] RIP: 0033:0x7ff3ac63ee5d
[   47.453178] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   47.453185] RSP: 002b:00007ffc11d31ff8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   47.453191] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff3ac63ee5d
[   47.453195] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   47.453199] RBP: 00007ffc11d32000 R08: 000000002038d000 R09: 0000000000000001
[   47.453202] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc11d32118
[   47.453206] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff3ac89d000
[   47.453219]  </TASK>
[   48.460238] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   48.460709] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1801, name: repro
[   48.461080] preempt_count: 1, expected: 0
[   48.461279] RCU nest depth: 1, expected: 0
[   48.461482] 4 locks held by repro/1801:
[   48.461675]  #0: ffff888018326ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   48.462126]  #1: ffff888025ed73a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   48.462612]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   48.463034]  #3: ffff88802a63cf78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   48.463511] Preemption disabled at:
[   48.463514] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   48.464011] CPU: 1 UID: 0 PID: 1801 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   48.464022] Tainted: [W]=WARN
[   48.464025] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.464029] Call Trace:
[   48.464032]  <TASK>
[   48.464035]  dump_stack_lvl+0x121/0x150
[   48.464049]  dump_stack+0x19/0x20
[   48.464058]  __might_resched+0x37b/0x5a0
[   48.464069]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.464083]  __might_sleep+0xa3/0x170
[   48.464093]  ? vm_normal_folio+0x8c/0x170
[   48.464104]  __relocate_anon_folios+0xf97/0x2960
[   48.464120]  ? reacquire_held_locks+0xdd/0x1f0
[   48.464133]  ? __pfx___relocate_anon_folios+0x10/0x10
[   48.464145]  ? lock_set_class+0x17a/0x260
[   48.464159]  copy_vma_and_data+0x606/0x1790
[   48.464172]  ? percpu_counter_add_batch+0xd9/0x210
[   48.464185]  ? __pfx_copy_vma_and_data+0x10/0x10
[   48.464192]  ? vms_complete_munmap_vmas+0x525/0x810
[   48.464207]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   48.464214]  ? __this_cpu_preempt_check+0x21/0x30
[   48.464226]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.464240]  ? mtree_range_walk+0x728/0xb70
[   48.464252]  ? __lock_acquire+0x412/0x22a0
[   48.464262]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.464272]  ? percpu_counter_add_batch+0xd9/0x210
[   48.464280]  ? debug_smp_processor_id+0x20/0x30
[   48.464291]  ? __this_cpu_preempt_check+0x21/0x30
[   48.464298]  ? lock_is_held_type+0xef/0x150
[   48.464311]  move_vma+0x689/0x1a60
[   48.464323]  ? __pfx_move_vma+0x10/0x10
[   48.464332]  ? cap_mmap_addr+0x58/0x140
[   48.464341]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.464351]  ? security_mmap_addr+0x63/0x1b0
[   48.464360]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.464370]  ? __get_unmapped_area+0x1a4/0x440
[   48.464382]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.464392]  ? vrm_set_new_addr+0x21d/0x2b0
[   48.464402]  __do_sys_mremap+0xeb4/0x1620
[   48.464412]  ? __pfx___do_sys_mremap+0x10/0x10
[   48.464430]  ? __this_cpu_preempt_check+0x21/0x30
[   48.464449]  __x64_sys_mremap+0xc7/0x150
[   48.464457]  ? syscall_trace_enter+0x14d/0x280
[   48.464467]  x64_sys_call+0x1933/0x2150
[   48.464474]  do_syscall_64+0x6d/0x2e0
[   48.464485]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.464491] RIP: 0033:0x7ff21be3ee5d
[   48.464503] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   48.464509] RSP: 002b:00007ffc688b71d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   48.464516] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff21be3ee5d
[   48.464520] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   48.464524] RBP: 00007ffc688b71e0 R08: 000000002038d000 R09: 0000000000000001
[   48.464528] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc688b72f8
[   48.464532] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff21c0c9000
[   48.464545]  </TASK>
[   49.485876] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   49.486376] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1836, name: repro
[   49.486801] preempt_count: 1, expected: 0
[   49.487012] RCU nest depth: 1, expected: 0
[   49.487225] 4 locks held by repro/1836:
[   49.487451]  #0: ffff88802b2396e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   49.487917]  #1: ffff88801b0d5a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   49.488398]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   49.488852]  #3: ffff88802b181c18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   49.489355] Preemption disabled at:
[   49.489358] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   49.489867] CPU: 1 UID: 0 PID: 1836 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   49.489879] Tainted: [W]=WARN
[   49.489882] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.489905] Call Trace:
[   49.489907]  <TASK>
[   49.489911]  dump_stack_lvl+0x121/0x150
[   49.489926]  dump_stack+0x19/0x20
[   49.489935]  __might_resched+0x37b/0x5a0
[   49.489947]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.489962]  __might_sleep+0xa3/0x170
[   49.489972]  ? vm_normal_folio+0x8c/0x170
[   49.489984]  __relocate_anon_folios+0xf97/0x2960
[   49.490001]  ? reacquire_held_locks+0xdd/0x1f0
[   49.490015]  ? __pfx___relocate_anon_folios+0x10/0x10
[   49.490028]  ? lock_set_class+0x17a/0x260
[   49.490042]  copy_vma_and_data+0x606/0x1790
[   49.490056]  ? percpu_counter_add_batch+0xd9/0x210
[   49.490070]  ? __pfx_copy_vma_and_data+0x10/0x10
[   49.490077]  ? vms_complete_munmap_vmas+0x525/0x810
[   49.490094]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   49.490101]  ? __this_cpu_preempt_check+0x21/0x30
[   49.490115]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.490125]  ? mtree_range_walk+0x728/0xb70
[   49.490138]  ? __lock_acquire+0x412/0x22a0
[   49.490149]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.490160]  ? percpu_counter_add_batch+0xd9/0x210
[   49.490166]  ? debug_smp_processor_id+0x20/0x30
[   49.490178]  ? __this_cpu_preempt_check+0x21/0x30
[   49.490185]  ? lock_is_held_type+0xef/0x150
[   49.490199]  move_vma+0x689/0x1a60
[   49.490212]  ? __pfx_move_vma+0x10/0x10
[   49.490221]  ? cap_mmap_addr+0x58/0x140
[   49.490231]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.490241]  ? security_mmap_addr+0x63/0x1b0
[   49.490251]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.490261]  ? __get_unmapped_area+0x1a4/0x440
[   49.490274]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.490285]  ? vrm_set_new_addr+0x21d/0x2b0
[   49.490295]  __do_sys_mremap+0xeb4/0x1620
[   49.490306]  ? __pfx___do_sys_mremap+0x10/0x10
[   49.490325]  ? __this_cpu_preempt_check+0x21/0x30
[   49.490345]  __x64_sys_mremap+0xc7/0x150
[   49.490353]  ? syscall_trace_enter+0x14d/0x280
[   49.490364]  x64_sys_call+0x1933/0x2150
[   49.490372]  do_syscall_64+0x6d/0x2e0
[   49.490383]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.490391] RIP: 0033:0x7fec1303ee5d
[   49.490399] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   49.490406] RSP: 002b:00007ffcc6eb7728 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   49.490416] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fec1303ee5d
[   49.490423] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   49.490430] RBP: 00007ffcc6eb7730 R08: 000000002038d000 R09: 0000000000000001
[   49.490435] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcc6eb7848
[   49.490439] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fec132bc000
[   49.490458]  </TASK>
[   49.506189] systemd-journald[145]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   49.507266] systemd-journald[145]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   50.499610] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   50.500082] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1872, name: repro
[   50.500457] preempt_count: 1, expected: 0
[   50.500659] RCU nest depth: 1, expected: 0
[   50.500864] 4 locks held by repro/1872:
[   50.501060]  #0: ffff888013cb55e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   50.501507]  #1: ffff888025ef56d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   50.501973]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   50.502405]  #3: ffff888013d01c18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   50.502918] Preemption disabled at:
[   50.502921] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   50.503407] CPU: 1 UID: 0 PID: 1872 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   50.503432] Tainted: [W]=WARN
[   50.503435] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.503439] Call Trace:
[   50.503442]  <TASK>
[   50.503445]  dump_stack_lvl+0x121/0x150
[   50.503468]  dump_stack+0x19/0x20
[   50.503476]  __might_resched+0x37b/0x5a0
[   50.503488]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.503505]  __might_sleep+0xa3/0x170
[   50.503515]  ? vm_normal_folio+0x8c/0x170
[   50.503526]  __relocate_anon_folios+0xf97/0x2960
[   50.503542]  ? reacquire_held_locks+0xdd/0x1f0
[   50.503555]  ? __pfx___relocate_anon_folios+0x10/0x10
[   50.503567]  ? lock_set_class+0x17a/0x260
[   50.503581]  copy_vma_and_data+0x606/0x1790
[   50.503593]  ? percpu_counter_add_batch+0xd9/0x210
[   50.503606]  ? __pfx_copy_vma_and_data+0x10/0x10
[   50.503613]  ? vms_complete_munmap_vmas+0x525/0x810
[   50.503629]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   50.503636]  ? __this_cpu_preempt_check+0x21/0x30
[   50.503649]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.503658]  ? mtree_range_walk+0x728/0xb70
[   50.503671]  ? __lock_acquire+0x412/0x22a0
[   50.503681]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.503691]  ? percpu_counter_add_batch+0xd9/0x210
[   50.503697]  ? debug_smp_processor_id+0x20/0x30
[   50.503708]  ? __this_cpu_preempt_check+0x21/0x30
[   50.503717]  ? lock_is_held_type+0xef/0x150
[   50.503730]  move_vma+0x689/0x1a60
[   50.503742]  ? __pfx_move_vma+0x10/0x10
[   50.503751]  ? cap_mmap_addr+0x58/0x140
[   50.503760]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.503770]  ? security_mmap_addr+0x63/0x1b0
[   50.503779]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.503789]  ? __get_unmapped_area+0x1a4/0x440
[   50.503801]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.503810]  ? vrm_set_new_addr+0x21d/0x2b0
[   50.503820]  __do_sys_mremap+0xeb4/0x1620
[   50.503830]  ? __pfx___do_sys_mremap+0x10/0x10
[   50.503841]  ? __this_cpu_preempt_check+0x21/0x30
[   50.503855]  ? __this_cpu_preempt_check+0x21/0x30
[   50.503873]  __x64_sys_mremap+0xc7/0x150
[   50.503881]  ? syscall_trace_enter+0x14d/0x280
[   50.503891]  x64_sys_call+0x1933/0x2150
[   50.503898]  do_syscall_64+0x6d/0x2e0
[   50.503909]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.503915] RIP: 0033:0x7fea2823ee5d
[   50.503923] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   50.503930] RSP: 002b:00007ffcd47ee908 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   50.503936] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fea2823ee5d
[   50.503940] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   50.503944] RBP: 00007ffcd47ee910 R08: 000000002038d000 R09: 0000000000000001
[   50.503948] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcd47eea28
[   50.503952] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fea284bc000
[   50.503966]  </TASK>
[   51.514954] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   51.515977] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1905, name: repro
[   51.516844] preempt_count: 1, expected: 0
[   51.517301] RCU nest depth: 1, expected: 0
[   51.517779] 4 locks held by repro/1905:
[   51.518223]  #0: ffff888014d296e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   51.519289]  #1: ffff8880114ed298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   51.520342]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   51.521337]  #3: ffff88802a580858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   51.522466] Preemption disabled at:
[   51.522471] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   51.523592] CPU: 1 UID: 0 PID: 1905 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   51.523609] Tainted: [W]=WARN
[   51.523612] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.523625] Call Trace:
[   51.523628]  <TASK>
[   51.523633]  dump_stack_lvl+0x121/0x150
[   51.523654]  dump_stack+0x19/0x20
[   51.523667]  __might_resched+0x37b/0x5a0
[   51.523689]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.523711]  __might_sleep+0xa3/0x170
[   51.523725]  ? vm_normal_folio+0x8c/0x170
[   51.523741]  __relocate_anon_folios+0xf97/0x2960
[   51.523767]  ? reacquire_held_locks+0xdd/0x1f0
[   51.523786]  ? __pfx___relocate_anon_folios+0x10/0x10
[   51.523805]  ? lock_set_class+0x17a/0x260
[   51.523827]  copy_vma_and_data+0x606/0x1790
[   51.523846]  ? percpu_counter_add_batch+0xd9/0x210
[   51.523865]  ? __pfx_copy_vma_and_data+0x10/0x10
[   51.523876]  ? vms_complete_munmap_vmas+0x525/0x810
[   51.523900]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   51.523910]  ? __this_cpu_preempt_check+0x21/0x30
[   51.523934]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.523950]  ? mtree_range_walk+0x728/0xb70
[   51.523969]  ? __lock_acquire+0x412/0x22a0
[   51.523985]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.523999]  ? percpu_counter_add_batch+0xd9/0x210
[   51.524009]  ? debug_smp_processor_id+0x20/0x30
[   51.524026]  ? __this_cpu_preempt_check+0x21/0x30
[   51.524037]  ? lock_is_held_type+0xef/0x150
[   51.524056]  move_vma+0x689/0x1a60
[   51.524075]  ? __pfx_move_vma+0x10/0x10
[   51.524089]  ? cap_mmap_addr+0x58/0x140
[   51.524102]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.524117]  ? security_mmap_addr+0x63/0x1b0
[   51.524130]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.524145]  ? __get_unmapped_area+0x1a4/0x440
[   51.524163]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.524178]  ? vrm_set_new_addr+0x21d/0x2b0
[   51.524193]  __do_sys_mremap+0xeb4/0x1620
[   51.524209]  ? __pfx___do_sys_mremap+0x10/0x10
[   51.524225]  ? __this_cpu_preempt_check+0x21/0x30
[   51.524248]  ? __this_cpu_preempt_check+0x21/0x30
[   51.524277]  __x64_sys_mremap+0xc7/0x150
[   51.524290]  ? syscall_trace_enter+0x14d/0x280
[   51.524304]  x64_sys_call+0x1933/0x2150
[   51.524314]  do_syscall_64+0x6d/0x2e0
[   51.524331]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.524341] RIP: 0033:0x7f6fd1c3ee5d
[   51.524351] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   51.524361] RSP: 002b:00007ffec94ca4e8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   51.524371] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f6fd1c3ee5d
[   51.524378] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   51.524384] RBP: 00007ffec94ca4f0 R08: 000000002038d000 R09: 0000000000000001
[   51.524390] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffec94ca608
[   51.524402] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f6fd1fd9000
[   51.524425]  </TASK>
[   52.526878] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   52.527316] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1938, name: repro
[   52.527691] preempt_count: 1, expected: 0
[   52.527913] RCU nest depth: 1, expected: 0
[   52.528113] 4 locks held by repro/1938:
[   52.528301]  #0: ffff888014d2a160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   52.528735]  #1: ffff888011d1c8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   52.529179]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   52.529602]  #3: ffff888014f29138 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   52.530071] Preemption disabled at:
[   52.530074] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   52.530584] CPU: 1 UID: 0 PID: 1938 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   52.530596] Tainted: [W]=WARN
[   52.530598] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.530603] Call Trace:
[   52.530606]  <TASK>
[   52.530611]  dump_stack_lvl+0x121/0x150
[   52.530625]  dump_stack+0x19/0x20
[   52.530634]  __might_resched+0x37b/0x5a0
[   52.530656]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.530672]  __might_sleep+0xa3/0x170
[   52.530681]  ? vm_normal_folio+0x8c/0x170
[   52.530692]  __relocate_anon_folios+0xf97/0x2960
[   52.530709]  ? reacquire_held_locks+0xdd/0x1f0
[   52.530722]  ? __pfx___relocate_anon_folios+0x10/0x10
[   52.530734]  ? lock_set_class+0x17a/0x260
[   52.530748]  copy_vma_and_data+0x606/0x1790
[   52.530760]  ? percpu_counter_add_batch+0xd9/0x210
[   52.530773]  ? __pfx_copy_vma_and_data+0x10/0x10
[   52.530781]  ? vms_complete_munmap_vmas+0x525/0x810
[   52.530796]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   52.530803]  ? __this_cpu_preempt_check+0x21/0x30
[   52.530816]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.530826]  ? mtree_range_walk+0x728/0xb70
[   52.530838]  ? __lock_acquire+0x412/0x22a0
[   52.530848]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.530858]  ? percpu_counter_add_batch+0xd9/0x210
[   52.530864]  ? debug_smp_processor_id+0x20/0x30
[   52.530875]  ? __this_cpu_preempt_check+0x21/0x30
[   52.530882]  ? lock_is_held_type+0xef/0x150
[   52.530895]  move_vma+0x689/0x1a60
[   52.530907]  ? __pfx_move_vma+0x10/0x10
[   52.530916]  ? cap_mmap_addr+0x58/0x140
[   52.530925]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.530935]  ? security_mmap_addr+0x63/0x1b0
[   52.530947]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.530957]  ? __get_unmapped_area+0x1a4/0x440
[   52.530969]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.530979]  ? vrm_set_new_addr+0x21d/0x2b0
[   52.530988]  __do_sys_mremap+0xeb4/0x1620
[   52.530999]  ? __pfx___do_sys_mremap+0x10/0x10
[   52.531009]  ? __this_cpu_preempt_check+0x21/0x30
[   52.531024]  ? __this_cpu_preempt_check+0x21/0x30
[   52.531042]  __x64_sys_mremap+0xc7/0x150
[   52.531050]  ? syscall_trace_enter+0x14d/0x280
[   52.531060]  x64_sys_call+0x1933/0x2150
[   52.531067]  do_syscall_64+0x6d/0x2e0
[   52.531078]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.531085] RIP: 0033:0x7fa55b23ee5d
[   52.531093] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   52.531099] RSP: 002b:00007fff8eca8958 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   52.531106] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa55b23ee5d
[   52.531110] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   52.531114] RBP: 00007fff8eca8960 R08: 000000002038d000 R09: 0000000000000001
[   52.531118] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff8eca8a78
[   52.531122] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa55b633000
[   52.531135]  </TASK>
[   53.528100] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   53.528576] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1971, name: repro
[   53.528950] preempt_count: 1, expected: 0
[   53.529152] RCU nest depth: 1, expected: 0
[   53.529360] 4 locks held by repro/1971:
[   53.529557]  #0: ffff88801a1babe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   53.530005]  #1: ffff88801b09c8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   53.530508]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   53.530941]  #3: ffff88802216bd38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   53.531423] Preemption disabled at:
[   53.531426] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   53.531913] CPU: 1 UID: 0 PID: 1971 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   53.531924] Tainted: [W]=WARN
[   53.531926] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.531931] Call Trace:
[   53.531933]  <TASK>
[   53.531936]  dump_stack_lvl+0x121/0x150
[   53.531950]  dump_stack+0x19/0x20
[   53.531958]  __might_resched+0x37b/0x5a0
[   53.531969]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.531983]  __might_sleep+0xa3/0x170
[   53.531993]  ? vm_normal_folio+0x8c/0x170
[   53.532004]  __relocate_anon_folios+0xf97/0x2960
[   53.532032]  ? reacquire_held_locks+0xdd/0x1f0
[   53.532048]  ? __pfx___relocate_anon_folios+0x10/0x10
[   53.532061]  ? lock_set_class+0x17a/0x260
[   53.532074]  copy_vma_and_data+0x606/0x1790
[   53.532087]  ? percpu_counter_add_batch+0xd9/0x210
[   53.532144]  ? __pfx_copy_vma_and_data+0x10/0x10
[   53.532151]  ? vms_complete_munmap_vmas+0x525/0x810
[   53.532167]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   53.532174]  ? __this_cpu_preempt_check+0x21/0x30
[   53.532187]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.532197]  ? mtree_range_walk+0x728/0xb70
[   53.532209]  ? __lock_acquire+0x412/0x22a0
[   53.532219]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.532229]  ? percpu_counter_add_batch+0xd9/0x210
[   53.532235]  ? debug_smp_processor_id+0x20/0x30
[   53.532246]  ? __this_cpu_preempt_check+0x21/0x30
[   53.532253]  ? lock_is_held_type+0xef/0x150
[   53.532266]  move_vma+0x689/0x1a60
[   53.532278]  ? __pfx_move_vma+0x10/0x10
[   53.532287]  ? cap_mmap_addr+0x58/0x140
[   53.532299]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.532309]  ? security_mmap_addr+0x63/0x1b0
[   53.532318]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.532328]  ? __get_unmapped_area+0x1a4/0x440
[   53.532340]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.532350]  ? vrm_set_new_addr+0x21d/0x2b0
[   53.532360]  __do_sys_mremap+0xeb4/0x1620
[   53.532370]  ? __pfx___do_sys_mremap+0x10/0x10
[   53.532381]  ? __this_cpu_preempt_check+0x21/0x30
[   53.532395]  ? __this_cpu_preempt_check+0x21/0x30
[   53.532413]  __x64_sys_mremap+0xc7/0x150
[   53.532421]  ? syscall_trace_enter+0x14d/0x280
[   53.532431]  x64_sys_call+0x1933/0x2150
[   53.532439]  do_syscall_64+0x6d/0x2e0
[   53.532450]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.532456] RIP: 0033:0x7fdfa4e3ee5d
[   53.532464] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   53.532470] RSP: 002b:00007fff47546478 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   53.532477] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fdfa4e3ee5d
[   53.532481] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   53.532485] RBP: 00007fff47546480 R08: 000000002038d000 R09: 0000000000000001
[   53.532488] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff47546598
[   53.532495] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fdfa51f8000
[   53.532508]  </TASK>
[   54.530283] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   54.530789] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2003, name: repro
[   54.531178] preempt_count: 1, expected: 0
[   54.531386] RCU nest depth: 1, expected: 0
[   54.531614] 4 locks held by repro/2003:
[   54.531816]  #0: ffff88800f38d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   54.532278]  #1: ffff88802a599c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   54.532759]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   54.533206]  #3: ffff88802a44ff18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   54.533708] Preemption disabled at:
[   54.533711] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   54.534214] CPU: 1 UID: 0 PID: 2003 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   54.534225] Tainted: [W]=WARN
[   54.534228] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.534233] Call Trace:
[   54.534235]  <TASK>
[   54.534239]  dump_stack_lvl+0x121/0x150
[   54.534254]  dump_stack+0x19/0x20
[   54.534263]  __might_resched+0x37b/0x5a0
[   54.534275]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.534290]  __might_sleep+0xa3/0x170
[   54.534300]  ? vm_normal_folio+0x8c/0x170
[   54.534312]  __relocate_anon_folios+0xf97/0x2960
[   54.534329]  ? reacquire_held_locks+0xdd/0x1f0
[   54.534342]  ? __pfx___relocate_anon_folios+0x10/0x10
[   54.534356]  ? lock_set_class+0x17a/0x260
[   54.534370]  copy_vma_and_data+0x606/0x1790
[   54.534387]  ? percpu_counter_add_batch+0xd9/0x210
[   54.534400]  ? __pfx_copy_vma_and_data+0x10/0x10
[   54.534408]  ? vms_complete_munmap_vmas+0x525/0x810
[   54.534424]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   54.534435]  ? __this_cpu_preempt_check+0x21/0x30
[   54.534451]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.534463]  ? mtree_range_walk+0x728/0xb70
[   54.534479]  ? __lock_acquire+0x412/0x22a0
[   54.534495]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.534507]  ? percpu_counter_add_batch+0xd9/0x210
[   54.534514]  ? debug_smp_processor_id+0x20/0x30
[   54.534529]  ? __this_cpu_preempt_check+0x21/0x30
[   54.534537]  ? lock_is_held_type+0xef/0x150
[   54.534554]  move_vma+0x689/0x1a60
[   54.534570]  ? __pfx_move_vma+0x10/0x10
[   54.534581]  ? cap_mmap_addr+0x58/0x140
[   54.534592]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.534605]  ? security_mmap_addr+0x63/0x1b0
[   54.534616]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.534629]  ? __get_unmapped_area+0x1a4/0x440
[   54.534644]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.534657]  ? vrm_set_new_addr+0x21d/0x2b0
[   54.534670]  __do_sys_mremap+0xeb4/0x1620
[   54.534685]  ? __pfx___do_sys_mremap+0x10/0x10
[   54.534710]  ? __this_cpu_preempt_check+0x21/0x30
[   54.534735]  __x64_sys_mremap+0xc7/0x150
[   54.534745]  ? syscall_trace_enter+0x14d/0x280
[   54.534757]  x64_sys_call+0x1933/0x2150
[   54.534765]  do_syscall_64+0x6d/0x2e0
[   54.534779]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.534787] RIP: 0033:0x7f202fe3ee5d
[   54.534796] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   54.534803] RSP: 002b:00007ffc00f1e248 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   54.534810] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f202fe3ee5d
[   54.534815] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   54.534820] RBP: 00007ffc00f1e250 R08: 000000002038d000 R09: 0000000000000001
[   54.534824] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc00f1e368
[   54.534829] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2030145000
[   54.534847]  </TASK>
[   55.550134] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   55.550635] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2037, name: repro
[   55.551013] preempt_count: 1, expected: 0
[   55.551213] RCU nest depth: 1, expected: 0
[   55.551416] 4 locks held by repro/2037:
[   55.551612]  #0: ffff888017002be0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   55.552061]  #1: ffff88802b300d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   55.552522]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   55.552974]  #3: ffff8880113b28b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   55.553456] Preemption disabled at:
[   55.553459] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   55.553949] CPU: 1 UID: 0 PID: 2037 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   55.553960] Tainted: [W]=WARN
[   55.553962] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.553967] Call Trace:
[   55.553970]  <TASK>
[   55.553973]  dump_stack_lvl+0x121/0x150
[   55.553987]  dump_stack+0x19/0x20
[   55.553996]  __might_resched+0x37b/0x5a0
[   55.554007]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.554021]  __might_sleep+0xa3/0x170
[   55.554031]  ? vm_normal_folio+0x8c/0x170
[   55.554042]  __relocate_anon_folios+0xf97/0x2960
[   55.554058]  ? reacquire_held_locks+0xdd/0x1f0
[   55.554071]  ? __pfx___relocate_anon_folios+0x10/0x10
[   55.554084]  ? lock_set_class+0x17a/0x260
[   55.554097]  copy_vma_and_data+0x606/0x1790
[   55.554110]  ? percpu_counter_add_batch+0xd9/0x210
[   55.554123]  ? __pfx_copy_vma_and_data+0x10/0x10
[   55.554130]  ? vms_complete_munmap_vmas+0x525/0x810
[   55.554145]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   55.554166]  ? __this_cpu_preempt_check+0x21/0x30
[   55.554185]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.554195]  ? mtree_range_walk+0x728/0xb70
[   55.554207]  ? __lock_acquire+0x412/0x22a0
[   55.554217]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.554227]  ? percpu_counter_add_batch+0xd9/0x210
[   55.554233]  ? debug_smp_processor_id+0x20/0x30
[   55.554244]  ? __this_cpu_preempt_check+0x21/0x30
[   55.554251]  ? lock_is_held_type+0xef/0x150
[   55.554264]  move_vma+0x689/0x1a60
[   55.554276]  ? __pfx_move_vma+0x10/0x10
[   55.554285]  ? cap_mmap_addr+0x58/0x140
[   55.554294]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.554304]  ? security_mmap_addr+0x63/0x1b0
[   55.554313]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.554322]  ? __get_unmapped_area+0x1a4/0x440
[   55.554334]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.554344]  ? vrm_set_new_addr+0x21d/0x2b0
[   55.554354]  __do_sys_mremap+0xeb4/0x1620
[   55.554364]  ? __pfx___do_sys_mremap+0x10/0x10
[   55.554375]  ? __this_cpu_preempt_check+0x21/0x30
[   55.554389]  ? __this_cpu_preempt_check+0x21/0x30
[   55.554407]  __x64_sys_mremap+0xc7/0x150
[   55.554415]  ? syscall_trace_enter+0x14d/0x280
[   55.554425]  x64_sys_call+0x1933/0x2150
[   55.554436]  do_syscall_64+0x6d/0x2e0
[   55.554449]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.554456] RIP: 0033:0x7f9bd583ee5d
[   55.554464] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   55.554471] RSP: 002b:00007fff22494978 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   55.554478] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9bd583ee5d
[   55.554483] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   55.554487] RBP: 00007fff22494980 R08: 000000002038d000 R09: 0000000000000001
[   55.554494] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff22494a98
[   55.554498] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9bd5b0a000
[   55.554516]  </TASK>
[   56.575114] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   56.575596] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2071, name: repro
[   56.575983] preempt_count: 1, expected: 0
[   56.576190] RCU nest depth: 1, expected: 0
[   56.576398] 4 locks held by repro/2071:
[   56.576600]  #0: ffff88802b04d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   56.577060]  #1: ffff88802c2c3a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   56.577539]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   56.577993]  #3: ffff888011c86198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   56.578534] Preemption disabled at:
[   56.578544] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   56.579066] CPU: 1 UID: 0 PID: 2071 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   56.579077] Tainted: [W]=WARN
[   56.579079] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.579090] Call Trace:
[   56.579092]  <TASK>
[   56.579095]  dump_stack_lvl+0x121/0x150
[   56.579110]  dump_stack+0x19/0x20
[   56.579119]  __might_resched+0x37b/0x5a0
[   56.579131]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.579146]  __might_sleep+0xa3/0x170
[   56.579156]  ? vm_normal_folio+0x8c/0x170
[   56.579168]  __relocate_anon_folios+0xf97/0x2960
[   56.579185]  ? reacquire_held_locks+0xdd/0x1f0
[   56.579199]  ? __pfx___relocate_anon_folios+0x10/0x10
[   56.579212]  ? lock_set_class+0x17a/0x260
[   56.579227]  copy_vma_and_data+0x606/0x1790
[   56.579240]  ? percpu_counter_add_batch+0xd9/0x210
[   56.579254]  ? __pfx_copy_vma_and_data+0x10/0x10
[   56.579261]  ? vms_complete_munmap_vmas+0x525/0x810
[   56.579278]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   56.579285]  ? __this_cpu_preempt_check+0x21/0x30
[   56.579299]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.579309]  ? mtree_range_walk+0x728/0xb70
[   56.579322]  ? __lock_acquire+0x412/0x22a0
[   56.579333]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.579346]  ? percpu_counter_add_batch+0xd9/0x210
[   56.579352]  ? debug_smp_processor_id+0x20/0x30
[   56.579364]  ? __this_cpu_preempt_check+0x21/0x30
[   56.579371]  ? lock_is_held_type+0xef/0x150
[   56.579384]  move_vma+0x689/0x1a60
[   56.579397]  ? __pfx_move_vma+0x10/0x10
[   56.579407]  ? cap_mmap_addr+0x58/0x140
[   56.579416]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.579427]  ? security_mmap_addr+0x63/0x1b0
[   56.579436]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.579446]  ? __get_unmapped_area+0x1a4/0x440
[   56.579459]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.579470]  ? vrm_set_new_addr+0x21d/0x2b0
[   56.579480]  __do_sys_mremap+0xeb4/0x1620
[   56.579494]  ? __pfx___do_sys_mremap+0x10/0x10
[   56.579505]  ? __this_cpu_preempt_check+0x21/0x30
[   56.579520]  ? __this_cpu_preempt_check+0x21/0x30
[   56.579539]  __x64_sys_mremap+0xc7/0x150
[   56.579547]  ? syscall_trace_enter+0x14d/0x280
[   56.579558]  x64_sys_call+0x1933/0x2150
[   56.579565]  do_syscall_64+0x6d/0x2e0
[   56.579579]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.579585] RIP: 0033:0x7fa5f083ee5d
[   56.579594] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   56.579601] RSP: 002b:00007fff00741398 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   56.579608] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa5f083ee5d
[   56.579612] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   56.579616] RBP: 00007fff007413a0 R08: 000000002038d000 R09: 0000000000000001
[   56.579620] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff007414b8
[   56.579624] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa5f0bb9000
[   56.579639]  </TASK>
[   57.602283] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   57.602806] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2104, name: repro
[   57.603166] preempt_count: 1, expected: 0
[   57.603359] RCU nest depth: 1, expected: 0
[   57.603558] 4 locks held by repro/2104:
[   57.603747]  #0: ffff88800d46abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   57.604177]  #1: ffff8880112787e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   57.604623]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   57.605041]  #3: ffff88802bf7fdf8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   57.605507] Preemption disabled at:
[   57.605510] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   57.605984] CPU: 1 UID: 0 PID: 2104 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   57.605995] Tainted: [W]=WARN
[   57.605997] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.606002] Call Trace:
[   57.606005]  <TASK>
[   57.606010]  dump_stack_lvl+0x121/0x150
[   57.606024]  dump_stack+0x19/0x20
[   57.606033]  __might_resched+0x37b/0x5a0
[   57.606044]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.606059]  __might_sleep+0xa3/0x170
[   57.606068]  ? vm_normal_folio+0x8c/0x170
[   57.606079]  __relocate_anon_folios+0xf97/0x2960
[   57.606096]  ? reacquire_held_locks+0xdd/0x1f0
[   57.606109]  ? __pfx___relocate_anon_folios+0x10/0x10
[   57.606122]  ? lock_set_class+0x17a/0x260
[   57.606135]  copy_vma_and_data+0x606/0x1790
[   57.606148]  ? percpu_counter_add_batch+0xd9/0x210
[   57.606161]  ? __pfx_copy_vma_and_data+0x10/0x10
[   57.606168]  ? vms_complete_munmap_vmas+0x525/0x810
[   57.606184]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   57.606191]  ? __this_cpu_preempt_check+0x21/0x30
[   57.606204]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.606214]  ? mtree_range_walk+0x728/0xb70
[   57.606226]  ? __lock_acquire+0x412/0x22a0
[   57.606236]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.606253]  ? percpu_counter_add_batch+0xd9/0x210
[   57.606259]  ? debug_smp_processor_id+0x20/0x30
[   57.606270]  ? __this_cpu_preempt_check+0x21/0x30
[   57.606276]  ? lock_is_held_type+0xef/0x150
[   57.606292]  move_vma+0x689/0x1a60
[   57.606304]  ? __pfx_move_vma+0x10/0x10
[   57.606313]  ? cap_mmap_addr+0x58/0x140
[   57.606322]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.606332]  ? security_mmap_addr+0x63/0x1b0
[   57.606341]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.606351]  ? __get_unmapped_area+0x1a4/0x440
[   57.606363]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.606373]  ? vrm_set_new_addr+0x21d/0x2b0
[   57.606383]  __do_sys_mremap+0xeb4/0x1620
[   57.606393]  ? __pfx___do_sys_mremap+0x10/0x10
[   57.606404]  ? __this_cpu_preempt_check+0x21/0x30
[   57.606418]  ? __this_cpu_preempt_check+0x21/0x30
[   57.606442]  __x64_sys_mremap+0xc7/0x150
[   57.606451]  ? syscall_trace_enter+0x14d/0x280
[   57.606463]  x64_sys_call+0x1933/0x2150
[   57.606471]  do_syscall_64+0x6d/0x2e0
[   57.606484]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.606494] RIP: 0033:0x7f66ecc3ee5d
[   57.606503] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   57.606510] RSP: 002b:00007fff14521518 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   57.606517] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f66ecc3ee5d
[   57.606521] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   57.606526] RBP: 00007fff14521520 R08: 000000002038d000 R09: 0000000000000001
[   57.606530] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff14521638
[   57.606534] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f66ece6c000
[   57.606551]  </TASK>
[   58.617974] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   58.618475] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2138, name: repro
[   58.618836] preempt_count: 1, expected: 0
[   58.619028] RCU nest depth: 1, expected: 0
[   58.619227] 4 locks held by repro/2138:
[   58.619441]  #0: ffff888012f93660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   58.619874]  #1: ffff8880136fa4b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   58.620319]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   58.620741]  #3: ffff888025355678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   58.621203] Preemption disabled at:
[   58.621205] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   58.621686] CPU: 1 UID: 0 PID: 2138 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   58.621696] Tainted: [W]=WARN
[   58.621699] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.621703] Call Trace:
[   58.621705]  <TASK>
[   58.621717]  dump_stack_lvl+0x121/0x150
[   58.621730]  dump_stack+0x19/0x20
[   58.621739]  __might_resched+0x37b/0x5a0
[   58.621749]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.621763]  __might_sleep+0xa3/0x170
[   58.621772]  ? vm_normal_folio+0x8c/0x170
[   58.621783]  __relocate_anon_folios+0xf97/0x2960
[   58.621800]  ? reacquire_held_locks+0xdd/0x1f0
[   58.621812]  ? __pfx___relocate_anon_folios+0x10/0x10
[   58.621824]  ? lock_set_class+0x17a/0x260
[   58.621838]  copy_vma_and_data+0x606/0x1790
[   58.621851]  ? percpu_counter_add_batch+0xd9/0x210
[   58.621862]  ? __pfx_copy_vma_and_data+0x10/0x10
[   58.621870]  ? vms_complete_munmap_vmas+0x525/0x810
[   58.621885]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   58.621892]  ? __this_cpu_preempt_check+0x21/0x30
[   58.621904]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.621913]  ? mtree_range_walk+0x728/0xb70
[   58.621925]  ? __lock_acquire+0x412/0x22a0
[   58.621936]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.621946]  ? percpu_counter_add_batch+0xd9/0x210
[   58.621952]  ? debug_smp_processor_id+0x20/0x30
[   58.621963]  ? __this_cpu_preempt_check+0x21/0x30
[   58.621969]  ? lock_is_held_type+0xef/0x150
[   58.621982]  move_vma+0x689/0x1a60
[   58.621994]  ? __pfx_move_vma+0x10/0x10
[   58.622003]  ? cap_mmap_addr+0x58/0x140
[   58.622011]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.622021]  ? security_mmap_addr+0x63/0x1b0
[   58.622032]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.622042]  ? __get_unmapped_area+0x1a4/0x440
[   58.622054]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.622064]  ? vrm_set_new_addr+0x21d/0x2b0
[   58.622074]  __do_sys_mremap+0xeb4/0x1620
[   58.622086]  ? __pfx___do_sys_mremap+0x10/0x10
[   58.622097]  ? __this_cpu_preempt_check+0x21/0x30
[   58.622111]  ? __this_cpu_preempt_check+0x21/0x30
[   58.622129]  __x64_sys_mremap+0xc7/0x150
[   58.622137]  ? syscall_trace_enter+0x14d/0x280
[   58.622146]  x64_sys_call+0x1933/0x2150
[   58.622153]  do_syscall_64+0x6d/0x2e0
[   58.622163]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.622170] RIP: 0033:0x7fe198c3ee5d
[   58.622177] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   58.622183] RSP: 002b:00007fff4401d858 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   58.622189] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fe198c3ee5d
[   58.622193] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   58.622199] RBP: 00007fff4401d860 R08: 000000002038d000 R09: 0000000000000001
[   58.622203] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff4401d978
[   58.622207] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fe199008000
[   58.622220]  </TASK>
[   59.633112] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   59.633615] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2172, name: repro
[   59.634004] preempt_count: 1, expected: 0
[   59.634213] RCU nest depth: 1, expected: 0
[   59.634461] 4 locks held by repro/2172:
[   59.634653]  #0: ffff8880155acb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   59.635091]  #1: ffff888011e406d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   59.635569]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   59.636014]  #3: ffff888011cd4378 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   59.636513] Preemption disabled at:
[   59.636516] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   59.637013] CPU: 1 UID: 0 PID: 2172 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   59.637024] Tainted: [W]=WARN
[   59.637026] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.637031] Call Trace:
[   59.637034]  <TASK>
[   59.637037]  dump_stack_lvl+0x121/0x150
[   59.637051]  dump_stack+0x19/0x20
[   59.637060]  __might_resched+0x37b/0x5a0
[   59.637072]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.637087]  __might_sleep+0xa3/0x170
[   59.637097]  ? vm_normal_folio+0x8c/0x170
[   59.637108]  __relocate_anon_folios+0xf97/0x2960
[   59.637126]  ? reacquire_held_locks+0xdd/0x1f0
[   59.637139]  ? __pfx___relocate_anon_folios+0x10/0x10
[   59.637152]  ? lock_set_class+0x17a/0x260
[   59.637166]  copy_vma_and_data+0x606/0x1790
[   59.637180]  ? percpu_counter_add_batch+0xd9/0x210
[   59.637211]  ? __pfx_copy_vma_and_data+0x10/0x10
[   59.637219]  ? vms_complete_munmap_vmas+0x525/0x810
[   59.637235]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   59.637242]  ? __this_cpu_preempt_check+0x21/0x30
[   59.637256]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.637266]  ? mtree_range_walk+0x728/0xb70
[   59.637279]  ? __lock_acquire+0x412/0x22a0
[   59.637290]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.637300]  ? percpu_counter_add_batch+0xd9/0x210
[   59.637306]  ? debug_smp_processor_id+0x20/0x30
[   59.637318]  ? __this_cpu_preempt_check+0x21/0x30
[   59.637325]  ? lock_is_held_type+0xef/0x150
[   59.637338]  move_vma+0x689/0x1a60
[   59.637351]  ? __pfx_move_vma+0x10/0x10
[   59.637375]  ? cap_mmap_addr+0x58/0x140
[   59.637385]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.637396]  ? security_mmap_addr+0x63/0x1b0
[   59.637405]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.637416]  ? __get_unmapped_area+0x1a4/0x440
[   59.637428]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.637441]  ? vrm_set_new_addr+0x21d/0x2b0
[   59.637452]  __do_sys_mremap+0xeb4/0x1620
[   59.637463]  ? __pfx___do_sys_mremap+0x10/0x10
[   59.637483]  ? __this_cpu_preempt_check+0x21/0x30
[   59.637508]  __x64_sys_mremap+0xc7/0x150
[   59.637516]  ? syscall_trace_enter+0x14d/0x280
[   59.637527]  x64_sys_call+0x1933/0x2150
[   59.637535]  do_syscall_64+0x6d/0x2e0
[   59.637546]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.637554] RIP: 0033:0x7fd76fe3ee5d
[   59.637562] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   59.637568] RSP: 002b:00007fffeeb99b18 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   59.637576] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fd76fe3ee5d
[   59.637580] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   59.637584] RBP: 00007fffeeb99b20 R08: 000000002038d000 R09: 0000000000000001
[   59.637588] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffeeb99c38
[   59.637592] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fd7700fb000
[   59.637606]  </TASK>
[   60.643402] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   60.643843] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2207, name: repro
[   60.644184] preempt_count: 1, expected: 0
[   60.644365] RCU nest depth: 1, expected: 0
[   60.644554] 4 locks held by repro/2207:
[   60.644732]  #0: ffff8880183716e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   60.645139]  #1: ffff888025fdbd38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   60.645562]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   60.645960]  #3: ffff88802b435df8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   60.646400] Preemption disabled at:
[   60.646402] [<ffffffff81e0e3b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   60.646882] CPU: 1 UID: 0 PID: 2207 Comm: repro Tainted: G        W           6.16.0-rc2-a7fc0d8bd77d+ #1 PREEMPT(voluntary) 
[   60.646893] Tainted: [W]=WARN
[   60.646895] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.646899] Call Trace:
[   60.646902]  <TASK>
[   60.646905]  dump_stack_lvl+0x121/0x150
[   60.646918]  dump_stack+0x19/0x20
[   60.646926]  __might_resched+0x37b/0x5a0
[   60.646937]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.646951]  __might_sleep+0xa3/0x170
[   60.646960]  ? vm_normal_folio+0x8c/0x170
[   60.646970]  __relocate_anon_folios+0xf97/0x2960
[   60.646998]  ? reacquire_held_locks+0xdd/0x1f0
[   60.647011]  ? __pfx___relocate_anon_folios+0x10/0x10
[   60.647022]  ? lock_set_class+0x17a/0x260
[   60.647035]  copy_vma_and_data+0x606/0x1790
[   60.647047]  ? percpu_counter_add_batch+0xd9/0x210
[   60.647060]  ? __pfx_copy_vma_and_data+0x10/0x10
[   60.647067]  ? vms_complete_munmap_vmas+0x525/0x810
[   60.647081]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   60.647088]  ? __this_cpu_preempt_check+0x21/0x30
[   60.647101]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   60.647110]  ? mtree_range_walk+0x728/0xb70
[   60.647121]  ? __lock_acquire+0x412/0x22a0
[   60.647131]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.647141]  ? percpu_counter_add_batch+0xd9/0x210
[   60.647146]  ? debug_smp_processor_id+0x20/0x30
[   60.647157]  ? __this_cpu_preempt_check+0x21/0x30
[   60.647163]  ? lock_is_held_type+0xef/0x150
[   60.647176]  move_vma+0x689/0x1a60
[   60.647187]  ? __pfx_move_vma+0x10/0x10
[   60.647196]  ? cap_mmap_addr+0x58/0x140
[   60.647205]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   60.647214]  ? security_mmap_addr+0x63/0x1b0
[   60.647223]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.647232]  ? __get_unmapped_area+0x1a4/0x440
[   60.647244]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.647253]  ? vrm_set_new_addr+0x21d/0x2b0
[   60.647262]  __do_sys_mremap+0xeb4/0x1620
[   60.647272]  ? __pfx___do_sys_mremap+0x10/0x10
[   60.647290]  ? __this_cpu_preempt_check+0x21/0x30
[   60.647308]  __x64_sys_mremap+0xc7/0x150
[   60.647315]  ? syscall_trace_enter+0x14d/0x280
[   60.647330]  x64_sys_call+0x1933/0x2150
[   60.647337]  do_syscall_64+0x6d/0x2e0
[   60.647348]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.647354] RIP: 0033:0x7f0f7643ee5d
[   60.647362] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   60.647368] RSP: 002b:00007ffede9dbe68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   60.647374] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f0f7643ee5d
[   60.647378] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   60.647382] RBP: 00007ffede9dbe70 R08: 000000002038d000 R09: 0000000000000001
[   60.647386] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffede9dbf88
[   60.647389] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f0f766fd000
[   60.647402]  </TASK>

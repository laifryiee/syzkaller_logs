c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.16.0-rc2-fc347ad239ab+ (root@p-arls02) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-7), GNU ld version 2.35.2-65.el9) #1 SMP PREEMPT_DYNAMIC Tue Jun 17 06:13:47 CST 2025
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/CPU: Model not found in latest microcode list
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000003] kvm-clock: using sched offset of 987053447 cycles
[    0.000385] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001570] tsc: Detected 1267.200 MHz processor
[    0.007565] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.007994] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.008604] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.017695] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.018146] Using GB pages for direct mapping
[    0.020191] ACPI: Early table checksum verification disabled
[    0.020603] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.021042] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.021688] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.022326] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.022981] ACPI: FACS 0x000000007FFE0000 000040
[    0.023330] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023967] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024608] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025242] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.025762] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.026278] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.026795] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.027311] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.027829] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.028825] No NUMA configuration found
[    0.029104] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.029627] NODE_DATA(0) allocated [mem 0x7ffb4e80-0x7ffdfc7f]
[    0.030676] Zone ranges:
[    0.030867]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.031321]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.031778]   Normal   empty
[    0.031992]   Device   empty
[    0.032207] Movable zone start for each node
[    0.032532] Early memory node ranges
[    0.032800]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.033262]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.033726] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.035291] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.036006] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.076787] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.604480] kasan: KernelAddressSanitizer initialized
[    0.605193] ACPI: PM-Timer IO Port: 0x608
[    0.605534] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.606011] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.606554] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.607020] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.607504] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.607987] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.608483] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.608989] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.609463] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.609857] TSC deadline timer available
[    0.610148] CPU topo: Max. logical packages:   1
[    0.610489] CPU topo: Max. logical dies:       1
[    0.610827] CPU topo: Max. dies per package:   1
[    0.611166] CPU topo: Max. threads per core:   1
[    0.611505] CPU topo: Num. cores per package:     2
[    0.611861] CPU topo: Num. threads per package:   2
[    0.612216] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.612743] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.613303] kvm-guest: KVM setup pv remote TLB flush
[    0.613670] kvm-guest: setup PV sched yield
[    0.614035] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.614593] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x000fffff]
[    0.615148] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.615599] Booting paravirtualized kernel on KVM
[    0.615960] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.616756] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.619407] percpu: Embedded 80 pages/cpu s290816 r8192 d28672 u1048576
[    0.620053] kvm-guest: PV spinlocks enabled
[    0.620379] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.620939] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.622137] random: crng init done
[    0.622400] printk: log buffer data + meta data: 262144 + 917504 = 1179648 bytes
[    0.625066] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.626417] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.627354] Fallback order for Node 0: 0 
[    0.627368] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.628132] Policy zone: DMA32
[    0.628352] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.628794] stackdepot: allocating hash table via alloc_large_system_hash
[    0.629285] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.698963] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.699443] kmemleak: Kernel memory leak detector disabled
[    0.734980] ftrace: allocating 73930 entries in 292 pages
[    0.735392] ftrace: allocated 292 pages with 3 groups
[    0.739902] Dynamic Preempt: voluntary
[    0.740512] Running RCU self tests
[    0.740742] Running RCU synchronous self tests
[    0.741051] rcu: Preemptible hierarchical RCU implementation.
[    0.741454] rcu: 	RCU lockdep checking is enabled.
[    0.741789] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.742264] 	Trampoline variant of Tasks RCU enabled.
[    0.742618] 	Rude variant of Tasks RCU enabled.
[    0.742935] 	Tracing variant of Tasks RCU enabled.
[    0.743273] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.743801] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.744322] Running RCU synchronous self tests
[    0.744639] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.745247] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.745889] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.800550] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.801482] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.808019] Console: colour VGA+ 80x25
[    0.808353] printk: legacy console [ttyS0] enabled
[    0.808353] printk: legacy console [ttyS0] enabled
[    0.809054] printk: legacy bootconsole [earlyser0] disabled
[    0.809054] printk: legacy bootconsole [earlyser0] disabled
[    0.809863] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.810424] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.810724] ... MAX_LOCK_DEPTH:          48
[    0.811033] ... MAX_LOCKDEP_KEYS:        8192
[    0.811351] ... CLASSHASH_SIZE:          4096
[    0.811673] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.812002] ... MAX_LOCKDEP_CHAINS:      524288
[    0.812332] ... CHAINHASH_SIZE:          262144
[    0.812664]  memory used by lock dependency info: 54145 kB
[    0.813063]  memory used for stack traces: 4224 kB
[    0.813415]  per task-struct memory footprint: 1920 bytes
[    0.813879] ACPI: Core revision 20250404
[    0.814497] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.815305] APIC: Switch to symmetric I/O mode setup
[    0.815827] x2apic enabled
[    0.816357] APIC: Switched APIC routing to: physical x2apic
[    0.816789] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.817320] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.818012] kvm-guest: setup PV IPIs
[    0.819173] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.819674] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    0.820445] Calibrating delay loop (skipped) preset value.. 2534.40 BogoMIPS (lpj=5068800)
[    0.821177] CPU0: Thermal monitoring enabled (TM1)
[    0.821547] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.822116] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.822510] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.822974] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.824455] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.824877] ITS: Mitigation: Aligned branch/return thunks
[    0.825273] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.825882] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.826688] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.827208] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.827792] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.828468] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.829030] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.829501] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.829972] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.830553] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.831011] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.831473] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.964140] Freeing SMP alternatives memory: 60K
[    0.964446] pid_max: default: 32768 minimum: 301
[    0.965030] LSM: initializing lsm=capability,yama,ima,evm
[    0.965549] Yama: becoming mindful.
[    0.966186] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.966742] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.968995] Running RCU synchronous self tests
[    0.969335] Running RCU synchronous self tests
[    0.970107] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xc6, stepping: 0x0)
[    0.971712] Performance Events: unsupported CPU family 6 model 198 no PMU driver, software events only.
[    0.972432] signal: max sigframe size: 3632
[    0.972432] rcu: Hierarchical SRCU implementation.
[    0.972432] rcu: 	Max phase no-delay instances is 1000.
[    0.972432] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    0.982389] NMI watchdog: Perf NMI watchdog permanently disabled
[    0.983062] smp: Bringing up secondary CPUs ...
[    0.984142] smpboot: x86: Booting SMP configuration:
[    0.984445] .... node  #0, CPUs:      #1
[    0.986198] smp: Brought up 1 node, 2 CPUs
[    0.986198] smpboot: Total of 2 processors activated (5068.80 BogoMIPS)
[    0.989049] Memory: 1545512K/2096632K available (79005K kernel code, 15320K rwdata, 18328K rodata, 16064K init, 68660K bss, 539468K reserved, 0K cma-reserved)
[    0.990707] devtmpfs: initialized
[    0.990707] x86/mm: Memory block size: 128MB
[    1.001494] Running RCU synchronous self tests
[    1.001884] Running RCU synchronous self tests
[    1.002248] Running RCU Tasks wait API self tests
[    1.004498] Running RCU Tasks Rude wait API self tests
[    1.004824] Running RCU Tasks Trace wait API self tests
[    1.024494] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    1.025401] posixtimers hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.026025] futex hash table entries: 512 (65536 bytes on 1 NUMA nodes, total 64 KiB, linear).
[    1.027061] pinctrl core: initialized pinctrl subsystem
[    1.029250] 
[    1.029365] *************************************************************
[    1.029848] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.030328] **                                                         **
[    1.030810] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    1.031291] **                                                         **
[    1.031772] ** This means that this kernel is built to expose internal **
[    1.032251] ** IOMMU data structures, which may compromise security on **
[    1.032438] ** your system.                                            **
[    1.032919] **                                                         **
[    1.033406] ** If you see this message and you are not debugging the   **
[    1.033885] ** kernel, report this immediately to your vendor!         **
[    1.034367] **                                                         **
[    1.034848] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.035332] *************************************************************
[    1.035884] PM: RTC time: 22:16:17, date: 2025-06-16
[    1.040429] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    1.042131] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    1.042652] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.043219] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.043861] audit: initializing netlink subsys (disabled)
[    1.044489] audit: type=2000 audit(1750112177.945:1): state=initialized audit_enabled=0 res=1
[    1.045771] thermal_sys: Registered thermal governor 'fair_share'
[    1.045928] thermal_sys: Registered thermal governor 'bang_bang'
[    1.046395] thermal_sys: Registered thermal governor 'step_wise'
[    1.046838] thermal_sys: Registered thermal governor 'user_space'
[    1.047336] cpuidle: using governor ladder
[    1.048497] cpuidle: using governor menu
[    1.049120] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.050270] PCI: Using configuration type 1 for base access
[    1.050949] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    1.052479] Callback from call_rcu_tasks_trace() invoked.
[    1.175575] HugeTLB: allocation took 0ms with hugepage_allocation_threads=1
[    1.175939] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.176439] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.176935] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.177438] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.183191] ACPI: Added _OSI(Module Device)
[    1.183563] ACPI: Added _OSI(Processor Device)
[    1.183911] ACPI: Added _OSI(Processor Aggregator Device)
[    1.196955] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.209971] ACPI: Interpreter enabled
[    1.210388] ACPI: PM: (supports S0 S3 S4 S5)
[    1.210709] ACPI: Using IOAPIC for interrupt routing
[    1.211214] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.211910] PCI: Using E820 reservations for host bridge windows
[    1.213252] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.284704] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.285259] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.285882] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.286795] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.291341] acpiphp: Slot [3] registered
[    1.291781] acpiphp: Slot [4] registered
[    1.292186] acpiphp: Slot [5] registered
[    1.292535] acpiphp: Slot [6] registered
[    1.292940] acpiphp: Slot [7] registered
[    1.293380] acpiphp: Slot [8] registered
[    1.293787] acpiphp: Slot [9] registered
[    1.294192] acpiphp: Slot [10] registered
[    1.294601] acpiphp: Slot [11] registered
[    1.295043] acpiphp: Slot [12] registered
[    1.295450] acpiphp: Slot [13] registered
[    1.295866] acpiphp: Slot [14] registered
[    1.296276] acpiphp: Slot [15] registered
[    1.296562] acpiphp: Slot [16] registered
[    1.296972] acpiphp: Slot [17] registered
[    1.297377] acpiphp: Slot [18] registered
[    1.297794] acpiphp: Slot [19] registered
[    1.298235] acpiphp: Slot [20] registered
[    1.298647] acpiphp: Slot [21] registered
[    1.299057] acpiphp: Slot [22] registered
[    1.299468] acpiphp: Slot [23] registered
[    1.299906] acpiphp: Slot [24] registered
[    1.300322] acpiphp: Slot [25] registered
[    1.304535] acpiphp: Slot [26] registered
[    1.304945] acpiphp: Slot [27] registered
[    1.305387] acpiphp: Slot [28] registered
[    1.305804] acpiphp: Slot [29] registered
[    1.306215] acpiphp: Slot [30] registered
[    1.306628] acpiphp: Slot [31] registered
[    1.307004] PCI host bridge to bus 0000:00
[    1.307386] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.307916] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.308441] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.309022] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.309609] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.310210] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.310779] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.318749] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.322329] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.324477] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.324918] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.325449] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.325926] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.326451] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.327463] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.328378] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.328447] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.329458] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.345219] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.345855] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.346333] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.347190] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.356056] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.357267] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.357740] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.358179] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.376500] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.377794] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.378907] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.380107] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.380739] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.388699] iommu: Default domain type: Translated
[    1.388888] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.391229] SCSI subsystem initialized
[    1.392673] ACPI: bus type USB registered
[    1.392673] usbcore: registered new interface driver usbfs
[    1.393040] usbcore: registered new interface driver hub
[    1.393520] usbcore: registered new device driver usb
[    1.394384] pps_core: LinuxPPS API ver. 1 registered
[    1.394769] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.395520] PTP clock support registered
[    1.396432] EDAC MC: Ver: 3.0.0
[    1.404729] NetLabel: Initializing
[    1.405028] NetLabel:  domain hash size = 128
[    1.405377] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.405995] NetLabel:  unlabeled traffic allowed by default
[    1.407351] PCI: Using ACPI for IRQ routing
[    1.408086] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.408432] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.408432] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.408444] vgaarb: loaded
[    1.409699] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.410086] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.414788] clocksource: Switched to clocksource kvm-clock
[    1.415346] VFS: Disk quotas dquot_6.6.0
[    1.415716] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.419440] pnp: PnP ACPI init
[    1.423037] pnp: PnP ACPI: found 6 devices
[    1.442493] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.443747] NET: Registered PF_INET protocol family
[    1.444500] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.446665] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.447421] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.448078] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.449329] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.452572] TCP: Hash tables configured (established 16384 bind 16384)
[    1.453401] UDP hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.454152] UDP-Lite hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.455319] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.456739] RPC: Registered named UNIX socket transport module.
[    1.457225] RPC: Registered udp transport module.
[    1.457600] RPC: Registered tcp transport module.
[    1.457971] RPC: Registered tcp-with-tls transport module.
[    1.458413] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.458983] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.459490] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.459978] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.460514] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.461052] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.461892] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.462359] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.462924] PCI: CLS 0 bytes, default 64
[    1.463405] ACPI: bus type thunderbolt registered
[    1.464236] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    3.440985] Initialise system trusted keyrings
[    3.441504] Key type blacklist registered
[    3.442980] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.445388] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.447986] NFS: Registering the id_resolver key type
[    3.448402] Key type id_resolver registered
[    3.448705] Key type id_legacy registered
[    3.449042] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.449554] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.451961] fuse: init (API version 7.44)
[    3.453108] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.455599] 9p: Installing v9fs 9p2000 file system support
[    3.466150] Key type asymmetric registered
[    3.466442] Asymmetric key parser 'x509' registered
[    3.466948] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 242)
[    3.468025] io scheduler mq-deadline registered
[    3.468509] io scheduler bfq registered
[    3.469624] ledtrig-cpu: registered to indicate activity on CPUs
[    3.471464] IPMI message handler: version 39.2
[    3.471847] ipmi device interface
[    3.474122] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.475137] ACPI: button: Power Button [PWRF]
[    3.477586] ERST DBG: ERST support is disabled.
[    3.479571] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.481471] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.494570] Callback from call_rcu_tasks() invoked.
[    3.516595] Linux agpgart interface v0.103
[    3.520661] ACPI: bus type drm_connector registered
[    3.545186] brd: module loaded
[    3.559467] loop: module loaded
[    3.572164] scsi host0: ata_piix
[    3.574547] scsi host1: ata_piix
[    3.575217] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.575741] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.579731] tun: Universal TUN/TAP device driver, 1.6
[    3.580931] e100: Intel(R) PRO/100 Network Driver
[    3.581279] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.581798] e1000: Intel(R) PRO/1000 Network Driver
[    3.582145] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.730711] ata1: found unknown device (class 0)
[    3.731648] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.732066] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.733699] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.734564] ata2: found unknown device (class 0)
[    3.735322] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.736407] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.737133] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.738160] sd 0:0:0:0: [sda] Write Protect is off
[    3.738548] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.739306] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.740260] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.760248] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    3.770046] sd 0:0:0:0: [sda] Attached SCSI disk
[    4.023017] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.329878] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.330403] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.331094] e1000e: Intel(R) PRO/1000 Network Driver
[    4.331443] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.331996] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.332380] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.333113] PPP generic driver version 2.4.2
[    4.379123] VFIO - User Level meta-driver version: 0.3
[    4.382206] usbcore: registered new interface driver uas
[    4.382745] usbcore: registered new interface driver usb-storage
[    4.383503] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.385165] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.385576] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.387866] mousedev: PS/2 mouse device common for all mice
[    4.389572] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.391151] rtc_cmos 00:05: RTC can wake from S4
[    4.393570] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.394017] rtc_cmos 00:05: registered as rtc0
[    4.395089] rtc_cmos 00:05: setting system clock to 2025-06-16T22:16:20 UTC (1750112180)
[    4.397025] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.397037] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.398339] i2c_dev: i2c /dev entries driver
[    4.399916] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.400885] device-mapper: uevent: version 1.0.3
[    4.401860] device-mapper: ioctl: 4.50.0-ioctl (2025-04-28) initialised: dm-devel@lists.linux.dev
[    4.402529] intel_pstate: CPU model not supported
[    4.403117] sdhci: Secure Digital Host Controller Interface driver
[    4.403537] sdhci: Copyright(c) Pierre Ossman
[    4.404058] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.404994] drop_monitor: Initializing network drop monitor service
[    4.405800] NET: Registered PF_INET6 protocol family
[    4.412586] Segment Routing with IPv6
[    4.412988] In-situ OAM (IOAM) with IPv6
[    4.413369] NET: Registered PF_PACKET protocol family
[    4.414169] 9pnet: Installing 9P2000 support
[    4.415064] Key type dns_resolver registered
[    4.418295] IPI shorthand broadcast: enabled
[    4.467791] sched_clock: Marking stable (4452005685, 14457846)->(4473933720, -7470189)
[    4.469624] registered taskstats version 1
[    4.470449] Loading compiled-in X.509 certificates
[    4.531333] Demotion targets for Node 0: null
[    4.533346] Key type .fscrypt registered
[    4.533689] Key type fscrypt-provisioning registered
[    4.538003] Key type encrypted registered
[    4.538362] ima: No TPM chip found, activating TPM-bypass!
[    4.538816] ima: Allocated hash algorithm: sha1
[    4.539230] ima: No architecture policies found
[    4.539724] evm: Initialising EVM extended attributes:
[    4.540106] evm: security.selinux
[    4.540357] evm: security.SMACK64
[    4.540606] evm: security.SMACK64EXEC
[    4.540883] evm: security.SMACK64TRANSMUTE
[    4.541189] evm: security.SMACK64MMAP
[    4.541461] evm: security.apparmor
[    4.541715] evm: security.ima
[    4.541954] evm: security.capability
[    4.542221] evm: HMAC attrs: 0x1
[    4.544366] PM:   Magic number: 13:257:300
[    4.546063] RAS: Correctable Errors collector initialized.
[    4.546770] clk: Disabling unused clocks
[    4.547344] PM: genpd: Disabling unused power domains
[    4.548783] md: Waiting for all devices to be available before autodetect
[    4.549106] md: If you don't use raid, use raid=noautodetect
[    4.549362] md: Autodetecting RAID arrays.
[    4.549600] md: autorun ...
[    4.549749] md: ... autorun DONE.
[    4.563488] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.564147] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.567813] devtmpfs: mounted
[    4.589675] Freeing unused decrypted memory: 2028K
[    4.602742] Freeing unused kernel image (initmem) memory: 16064K
[    4.603229] Write protecting the kernel read-only data: 98304k
[    4.606860] Freeing unused kernel image (text/rodata gap) memory: 864K
[    4.607539] Freeing unused kernel image (rodata/data gap) memory: 104K
[    4.668286] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.668859] Run /sbin/init as init process
[    4.922004] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    4.923716] systemd[1]: Detected virtualization kvm.
[    4.924402] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    4.931589] systemd[1]: Hostname set to <test>.
[    5.162002] systemd-rc-local-generator[120]: /etc/rc.d/rc.local is not marked executable, skipping.
[    5.620205] systemd[1]: Queued start job for default target Multi-User System.
[    5.640800] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    5.645066] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    5.647445] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    5.650108] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    5.652456] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    5.654610] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    5.655680] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password R…uests to Wall Directory Watch[0m.
[    5.657458] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitrary…s File System Automount Point[0m.
[    5.658567] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    5.659463] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    5.660118] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    5.660701] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    5.661774] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    5.663204] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    5.664101] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    5.708483] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    5.709677] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    5.712817] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    5.713925] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    5.715849] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    5.717075] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    5.718334] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    5.719427] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    5.743107] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    5.748647] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    5.754973] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    5.791101] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    5.792218] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    5.792965] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.16.0-rc2-fc347ad239ab+/modules.devname).
[    5.798751] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVM…meventd or progress polling[0m...
[    5.805350] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    5.814732] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    5.821863] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    5.828437] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS …from /etc/sysconfig/network[0m...
[    5.843249] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    5.852453] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    5.861413] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network …ts from Kernel command line[0m...
[    5.876993] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    5.878818] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    5.922847] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    5.935052] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    5.939174] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    5.940341] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    5.942925] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    5.947846] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    5.949235] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    5.956359] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    5.957586] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    5.960094] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    5.961282] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    5.963402] systemd[1]: Finished Read and set NIS domainname from /etc/sysconfig/network.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS …e from /etc/sysconfig/network[0m.
[    5.964807] systemd[1]: systemd-modules-load.service: Main process exited, code=exited, status=1/FAILURE
[    5.966083] systemd[1]: systemd-modules-load.service: Failed with result 'exit-code'.
[    5.968356] systemd[1]: Failed to start Load Kernel Modules.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    5.971441] systemd[1]: Finished Generate network units from Kernel command line.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[    5.976011] systemd[1]: Reached target Preparation for Network.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
[    5.987588] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w.
[    5.991627] systemd[1]: Mounting FUSE Control File System...
         Mounting [0;1;39mFUSE Control File System[0m...
[    6.000995] systemd[1]: Mounting Kernel Configuration File System...
         Mounting [0;1;39mKernel Configuration File System[0m...
[    6.010450] systemd[1]: Starting Apply Kernel Variables...
         Starting [0;1;39mApply Kernel Variables[0m...
[    6.021871] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVM… dmeventd or progress polling[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
[    6.156042] systemd-journald[146]: Received client request to flush runtime journal.
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manage…for Device Events and Files[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to s…E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to s…VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password …ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
         Starting [0;1;39mWait for udev To …plete Device Initialization[0m...
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF …itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberos…ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine a…tainer Registration Service[0m...
         Starting [0;1;39mupdate of the roo…NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine an…ontainer Registration Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the roo… DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[    9.415143] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.16.0-rc2-fc347ad239ab+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   18.351004] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   18.351471] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 728, name: repro
[   18.351831] preempt_count: 1, expected: 0
[   18.352040] RCU nest depth: 1, expected: 0
[   18.352237] 4 locks held by repro/728:
[   18.352419]  #0: ffff8880156281e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   18.352877]  #1: ffff8880264398f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   18.353326]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   18.353746]  #3: ffff8880226bed98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   18.354214] Preemption disabled at:
[   18.354217] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   18.354724] CPU: 0 UID: 0 PID: 728 Comm: repro Not tainted 6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   18.354733] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   18.354740] Call Trace:
[   18.354746]  <TASK>
[   18.354749]  dump_stack_lvl+0x121/0x150
[   18.354776]  dump_stack+0x19/0x20
[   18.354784]  __might_resched+0x37b/0x5a0
[   18.354803]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.354821]  __might_sleep+0xa3/0x170
[   18.354830]  ? vm_normal_folio+0x8c/0x170
[   18.354843]  __relocate_anon_folios+0x7bd/0x11a0
[   18.354858]  ? __pfx___relocate_anon_folios+0x10/0x10
[   18.354869]  ? __this_cpu_preempt_check+0x21/0x30
[   18.354880]  ? lock_set_class+0x17a/0x260
[   18.354897]  copy_vma_and_data+0x606/0x1790
[   18.354910]  ? percpu_counter_add_batch+0xd9/0x210
[   18.354931]  ? __pfx_copy_vma_and_data+0x10/0x10
[   18.354938]  ? vms_complete_munmap_vmas+0x525/0x810
[   18.354954]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   18.354961]  ? __this_cpu_preempt_check+0x21/0x30
[   18.354972]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.354981]  ? mtree_range_walk+0x728/0xb70
[   18.354995]  ? __lock_acquire+0x412/0x22a0
[   18.355019]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   18.355028]  ? percpu_counter_add_batch+0xd9/0x210
[   18.355034]  ? debug_smp_processor_id+0x20/0x30
[   18.355045]  ? __this_cpu_preempt_check+0x21/0x30
[   18.355052]  ? lock_is_held_type+0xef/0x150
[   18.355066]  move_vma+0x689/0x1a60
[   18.355077]  ? __pfx_move_vma+0x10/0x10
[   18.355086]  ? cap_mmap_addr+0x58/0x140
[   18.355099]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.355109]  ? security_mmap_addr+0x63/0x1b0
[   18.355121]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.355130]  ? __get_unmapped_area+0x1a4/0x440
[   18.355142]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.355152]  ? vrm_set_new_addr+0x21d/0x2b0
[   18.355161]  __do_sys_mremap+0xeb4/0x1620
[   18.355171]  ? __pfx___do_sys_mremap+0x10/0x10
[   18.355182]  ? __this_cpu_preempt_check+0x21/0x30
[   18.355195]  ? __this_cpu_preempt_check+0x21/0x30
[   18.355213]  __x64_sys_mremap+0xc7/0x150
[   18.355223]  ? syscall_trace_enter+0x14d/0x280
[   18.355238]  x64_sys_call+0x1933/0x2150
[   18.355249]  do_syscall_64+0x6d/0x2e0
[   18.355260]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   18.355266] RIP: 0033:0x7f59eae3ee5d
[   18.355278] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   18.355285] RSP: 002b:00007ffe2fb74588 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   18.355295] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f59eae3ee5d
[   18.355299] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   18.355302] RBP: 00007ffe2fb74590 R08: 000000002038d000 R09: 0000000000000001
[   18.355306] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe2fb746a8
[   18.355310] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f59eb05e000
[   18.355323]  </TASK>
[   19.354057] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   19.354563] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 762, name: repro
[   19.354949] preempt_count: 1, expected: 0
[   19.355156] RCU nest depth: 1, expected: 0
[   19.355367] 4 locks held by repro/762:
[   19.355563]  #0: ffff88801418d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   19.356025]  #1: ffff88802a8785c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   19.356500]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   19.356946]  #3: ffff88802a821d38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   19.357440] Preemption disabled at:
[   19.357443] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   19.357944] CPU: 0 UID: 0 PID: 762 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   19.357955] Tainted: [W]=WARN
[   19.357958] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   19.357977] Call Trace:
[   19.357980]  <TASK>
[   19.357984]  dump_stack_lvl+0x121/0x150
[   19.357999]  dump_stack+0x19/0x20
[   19.358007]  __might_resched+0x37b/0x5a0
[   19.358019]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.358034]  __might_sleep+0xa3/0x170
[   19.358044]  ? vm_normal_folio+0x8c/0x170
[   19.358055]  __relocate_anon_folios+0x7bd/0x11a0
[   19.358070]  ? __pfx___relocate_anon_folios+0x10/0x10
[   19.358082]  ? __this_cpu_preempt_check+0x21/0x30
[   19.358090]  ? lock_set_class+0x17a/0x260
[   19.358106]  copy_vma_and_data+0x606/0x1790
[   19.358118]  ? percpu_counter_add_batch+0xd9/0x210
[   19.358131]  ? __pfx_copy_vma_and_data+0x10/0x10
[   19.358139]  ? vms_complete_munmap_vmas+0x525/0x810
[   19.358155]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   19.358162]  ? __this_cpu_preempt_check+0x21/0x30
[   19.358174]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.358184]  ? mtree_range_walk+0x728/0xb70
[   19.358196]  ? __lock_acquire+0x412/0x22a0
[   19.358207]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   19.358217]  ? percpu_counter_add_batch+0xd9/0x210
[   19.358223]  ? debug_smp_processor_id+0x20/0x30
[   19.358235]  ? __this_cpu_preempt_check+0x21/0x30
[   19.358242]  ? lock_is_held_type+0xef/0x150
[   19.358255]  move_vma+0x689/0x1a60
[   19.358267]  ? __pfx_move_vma+0x10/0x10
[   19.358277]  ? cap_mmap_addr+0x58/0x140
[   19.358286]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.358296]  ? security_mmap_addr+0x63/0x1b0
[   19.358305]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.358316]  ? __get_unmapped_area+0x1a4/0x440
[   19.358328]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.358338]  ? vrm_set_new_addr+0x21d/0x2b0
[   19.358348]  __do_sys_mremap+0xeb4/0x1620
[   19.358359]  ? __pfx___do_sys_mremap+0x10/0x10
[   19.358370]  ? __this_cpu_preempt_check+0x21/0x30
[   19.358384]  ? __this_cpu_preempt_check+0x21/0x30
[   19.358403]  __x64_sys_mremap+0xc7/0x150
[   19.358411]  ? syscall_trace_enter+0x14d/0x280
[   19.358428]  x64_sys_call+0x1933/0x2150
[   19.358435]  do_syscall_64+0x6d/0x2e0
[   19.358461]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   19.358473] RIP: 0033:0x7f9eecc3ee5d
[   19.358481] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   19.358488] RSP: 002b:00007ffc28b90e98 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   19.358496] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9eecc3ee5d
[   19.358501] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   19.358506] RBP: 00007ffc28b90ea0 R08: 000000002038d000 R09: 0000000000000001
[   19.358510] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc28b90fb8
[   19.358514] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9eeceb4000
[   19.358532]  </TASK>
[   20.371091] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   20.371573] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 796, name: repro
[   20.371947] preempt_count: 1, expected: 0
[   20.372151] RCU nest depth: 1, expected: 0
[   20.372357] 4 locks held by repro/796:
[   20.372550]  #0: ffff8880157b2160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   20.373001]  #1: ffff88802a9ead38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   20.373461]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   20.373896]  #3: ffff88802aa967f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   20.374374] Preemption disabled at:
[   20.374376] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   20.374896] CPU: 0 UID: 0 PID: 796 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   20.374907] Tainted: [W]=WARN
[   20.374909] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   20.374914] Call Trace:
[   20.374916]  <TASK>
[   20.374919]  dump_stack_lvl+0x121/0x150
[   20.374935]  dump_stack+0x19/0x20
[   20.374944]  __might_resched+0x37b/0x5a0
[   20.374955]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.374970]  __might_sleep+0xa3/0x170
[   20.374979]  ? vm_normal_folio+0x8c/0x170
[   20.374990]  __relocate_anon_folios+0x7bd/0x11a0
[   20.375005]  ? __pfx___relocate_anon_folios+0x10/0x10
[   20.375016]  ? __this_cpu_preempt_check+0x21/0x30
[   20.375024]  ? lock_set_class+0x17a/0x260
[   20.375039]  copy_vma_and_data+0x606/0x1790
[   20.375052]  ? percpu_counter_add_batch+0xd9/0x210
[   20.375075]  ? __pfx_copy_vma_and_data+0x10/0x10
[   20.375082]  ? vms_complete_munmap_vmas+0x525/0x810
[   20.375098]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   20.375105]  ? __this_cpu_preempt_check+0x21/0x30
[   20.375116]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.375126]  ? mtree_range_walk+0x728/0xb70
[   20.375138]  ? __lock_acquire+0x412/0x22a0
[   20.375149]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   20.375158]  ? percpu_counter_add_batch+0xd9/0x210
[   20.375164]  ? debug_smp_processor_id+0x20/0x30
[   20.375175]  ? __this_cpu_preempt_check+0x21/0x30
[   20.375182]  ? lock_is_held_type+0xef/0x150
[   20.375195]  move_vma+0x689/0x1a60
[   20.375210]  ? __pfx_move_vma+0x10/0x10
[   20.375219]  ? cap_mmap_addr+0x58/0x140
[   20.375228]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.375238]  ? security_mmap_addr+0x63/0x1b0
[   20.375247]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.375257]  ? __get_unmapped_area+0x1a4/0x440
[   20.375269]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.375279]  ? vrm_set_new_addr+0x21d/0x2b0
[   20.375288]  __do_sys_mremap+0xeb4/0x1620
[   20.375299]  ? __pfx___do_sys_mremap+0x10/0x10
[   20.375309]  ? __this_cpu_preempt_check+0x21/0x30
[   20.375324]  ? __this_cpu_preempt_check+0x21/0x30
[   20.375342]  __x64_sys_mremap+0xc7/0x150
[   20.375350]  ? syscall_trace_enter+0x14d/0x280
[   20.375360]  x64_sys_call+0x1933/0x2150
[   20.375367]  do_syscall_64+0x6d/0x2e0
[   20.375378]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   20.375385] RIP: 0033:0x7f287e83ee5d
[   20.375392] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   20.375401] RSP: 002b:00007ffef3094148 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   20.375408] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f287e83ee5d
[   20.375412] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   20.375416] RBP: 00007ffef3094150 R08: 000000002038d000 R09: 0000000000000001
[   20.375420] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffef3094268
[   20.375424] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f287ec38000
[   20.375437]  </TASK>
[   21.381569] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   21.382056] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 830, name: repro
[   21.382427] preempt_count: 1, expected: 0
[   21.382667] RCU nest depth: 1, expected: 0
[   21.382878] 4 locks held by repro/830:
[   21.383076]  #0: ffff888014492be0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   21.383518]  #1: ffff888026558b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   21.383997]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   21.384442]  #3: ffff88800d470138 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   21.384955] Preemption disabled at:
[   21.384957] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   21.385456] CPU: 0 UID: 0 PID: 830 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   21.385467] Tainted: [W]=WARN
[   21.385469] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   21.385474] Call Trace:
[   21.385476]  <TASK>
[   21.385480]  dump_stack_lvl+0x121/0x150
[   21.385493]  dump_stack+0x19/0x20
[   21.385502]  __might_resched+0x37b/0x5a0
[   21.385513]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.385537]  __might_sleep+0xa3/0x170
[   21.385546]  ? vm_normal_folio+0x8c/0x170
[   21.385558]  __relocate_anon_folios+0x7bd/0x11a0
[   21.385573]  ? __pfx___relocate_anon_folios+0x10/0x10
[   21.385585]  ? __this_cpu_preempt_check+0x21/0x30
[   21.385593]  ? lock_set_class+0x17a/0x260
[   21.385608]  copy_vma_and_data+0x606/0x1790
[   21.385621]  ? percpu_counter_add_batch+0xd9/0x210
[   21.385633]  ? __pfx_copy_vma_and_data+0x10/0x10
[   21.385641]  ? vms_complete_munmap_vmas+0x525/0x810
[   21.385656]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   21.385664]  ? __this_cpu_preempt_check+0x21/0x30
[   21.385675]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.385685]  ? mtree_range_walk+0x728/0xb70
[   21.385706]  ? __lock_acquire+0x412/0x22a0
[   21.385726]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   21.385739]  ? percpu_counter_add_batch+0xd9/0x210
[   21.385745]  ? debug_smp_processor_id+0x20/0x30
[   21.385757]  ? __this_cpu_preempt_check+0x21/0x30
[   21.385764]  ? lock_is_held_type+0xef/0x150
[   21.385777]  move_vma+0x689/0x1a60
[   21.385790]  ? __pfx_move_vma+0x10/0x10
[   21.385799]  ? cap_mmap_addr+0x58/0x140
[   21.385808]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.385818]  ? security_mmap_addr+0x63/0x1b0
[   21.385828]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.385838]  ? __get_unmapped_area+0x1a4/0x440
[   21.385851]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.385861]  ? vrm_set_new_addr+0x21d/0x2b0
[   21.385871]  __do_sys_mremap+0xeb4/0x1620
[   21.385881]  ? __pfx___do_sys_mremap+0x10/0x10
[   21.385901]  ? __this_cpu_preempt_check+0x21/0x30
[   21.385920]  __x64_sys_mremap+0xc7/0x150
[   21.385931]  ? syscall_trace_enter+0x14d/0x280
[   21.385942]  x64_sys_call+0x1933/0x2150
[   21.385949]  do_syscall_64+0x6d/0x2e0
[   21.385961]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   21.385967] RIP: 0033:0x7f1235e3ee5d
[   21.385976] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   21.385983] RSP: 002b:00007ffc44cc2e58 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   21.385990] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f1235e3ee5d
[   21.385997] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   21.386001] RBP: 00007ffc44cc2e60 R08: 000000002038d000 R09: 0000000000000001
[   21.386005] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc44cc2f78
[   21.386009] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f1236161000
[   21.386023]  </TASK>
[   22.395004] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   22.395499] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 865, name: repro
[   22.395867] preempt_count: 1, expected: 0
[   22.396068] RCU nest depth: 1, expected: 0
[   22.396273] 4 locks held by repro/865:
[   22.396463]  #0: ffff8880254301e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   22.396910]  #1: ffff88802675f8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   22.397375]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   22.397806]  #3: ffff88802a990198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   22.398306] Preemption disabled at:
[   22.398308] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   22.399105] CPU: 0 UID: 0 PID: 865 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   22.399116] Tainted: [W]=WARN
[   22.399118] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   22.399123] Call Trace:
[   22.399125]  <TASK>
[   22.399128]  dump_stack_lvl+0x121/0x150
[   22.399142]  dump_stack+0x19/0x20
[   22.399151]  __might_resched+0x37b/0x5a0
[   22.399162]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.399177]  __might_sleep+0xa3/0x170
[   22.399186]  ? vm_normal_folio+0x8c/0x170
[   22.399197]  __relocate_anon_folios+0x7bd/0x11a0
[   22.399212]  ? __pfx___relocate_anon_folios+0x10/0x10
[   22.399224]  ? __this_cpu_preempt_check+0x21/0x30
[   22.399232]  ? lock_set_class+0x17a/0x260
[   22.399247]  copy_vma_and_data+0x606/0x1790
[   22.399260]  ? percpu_counter_add_batch+0xd9/0x210
[   22.399272]  ? __pfx_copy_vma_and_data+0x10/0x10
[   22.399280]  ? vms_complete_munmap_vmas+0x525/0x810
[   22.399295]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   22.399302]  ? __this_cpu_preempt_check+0x21/0x30
[   22.399313]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.399323]  ? mtree_range_walk+0x728/0xb70
[   22.399336]  ? __lock_acquire+0x412/0x22a0
[   22.399346]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   22.399356]  ? percpu_counter_add_batch+0xd9/0x210
[   22.399362]  ? debug_smp_processor_id+0x20/0x30
[   22.399373]  ? __this_cpu_preempt_check+0x21/0x30
[   22.399380]  ? lock_is_held_type+0xef/0x150
[   22.399393]  move_vma+0x689/0x1a60
[   22.399405]  ? __pfx_move_vma+0x10/0x10
[   22.399414]  ? cap_mmap_addr+0x58/0x140
[   22.399423]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.399433]  ? security_mmap_addr+0x63/0x1b0
[   22.399442]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.399452]  ? __get_unmapped_area+0x1a4/0x440
[   22.399467]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.399477]  ? vrm_set_new_addr+0x21d/0x2b0
[   22.399487]  __do_sys_mremap+0xeb4/0x1620
[   22.399497]  ? __pfx___do_sys_mremap+0x10/0x10
[   22.399507]  ? __this_cpu_preempt_check+0x21/0x30
[   22.399521]  ? __this_cpu_preempt_check+0x21/0x30
[   22.399540]  __x64_sys_mremap+0xc7/0x150
[   22.399548]  ? syscall_trace_enter+0x14d/0x280
[   22.399558]  x64_sys_call+0x1933/0x2150
[   22.399565]  do_syscall_64+0x6d/0x2e0
[   22.399576]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   22.399583] RIP: 0033:0x7fcafba3ee5d
[   22.399591] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   22.399598] RSP: 002b:00007fff8df4b9c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   22.399604] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcafba3ee5d
[   22.399609] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   22.399613] RBP: 00007fff8df4b9d0 R08: 000000002038d000 R09: 0000000000000001
[   22.399617] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff8df4bae8
[   22.399623] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcafbc86000
[   22.399639]  </TASK>
[   23.406933] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   23.407393] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 900, name: repro
[   23.407743] preempt_count: 1, expected: 0
[   23.407935] RCU nest depth: 1, expected: 0
[   23.408137] 4 locks held by repro/900:
[   23.408317]  #0: ffff888012f26ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   23.408739]  #1: ffff888027454f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   23.409178]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   23.409586]  #3: ffff88801541a438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   23.410049] Preemption disabled at:
[   23.410052] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   23.410538] CPU: 1 UID: 0 PID: 900 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   23.410549] Tainted: [W]=WARN
[   23.410551] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.410556] Call Trace:
[   23.410559]  <TASK>
[   23.410562]  dump_stack_lvl+0x121/0x150
[   23.410576]  dump_stack+0x19/0x20
[   23.410584]  __might_resched+0x37b/0x5a0
[   23.410595]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.410609]  __might_sleep+0xa3/0x170
[   23.410618]  ? vm_normal_folio+0x8c/0x170
[   23.410629]  __relocate_anon_folios+0x7bd/0x11a0
[   23.410644]  ? __pfx___relocate_anon_folios+0x10/0x10
[   23.410654]  ? __this_cpu_preempt_check+0x21/0x30
[   23.410662]  ? lock_set_class+0x17a/0x260
[   23.410677]  copy_vma_and_data+0x606/0x1790
[   23.410699]  ? percpu_counter_add_batch+0xd9/0x210
[   23.410711]  ? __pfx_copy_vma_and_data+0x10/0x10
[   23.410718]  ? vms_complete_munmap_vmas+0x525/0x810
[   23.410733]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   23.410740]  ? __this_cpu_preempt_check+0x21/0x30
[   23.410751]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.410760]  ? mtree_range_walk+0x728/0xb70
[   23.410772]  ? __lock_acquire+0x412/0x22a0
[   23.410782]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   23.410791]  ? percpu_counter_add_batch+0xd9/0x210
[   23.410797]  ? debug_smp_processor_id+0x20/0x30
[   23.410807]  ? __this_cpu_preempt_check+0x21/0x30
[   23.410814]  ? lock_is_held_type+0xef/0x150
[   23.410826]  move_vma+0x689/0x1a60
[   23.410837]  ? __pfx_move_vma+0x10/0x10
[   23.410846]  ? cap_mmap_addr+0x58/0x140
[   23.410855]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.410865]  ? security_mmap_addr+0x63/0x1b0
[   23.410873]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.410882]  ? __get_unmapped_area+0x1a4/0x440
[   23.410894]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.410903]  ? vrm_set_new_addr+0x21d/0x2b0
[   23.410913]  __do_sys_mremap+0xeb4/0x1620
[   23.410923]  ? __pfx___do_sys_mremap+0x10/0x10
[   23.410944]  ? __this_cpu_preempt_check+0x21/0x30
[   23.410962]  __x64_sys_mremap+0xc7/0x150
[   23.410970]  ? syscall_trace_enter+0x14d/0x280
[   23.410979]  x64_sys_call+0x1933/0x2150
[   23.410987]  do_syscall_64+0x6d/0x2e0
[   23.410998]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   23.411004] RIP: 0033:0x7f8b3483ee5d
[   23.411011] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   23.411018] RSP: 002b:00007ffef7141748 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   23.411024] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8b3483ee5d
[   23.411028] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   23.411032] RBP: 00007ffef7141750 R08: 000000002038d000 R09: 0000000000000001
[   23.411036] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffef7141868
[   23.411040] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8b34a97000
[   23.411053]  </TASK>
[   24.426882] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   24.427338] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 938, name: repro
[   24.427689] preempt_count: 1, expected: 0
[   24.427879] RCU nest depth: 1, expected: 0
[   24.428076] 4 locks held by repro/938:
[   24.428260]  #0: ffff8880256d01e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   24.428686]  #1: ffff888027765e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   24.429131]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   24.429541]  #3: ffff888027691918 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   24.430001] Preemption disabled at:
[   24.430003] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   24.430498] CPU: 1 UID: 0 PID: 938 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   24.430509] Tainted: [W]=WARN
[   24.430511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.430516] Call Trace:
[   24.430518]  <TASK>
[   24.430521]  dump_stack_lvl+0x121/0x150
[   24.430535]  dump_stack+0x19/0x20
[   24.430543]  __might_resched+0x37b/0x5a0
[   24.430554]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.430568]  __might_sleep+0xa3/0x170
[   24.430578]  ? vm_normal_folio+0x8c/0x170
[   24.430588]  __relocate_anon_folios+0x7bd/0x11a0
[   24.430603]  ? __pfx___relocate_anon_folios+0x10/0x10
[   24.430614]  ? __this_cpu_preempt_check+0x21/0x30
[   24.430622]  ? lock_set_class+0x17a/0x260
[   24.430636]  copy_vma_and_data+0x606/0x1790
[   24.430649]  ? percpu_counter_add_batch+0xd9/0x210
[   24.430662]  ? __pfx_copy_vma_and_data+0x10/0x10
[   24.430669]  ? vms_complete_munmap_vmas+0x525/0x810
[   24.430684]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   24.430691]  ? __this_cpu_preempt_check+0x21/0x30
[   24.430702]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.430711]  ? mtree_range_walk+0x728/0xb70
[   24.430723]  ? __lock_acquire+0x412/0x22a0
[   24.430733]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.430743]  ? percpu_counter_add_batch+0xd9/0x210
[   24.430749]  ? debug_smp_processor_id+0x20/0x30
[   24.430759]  ? __this_cpu_preempt_check+0x21/0x30
[   24.430766]  ? lock_is_held_type+0xef/0x150
[   24.430779]  move_vma+0x689/0x1a60
[   24.430790]  ? __pfx_move_vma+0x10/0x10
[   24.430799]  ? cap_mmap_addr+0x58/0x140
[   24.430808]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.430818]  ? security_mmap_addr+0x63/0x1b0
[   24.430827]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.430836]  ? __get_unmapped_area+0x1a4/0x440
[   24.430849]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.430858]  ? vrm_set_new_addr+0x21d/0x2b0
[   24.430868]  __do_sys_mremap+0xeb4/0x1620
[   24.430878]  ? __pfx___do_sys_mremap+0x10/0x10
[   24.430888]  ? __this_cpu_preempt_check+0x21/0x30
[   24.430902]  ? __this_cpu_preempt_check+0x21/0x30
[   24.430920]  __x64_sys_mremap+0xc7/0x150
[   24.430933]  ? syscall_trace_enter+0x14d/0x280
[   24.430942]  x64_sys_call+0x1933/0x2150
[   24.430950]  do_syscall_64+0x6d/0x2e0
[   24.430960]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.430967] RIP: 0033:0x7f473fc3ee5d
[   24.430974] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   24.430980] RSP: 002b:00007ffe63ab5228 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   24.430987] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f473fc3ee5d
[   24.430991] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   24.430995] RBP: 00007ffe63ab5230 R08: 000000002038d000 R09: 0000000000000001
[   24.430998] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe63ab5348
[   24.431002] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f473fed1000
[   24.431015]  </TASK>
[   25.431486] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   25.431988] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 972, name: repro
[   25.432391] preempt_count: 1, expected: 0
[   25.432597] RCU nest depth: 1, expected: 0
[   25.432815] 4 locks held by repro/972:
[   25.433013]  #0: ffff8880164a4b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   25.433485]  #1: ffff8880275dad38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   25.433960]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   25.434403]  #3: ffff888027685c18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   25.435241] Preemption disabled at:
[   25.435244] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   25.435745] CPU: 0 UID: 0 PID: 972 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   25.435756] Tainted: [W]=WARN
[   25.435758] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.435763] Call Trace:
[   25.435765]  <TASK>
[   25.435768]  dump_stack_lvl+0x121/0x150
[   25.435782]  dump_stack+0x19/0x20
[   25.435791]  __might_resched+0x37b/0x5a0
[   25.435802]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.435817]  __might_sleep+0xa3/0x170
[   25.435827]  ? vm_normal_folio+0x8c/0x170
[   25.435838]  __relocate_anon_folios+0x7bd/0x11a0
[   25.435853]  ? __pfx___relocate_anon_folios+0x10/0x10
[   25.435865]  ? __this_cpu_preempt_check+0x21/0x30
[   25.435873]  ? lock_set_class+0x17a/0x260
[   25.435889]  copy_vma_and_data+0x606/0x1790
[   25.435902]  ? percpu_counter_add_batch+0xd9/0x210
[   25.435914]  ? __pfx_copy_vma_and_data+0x10/0x10
[   25.435925]  ? vms_complete_munmap_vmas+0x525/0x810
[   25.435940]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   25.435947]  ? __this_cpu_preempt_check+0x21/0x30
[   25.435959]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.435972]  ? mtree_range_walk+0x728/0xb70
[   25.435985]  ? __lock_acquire+0x412/0x22a0
[   25.435996]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.436006]  ? percpu_counter_add_batch+0xd9/0x210
[   25.436014]  ? debug_smp_processor_id+0x20/0x30
[   25.436026]  ? __this_cpu_preempt_check+0x21/0x30
[   25.436032]  ? lock_is_held_type+0xef/0x150
[   25.436046]  move_vma+0x689/0x1a60
[   25.436058]  ? __pfx_move_vma+0x10/0x10
[   25.436067]  ? cap_mmap_addr+0x58/0x140
[   25.436076]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.436086]  ? security_mmap_addr+0x63/0x1b0
[   25.436095]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.436105]  ? __get_unmapped_area+0x1a4/0x440
[   25.436118]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.436128]  ? vrm_set_new_addr+0x21d/0x2b0
[   25.436138]  __do_sys_mremap+0xeb4/0x1620
[   25.436148]  ? __pfx___do_sys_mremap+0x10/0x10
[   25.436159]  ? __this_cpu_preempt_check+0x21/0x30
[   25.436173]  ? __this_cpu_preempt_check+0x21/0x30
[   25.436192]  __x64_sys_mremap+0xc7/0x150
[   25.436200]  ? syscall_trace_enter+0x14d/0x280
[   25.436210]  x64_sys_call+0x1933/0x2150
[   25.436218]  do_syscall_64+0x6d/0x2e0
[   25.436229]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.436236] RIP: 0033:0x7f9a0123ee5d
[   25.436243] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   25.436250] RSP: 002b:00007fff05d81b38 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   25.436256] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9a0123ee5d
[   25.436261] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   25.436265] RBP: 00007fff05d81b40 R08: 000000002038d000 R09: 0000000000000001
[   25.436269] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff05d81c58
[   25.436273] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9a015fd000
[   25.436287]  </TASK>
[   26.442060] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   26.442577] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1004, name: repro
[   26.442967] preempt_count: 1, expected: 0
[   26.443176] RCU nest depth: 1, expected: 0
[   26.443388] 4 locks held by repro/1004:
[   26.443591]  #0: ffff88801231f560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   26.444060]  #1: ffff88802a9b26d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   26.444555]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   26.445010]  #3: ffff88802a9efbb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   26.445509] Preemption disabled at:
[   26.445512] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   26.446042] CPU: 1 UID: 0 PID: 1004 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   26.446054] Tainted: [W]=WARN
[   26.446059] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.446064] Call Trace:
[   26.446067]  <TASK>
[   26.446070]  dump_stack_lvl+0x121/0x150
[   26.446085]  dump_stack+0x19/0x20
[   26.446094]  __might_resched+0x37b/0x5a0
[   26.446106]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.446121]  __might_sleep+0xa3/0x170
[   26.446131]  ? vm_normal_folio+0x8c/0x170
[   26.446143]  __relocate_anon_folios+0x7bd/0x11a0
[   26.446159]  ? __pfx___relocate_anon_folios+0x10/0x10
[   26.446170]  ? __this_cpu_preempt_check+0x21/0x30
[   26.446179]  ? lock_set_class+0x17a/0x260
[   26.446195]  copy_vma_and_data+0x606/0x1790
[   26.446208]  ? percpu_counter_add_batch+0xd9/0x210
[   26.446222]  ? __pfx_copy_vma_and_data+0x10/0x10
[   26.446229]  ? vms_complete_munmap_vmas+0x525/0x810
[   26.446246]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   26.446253]  ? __this_cpu_preempt_check+0x21/0x30
[   26.446265]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.446276]  ? mtree_range_walk+0x728/0xb70
[   26.446289]  ? __lock_acquire+0x412/0x22a0
[   26.446300]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.446310]  ? percpu_counter_add_batch+0xd9/0x210
[   26.446316]  ? debug_smp_processor_id+0x20/0x30
[   26.446328]  ? __this_cpu_preempt_check+0x21/0x30
[   26.446335]  ? lock_is_held_type+0xef/0x150
[   26.446348]  move_vma+0x689/0x1a60
[   26.446361]  ? __pfx_move_vma+0x10/0x10
[   26.446371]  ? cap_mmap_addr+0x58/0x140
[   26.446380]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.446391]  ? security_mmap_addr+0x63/0x1b0
[   26.446400]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.446411]  ? __get_unmapped_area+0x1a4/0x440
[   26.446424]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.446434]  ? vrm_set_new_addr+0x21d/0x2b0
[   26.446444]  __do_sys_mremap+0xeb4/0x1620
[   26.446455]  ? __pfx___do_sys_mremap+0x10/0x10
[   26.446471]  ? __this_cpu_preempt_check+0x21/0x30
[   26.446490]  ? __this_cpu_preempt_check+0x21/0x30
[   26.446515]  __x64_sys_mremap+0xc7/0x150
[   26.446524]  ? syscall_trace_enter+0x14d/0x280
[   26.446536]  x64_sys_call+0x1933/0x2150
[   26.446545]  do_syscall_64+0x6d/0x2e0
[   26.446559]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.446567] RIP: 0033:0x7fa0cee3ee5d
[   26.446577] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   26.446585] RSP: 002b:00007fff5590ab88 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   26.446592] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa0cee3ee5d
[   26.446597] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   26.446601] RBP: 00007fff5590ab90 R08: 000000002038d000 R09: 0000000000000001
[   26.446606] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff5590aca8
[   26.446610] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa0cf0f1000
[   26.446629]  </TASK>
[   27.461151] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   27.461591] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1039, name: repro
[   27.461955] preempt_count: 1, expected: 0
[   27.462147] RCU nest depth: 1, expected: 0
[   27.462344] 4 locks held by repro/1039:
[   27.462563]  #0: ffff88801acbeae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   27.462995]  #1: ffff88802665d298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   27.463438]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   27.463857]  #3: ffff8880265cdd98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   27.464326] Preemption disabled at:
[   27.464329] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   27.464794] CPU: 0 UID: 0 PID: 1039 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   27.464804] Tainted: [W]=WARN
[   27.464806] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.464812] Call Trace:
[   27.464814]  <TASK>
[   27.464817]  dump_stack_lvl+0x121/0x150
[   27.464830]  dump_stack+0x19/0x20
[   27.464838]  __might_resched+0x37b/0x5a0
[   27.464849]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.464863]  __might_sleep+0xa3/0x170
[   27.464872]  ? vm_normal_folio+0x8c/0x170
[   27.464883]  __relocate_anon_folios+0x7bd/0x11a0
[   27.464898]  ? __pfx___relocate_anon_folios+0x10/0x10
[   27.464909]  ? __this_cpu_preempt_check+0x21/0x30
[   27.464917]  ? lock_set_class+0x17a/0x260
[   27.464935]  copy_vma_and_data+0x606/0x1790
[   27.464947]  ? percpu_counter_add_batch+0xd9/0x210
[   27.464960]  ? __pfx_copy_vma_and_data+0x10/0x10
[   27.464967]  ? vms_complete_munmap_vmas+0x525/0x810
[   27.464982]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   27.464989]  ? __this_cpu_preempt_check+0x21/0x30
[   27.465000]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.465009]  ? mtree_range_walk+0x728/0xb70
[   27.465021]  ? __lock_acquire+0x412/0x22a0
[   27.465031]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.465041]  ? percpu_counter_add_batch+0xd9/0x210
[   27.465046]  ? debug_smp_processor_id+0x20/0x30
[   27.465057]  ? __this_cpu_preempt_check+0x21/0x30
[   27.465067]  ? lock_is_held_type+0xef/0x150
[   27.465082]  move_vma+0x689/0x1a60
[   27.465094]  ? __pfx_move_vma+0x10/0x10
[   27.465102]  ? cap_mmap_addr+0x58/0x140
[   27.465111]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.465121]  ? security_mmap_addr+0x63/0x1b0
[   27.465130]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.465140]  ? __get_unmapped_area+0x1a4/0x440
[   27.465151]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.465161]  ? vrm_set_new_addr+0x21d/0x2b0
[   27.465170]  __do_sys_mremap+0xeb4/0x1620
[   27.465180]  ? __pfx___do_sys_mremap+0x10/0x10
[   27.465191]  ? __this_cpu_preempt_check+0x21/0x30
[   27.465204]  ? __this_cpu_preempt_check+0x21/0x30
[   27.465222]  __x64_sys_mremap+0xc7/0x150
[   27.465230]  ? syscall_trace_enter+0x14d/0x280
[   27.465240]  x64_sys_call+0x1933/0x2150
[   27.465247]  do_syscall_64+0x6d/0x2e0
[   27.465258]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.465265] RIP: 0033:0x7fec1ae3ee5d
[   27.465272] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   27.465278] RSP: 002b:00007fff5307d078 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   27.465284] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fec1ae3ee5d
[   27.465288] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   27.465292] RBP: 00007fff5307d080 R08: 000000002038d000 R09: 0000000000000001
[   27.465296] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff5307d198
[   27.465300] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fec1b092000
[   27.465313]  </TASK>
[   28.474690] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   28.475144] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1075, name: repro
[   28.475507] preempt_count: 1, expected: 0
[   28.475701] RCU nest depth: 1, expected: 0
[   28.475901] 4 locks held by repro/1075:
[   28.476094]  #0: ffff88801652eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   28.476531]  #1: ffff8880143955c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   28.476980]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   28.477397]  #3: ffff8880224d6d38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   28.477859] Preemption disabled at:
[   28.477861] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   28.478339] CPU: 0 UID: 0 PID: 1075 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   28.478350] Tainted: [W]=WARN
[   28.478352] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.478357] Call Trace:
[   28.478360]  <TASK>
[   28.478363]  dump_stack_lvl+0x121/0x150
[   28.478377]  dump_stack+0x19/0x20
[   28.478385]  __might_resched+0x37b/0x5a0
[   28.478399]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.478413]  __might_sleep+0xa3/0x170
[   28.478422]  ? vm_normal_folio+0x8c/0x170
[   28.478433]  __relocate_anon_folios+0x7bd/0x11a0
[   28.478448]  ? __pfx___relocate_anon_folios+0x10/0x10
[   28.478462]  ? __this_cpu_preempt_check+0x21/0x30
[   28.478471]  ? lock_set_class+0x17a/0x260
[   28.478489]  copy_vma_and_data+0x606/0x1790
[   28.478504]  ? percpu_counter_add_batch+0xd9/0x210
[   28.478519]  ? __pfx_copy_vma_and_data+0x10/0x10
[   28.478527]  ? vms_complete_munmap_vmas+0x525/0x810
[   28.478546]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   28.478554]  ? __this_cpu_preempt_check+0x21/0x30
[   28.478568]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.478579]  ? mtree_range_walk+0x728/0xb70
[   28.478594]  ? __lock_acquire+0x412/0x22a0
[   28.478606]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.478618]  ? percpu_counter_add_batch+0xd9/0x210
[   28.478625]  ? debug_smp_processor_id+0x20/0x30
[   28.478638]  ? __this_cpu_preempt_check+0x21/0x30
[   28.478646]  ? lock_is_held_type+0xef/0x150
[   28.478661]  move_vma+0x689/0x1a60
[   28.478676]  ? __pfx_move_vma+0x10/0x10
[   28.478686]  ? cap_mmap_addr+0x58/0x140
[   28.478696]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.478708]  ? security_mmap_addr+0x63/0x1b0
[   28.478718]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.478729]  ? __get_unmapped_area+0x1a4/0x440
[   28.478744]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.478755]  ? vrm_set_new_addr+0x21d/0x2b0
[   28.478767]  __do_sys_mremap+0xeb4/0x1620
[   28.478778]  ? __pfx___do_sys_mremap+0x10/0x10
[   28.478791]  ? __this_cpu_preempt_check+0x21/0x30
[   28.478807]  ? __this_cpu_preempt_check+0x21/0x30
[   28.478830]  __x64_sys_mremap+0xc7/0x150
[   28.478839]  ? syscall_trace_enter+0x14d/0x280
[   28.478850]  x64_sys_call+0x1933/0x2150
[   28.478857]  do_syscall_64+0x6d/0x2e0
[   28.478870]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.478877] RIP: 0033:0x7fad0523ee5d
[   28.478885] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   28.478891] RSP: 002b:00007ffff6992f08 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   28.478898] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fad0523ee5d
[   28.478902] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   28.478906] RBP: 00007ffff6992f10 R08: 000000002038d000 R09: 0000000000000001
[   28.478910] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffff6993028
[   28.478917] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fad054bc000
[   28.478935]  </TASK>
[   29.493287] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   29.493736] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1112, name: repro
[   29.494093] preempt_count: 1, expected: 0
[   29.494287] RCU nest depth: 1, expected: 0
[   29.494509] 4 locks held by repro/1112:
[   29.494695]  #0: ffff8880179f8c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   29.495122]  #1: ffff88802aec78f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   29.495559]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   29.495971]  #3: ffff88802a897a98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   29.496427] Preemption disabled at:
[   29.496430] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   29.496889] CPU: 0 UID: 0 PID: 1112 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   29.496899] Tainted: [W]=WARN
[   29.496901] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.496911] Call Trace:
[   29.496913]  <TASK>
[   29.496916]  dump_stack_lvl+0x121/0x150
[   29.496933]  dump_stack+0x19/0x20
[   29.496941]  __might_resched+0x37b/0x5a0
[   29.496952]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.496966]  __might_sleep+0xa3/0x170
[   29.496975]  ? vm_normal_folio+0x8c/0x170
[   29.496986]  __relocate_anon_folios+0x7bd/0x11a0
[   29.497000]  ? __pfx___relocate_anon_folios+0x10/0x10
[   29.497011]  ? __this_cpu_preempt_check+0x21/0x30
[   29.497018]  ? lock_set_class+0x17a/0x260
[   29.497033]  copy_vma_and_data+0x606/0x1790
[   29.497045]  ? percpu_counter_add_batch+0xd9/0x210
[   29.497057]  ? __pfx_copy_vma_and_data+0x10/0x10
[   29.497064]  ? vms_complete_munmap_vmas+0x525/0x810
[   29.497079]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   29.497085]  ? __this_cpu_preempt_check+0x21/0x30
[   29.497096]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.497106]  ? mtree_range_walk+0x728/0xb70
[   29.497117]  ? __lock_acquire+0x412/0x22a0
[   29.497127]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.497136]  ? percpu_counter_add_batch+0xd9/0x210
[   29.497142]  ? debug_smp_processor_id+0x20/0x30
[   29.497152]  ? __this_cpu_preempt_check+0x21/0x30
[   29.497159]  ? lock_is_held_type+0xef/0x150
[   29.497171]  move_vma+0x689/0x1a60
[   29.497182]  ? __pfx_move_vma+0x10/0x10
[   29.497191]  ? cap_mmap_addr+0x58/0x140
[   29.497200]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.497209]  ? security_mmap_addr+0x63/0x1b0
[   29.497220]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.497230]  ? __get_unmapped_area+0x1a4/0x440
[   29.497241]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.497250]  ? vrm_set_new_addr+0x21d/0x2b0
[   29.497260]  __do_sys_mremap+0xeb4/0x1620
[   29.497269]  ? __pfx___do_sys_mremap+0x10/0x10
[   29.497280]  ? __this_cpu_preempt_check+0x21/0x30
[   29.497293]  ? __this_cpu_preempt_check+0x21/0x30
[   29.497311]  __x64_sys_mremap+0xc7/0x150
[   29.497318]  ? syscall_trace_enter+0x14d/0x280
[   29.497328]  x64_sys_call+0x1933/0x2150
[   29.497335]  do_syscall_64+0x6d/0x2e0
[   29.497345]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.497352] RIP: 0033:0x7f914483ee5d
[   29.497359] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   29.497365] RSP: 002b:00007ffd4e625788 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   29.497371] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f914483ee5d
[   29.497375] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   29.497379] RBP: 00007ffd4e625790 R08: 000000002038d000 R09: 0000000000000001
[   29.497383] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd4e6258a8
[   29.497386] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9144bc1000
[   29.497399]  </TASK>
[   30.513564] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   30.514018] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1149, name: repro
[   30.514372] preempt_count: 1, expected: 0
[   30.514590] RCU nest depth: 1, expected: 0
[   30.514789] 4 locks held by repro/1149:
[   30.514980]  #0: ffff8880123d40e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   30.515403]  #1: ffff888024efc7e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   30.515841]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   30.516251]  #3: ffff888011ce04f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   30.516707] Preemption disabled at:
[   30.516710] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   30.517173] CPU: 1 UID: 0 PID: 1149 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   30.517183] Tainted: [W]=WARN
[   30.517185] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.517190] Call Trace:
[   30.517192]  <TASK>
[   30.517195]  dump_stack_lvl+0x121/0x150
[   30.517208]  dump_stack+0x19/0x20
[   30.517230]  __might_resched+0x37b/0x5a0
[   30.517241]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.517255]  __might_sleep+0xa3/0x170
[   30.517264]  ? vm_normal_folio+0x8c/0x170
[   30.517274]  __relocate_anon_folios+0x7bd/0x11a0
[   30.517289]  ? __pfx___relocate_anon_folios+0x10/0x10
[   30.517302]  ? __this_cpu_preempt_check+0x21/0x30
[   30.517310]  ? lock_set_class+0x17a/0x260
[   30.517324]  copy_vma_and_data+0x606/0x1790
[   30.517336]  ? percpu_counter_add_batch+0xd9/0x210
[   30.517349]  ? __pfx_copy_vma_and_data+0x10/0x10
[   30.517356]  ? vms_complete_munmap_vmas+0x525/0x810
[   30.517370]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   30.517377]  ? __this_cpu_preempt_check+0x21/0x30
[   30.517387]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.517397]  ? mtree_range_walk+0x728/0xb70
[   30.517409]  ? __lock_acquire+0x412/0x22a0
[   30.517418]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.517428]  ? percpu_counter_add_batch+0xd9/0x210
[   30.517433]  ? debug_smp_processor_id+0x20/0x30
[   30.517444]  ? __this_cpu_preempt_check+0x21/0x30
[   30.517450]  ? lock_is_held_type+0xef/0x150
[   30.517462]  move_vma+0x689/0x1a60
[   30.517474]  ? __pfx_move_vma+0x10/0x10
[   30.517483]  ? cap_mmap_addr+0x58/0x140
[   30.517494]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.517503]  ? security_mmap_addr+0x63/0x1b0
[   30.517512]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.517521]  ? __get_unmapped_area+0x1a4/0x440
[   30.517533]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.517542]  ? vrm_set_new_addr+0x21d/0x2b0
[   30.517551]  __do_sys_mremap+0xeb4/0x1620
[   30.517561]  ? __pfx___do_sys_mremap+0x10/0x10
[   30.517571]  ? __this_cpu_preempt_check+0x21/0x30
[   30.517584]  ? __this_cpu_preempt_check+0x21/0x30
[   30.517602]  __x64_sys_mremap+0xc7/0x150
[   30.517609]  ? syscall_trace_enter+0x14d/0x280
[   30.517619]  x64_sys_call+0x1933/0x2150
[   30.517626]  do_syscall_64+0x6d/0x2e0
[   30.517637]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.517643] RIP: 0033:0x7ff06863ee5d
[   30.517650] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   30.517656] RSP: 002b:00007ffccb15e158 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   30.517662] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff06863ee5d
[   30.517666] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   30.517670] RBP: 00007ffccb15e160 R08: 000000002038d000 R09: 0000000000000001
[   30.517673] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffccb15e278
[   30.517677] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff068a29000
[   30.517690]  </TASK>
[   31.518445] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   31.518920] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1186, name: repro
[   31.519275] preempt_count: 1, expected: 0
[   31.519469] RCU nest depth: 1, expected: 0
[   31.519679] 4 locks held by repro/1186:
[   31.519867]  #0: ffff88802542eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   31.520294]  #1: ffff888024f51c28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   31.520735]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   31.521154]  #3: ffff88802a9e6b58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   31.521616] Preemption disabled at:
[   31.521619] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   31.522075] CPU: 1 UID: 0 PID: 1186 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   31.522086] Tainted: [W]=WARN
[   31.522088] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.522093] Call Trace:
[   31.522096]  <TASK>
[   31.522099]  dump_stack_lvl+0x121/0x150
[   31.522112]  dump_stack+0x19/0x20
[   31.522120]  __might_resched+0x37b/0x5a0
[   31.522131]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.522145]  __might_sleep+0xa3/0x170
[   31.522154]  ? vm_normal_folio+0x8c/0x170
[   31.522168]  __relocate_anon_folios+0x7bd/0x11a0
[   31.522182]  ? __pfx___relocate_anon_folios+0x10/0x10
[   31.522193]  ? __this_cpu_preempt_check+0x21/0x30
[   31.522201]  ? lock_set_class+0x17a/0x260
[   31.522215]  copy_vma_and_data+0x606/0x1790
[   31.522227]  ? percpu_counter_add_batch+0xd9/0x210
[   31.522239]  ? __pfx_copy_vma_and_data+0x10/0x10
[   31.522246]  ? vms_complete_munmap_vmas+0x525/0x810
[   31.522261]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   31.522268]  ? __this_cpu_preempt_check+0x21/0x30
[   31.522279]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.522288]  ? mtree_range_walk+0x728/0xb70
[   31.522300]  ? __lock_acquire+0x412/0x22a0
[   31.522309]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.522319]  ? percpu_counter_add_batch+0xd9/0x210
[   31.522324]  ? debug_smp_processor_id+0x20/0x30
[   31.522335]  ? __this_cpu_preempt_check+0x21/0x30
[   31.522341]  ? lock_is_held_type+0xef/0x150
[   31.522353]  move_vma+0x689/0x1a60
[   31.522365]  ? __pfx_move_vma+0x10/0x10
[   31.522373]  ? cap_mmap_addr+0x58/0x140
[   31.522382]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.522391]  ? security_mmap_addr+0x63/0x1b0
[   31.522400]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.522409]  ? __get_unmapped_area+0x1a4/0x440
[   31.522421]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.522430]  ? vrm_set_new_addr+0x21d/0x2b0
[   31.522440]  __do_sys_mremap+0xeb4/0x1620
[   31.522451]  ? __pfx___do_sys_mremap+0x10/0x10
[   31.522464]  ? __this_cpu_preempt_check+0x21/0x30
[   31.522481]  ? __this_cpu_preempt_check+0x21/0x30
[   31.522504]  __x64_sys_mremap+0xc7/0x150
[   31.522513]  ? syscall_trace_enter+0x14d/0x280
[   31.522524]  x64_sys_call+0x1933/0x2150
[   31.522532]  do_syscall_64+0x6d/0x2e0
[   31.522545]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.522552] RIP: 0033:0x7fcdcc03ee5d
[   31.522560] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   31.522567] RSP: 002b:00007fffd3323e98 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   31.522574] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcdcc03ee5d
[   31.522578] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   31.522582] RBP: 00007fffd3323ea0 R08: 000000002038d000 R09: 0000000000000001
[   31.522587] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffd3323fb8
[   31.522591] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcdcc334000
[   31.522608]  </TASK>
[   32.524966] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   32.525404] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1223, name: repro
[   32.525763] preempt_count: 1, expected: 0
[   32.525957] RCU nest depth: 1, expected: 0
[   32.526150] 4 locks held by repro/1223:
[   32.526332]  #0: ffff88801ad36ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   32.526783]  #1: ffff8880116c4f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   32.527226]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   32.527636]  #3: ffff88802666cb58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   32.528102] Preemption disabled at:
[   32.528104] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   32.528568] CPU: 1 UID: 0 PID: 1223 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   32.528578] Tainted: [W]=WARN
[   32.528580] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.528585] Call Trace:
[   32.528588]  <TASK>
[   32.528590]  dump_stack_lvl+0x121/0x150
[   32.528604]  dump_stack+0x19/0x20
[   32.528612]  __might_resched+0x37b/0x5a0
[   32.528623]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.528637]  __might_sleep+0xa3/0x170
[   32.528646]  ? vm_normal_folio+0x8c/0x170
[   32.528657]  __relocate_anon_folios+0x7bd/0x11a0
[   32.528671]  ? __pfx___relocate_anon_folios+0x10/0x10
[   32.528682]  ? __this_cpu_preempt_check+0x21/0x30
[   32.528690]  ? lock_set_class+0x17a/0x260
[   32.528717]  copy_vma_and_data+0x606/0x1790
[   32.528729]  ? percpu_counter_add_batch+0xd9/0x210
[   32.528741]  ? __pfx_copy_vma_and_data+0x10/0x10
[   32.528748]  ? vms_complete_munmap_vmas+0x525/0x810
[   32.528765]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   32.528771]  ? __this_cpu_preempt_check+0x21/0x30
[   32.528782]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.528791]  ? mtree_range_walk+0x728/0xb70
[   32.528803]  ? __lock_acquire+0x412/0x22a0
[   32.528813]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.528822]  ? percpu_counter_add_batch+0xd9/0x210
[   32.528828]  ? debug_smp_processor_id+0x20/0x30
[   32.528838]  ? __this_cpu_preempt_check+0x21/0x30
[   32.528845]  ? lock_is_held_type+0xef/0x150
[   32.528857]  move_vma+0x689/0x1a60
[   32.528869]  ? __pfx_move_vma+0x10/0x10
[   32.528877]  ? cap_mmap_addr+0x58/0x140
[   32.528886]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.528895]  ? security_mmap_addr+0x63/0x1b0
[   32.528904]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.528914]  ? __get_unmapped_area+0x1a4/0x440
[   32.528928]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.528937]  ? vrm_set_new_addr+0x21d/0x2b0
[   32.528947]  __do_sys_mremap+0xeb4/0x1620
[   32.528956]  ? __pfx___do_sys_mremap+0x10/0x10
[   32.528966]  ? __this_cpu_preempt_check+0x21/0x30
[   32.528980]  ? __this_cpu_preempt_check+0x21/0x30
[   32.528997]  __x64_sys_mremap+0xc7/0x150
[   32.529005]  ? syscall_trace_enter+0x14d/0x280
[   32.529015]  x64_sys_call+0x1933/0x2150
[   32.529022]  do_syscall_64+0x6d/0x2e0
[   32.529032]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.529038] RIP: 0033:0x7f19aea3ee5d
[   32.529045] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   32.529051] RSP: 002b:00007fff579f0288 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   32.529058] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f19aea3ee5d
[   32.529061] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   32.529065] RBP: 00007fff579f0290 R08: 000000002038d000 R09: 0000000000000001
[   32.529069] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff579f03a8
[   32.529072] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f19aede4000
[   32.529085]  </TASK>
[   33.531271] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   33.531709] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1259, name: repro
[   33.532066] preempt_count: 1, expected: 0
[   33.532256] RCU nest depth: 1, expected: 0
[   33.532449] 4 locks held by repro/1259:
[   33.532634]  #0: ffff888017900c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   33.533058]  #1: ffff88802aad7f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   33.533494]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   33.533904]  #3: ffff88802ac3beb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   33.534368] Preemption disabled at:
[   33.534373] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   33.534868] CPU: 1 UID: 0 PID: 1259 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   33.534878] Tainted: [W]=WARN
[   33.534883] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.534888] Call Trace:
[   33.534890]  <TASK>
[   33.534893]  dump_stack_lvl+0x121/0x150
[   33.534907]  dump_stack+0x19/0x20
[   33.534918]  __might_resched+0x37b/0x5a0
[   33.534929]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.534944]  __might_sleep+0xa3/0x170
[   33.534953]  ? vm_normal_folio+0x8c/0x170
[   33.534964]  __relocate_anon_folios+0x7bd/0x11a0
[   33.534979]  ? __pfx___relocate_anon_folios+0x10/0x10
[   33.534990]  ? __this_cpu_preempt_check+0x21/0x30
[   33.534998]  ? lock_set_class+0x17a/0x260
[   33.535013]  copy_vma_and_data+0x606/0x1790
[   33.535025]  ? percpu_counter_add_batch+0xd9/0x210
[   33.535038]  ? __pfx_copy_vma_and_data+0x10/0x10
[   33.535045]  ? vms_complete_munmap_vmas+0x525/0x810
[   33.535062]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   33.535069]  ? __this_cpu_preempt_check+0x21/0x30
[   33.535080]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.535089]  ? mtree_range_walk+0x728/0xb70
[   33.535101]  ? __lock_acquire+0x412/0x22a0
[   33.535111]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.535120]  ? percpu_counter_add_batch+0xd9/0x210
[   33.535125]  ? debug_smp_processor_id+0x20/0x30
[   33.535136]  ? __this_cpu_preempt_check+0x21/0x30
[   33.535142]  ? lock_is_held_type+0xef/0x150
[   33.535155]  move_vma+0x689/0x1a60
[   33.535166]  ? __pfx_move_vma+0x10/0x10
[   33.535175]  ? cap_mmap_addr+0x58/0x140
[   33.535183]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.535193]  ? security_mmap_addr+0x63/0x1b0
[   33.535201]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.535211]  ? __get_unmapped_area+0x1a4/0x440
[   33.535222]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.535232]  ? vrm_set_new_addr+0x21d/0x2b0
[   33.535241]  __do_sys_mremap+0xeb4/0x1620
[   33.535251]  ? __pfx___do_sys_mremap+0x10/0x10
[   33.535268]  ? __this_cpu_preempt_check+0x21/0x30
[   33.535286]  __x64_sys_mremap+0xc7/0x150
[   33.535293]  ? syscall_trace_enter+0x14d/0x280
[   33.535303]  x64_sys_call+0x1933/0x2150
[   33.535310]  do_syscall_64+0x6d/0x2e0
[   33.535322]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.535329] RIP: 0033:0x7f219fe3ee5d
[   33.535336] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   33.535342] RSP: 002b:00007ffe208431f8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   33.535349] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f219fe3ee5d
[   33.535352] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   33.535356] RBP: 00007ffe20843200 R08: 000000002038d000 R09: 0000000000000001
[   33.535360] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe20843318
[   33.535364] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f21a013f000
[   33.535376]  </TASK>
[   34.531855] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   34.532345] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1294, name: repro
[   34.532731] preempt_count: 1, expected: 0
[   34.532939] RCU nest depth: 1, expected: 0
[   34.533148] 4 locks held by repro/1294:
[   34.533347]  #0: ffff888017d92be0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   34.533805]  #1: ffff8880276b1e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   34.534288]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   34.534766]  #3: ffff8880276ba7f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   34.535266] Preemption disabled at:
[   34.535268] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   34.535766] CPU: 0 UID: 0 PID: 1294 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   34.535777] Tainted: [W]=WARN
[   34.535780] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.535784] Call Trace:
[   34.535787]  <TASK>
[   34.535790]  dump_stack_lvl+0x121/0x150
[   34.535805]  dump_stack+0x19/0x20
[   34.535813]  __might_resched+0x37b/0x5a0
[   34.535825]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.535840]  __might_sleep+0xa3/0x170
[   34.535850]  ? vm_normal_folio+0x8c/0x170
[   34.535861]  __relocate_anon_folios+0x7bd/0x11a0
[   34.535877]  ? __pfx___relocate_anon_folios+0x10/0x10
[   34.535888]  ? __this_cpu_preempt_check+0x21/0x30
[   34.535897]  ? lock_set_class+0x17a/0x260
[   34.535912]  copy_vma_and_data+0x606/0x1790
[   34.535928]  ? percpu_counter_add_batch+0xd9/0x210
[   34.535941]  ? __pfx_copy_vma_and_data+0x10/0x10
[   34.535948]  ? vms_complete_munmap_vmas+0x525/0x810
[   34.535964]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   34.535972]  ? __this_cpu_preempt_check+0x21/0x30
[   34.535984]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.535994]  ? mtree_range_walk+0x728/0xb70
[   34.536007]  ? __lock_acquire+0x412/0x22a0
[   34.536032]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.536045]  ? percpu_counter_add_batch+0xd9/0x210
[   34.536052]  ? debug_smp_processor_id+0x20/0x30
[   34.536063]  ? __this_cpu_preempt_check+0x21/0x30
[   34.536070]  ? lock_is_held_type+0xef/0x150
[   34.536083]  move_vma+0x689/0x1a60
[   34.536095]  ? __pfx_move_vma+0x10/0x10
[   34.536105]  ? cap_mmap_addr+0x58/0x140
[   34.536114]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.536124]  ? security_mmap_addr+0x63/0x1b0
[   34.536134]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.536144]  ? __get_unmapped_area+0x1a4/0x440
[   34.536156]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.536166]  ? vrm_set_new_addr+0x21d/0x2b0
[   34.536177]  __do_sys_mremap+0xeb4/0x1620
[   34.536187]  ? __pfx___do_sys_mremap+0x10/0x10
[   34.536198]  ? __this_cpu_preempt_check+0x21/0x30
[   34.536212]  ? __this_cpu_preempt_check+0x21/0x30
[   34.536231]  __x64_sys_mremap+0xc7/0x150
[   34.536239]  ? syscall_trace_enter+0x14d/0x280
[   34.536249]  x64_sys_call+0x1933/0x2150
[   34.536257]  do_syscall_64+0x6d/0x2e0
[   34.536268]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.536275] RIP: 0033:0x7f2e5163ee5d
[   34.536283] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   34.536290] RSP: 002b:00007ffda17a39b8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   34.536296] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2e5163ee5d
[   34.536300] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   34.536304] RBP: 00007ffda17a39c0 R08: 000000002038d000 R09: 0000000000000001
[   34.536308] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffda17a3ad8
[   34.536312] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2e519fc000
[   34.536326]  </TASK>
[   35.550869] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   35.551341] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1328, name: repro
[   35.551713] preempt_count: 1, expected: 0
[   35.551912] RCU nest depth: 1, expected: 0
[   35.552118] 4 locks held by repro/1328:
[   35.552312]  #0: ffff888024e6b660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   35.552755]  #1: ffff888011d2bc28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   35.553215]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   35.553644]  #3: ffff888011adbf78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   35.554123] Preemption disabled at:
[   35.554125] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   35.554631] CPU: 1 UID: 0 PID: 1328 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   35.554642] Tainted: [W]=WARN
[   35.554644] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.554649] Call Trace:
[   35.554652]  <TASK>
[   35.554669]  dump_stack_lvl+0x121/0x150
[   35.554683]  dump_stack+0x19/0x20
[   35.554692]  __might_resched+0x37b/0x5a0
[   35.554703]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.554718]  __might_sleep+0xa3/0x170
[   35.554727]  ? vm_normal_folio+0x8c/0x170
[   35.554738]  __relocate_anon_folios+0x7bd/0x11a0
[   35.554754]  ? __pfx___relocate_anon_folios+0x10/0x10
[   35.554765]  ? __this_cpu_preempt_check+0x21/0x30
[   35.554773]  ? lock_set_class+0x17a/0x260
[   35.554788]  copy_vma_and_data+0x606/0x1790
[   35.554801]  ? percpu_counter_add_batch+0xd9/0x210
[   35.554813]  ? __pfx_copy_vma_and_data+0x10/0x10
[   35.554821]  ? vms_complete_munmap_vmas+0x525/0x810
[   35.554836]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   35.554843]  ? __this_cpu_preempt_check+0x21/0x30
[   35.554855]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.554865]  ? mtree_range_walk+0x728/0xb70
[   35.554878]  ? __lock_acquire+0x412/0x22a0
[   35.554888]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.554898]  ? percpu_counter_add_batch+0xd9/0x210
[   35.554904]  ? debug_smp_processor_id+0x20/0x30
[   35.554918]  ? __this_cpu_preempt_check+0x21/0x30
[   35.554927]  ? lock_is_held_type+0xef/0x150
[   35.554940]  move_vma+0x689/0x1a60
[   35.554952]  ? __pfx_move_vma+0x10/0x10
[   35.554961]  ? cap_mmap_addr+0x58/0x140
[   35.554971]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.554980]  ? security_mmap_addr+0x63/0x1b0
[   35.554989]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.554999]  ? __get_unmapped_area+0x1a4/0x440
[   35.555011]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.555021]  ? vrm_set_new_addr+0x21d/0x2b0
[   35.555031]  __do_sys_mremap+0xeb4/0x1620
[   35.555046]  ? __pfx___do_sys_mremap+0x10/0x10
[   35.555057]  ? __this_cpu_preempt_check+0x21/0x30
[   35.555071]  ? __this_cpu_preempt_check+0x21/0x30
[   35.555089]  __x64_sys_mremap+0xc7/0x150
[   35.555097]  ? syscall_trace_enter+0x14d/0x280
[   35.555107]  x64_sys_call+0x1933/0x2150
[   35.555115]  do_syscall_64+0x6d/0x2e0
[   35.555126]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.555132] RIP: 0033:0x7f9f0443ee5d
[   35.555140] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   35.555147] RSP: 002b:00007ffe2d444578 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   35.555153] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9f0443ee5d
[   35.555157] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   35.555163] RBP: 00007ffe2d444580 R08: 000000002038d000 R09: 0000000000000001
[   35.555167] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe2d444698
[   35.555171] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9f0478b000
[   35.555184]  </TASK>
[   36.557637] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   36.558078] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1363, name: repro
[   36.558487] preempt_count: 1, expected: 0
[   36.558669] RCU nest depth: 1, expected: 0
[   36.558845] 4 locks held by repro/1363:
[   36.559036]  #0: ffff888015b4e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   36.559466]  #1: ffff88802a8377e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   36.559915]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   36.560332]  #3: ffff888015327438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   36.560800] Preemption disabled at:
[   36.560803] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   36.561280] CPU: 1 UID: 0 PID: 1363 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   36.561291] Tainted: [W]=WARN
[   36.561293] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.561298] Call Trace:
[   36.561300]  <TASK>
[   36.561303]  dump_stack_lvl+0x121/0x150
[   36.561317]  dump_stack+0x19/0x20
[   36.561325]  __might_resched+0x37b/0x5a0
[   36.561337]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.561352]  __might_sleep+0xa3/0x170
[   36.561361]  ? vm_normal_folio+0x8c/0x170
[   36.561372]  __relocate_anon_folios+0x7bd/0x11a0
[   36.561387]  ? __pfx___relocate_anon_folios+0x10/0x10
[   36.561399]  ? __this_cpu_preempt_check+0x21/0x30
[   36.561407]  ? lock_set_class+0x17a/0x260
[   36.561422]  copy_vma_and_data+0x606/0x1790
[   36.561434]  ? percpu_counter_add_batch+0xd9/0x210
[   36.561447]  ? __pfx_copy_vma_and_data+0x10/0x10
[   36.561454]  ? vms_complete_munmap_vmas+0x525/0x810
[   36.561470]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   36.561477]  ? __this_cpu_preempt_check+0x21/0x30
[   36.561488]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.561498]  ? mtree_range_walk+0x728/0xb70
[   36.561510]  ? __lock_acquire+0x412/0x22a0
[   36.561521]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.561530]  ? percpu_counter_add_batch+0xd9/0x210
[   36.561536]  ? debug_smp_processor_id+0x20/0x30
[   36.561547]  ? __this_cpu_preempt_check+0x21/0x30
[   36.561554]  ? lock_is_held_type+0xef/0x150
[   36.561567]  move_vma+0x689/0x1a60
[   36.561579]  ? __pfx_move_vma+0x10/0x10
[   36.561596]  ? cap_mmap_addr+0x58/0x140
[   36.561605]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.561620]  ? security_mmap_addr+0x63/0x1b0
[   36.561629]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.561639]  ? __get_unmapped_area+0x1a4/0x440
[   36.561651]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.561661]  ? vrm_set_new_addr+0x21d/0x2b0
[   36.561670]  __do_sys_mremap+0xeb4/0x1620
[   36.561681]  ? __pfx___do_sys_mremap+0x10/0x10
[   36.561691]  ? __this_cpu_preempt_check+0x21/0x30
[   36.561705]  ? __this_cpu_preempt_check+0x21/0x30
[   36.561723]  __x64_sys_mremap+0xc7/0x150
[   36.561731]  ? syscall_trace_enter+0x14d/0x280
[   36.561741]  x64_sys_call+0x1933/0x2150
[   36.561748]  do_syscall_64+0x6d/0x2e0
[   36.561760]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.561766] RIP: 0033:0x7f16e9e3ee5d
[   36.561774] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   36.561780] RSP: 002b:00007fff938de808 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   36.561786] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f16e9e3ee5d
[   36.561790] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   36.561794] RBP: 00007fff938de810 R08: 000000002038d000 R09: 0000000000000001
[   36.561798] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff938de928
[   36.561802] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f16ea200000
[   36.561816]  </TASK>
[   37.555958] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   37.556424] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1397, name: repro
[   37.556796] preempt_count: 1, expected: 0
[   37.557000] RCU nest depth: 1, expected: 0
[   37.557206] 4 locks held by repro/1397:
[   37.557402]  #0: ffff8880219055e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   37.557852]  #1: ffff88802bf7b5c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   37.558320]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   37.558781]  #3: ffff888014b63618 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   37.559241] Preemption disabled at:
[   37.559244] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   37.559724] CPU: 1 UID: 0 PID: 1397 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   37.559735] Tainted: [W]=WARN
[   37.559737] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.559742] Call Trace:
[   37.559744]  <TASK>
[   37.559748]  dump_stack_lvl+0x121/0x150
[   37.559762]  dump_stack+0x19/0x20
[   37.559770]  __might_resched+0x37b/0x5a0
[   37.559782]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.559796]  __might_sleep+0xa3/0x170
[   37.559806]  ? vm_normal_folio+0x8c/0x170
[   37.559824]  __relocate_anon_folios+0x7bd/0x11a0
[   37.559838]  ? __pfx___relocate_anon_folios+0x10/0x10
[   37.559849]  ? __this_cpu_preempt_check+0x21/0x30
[   37.559858]  ? lock_set_class+0x17a/0x260
[   37.559873]  copy_vma_and_data+0x606/0x1790
[   37.559886]  ? percpu_counter_add_batch+0xd9/0x210
[   37.559899]  ? __pfx_copy_vma_and_data+0x10/0x10
[   37.559906]  ? vms_complete_munmap_vmas+0x525/0x810
[   37.559924]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   37.559931]  ? __this_cpu_preempt_check+0x21/0x30
[   37.559942]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.559952]  ? mtree_range_walk+0x728/0xb70
[   37.559965]  ? __lock_acquire+0x412/0x22a0
[   37.559975]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.559985]  ? percpu_counter_add_batch+0xd9/0x210
[   37.559990]  ? debug_smp_processor_id+0x20/0x30
[   37.560002]  ? __this_cpu_preempt_check+0x21/0x30
[   37.560008]  ? lock_is_held_type+0xef/0x150
[   37.560021]  move_vma+0x689/0x1a60
[   37.560033]  ? __pfx_move_vma+0x10/0x10
[   37.560042]  ? cap_mmap_addr+0x58/0x140
[   37.560052]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.560062]  ? security_mmap_addr+0x63/0x1b0
[   37.560071]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.560081]  ? __get_unmapped_area+0x1a4/0x440
[   37.560095]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.560105]  ? vrm_set_new_addr+0x21d/0x2b0
[   37.560115]  __do_sys_mremap+0xeb4/0x1620
[   37.560125]  ? __pfx___do_sys_mremap+0x10/0x10
[   37.560136]  ? __this_cpu_preempt_check+0x21/0x30
[   37.560150]  ? __this_cpu_preempt_check+0x21/0x30
[   37.560168]  __x64_sys_mremap+0xc7/0x150
[   37.560176]  ? syscall_trace_enter+0x14d/0x280
[   37.560186]  x64_sys_call+0x1933/0x2150
[   37.560193]  do_syscall_64+0x6d/0x2e0
[   37.560204]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.560211] RIP: 0033:0x7f2fa303ee5d
[   37.560219] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   37.560225] RSP: 002b:00007ffd32bc0248 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   37.560232] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2fa303ee5d
[   37.560236] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   37.560240] RBP: 00007ffd32bc0250 R08: 000000002038d000 R09: 0000000000000001
[   37.560244] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd32bc0368
[   37.560248] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2fa3313000
[   37.560261]  </TASK>
[   38.557171] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   38.557638] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1431, name: repro
[   38.558013] preempt_count: 1, expected: 0
[   38.558213] RCU nest depth: 1, expected: 0
[   38.558416] 4 locks held by repro/1431:
[   38.558634]  #0: ffff8880156281e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   38.559080]  #1: ffff8880146675c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   38.559539]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   38.559974]  #3: ffff88802a824f78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   38.560454] Preemption disabled at:
[   38.560457] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   38.560929] CPU: 1 UID: 0 PID: 1431 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   38.560939] Tainted: [W]=WARN
[   38.560942] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.560946] Call Trace:
[   38.560949]  <TASK>
[   38.560951]  dump_stack_lvl+0x121/0x150
[   38.560965]  dump_stack+0x19/0x20
[   38.560974]  __might_resched+0x37b/0x5a0
[   38.560985]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.561004]  __might_sleep+0xa3/0x170
[   38.561013]  ? vm_normal_folio+0x8c/0x170
[   38.561024]  __relocate_anon_folios+0x7bd/0x11a0
[   38.561039]  ? __pfx___relocate_anon_folios+0x10/0x10
[   38.561050]  ? __this_cpu_preempt_check+0x21/0x30
[   38.561059]  ? lock_set_class+0x17a/0x260
[   38.561074]  copy_vma_and_data+0x606/0x1790
[   38.561087]  ? percpu_counter_add_batch+0xd9/0x210
[   38.561099]  ? __pfx_copy_vma_and_data+0x10/0x10
[   38.561107]  ? vms_complete_munmap_vmas+0x525/0x810
[   38.561122]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   38.561129]  ? __this_cpu_preempt_check+0x21/0x30
[   38.561141]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.561151]  ? mtree_range_walk+0x728/0xb70
[   38.561163]  ? __lock_acquire+0x412/0x22a0
[   38.561173]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.561183]  ? percpu_counter_add_batch+0xd9/0x210
[   38.561189]  ? debug_smp_processor_id+0x20/0x30
[   38.561200]  ? __this_cpu_preempt_check+0x21/0x30
[   38.561207]  ? lock_is_held_type+0xef/0x150
[   38.561220]  move_vma+0x689/0x1a60
[   38.561232]  ? __pfx_move_vma+0x10/0x10
[   38.561241]  ? cap_mmap_addr+0x58/0x140
[   38.561250]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.561260]  ? security_mmap_addr+0x63/0x1b0
[   38.561269]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.561279]  ? __get_unmapped_area+0x1a4/0x440
[   38.561291]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.561306]  ? vrm_set_new_addr+0x21d/0x2b0
[   38.561316]  __do_sys_mremap+0xeb4/0x1620
[   38.561326]  ? __pfx___do_sys_mremap+0x10/0x10
[   38.561339]  ? __this_cpu_preempt_check+0x21/0x30
[   38.561353]  ? __this_cpu_preempt_check+0x21/0x30
[   38.561372]  __x64_sys_mremap+0xc7/0x150
[   38.561379]  ? syscall_trace_enter+0x14d/0x280
[   38.561390]  x64_sys_call+0x1933/0x2150
[   38.561397]  do_syscall_64+0x6d/0x2e0
[   38.561408]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.561415] RIP: 0033:0x7f0c09a3ee5d
[   38.561422] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   38.561429] RSP: 002b:00007ffd1810e0d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   38.561435] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f0c09a3ee5d
[   38.561439] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   38.561443] RBP: 00007ffd1810e0e0 R08: 000000002038d000 R09: 0000000000000001
[   38.561447] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd1810e1f8
[   38.561451] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f0c09d46000
[   38.561464]  </TASK>
[   39.569308] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   39.569746] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1469, name: repro
[   39.570101] preempt_count: 1, expected: 0
[   39.570289] RCU nest depth: 1, expected: 0
[   39.570523] 4 locks held by repro/1469:
[   39.570706]  #0: ffff8880123d16e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   39.571133]  #1: ffff8880150855c8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   39.571569]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   39.572094]  #3: ffff88801b50c438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   39.572832] Preemption disabled at:
[   39.572836] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   39.573306] CPU: 1 UID: 0 PID: 1469 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   39.573316] Tainted: [W]=WARN
[   39.573319] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.573323] Call Trace:
[   39.573326]  <TASK>
[   39.573329]  dump_stack_lvl+0x121/0x150
[   39.573343]  dump_stack+0x19/0x20
[   39.573351]  __might_resched+0x37b/0x5a0
[   39.573362]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.573376]  __might_sleep+0xa3/0x170
[   39.573385]  ? vm_normal_folio+0x8c/0x170
[   39.573395]  __relocate_anon_folios+0x7bd/0x11a0
[   39.573410]  ? __pfx___relocate_anon_folios+0x10/0x10
[   39.573420]  ? __this_cpu_preempt_check+0x21/0x30
[   39.573428]  ? lock_set_class+0x17a/0x260
[   39.573443]  copy_vma_and_data+0x606/0x1790
[   39.573460]  ? percpu_counter_add_batch+0xd9/0x210
[   39.573472]  ? __pfx_copy_vma_and_data+0x10/0x10
[   39.573479]  ? vms_complete_munmap_vmas+0x525/0x810
[   39.573494]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   39.573500]  ? __this_cpu_preempt_check+0x21/0x30
[   39.573511]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.573520]  ? mtree_range_walk+0x728/0xb70
[   39.573532]  ? __lock_acquire+0x412/0x22a0
[   39.573542]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.573551]  ? percpu_counter_add_batch+0xd9/0x210
[   39.573557]  ? debug_smp_processor_id+0x20/0x30
[   39.573567]  ? __this_cpu_preempt_check+0x21/0x30
[   39.573574]  ? lock_is_held_type+0xef/0x150
[   39.573586]  move_vma+0x689/0x1a60
[   39.573597]  ? __pfx_move_vma+0x10/0x10
[   39.573606]  ? cap_mmap_addr+0x58/0x140
[   39.573615]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.573624]  ? security_mmap_addr+0x63/0x1b0
[   39.573633]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.573642]  ? __get_unmapped_area+0x1a4/0x440
[   39.573653]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.573663]  ? vrm_set_new_addr+0x21d/0x2b0
[   39.573672]  __do_sys_mremap+0xeb4/0x1620
[   39.573682]  ? __pfx___do_sys_mremap+0x10/0x10
[   39.573692]  ? __this_cpu_preempt_check+0x21/0x30
[   39.573705]  ? __this_cpu_preempt_check+0x21/0x30
[   39.573722]  __x64_sys_mremap+0xc7/0x150
[   39.573730]  ? syscall_trace_enter+0x14d/0x280
[   39.573742]  x64_sys_call+0x1933/0x2150
[   39.573749]  do_syscall_64+0x6d/0x2e0
[   39.573760]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.573766] RIP: 0033:0x7f8cb2e3ee5d
[   39.573773] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   39.573779] RSP: 002b:00007ffcca87bcb8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   39.573786] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8cb2e3ee5d
[   39.573790] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   39.573793] RBP: 00007ffcca87bcc0 R08: 000000002038d000 R09: 0000000000000001
[   39.573797] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcca87bdd8
[   39.573801] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8cb30dc000
[   39.573814]  </TASK>
[   40.587038] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   40.587507] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1506, name: repro
[   40.587870] preempt_count: 1, expected: 0
[   40.588066] RCU nest depth: 1, expected: 0
[   40.588260] 4 locks held by repro/1506:
[   40.588477]  #0: ffff888014c4abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   40.588904]  #1: ffff88802aa8d298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   40.589354]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   40.589770]  #3: ffff88802aaa7978 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   40.590242] Preemption disabled at:
[   40.590244] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   40.590746] CPU: 1 UID: 0 PID: 1506 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   40.590757] Tainted: [W]=WARN
[   40.590759] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.590764] Call Trace:
[   40.590767]  <TASK>
[   40.590771]  dump_stack_lvl+0x121/0x150
[   40.590785]  dump_stack+0x19/0x20
[   40.590793]  __might_resched+0x37b/0x5a0
[   40.590804]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.590818]  __might_sleep+0xa3/0x170
[   40.590827]  ? vm_normal_folio+0x8c/0x170
[   40.590838]  __relocate_anon_folios+0x7bd/0x11a0
[   40.590853]  ? __pfx___relocate_anon_folios+0x10/0x10
[   40.590864]  ? __this_cpu_preempt_check+0x21/0x30
[   40.590872]  ? lock_set_class+0x17a/0x260
[   40.590887]  copy_vma_and_data+0x606/0x1790
[   40.590899]  ? percpu_counter_add_batch+0xd9/0x210
[   40.590915]  ? __pfx_copy_vma_and_data+0x10/0x10
[   40.590922]  ? vms_complete_munmap_vmas+0x525/0x810
[   40.590937]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   40.590944]  ? __this_cpu_preempt_check+0x21/0x30
[   40.590955]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.590965]  ? mtree_range_walk+0x728/0xb70
[   40.590977]  ? __lock_acquire+0x412/0x22a0
[   40.590987]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.590996]  ? percpu_counter_add_batch+0xd9/0x210
[   40.591002]  ? debug_smp_processor_id+0x20/0x30
[   40.591013]  ? __this_cpu_preempt_check+0x21/0x30
[   40.591020]  ? lock_is_held_type+0xef/0x150
[   40.591032]  move_vma+0x689/0x1a60
[   40.591044]  ? __pfx_move_vma+0x10/0x10
[   40.591053]  ? cap_mmap_addr+0x58/0x140
[   40.591062]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.591071]  ? security_mmap_addr+0x63/0x1b0
[   40.591080]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.591090]  ? __get_unmapped_area+0x1a4/0x440
[   40.591103]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.591112]  ? vrm_set_new_addr+0x21d/0x2b0
[   40.591122]  __do_sys_mremap+0xeb4/0x1620
[   40.591132]  ? __pfx___do_sys_mremap+0x10/0x10
[   40.591142]  ? __this_cpu_preempt_check+0x21/0x30
[   40.591156]  ? __this_cpu_preempt_check+0x21/0x30
[   40.591177]  __x64_sys_mremap+0xc7/0x150
[   40.591184]  ? syscall_trace_enter+0x14d/0x280
[   40.591194]  x64_sys_call+0x1933/0x2150
[   40.591202]  do_syscall_64+0x6d/0x2e0
[   40.591215]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.591222] RIP: 0033:0x7fad3a63ee5d
[   40.591229] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   40.591238] RSP: 002b:00007fff6981d588 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   40.591244] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fad3a63ee5d
[   40.591248] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   40.591252] RBP: 00007fff6981d590 R08: 000000002038d000 R09: 0000000000000001
[   40.591256] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff6981d6a8
[   40.591260] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fad3a935000
[   40.591273]  </TASK>
[   41.592111] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   41.592551] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1542, name: repro
[   41.592906] preempt_count: 1, expected: 0
[   41.593099] RCU nest depth: 1, expected: 0
[   41.593294] 4 locks held by repro/1542:
[   41.593480]  #0: ffff888017d96ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   41.593913]  #1: ffff88802a8fa4b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   41.594358]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   41.594809]  #3: ffff88802668e8b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   41.595253] Preemption disabled at:
[   41.595255] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   41.595687] CPU: 1 UID: 0 PID: 1542 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   41.595698] Tainted: [W]=WARN
[   41.595700] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.595705] Call Trace:
[   41.595707]  <TASK>
[   41.595710]  dump_stack_lvl+0x121/0x150
[   41.595724]  dump_stack+0x19/0x20
[   41.595732]  __might_resched+0x37b/0x5a0
[   41.595744]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.595759]  __might_sleep+0xa3/0x170
[   41.595768]  ? vm_normal_folio+0x8c/0x170
[   41.595779]  __relocate_anon_folios+0x7bd/0x11a0
[   41.595794]  ? __pfx___relocate_anon_folios+0x10/0x10
[   41.595804]  ? __this_cpu_preempt_check+0x21/0x30
[   41.595812]  ? lock_set_class+0x17a/0x260
[   41.595827]  copy_vma_and_data+0x606/0x1790
[   41.595839]  ? percpu_counter_add_batch+0xd9/0x210
[   41.595852]  ? __pfx_copy_vma_and_data+0x10/0x10
[   41.595859]  ? vms_complete_munmap_vmas+0x525/0x810
[   41.595874]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   41.595881]  ? __this_cpu_preempt_check+0x21/0x30
[   41.595892]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.595907]  ? mtree_range_walk+0x728/0xb70
[   41.595922]  ? __lock_acquire+0x412/0x22a0
[   41.595932]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.595942]  ? percpu_counter_add_batch+0xd9/0x210
[   41.595947]  ? debug_smp_processor_id+0x20/0x30
[   41.595958]  ? __this_cpu_preempt_check+0x21/0x30
[   41.595965]  ? lock_is_held_type+0xef/0x150
[   41.595977]  move_vma+0x689/0x1a60
[   41.595989]  ? __pfx_move_vma+0x10/0x10
[   41.595998]  ? cap_mmap_addr+0x58/0x140
[   41.596007]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.596016]  ? security_mmap_addr+0x63/0x1b0
[   41.596025]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.596034]  ? __get_unmapped_area+0x1a4/0x440
[   41.596046]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.596055]  ? vrm_set_new_addr+0x21d/0x2b0
[   41.596064]  __do_sys_mremap+0xeb4/0x1620
[   41.596074]  ? __pfx___do_sys_mremap+0x10/0x10
[   41.596084]  ? __this_cpu_preempt_check+0x21/0x30
[   41.596097]  ? __this_cpu_preempt_check+0x21/0x30
[   41.596114]  __x64_sys_mremap+0xc7/0x150
[   41.596122]  ? syscall_trace_enter+0x14d/0x280
[   41.596131]  x64_sys_call+0x1933/0x2150
[   41.596138]  do_syscall_64+0x6d/0x2e0
[   41.596148]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.596154] RIP: 0033:0x7f9b5cc3ee5d
[   41.596162] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   41.596170] RSP: 002b:00007ffe22848658 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   41.596177] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9b5cc3ee5d
[   41.596180] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   41.596184] RBP: 00007ffe22848660 R08: 000000002038d000 R09: 0000000000000001
[   41.596188] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe22848778
[   41.596191] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9b5cfa7000
[   41.596204]  </TASK>
[   42.604484] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   42.604948] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1579, name: repro
[   42.605302] preempt_count: 1, expected: 0
[   42.605491] RCU nest depth: 1, expected: 0
[   42.605712] 4 locks held by repro/1579:
[   42.605897]  #0: ffff888012f24b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   42.606328]  #1: ffff88802af136d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   42.606798]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   42.607205]  #3: ffff88802afa5e58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   42.607666] Preemption disabled at:
[   42.607668] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   42.608135] CPU: 1 UID: 0 PID: 1579 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   42.608150] Tainted: [W]=WARN
[   42.608153] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.608157] Call Trace:
[   42.608159]  <TASK>
[   42.608162]  dump_stack_lvl+0x121/0x150
[   42.608176]  dump_stack+0x19/0x20
[   42.608184]  __might_resched+0x37b/0x5a0
[   42.608195]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.608209]  __might_sleep+0xa3/0x170
[   42.608218]  ? vm_normal_folio+0x8c/0x170
[   42.608229]  __relocate_anon_folios+0x7bd/0x11a0
[   42.608243]  ? __pfx___relocate_anon_folios+0x10/0x10
[   42.608253]  ? __this_cpu_preempt_check+0x21/0x30
[   42.608261]  ? lock_set_class+0x17a/0x260
[   42.608276]  copy_vma_and_data+0x606/0x1790
[   42.608287]  ? percpu_counter_add_batch+0xd9/0x210
[   42.608300]  ? __pfx_copy_vma_and_data+0x10/0x10
[   42.608306]  ? vms_complete_munmap_vmas+0x525/0x810
[   42.608321]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   42.608328]  ? __this_cpu_preempt_check+0x21/0x30
[   42.608339]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.608348]  ? mtree_range_walk+0x728/0xb70
[   42.608360]  ? __lock_acquire+0x412/0x22a0
[   42.608369]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.608378]  ? percpu_counter_add_batch+0xd9/0x210
[   42.608384]  ? debug_smp_processor_id+0x20/0x30
[   42.608394]  ? __this_cpu_preempt_check+0x21/0x30
[   42.608401]  ? lock_is_held_type+0xef/0x150
[   42.608413]  move_vma+0x689/0x1a60
[   42.608424]  ? __pfx_move_vma+0x10/0x10
[   42.608433]  ? cap_mmap_addr+0x58/0x140
[   42.608442]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.608451]  ? security_mmap_addr+0x63/0x1b0
[   42.608460]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.608469]  ? __get_unmapped_area+0x1a4/0x440
[   42.608480]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.608490]  ? vrm_set_new_addr+0x21d/0x2b0
[   42.608499]  __do_sys_mremap+0xeb4/0x1620
[   42.608509]  ? __pfx___do_sys_mremap+0x10/0x10
[   42.608519]  ? __this_cpu_preempt_check+0x21/0x30
[   42.608532]  ? __this_cpu_preempt_check+0x21/0x30
[   42.608549]  __x64_sys_mremap+0xc7/0x150
[   42.608557]  ? syscall_trace_enter+0x14d/0x280
[   42.608566]  x64_sys_call+0x1933/0x2150
[   42.608573]  do_syscall_64+0x6d/0x2e0
[   42.608583]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.608590] RIP: 0033:0x7efc6ec3ee5d
[   42.608599] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   42.608605] RSP: 002b:00007fffb0ffad68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   42.608611] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007efc6ec3ee5d
[   42.608615] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   42.608621] RBP: 00007fffb0ffad70 R08: 000000002038d000 R09: 0000000000000001
[   42.608625] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffb0ffae88
[   42.608629] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007efc6ee56000
[   42.608641]  </TASK>
[   43.607027] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   43.607469] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1615, name: repro
[   43.607832] preempt_count: 1, expected: 0
[   43.608032] RCU nest depth: 1, expected: 0
[   43.608227] 4 locks held by repro/1615:
[   43.608415]  #0: ffff8880164a0c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   43.608843]  #1: ffff88801598be48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   43.609293]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   43.609709]  #3: ffff88802a843a38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   43.610175] Preemption disabled at:
[   43.610178] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   43.610670] CPU: 1 UID: 0 PID: 1615 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   43.610681] Tainted: [W]=WARN
[   43.610683] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.610688] Call Trace:
[   43.610690]  <TASK>
[   43.610693]  dump_stack_lvl+0x121/0x150
[   43.610707]  dump_stack+0x19/0x20
[   43.610716]  __might_resched+0x37b/0x5a0
[   43.610727]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.610741]  __might_sleep+0xa3/0x170
[   43.610750]  ? vm_normal_folio+0x8c/0x170
[   43.610761]  __relocate_anon_folios+0x7bd/0x11a0
[   43.610776]  ? __pfx___relocate_anon_folios+0x10/0x10
[   43.610786]  ? __this_cpu_preempt_check+0x21/0x30
[   43.610794]  ? lock_set_class+0x17a/0x260
[   43.610814]  copy_vma_and_data+0x606/0x1790
[   43.610827]  ? percpu_counter_add_batch+0xd9/0x210
[   43.610840]  ? __pfx_copy_vma_and_data+0x10/0x10
[   43.610847]  ? vms_complete_munmap_vmas+0x525/0x810
[   43.610862]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   43.610868]  ? __this_cpu_preempt_check+0x21/0x30
[   43.610879]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.610889]  ? mtree_range_walk+0x728/0xb70
[   43.610901]  ? __lock_acquire+0x412/0x22a0
[   43.610914]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.610924]  ? percpu_counter_add_batch+0xd9/0x210
[   43.610929]  ? debug_smp_processor_id+0x20/0x30
[   43.610940]  ? __this_cpu_preempt_check+0x21/0x30
[   43.610950]  ? lock_is_held_type+0xef/0x150
[   43.610962]  move_vma+0x689/0x1a60
[   43.610974]  ? __pfx_move_vma+0x10/0x10
[   43.610983]  ? cap_mmap_addr+0x58/0x140
[   43.610992]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.611002]  ? security_mmap_addr+0x63/0x1b0
[   43.611010]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.611020]  ? __get_unmapped_area+0x1a4/0x440
[   43.611032]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.611041]  ? vrm_set_new_addr+0x21d/0x2b0
[   43.611051]  __do_sys_mremap+0xeb4/0x1620
[   43.611061]  ? __pfx___do_sys_mremap+0x10/0x10
[   43.611071]  ? __this_cpu_preempt_check+0x21/0x30
[   43.611085]  ? __this_cpu_preempt_check+0x21/0x30
[   43.611103]  __x64_sys_mremap+0xc7/0x150
[   43.611111]  ? syscall_trace_enter+0x14d/0x280
[   43.611121]  x64_sys_call+0x1933/0x2150
[   43.611128]  do_syscall_64+0x6d/0x2e0
[   43.611139]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.611145] RIP: 0033:0x7f2a8c63ee5d
[   43.611153] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   43.611160] RSP: 002b:00007ffd35855508 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   43.611166] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2a8c63ee5d
[   43.611170] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   43.611174] RBP: 00007ffd35855510 R08: 000000002038d000 R09: 0000000000000001
[   43.611178] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd35855628
[   43.611184] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2a8c906000
[   43.611197]  </TASK>
[   44.631933] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   44.632354] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1651, name: repro
[   44.632711] preempt_count: 1, expected: 0
[   44.632910] RCU nest depth: 1, expected: 0
[   44.633108] 4 locks held by repro/1651:
[   44.633298]  #0: ffff888024e6e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   44.633736]  #1: ffff88801679e8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   44.634182]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   44.634624]  #3: ffff88801110f198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   44.635088] Preemption disabled at:
[   44.635090] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   44.635568] CPU: 0 UID: 0 PID: 1651 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   44.635579] Tainted: [W]=WARN
[   44.635582] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.635586] Call Trace:
[   44.635588]  <TASK>
[   44.635591]  dump_stack_lvl+0x121/0x150
[   44.635605]  dump_stack+0x19/0x20
[   44.635619]  __might_resched+0x37b/0x5a0
[   44.635632]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.635646]  __might_sleep+0xa3/0x170
[   44.635656]  ? vm_normal_folio+0x8c/0x170
[   44.635666]  __relocate_anon_folios+0x7bd/0x11a0
[   44.635681]  ? __pfx___relocate_anon_folios+0x10/0x10
[   44.635692]  ? __this_cpu_preempt_check+0x21/0x30
[   44.635700]  ? lock_set_class+0x17a/0x260
[   44.635715]  copy_vma_and_data+0x606/0x1790
[   44.635727]  ? percpu_counter_add_batch+0xd9/0x210
[   44.635740]  ? __pfx_copy_vma_and_data+0x10/0x10
[   44.635747]  ? vms_complete_munmap_vmas+0x525/0x810
[   44.635762]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   44.635768]  ? __this_cpu_preempt_check+0x21/0x30
[   44.635780]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.635789]  ? mtree_range_walk+0x728/0xb70
[   44.635801]  ? __lock_acquire+0x412/0x22a0
[   44.635811]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.635821]  ? percpu_counter_add_batch+0xd9/0x210
[   44.635827]  ? debug_smp_processor_id+0x20/0x30
[   44.635838]  ? __this_cpu_preempt_check+0x21/0x30
[   44.635844]  ? lock_is_held_type+0xef/0x150
[   44.635857]  move_vma+0x689/0x1a60
[   44.635868]  ? __pfx_move_vma+0x10/0x10
[   44.635877]  ? cap_mmap_addr+0x58/0x140
[   44.635886]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.635896]  ? security_mmap_addr+0x63/0x1b0
[   44.635905]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.635917]  ? __get_unmapped_area+0x1a4/0x440
[   44.635929]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.635939]  ? vrm_set_new_addr+0x21d/0x2b0
[   44.635948]  __do_sys_mremap+0xeb4/0x1620
[   44.635958]  ? __pfx___do_sys_mremap+0x10/0x10
[   44.635977]  ? __this_cpu_preempt_check+0x21/0x30
[   44.635995]  __x64_sys_mremap+0xc7/0x150
[   44.636002]  ? syscall_trace_enter+0x14d/0x280
[   44.636012]  x64_sys_call+0x1933/0x2150
[   44.636019]  do_syscall_64+0x6d/0x2e0
[   44.636030]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.636037] RIP: 0033:0x7f2c0863ee5d
[   44.636045] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   44.636051] RSP: 002b:00007ffeb49dc578 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   44.636058] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f2c0863ee5d
[   44.636062] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   44.636066] RBP: 00007ffeb49dc580 R08: 000000002038d000 R09: 0000000000000001
[   44.636069] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffeb49dc698
[   44.636073] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f2c08916000
[   44.636088]  </TASK>
[   45.638940] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   45.639391] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1687, name: repro
[   45.639754] preempt_count: 1, expected: 0
[   45.639947] RCU nest depth: 1, expected: 0
[   45.640142] 4 locks held by repro/1687:
[   45.640328]  #0: ffff88800f3f55e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   45.640754]  #1: ffff88801b5237e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   45.641192]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   45.641602]  #3: ffff888011593858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   45.642062] Preemption disabled at:
[   45.642065] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   45.642559] CPU: 1 UID: 0 PID: 1687 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   45.642570] Tainted: [W]=WARN
[   45.642572] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.642577] Call Trace:
[   45.642579]  <TASK>
[   45.642582]  dump_stack_lvl+0x121/0x150
[   45.642595]  dump_stack+0x19/0x20
[   45.642604]  __might_resched+0x37b/0x5a0
[   45.642615]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.642629]  __might_sleep+0xa3/0x170
[   45.642638]  ? vm_normal_folio+0x8c/0x170
[   45.642649]  __relocate_anon_folios+0x7bd/0x11a0
[   45.642663]  ? __pfx___relocate_anon_folios+0x10/0x10
[   45.642673]  ? __this_cpu_preempt_check+0x21/0x30
[   45.642681]  ? lock_set_class+0x17a/0x260
[   45.642696]  copy_vma_and_data+0x606/0x1790
[   45.642708]  ? percpu_counter_add_batch+0xd9/0x210
[   45.642720]  ? __pfx_copy_vma_and_data+0x10/0x10
[   45.642727]  ? vms_complete_munmap_vmas+0x525/0x810
[   45.642741]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   45.642748]  ? __this_cpu_preempt_check+0x21/0x30
[   45.642759]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.642768]  ? mtree_range_walk+0x728/0xb70
[   45.642780]  ? __lock_acquire+0x412/0x22a0
[   45.642790]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.642799]  ? percpu_counter_add_batch+0xd9/0x210
[   45.642805]  ? debug_smp_processor_id+0x20/0x30
[   45.642815]  ? __this_cpu_preempt_check+0x21/0x30
[   45.642822]  ? lock_is_held_type+0xef/0x150
[   45.642834]  move_vma+0x689/0x1a60
[   45.642845]  ? __pfx_move_vma+0x10/0x10
[   45.642854]  ? cap_mmap_addr+0x58/0x140
[   45.642863]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.642872]  ? security_mmap_addr+0x63/0x1b0
[   45.642884]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.642894]  ? __get_unmapped_area+0x1a4/0x440
[   45.642909]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.642919]  ? vrm_set_new_addr+0x21d/0x2b0
[   45.642928]  __do_sys_mremap+0xeb4/0x1620
[   45.642938]  ? __pfx___do_sys_mremap+0x10/0x10
[   45.642949]  ? __this_cpu_preempt_check+0x21/0x30
[   45.642962]  ? __this_cpu_preempt_check+0x21/0x30
[   45.642980]  __x64_sys_mremap+0xc7/0x150
[   45.642987]  ? syscall_trace_enter+0x14d/0x280
[   45.642997]  x64_sys_call+0x1933/0x2150
[   45.643005]  do_syscall_64+0x6d/0x2e0
[   45.643015]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.643021] RIP: 0033:0x7fe00f63ee5d
[   45.643029] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   45.643035] RSP: 002b:00007ffd354c39a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   45.643041] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fe00f63ee5d
[   45.643045] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   45.643049] RBP: 00007ffd354c39b0 R08: 000000002038d000 R09: 0000000000000001
[   45.643055] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd354c3ac8
[   45.643058] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fe00f9c0000
[   45.643071]  </TASK>
[   46.644196] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   46.644652] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1723, name: repro
[   46.645011] preempt_count: 1, expected: 0
[   46.645202] RCU nest depth: 1, expected: 0
[   46.645398] 4 locks held by repro/1723:
[   46.645590]  #0: ffff88801652a160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   46.646016]  #1: ffff88802af278f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   46.646489]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   46.646902]  #3: ffff8880276e2198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   46.647363] Preemption disabled at:
[   46.647366] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   46.647826] CPU: 0 UID: 0 PID: 1723 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   46.647837] Tainted: [W]=WARN
[   46.647839] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.647843] Call Trace:
[   46.647846]  <TASK>
[   46.647849]  dump_stack_lvl+0x121/0x150
[   46.647862]  dump_stack+0x19/0x20
[   46.647870]  __might_resched+0x37b/0x5a0
[   46.647881]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.647895]  __might_sleep+0xa3/0x170
[   46.647907]  ? vm_normal_folio+0x8c/0x170
[   46.647918]  __relocate_anon_folios+0x7bd/0x11a0
[   46.647932]  ? __pfx___relocate_anon_folios+0x10/0x10
[   46.647942]  ? __this_cpu_preempt_check+0x21/0x30
[   46.647953]  ? lock_set_class+0x17a/0x260
[   46.647968]  copy_vma_and_data+0x606/0x1790
[   46.647980]  ? percpu_counter_add_batch+0xd9/0x210
[   46.647992]  ? __pfx_copy_vma_and_data+0x10/0x10
[   46.647999]  ? vms_complete_munmap_vmas+0x525/0x810
[   46.648014]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   46.648020]  ? __this_cpu_preempt_check+0x21/0x30
[   46.648031]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.648040]  ? mtree_range_walk+0x728/0xb70
[   46.648052]  ? __lock_acquire+0x412/0x22a0
[   46.648062]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.648071]  ? percpu_counter_add_batch+0xd9/0x210
[   46.648077]  ? debug_smp_processor_id+0x20/0x30
[   46.648087]  ? __this_cpu_preempt_check+0x21/0x30
[   46.648094]  ? lock_is_held_type+0xef/0x150
[   46.648106]  move_vma+0x689/0x1a60
[   46.648117]  ? __pfx_move_vma+0x10/0x10
[   46.648126]  ? cap_mmap_addr+0x58/0x140
[   46.648135]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.648144]  ? security_mmap_addr+0x63/0x1b0
[   46.648153]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.648162]  ? __get_unmapped_area+0x1a4/0x440
[   46.648174]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.648183]  ? vrm_set_new_addr+0x21d/0x2b0
[   46.648192]  __do_sys_mremap+0xeb4/0x1620
[   46.648202]  ? __pfx___do_sys_mremap+0x10/0x10
[   46.648212]  ? __this_cpu_preempt_check+0x21/0x30
[   46.648225]  ? __this_cpu_preempt_check+0x21/0x30
[   46.648243]  __x64_sys_mremap+0xc7/0x150
[   46.648250]  ? syscall_trace_enter+0x14d/0x280
[   46.648260]  x64_sys_call+0x1933/0x2150
[   46.648267]  do_syscall_64+0x6d/0x2e0
[   46.648277]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.648283] RIP: 0033:0x7f964ac3ee5d
[   46.648290] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   46.648297] RSP: 002b:00007ffd5f1b1748 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   46.648303] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f964ac3ee5d
[   46.648307] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   46.648311] RBP: 00007ffd5f1b1750 R08: 000000002038d000 R09: 0000000000000001
[   46.648314] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd5f1b1868
[   46.648318] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f964af39000
[   46.648331]  </TASK>
[   47.668542] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   47.668993] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1760, name: repro
[   47.669345] preempt_count: 1, expected: 0
[   47.669535] RCU nest depth: 1, expected: 0
[   47.669734] 4 locks held by repro/1760:
[   47.669919]  #0: ffff888015c4eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   47.670339]  #1: ffff88802c10eb18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   47.670804]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   47.671216]  #3: ffff8880152215b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   47.671671] Preemption disabled at:
[   47.671673] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   47.672127] CPU: 0 UID: 0 PID: 1760 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   47.672137] Tainted: [W]=WARN
[   47.672139] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.672144] Call Trace:
[   47.672146]  <TASK>
[   47.672149]  dump_stack_lvl+0x121/0x150
[   47.672161]  dump_stack+0x19/0x20
[   47.672169]  __might_resched+0x37b/0x5a0
[   47.672180]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.672194]  __might_sleep+0xa3/0x170
[   47.672202]  ? vm_normal_folio+0x8c/0x170
[   47.672213]  __relocate_anon_folios+0x7bd/0x11a0
[   47.672227]  ? __pfx___relocate_anon_folios+0x10/0x10
[   47.672237]  ? __this_cpu_preempt_check+0x21/0x30
[   47.672245]  ? lock_set_class+0x17a/0x260
[   47.672259]  copy_vma_and_data+0x606/0x1790
[   47.672270]  ? percpu_counter_add_batch+0xd9/0x210
[   47.672282]  ? __pfx_copy_vma_and_data+0x10/0x10
[   47.672289]  ? vms_complete_munmap_vmas+0x525/0x810
[   47.672303]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   47.672310]  ? __this_cpu_preempt_check+0x21/0x30
[   47.672320]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.672329]  ? mtree_range_walk+0x728/0xb70
[   47.672340]  ? __lock_acquire+0x412/0x22a0
[   47.672350]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.672359]  ? percpu_counter_add_batch+0xd9/0x210
[   47.672364]  ? debug_smp_processor_id+0x20/0x30
[   47.672375]  ? __this_cpu_preempt_check+0x21/0x30
[   47.672381]  ? lock_is_held_type+0xef/0x150
[   47.672393]  move_vma+0x689/0x1a60
[   47.672404]  ? __pfx_move_vma+0x10/0x10
[   47.672412]  ? cap_mmap_addr+0x58/0x140
[   47.672421]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.672430]  ? security_mmap_addr+0x63/0x1b0
[   47.672438]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.672448]  ? __get_unmapped_area+0x1a4/0x440
[   47.672459]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.672468]  ? vrm_set_new_addr+0x21d/0x2b0
[   47.672477]  __do_sys_mremap+0xeb4/0x1620
[   47.672487]  ? __pfx___do_sys_mremap+0x10/0x10
[   47.672498]  ? __this_cpu_preempt_check+0x21/0x30
[   47.672511]  ? __this_cpu_preempt_check+0x21/0x30
[   47.672529]  __x64_sys_mremap+0xc7/0x150
[   47.672536]  ? syscall_trace_enter+0x14d/0x280
[   47.672545]  x64_sys_call+0x1933/0x2150
[   47.672553]  do_syscall_64+0x6d/0x2e0
[   47.672563]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.672569] RIP: 0033:0x7f82c843ee5d
[   47.672576] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   47.672582] RSP: 002b:00007ffcf0d3b458 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   47.672589] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f82c843ee5d
[   47.672593] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   47.672596] RBP: 00007ffcf0d3b460 R08: 000000002038d000 R09: 0000000000000001
[   47.672600] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcf0d3b578
[   47.672603] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f82c86ca000
[   47.672616]  </TASK>
[   48.690129] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   48.690579] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1798, name: repro
[   48.690932] preempt_count: 1, expected: 0
[   48.691121] RCU nest depth: 1, expected: 0
[   48.691309] 4 locks held by repro/1798:
[   48.691490]  #0: ffff88801630abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   48.691907]  #1: ffff8880275dca08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   48.692331]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   48.692731]  #3: ffff88802bd02678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   48.693198] Preemption disabled at:
[   48.693201] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   48.693645] CPU: 0 UID: 0 PID: 1798 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   48.693655] Tainted: [W]=WARN
[   48.693658] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.693662] Call Trace:
[   48.693665]  <TASK>
[   48.693668]  dump_stack_lvl+0x121/0x150
[   48.693681]  dump_stack+0x19/0x20
[   48.693689]  __might_resched+0x37b/0x5a0
[   48.693700]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.693715]  __might_sleep+0xa3/0x170
[   48.693723]  ? vm_normal_folio+0x8c/0x170
[   48.693734]  __relocate_anon_folios+0x7bd/0x11a0
[   48.693748]  ? __pfx___relocate_anon_folios+0x10/0x10
[   48.693759]  ? __this_cpu_preempt_check+0x21/0x30
[   48.693767]  ? lock_set_class+0x17a/0x260
[   48.693782]  copy_vma_and_data+0x606/0x1790
[   48.693793]  ? percpu_counter_add_batch+0xd9/0x210
[   48.693806]  ? __pfx_copy_vma_and_data+0x10/0x10
[   48.693813]  ? vms_complete_munmap_vmas+0x525/0x810
[   48.693830]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   48.693837]  ? __this_cpu_preempt_check+0x21/0x30
[   48.693848]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.693857]  ? mtree_range_walk+0x728/0xb70
[   48.693871]  ? __lock_acquire+0x412/0x22a0
[   48.693881]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.693890]  ? percpu_counter_add_batch+0xd9/0x210
[   48.693896]  ? debug_smp_processor_id+0x20/0x30
[   48.693910]  ? __this_cpu_preempt_check+0x21/0x30
[   48.693916]  ? lock_is_held_type+0xef/0x150
[   48.693928]  move_vma+0x689/0x1a60
[   48.693940]  ? __pfx_move_vma+0x10/0x10
[   48.693948]  ? cap_mmap_addr+0x58/0x140
[   48.693957]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.693966]  ? security_mmap_addr+0x63/0x1b0
[   48.693975]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.693984]  ? __get_unmapped_area+0x1a4/0x440
[   48.693996]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.694005]  ? vrm_set_new_addr+0x21d/0x2b0
[   48.694015]  __do_sys_mremap+0xeb4/0x1620
[   48.694024]  ? __pfx___do_sys_mremap+0x10/0x10
[   48.694034]  ? __this_cpu_preempt_check+0x21/0x30
[   48.694048]  ? __this_cpu_preempt_check+0x21/0x30
[   48.694065]  __x64_sys_mremap+0xc7/0x150
[   48.694072]  ? syscall_trace_enter+0x14d/0x280
[   48.694082]  x64_sys_call+0x1933/0x2150
[   48.694089]  do_syscall_64+0x6d/0x2e0
[   48.694100]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.694107] RIP: 0033:0x7fd446e3ee5d
[   48.694114] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   48.694120] RSP: 002b:00007ffdedc19a68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   48.694126] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fd446e3ee5d
[   48.694130] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   48.694134] RBP: 00007ffdedc19a70 R08: 000000002038d000 R09: 0000000000000001
[   48.694137] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdedc19b88
[   48.694141] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fd447076000
[   48.694154]  </TASK>
[   49.689038] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   49.689476] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1835, name: repro
[   49.689831] preempt_count: 1, expected: 0
[   49.690025] RCU nest depth: 1, expected: 0
[   49.690218] 4 locks held by repro/1835:
[   49.690402]  #0: ffff888025432160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   49.690846]  #1: ffff88802aa86f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   49.691284]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   49.691694]  #3: ffff88802aaa7198 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   49.692151] Preemption disabled at:
[   49.692159] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   49.692621] CPU: 0 UID: 0 PID: 1835 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   49.692634] Tainted: [W]=WARN
[   49.692636] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.692641] Call Trace:
[   49.692643]  <TASK>
[   49.692646]  dump_stack_lvl+0x121/0x150
[   49.692660]  dump_stack+0x19/0x20
[   49.692668]  __might_resched+0x37b/0x5a0
[   49.692679]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.692693]  __might_sleep+0xa3/0x170
[   49.692702]  ? vm_normal_folio+0x8c/0x170
[   49.692712]  __relocate_anon_folios+0x7bd/0x11a0
[   49.692727]  ? __pfx___relocate_anon_folios+0x10/0x10
[   49.692737]  ? __this_cpu_preempt_check+0x21/0x30
[   49.692745]  ? lock_set_class+0x17a/0x260
[   49.692760]  copy_vma_and_data+0x606/0x1790
[   49.692772]  ? percpu_counter_add_batch+0xd9/0x210
[   49.692784]  ? __pfx_copy_vma_and_data+0x10/0x10
[   49.692791]  ? vms_complete_munmap_vmas+0x525/0x810
[   49.692806]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   49.692812]  ? __this_cpu_preempt_check+0x21/0x30
[   49.692823]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.692833]  ? mtree_range_walk+0x728/0xb70
[   49.692844]  ? __lock_acquire+0x412/0x22a0
[   49.692854]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.692864]  ? percpu_counter_add_batch+0xd9/0x210
[   49.692869]  ? debug_smp_processor_id+0x20/0x30
[   49.692880]  ? __this_cpu_preempt_check+0x21/0x30
[   49.692886]  ? lock_is_held_type+0xef/0x150
[   49.692898]  move_vma+0x689/0x1a60
[   49.692912]  ? __pfx_move_vma+0x10/0x10
[   49.692921]  ? cap_mmap_addr+0x58/0x140
[   49.692930]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.692939]  ? security_mmap_addr+0x63/0x1b0
[   49.692948]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.692957]  ? __get_unmapped_area+0x1a4/0x440
[   49.692969]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.692978]  ? vrm_set_new_addr+0x21d/0x2b0
[   49.692987]  __do_sys_mremap+0xeb4/0x1620
[   49.692997]  ? __pfx___do_sys_mremap+0x10/0x10
[   49.693007]  ? __this_cpu_preempt_check+0x21/0x30
[   49.693020]  ? __this_cpu_preempt_check+0x21/0x30
[   49.693038]  __x64_sys_mremap+0xc7/0x150
[   49.693045]  ? syscall_trace_enter+0x14d/0x280
[   49.693055]  x64_sys_call+0x1933/0x2150
[   49.693063]  do_syscall_64+0x6d/0x2e0
[   49.693076]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.693083] RIP: 0033:0x7fcd4fa3ee5d
[   49.693090] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   49.693096] RSP: 002b:00007fffb3f271c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   49.693102] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcd4fa3ee5d
[   49.693106] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   49.693110] RBP: 00007fffb3f271d0 R08: 000000002038d000 R09: 0000000000000001
[   49.693113] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffb3f272e8
[   49.693117] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcd4fcff000
[   49.693130]  </TASK>
[   49.708855] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   49.709820] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   50.687912] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   50.688353] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1873, name: repro
[   50.688708] preempt_count: 1, expected: 0
[   50.688903] RCU nest depth: 1, expected: 0
[   50.689095] 4 locks held by repro/1873:
[   50.689284]  #0: ffff88801794eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   50.689709]  #1: ffff888027498078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   50.690151]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   50.690586]  #3: ffff8880274be318 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   50.691055] Preemption disabled at:
[   50.691058] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   50.691520] CPU: 0 UID: 0 PID: 1873 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   50.691530] Tainted: [W]=WARN
[   50.691532] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.691537] Call Trace:
[   50.691539]  <TASK>
[   50.691542]  dump_stack_lvl+0x121/0x150
[   50.691556]  dump_stack+0x19/0x20
[   50.691564]  __might_resched+0x37b/0x5a0
[   50.691575]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.691589]  __might_sleep+0xa3/0x170
[   50.691598]  ? vm_normal_folio+0x8c/0x170
[   50.691608]  __relocate_anon_folios+0x7bd/0x11a0
[   50.691623]  ? __pfx___relocate_anon_folios+0x10/0x10
[   50.691633]  ? __this_cpu_preempt_check+0x21/0x30
[   50.691641]  ? lock_set_class+0x17a/0x260
[   50.691656]  copy_vma_and_data+0x606/0x1790
[   50.691668]  ? percpu_counter_add_batch+0xd9/0x210
[   50.691680]  ? __pfx_copy_vma_and_data+0x10/0x10
[   50.691686]  ? vms_complete_munmap_vmas+0x525/0x810
[   50.691701]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   50.691708]  ? __this_cpu_preempt_check+0x21/0x30
[   50.691718]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.691728]  ? mtree_range_walk+0x728/0xb70
[   50.691742]  ? __lock_acquire+0x412/0x22a0
[   50.691752]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.691761]  ? percpu_counter_add_batch+0xd9/0x210
[   50.691767]  ? debug_smp_processor_id+0x20/0x30
[   50.691777]  ? __this_cpu_preempt_check+0x21/0x30
[   50.691784]  ? lock_is_held_type+0xef/0x150
[   50.691796]  move_vma+0x689/0x1a60
[   50.691808]  ? __pfx_move_vma+0x10/0x10
[   50.691816]  ? cap_mmap_addr+0x58/0x140
[   50.691825]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.691834]  ? security_mmap_addr+0x63/0x1b0
[   50.691843]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.691852]  ? __get_unmapped_area+0x1a4/0x440
[   50.691864]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.691873]  ? vrm_set_new_addr+0x21d/0x2b0
[   50.691883]  __do_sys_mremap+0xeb4/0x1620
[   50.691892]  ? __pfx___do_sys_mremap+0x10/0x10
[   50.691905]  ? __this_cpu_preempt_check+0x21/0x30
[   50.691919]  ? __this_cpu_preempt_check+0x21/0x30
[   50.691936]  __x64_sys_mremap+0xc7/0x150
[   50.691944]  ? syscall_trace_enter+0x14d/0x280
[   50.691953]  x64_sys_call+0x1933/0x2150
[   50.691961]  do_syscall_64+0x6d/0x2e0
[   50.691971]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.691978] RIP: 0033:0x7f7ec823ee5d
[   50.691985] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   50.691991] RSP: 002b:00007ffdbeb5be78 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   50.691997] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7ec823ee5d
[   50.692001] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   50.692005] RBP: 00007ffdbeb5be80 R08: 000000002038d000 R09: 0000000000000001
[   50.692008] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdbeb5bf98
[   50.692012] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7ec85df000
[   50.692025]  </TASK>
[   51.693376] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   51.693828] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1910, name: repro
[   51.694187] preempt_count: 1, expected: 0
[   51.694412] RCU nest depth: 1, expected: 0
[   51.694892] 4 locks held by repro/1910:
[   51.695072]  #0: ffff888012f216e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   51.695476]  #1: ffff88802adb76d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   51.695916]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   51.696329]  #3: ffff88802ab03bb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   51.696783] Preemption disabled at:
[   51.696786] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   51.697247] CPU: 0 UID: 0 PID: 1910 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   51.697261] Tainted: [W]=WARN
[   51.697263] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.697269] Call Trace:
[   51.697272]  <TASK>
[   51.697274]  dump_stack_lvl+0x121/0x150
[   51.697286]  dump_stack+0x19/0x20
[   51.697295]  __might_resched+0x37b/0x5a0
[   51.697305]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.697318]  __might_sleep+0xa3/0x170
[   51.697327]  ? vm_normal_folio+0x8c/0x170
[   51.697337]  __relocate_anon_folios+0x7bd/0x11a0
[   51.697352]  ? __pfx___relocate_anon_folios+0x10/0x10
[   51.697362]  ? __this_cpu_preempt_check+0x21/0x30
[   51.697370]  ? lock_set_class+0x17a/0x260
[   51.697384]  copy_vma_and_data+0x606/0x1790
[   51.697396]  ? percpu_counter_add_batch+0xd9/0x210
[   51.697407]  ? __pfx_copy_vma_and_data+0x10/0x10
[   51.697414]  ? vms_complete_munmap_vmas+0x525/0x810
[   51.697428]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   51.697435]  ? __this_cpu_preempt_check+0x21/0x30
[   51.697445]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.697455]  ? mtree_range_walk+0x728/0xb70
[   51.697466]  ? __lock_acquire+0x412/0x22a0
[   51.697476]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.697485]  ? percpu_counter_add_batch+0xd9/0x210
[   51.697491]  ? debug_smp_processor_id+0x20/0x30
[   51.697502]  ? __this_cpu_preempt_check+0x21/0x30
[   51.697508]  ? lock_is_held_type+0xef/0x150
[   51.697520]  move_vma+0x689/0x1a60
[   51.697532]  ? __pfx_move_vma+0x10/0x10
[   51.697540]  ? cap_mmap_addr+0x58/0x140
[   51.697549]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.697558]  ? security_mmap_addr+0x63/0x1b0
[   51.697567]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.697576]  ? __get_unmapped_area+0x1a4/0x440
[   51.697587]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.697597]  ? vrm_set_new_addr+0x21d/0x2b0
[   51.697606]  __do_sys_mremap+0xeb4/0x1620
[   51.697616]  ? __pfx___do_sys_mremap+0x10/0x10
[   51.697626]  ? __this_cpu_preempt_check+0x21/0x30
[   51.697640]  ? __this_cpu_preempt_check+0x21/0x30
[   51.697657]  __x64_sys_mremap+0xc7/0x150
[   51.697665]  ? syscall_trace_enter+0x14d/0x280
[   51.697674]  x64_sys_call+0x1933/0x2150
[   51.697682]  do_syscall_64+0x6d/0x2e0
[   51.697692]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.697698] RIP: 0033:0x7f6829e3ee5d
[   51.697706] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   51.697714] RSP: 002b:00007ffd342d66d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   51.697720] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f6829e3ee5d
[   51.697724] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   51.697728] RBP: 00007ffd342d66e0 R08: 000000002038d000 R09: 0000000000000001
[   51.697732] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd342d67f8
[   51.697735] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f682a1aa000
[   51.697748]  </TASK>
[   52.714888] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   52.715322] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1947, name: repro
[   52.715667] preempt_count: 1, expected: 0
[   52.715854] RCU nest depth: 1, expected: 0
[   52.716046] 4 locks held by repro/1947:
[   52.716231]  #0: ffff8880164a3660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   52.716653]  #1: ffff8880236d33a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   52.717092]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   52.717499]  #3: ffff88802ab563d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   52.717956] Preemption disabled at:
[   52.717959] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   52.718416] CPU: 0 UID: 0 PID: 1947 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   52.718426] Tainted: [W]=WARN
[   52.718428] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.718443] Call Trace:
[   52.718445]  <TASK>
[   52.718447]  dump_stack_lvl+0x121/0x150
[   52.718464]  dump_stack+0x19/0x20
[   52.718474]  __might_resched+0x37b/0x5a0
[   52.718487]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.718503]  __might_sleep+0xa3/0x170
[   52.718514]  ? vm_normal_folio+0x8c/0x170
[   52.718527]  __relocate_anon_folios+0x7bd/0x11a0
[   52.718545]  ? __pfx___relocate_anon_folios+0x10/0x10
[   52.718558]  ? __this_cpu_preempt_check+0x21/0x30
[   52.718567]  ? lock_set_class+0x17a/0x260
[   52.718585]  copy_vma_and_data+0x606/0x1790
[   52.718600]  ? percpu_counter_add_batch+0xd9/0x210
[   52.718614]  ? __pfx_copy_vma_and_data+0x10/0x10
[   52.718622]  ? vms_complete_munmap_vmas+0x525/0x810
[   52.718640]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   52.718648]  ? __this_cpu_preempt_check+0x21/0x30
[   52.718660]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.718672]  ? mtree_range_walk+0x728/0xb70
[   52.718686]  ? __lock_acquire+0x412/0x22a0
[   52.718698]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.718709]  ? percpu_counter_add_batch+0xd9/0x210
[   52.718716]  ? debug_smp_processor_id+0x20/0x30
[   52.718729]  ? __this_cpu_preempt_check+0x21/0x30
[   52.718736]  ? lock_is_held_type+0xef/0x150
[   52.718753]  move_vma+0x689/0x1a60
[   52.718768]  ? __pfx_move_vma+0x10/0x10
[   52.718778]  ? cap_mmap_addr+0x58/0x140
[   52.718788]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.718800]  ? security_mmap_addr+0x63/0x1b0
[   52.718810]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.718821]  ? __get_unmapped_area+0x1a4/0x440
[   52.718835]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.718847]  ? vrm_set_new_addr+0x21d/0x2b0
[   52.718858]  __do_sys_mremap+0xeb4/0x1620
[   52.718870]  ? __pfx___do_sys_mremap+0x10/0x10
[   52.718893]  ? __this_cpu_preempt_check+0x21/0x30
[   52.718918]  __x64_sys_mremap+0xc7/0x150
[   52.718927]  ? syscall_trace_enter+0x14d/0x280
[   52.718938]  x64_sys_call+0x1933/0x2150
[   52.718946]  do_syscall_64+0x6d/0x2e0
[   52.718958]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.718965] RIP: 0033:0x7f8a9dc3ee5d
[   52.718973] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   52.718979] RSP: 002b:00007ffe25030348 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   52.718986] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8a9dc3ee5d
[   52.718990] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   52.718994] RBP: 00007ffe25030350 R08: 000000002038d000 R09: 0000000000000001
[   52.718998] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe25030468
[   52.719002] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8a9df97000
[   52.719018]  </TASK>
[   53.721567] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   53.722010] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1984, name: repro
[   53.722360] preempt_count: 1, expected: 0
[   53.722575] RCU nest depth: 1, expected: 0
[   53.722770] 4 locks held by repro/1984:
[   53.722956]  #0: ffff88801231f560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   53.723375]  #1: ffff88802662b3a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   53.723809]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   53.724220]  #3: ffff88802be991f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   53.724675] Preemption disabled at:
[   53.724678] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   53.725135] CPU: 0 UID: 0 PID: 1984 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   53.725145] Tainted: [W]=WARN
[   53.725147] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.725152] Call Trace:
[   53.725154]  <TASK>
[   53.725156]  dump_stack_lvl+0x121/0x150
[   53.725170]  dump_stack+0x19/0x20
[   53.725178]  __might_resched+0x37b/0x5a0
[   53.725200]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.725217]  __might_sleep+0xa3/0x170
[   53.725226]  ? vm_normal_folio+0x8c/0x170
[   53.725237]  __relocate_anon_folios+0x7bd/0x11a0
[   53.725251]  ? __pfx___relocate_anon_folios+0x10/0x10
[   53.725261]  ? __this_cpu_preempt_check+0x21/0x30
[   53.725269]  ? lock_set_class+0x17a/0x260
[   53.725283]  copy_vma_and_data+0x606/0x1790
[   53.725295]  ? percpu_counter_add_batch+0xd9/0x210
[   53.725307]  ? __pfx_copy_vma_and_data+0x10/0x10
[   53.725313]  ? vms_complete_munmap_vmas+0x525/0x810
[   53.725328]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   53.725334]  ? __this_cpu_preempt_check+0x21/0x30
[   53.725345]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.725354]  ? mtree_range_walk+0x728/0xb70
[   53.725365]  ? __lock_acquire+0x412/0x22a0
[   53.725375]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.725384]  ? percpu_counter_add_batch+0xd9/0x210
[   53.725389]  ? debug_smp_processor_id+0x20/0x30
[   53.725400]  ? __this_cpu_preempt_check+0x21/0x30
[   53.725408]  ? lock_is_held_type+0xef/0x150
[   53.725420]  move_vma+0x689/0x1a60
[   53.725431]  ? __pfx_move_vma+0x10/0x10
[   53.725440]  ? cap_mmap_addr+0x58/0x140
[   53.725448]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.725457]  ? security_mmap_addr+0x63/0x1b0
[   53.725466]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.725475]  ? __get_unmapped_area+0x1a4/0x440
[   53.725486]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.725495]  ? vrm_set_new_addr+0x21d/0x2b0
[   53.725505]  __do_sys_mremap+0xeb4/0x1620
[   53.725514]  ? __pfx___do_sys_mremap+0x10/0x10
[   53.725524]  ? __this_cpu_preempt_check+0x21/0x30
[   53.725537]  ? __this_cpu_preempt_check+0x21/0x30
[   53.725554]  __x64_sys_mremap+0xc7/0x150
[   53.725561]  ? syscall_trace_enter+0x14d/0x280
[   53.725571]  x64_sys_call+0x1933/0x2150
[   53.725578]  do_syscall_64+0x6d/0x2e0
[   53.725588]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.725594] RIP: 0033:0x7f6297e3ee5d
[   53.725601] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   53.725607] RSP: 002b:00007fff6aab0d88 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   53.725613] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f6297e3ee5d
[   53.725617] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   53.725620] RBP: 00007fff6aab0d90 R08: 000000002038d000 R09: 0000000000000001
[   53.725624] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff6aab0ea8
[   53.725627] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f6298168000
[   53.725640]  </TASK>
[   54.728476] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   54.728921] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2021, name: repro
[   54.729273] preempt_count: 1, expected: 0
[   54.729464] RCU nest depth: 1, expected: 0
[   54.729657] 4 locks held by repro/2021:
[   54.729839]  #0: ffff88800f3e4b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   54.730257]  #1: ffff88802a8b33a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   54.731037]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   54.731461]  #3: ffff888011593858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   54.731921] Preemption disabled at:
[   54.731924] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   54.732385] CPU: 0 UID: 0 PID: 2021 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   54.732396] Tainted: [W]=WARN
[   54.732398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.732402] Call Trace:
[   54.732405]  <TASK>
[   54.732408]  dump_stack_lvl+0x121/0x150
[   54.732421]  dump_stack+0x19/0x20
[   54.732429]  __might_resched+0x37b/0x5a0
[   54.732440]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.732454]  __might_sleep+0xa3/0x170
[   54.732463]  ? vm_normal_folio+0x8c/0x170
[   54.732474]  __relocate_anon_folios+0x7bd/0x11a0
[   54.732494]  ? __pfx___relocate_anon_folios+0x10/0x10
[   54.732505]  ? __this_cpu_preempt_check+0x21/0x30
[   54.732513]  ? lock_set_class+0x17a/0x260
[   54.732527]  copy_vma_and_data+0x606/0x1790
[   54.732539]  ? percpu_counter_add_batch+0xd9/0x210
[   54.732552]  ? __pfx_copy_vma_and_data+0x10/0x10
[   54.732559]  ? vms_complete_munmap_vmas+0x525/0x810
[   54.732573]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   54.732580]  ? __this_cpu_preempt_check+0x21/0x30
[   54.732591]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.732600]  ? mtree_range_walk+0x728/0xb70
[   54.732612]  ? __lock_acquire+0x412/0x22a0
[   54.732622]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.732631]  ? percpu_counter_add_batch+0xd9/0x210
[   54.732637]  ? debug_smp_processor_id+0x20/0x30
[   54.732647]  ? __this_cpu_preempt_check+0x21/0x30
[   54.732654]  ? lock_is_held_type+0xef/0x150
[   54.732666]  move_vma+0x689/0x1a60
[   54.732678]  ? __pfx_move_vma+0x10/0x10
[   54.732686]  ? cap_mmap_addr+0x58/0x140
[   54.732695]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.732704]  ? security_mmap_addr+0x63/0x1b0
[   54.732713]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.732725]  ? __get_unmapped_area+0x1a4/0x440
[   54.732736]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.732745]  ? vrm_set_new_addr+0x21d/0x2b0
[   54.732755]  __do_sys_mremap+0xeb4/0x1620
[   54.732764]  ? __pfx___do_sys_mremap+0x10/0x10
[   54.732774]  ? __this_cpu_preempt_check+0x21/0x30
[   54.732788]  ? __this_cpu_preempt_check+0x21/0x30
[   54.732805]  __x64_sys_mremap+0xc7/0x150
[   54.732812]  ? syscall_trace_enter+0x14d/0x280
[   54.732822]  x64_sys_call+0x1933/0x2150
[   54.732829]  do_syscall_64+0x6d/0x2e0
[   54.732840]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.732846] RIP: 0033:0x7fce96e3ee5d
[   54.732854] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   54.732860] RSP: 002b:00007ffc6c0972c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   54.732866] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fce96e3ee5d
[   54.732870] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   54.732874] RBP: 00007ffc6c0972d0 R08: 000000002038d000 R09: 0000000000000001
[   54.732878] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc6c0973e8
[   54.732881] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fce97163000
[   54.732894]  </TASK>
[   55.734891] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   55.735324] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2057, name: repro
[   55.735679] preempt_count: 1, expected: 0
[   55.735872] RCU nest depth: 1, expected: 0
[   55.736068] 4 locks held by repro/2057:
[   55.736256]  #0: ffff888015c4e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   55.736678]  #1: ffff888014b903a8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   55.737118]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   55.737524]  #3: ffff88802aee9858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   55.737983] Preemption disabled at:
[   55.737985] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   55.738452] CPU: 0 UID: 0 PID: 2057 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   55.738466] Tainted: [W]=WARN
[   55.738468] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.738474] Call Trace:
[   55.738477]  <TASK>
[   55.738480]  dump_stack_lvl+0x121/0x150
[   55.738496]  dump_stack+0x19/0x20
[   55.738506]  __might_resched+0x37b/0x5a0
[   55.738518]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.738536]  __might_sleep+0xa3/0x170
[   55.738547]  ? vm_normal_folio+0x8c/0x170
[   55.738560]  __relocate_anon_folios+0x7bd/0x11a0
[   55.738579]  ? __pfx___relocate_anon_folios+0x10/0x10
[   55.738591]  ? __this_cpu_preempt_check+0x21/0x30
[   55.738601]  ? lock_set_class+0x17a/0x260
[   55.738625]  copy_vma_and_data+0x606/0x1790
[   55.738645]  ? percpu_counter_add_batch+0xd9/0x210
[   55.738660]  ? __pfx_copy_vma_and_data+0x10/0x10
[   55.738668]  ? vms_complete_munmap_vmas+0x525/0x810
[   55.738686]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   55.738693]  ? __this_cpu_preempt_check+0x21/0x30
[   55.738706]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.738718]  ? mtree_range_walk+0x728/0xb70
[   55.738732]  ? __lock_acquire+0x412/0x22a0
[   55.738744]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.738755]  ? percpu_counter_add_batch+0xd9/0x210
[   55.738762]  ? debug_smp_processor_id+0x20/0x30
[   55.738775]  ? __this_cpu_preempt_check+0x21/0x30
[   55.738782]  ? lock_is_held_type+0xef/0x150
[   55.738797]  move_vma+0x689/0x1a60
[   55.738811]  ? __pfx_move_vma+0x10/0x10
[   55.738822]  ? cap_mmap_addr+0x58/0x140
[   55.738831]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.738843]  ? security_mmap_addr+0x63/0x1b0
[   55.738853]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.738864]  ? __get_unmapped_area+0x1a4/0x440
[   55.738879]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.738890]  ? vrm_set_new_addr+0x21d/0x2b0
[   55.738905]  __do_sys_mremap+0xeb4/0x1620
[   55.738916]  ? __pfx___do_sys_mremap+0x10/0x10
[   55.738940]  ? __this_cpu_preempt_check+0x21/0x30
[   55.738963]  __x64_sys_mremap+0xc7/0x150
[   55.738972]  ? syscall_trace_enter+0x14d/0x280
[   55.738983]  x64_sys_call+0x1933/0x2150
[   55.738991]  do_syscall_64+0x6d/0x2e0
[   55.739004]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.739012] RIP: 0033:0x7fb7b9c3ee5d
[   55.739020] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   55.739027] RSP: 002b:00007ffe76e60308 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   55.739034] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fb7b9c3ee5d
[   55.739038] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   55.739043] RBP: 00007ffe76e60310 R08: 000000002038d000 R09: 0000000000000001
[   55.739047] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe76e60428
[   55.739051] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fb7b9fb9000
[   55.739068]  </TASK>
[   56.736530] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   56.736988] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2092, name: repro
[   56.737345] preempt_count: 1, expected: 0
[   56.737535] RCU nest depth: 1, expected: 0
[   56.737730] 4 locks held by repro/2092:
[   56.737923]  #0: ffff888015f18c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   56.738366]  #1: ffff88802ae1f4b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   56.738971]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   56.739390]  #3: ffff88802a98c918 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   56.739857] Preemption disabled at:
[   56.739865] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   56.740336] CPU: 1 UID: 0 PID: 2092 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   56.740346] Tainted: [W]=WARN
[   56.740348] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.740353] Call Trace:
[   56.740355]  <TASK>
[   56.740359]  dump_stack_lvl+0x121/0x150
[   56.740372]  dump_stack+0x19/0x20
[   56.740380]  __might_resched+0x37b/0x5a0
[   56.740391]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.740406]  __might_sleep+0xa3/0x170
[   56.740414]  ? vm_normal_folio+0x8c/0x170
[   56.740425]  __relocate_anon_folios+0x7bd/0x11a0
[   56.740439]  ? __pfx___relocate_anon_folios+0x10/0x10
[   56.740450]  ? __this_cpu_preempt_check+0x21/0x30
[   56.740458]  ? lock_set_class+0x17a/0x260
[   56.740473]  copy_vma_and_data+0x606/0x1790
[   56.740485]  ? percpu_counter_add_batch+0xd9/0x210
[   56.740497]  ? __pfx_copy_vma_and_data+0x10/0x10
[   56.740504]  ? vms_complete_munmap_vmas+0x525/0x810
[   56.740519]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   56.740526]  ? __this_cpu_preempt_check+0x21/0x30
[   56.740539]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.740549]  ? mtree_range_walk+0x728/0xb70
[   56.740561]  ? __lock_acquire+0x412/0x22a0
[   56.740571]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.740580]  ? percpu_counter_add_batch+0xd9/0x210
[   56.740585]  ? debug_smp_processor_id+0x20/0x30
[   56.740596]  ? __this_cpu_preempt_check+0x21/0x30
[   56.740602]  ? lock_is_held_type+0xef/0x150
[   56.740615]  move_vma+0x689/0x1a60
[   56.740626]  ? __pfx_move_vma+0x10/0x10
[   56.740635]  ? cap_mmap_addr+0x58/0x140
[   56.740644]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.740653]  ? security_mmap_addr+0x63/0x1b0
[   56.740662]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.740671]  ? __get_unmapped_area+0x1a4/0x440
[   56.740683]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.740692]  ? vrm_set_new_addr+0x21d/0x2b0
[   56.740702]  __do_sys_mremap+0xeb4/0x1620
[   56.740712]  ? __pfx___do_sys_mremap+0x10/0x10
[   56.740729]  ? __this_cpu_preempt_check+0x21/0x30
[   56.740747]  __x64_sys_mremap+0xc7/0x150
[   56.740756]  ? syscall_trace_enter+0x14d/0x280
[   56.740766]  x64_sys_call+0x1933/0x2150
[   56.740773]  do_syscall_64+0x6d/0x2e0
[   56.740784]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.740790] RIP: 0033:0x7f4b85e3ee5d
[   56.740798] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   56.740804] RSP: 002b:00007ffc468ebff8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   56.740810] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f4b85e3ee5d
[   56.740814] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   56.740818] RBP: 00007ffc468ec000 R08: 000000002038d000 R09: 0000000000000001
[   56.740821] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc468ec118
[   56.740825] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4b86079000
[   56.740838]  </TASK>
[   57.743989] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   57.744452] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2127, name: repro
[   57.744816] preempt_count: 1, expected: 0
[   57.745015] RCU nest depth: 1, expected: 0
[   57.745215] 4 locks held by repro/2127:
[   57.745405]  #0: ffff88801b6555e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   57.745866]  #1: ffff8880275dc7e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   57.746314]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   57.746785]  #3: ffff88802bd025b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   57.747249] Preemption disabled at:
[   57.747251] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   57.747713] CPU: 1 UID: 0 PID: 2127 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   57.747724] Tainted: [W]=WARN
[   57.747726] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.747730] Call Trace:
[   57.747733]  <TASK>
[   57.747736]  dump_stack_lvl+0x121/0x150
[   57.747749]  dump_stack+0x19/0x20
[   57.747757]  __might_resched+0x37b/0x5a0
[   57.747767]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.747781]  __might_sleep+0xa3/0x170
[   57.747790]  ? vm_normal_folio+0x8c/0x170
[   57.747828]  __relocate_anon_folios+0x7bd/0x11a0
[   57.747843]  ? __pfx___relocate_anon_folios+0x10/0x10
[   57.747853]  ? __this_cpu_preempt_check+0x21/0x30
[   57.747861]  ? lock_set_class+0x17a/0x260
[   57.747876]  copy_vma_and_data+0x606/0x1790
[   57.747888]  ? percpu_counter_add_batch+0xd9/0x210
[   57.747904]  ? __pfx_copy_vma_and_data+0x10/0x10
[   57.747910]  ? vms_complete_munmap_vmas+0x525/0x810
[   57.747925]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   57.747932]  ? __this_cpu_preempt_check+0x21/0x30
[   57.747943]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.747967]  ? mtree_range_walk+0x728/0xb70
[   57.747979]  ? __lock_acquire+0x412/0x22a0
[   57.747989]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.747998]  ? percpu_counter_add_batch+0xd9/0x210
[   57.748007]  ? debug_smp_processor_id+0x20/0x30
[   57.748018]  ? __this_cpu_preempt_check+0x21/0x30
[   57.748025]  ? lock_is_held_type+0xef/0x150
[   57.748037]  move_vma+0x689/0x1a60
[   57.748048]  ? __pfx_move_vma+0x10/0x10
[   57.748057]  ? cap_mmap_addr+0x58/0x140
[   57.748066]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.748075]  ? security_mmap_addr+0x63/0x1b0
[   57.748084]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.748093]  ? __get_unmapped_area+0x1a4/0x440
[   57.748105]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.748115]  ? vrm_set_new_addr+0x21d/0x2b0
[   57.748124]  __do_sys_mremap+0xeb4/0x1620
[   57.748134]  ? __pfx___do_sys_mremap+0x10/0x10
[   57.748144]  ? __this_cpu_preempt_check+0x21/0x30
[   57.748157]  ? __this_cpu_preempt_check+0x21/0x30
[   57.748175]  __x64_sys_mremap+0xc7/0x150
[   57.748182]  ? syscall_trace_enter+0x14d/0x280
[   57.748192]  x64_sys_call+0x1933/0x2150
[   57.748199]  do_syscall_64+0x6d/0x2e0
[   57.748209]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.748216] RIP: 0033:0x7fa3e2e3ee5d
[   57.748223] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   57.748229] RSP: 002b:00007ffe5a086628 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   57.748235] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa3e2e3ee5d
[   57.748239] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   57.748243] RBP: 00007ffe5a086630 R08: 000000002038d000 R09: 0000000000000001
[   57.748247] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe5a086748
[   57.748250] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa3e31f8000
[   57.748263]  </TASK>
[   58.763163] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   58.763610] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2163, name: repro
[   58.763970] preempt_count: 1, expected: 0
[   58.764165] RCU nest depth: 1, expected: 0
[   58.764363] 4 locks held by repro/2163:
[   58.764552]  #0: ffff8880179fcb60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   58.764987]  #1: ffff88802c1297e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   58.765430]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   58.765849]  #3: ffff88800d4700d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   58.766317] Preemption disabled at:
[   58.766319] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   58.766818] CPU: 1 UID: 0 PID: 2163 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   58.766828] Tainted: [W]=WARN
[   58.766844] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.766849] Call Trace:
[   58.766852]  <TASK>
[   58.766855]  dump_stack_lvl+0x121/0x150
[   58.766869]  dump_stack+0x19/0x20
[   58.766877]  __might_resched+0x37b/0x5a0
[   58.766888]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.766905]  __might_sleep+0xa3/0x170
[   58.766914]  ? vm_normal_folio+0x8c/0x170
[   58.766925]  __relocate_anon_folios+0x7bd/0x11a0
[   58.766940]  ? __pfx___relocate_anon_folios+0x10/0x10
[   58.766951]  ? __this_cpu_preempt_check+0x21/0x30
[   58.766959]  ? lock_set_class+0x17a/0x260
[   58.766973]  copy_vma_and_data+0x606/0x1790
[   58.766985]  ? percpu_counter_add_batch+0xd9/0x210
[   58.766998]  ? __pfx_copy_vma_and_data+0x10/0x10
[   58.767005]  ? vms_complete_munmap_vmas+0x525/0x810
[   58.767021]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   58.767028]  ? __this_cpu_preempt_check+0x21/0x30
[   58.767038]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.767048]  ? mtree_range_walk+0x728/0xb70
[   58.767060]  ? __lock_acquire+0x412/0x22a0
[   58.767070]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.767079]  ? percpu_counter_add_batch+0xd9/0x210
[   58.767085]  ? debug_smp_processor_id+0x20/0x30
[   58.767096]  ? __this_cpu_preempt_check+0x21/0x30
[   58.767103]  ? lock_is_held_type+0xef/0x150
[   58.767115]  move_vma+0x689/0x1a60
[   58.767129]  ? __pfx_move_vma+0x10/0x10
[   58.767137]  ? cap_mmap_addr+0x58/0x140
[   58.767146]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.767156]  ? security_mmap_addr+0x63/0x1b0
[   58.767164]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.767174]  ? __get_unmapped_area+0x1a4/0x440
[   58.767187]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.767197]  ? vrm_set_new_addr+0x21d/0x2b0
[   58.767206]  __do_sys_mremap+0xeb4/0x1620
[   58.767216]  ? __pfx___do_sys_mremap+0x10/0x10
[   58.767226]  ? __this_cpu_preempt_check+0x21/0x30
[   58.767239]  ? __this_cpu_preempt_check+0x21/0x30
[   58.767256]  __x64_sys_mremap+0xc7/0x150
[   58.767264]  ? syscall_trace_enter+0x14d/0x280
[   58.767273]  x64_sys_call+0x1933/0x2150
[   58.767280]  do_syscall_64+0x6d/0x2e0
[   58.767291]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.767297] RIP: 0033:0x7f388603ee5d
[   58.767305] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   58.767313] RSP: 002b:00007ffd0f36d388 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   58.767319] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f388603ee5d
[   58.767323] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   58.767327] RBP: 00007ffd0f36d390 R08: 000000002038d000 R09: 0000000000000001
[   58.767330] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd0f36d4a8
[   58.767334] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f3886254000
[   58.767347]  </TASK>
[   59.770394] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   59.771182] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2198, name: repro
[   59.771532] preempt_count: 1, expected: 0
[   59.771728] RCU nest depth: 1, expected: 0
[   59.771927] 4 locks held by repro/2198:
[   59.772114]  #0: ffff88801b6101e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   59.772549]  #1: ffff8880140d7f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   59.772996]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   59.773418]  #3: ffff888026661738 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   59.773883] Preemption disabled at:
[   59.773886] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   59.774355] CPU: 1 UID: 0 PID: 2198 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   59.774366] Tainted: [W]=WARN
[   59.774368] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.774373] Call Trace:
[   59.774375]  <TASK>
[   59.774378]  dump_stack_lvl+0x121/0x150
[   59.774392]  dump_stack+0x19/0x20
[   59.774400]  __might_resched+0x37b/0x5a0
[   59.774411]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.774426]  __might_sleep+0xa3/0x170
[   59.774435]  ? vm_normal_folio+0x8c/0x170
[   59.774446]  __relocate_anon_folios+0x7bd/0x11a0
[   59.774465]  ? __pfx___relocate_anon_folios+0x10/0x10
[   59.774478]  ? __this_cpu_preempt_check+0x21/0x30
[   59.774487]  ? lock_set_class+0x17a/0x260
[   59.774506]  copy_vma_and_data+0x606/0x1790
[   59.774521]  ? percpu_counter_add_batch+0xd9/0x210
[   59.774536]  ? __pfx_copy_vma_and_data+0x10/0x10
[   59.774544]  ? vms_complete_munmap_vmas+0x525/0x810
[   59.774563]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   59.774571]  ? __this_cpu_preempt_check+0x21/0x30
[   59.774584]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.774595]  ? mtree_range_walk+0x728/0xb70
[   59.774610]  ? __lock_acquire+0x412/0x22a0
[   59.774622]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.774634]  ? percpu_counter_add_batch+0xd9/0x210
[   59.774640]  ? debug_smp_processor_id+0x20/0x30
[   59.774653]  ? __this_cpu_preempt_check+0x21/0x30
[   59.774676]  ? lock_is_held_type+0xef/0x150
[   59.774691]  move_vma+0x689/0x1a60
[   59.774706]  ? __pfx_move_vma+0x10/0x10
[   59.774717]  ? cap_mmap_addr+0x58/0x140
[   59.774727]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.774739]  ? security_mmap_addr+0x63/0x1b0
[   59.774749]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.774764]  ? __get_unmapped_area+0x1a4/0x440
[   59.774778]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.774790]  ? vrm_set_new_addr+0x21d/0x2b0
[   59.774802]  __do_sys_mremap+0xeb4/0x1620
[   59.774814]  ? __pfx___do_sys_mremap+0x10/0x10
[   59.774826]  ? __this_cpu_preempt_check+0x21/0x30
[   59.774843]  ? __this_cpu_preempt_check+0x21/0x30
[   59.774866]  __x64_sys_mremap+0xc7/0x150
[   59.774876]  ? syscall_trace_enter+0x14d/0x280
[   59.774887]  x64_sys_call+0x1933/0x2150
[   59.774898]  do_syscall_64+0x6d/0x2e0
[   59.774911]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.774918] RIP: 0033:0x7f375e03ee5d
[   59.774926] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   59.774933] RSP: 002b:00007ffe96ed4798 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   59.774940] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f375e03ee5d
[   59.774944] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   59.774949] RBP: 00007ffe96ed47a0 R08: 000000002038d000 R09: 0000000000000001
[   59.774953] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe96ed48b8
[   59.774957] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f375e256000
[   59.774974]  </TASK>
[   60.787806] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   60.788280] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2233, name: repro
[   60.788631] preempt_count: 1, expected: 0
[   60.788823] RCU nest depth: 1, expected: 0
[   60.789018] 4 locks held by repro/2233:
[   60.789202]  #0: ffff888017d96060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   60.789626]  #1: ffff88802bca0298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   60.790067]  #2: ffffffff8725c700 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   60.790500]  #3: ffff88802af0f9d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   60.790949] Preemption disabled at:
[   60.790951] [<ffffffff81e0c452>] __pte_offset_map_lock+0x1a2/0x3c0
[   60.791420] CPU: 0 UID: 0 PID: 2233 Comm: repro Tainted: G        W           6.16.0-rc2-fc347ad239ab+ #1 PREEMPT(voluntary) 
[   60.791431] Tainted: [W]=WARN
[   60.791433] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.791437] Call Trace:
[   60.791440]  <TASK>
[   60.791442]  dump_stack_lvl+0x121/0x150
[   60.791455]  dump_stack+0x19/0x20
[   60.791463]  __might_resched+0x37b/0x5a0
[   60.791484]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.791497]  __might_sleep+0xa3/0x170
[   60.791506]  ? vm_normal_folio+0x8c/0x170
[   60.791517]  __relocate_anon_folios+0x7bd/0x11a0
[   60.791531]  ? __pfx___relocate_anon_folios+0x10/0x10
[   60.791542]  ? __this_cpu_preempt_check+0x21/0x30
[   60.791550]  ? lock_set_class+0x17a/0x260
[   60.791564]  copy_vma_and_data+0x606/0x1790
[   60.791576]  ? percpu_counter_add_batch+0xd9/0x210
[   60.791588]  ? __pfx_copy_vma_and_data+0x10/0x10
[   60.791595]  ? vms_complete_munmap_vmas+0x525/0x810
[   60.791610]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   60.791617]  ? __this_cpu_preempt_check+0x21/0x30
[   60.791627]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   60.791637]  ? mtree_range_walk+0x728/0xb70
[   60.791649]  ? __lock_acquire+0x412/0x22a0
[   60.791659]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.791669]  ? percpu_counter_add_batch+0xd9/0x210
[   60.791674]  ? debug_smp_processor_id+0x20/0x30
[   60.791685]  ? __this_cpu_preempt_check+0x21/0x30
[   60.791692]  ? lock_is_held_type+0xef/0x150
[   60.791704]  move_vma+0x689/0x1a60
[   60.791716]  ? __pfx_move_vma+0x10/0x10
[   60.791725]  ? cap_mmap_addr+0x58/0x140
[   60.791733]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   60.791742]  ? security_mmap_addr+0x63/0x1b0
[   60.791751]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.791760]  ? __get_unmapped_area+0x1a4/0x440
[   60.791772]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   60.791782]  ? vrm_set_new_addr+0x21d/0x2b0
[   60.791794]  __do_sys_mremap+0xeb4/0x1620
[   60.791804]  ? __pfx___do_sys_mremap+0x10/0x10
[   60.791814]  ? __this_cpu_preempt_check+0x21/0x30
[   60.791828]  ? __this_cpu_preempt_check+0x21/0x30
[   60.791846]  __x64_sys_mremap+0xc7/0x150
[   60.791854]  ? syscall_trace_enter+0x14d/0x280
[   60.791863]  x64_sys_call+0x1933/0x2150
[   60.791870]  do_syscall_64+0x6d/0x2e0
[   60.791880]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.791886] RIP: 0033:0x7f17f323ee5d
[   60.791896] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   60.791902] RSP: 002b:00007ffdc7c0f118 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   60.791908] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f17f323ee5d
[   60.791912] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   60.791916] RBP: 00007ffdc7c0f120 R08: 000000002038d000 R09: 0000000000000001
[   60.791919] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdc7c0f238
[   60.791925] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f17f364e000
[   60.791940]  </TASK>

c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.16.0-rc2-4b8b5e749745+ (root@p-arls02) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-7), GNU ld version 2.35.2-65.el9) #1 SMP PREEMPT_DYNAMIC Tue Jun 17 03:01:17 CST 2025
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/CPU: Model not found in latest microcode list
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000003] kvm-clock: using sched offset of 852602290 cycles
[    0.000396] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001603] tsc: Detected 1267.200 MHz processor
[    0.007581] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.008019] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.008639] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.018121] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.018580] Using GB pages for direct mapping
[    0.020603] ACPI: Early table checksum verification disabled
[    0.021019] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.021466] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.022111] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.022759] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023402] ACPI: FACS 0x000000007FFE0000 000040
[    0.023755] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024403] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025046] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025690] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.026219] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.026741] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.027269] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.027800] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.028329] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.029296] No NUMA configuration found
[    0.029576] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.030105] NODE_DATA(0) allocated [mem 0x7ffb4e80-0x7ffdfc7f]
[    0.031087] Zone ranges:
[    0.031282]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.031746]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.032210]   Normal   empty
[    0.032429]   Device   empty
[    0.032647] Movable zone start for each node
[    0.032972] Early memory node ranges
[    0.033245]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.033718]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.034191] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.035399] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.036122] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.076628] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.499509] kasan: KernelAddressSanitizer initialized
[    0.500202] ACPI: PM-Timer IO Port: 0x608
[    0.500541] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.501047] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.501594] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.502080] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.502585] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.503086] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.503606] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.504131] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.504626] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.505034] TSC deadline timer available
[    0.505340] CPU topo: Max. logical packages:   1
[    0.505690] CPU topo: Max. logical dies:       1
[    0.506042] CPU topo: Max. dies per package:   1
[    0.506396] CPU topo: Max. threads per core:   1
[    0.506747] CPU topo: Num. cores per package:     2
[    0.507118] CPU topo: Num. threads per package:   2
[    0.507492] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.508017] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.508583] kvm-guest: KVM setup pv remote TLB flush
[    0.508965] kvm-guest: setup PV sched yield
[    0.509331] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.509910] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x000fffff]
[    0.510487] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.510952] Booting paravirtualized kernel on KVM
[    0.511334] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.512145] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.514873] percpu: Embedded 80 pages/cpu s290816 r8192 d28672 u1048576
[    0.515537] kvm-guest: PV spinlocks enabled
[    0.515877] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.516457] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.517600] random: crng init done
[    0.517874] printk: log buffer data + meta data: 262144 + 917504 = 1179648 bytes
[    0.520433] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.521857] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.522775] Fallback order for Node 0: 0 
[    0.522784] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.523599] Policy zone: DMA32
[    0.523828] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.524296] stackdepot: allocating hash table via alloc_large_system_hash
[    0.524804] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.574403] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.574916] kmemleak: Kernel memory leak detector disabled
[    0.610348] ftrace: allocating 73933 entries in 292 pages
[    0.610761] ftrace: allocated 292 pages with 3 groups
[    0.614912] Dynamic Preempt: voluntary
[    0.615543] Running RCU self tests
[    0.615801] Running RCU synchronous self tests
[    0.616127] rcu: Preemptible hierarchical RCU implementation.
[    0.616552] rcu: 	RCU lockdep checking is enabled.
[    0.616904] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.617407] 	Trampoline variant of Tasks RCU enabled.
[    0.617776] 	Rude variant of Tasks RCU enabled.
[    0.618108] 	Tracing variant of Tasks RCU enabled.
[    0.618464] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.619017] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.619563] Running RCU synchronous self tests
[    0.619894] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.620533] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.621208] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.677134] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.678090] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.684913] Console: colour VGA+ 80x25
[    0.685253] printk: legacy console [ttyS0] enabled
[    0.685253] printk: legacy console [ttyS0] enabled
[    0.685977] printk: legacy bootconsole [earlyser0] disabled
[    0.685977] printk: legacy bootconsole [earlyser0] disabled
[    0.686825] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.687421] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.687741] ... MAX_LOCK_DEPTH:          48
[    0.688064] ... MAX_LOCKDEP_KEYS:        8192
[    0.688401] ... CLASSHASH_SIZE:          4096
[    0.688739] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.689087] ... MAX_LOCKDEP_CHAINS:      524288
[    0.689436] ... CHAINHASH_SIZE:          262144
[    0.689787]  memory used by lock dependency info: 54145 kB
[    0.690208]  memory used for stack traces: 4224 kB
[    0.690578]  per task-struct memory footprint: 1920 bytes
[    0.691075] ACPI: Core revision 20250404
[    0.691742] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.692595] APIC: Switch to symmetric I/O mode setup
[    0.693165] x2apic enabled
[    0.693723] APIC: Switched APIC routing to: physical x2apic
[    0.694170] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.694740] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.695440] kvm-guest: setup PV IPIs
[    0.696642] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.697124] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    0.697931] Calibrating delay loop (skipped) preset value.. 2534.40 BogoMIPS (lpj=5068800)
[    0.698702] CPU0: Thermal monitoring enabled (TM1)
[    0.699079] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.699671] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.700075] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.701933] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.702578] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.703017] ITS: Mitigation: Aligned branch/return thunks
[    0.703414] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.704052] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.704886] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.705431] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.705922] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.706531] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.707104] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.707591] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.708073] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.708668] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.709139] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.709613] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.839108] Freeing SMP alternatives memory: 60K
[    0.839496] pid_max: default: 32768 minimum: 301
[    0.840057] LSM: initializing lsm=capability,yama,ima,evm
[    0.840554] Yama: becoming mindful.
[    0.841140] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.841682] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.843340] Running RCU synchronous self tests
[    0.843672] Running RCU synchronous self tests
[    0.844425] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xc6, stepping: 0x0)
[    0.845916] Performance Events: unsupported CPU family 6 model 198 no PMU driver, software events only.
[    0.845916] signal: max sigframe size: 3632
[    0.845916] rcu: Hierarchical SRCU implementation.
[    0.845916] rcu: 	Max phase no-delay instances is 1000.
[    0.845916] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    0.855279] NMI watchdog: Perf NMI watchdog permanently disabled
[    0.855936] smp: Bringing up secondary CPUs ...
[    0.856954] smpboot: x86: Booting SMP configuration:
[    0.857329] .... node  #0, CPUs:      #1
[    0.858343] smp: Brought up 1 node, 2 CPUs
[    0.858850] smpboot: Total of 2 processors activated (5068.80 BogoMIPS)
[    0.859966] Memory: 1545764K/2096632K available (79021K kernel code, 15320K rwdata, 18328K rodata, 16068K init, 68656K bss, 539468K reserved, 0K cma-reserved)
[    0.863055] devtmpfs: initialized
[    0.863055] x86/mm: Memory block size: 128MB
[    0.874514] Running RCU synchronous self tests
[    0.874874] Running RCU synchronous self tests
[    0.875218] Running RCU Tasks wait API self tests
[    0.875218] Running RCU Tasks Rude wait API self tests
[    0.875218] Running RCU Tasks Trace wait API self tests
[    0.901957] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.902830] posixtimers hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    0.903504] futex hash table entries: 512 (65536 bytes on 1 NUMA nodes, total 64 KiB, linear).
[    0.904542] pinctrl core: initialized pinctrl subsystem
[    0.905893] 
[    0.905926] *************************************************************
[    0.906404] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.906880] **                                                         **
[    0.907355] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    0.907834] **                                                         **
[    0.908315] ** This means that this kernel is built to expose internal **
[    0.908790] ** IOMMU data structures, which may compromise security on **
[    0.909267] ** your system.                                            **
[    0.909746] **                                                         **
[    0.909921] ** If you see this message and you are not debugging the   **
[    0.910400] ** kernel, report this immediately to your vendor!         **
[    0.910875] **                                                         **
[    0.911354] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    0.911831] *************************************************************
[    0.912389] PM: RTC time: 19:03:50, date: 2025-06-16
[    0.917206] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.918811] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    0.919328] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.919893] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.920538] audit: initializing netlink subsys (disabled)
[    0.920977] audit: type=2000 audit(1750100630.990:1): state=initialized audit_enabled=0 res=1
[    0.920977] thermal_sys: Registered thermal governor 'fair_share'
[    0.920977] thermal_sys: Registered thermal governor 'bang_bang'
[    0.920977] thermal_sys: Registered thermal governor 'step_wise'
[    0.920977] thermal_sys: Registered thermal governor 'user_space'
[    0.921962] cpuidle: using governor ladder
[    0.921971] cpuidle: using governor menu
[    0.922579] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    0.923738] PCI: Using configuration type 1 for base access
[    0.926089] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    0.929964] Callback from call_rcu_tasks_trace() invoked.
[    1.049961] HugeTLB: allocation took 0ms with hugepage_allocation_threads=1
[    1.049961] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.049961] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.049961] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.049961] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.053916] ACPI: Added _OSI(Module Device)
[    1.053930] ACPI: Added _OSI(Processor Device)
[    1.054275] ACPI: Added _OSI(Processor Aggregator Device)
[    1.068383] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.084578] ACPI: Interpreter enabled
[    1.084578] ACPI: PM: (supports S0 S3 S4 S5)
[    1.084578] ACPI: Using IOAPIC for interrupt routing
[    1.084578] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.085242] PCI: Using E820 reservations for host bridge windows
[    1.086720] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.117415] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.117953] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.118586] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.119468] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.123940] acpiphp: Slot [3] registered
[    1.124369] acpiphp: Slot [4] registered
[    1.124790] acpiphp: Slot [5] registered
[    1.125197] acpiphp: Slot [6] registered
[    1.125613] acpiphp: Slot [7] registered
[    1.126046] acpiphp: Slot [8] registered
[    1.126453] acpiphp: Slot [9] registered
[    1.126879] acpiphp: Slot [10] registered
[    1.127294] acpiphp: Slot [11] registered
[    1.127741] acpiphp: Slot [12] registered
[    1.128155] acpiphp: Slot [13] registered
[    1.128580] acpiphp: Slot [14] registered
[    1.129002] acpiphp: Slot [15] registered
[    1.129439] acpiphp: Slot [16] registered
[    1.129855] acpiphp: Slot [17] registered
[    1.134032] acpiphp: Slot [18] registered
[    1.134450] acpiphp: Slot [19] registered
[    1.134887] acpiphp: Slot [20] registered
[    1.135303] acpiphp: Slot [21] registered
[    1.135749] acpiphp: Slot [22] registered
[    1.136167] acpiphp: Slot [23] registered
[    1.136607] acpiphp: Slot [24] registered
[    1.137022] acpiphp: Slot [25] registered
[    1.137458] acpiphp: Slot [26] registered
[    1.137878] acpiphp: Slot [27] registered
[    1.138050] acpiphp: Slot [28] registered
[    1.138465] acpiphp: Slot [29] registered
[    1.138889] acpiphp: Slot [30] registered
[    1.139305] acpiphp: Slot [31] registered
[    1.139679] PCI host bridge to bus 0000:00
[    1.140047] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.140579] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.141114] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.141700] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.141926] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.142526] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.143096] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.150615] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.152476] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.153694] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.153966] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.154505] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.154995] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.155534] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.156557] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.157489] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.157930] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.158984] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.179340] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.180693] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.181770] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.182577] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.193858] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.195622] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.196099] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.196541] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.215000] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.216297] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.217460] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.218666] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.219443] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.276245] iommu: Default domain type: Translated
[    1.276705] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.280876] SCSI subsystem initialized
[    1.282106] ACPI: bus type USB registered
[    1.282550] usbcore: registered new interface driver usbfs
[    1.283145] usbcore: registered new interface driver hub
[    1.283650] usbcore: registered new device driver usb
[    1.284542] pps_core: LinuxPPS API ver. 1 registered
[    1.284931] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.285687] PTP clock support registered
[    1.286454] EDAC MC: Ver: 3.0.0
[    1.290982] NetLabel: Initializing
[    1.291267] NetLabel:  domain hash size = 128
[    1.291635] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.292264] NetLabel:  unlabeled traffic allowed by default
[    1.294170] PCI: Using ACPI for IRQ routing
[    1.295029] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.295527] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.295989] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.296678] vgaarb: loaded
[    1.297988] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.298403] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.301917] clocksource: Switched to clocksource kvm-clock
[    1.304331] VFS: Disk quotas dquot_6.6.0
[    1.304686] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.308301] pnp: PnP ACPI init
[    1.311878] pnp: PnP ACPI: found 6 devices
[    1.330742] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.332001] NET: Registered PF_INET protocol family
[    1.332778] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.334960] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.335734] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.336498] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.337692] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.341005] TCP: Hash tables configured (established 16384 bind 16384)
[    1.341781] UDP hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.342503] UDP-Lite hash table entries: 1024 (order: 6, 262144 bytes, linear)
[    1.343623] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.345142] RPC: Registered named UNIX socket transport module.
[    1.345597] RPC: Registered udp transport module.
[    1.345962] RPC: Registered tcp transport module.
[    1.346330] RPC: Registered tcp-with-tls transport module.
[    1.346758] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.347328] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.347818] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.348303] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.348843] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.349384] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.350240] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.350690] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.351239] PCI: CLS 0 bytes, default 64
[    1.352322] ACPI: bus type thunderbolt registered
[    1.353184] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x12441513526, max_idle_ns: 440795239872 ns
[    3.314782] Initialise system trusted keyrings
[    3.315353] Key type blacklist registered
[    3.316253] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.318498] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.321339] NFS: Registering the id_resolver key type
[    3.321769] Key type id_resolver registered
[    3.322085] Key type id_legacy registered
[    3.322429] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.322962] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.324190] fuse: init (API version 7.44)
[    3.325414] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.328156] 9p: Installing v9fs 9p2000 file system support
[    3.338727] Key type asymmetric registered
[    3.339050] Asymmetric key parser 'x509' registered
[    3.339575] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 242)
[    3.340923] io scheduler mq-deadline registered
[    3.341472] io scheduler bfq registered
[    3.342822] ledtrig-cpu: registered to indicate activity on CPUs
[    3.344758] IPMI message handler: version 39.2
[    3.345167] ipmi device interface
[    3.348594] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.349627] ACPI: button: Power Button [PWRF]
[    3.352095] ERST DBG: ERST support is disabled.
[    3.354277] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.355916] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.371458] Callback from call_rcu_tasks() invoked.
[    3.389634] Linux agpgart interface v0.103
[    3.392913] ACPI: bus type drm_connector registered
[    3.417134] brd: module loaded
[    3.431716] loop: module loaded
[    3.443790] scsi host0: ata_piix
[    3.446054] scsi host1: ata_piix
[    3.446685] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.447227] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.450283] tun: Universal TUN/TAP device driver, 1.6
[    3.451352] e100: Intel(R) PRO/100 Network Driver
[    3.451701] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.452190] e1000: Intel(R) PRO/1000 Network Driver
[    3.452540] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.603577] ata2: found unknown device (class 0)
[    3.604480] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.605443] ata1: found unknown device (class 0)
[    3.606149] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.606550] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.608786] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.611047] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.612270] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.613022] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.613743] sd 0:0:0:0: [sda] Write Protect is off
[    3.614275] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.615249] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.633301] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    3.636864] sd 0:0:0:0: [sda] Attached SCSI disk
[    3.937907] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.242659] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.243196] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.243897] e1000e: Intel(R) PRO/1000 Network Driver
[    4.244261] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.245906] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.246299] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.247023] PPP generic driver version 2.4.2
[    4.249065] VFIO - User Level meta-driver version: 0.3
[    4.250962] usbcore: registered new interface driver uas
[    4.251464] usbcore: registered new interface driver usb-storage
[    4.252171] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.253960] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.254402] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.256385] mousedev: PS/2 mouse device common for all mice
[    4.258239] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.259891] rtc_cmos 00:05: RTC can wake from S4
[    4.262273] rtc_cmos 00:05: registered as rtc0
[    4.262662] rtc_cmos 00:05: setting system clock to 2025-06-16T19:03:54 UTC (1750100634)
[    4.263810] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.264818] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.265615] i2c_dev: i2c /dev entries driver
[    4.266409] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.266678] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.267341] device-mapper: uevent: version 1.0.3
[    4.268733] device-mapper: ioctl: 4.50.0-ioctl (2025-04-28) initialised: dm-devel@lists.linux.dev
[    4.269412] intel_pstate: CPU model not supported
[    4.269967] sdhci: Secure Digital Host Controller Interface driver
[    4.270405] sdhci: Copyright(c) Pierre Ossman
[    4.270894] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.271837] drop_monitor: Initializing network drop monitor service
[    4.272674] NET: Registered PF_INET6 protocol family
[    4.278137] Segment Routing with IPv6
[    4.278493] In-situ OAM (IOAM) with IPv6
[    4.278875] NET: Registered PF_PACKET protocol family
[    4.279558] 9pnet: Installing 9P2000 support
[    4.280019] Key type dns_resolver registered
[    4.282245] IPI shorthand broadcast: enabled
[    4.324667] sched_clock: Marking stable (4308004587, 15305002)->(4329486324, -6176735)
[    4.326425] registered taskstats version 1
[    4.327228] Loading compiled-in X.509 certificates
[    4.384528] Demotion targets for Node 0: null
[    4.386418] Key type .fscrypt registered
[    4.386712] Key type fscrypt-provisioning registered
[    4.390383] Key type encrypted registered
[    4.390751] ima: No TPM chip found, activating TPM-bypass!
[    4.391167] ima: Allocated hash algorithm: sha1
[    4.391593] ima: No architecture policies found
[    4.392088] evm: Initialising EVM extended attributes:
[    4.392462] evm: security.selinux
[    4.392700] evm: security.SMACK64
[    4.392935] evm: security.SMACK64EXEC
[    4.393201] evm: security.SMACK64TRANSMUTE
[    4.393491] evm: security.SMACK64MMAP
[    4.393748] evm: security.apparmor
[    4.393994] evm: security.ima
[    4.394211] evm: security.capability
[    4.394474] evm: HMAC attrs: 0x1
[    4.396457] PM:   Magic number: 13:730:91
[    4.396749] memory_tiering memory_tier4: hash matches
[    4.398270] RAS: Correctable Errors collector initialized.
[    4.399407] clk: Disabling unused clocks
[    4.399722] PM: genpd: Disabling unused power domains
[    4.400763] md: Waiting for all devices to be available before autodetect
[    4.401175] md: If you don't use raid, use raid=noautodetect
[    4.401442] md: Autodetecting RAID arrays.
[    4.401648] md: autorun ...
[    4.401789] md: ... autorun DONE.
[    4.414088] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.414715] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.417401] devtmpfs: mounted
[    4.438064] Freeing unused decrypted memory: 2028K
[    4.450562] Freeing unused kernel image (initmem) memory: 16068K
[    4.451050] Write protecting the kernel read-only data: 98304k
[    4.453590] Freeing unused kernel image (text/rodata gap) memory: 848K
[    4.454216] Freeing unused kernel image (rodata/data gap) memory: 104K
[    4.514318] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.514675] Run /sbin/init as init process
[    4.731245] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    4.732699] systemd[1]: Detected virtualization kvm.
[    4.733561] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    4.741503] systemd[1]: Hostname set to <test>.
[    4.951781] systemd-rc-local-generator[120]: /etc/rc.d/rc.local is not marked executable, skipping.
[    5.357033] systemd[1]: Queued start job for default target Multi-User System.
[    5.381771] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    5.386729] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    5.389269] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    5.391656] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    5.393881] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    5.395948] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    5.396979] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password R…uests to Wall Directory Watch[0m.
[    5.398725] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitrary…s File System Automount Point[0m.
[    5.399841] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    5.400722] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    5.401379] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    5.401978] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    5.403061] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    5.404533] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    5.405435] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    5.430806] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    5.433801] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    5.436928] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    5.438246] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    5.439747] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    5.441256] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    5.442654] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    5.443926] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    5.450629] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    5.456423] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    5.464717] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    5.470922] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    5.473582] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    5.474273] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.16.0-rc2-4b8b5e749745+/modules.devname).
[    5.480358] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVM…meventd or progress polling[0m...
[    5.485645] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    5.490817] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    5.496370] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    5.522655] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS …from /etc/sysconfig/network[0m...
[    5.531944] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    5.542627] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    5.551643] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network …ts from Kernel command line[0m...
[    5.564501] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    5.572162] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    5.600110] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    5.662903] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    5.664556] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    5.665749] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    5.666836] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    5.668748] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    5.670132] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    5.672324] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    5.673410] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    5.675292] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    5.676585] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    5.680025] systemd[1]: Finished Read and set NIS domainname from /etc/sysconfig/network.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS …e from /etc/sysconfig/network[0m.
[    5.681564] systemd[1]: systemd-modules-load.service: Main process exited, code=exited, status=1/FAILURE
[    5.682585] systemd[1]: systemd-modules-load.service: Failed with result 'exit-code'.
[    5.684773] systemd[1]: Failed to start Load Kernel Modules.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    5.687015] systemd[1]: Finished Generate network units from Kernel command line.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[    5.689378] systemd[1]: Reached target Preparation for Network.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
[    5.699352] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w.
[    5.703789] systemd[1]: Mounting FUSE Control File System...
         Mounting [0;1;39mFUSE Control File System[0m...
[    5.709580] systemd[1]: Mounting Kernel Configuration File System...
         Mounting [0;1;39mKernel Configuration File System[0m...
[    5.726408] systemd[1]: Starting Apply Kernel Variables...
         Starting [0;1;39mApply Kernel Variables[0m...
[    5.740580] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVM… dmeventd or progress polling[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
[    5.831008] systemd-journald[146]: Received client request to flush runtime journal.
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manage…for Device Events and Files[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to s…E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to s…VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password …ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
         Starting [0;1;39mWait for udev To …plete Device Initialization[0m...
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF …itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberos…ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine a…tainer Registration Service[0m...
         Starting [0;1;39mupdate of the roo…NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine an…ontainer Registration Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the roo… DNSSEC validation in unbound[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[    9.080172] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.16.0-rc2-4b8b5e749745+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   18.427451] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   18.427903] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 727, name: repro
[   18.428250] preempt_count: 1, expected: 0
[   18.428487] RCU nest depth: 1, expected: 0
[   18.428683] 4 locks held by repro/727:
[   18.428862]  #0: ffff888014f43660 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   18.429349]  #1: ffff8880123c36d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   18.429781]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   18.430209]  #3: ffff8880110cc858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   18.430676] Preemption disabled at:
[   18.430679] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   18.431159] CPU: 1 UID: 0 PID: 727 Comm: repro Not tainted 6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   18.431167] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   18.431175] Call Trace:
[   18.431180]  <TASK>
[   18.431185]  dump_stack_lvl+0x121/0x150
[   18.431212]  dump_stack+0x19/0x20
[   18.431220]  __might_resched+0x37b/0x5a0
[   18.431237]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.431254]  __might_sleep+0xa3/0x170
[   18.431263]  ? vm_normal_folio+0x8c/0x170
[   18.431275]  __relocate_anon_folios+0xf97/0x2960
[   18.431290]  ? reacquire_held_locks+0xdd/0x1f0
[   18.431308]  ? __pfx___relocate_anon_folios+0x10/0x10
[   18.431322]  ? lock_set_class+0x17a/0x260
[   18.431339]  copy_vma_and_data+0x606/0x1790
[   18.431354]  ? percpu_counter_add_batch+0xd9/0x210
[   18.431379]  ? __pfx_copy_vma_and_data+0x10/0x10
[   18.431387]  ? vms_complete_munmap_vmas+0x525/0x810
[   18.431406]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   18.431421]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.431435]  ? mtree_range_walk+0x728/0xb70
[   18.431449]  ? __lock_acquire+0x412/0x22a0
[   18.431461]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   18.431472]  ? percpu_counter_add_batch+0xd9/0x210
[   18.431479]  ? debug_smp_processor_id+0x20/0x30
[   18.431497]  ? __this_cpu_preempt_check+0x21/0x30
[   18.431504]  ? lock_is_held_type+0xef/0x150
[   18.431521]  move_vma+0x689/0x1a60
[   18.431535]  ? __pfx_move_vma+0x10/0x10
[   18.431545]  ? cap_mmap_addr+0x58/0x140
[   18.431563]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   18.431574]  ? security_mmap_addr+0x63/0x1b0
[   18.431587]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.431598]  ? __get_unmapped_area+0x1a4/0x440
[   18.431612]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   18.431623]  ? vrm_set_new_addr+0x21d/0x2b0
[   18.431635]  __do_sys_mremap+0xeb4/0x1620
[   18.431647]  ? __pfx___do_sys_mremap+0x10/0x10
[   18.431658]  ? __this_cpu_preempt_check+0x21/0x30
[   18.431675]  ? __this_cpu_preempt_check+0x21/0x30
[   18.431699]  __x64_sys_mremap+0xc7/0x150
[   18.431708]  ? syscall_trace_enter+0x14d/0x280
[   18.431722]  x64_sys_call+0x1933/0x2150
[   18.431732]  do_syscall_64+0x6d/0x2e0
[   18.431744]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   18.431751] RIP: 0033:0x7f48ed83ee5d
[   18.431761] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   18.431768] RSP: 002b:00007fff24c708b8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   18.431777] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f48ed83ee5d
[   18.431781] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   18.431785] RBP: 00007fff24c708c0 R08: 000000002038d000 R09: 0000000000000001
[   18.431789] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff24c709d8
[   18.431793] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f48edc36000
[   18.431809]  </TASK>
[   19.436672] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   19.437125] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 763, name: repro
[   19.437475] preempt_count: 1, expected: 0
[   19.437667] RCU nest depth: 1, expected: 0
[   19.437861] 4 locks held by repro/763:
[   19.438044]  #0: ffff888019590c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   19.438469]  #1: ffff888013c446d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   19.438906]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   19.439493]  #3: ffff888013f874f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   19.439993] Preemption disabled at:
[   19.439995] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   19.440458] CPU: 0 UID: 0 PID: 763 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   19.440468] Tainted: [W]=WARN
[   19.440486] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   19.440491] Call Trace:
[   19.440493]  <TASK>
[   19.440496]  dump_stack_lvl+0x121/0x150
[   19.440509]  dump_stack+0x19/0x20
[   19.440517]  __might_resched+0x37b/0x5a0
[   19.440528]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.440541]  __might_sleep+0xa3/0x170
[   19.440550]  ? vm_normal_folio+0x8c/0x170
[   19.440560]  __relocate_anon_folios+0xf97/0x2960
[   19.440575]  ? reacquire_held_locks+0xdd/0x1f0
[   19.440587]  ? __pfx___relocate_anon_folios+0x10/0x10
[   19.440598]  ? lock_set_class+0x17a/0x260
[   19.440611]  copy_vma_and_data+0x606/0x1790
[   19.440622]  ? percpu_counter_add_batch+0xd9/0x210
[   19.440634]  ? __pfx_copy_vma_and_data+0x10/0x10
[   19.440641]  ? vms_complete_munmap_vmas+0x525/0x810
[   19.440655]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   19.440668]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.440677]  ? mtree_range_walk+0x728/0xb70
[   19.440688]  ? __lock_acquire+0x412/0x22a0
[   19.440697]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   19.440706]  ? percpu_counter_add_batch+0xd9/0x210
[   19.440712]  ? debug_smp_processor_id+0x20/0x30
[   19.440723]  ? __this_cpu_preempt_check+0x21/0x30
[   19.440729]  ? lock_is_held_type+0xef/0x150
[   19.440741]  move_vma+0x689/0x1a60
[   19.440752]  ? __pfx_move_vma+0x10/0x10
[   19.440760]  ? cap_mmap_addr+0x58/0x140
[   19.440769]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   19.440778]  ? security_mmap_addr+0x63/0x1b0
[   19.440787]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.440796]  ? __get_unmapped_area+0x1a4/0x440
[   19.440807]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   19.440816]  ? vrm_set_new_addr+0x21d/0x2b0
[   19.440825]  __do_sys_mremap+0xeb4/0x1620
[   19.440834]  ? __pfx___do_sys_mremap+0x10/0x10
[   19.440844]  ? __this_cpu_preempt_check+0x21/0x30
[   19.440856]  ? __this_cpu_preempt_check+0x21/0x30
[   19.440873]  __x64_sys_mremap+0xc7/0x150
[   19.440880]  ? syscall_trace_enter+0x14d/0x280
[   19.440889]  x64_sys_call+0x1933/0x2150
[   19.440896]  do_syscall_64+0x6d/0x2e0
[   19.440906]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   19.440912] RIP: 0033:0x7f6a0ee3ee5d
[   19.440923] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   19.440928] RSP: 002b:00007ffd6e6458c8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   19.440937] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f6a0ee3ee5d
[   19.440941] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   19.440944] RBP: 00007ffd6e6458d0 R08: 000000002038d000 R09: 0000000000000001
[   19.440948] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd6e6459e8
[   19.440951] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f6a0f0be000
[   19.440963]  </TASK>
[   20.443193] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   20.443634] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 801, name: repro
[   20.443992] preempt_count: 1, expected: 0
[   20.444182] RCU nest depth: 1, expected: 0
[   20.444377] 4 locks held by repro/801:
[   20.444561]  #0: ffff88801a67f560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   20.444993]  #1: ffff888017990f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   20.445434]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   20.445850]  #3: ffff888026d51af8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   20.446314] Preemption disabled at:
[   20.446316] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   20.446790] CPU: 1 UID: 0 PID: 801 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   20.446801] Tainted: [W]=WARN
[   20.446803] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   20.446807] Call Trace:
[   20.446809]  <TASK>
[   20.446812]  dump_stack_lvl+0x121/0x150
[   20.446825]  dump_stack+0x19/0x20
[   20.446833]  __might_resched+0x37b/0x5a0
[   20.446843]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.446856]  __might_sleep+0xa3/0x170
[   20.446865]  ? vm_normal_folio+0x8c/0x170
[   20.446875]  __relocate_anon_folios+0xf97/0x2960
[   20.446890]  ? reacquire_held_locks+0xdd/0x1f0
[   20.446913]  ? __pfx___relocate_anon_folios+0x10/0x10
[   20.446924]  ? lock_set_class+0x17a/0x260
[   20.446937]  copy_vma_and_data+0x606/0x1790
[   20.446948]  ? percpu_counter_add_batch+0xd9/0x210
[   20.446960]  ? __pfx_copy_vma_and_data+0x10/0x10
[   20.446967]  ? vms_complete_munmap_vmas+0x525/0x810
[   20.446983]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   20.446996]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.447006]  ? mtree_range_walk+0x728/0xb70
[   20.447016]  ? __lock_acquire+0x412/0x22a0
[   20.447026]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   20.447035]  ? percpu_counter_add_batch+0xd9/0x210
[   20.447041]  ? debug_smp_processor_id+0x20/0x30
[   20.447052]  ? __this_cpu_preempt_check+0x21/0x30
[   20.447058]  ? lock_is_held_type+0xef/0x150
[   20.447070]  move_vma+0x689/0x1a60
[   20.447084]  ? __pfx_move_vma+0x10/0x10
[   20.447093]  ? cap_mmap_addr+0x58/0x140
[   20.447101]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   20.447110]  ? security_mmap_addr+0x63/0x1b0
[   20.447118]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.447128]  ? __get_unmapped_area+0x1a4/0x440
[   20.447139]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   20.447148]  ? vrm_set_new_addr+0x21d/0x2b0
[   20.447157]  __do_sys_mremap+0xeb4/0x1620
[   20.447167]  ? __pfx___do_sys_mremap+0x10/0x10
[   20.447184]  ? __this_cpu_preempt_check+0x21/0x30
[   20.447201]  __x64_sys_mremap+0xc7/0x150
[   20.447208]  ? syscall_trace_enter+0x14d/0x280
[   20.447217]  x64_sys_call+0x1933/0x2150
[   20.447224]  do_syscall_64+0x6d/0x2e0
[   20.447234]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   20.447240] RIP: 0033:0x7fb4ea43ee5d
[   20.447247] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   20.447253] RSP: 002b:00007fff66754508 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   20.447261] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fb4ea43ee5d
[   20.447265] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   20.447269] RBP: 00007fff66754510 R08: 000000002038d000 R09: 0000000000000001
[   20.447272] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff66754628
[   20.447276] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fb4ea741000
[   20.447288]  </TASK>
[   21.448396] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   21.448835] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 838, name: repro
[   21.449192] preempt_count: 1, expected: 0
[   21.449382] RCU nest depth: 1, expected: 0
[   21.449579] 4 locks held by repro/838:
[   21.449763]  #0: ffff888016057560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   21.450193]  #1: ffff88802b415188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   21.450640]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   21.451059]  #3: ffff888026fa2bb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   21.451700] Preemption disabled at:
[   21.451703] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   21.452177] CPU: 1 UID: 0 PID: 838 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   21.452187] Tainted: [W]=WARN
[   21.452189] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   21.452193] Call Trace:
[   21.452195]  <TASK>
[   21.452198]  dump_stack_lvl+0x121/0x150
[   21.452210]  dump_stack+0x19/0x20
[   21.452218]  __might_resched+0x37b/0x5a0
[   21.452228]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.452241]  __might_sleep+0xa3/0x170
[   21.452250]  ? vm_normal_folio+0x8c/0x170
[   21.452271]  __relocate_anon_folios+0xf97/0x2960
[   21.452286]  ? reacquire_held_locks+0xdd/0x1f0
[   21.452298]  ? __pfx___relocate_anon_folios+0x10/0x10
[   21.452309]  ? lock_set_class+0x17a/0x260
[   21.452322]  copy_vma_and_data+0x606/0x1790
[   21.452334]  ? percpu_counter_add_batch+0xd9/0x210
[   21.452345]  ? __pfx_copy_vma_and_data+0x10/0x10
[   21.452352]  ? vms_complete_munmap_vmas+0x525/0x810
[   21.452366]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   21.452378]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.452387]  ? mtree_range_walk+0x728/0xb70
[   21.452398]  ? __lock_acquire+0x412/0x22a0
[   21.452408]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   21.452417]  ? percpu_counter_add_batch+0xd9/0x210
[   21.452423]  ? debug_smp_processor_id+0x20/0x30
[   21.452434]  ? __this_cpu_preempt_check+0x21/0x30
[   21.452440]  ? lock_is_held_type+0xef/0x150
[   21.452452]  move_vma+0x689/0x1a60
[   21.452463]  ? __pfx_move_vma+0x10/0x10
[   21.452472]  ? cap_mmap_addr+0x58/0x140
[   21.452480]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   21.452489]  ? security_mmap_addr+0x63/0x1b0
[   21.452498]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.452507]  ? __get_unmapped_area+0x1a4/0x440
[   21.452518]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   21.452527]  ? vrm_set_new_addr+0x21d/0x2b0
[   21.452536]  __do_sys_mremap+0xeb4/0x1620
[   21.452546]  ? __pfx___do_sys_mremap+0x10/0x10
[   21.452563]  ? __this_cpu_preempt_check+0x21/0x30
[   21.452580]  __x64_sys_mremap+0xc7/0x150
[   21.452587]  ? syscall_trace_enter+0x14d/0x280
[   21.452607]  x64_sys_call+0x1933/0x2150
[   21.452614]  do_syscall_64+0x6d/0x2e0
[   21.452624]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   21.452631] RIP: 0033:0x7f8ef923ee5d
[   21.452638] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   21.452644] RSP: 002b:00007ffcd53a9fc8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   21.452651] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8ef923ee5d
[   21.452655] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   21.452658] RBP: 00007ffcd53a9fd0 R08: 000000002038d000 R09: 0000000000000001
[   21.452662] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcd53aa0e8
[   21.452669] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8ef95b1000
[   21.452681]  </TASK>
[   22.470006] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   22.470442] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 876, name: repro
[   22.470786] preempt_count: 1, expected: 0
[   22.470993] RCU nest depth: 1, expected: 0
[   22.471167] 4 locks held by repro/876:
[   22.471370]  #0: ffff88800f0ce060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   22.471790]  #1: ffff88801bee5e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   22.472234]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   22.472638]  #3: ffff8880239ed438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   22.473096] Preemption disabled at:
[   22.473099] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   22.473556] CPU: 0 UID: 0 PID: 876 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   22.473566] Tainted: [W]=WARN
[   22.473568] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   22.473573] Call Trace:
[   22.473575]  <TASK>
[   22.473579]  dump_stack_lvl+0x121/0x150
[   22.473592]  dump_stack+0x19/0x20
[   22.473600]  __might_resched+0x37b/0x5a0
[   22.473611]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.473625]  __might_sleep+0xa3/0x170
[   22.473634]  ? vm_normal_folio+0x8c/0x170
[   22.473644]  __relocate_anon_folios+0xf97/0x2960
[   22.473659]  ? reacquire_held_locks+0xdd/0x1f0
[   22.473671]  ? __pfx___relocate_anon_folios+0x10/0x10
[   22.473682]  ? lock_set_class+0x17a/0x260
[   22.473695]  copy_vma_and_data+0x606/0x1790
[   22.473707]  ? percpu_counter_add_batch+0xd9/0x210
[   22.473719]  ? __pfx_copy_vma_and_data+0x10/0x10
[   22.473726]  ? vms_complete_munmap_vmas+0x525/0x810
[   22.473740]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   22.473753]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.473762]  ? mtree_range_walk+0x728/0xb70
[   22.473773]  ? __lock_acquire+0x412/0x22a0
[   22.473783]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   22.473792]  ? percpu_counter_add_batch+0xd9/0x210
[   22.473798]  ? debug_smp_processor_id+0x20/0x30
[   22.473809]  ? __this_cpu_preempt_check+0x21/0x30
[   22.473816]  ? lock_is_held_type+0xef/0x150
[   22.473828]  move_vma+0x689/0x1a60
[   22.473839]  ? __pfx_move_vma+0x10/0x10
[   22.473847]  ? cap_mmap_addr+0x58/0x140
[   22.473856]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   22.473865]  ? security_mmap_addr+0x63/0x1b0
[   22.473874]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.473884]  ? __get_unmapped_area+0x1a4/0x440
[   22.473895]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   22.473904]  ? vrm_set_new_addr+0x21d/0x2b0
[   22.473913]  __do_sys_mremap+0xeb4/0x1620
[   22.473923]  ? __pfx___do_sys_mremap+0x10/0x10
[   22.473935]  ? __this_cpu_preempt_check+0x21/0x30
[   22.473948]  ? __this_cpu_preempt_check+0x21/0x30
[   22.473965]  __x64_sys_mremap+0xc7/0x150
[   22.473973]  ? syscall_trace_enter+0x14d/0x280
[   22.473986]  x64_sys_call+0x1933/0x2150
[   22.473993]  do_syscall_64+0x6d/0x2e0
[   22.474003]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   22.474010] RIP: 0033:0x7f5a3763ee5d
[   22.474017] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   22.474023] RSP: 002b:00007fff3d38fb98 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   22.474029] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f5a3763ee5d
[   22.474033] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   22.474037] RBP: 00007fff3d38fba0 R08: 000000002038d000 R09: 0000000000000001
[   22.474040] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff3d38fcb8
[   22.474044] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f5a378e5000
[   22.474058]  </TASK>
[   23.487215] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   23.487685] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 914, name: repro
[   23.488031] preempt_count: 1, expected: 0
[   23.488219] RCU nest depth: 1, expected: 0
[   23.488408] 4 locks held by repro/914:
[   23.488585]  #0: ffff8880194a96e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   23.489008]  #1: ffff888026c226d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   23.489440]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   23.489860]  #3: ffff888026a5a978 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   23.490292] Preemption disabled at:
[   23.490295] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   23.490748] CPU: 0 UID: 0 PID: 914 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   23.490767] Tainted: [W]=WARN
[   23.490769] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.490792] Call Trace:
[   23.490794]  <TASK>
[   23.490798]  dump_stack_lvl+0x121/0x150
[   23.490812]  dump_stack+0x19/0x20
[   23.490820]  __might_resched+0x37b/0x5a0
[   23.490830]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.490844]  __might_sleep+0xa3/0x170
[   23.490852]  ? vm_normal_folio+0x8c/0x170
[   23.490863]  __relocate_anon_folios+0xf97/0x2960
[   23.490878]  ? reacquire_held_locks+0xdd/0x1f0
[   23.490889]  ? __pfx___relocate_anon_folios+0x10/0x10
[   23.490901]  ? lock_set_class+0x17a/0x260
[   23.490913]  copy_vma_and_data+0x606/0x1790
[   23.490924]  ? percpu_counter_add_batch+0xd9/0x210
[   23.490936]  ? __pfx_copy_vma_and_data+0x10/0x10
[   23.490943]  ? vms_complete_munmap_vmas+0x525/0x810
[   23.490961]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   23.490973]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.490986]  ? mtree_range_walk+0x728/0xb70
[   23.490996]  ? __lock_acquire+0x412/0x22a0
[   23.491006]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   23.491015]  ? percpu_counter_add_batch+0xd9/0x210
[   23.491020]  ? debug_smp_processor_id+0x20/0x30
[   23.491031]  ? __this_cpu_preempt_check+0x21/0x30
[   23.491037]  ? lock_is_held_type+0xef/0x150
[   23.491049]  move_vma+0x689/0x1a60
[   23.491060]  ? __pfx_move_vma+0x10/0x10
[   23.491068]  ? cap_mmap_addr+0x58/0x140
[   23.491077]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   23.491086]  ? security_mmap_addr+0x63/0x1b0
[   23.491094]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.491103]  ? __get_unmapped_area+0x1a4/0x440
[   23.491114]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   23.491123]  ? vrm_set_new_addr+0x21d/0x2b0
[   23.491132]  __do_sys_mremap+0xeb4/0x1620
[   23.491141]  ? __pfx___do_sys_mremap+0x10/0x10
[   23.491158]  ? __this_cpu_preempt_check+0x21/0x30
[   23.491174]  __x64_sys_mremap+0xc7/0x150
[   23.491181]  ? syscall_trace_enter+0x14d/0x280
[   23.491191]  x64_sys_call+0x1933/0x2150
[   23.491198]  do_syscall_64+0x6d/0x2e0
[   23.491208]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   23.491214] RIP: 0033:0x7f592143ee5d
[   23.491221] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   23.491227] RSP: 002b:00007ffc11071808 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   23.491233] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f592143ee5d
[   23.491237] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   23.491241] RBP: 00007ffc11071810 R08: 000000002038d000 R09: 0000000000000001
[   23.491244] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc11071928
[   23.491248] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f5921706000
[   23.491260]  </TASK>
[   24.502881] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   24.503650] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 952, name: repro
[   24.504004] preempt_count: 1, expected: 0
[   24.504192] RCU nest depth: 1, expected: 0
[   24.504383] 4 locks held by repro/952:
[   24.504563]  #0: ffff88801531eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   24.504999]  #1: ffff888011eebb18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   24.505434]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   24.505842]  #3: ffff88802b474498 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   24.506297] Preemption disabled at:
[   24.506299] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   24.506756] CPU: 0 UID: 0 PID: 952 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   24.506769] Tainted: [W]=WARN
[   24.506772] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.506776] Call Trace:
[   24.506778]  <TASK>
[   24.506781]  dump_stack_lvl+0x121/0x150
[   24.506795]  dump_stack+0x19/0x20
[   24.506802]  __might_resched+0x37b/0x5a0
[   24.506813]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.506827]  __might_sleep+0xa3/0x170
[   24.506835]  ? vm_normal_folio+0x8c/0x170
[   24.506846]  __relocate_anon_folios+0xf97/0x2960
[   24.506860]  ? reacquire_held_locks+0xdd/0x1f0
[   24.506872]  ? __pfx___relocate_anon_folios+0x10/0x10
[   24.506883]  ? lock_set_class+0x17a/0x260
[   24.506896]  copy_vma_and_data+0x606/0x1790
[   24.506907]  ? percpu_counter_add_batch+0xd9/0x210
[   24.506919]  ? __pfx_copy_vma_and_data+0x10/0x10
[   24.506926]  ? vms_complete_munmap_vmas+0x525/0x810
[   24.506940]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   24.506952]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.506962]  ? mtree_range_walk+0x728/0xb70
[   24.506972]  ? __lock_acquire+0x412/0x22a0
[   24.506985]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.506994]  ? percpu_counter_add_batch+0xd9/0x210
[   24.507000]  ? debug_smp_processor_id+0x20/0x30
[   24.507011]  ? __this_cpu_preempt_check+0x21/0x30
[   24.507017]  ? lock_is_held_type+0xef/0x150
[   24.507029]  move_vma+0x689/0x1a60
[   24.507040]  ? __pfx_move_vma+0x10/0x10
[   24.507048]  ? cap_mmap_addr+0x58/0x140
[   24.507057]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   24.507066]  ? security_mmap_addr+0x63/0x1b0
[   24.507075]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.507084]  ? __get_unmapped_area+0x1a4/0x440
[   24.507095]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   24.507104]  ? vrm_set_new_addr+0x21d/0x2b0
[   24.507113]  __do_sys_mremap+0xeb4/0x1620
[   24.507122]  ? __pfx___do_sys_mremap+0x10/0x10
[   24.507139]  ? __this_cpu_preempt_check+0x21/0x30
[   24.507155]  __x64_sys_mremap+0xc7/0x150
[   24.507163]  ? syscall_trace_enter+0x14d/0x280
[   24.507172]  x64_sys_call+0x1933/0x2150
[   24.507179]  do_syscall_64+0x6d/0x2e0
[   24.507190]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.507196] RIP: 0033:0x7f47f983ee5d
[   24.507203] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   24.507211] RSP: 002b:00007ffc7d4512a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   24.507217] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f47f983ee5d
[   24.507221] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   24.507224] RBP: 00007ffc7d4512b0 R08: 000000002038d000 R09: 0000000000000001
[   24.507228] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc7d4513c8
[   24.507231] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f47f9a7f000
[   24.507243]  </TASK>
[   25.517047] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   25.517476] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 990, name: repro
[   25.517815] preempt_count: 1, expected: 0
[   25.517998] RCU nest depth: 1, expected: 0
[   25.518183] 4 locks held by repro/990:
[   25.518353]  #0: ffff8880161081e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   25.518754]  #1: ffff888025368078 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   25.519180]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   25.519601]  #3: ffff888023bb8618 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   25.520056] Preemption disabled at:
[   25.520059] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   25.520510] CPU: 1 UID: 0 PID: 990 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   25.520521] Tainted: [W]=WARN
[   25.520523] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.520527] Call Trace:
[   25.520529]  <TASK>
[   25.520532]  dump_stack_lvl+0x121/0x150
[   25.520546]  dump_stack+0x19/0x20
[   25.520554]  __might_resched+0x37b/0x5a0
[   25.520565]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.520579]  __might_sleep+0xa3/0x170
[   25.520587]  ? vm_normal_folio+0x8c/0x170
[   25.520598]  __relocate_anon_folios+0xf97/0x2960
[   25.520613]  ? reacquire_held_locks+0xdd/0x1f0
[   25.520626]  ? __pfx___relocate_anon_folios+0x10/0x10
[   25.520637]  ? lock_set_class+0x17a/0x260
[   25.520650]  copy_vma_and_data+0x606/0x1790
[   25.520662]  ? percpu_counter_add_batch+0xd9/0x210
[   25.520674]  ? __pfx_copy_vma_and_data+0x10/0x10
[   25.520681]  ? vms_complete_munmap_vmas+0x525/0x810
[   25.520695]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   25.520708]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.520717]  ? mtree_range_walk+0x728/0xb70
[   25.520728]  ? __lock_acquire+0x412/0x22a0
[   25.520738]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.520747]  ? percpu_counter_add_batch+0xd9/0x210
[   25.520753]  ? debug_smp_processor_id+0x20/0x30
[   25.520764]  ? __this_cpu_preempt_check+0x21/0x30
[   25.520770]  ? lock_is_held_type+0xef/0x150
[   25.520786]  move_vma+0x689/0x1a60
[   25.520800]  ? __pfx_move_vma+0x10/0x10
[   25.520808]  ? cap_mmap_addr+0x58/0x140
[   25.520818]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   25.520827]  ? security_mmap_addr+0x63/0x1b0
[   25.520836]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.520845]  ? __get_unmapped_area+0x1a4/0x440
[   25.520856]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   25.520865]  ? vrm_set_new_addr+0x21d/0x2b0
[   25.520875]  __do_sys_mremap+0xeb4/0x1620
[   25.520884]  ? __pfx___do_sys_mremap+0x10/0x10
[   25.520894]  ? __this_cpu_preempt_check+0x21/0x30
[   25.520907]  ? __this_cpu_preempt_check+0x21/0x30
[   25.520924]  __x64_sys_mremap+0xc7/0x150
[   25.520931]  ? syscall_trace_enter+0x14d/0x280
[   25.520941]  x64_sys_call+0x1933/0x2150
[   25.520948]  do_syscall_64+0x6d/0x2e0
[   25.520958]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.520964] RIP: 0033:0x7f83a2a3ee5d
[   25.520972] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   25.520981] RSP: 002b:00007fff7ce98cd8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   25.520988] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f83a2a3ee5d
[   25.520991] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   25.520995] RBP: 00007fff7ce98ce0 R08: 000000002038d000 R09: 0000000000000001
[   25.520999] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff7ce98df8
[   25.521002] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f83a2db9000
[   25.521015]  </TASK>
[   26.533197] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   26.533634] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1028, name: repro
[   26.534005] preempt_count: 1, expected: 0
[   26.534194] RCU nest depth: 1, expected: 0
[   26.534385] 4 locks held by repro/1028:
[   26.534567]  #0: ffff88801bc9abe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   26.534994]  #1: ffff88802b99a6d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   26.535463]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   26.535869]  #3: ffff88802b9bf0d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   26.536326] Preemption disabled at:
[   26.536329] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   26.536791] CPU: 0 UID: 0 PID: 1028 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   26.536810] Tainted: [W]=WARN
[   26.536812] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.536816] Call Trace:
[   26.536818]  <TASK>
[   26.536822]  dump_stack_lvl+0x121/0x150
[   26.536835]  dump_stack+0x19/0x20
[   26.536843]  __might_resched+0x37b/0x5a0
[   26.536854]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.536871]  __might_sleep+0xa3/0x170
[   26.536880]  ? vm_normal_folio+0x8c/0x170
[   26.536891]  __relocate_anon_folios+0xf97/0x2960
[   26.536906]  ? reacquire_held_locks+0xdd/0x1f0
[   26.536918]  ? __pfx___relocate_anon_folios+0x10/0x10
[   26.536930]  ? lock_set_class+0x17a/0x260
[   26.536943]  copy_vma_and_data+0x606/0x1790
[   26.536954]  ? percpu_counter_add_batch+0xd9/0x210
[   26.536966]  ? __pfx_copy_vma_and_data+0x10/0x10
[   26.536976]  ? vms_complete_munmap_vmas+0x525/0x810
[   26.536991]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   26.537004]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.537013]  ? mtree_range_walk+0x728/0xb70
[   26.537024]  ? __lock_acquire+0x412/0x22a0
[   26.537034]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.537043]  ? percpu_counter_add_batch+0xd9/0x210
[   26.537049]  ? debug_smp_processor_id+0x20/0x30
[   26.537061]  ? __this_cpu_preempt_check+0x21/0x30
[   26.537067]  ? lock_is_held_type+0xef/0x150
[   26.537079]  move_vma+0x689/0x1a60
[   26.537091]  ? __pfx_move_vma+0x10/0x10
[   26.537099]  ? cap_mmap_addr+0x58/0x140
[   26.537108]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   26.537117]  ? security_mmap_addr+0x63/0x1b0
[   26.537126]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.537136]  ? __get_unmapped_area+0x1a4/0x440
[   26.537147]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   26.537156]  ? vrm_set_new_addr+0x21d/0x2b0
[   26.537165]  __do_sys_mremap+0xeb4/0x1620
[   26.537175]  ? __pfx___do_sys_mremap+0x10/0x10
[   26.537185]  ? __this_cpu_preempt_check+0x21/0x30
[   26.537198]  ? __this_cpu_preempt_check+0x21/0x30
[   26.537215]  __x64_sys_mremap+0xc7/0x150
[   26.537222]  ? syscall_trace_enter+0x14d/0x280
[   26.537232]  x64_sys_call+0x1933/0x2150
[   26.537239]  do_syscall_64+0x6d/0x2e0
[   26.537250]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.537256] RIP: 0033:0x7f7364a3ee5d
[   26.537264] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   26.537270] RSP: 002b:00007ffd1d5246f8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   26.537276] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7364a3ee5d
[   26.537280] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   26.537284] RBP: 00007ffd1d524700 R08: 000000002038d000 R09: 0000000000000001
[   26.537287] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd1d524818
[   26.537291] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7364ca7000
[   26.537303]  </TASK>
[   27.546126] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   27.546565] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1065, name: repro
[   27.546915] preempt_count: 1, expected: 0
[   27.547108] RCU nest depth: 1, expected: 0
[   27.547300] 4 locks held by repro/1065:
[   27.547518]  #0: ffff88801293d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   27.547946]  #1: ffff88801b07de48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   27.548380]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   27.548789]  #3: ffff88801fc56678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   27.549244] Preemption disabled at:
[   27.549246] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   27.549704] CPU: 0 UID: 0 PID: 1065 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   27.549715] Tainted: [W]=WARN
[   27.549717] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.549727] Call Trace:
[   27.549730]  <TASK>
[   27.549733]  dump_stack_lvl+0x121/0x150
[   27.549746]  dump_stack+0x19/0x20
[   27.549755]  __might_resched+0x37b/0x5a0
[   27.549766]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.549780]  __might_sleep+0xa3/0x170
[   27.549789]  ? vm_normal_folio+0x8c/0x170
[   27.549799]  __relocate_anon_folios+0xf97/0x2960
[   27.549814]  ? reacquire_held_locks+0xdd/0x1f0
[   27.549827]  ? __pfx___relocate_anon_folios+0x10/0x10
[   27.549838]  ? lock_set_class+0x17a/0x260
[   27.549851]  copy_vma_and_data+0x606/0x1790
[   27.549863]  ? percpu_counter_add_batch+0xd9/0x210
[   27.549875]  ? __pfx_copy_vma_and_data+0x10/0x10
[   27.549881]  ? vms_complete_munmap_vmas+0x525/0x810
[   27.549896]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   27.549909]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.549918]  ? mtree_range_walk+0x728/0xb70
[   27.549929]  ? __lock_acquire+0x412/0x22a0
[   27.549939]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.549948]  ? percpu_counter_add_batch+0xd9/0x210
[   27.549954]  ? debug_smp_processor_id+0x20/0x30
[   27.549965]  ? __this_cpu_preempt_check+0x21/0x30
[   27.549971]  ? lock_is_held_type+0xef/0x150
[   27.549987]  move_vma+0x689/0x1a60
[   27.549998]  ? __pfx_move_vma+0x10/0x10
[   27.550006]  ? cap_mmap_addr+0x58/0x140
[   27.550015]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   27.550025]  ? security_mmap_addr+0x63/0x1b0
[   27.550034]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.550043]  ? __get_unmapped_area+0x1a4/0x440
[   27.550055]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   27.550064]  ? vrm_set_new_addr+0x21d/0x2b0
[   27.550077]  __do_sys_mremap+0xeb4/0x1620
[   27.550087]  ? __pfx___do_sys_mremap+0x10/0x10
[   27.550097]  ? __this_cpu_preempt_check+0x21/0x30
[   27.550109]  ? __this_cpu_preempt_check+0x21/0x30
[   27.550126]  __x64_sys_mremap+0xc7/0x150
[   27.550134]  ? syscall_trace_enter+0x14d/0x280
[   27.550143]  x64_sys_call+0x1933/0x2150
[   27.550150]  do_syscall_64+0x6d/0x2e0
[   27.550160]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.550167] RIP: 0033:0x7f069f63ee5d
[   27.550174] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   27.550180] RSP: 002b:00007ffcb3634638 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   27.550186] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f069f63ee5d
[   27.550189] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   27.550193] RBP: 00007ffcb3634640 R08: 000000002038d000 R09: 0000000000000001
[   27.550197] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcb3634758
[   27.550200] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f069f980000
[   27.550213]  </TASK>
[   28.556733] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   28.557174] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1102, name: repro
[   28.557525] preempt_count: 1, expected: 0
[   28.557717] RCU nest depth: 1, expected: 0
[   28.557911] 4 locks held by repro/1102:
[   28.558085]  #0: ffff88801707f560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   28.558505]  #1: ffff888013cf17e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   28.558941]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   28.559545]  #3: ffff888022cf2258 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   28.560005] Preemption disabled at:
[   28.560008] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   28.560468] CPU: 0 UID: 0 PID: 1102 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   28.560492] Tainted: [W]=WARN
[   28.560494] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.560499] Call Trace:
[   28.560501]  <TASK>
[   28.560504]  dump_stack_lvl+0x121/0x150
[   28.560518]  dump_stack+0x19/0x20
[   28.560526]  __might_resched+0x37b/0x5a0
[   28.560537]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.560551]  __might_sleep+0xa3/0x170
[   28.560563]  ? vm_normal_folio+0x8c/0x170
[   28.560573]  __relocate_anon_folios+0xf97/0x2960
[   28.560588]  ? reacquire_held_locks+0xdd/0x1f0
[   28.560600]  ? __pfx___relocate_anon_folios+0x10/0x10
[   28.560612]  ? lock_set_class+0x17a/0x260
[   28.560624]  copy_vma_and_data+0x606/0x1790
[   28.560636]  ? percpu_counter_add_batch+0xd9/0x210
[   28.560651]  ? __pfx_copy_vma_and_data+0x10/0x10
[   28.560658]  ? vms_complete_munmap_vmas+0x525/0x810
[   28.560672]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   28.560685]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.560695]  ? mtree_range_walk+0x728/0xb70
[   28.560706]  ? __lock_acquire+0x412/0x22a0
[   28.560715]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.560725]  ? percpu_counter_add_batch+0xd9/0x210
[   28.560730]  ? debug_smp_processor_id+0x20/0x30
[   28.560746]  ? __this_cpu_preempt_check+0x21/0x30
[   28.560753]  ? lock_is_held_type+0xef/0x150
[   28.560765]  move_vma+0x689/0x1a60
[   28.560776]  ? __pfx_move_vma+0x10/0x10
[   28.560784]  ? cap_mmap_addr+0x58/0x140
[   28.560793]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   28.560802]  ? security_mmap_addr+0x63/0x1b0
[   28.560811]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.560820]  ? __get_unmapped_area+0x1a4/0x440
[   28.560831]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   28.560840]  ? vrm_set_new_addr+0x21d/0x2b0
[   28.560850]  __do_sys_mremap+0xeb4/0x1620
[   28.560859]  ? __pfx___do_sys_mremap+0x10/0x10
[   28.560869]  ? __this_cpu_preempt_check+0x21/0x30
[   28.560882]  ? __this_cpu_preempt_check+0x21/0x30
[   28.560900]  __x64_sys_mremap+0xc7/0x150
[   28.560907]  ? syscall_trace_enter+0x14d/0x280
[   28.560916]  x64_sys_call+0x1933/0x2150
[   28.560923]  do_syscall_64+0x6d/0x2e0
[   28.560934]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.560940] RIP: 0033:0x7f7e75c3ee5d
[   28.560947] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   28.560953] RSP: 002b:00007ffc4801a4a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   28.560959] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7e75c3ee5d
[   28.560963] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   28.560967] RBP: 00007ffc4801a4b0 R08: 000000002038d000 R09: 0000000000000001
[   28.560970] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc4801a5c8
[   28.560978] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7e75ff1000
[   28.560990]  </TASK>
[   29.563139] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   29.563597] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1139, name: repro
[   29.563948] preempt_count: 1, expected: 0
[   29.564162] RCU nest depth: 1, expected: 0
[   29.564355] 4 locks held by repro/1139:
[   29.564540]  #0: ffff8880171540e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   29.564961]  #1: ffff88802baabf58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   29.565396]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   29.565803]  #3: ffff888022edc318 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   29.566289] Preemption disabled at:
[   29.566291] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   29.566754] CPU: 0 UID: 0 PID: 1139 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   29.566765] Tainted: [W]=WARN
[   29.566767] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.566772] Call Trace:
[   29.566774]  <TASK>
[   29.566778]  dump_stack_lvl+0x121/0x150
[   29.566792]  dump_stack+0x19/0x20
[   29.566800]  __might_resched+0x37b/0x5a0
[   29.566811]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.566824]  __might_sleep+0xa3/0x170
[   29.566833]  ? vm_normal_folio+0x8c/0x170
[   29.566844]  __relocate_anon_folios+0xf97/0x2960
[   29.566859]  ? reacquire_held_locks+0xdd/0x1f0
[   29.566871]  ? __pfx___relocate_anon_folios+0x10/0x10
[   29.566883]  ? lock_set_class+0x17a/0x260
[   29.566898]  copy_vma_and_data+0x606/0x1790
[   29.566910]  ? percpu_counter_add_batch+0xd9/0x210
[   29.566922]  ? __pfx_copy_vma_and_data+0x10/0x10
[   29.566929]  ? vms_complete_munmap_vmas+0x525/0x810
[   29.566943]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   29.566957]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.566966]  ? mtree_range_walk+0x728/0xb70
[   29.566980]  ? __lock_acquire+0x412/0x22a0
[   29.566990]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.566999]  ? percpu_counter_add_batch+0xd9/0x210
[   29.567004]  ? debug_smp_processor_id+0x20/0x30
[   29.567016]  ? __this_cpu_preempt_check+0x21/0x30
[   29.567023]  ? lock_is_held_type+0xef/0x150
[   29.567035]  move_vma+0x689/0x1a60
[   29.567046]  ? __pfx_move_vma+0x10/0x10
[   29.567054]  ? cap_mmap_addr+0x58/0x140
[   29.567064]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   29.567073]  ? security_mmap_addr+0x63/0x1b0
[   29.567082]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.567091]  ? __get_unmapped_area+0x1a4/0x440
[   29.567103]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   29.567112]  ? vrm_set_new_addr+0x21d/0x2b0
[   29.567121]  __do_sys_mremap+0xeb4/0x1620
[   29.567131]  ? __pfx___do_sys_mremap+0x10/0x10
[   29.567141]  ? __this_cpu_preempt_check+0x21/0x30
[   29.567153]  ? __this_cpu_preempt_check+0x21/0x30
[   29.567170]  __x64_sys_mremap+0xc7/0x150
[   29.567178]  ? syscall_trace_enter+0x14d/0x280
[   29.567187]  x64_sys_call+0x1933/0x2150
[   29.567196]  do_syscall_64+0x6d/0x2e0
[   29.567207]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.567214] RIP: 0033:0x7ff81b83ee5d
[   29.567221] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   29.567227] RSP: 002b:00007ffcd1037f68 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   29.567233] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff81b83ee5d
[   29.567237] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   29.567241] RBP: 00007ffcd1037f70 R08: 000000002038d000 R09: 0000000000000001
[   29.567245] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcd1038088
[   29.567248] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff81bc41000
[   29.567261]  </TASK>
[   30.567068] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   30.567520] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1176, name: repro
[   30.567872] preempt_count: 1, expected: 0
[   30.568063] RCU nest depth: 1, expected: 0
[   30.568261] 4 locks held by repro/1176:
[   30.568441]  #0: ffff888010256060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   30.568857]  #1: ffff88802ba38d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   30.569296]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   30.569704]  #3: ffff88802b9e82b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   30.570161] Preemption disabled at:
[   30.570163] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   30.570621] CPU: 0 UID: 0 PID: 1176 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   30.570631] Tainted: [W]=WARN
[   30.570634] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.570638] Call Trace:
[   30.570641]  <TASK>
[   30.570644]  dump_stack_lvl+0x121/0x150
[   30.570657]  dump_stack+0x19/0x20
[   30.570665]  __might_resched+0x37b/0x5a0
[   30.570676]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.570689]  __might_sleep+0xa3/0x170
[   30.570698]  ? vm_normal_folio+0x8c/0x170
[   30.570709]  __relocate_anon_folios+0xf97/0x2960
[   30.570724]  ? reacquire_held_locks+0xdd/0x1f0
[   30.570736]  ? __pfx___relocate_anon_folios+0x10/0x10
[   30.570748]  ? lock_set_class+0x17a/0x260
[   30.570761]  copy_vma_and_data+0x606/0x1790
[   30.570772]  ? percpu_counter_add_batch+0xd9/0x210
[   30.570784]  ? __pfx_copy_vma_and_data+0x10/0x10
[   30.570791]  ? vms_complete_munmap_vmas+0x525/0x810
[   30.570805]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   30.570832]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.570842]  ? mtree_range_walk+0x728/0xb70
[   30.570852]  ? __lock_acquire+0x412/0x22a0
[   30.570862]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.570871]  ? percpu_counter_add_batch+0xd9/0x210
[   30.570880]  ? debug_smp_processor_id+0x20/0x30
[   30.570891]  ? __this_cpu_preempt_check+0x21/0x30
[   30.570898]  ? lock_is_held_type+0xef/0x150
[   30.570910]  move_vma+0x689/0x1a60
[   30.570921]  ? __pfx_move_vma+0x10/0x10
[   30.570930]  ? cap_mmap_addr+0x58/0x140
[   30.570939]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   30.570948]  ? security_mmap_addr+0x63/0x1b0
[   30.570957]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.570966]  ? __get_unmapped_area+0x1a4/0x440
[   30.570981]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   30.570990]  ? vrm_set_new_addr+0x21d/0x2b0
[   30.570999]  __do_sys_mremap+0xeb4/0x1620
[   30.571009]  ? __pfx___do_sys_mremap+0x10/0x10
[   30.571026]  ? __this_cpu_preempt_check+0x21/0x30
[   30.571045]  __x64_sys_mremap+0xc7/0x150
[   30.571053]  ? syscall_trace_enter+0x14d/0x280
[   30.571062]  x64_sys_call+0x1933/0x2150
[   30.571069]  do_syscall_64+0x6d/0x2e0
[   30.571080]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.571086] RIP: 0033:0x7f4509a3ee5d
[   30.571094] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   30.571100] RSP: 002b:00007ffe8d013b28 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   30.571106] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f4509a3ee5d
[   30.571110] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   30.571113] RBP: 00007ffe8d013b30 R08: 000000002038d000 R09: 0000000000000001
[   30.571117] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe8d013c48
[   30.571121] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4509cf5000
[   30.571133]  </TASK>
[   31.583824] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   31.584280] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1214, name: repro
[   31.584633] preempt_count: 1, expected: 0
[   31.584821] RCU nest depth: 1, expected: 0
[   31.585046] 4 locks held by repro/1214:
[   31.585230]  #0: ffff8880145b96e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   31.585644]  #1: ffff88802bd8dd38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   31.586080]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   31.586478]  #3: ffff88802bd31d98 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   31.586922] Preemption disabled at:
[   31.586924] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   31.587395] CPU: 0 UID: 0 PID: 1214 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   31.587405] Tainted: [W]=WARN
[   31.587407] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.587411] Call Trace:
[   31.587413]  <TASK>
[   31.587417]  dump_stack_lvl+0x121/0x150
[   31.587438]  dump_stack+0x19/0x20
[   31.587446]  __might_resched+0x37b/0x5a0
[   31.587457]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.587470]  __might_sleep+0xa3/0x170
[   31.587478]  ? vm_normal_folio+0x8c/0x170
[   31.587489]  __relocate_anon_folios+0xf97/0x2960
[   31.587504]  ? reacquire_held_locks+0xdd/0x1f0
[   31.587516]  ? __pfx___relocate_anon_folios+0x10/0x10
[   31.587527]  ? lock_set_class+0x17a/0x260
[   31.587540]  copy_vma_and_data+0x606/0x1790
[   31.587552]  ? percpu_counter_add_batch+0xd9/0x210
[   31.587563]  ? __pfx_copy_vma_and_data+0x10/0x10
[   31.587570]  ? vms_complete_munmap_vmas+0x525/0x810
[   31.587584]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   31.587596]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.587606]  ? mtree_range_walk+0x728/0xb70
[   31.587616]  ? __lock_acquire+0x412/0x22a0
[   31.587626]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.587635]  ? percpu_counter_add_batch+0xd9/0x210
[   31.587641]  ? debug_smp_processor_id+0x20/0x30
[   31.587655]  ? __this_cpu_preempt_check+0x21/0x30
[   31.587661]  ? lock_is_held_type+0xef/0x150
[   31.587673]  move_vma+0x689/0x1a60
[   31.587684]  ? __pfx_move_vma+0x10/0x10
[   31.587693]  ? cap_mmap_addr+0x58/0x140
[   31.587701]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.587710]  ? security_mmap_addr+0x63/0x1b0
[   31.587719]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.587728]  ? __get_unmapped_area+0x1a4/0x440
[   31.587739]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   31.587748]  ? vrm_set_new_addr+0x21d/0x2b0
[   31.587758]  __do_sys_mremap+0xeb4/0x1620
[   31.587767]  ? __pfx___do_sys_mremap+0x10/0x10
[   31.587784]  ? __this_cpu_preempt_check+0x21/0x30
[   31.587801]  __x64_sys_mremap+0xc7/0x150
[   31.587808]  ? syscall_trace_enter+0x14d/0x280
[   31.587817]  x64_sys_call+0x1933/0x2150
[   31.587824]  do_syscall_64+0x6d/0x2e0
[   31.587834]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.587840] RIP: 0033:0x7f96b0e3ee5d
[   31.587847] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   31.587853] RSP: 002b:00007ffc21ebe068 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   31.587859] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f96b0e3ee5d
[   31.587863] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   31.587866] RBP: 00007ffc21ebe070 R08: 000000002038d000 R09: 0000000000000001
[   31.587870] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc21ebe188
[   31.587874] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f96b10bb000
[   31.587888]  </TASK>
[   32.599333] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   32.599761] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1252, name: repro
[   32.600105] preempt_count: 1, expected: 0
[   32.600288] RCU nest depth: 1, expected: 0
[   32.600471] 4 locks held by repro/1252:
[   32.600643]  #0: ffff888015fd01e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   32.601046]  #1: ffff88802539d8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   32.601464]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   32.601854]  #3: ffff88802b5b48b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   32.602299] Preemption disabled at:
[   32.602302] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   32.602750] CPU: 1 UID: 0 PID: 1252 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   32.602761] Tainted: [W]=WARN
[   32.602763] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.602767] Call Trace:
[   32.602770]  <TASK>
[   32.602773]  dump_stack_lvl+0x121/0x150
[   32.602787]  dump_stack+0x19/0x20
[   32.602795]  __might_resched+0x37b/0x5a0
[   32.602805]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.602819]  __might_sleep+0xa3/0x170
[   32.602828]  ? vm_normal_folio+0x8c/0x170
[   32.602839]  __relocate_anon_folios+0xf97/0x2960
[   32.602854]  ? reacquire_held_locks+0xdd/0x1f0
[   32.602866]  ? __pfx___relocate_anon_folios+0x10/0x10
[   32.602877]  ? lock_set_class+0x17a/0x260
[   32.602890]  copy_vma_and_data+0x606/0x1790
[   32.602902]  ? percpu_counter_add_batch+0xd9/0x210
[   32.602914]  ? __pfx_copy_vma_and_data+0x10/0x10
[   32.602921]  ? vms_complete_munmap_vmas+0x525/0x810
[   32.602935]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   32.602949]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.602958]  ? mtree_range_walk+0x728/0xb70
[   32.602969]  ? __lock_acquire+0x412/0x22a0
[   32.602985]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.602994]  ? percpu_counter_add_batch+0xd9/0x210
[   32.603000]  ? debug_smp_processor_id+0x20/0x30
[   32.603011]  ? __this_cpu_preempt_check+0x21/0x30
[   32.603018]  ? lock_is_held_type+0xef/0x150
[   32.603030]  move_vma+0x689/0x1a60
[   32.603041]  ? __pfx_move_vma+0x10/0x10
[   32.603050]  ? cap_mmap_addr+0x58/0x140
[   32.603058]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   32.603081]  ? security_mmap_addr+0x63/0x1b0
[   32.603090]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.603102]  ? __get_unmapped_area+0x1a4/0x440
[   32.603113]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   32.603122]  ? vrm_set_new_addr+0x21d/0x2b0
[   32.603132]  __do_sys_mremap+0xeb4/0x1620
[   32.603141]  ? __pfx___do_sys_mremap+0x10/0x10
[   32.603158]  ? __this_cpu_preempt_check+0x21/0x30
[   32.603174]  __x64_sys_mremap+0xc7/0x150
[   32.603182]  ? syscall_trace_enter+0x14d/0x280
[   32.603191]  x64_sys_call+0x1933/0x2150
[   32.603198]  do_syscall_64+0x6d/0x2e0
[   32.603208]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.603215] RIP: 0033:0x7f998f63ee5d
[   32.603222] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   32.603228] RSP: 002b:00007ffc574a8c18 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   32.603234] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f998f63ee5d
[   32.603238] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   32.603241] RBP: 00007ffc574a8c20 R08: 000000002038d000 R09: 0000000000000001
[   32.603245] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc574a8d38
[   32.603249] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f998f8d8000
[   32.603261]  </TASK>
[   33.604489] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   33.604928] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1290, name: repro
[   33.605271] preempt_count: 1, expected: 0
[   33.605455] RCU nest depth: 1, expected: 0
[   33.605643] 4 locks held by repro/1290:
[   33.605821]  #0: ffff88801b344b60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   33.606231]  #1: ffff888011fe86d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   33.606649]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   33.607046]  #3: ffff88802b453c78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   33.607513] Preemption disabled at:
[   33.607515] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   33.607970] CPU: 1 UID: 0 PID: 1290 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   33.607983] Tainted: [W]=WARN
[   33.607986] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.607990] Call Trace:
[   33.607992]  <TASK>
[   33.607996]  dump_stack_lvl+0x121/0x150
[   33.608009]  dump_stack+0x19/0x20
[   33.608017]  __might_resched+0x37b/0x5a0
[   33.608028]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.608041]  __might_sleep+0xa3/0x170
[   33.608050]  ? vm_normal_folio+0x8c/0x170
[   33.608061]  __relocate_anon_folios+0xf97/0x2960
[   33.608076]  ? reacquire_held_locks+0xdd/0x1f0
[   33.608089]  ? __pfx___relocate_anon_folios+0x10/0x10
[   33.608100]  ? lock_set_class+0x17a/0x260
[   33.608127]  copy_vma_and_data+0x606/0x1790
[   33.608141]  ? percpu_counter_add_batch+0xd9/0x210
[   33.608156]  ? __pfx_copy_vma_and_data+0x10/0x10
[   33.608163]  ? vms_complete_munmap_vmas+0x525/0x810
[   33.608178]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   33.608191]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.608200]  ? mtree_range_walk+0x728/0xb70
[   33.608211]  ? __lock_acquire+0x412/0x22a0
[   33.608221]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.608230]  ? percpu_counter_add_batch+0xd9/0x210
[   33.608235]  ? debug_smp_processor_id+0x20/0x30
[   33.608246]  ? __this_cpu_preempt_check+0x21/0x30
[   33.608253]  ? lock_is_held_type+0xef/0x150
[   33.608265]  move_vma+0x689/0x1a60
[   33.608276]  ? __pfx_move_vma+0x10/0x10
[   33.608284]  ? cap_mmap_addr+0x58/0x140
[   33.608293]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   33.608302]  ? security_mmap_addr+0x63/0x1b0
[   33.608311]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.608320]  ? __get_unmapped_area+0x1a4/0x440
[   33.608331]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   33.608340]  ? vrm_set_new_addr+0x21d/0x2b0
[   33.608349]  __do_sys_mremap+0xeb4/0x1620
[   33.608361]  ? __pfx___do_sys_mremap+0x10/0x10
[   33.608370]  ? __this_cpu_preempt_check+0x21/0x30
[   33.608383]  ? __this_cpu_preempt_check+0x21/0x30
[   33.608399]  __x64_sys_mremap+0xc7/0x150
[   33.608407]  ? syscall_trace_enter+0x14d/0x280
[   33.608416]  x64_sys_call+0x1933/0x2150
[   33.608423]  do_syscall_64+0x6d/0x2e0
[   33.608434]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.608440] RIP: 0033:0x7f725ec3ee5d
[   33.608447] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   33.608453] RSP: 002b:00007fffc0e548f8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   33.608459] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f725ec3ee5d
[   33.608463] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   33.608467] RBP: 00007fffc0e54900 R08: 000000002038d000 R09: 0000000000000001
[   33.608470] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffc0e54a18
[   33.608474] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f725f039000
[   33.608485]  </TASK>
[   34.610934] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   34.611477] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1327, name: repro
[   34.611829] preempt_count: 1, expected: 0
[   34.612022] RCU nest depth: 1, expected: 0
[   34.612216] 4 locks held by repro/1327:
[   34.612403]  #0: ffff8880161096e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   34.612825]  #1: ffff8880117e2b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   34.613276]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   34.613687]  #3: ffff888026d405b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   34.614155] Preemption disabled at:
[   34.614157] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   34.614620] CPU: 1 UID: 0 PID: 1327 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   34.614630] Tainted: [W]=WARN
[   34.614632] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.614637] Call Trace:
[   34.614640]  <TASK>
[   34.614644]  dump_stack_lvl+0x121/0x150
[   34.614658]  dump_stack+0x19/0x20
[   34.614666]  __might_resched+0x37b/0x5a0
[   34.614676]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.614690]  __might_sleep+0xa3/0x170
[   34.614699]  ? vm_normal_folio+0x8c/0x170
[   34.614709]  __relocate_anon_folios+0xf97/0x2960
[   34.614724]  ? reacquire_held_locks+0xdd/0x1f0
[   34.614736]  ? __pfx___relocate_anon_folios+0x10/0x10
[   34.614748]  ? lock_set_class+0x17a/0x260
[   34.614760]  copy_vma_and_data+0x606/0x1790
[   34.614772]  ? percpu_counter_add_batch+0xd9/0x210
[   34.614783]  ? __pfx_copy_vma_and_data+0x10/0x10
[   34.614790]  ? vms_complete_munmap_vmas+0x525/0x810
[   34.614804]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   34.614817]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.614826]  ? mtree_range_walk+0x728/0xb70
[   34.614837]  ? __lock_acquire+0x412/0x22a0
[   34.614847]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.614856]  ? percpu_counter_add_batch+0xd9/0x210
[   34.614861]  ? debug_smp_processor_id+0x20/0x30
[   34.614873]  ? __this_cpu_preempt_check+0x21/0x30
[   34.614879]  ? lock_is_held_type+0xef/0x150
[   34.614891]  move_vma+0x689/0x1a60
[   34.614903]  ? __pfx_move_vma+0x10/0x10
[   34.614911]  ? cap_mmap_addr+0x58/0x140
[   34.614919]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   34.614929]  ? security_mmap_addr+0x63/0x1b0
[   34.614937]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.614947]  ? __get_unmapped_area+0x1a4/0x440
[   34.614958]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   34.614967]  ? vrm_set_new_addr+0x21d/0x2b0
[   34.614979]  __do_sys_mremap+0xeb4/0x1620
[   34.614989]  ? __pfx___do_sys_mremap+0x10/0x10
[   34.615006]  ? __this_cpu_preempt_check+0x21/0x30
[   34.615023]  __x64_sys_mremap+0xc7/0x150
[   34.615031]  ? syscall_trace_enter+0x14d/0x280
[   34.615040]  x64_sys_call+0x1933/0x2150
[   34.615051]  do_syscall_64+0x6d/0x2e0
[   34.615061]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.615067] RIP: 0033:0x7f874743ee5d
[   34.615074] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   34.615080] RSP: 002b:00007fff0b136c18 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   34.615086] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f874743ee5d
[   34.615089] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   34.615093] RBP: 00007fff0b136c20 R08: 000000002038d000 R09: 0000000000000001
[   34.615097] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff0b136d38
[   34.615100] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f87477dd000
[   34.615113]  </TASK>
[   35.633299] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   35.633760] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1364, name: repro
[   35.634126] preempt_count: 1, expected: 0
[   35.634321] RCU nest depth: 1, expected: 0
[   35.634521] 4 locks held by repro/1364:
[   35.634708]  #0: ffff888012b1eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   35.635147]  #1: ffff88802b7ce298 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   35.635622]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   35.636037]  #3: ffff88802b7fdeb8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   35.636503] Preemption disabled at:
[   35.636506] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   35.636974] CPU: 1 UID: 0 PID: 1364 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   35.636985] Tainted: [W]=WARN
[   35.636987] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.636991] Call Trace:
[   35.636994]  <TASK>
[   35.636997]  dump_stack_lvl+0x121/0x150
[   35.637010]  dump_stack+0x19/0x20
[   35.637018]  __might_resched+0x37b/0x5a0
[   35.637029]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.637043]  __might_sleep+0xa3/0x170
[   35.637052]  ? vm_normal_folio+0x8c/0x170
[   35.637063]  __relocate_anon_folios+0xf97/0x2960
[   35.637078]  ? reacquire_held_locks+0xdd/0x1f0
[   35.637091]  ? __pfx___relocate_anon_folios+0x10/0x10
[   35.637103]  ? lock_set_class+0x17a/0x260
[   35.637116]  copy_vma_and_data+0x606/0x1790
[   35.637128]  ? percpu_counter_add_batch+0xd9/0x210
[   35.637140]  ? __pfx_copy_vma_and_data+0x10/0x10
[   35.637147]  ? vms_complete_munmap_vmas+0x525/0x810
[   35.637162]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   35.637175]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.637185]  ? mtree_range_walk+0x728/0xb70
[   35.637196]  ? __lock_acquire+0x412/0x22a0
[   35.637206]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.637215]  ? percpu_counter_add_batch+0xd9/0x210
[   35.637235]  ? debug_smp_processor_id+0x20/0x30
[   35.637247]  ? __this_cpu_preempt_check+0x21/0x30
[   35.637253]  ? lock_is_held_type+0xef/0x150
[   35.637265]  move_vma+0x689/0x1a60
[   35.637277]  ? __pfx_move_vma+0x10/0x10
[   35.637285]  ? cap_mmap_addr+0x58/0x140
[   35.637294]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   35.637303]  ? security_mmap_addr+0x63/0x1b0
[   35.637312]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.637322]  ? __get_unmapped_area+0x1a4/0x440
[   35.637333]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   35.637342]  ? vrm_set_new_addr+0x21d/0x2b0
[   35.637351]  __do_sys_mremap+0xeb4/0x1620
[   35.637361]  ? __pfx___do_sys_mremap+0x10/0x10
[   35.637371]  ? __this_cpu_preempt_check+0x21/0x30
[   35.637383]  ? __this_cpu_preempt_check+0x21/0x30
[   35.637400]  __x64_sys_mremap+0xc7/0x150
[   35.637407]  ? syscall_trace_enter+0x14d/0x280
[   35.637417]  x64_sys_call+0x1933/0x2150
[   35.637424]  do_syscall_64+0x6d/0x2e0
[   35.637435]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.637441] RIP: 0033:0x7fe8cca3ee5d
[   35.637449] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   35.637460] RSP: 002b:00007fff76d6ecf8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   35.637467] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fe8cca3ee5d
[   35.637470] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   35.637474] RBP: 00007fff76d6ed00 R08: 000000002038d000 R09: 0000000000000001
[   35.637478] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff76d6ee18
[   35.637481] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fe8cccf5000
[   35.637494]  </TASK>
[   36.644381] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   36.644849] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1399, name: repro
[   36.645210] preempt_count: 1, expected: 0
[   36.645400] RCU nest depth: 1, expected: 0
[   36.645594] 4 locks held by repro/1399:
[   36.645781]  #0: ffff888013f46ae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   36.646201]  #1: ffff88801fc5bc28 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   36.646639]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   36.647063]  #3: ffff8880119ab138 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   36.647550] Preemption disabled at:
[   36.647552] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   36.648025] CPU: 0 UID: 0 PID: 1399 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   36.648036] Tainted: [W]=WARN
[   36.648038] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.648043] Call Trace:
[   36.648045]  <TASK>
[   36.648061]  dump_stack_lvl+0x121/0x150
[   36.648076]  dump_stack+0x19/0x20
[   36.648084]  __might_resched+0x37b/0x5a0
[   36.648095]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.648109]  __might_sleep+0xa3/0x170
[   36.648118]  ? vm_normal_folio+0x8c/0x170
[   36.648129]  __relocate_anon_folios+0xf97/0x2960
[   36.648145]  ? reacquire_held_locks+0xdd/0x1f0
[   36.648157]  ? __pfx___relocate_anon_folios+0x10/0x10
[   36.648169]  ? lock_set_class+0x17a/0x260
[   36.648182]  copy_vma_and_data+0x606/0x1790
[   36.648194]  ? percpu_counter_add_batch+0xd9/0x210
[   36.648207]  ? __pfx_copy_vma_and_data+0x10/0x10
[   36.648214]  ? vms_complete_munmap_vmas+0x525/0x810
[   36.648229]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   36.648242]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.648252]  ? mtree_range_walk+0x728/0xb70
[   36.648263]  ? __lock_acquire+0x412/0x22a0
[   36.648273]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.648283]  ? percpu_counter_add_batch+0xd9/0x210
[   36.648289]  ? debug_smp_processor_id+0x20/0x30
[   36.648300]  ? __this_cpu_preempt_check+0x21/0x30
[   36.648307]  ? lock_is_held_type+0xef/0x150
[   36.648319]  move_vma+0x689/0x1a60
[   36.648331]  ? __pfx_move_vma+0x10/0x10
[   36.648340]  ? cap_mmap_addr+0x58/0x140
[   36.648349]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   36.648358]  ? security_mmap_addr+0x63/0x1b0
[   36.648368]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.648377]  ? __get_unmapped_area+0x1a4/0x440
[   36.648389]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   36.648398]  ? vrm_set_new_addr+0x21d/0x2b0
[   36.648407]  __do_sys_mremap+0xeb4/0x1620
[   36.648417]  ? __pfx___do_sys_mremap+0x10/0x10
[   36.648427]  ? __this_cpu_preempt_check+0x21/0x30
[   36.648441]  ? __this_cpu_preempt_check+0x21/0x30
[   36.648458]  __x64_sys_mremap+0xc7/0x150
[   36.648466]  ? syscall_trace_enter+0x14d/0x280
[   36.648475]  x64_sys_call+0x1933/0x2150
[   36.648483]  do_syscall_64+0x6d/0x2e0
[   36.648493]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.648500] RIP: 0033:0x7f7ba6a3ee5d
[   36.648507] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   36.648513] RSP: 002b:00007ffc4ae30aa8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   36.648520] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7ba6a3ee5d
[   36.648527] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   36.648531] RBP: 00007ffc4ae30ab0 R08: 000000002038d000 R09: 0000000000000001
[   36.648537] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc4ae30bc8
[   36.648541] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7ba6e4b000
[   36.648554]  </TASK>
[   37.668488] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   37.668935] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1436, name: repro
[   37.669297] preempt_count: 1, expected: 0
[   37.669487] RCU nest depth: 1, expected: 0
[   37.669681] 4 locks held by repro/1436:
[   37.669866]  #0: ffff888017c56060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   37.670295]  #1: ffff88801e422f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   37.670738]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   37.671155]  #3: ffff88801a6d7558 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   37.671635] Preemption disabled at:
[   37.671638] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   37.672113] CPU: 1 UID: 0 PID: 1436 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   37.672124] Tainted: [W]=WARN
[   37.672126] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.672131] Call Trace:
[   37.672134]  <TASK>
[   37.672137]  dump_stack_lvl+0x121/0x150
[   37.672151]  dump_stack+0x19/0x20
[   37.672159]  __might_resched+0x37b/0x5a0
[   37.672170]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.672185]  __might_sleep+0xa3/0x170
[   37.672194]  ? vm_normal_folio+0x8c/0x170
[   37.672205]  __relocate_anon_folios+0xf97/0x2960
[   37.672220]  ? reacquire_held_locks+0xdd/0x1f0
[   37.672233]  ? __pfx___relocate_anon_folios+0x10/0x10
[   37.672245]  ? lock_set_class+0x17a/0x260
[   37.672258]  copy_vma_and_data+0x606/0x1790
[   37.672270]  ? percpu_counter_add_batch+0xd9/0x210
[   37.672283]  ? __pfx_copy_vma_and_data+0x10/0x10
[   37.672290]  ? vms_complete_munmap_vmas+0x525/0x810
[   37.672304]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   37.672318]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.672328]  ? mtree_range_walk+0x728/0xb70
[   37.672338]  ? __lock_acquire+0x412/0x22a0
[   37.672348]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.672358]  ? percpu_counter_add_batch+0xd9/0x210
[   37.672364]  ? debug_smp_processor_id+0x20/0x30
[   37.672376]  ? __this_cpu_preempt_check+0x21/0x30
[   37.672382]  ? lock_is_held_type+0xef/0x150
[   37.672395]  move_vma+0x689/0x1a60
[   37.672406]  ? __pfx_move_vma+0x10/0x10
[   37.672415]  ? cap_mmap_addr+0x58/0x140
[   37.672424]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   37.672448]  ? security_mmap_addr+0x63/0x1b0
[   37.672457]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.672467]  ? __get_unmapped_area+0x1a4/0x440
[   37.672478]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   37.672488]  ? vrm_set_new_addr+0x21d/0x2b0
[   37.672497]  __do_sys_mremap+0xeb4/0x1620
[   37.672507]  ? __pfx___do_sys_mremap+0x10/0x10
[   37.672517]  ? __this_cpu_preempt_check+0x21/0x30
[   37.672530]  ? __this_cpu_preempt_check+0x21/0x30
[   37.672547]  __x64_sys_mremap+0xc7/0x150
[   37.672555]  ? syscall_trace_enter+0x14d/0x280
[   37.672565]  x64_sys_call+0x1933/0x2150
[   37.672573]  do_syscall_64+0x6d/0x2e0
[   37.672584]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.672590] RIP: 0033:0x7ff9fbc3ee5d
[   37.672597] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   37.672603] RSP: 002b:00007ffce39d8a28 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   37.672610] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff9fbc3ee5d
[   37.672614] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   37.672618] RBP: 00007ffce39d8a30 R08: 000000002038d000 R09: 0000000000000001
[   37.672621] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffce39d8b48
[   37.672628] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff9fbed1000
[   37.672641]  </TASK>
[   38.692194] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   38.692645] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1473, name: repro
[   38.693012] preempt_count: 1, expected: 0
[   38.693210] RCU nest depth: 1, expected: 0
[   38.693424] 4 locks held by repro/1473:
[   38.693614]  #0: ffff88801701d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   38.694056]  #1: ffff88802baadb18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   38.694507]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   38.694929]  #3: ffff88802bb4b438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   38.695449] Preemption disabled at:
[   38.695451] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   38.695895] CPU: 1 UID: 0 PID: 1473 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   38.695906] Tainted: [W]=WARN
[   38.695908] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.695912] Call Trace:
[   38.695914]  <TASK>
[   38.695917]  dump_stack_lvl+0x121/0x150
[   38.695931]  dump_stack+0x19/0x20
[   38.695939]  __might_resched+0x37b/0x5a0
[   38.695950]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.695963]  __might_sleep+0xa3/0x170
[   38.695976]  ? vm_normal_folio+0x8c/0x170
[   38.695987]  __relocate_anon_folios+0xf97/0x2960
[   38.696002]  ? reacquire_held_locks+0xdd/0x1f0
[   38.696027]  ? __pfx___relocate_anon_folios+0x10/0x10
[   38.696039]  ? lock_set_class+0x17a/0x260
[   38.696052]  copy_vma_and_data+0x606/0x1790
[   38.696064]  ? percpu_counter_add_batch+0xd9/0x210
[   38.696076]  ? __pfx_copy_vma_and_data+0x10/0x10
[   38.696083]  ? vms_complete_munmap_vmas+0x525/0x810
[   38.696098]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   38.696111]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.696121]  ? mtree_range_walk+0x728/0xb70
[   38.696132]  ? __lock_acquire+0x412/0x22a0
[   38.696142]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.696151]  ? percpu_counter_add_batch+0xd9/0x210
[   38.696157]  ? debug_smp_processor_id+0x20/0x30
[   38.696169]  ? __this_cpu_preempt_check+0x21/0x30
[   38.696175]  ? lock_is_held_type+0xef/0x150
[   38.696190]  move_vma+0x689/0x1a60
[   38.696202]  ? __pfx_move_vma+0x10/0x10
[   38.696211]  ? cap_mmap_addr+0x58/0x140
[   38.696220]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   38.696229]  ? security_mmap_addr+0x63/0x1b0
[   38.696238]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.696248]  ? __get_unmapped_area+0x1a4/0x440
[   38.696259]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   38.696269]  ? vrm_set_new_addr+0x21d/0x2b0
[   38.696278]  __do_sys_mremap+0xeb4/0x1620
[   38.696288]  ? __pfx___do_sys_mremap+0x10/0x10
[   38.696298]  ? __this_cpu_preempt_check+0x21/0x30
[   38.696311]  ? __this_cpu_preempt_check+0x21/0x30
[   38.696328]  __x64_sys_mremap+0xc7/0x150
[   38.696336]  ? syscall_trace_enter+0x14d/0x280
[   38.696346]  x64_sys_call+0x1933/0x2150
[   38.696359]  do_syscall_64+0x6d/0x2e0
[   38.696369]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.696389] RIP: 0033:0x7f8ebde3ee5d
[   38.696397] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   38.696403] RSP: 002b:00007ffc501d3af8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   38.696410] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f8ebde3ee5d
[   38.696414] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   38.696418] RBP: 00007ffc501d3b00 R08: 000000002038d000 R09: 0000000000000001
[   38.696422] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc501d3c18
[   38.696425] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f8ebe119000
[   38.696438]  </TASK>
[   39.714865] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   39.715356] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1513, name: repro
[   39.715714] preempt_count: 1, expected: 0
[   39.715904] RCU nest depth: 1, expected: 0
[   39.716103] 4 locks held by repro/1513:
[   39.716289]  #0: ffff88800f10e060 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   39.716709]  #1: ffff888026ff4188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   39.717150]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   39.717558]  #3: ffff88802b43a438 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   39.718018] Preemption disabled at:
[   39.718021] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   39.718483] CPU: 0 UID: 0 PID: 1513 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   39.718494] Tainted: [W]=WARN
[   39.718496] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.718501] Call Trace:
[   39.718503]  <TASK>
[   39.718506]  dump_stack_lvl+0x121/0x150
[   39.718519]  dump_stack+0x19/0x20
[   39.718527]  __might_resched+0x37b/0x5a0
[   39.718538]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.718551]  __might_sleep+0xa3/0x170
[   39.718560]  ? vm_normal_folio+0x8c/0x170
[   39.718571]  __relocate_anon_folios+0xf97/0x2960
[   39.718586]  ? reacquire_held_locks+0xdd/0x1f0
[   39.718598]  ? __pfx___relocate_anon_folios+0x10/0x10
[   39.718610]  ? lock_set_class+0x17a/0x260
[   39.718622]  copy_vma_and_data+0x606/0x1790
[   39.718634]  ? percpu_counter_add_batch+0xd9/0x210
[   39.718646]  ? __pfx_copy_vma_and_data+0x10/0x10
[   39.718653]  ? vms_complete_munmap_vmas+0x525/0x810
[   39.718667]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   39.718680]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.718689]  ? mtree_range_walk+0x728/0xb70
[   39.718700]  ? __lock_acquire+0x412/0x22a0
[   39.718710]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.718719]  ? percpu_counter_add_batch+0xd9/0x210
[   39.718725]  ? debug_smp_processor_id+0x20/0x30
[   39.718736]  ? __this_cpu_preempt_check+0x21/0x30
[   39.718743]  ? lock_is_held_type+0xef/0x150
[   39.718755]  move_vma+0x689/0x1a60
[   39.718766]  ? __pfx_move_vma+0x10/0x10
[   39.718774]  ? cap_mmap_addr+0x58/0x140
[   39.718783]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   39.718792]  ? security_mmap_addr+0x63/0x1b0
[   39.718801]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.718810]  ? __get_unmapped_area+0x1a4/0x440
[   39.718821]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   39.718831]  ? vrm_set_new_addr+0x21d/0x2b0
[   39.718840]  __do_sys_mremap+0xeb4/0x1620
[   39.718849]  ? __pfx___do_sys_mremap+0x10/0x10
[   39.718859]  ? __this_cpu_preempt_check+0x21/0x30
[   39.718874]  ? __this_cpu_preempt_check+0x21/0x30
[   39.718891]  __x64_sys_mremap+0xc7/0x150
[   39.718898]  ? syscall_trace_enter+0x14d/0x280
[   39.718908]  x64_sys_call+0x1933/0x2150
[   39.718915]  do_syscall_64+0x6d/0x2e0
[   39.718925]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.718931] RIP: 0033:0x7f7ff483ee5d
[   39.718938] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   39.718944] RSP: 002b:00007ffdd0eb43b8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   39.718950] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7ff483ee5d
[   39.718954] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   39.718958] RBP: 00007ffdd0eb43c0 R08: 000000002038d000 R09: 0000000000000001
[   39.718961] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffdd0eb44d8
[   39.718965] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7ff4ba9000
[   39.718980]  </TASK>
[   40.719821] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   40.720277] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1549, name: repro
[   40.720638] preempt_count: 1, expected: 0
[   40.720834] RCU nest depth: 1, expected: 0
[   40.721035] 4 locks held by repro/1549:
[   40.721225]  #0: ffff888015b42be0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   40.721666]  #1: ffff888026a51f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   40.722114]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   40.722532]  #3: ffff88801150a618 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   40.723000] Preemption disabled at:
[   40.723002] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   40.723502] CPU: 0 UID: 0 PID: 1549 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   40.723512] Tainted: [W]=WARN
[   40.723514] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.723518] Call Trace:
[   40.723521]  <TASK>
[   40.723524]  dump_stack_lvl+0x121/0x150
[   40.723537]  dump_stack+0x19/0x20
[   40.723545]  __might_resched+0x37b/0x5a0
[   40.723555]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.723569]  __might_sleep+0xa3/0x170
[   40.723578]  ? vm_normal_folio+0x8c/0x170
[   40.723588]  __relocate_anon_folios+0xf97/0x2960
[   40.723604]  ? reacquire_held_locks+0xdd/0x1f0
[   40.723616]  ? __pfx___relocate_anon_folios+0x10/0x10
[   40.723628]  ? lock_set_class+0x17a/0x260
[   40.723641]  copy_vma_and_data+0x606/0x1790
[   40.723652]  ? percpu_counter_add_batch+0xd9/0x210
[   40.723664]  ? __pfx_copy_vma_and_data+0x10/0x10
[   40.723671]  ? vms_complete_munmap_vmas+0x525/0x810
[   40.723685]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   40.723701]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.723711]  ? mtree_range_walk+0x728/0xb70
[   40.723722]  ? __lock_acquire+0x412/0x22a0
[   40.723732]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.723741]  ? percpu_counter_add_batch+0xd9/0x210
[   40.723747]  ? debug_smp_processor_id+0x20/0x30
[   40.723759]  ? __this_cpu_preempt_check+0x21/0x30
[   40.723765]  ? lock_is_held_type+0xef/0x150
[   40.723778]  move_vma+0x689/0x1a60
[   40.723789]  ? __pfx_move_vma+0x10/0x10
[   40.723797]  ? cap_mmap_addr+0x58/0x140
[   40.723806]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   40.723815]  ? security_mmap_addr+0x63/0x1b0
[   40.723824]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.723833]  ? __get_unmapped_area+0x1a4/0x440
[   40.723845]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   40.723854]  ? vrm_set_new_addr+0x21d/0x2b0
[   40.723864]  __do_sys_mremap+0xeb4/0x1620
[   40.723874]  ? __pfx___do_sys_mremap+0x10/0x10
[   40.723884]  ? __this_cpu_preempt_check+0x21/0x30
[   40.723897]  ? __this_cpu_preempt_check+0x21/0x30
[   40.723914]  __x64_sys_mremap+0xc7/0x150
[   40.723922]  ? syscall_trace_enter+0x14d/0x280
[   40.723931]  x64_sys_call+0x1933/0x2150
[   40.723938]  do_syscall_64+0x6d/0x2e0
[   40.723949]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.723955] RIP: 0033:0x7f4638c3ee5d
[   40.723962] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   40.723968] RSP: 002b:00007ffd729b98d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   40.723977] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f4638c3ee5d
[   40.723981] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   40.723985] RBP: 00007ffd729b98e0 R08: 000000002038d000 R09: 0000000000000001
[   40.723989] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd729b99f8
[   40.723993] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4638eff000
[   40.724005]  </TASK>
[   41.729842] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   41.730311] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1585, name: repro
[   41.730671] preempt_count: 1, expected: 0
[   41.730866] RCU nest depth: 1, expected: 0
[   41.731065] 4 locks held by repro/1585:
[   41.731256]  #0: ffff888017dff560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   41.731725]  #1: ffff88802692b188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   41.732177]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   41.732613]  #3: ffff88800ff11378 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   41.733084] Preemption disabled at:
[   41.733087] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   41.733565] CPU: 0 UID: 0 PID: 1585 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   41.733578] Tainted: [W]=WARN
[   41.733581] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.733585] Call Trace:
[   41.733588]  <TASK>
[   41.733591]  dump_stack_lvl+0x121/0x150
[   41.733605]  dump_stack+0x19/0x20
[   41.733613]  __might_resched+0x37b/0x5a0
[   41.733624]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.733638]  __might_sleep+0xa3/0x170
[   41.733647]  ? vm_normal_folio+0x8c/0x170
[   41.733658]  __relocate_anon_folios+0xf97/0x2960
[   41.733674]  ? reacquire_held_locks+0xdd/0x1f0
[   41.733686]  ? __pfx___relocate_anon_folios+0x10/0x10
[   41.733698]  ? lock_set_class+0x17a/0x260
[   41.733711]  copy_vma_and_data+0x606/0x1790
[   41.733723]  ? percpu_counter_add_batch+0xd9/0x210
[   41.733735]  ? __pfx_copy_vma_and_data+0x10/0x10
[   41.733742]  ? vms_complete_munmap_vmas+0x525/0x810
[   41.733757]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   41.733771]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.733780]  ? mtree_range_walk+0x728/0xb70
[   41.733791]  ? __lock_acquire+0x412/0x22a0
[   41.733801]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.733811]  ? percpu_counter_add_batch+0xd9/0x210
[   41.733816]  ? debug_smp_processor_id+0x20/0x30
[   41.733828]  ? __this_cpu_preempt_check+0x21/0x30
[   41.733835]  ? lock_is_held_type+0xef/0x150
[   41.733847]  move_vma+0x689/0x1a60
[   41.733859]  ? __pfx_move_vma+0x10/0x10
[   41.733867]  ? cap_mmap_addr+0x58/0x140
[   41.733876]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   41.733886]  ? security_mmap_addr+0x63/0x1b0
[   41.733895]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.733905]  ? __get_unmapped_area+0x1a4/0x440
[   41.733916]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   41.733926]  ? vrm_set_new_addr+0x21d/0x2b0
[   41.733935]  __do_sys_mremap+0xeb4/0x1620
[   41.733945]  ? __pfx___do_sys_mremap+0x10/0x10
[   41.733955]  ? __this_cpu_preempt_check+0x21/0x30
[   41.733971]  ? __this_cpu_preempt_check+0x21/0x30
[   41.733988]  __x64_sys_mremap+0xc7/0x150
[   41.733996]  ? syscall_trace_enter+0x14d/0x280
[   41.734006]  x64_sys_call+0x1933/0x2150
[   41.734013]  do_syscall_64+0x6d/0x2e0
[   41.734024]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.734031] RIP: 0033:0x7f7af063ee5d
[   41.734040] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   41.734046] RSP: 002b:00007ffca71f5598 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   41.734053] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7af063ee5d
[   41.734057] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   41.734061] RBP: 00007ffca71f55a0 R08: 000000002038d000 R09: 0000000000000001
[   41.734064] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffca71f56b8
[   41.734068] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7af09be000
[   41.734081]  </TASK>
[   42.731287] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   42.731791] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1620, name: repro
[   42.732185] preempt_count: 1, expected: 0
[   42.732396] RCU nest depth: 1, expected: 0
[   42.732612] 4 locks held by repro/1620:
[   42.732815]  #0: ffff8880146ea160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   42.733286]  #1: ffff888026e026d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   42.733766]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   42.734220]  #3: ffff888026c40678 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   42.734720] Preemption disabled at:
[   42.734723] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   42.735238] CPU: 0 UID: 0 PID: 1620 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   42.735250] Tainted: [W]=WARN
[   42.735252] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.735257] Call Trace:
[   42.735259]  <TASK>
[   42.735263]  dump_stack_lvl+0x121/0x150
[   42.735278]  dump_stack+0x19/0x20
[   42.735287]  __might_resched+0x37b/0x5a0
[   42.735299]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.735320]  __might_sleep+0xa3/0x170
[   42.735332]  ? vm_normal_folio+0x8c/0x170
[   42.735347]  __relocate_anon_folios+0xf97/0x2960
[   42.735368]  ? reacquire_held_locks+0xdd/0x1f0
[   42.735384]  ? __pfx___relocate_anon_folios+0x10/0x10
[   42.735400]  ? lock_set_class+0x17a/0x260
[   42.735418]  copy_vma_and_data+0x606/0x1790
[   42.735435]  ? percpu_counter_add_batch+0xd9/0x210
[   42.735451]  ? __pfx_copy_vma_and_data+0x10/0x10
[   42.735460]  ? vms_complete_munmap_vmas+0x525/0x810
[   42.735480]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   42.735497]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.735510]  ? mtree_range_walk+0x728/0xb70
[   42.735524]  ? __lock_acquire+0x412/0x22a0
[   42.735538]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.735550]  ? percpu_counter_add_batch+0xd9/0x210
[   42.735557]  ? debug_smp_processor_id+0x20/0x30
[   42.735573]  ? __this_cpu_preempt_check+0x21/0x30
[   42.735581]  ? lock_is_held_type+0xef/0x150
[   42.735601]  move_vma+0x689/0x1a60
[   42.735617]  ? __pfx_move_vma+0x10/0x10
[   42.735628]  ? cap_mmap_addr+0x58/0x140
[   42.735639]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   42.735652]  ? security_mmap_addr+0x63/0x1b0
[   42.735663]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.735676]  ? __get_unmapped_area+0x1a4/0x440
[   42.735691]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   42.735704]  ? vrm_set_new_addr+0x21d/0x2b0
[   42.735716]  __do_sys_mremap+0xeb4/0x1620
[   42.735729]  ? __pfx___do_sys_mremap+0x10/0x10
[   42.735754]  ? __this_cpu_preempt_check+0x21/0x30
[   42.735779]  __x64_sys_mremap+0xc7/0x150
[   42.735789]  ? syscall_trace_enter+0x14d/0x280
[   42.735801]  x64_sys_call+0x1933/0x2150
[   42.735809]  do_syscall_64+0x6d/0x2e0
[   42.735823]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.735831] RIP: 0033:0x7fcb9f63ee5d
[   42.735839] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   42.735846] RSP: 002b:00007ffea20898d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   42.735854] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcb9f63ee5d
[   42.735859] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   42.735863] RBP: 00007ffea20898e0 R08: 000000002038d000 R09: 0000000000000001
[   42.735868] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffea20899f8
[   42.735873] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcb9f98e000
[   42.735890]  </TASK>
[   43.737186] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   43.737650] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1654, name: repro
[   43.738032] preempt_count: 1, expected: 0
[   43.738236] RCU nest depth: 1, expected: 0
[   43.738444] 4 locks held by repro/1654:
[   43.738641]  #0: ffff88801943d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   43.739095]  #1: ffff88802b7e8d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   43.739592]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   43.740030]  #3: ffff88802b700018 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   43.740518] Preemption disabled at:
[   43.740521] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   43.741016] CPU: 0 UID: 0 PID: 1654 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   43.741027] Tainted: [W]=WARN
[   43.741029] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.741047] Call Trace:
[   43.741049]  <TASK>
[   43.741052]  dump_stack_lvl+0x121/0x150
[   43.741067]  dump_stack+0x19/0x20
[   43.741076]  __might_resched+0x37b/0x5a0
[   43.741088]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.741103]  __might_sleep+0xa3/0x170
[   43.741115]  ? vm_normal_folio+0x8c/0x170
[   43.741127]  __relocate_anon_folios+0xf97/0x2960
[   43.741143]  ? reacquire_held_locks+0xdd/0x1f0
[   43.741156]  ? __pfx___relocate_anon_folios+0x10/0x10
[   43.741169]  ? lock_set_class+0x17a/0x260
[   43.741183]  copy_vma_and_data+0x606/0x1790
[   43.741195]  ? percpu_counter_add_batch+0xd9/0x210
[   43.741209]  ? __pfx_copy_vma_and_data+0x10/0x10
[   43.741216]  ? vms_complete_munmap_vmas+0x525/0x810
[   43.741232]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   43.741245]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.741255]  ? mtree_range_walk+0x728/0xb70
[   43.741267]  ? __lock_acquire+0x412/0x22a0
[   43.741277]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.741287]  ? percpu_counter_add_batch+0xd9/0x210
[   43.741293]  ? debug_smp_processor_id+0x20/0x30
[   43.741306]  ? __this_cpu_preempt_check+0x21/0x30
[   43.741313]  ? lock_is_held_type+0xef/0x150
[   43.741326]  move_vma+0x689/0x1a60
[   43.741338]  ? __pfx_move_vma+0x10/0x10
[   43.741348]  ? cap_mmap_addr+0x58/0x140
[   43.741357]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   43.741367]  ? security_mmap_addr+0x63/0x1b0
[   43.741377]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.741387]  ? __get_unmapped_area+0x1a4/0x440
[   43.741400]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   43.741410]  ? vrm_set_new_addr+0x21d/0x2b0
[   43.741420]  __do_sys_mremap+0xeb4/0x1620
[   43.741430]  ? __pfx___do_sys_mremap+0x10/0x10
[   43.741449]  ? __this_cpu_preempt_check+0x21/0x30
[   43.741469]  __x64_sys_mremap+0xc7/0x150
[   43.741477]  ? syscall_trace_enter+0x14d/0x280
[   43.741488]  x64_sys_call+0x1933/0x2150
[   43.741495]  do_syscall_64+0x6d/0x2e0
[   43.741506]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.741513] RIP: 0033:0x7f7b0fc3ee5d
[   43.741521] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   43.741527] RSP: 002b:00007ffeb987c908 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   43.741534] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f7b0fc3ee5d
[   43.741538] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   43.741542] RBP: 00007ffeb987c910 R08: 000000002038d000 R09: 0000000000000001
[   43.741546] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffeb987ca28
[   43.741550] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f7b0ff47000
[   43.741564]  </TASK>
[   44.761279] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   44.761779] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1686, name: repro
[   44.762195] preempt_count: 1, expected: 0
[   44.762409] RCU nest depth: 1, expected: 0
[   44.762627] 4 locks held by repro/1686:
[   44.762835]  #0: ffff8880194396e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   44.763346]  #1: ffff88802bf00b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   44.763837]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   44.764302]  #3: ffff88802bede0d8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   44.764818] Preemption disabled at:
[   44.764821] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   44.765340] CPU: 1 UID: 0 PID: 1686 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   44.765352] Tainted: [W]=WARN
[   44.765355] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.765360] Call Trace:
[   44.765362]  <TASK>
[   44.765366]  dump_stack_lvl+0x121/0x150
[   44.765381]  dump_stack+0x19/0x20
[   44.765390]  __might_resched+0x37b/0x5a0
[   44.765402]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.765418]  __might_sleep+0xa3/0x170
[   44.765428]  ? vm_normal_folio+0x8c/0x170
[   44.765446]  __relocate_anon_folios+0xf97/0x2960
[   44.765464]  ? reacquire_held_locks+0xdd/0x1f0
[   44.765477]  ? __pfx___relocate_anon_folios+0x10/0x10
[   44.765491]  ? lock_set_class+0x17a/0x260
[   44.765505]  copy_vma_and_data+0x606/0x1790
[   44.765519]  ? percpu_counter_add_batch+0xd9/0x210
[   44.765532]  ? __pfx_copy_vma_and_data+0x10/0x10
[   44.765540]  ? vms_complete_munmap_vmas+0x525/0x810
[   44.765557]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   44.765571]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.765582]  ? mtree_range_walk+0x728/0xb70
[   44.765594]  ? __lock_acquire+0x412/0x22a0
[   44.765605]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.765615]  ? percpu_counter_add_batch+0xd9/0x210
[   44.765622]  ? debug_smp_processor_id+0x20/0x30
[   44.765635]  ? __this_cpu_preempt_check+0x21/0x30
[   44.765642]  ? lock_is_held_type+0xef/0x150
[   44.765656]  move_vma+0x689/0x1a60
[   44.765669]  ? __pfx_move_vma+0x10/0x10
[   44.765678]  ? cap_mmap_addr+0x58/0x140
[   44.765688]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   44.765699]  ? security_mmap_addr+0x63/0x1b0
[   44.765709]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.765720]  ? __get_unmapped_area+0x1a4/0x440
[   44.765733]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   44.765743]  ? vrm_set_new_addr+0x21d/0x2b0
[   44.765754]  __do_sys_mremap+0xeb4/0x1620
[   44.765770]  ? __pfx___do_sys_mremap+0x10/0x10
[   44.765781]  ? __this_cpu_preempt_check+0x21/0x30
[   44.765796]  ? __this_cpu_preempt_check+0x21/0x30
[   44.765815]  __x64_sys_mremap+0xc7/0x150
[   44.765823]  ? syscall_trace_enter+0x14d/0x280
[   44.765834]  x64_sys_call+0x1933/0x2150
[   44.765842]  do_syscall_64+0x6d/0x2e0
[   44.765854]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.765861] RIP: 0033:0x7f214a03ee5d
[   44.765869] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   44.765876] RSP: 002b:00007ffc15e7caf8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   44.765883] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f214a03ee5d
[   44.765887] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   44.765892] RBP: 00007ffc15e7cb00 R08: 000000002038d000 R09: 0000000000000001
[   44.765896] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc15e7cc18
[   44.765900] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f214a339000
[   44.765914]  </TASK>
[   45.788526] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   45.789182] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1718, name: repro
[   45.789592] preempt_count: 1, expected: 0
[   45.789808] RCU nest depth: 1, expected: 0
[   45.790033] 4 locks held by repro/1718:
[   45.790245]  #0: ffff888012e201e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   45.790721]  #1: ffff88802b5c0b18 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   45.791220]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   45.791728]  #3: ffff888013dd0858 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   45.792251] Preemption disabled at:
[   45.792254] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   45.792778] CPU: 0 UID: 0 PID: 1718 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   45.792790] Tainted: [W]=WARN
[   45.792793] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.792798] Call Trace:
[   45.792800]  <TASK>
[   45.792804]  dump_stack_lvl+0x121/0x150
[   45.792820]  dump_stack+0x19/0x20
[   45.792829]  __might_resched+0x37b/0x5a0
[   45.792841]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.792857]  __might_sleep+0xa3/0x170
[   45.792867]  ? vm_normal_folio+0x8c/0x170
[   45.792879]  __relocate_anon_folios+0xf97/0x2960
[   45.792896]  ? reacquire_held_locks+0xdd/0x1f0
[   45.792910]  ? __pfx___relocate_anon_folios+0x10/0x10
[   45.792923]  ? lock_set_class+0x17a/0x260
[   45.792937]  copy_vma_and_data+0x606/0x1790
[   45.792956]  ? percpu_counter_add_batch+0xd9/0x210
[   45.792973]  ? __pfx_copy_vma_and_data+0x10/0x10
[   45.792983]  ? vms_complete_munmap_vmas+0x525/0x810
[   45.792999]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   45.793014]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.793025]  ? mtree_range_walk+0x728/0xb70
[   45.793037]  ? __lock_acquire+0x412/0x22a0
[   45.793048]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.793059]  ? percpu_counter_add_batch+0xd9/0x210
[   45.793065]  ? debug_smp_processor_id+0x20/0x30
[   45.793079]  ? __this_cpu_preempt_check+0x21/0x30
[   45.793086]  ? lock_is_held_type+0xef/0x150
[   45.793100]  move_vma+0x689/0x1a60
[   45.793113]  ? __pfx_move_vma+0x10/0x10
[   45.793123]  ? cap_mmap_addr+0x58/0x140
[   45.793132]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   45.793143]  ? security_mmap_addr+0x63/0x1b0
[   45.793153]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.793164]  ? __get_unmapped_area+0x1a4/0x440
[   45.793176]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   45.793187]  ? vrm_set_new_addr+0x21d/0x2b0
[   45.793197]  __do_sys_mremap+0xeb4/0x1620
[   45.793208]  ? __pfx___do_sys_mremap+0x10/0x10
[   45.793219]  ? __this_cpu_preempt_check+0x21/0x30
[   45.793234]  ? __this_cpu_preempt_check+0x21/0x30
[   45.793253]  __x64_sys_mremap+0xc7/0x150
[   45.793262]  ? syscall_trace_enter+0x14d/0x280
[   45.793273]  x64_sys_call+0x1933/0x2150
[   45.793280]  do_syscall_64+0x6d/0x2e0
[   45.793292]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.793299] RIP: 0033:0x7f673363ee5d
[   45.793307] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   45.793314] RSP: 002b:00007ffc97bb2ca8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   45.793321] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f673363ee5d
[   45.793326] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   45.793330] RBP: 00007ffc97bb2cb0 R08: 000000002038d000 R09: 0000000000000001
[   45.793334] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc97bb2dc8
[   45.793338] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f67338de000
[   45.793353]  </TASK>
[   46.801401] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   46.801903] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1748, name: repro
[   46.802314] preempt_count: 1, expected: 0
[   46.802531] RCU nest depth: 1, expected: 0
[   46.802754] 4 locks held by repro/1748:
[   46.802963]  #0: ffff88801707eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   46.803489]  #1: ffff888026c2dd38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   46.803994]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   46.804442]  #3: ffff888022cf2c18 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   46.804964] Preemption disabled at:
[   46.804974] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   46.805500] CPU: 1 UID: 0 PID: 1748 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   46.805512] Tainted: [W]=WARN
[   46.805515] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.805520] Call Trace:
[   46.805522]  <TASK>
[   46.805526]  dump_stack_lvl+0x121/0x150
[   46.805541]  dump_stack+0x19/0x20
[   46.805550]  __might_resched+0x37b/0x5a0
[   46.805562]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.805578]  __might_sleep+0xa3/0x170
[   46.805589]  ? vm_normal_folio+0x8c/0x170
[   46.805601]  __relocate_anon_folios+0xf97/0x2960
[   46.805618]  ? reacquire_held_locks+0xdd/0x1f0
[   46.805632]  ? __pfx___relocate_anon_folios+0x10/0x10
[   46.805648]  ? lock_set_class+0x17a/0x260
[   46.805662]  copy_vma_and_data+0x606/0x1790
[   46.805676]  ? percpu_counter_add_batch+0xd9/0x210
[   46.805689]  ? __pfx_copy_vma_and_data+0x10/0x10
[   46.805697]  ? vms_complete_munmap_vmas+0x525/0x810
[   46.805714]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   46.805728]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.805742]  ? mtree_range_walk+0x728/0xb70
[   46.805754]  ? __lock_acquire+0x412/0x22a0
[   46.805765]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.805776]  ? percpu_counter_add_batch+0xd9/0x210
[   46.805782]  ? debug_smp_processor_id+0x20/0x30
[   46.805795]  ? __this_cpu_preempt_check+0x21/0x30
[   46.805802]  ? lock_is_held_type+0xef/0x150
[   46.805816]  move_vma+0x689/0x1a60
[   46.805829]  ? __pfx_move_vma+0x10/0x10
[   46.805839]  ? cap_mmap_addr+0x58/0x140
[   46.805848]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   46.805859]  ? security_mmap_addr+0x63/0x1b0
[   46.805869]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.805880]  ? __get_unmapped_area+0x1a4/0x440
[   46.805892]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   46.805903]  ? vrm_set_new_addr+0x21d/0x2b0
[   46.805913]  __do_sys_mremap+0xeb4/0x1620
[   46.805924]  ? __pfx___do_sys_mremap+0x10/0x10
[   46.805935]  ? __this_cpu_preempt_check+0x21/0x30
[   46.805950]  ? __this_cpu_preempt_check+0x21/0x30
[   46.805972]  __x64_sys_mremap+0xc7/0x150
[   46.805981]  ? syscall_trace_enter+0x14d/0x280
[   46.805992]  x64_sys_call+0x1933/0x2150
[   46.805999]  do_syscall_64+0x6d/0x2e0
[   46.806013]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.806021] RIP: 0033:0x7f6b3c43ee5d
[   46.806029] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   46.806036] RSP: 002b:00007fffa0a1fb28 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   46.806043] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f6b3c43ee5d
[   46.806048] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   46.806052] RBP: 00007fffa0a1fb30 R08: 000000002038d000 R09: 0000000000000001
[   46.806056] R10: 000000000000000f R11: 0000000000000217 R12: 00007fffa0a1fc48
[   46.806060] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f6b3c7a0000
[   46.806074]  </TASK>
[   47.828884] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   47.829436] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1779, name: repro
[   47.829873] preempt_count: 1, expected: 0
[   47.830113] RCU nest depth: 1, expected: 0
[   47.830353] 4 locks held by repro/1779:
[   47.830582]  #0: ffff888013500c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   47.831107]  #1: ffff88802b7317e8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   47.831678]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   47.832188]  #3: ffff88802be0ce58 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   47.832752] Preemption disabled at:
[   47.832755] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   47.833320] CPU: 1 UID: 0 PID: 1779 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   47.833333] Tainted: [W]=WARN
[   47.833336] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.833341] Call Trace:
[   47.833343]  <TASK>
[   47.833347]  dump_stack_lvl+0x121/0x150
[   47.833363]  dump_stack+0x19/0x20
[   47.833373]  __might_resched+0x37b/0x5a0
[   47.833386]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.833402]  __might_sleep+0xa3/0x170
[   47.833413]  ? vm_normal_folio+0x8c/0x170
[   47.833426]  __relocate_anon_folios+0xf97/0x2960
[   47.833445]  ? reacquire_held_locks+0xdd/0x1f0
[   47.833459]  ? __pfx___relocate_anon_folios+0x10/0x10
[   47.833474]  ? lock_set_class+0x17a/0x260
[   47.833490]  copy_vma_and_data+0x606/0x1790
[   47.833504]  ? percpu_counter_add_batch+0xd9/0x210
[   47.833518]  ? __pfx_copy_vma_and_data+0x10/0x10
[   47.833527]  ? vms_complete_munmap_vmas+0x525/0x810
[   47.833544]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   47.833560]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.833572]  ? mtree_range_walk+0x728/0xb70
[   47.833585]  ? __lock_acquire+0x412/0x22a0
[   47.833597]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.833608]  ? percpu_counter_add_batch+0xd9/0x210
[   47.833627]  ? debug_smp_processor_id+0x20/0x30
[   47.833645]  ? __this_cpu_preempt_check+0x21/0x30
[   47.833653]  ? lock_is_held_type+0xef/0x150
[   47.833668]  move_vma+0x689/0x1a60
[   47.833682]  ? __pfx_move_vma+0x10/0x10
[   47.833692]  ? cap_mmap_addr+0x58/0x140
[   47.833702]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   47.833714]  ? security_mmap_addr+0x63/0x1b0
[   47.833725]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.833736]  ? __get_unmapped_area+0x1a4/0x440
[   47.833750]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   47.833762]  ? vrm_set_new_addr+0x21d/0x2b0
[   47.833773]  __do_sys_mremap+0xeb4/0x1620
[   47.833785]  ? __pfx___do_sys_mremap+0x10/0x10
[   47.833806]  ? __this_cpu_preempt_check+0x21/0x30
[   47.833827]  __x64_sys_mremap+0xc7/0x150
[   47.833837]  ? syscall_trace_enter+0x14d/0x280
[   47.833848]  x64_sys_call+0x1933/0x2150
[   47.833856]  do_syscall_64+0x6d/0x2e0
[   47.833869]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.833877] RIP: 0033:0x7ff2f083ee5d
[   47.833885] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   47.833893] RSP: 002b:00007fff900b5b18 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   47.833900] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007ff2f083ee5d
[   47.833905] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   47.833910] RBP: 00007fff900b5b20 R08: 000000002038d000 R09: 0000000000000001
[   47.833914] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff900b5c38
[   47.833919] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007ff2f0a6c000
[   47.833934]  </TASK>
[   48.830086] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   48.830590] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1810, name: repro
[   48.830998] preempt_count: 1, expected: 0
[   48.831215] RCU nest depth: 1, expected: 0
[   48.831480] 4 locks held by repro/1810:
[   48.831692]  #0: ffff88801bc9c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   48.832182]  #1: ffff88802b8b6a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   48.832684]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   48.833161]  #3: ffff88802bd092b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   48.833686] Preemption disabled at:
[   48.833689] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   48.834218] CPU: 1 UID: 0 PID: 1810 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   48.834229] Tainted: [W]=WARN
[   48.834232] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.834237] Call Trace:
[   48.834239]  <TASK>
[   48.834243]  dump_stack_lvl+0x121/0x150
[   48.834258]  dump_stack+0x19/0x20
[   48.834271]  __might_resched+0x37b/0x5a0
[   48.834283]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.834298]  __might_sleep+0xa3/0x170
[   48.834309]  ? vm_normal_folio+0x8c/0x170
[   48.834321]  __relocate_anon_folios+0xf97/0x2960
[   48.834338]  ? reacquire_held_locks+0xdd/0x1f0
[   48.834352]  ? __pfx___relocate_anon_folios+0x10/0x10
[   48.834365]  ? lock_set_class+0x17a/0x260
[   48.834380]  copy_vma_and_data+0x606/0x1790
[   48.834393]  ? percpu_counter_add_batch+0xd9/0x210
[   48.834406]  ? __pfx_copy_vma_and_data+0x10/0x10
[   48.834414]  ? vms_complete_munmap_vmas+0x525/0x810
[   48.834431]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   48.834445]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.834456]  ? mtree_range_walk+0x728/0xb70
[   48.834468]  ? __lock_acquire+0x412/0x22a0
[   48.834479]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.834490]  ? percpu_counter_add_batch+0xd9/0x210
[   48.834496]  ? debug_smp_processor_id+0x20/0x30
[   48.834509]  ? __this_cpu_preempt_check+0x21/0x30
[   48.834516]  ? lock_is_held_type+0xef/0x150
[   48.834530]  move_vma+0x689/0x1a60
[   48.834543]  ? __pfx_move_vma+0x10/0x10
[   48.834553]  ? cap_mmap_addr+0x58/0x140
[   48.834562]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   48.834576]  ? security_mmap_addr+0x63/0x1b0
[   48.834586]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.834596]  ? __get_unmapped_area+0x1a4/0x440
[   48.834610]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   48.834620]  ? vrm_set_new_addr+0x21d/0x2b0
[   48.834631]  __do_sys_mremap+0xeb4/0x1620
[   48.834642]  ? __pfx___do_sys_mremap+0x10/0x10
[   48.834653]  ? __this_cpu_preempt_check+0x21/0x30
[   48.834668]  ? __this_cpu_preempt_check+0x21/0x30
[   48.834687]  __x64_sys_mremap+0xc7/0x150
[   48.834696]  ? syscall_trace_enter+0x14d/0x280
[   48.834707]  x64_sys_call+0x1933/0x2150
[   48.834714]  do_syscall_64+0x6d/0x2e0
[   48.834726]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.834733] RIP: 0033:0x7f4b1fa3ee5d
[   48.834741] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   48.834748] RSP: 002b:00007ffe73c39a88 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   48.834754] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f4b1fa3ee5d
[   48.834759] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   48.834763] RBP: 00007ffe73c39a90 R08: 000000002038d000 R09: 0000000000000001
[   48.834767] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe73c39ba8
[   48.834774] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f4b1fd6e000
[   48.834791]  </TASK>
[   49.830882] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   49.831437] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1840, name: repro
[   49.831866] preempt_count: 1, expected: 0
[   49.832096] RCU nest depth: 1, expected: 0
[   49.832331] 4 locks held by repro/1840:
[   49.832552]  #0: ffff8880144cd5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   49.833063]  #1: ffff88802ba248f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   49.833591]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   49.834087]  #3: ffff888026fa27f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   49.834637] Preemption disabled at:
[   49.834640] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   49.835197] CPU: 1 UID: 0 PID: 1840 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   49.835209] Tainted: [W]=WARN
[   49.835212] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.835217] Call Trace:
[   49.835220]  <TASK>
[   49.835225]  dump_stack_lvl+0x121/0x150
[   49.835241]  dump_stack+0x19/0x20
[   49.835251]  __might_resched+0x37b/0x5a0
[   49.835264]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.835280]  __might_sleep+0xa3/0x170
[   49.835291]  ? vm_normal_folio+0x8c/0x170
[   49.835307]  __relocate_anon_folios+0xf97/0x2960
[   49.835330]  ? reacquire_held_locks+0xdd/0x1f0
[   49.835348]  ? __pfx___relocate_anon_folios+0x10/0x10
[   49.835365]  ? lock_set_class+0x17a/0x260
[   49.835385]  copy_vma_and_data+0x606/0x1790
[   49.835403]  ? percpu_counter_add_batch+0xd9/0x210
[   49.835420]  ? __pfx_copy_vma_and_data+0x10/0x10
[   49.835429]  ? vms_complete_munmap_vmas+0x525/0x810
[   49.835451]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   49.835470]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.835483]  ? mtree_range_walk+0x728/0xb70
[   49.835499]  ? __lock_acquire+0x412/0x22a0
[   49.835514]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.835527]  ? percpu_counter_add_batch+0xd9/0x210
[   49.835535]  ? debug_smp_processor_id+0x20/0x30
[   49.835552]  ? __this_cpu_preempt_check+0x21/0x30
[   49.835561]  ? lock_is_held_type+0xef/0x150
[   49.835579]  move_vma+0x689/0x1a60
[   49.835596]  ? __pfx_move_vma+0x10/0x10
[   49.835608]  ? cap_mmap_addr+0x58/0x140
[   49.835620]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   49.835633]  ? security_mmap_addr+0x63/0x1b0
[   49.835646]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.835666]  ? __get_unmapped_area+0x1a4/0x440
[   49.835683]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   49.835696]  ? vrm_set_new_addr+0x21d/0x2b0
[   49.835713]  __do_sys_mremap+0xeb4/0x1620
[   49.835727]  ? __pfx___do_sys_mremap+0x10/0x10
[   49.835742]  ? __this_cpu_preempt_check+0x21/0x30
[   49.835762]  ? __this_cpu_preempt_check+0x21/0x30
[   49.835789]  __x64_sys_mremap+0xc7/0x150
[   49.835800]  ? syscall_trace_enter+0x14d/0x280
[   49.835813]  x64_sys_call+0x1933/0x2150
[   49.835822]  do_syscall_64+0x6d/0x2e0
[   49.835837]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.835846] RIP: 0033:0x7f1768a3ee5d
[   49.835854] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   49.835862] RSP: 002b:00007ffcb0f29d18 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   49.835870] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f1768a3ee5d
[   49.835875] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   49.835880] RBP: 00007ffcb0f29d20 R08: 000000002038d000 R09: 0000000000000001
[   49.835885] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffcb0f29e38
[   49.835890] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f1768d86000
[   49.835909]  </TASK>
[   50.835952] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   50.836446] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1872, name: repro
[   50.836828] preempt_count: 1, expected: 0
[   50.837018] RCU nest depth: 1, expected: 0
[   50.837210] 4 locks held by repro/1872:
[   50.837408]  #0: ffff88800f0cabe0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   50.837875]  #1: ffff88802bb858f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   50.838359]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   50.838813]  #3: ffff888026e578b8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   50.839760] Preemption disabled at:
[   50.839763] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   50.840270] CPU: 1 UID: 0 PID: 1872 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   50.840282] Tainted: [W]=WARN
[   50.840285] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.840290] Call Trace:
[   50.840292]  <TASK>
[   50.840295]  dump_stack_lvl+0x121/0x150
[   50.840310]  dump_stack+0x19/0x20
[   50.840319]  __might_resched+0x37b/0x5a0
[   50.840331]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.840346]  __might_sleep+0xa3/0x170
[   50.840355]  ? vm_normal_folio+0x8c/0x170
[   50.840367]  __relocate_anon_folios+0xf97/0x2960
[   50.840384]  ? reacquire_held_locks+0xdd/0x1f0
[   50.840397]  ? __pfx___relocate_anon_folios+0x10/0x10
[   50.840410]  ? lock_set_class+0x17a/0x260
[   50.840431]  copy_vma_and_data+0x606/0x1790
[   50.840447]  ? percpu_counter_add_batch+0xd9/0x210
[   50.840460]  ? __pfx_copy_vma_and_data+0x10/0x10
[   50.840468]  ? vms_complete_munmap_vmas+0x525/0x810
[   50.840483]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   50.840497]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.840508]  ? mtree_range_walk+0x728/0xb70
[   50.840520]  ? __lock_acquire+0x412/0x22a0
[   50.840531]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.840541]  ? percpu_counter_add_batch+0xd9/0x210
[   50.840547]  ? debug_smp_processor_id+0x20/0x30
[   50.840560]  ? __this_cpu_preempt_check+0x21/0x30
[   50.840567]  ? lock_is_held_type+0xef/0x150
[   50.840581]  move_vma+0x689/0x1a60
[   50.840593]  ? __pfx_move_vma+0x10/0x10
[   50.840602]  ? cap_mmap_addr+0x58/0x140
[   50.840612]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   50.840622]  ? security_mmap_addr+0x63/0x1b0
[   50.840632]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.840643]  ? __get_unmapped_area+0x1a4/0x440
[   50.840655]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   50.840665]  ? vrm_set_new_addr+0x21d/0x2b0
[   50.840675]  __do_sys_mremap+0xeb4/0x1620
[   50.840686]  ? __pfx___do_sys_mremap+0x10/0x10
[   50.840697]  ? __this_cpu_preempt_check+0x21/0x30
[   50.840711]  ? __this_cpu_preempt_check+0x21/0x30
[   50.840730]  __x64_sys_mremap+0xc7/0x150
[   50.840741]  ? syscall_trace_enter+0x14d/0x280
[   50.840751]  x64_sys_call+0x1933/0x2150
[   50.840759]  do_syscall_64+0x6d/0x2e0
[   50.840770]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.840777] RIP: 0033:0x7f283d03ee5d
[   50.840785] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   50.840791] RSP: 002b:00007fff06e079a8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   50.840798] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f283d03ee5d
[   50.840803] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   50.840807] RBP: 00007fff06e079b0 R08: 000000002038d000 R09: 0000000000000001
[   50.840811] R10: 000000000000000f R11: 0000000000000217 R12: 00007fff06e07ac8
[   50.840815] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f283d34e000
[   50.840829]  </TASK>
[   50.841461] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   50.877336] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   51.860555] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   51.861094] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1904, name: repro
[   51.861520] preempt_count: 1, expected: 0
[   51.861748] RCU nest depth: 1, expected: 0
[   51.861983] 4 locks held by repro/1904:
[   51.862213]  #0: ffff88801bc3eae0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   51.862721]  #1: ffff88802b5486d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   51.863249]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   51.863782]  #3: ffff88802b93c918 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   51.864334] Preemption disabled at:
[   51.864337] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   51.864896] CPU: 0 UID: 0 PID: 1904 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   51.864909] Tainted: [W]=WARN
[   51.864911] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.864917] Call Trace:
[   51.864919]  <TASK>
[   51.864923]  dump_stack_lvl+0x121/0x150
[   51.864939]  dump_stack+0x19/0x20
[   51.864949]  __might_resched+0x37b/0x5a0
[   51.864962]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.864981]  __might_sleep+0xa3/0x170
[   51.864992]  ? vm_normal_folio+0x8c/0x170
[   51.865025]  __relocate_anon_folios+0xf97/0x2960
[   51.865043]  ? reacquire_held_locks+0xdd/0x1f0
[   51.865057]  ? __pfx___relocate_anon_folios+0x10/0x10
[   51.865071]  ? lock_set_class+0x17a/0x260
[   51.865086]  copy_vma_and_data+0x606/0x1790
[   51.865100]  ? percpu_counter_add_batch+0xd9/0x210
[   51.865114]  ? __pfx_copy_vma_and_data+0x10/0x10
[   51.865122]  ? vms_complete_munmap_vmas+0x525/0x810
[   51.865139]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   51.865154]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.865165]  ? mtree_range_walk+0x728/0xb70
[   51.865178]  ? __lock_acquire+0x412/0x22a0
[   51.865190]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.865204]  ? percpu_counter_add_batch+0xd9/0x210
[   51.865211]  ? debug_smp_processor_id+0x20/0x30
[   51.865224]  ? __this_cpu_preempt_check+0x21/0x30
[   51.865232]  ? lock_is_held_type+0xef/0x150
[   51.865246]  move_vma+0x689/0x1a60
[   51.865260]  ? __pfx_move_vma+0x10/0x10
[   51.865270]  ? cap_mmap_addr+0x58/0x140
[   51.865280]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   51.865291]  ? security_mmap_addr+0x63/0x1b0
[   51.865301]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.865313]  ? __get_unmapped_area+0x1a4/0x440
[   51.865326]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   51.865337]  ? vrm_set_new_addr+0x21d/0x2b0
[   51.865348]  __do_sys_mremap+0xeb4/0x1620
[   51.865363]  ? __pfx___do_sys_mremap+0x10/0x10
[   51.865374]  ? __this_cpu_preempt_check+0x21/0x30
[   51.865392]  ? __this_cpu_preempt_check+0x21/0x30
[   51.865413]  __x64_sys_mremap+0xc7/0x150
[   51.865422]  ? syscall_trace_enter+0x14d/0x280
[   51.865433]  x64_sys_call+0x1933/0x2150
[   51.865441]  do_syscall_64+0x6d/0x2e0
[   51.865453]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.865461] RIP: 0033:0x7fa05643ee5d
[   51.865468] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   51.865476] RSP: 002b:00007ffc85cceb48 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   51.865483] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fa05643ee5d
[   51.865487] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   51.865492] RBP: 00007ffc85cceb50 R08: 000000002038d000 R09: 0000000000000001
[   51.865496] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc85ccec68
[   51.865501] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fa056829000
[   51.865516]  </TASK>
[   52.885579] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   52.886060] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1937, name: repro
[   52.886449] preempt_count: 1, expected: 0
[   52.886656] RCU nest depth: 1, expected: 0
[   52.886867] 4 locks held by repro/1937:
[   52.887071]  #0: ffff88801bc3f560 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   52.887873]  #1: ffff888026f77e48 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   52.888353]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   52.888797]  #3: ffff888011e48258 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   52.889294] Preemption disabled at:
[   52.889296] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   52.889792] CPU: 1 UID: 0 PID: 1937 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   52.889803] Tainted: [W]=WARN
[   52.889805] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.889810] Call Trace:
[   52.889813]  <TASK>
[   52.889816]  dump_stack_lvl+0x121/0x150
[   52.889830]  dump_stack+0x19/0x20
[   52.889839]  __might_resched+0x37b/0x5a0
[   52.889851]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.889866]  __might_sleep+0xa3/0x170
[   52.889875]  ? vm_normal_folio+0x8c/0x170
[   52.889887]  __relocate_anon_folios+0xf97/0x2960
[   52.889903]  ? reacquire_held_locks+0xdd/0x1f0
[   52.889916]  ? __pfx___relocate_anon_folios+0x10/0x10
[   52.889929]  ? lock_set_class+0x17a/0x260
[   52.889943]  copy_vma_and_data+0x606/0x1790
[   52.889955]  ? percpu_counter_add_batch+0xd9/0x210
[   52.889972]  ? __pfx_copy_vma_and_data+0x10/0x10
[   52.889980]  ? vms_complete_munmap_vmas+0x525/0x810
[   52.889995]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   52.890009]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.890026]  ? mtree_range_walk+0x728/0xb70
[   52.890038]  ? __lock_acquire+0x412/0x22a0
[   52.890048]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.890058]  ? percpu_counter_add_batch+0xd9/0x210
[   52.890064]  ? debug_smp_processor_id+0x20/0x30
[   52.890077]  ? __this_cpu_preempt_check+0x21/0x30
[   52.890084]  ? lock_is_held_type+0xef/0x150
[   52.890097]  move_vma+0x689/0x1a60
[   52.890109]  ? __pfx_move_vma+0x10/0x10
[   52.890118]  ? cap_mmap_addr+0x58/0x140
[   52.890128]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   52.890138]  ? security_mmap_addr+0x63/0x1b0
[   52.890147]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.890157]  ? __get_unmapped_area+0x1a4/0x440
[   52.890169]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   52.890179]  ? vrm_set_new_addr+0x21d/0x2b0
[   52.890189]  __do_sys_mremap+0xeb4/0x1620
[   52.890200]  ? __pfx___do_sys_mremap+0x10/0x10
[   52.890210]  ? __this_cpu_preempt_check+0x21/0x30
[   52.890224]  ? __this_cpu_preempt_check+0x21/0x30
[   52.890242]  __x64_sys_mremap+0xc7/0x150
[   52.890251]  ? syscall_trace_enter+0x14d/0x280
[   52.890266]  x64_sys_call+0x1933/0x2150
[   52.890274]  do_syscall_64+0x6d/0x2e0
[   52.890285]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.890292] RIP: 0033:0x7f9d7043ee5d
[   52.890300] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   52.890306] RSP: 002b:00007ffe35b69108 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   52.890313] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f9d7043ee5d
[   52.890317] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   52.890321] RBP: 00007ffe35b69110 R08: 000000002038d000 R09: 0000000000000001
[   52.890325] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe35b69228
[   52.890329] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f9d70847000
[   52.890342]  </TASK>
[   53.914219] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   53.914692] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1971, name: repro
[   53.915061] preempt_count: 1, expected: 0
[   53.915256] RCU nest depth: 1, expected: 0
[   53.915471] 4 locks held by repro/1971:
[   53.915661]  #0: ffff88801610c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   53.916097]  #1: ffff888026ef4188 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   53.916544]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   53.916969]  #3: ffff88802bad4558 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   53.917434] Preemption disabled at:
[   53.917437] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   53.917913] CPU: 1 UID: 0 PID: 1971 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   53.917930] Tainted: [W]=WARN
[   53.917932] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.917937] Call Trace:
[   53.917939]  <TASK>
[   53.917942]  dump_stack_lvl+0x121/0x150
[   53.917956]  dump_stack+0x19/0x20
[   53.917968]  __might_resched+0x37b/0x5a0
[   53.917979]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.917993]  __might_sleep+0xa3/0x170
[   53.918003]  ? vm_normal_folio+0x8c/0x170
[   53.918014]  __relocate_anon_folios+0xf97/0x2960
[   53.918030]  ? reacquire_held_locks+0xdd/0x1f0
[   53.918044]  ? __pfx___relocate_anon_folios+0x10/0x10
[   53.918056]  ? lock_set_class+0x17a/0x260
[   53.918070]  copy_vma_and_data+0x606/0x1790
[   53.918082]  ? percpu_counter_add_batch+0xd9/0x210
[   53.918095]  ? __pfx_copy_vma_and_data+0x10/0x10
[   53.918102]  ? vms_complete_munmap_vmas+0x525/0x810
[   53.918117]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   53.918130]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.918140]  ? mtree_range_walk+0x728/0xb70
[   53.918151]  ? __lock_acquire+0x412/0x22a0
[   53.918161]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.918171]  ? percpu_counter_add_batch+0xd9/0x210
[   53.918177]  ? debug_smp_processor_id+0x20/0x30
[   53.918189]  ? __this_cpu_preempt_check+0x21/0x30
[   53.918196]  ? lock_is_held_type+0xef/0x150
[   53.918208]  move_vma+0x689/0x1a60
[   53.918220]  ? __pfx_move_vma+0x10/0x10
[   53.918229]  ? cap_mmap_addr+0x58/0x140
[   53.918238]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   53.918248]  ? security_mmap_addr+0x63/0x1b0
[   53.918258]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.918267]  ? __get_unmapped_area+0x1a4/0x440
[   53.918279]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   53.918289]  ? vrm_set_new_addr+0x21d/0x2b0
[   53.918299]  __do_sys_mremap+0xeb4/0x1620
[   53.918309]  ? __pfx___do_sys_mremap+0x10/0x10
[   53.918319]  ? __this_cpu_preempt_check+0x21/0x30
[   53.918333]  ? __this_cpu_preempt_check+0x21/0x30
[   53.918350]  __x64_sys_mremap+0xc7/0x150
[   53.918358]  ? syscall_trace_enter+0x14d/0x280
[   53.918368]  x64_sys_call+0x1933/0x2150
[   53.918376]  do_syscall_64+0x6d/0x2e0
[   53.918387]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.918394] RIP: 0033:0x7f13d4c3ee5d
[   53.918401] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   53.918413] RSP: 002b:00007ffd7ddf59e8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   53.918420] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f13d4c3ee5d
[   53.918424] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   53.918428] RBP: 00007ffd7ddf59f0 R08: 000000002038d000 R09: 0000000000000001
[   53.918432] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd7ddf5b08
[   53.918436] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f13d5010000
[   53.918449]  </TASK>
[   54.913173] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   54.913673] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2003, name: repro
[   54.914077] preempt_count: 1, expected: 0
[   54.914292] RCU nest depth: 1, expected: 0
[   54.914511] 4 locks held by repro/2003:
[   54.914717]  #0: ffff88801bd42160 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   54.915196]  #1: ffff88802b9194b8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   54.915982]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   54.916453]  #3: ffff88802b905cd8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   54.916969] Preemption disabled at:
[   54.916971] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   54.917496] CPU: 0 UID: 0 PID: 2003 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   54.917508] Tainted: [W]=WARN
[   54.917511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.917516] Call Trace:
[   54.917519]  <TASK>
[   54.917522]  dump_stack_lvl+0x121/0x150
[   54.917537]  dump_stack+0x19/0x20
[   54.917546]  __might_resched+0x37b/0x5a0
[   54.917558]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.917574]  __might_sleep+0xa3/0x170
[   54.917584]  ? vm_normal_folio+0x8c/0x170
[   54.917596]  __relocate_anon_folios+0xf97/0x2960
[   54.917613]  ? reacquire_held_locks+0xdd/0x1f0
[   54.917627]  ? __pfx___relocate_anon_folios+0x10/0x10
[   54.917641]  ? lock_set_class+0x17a/0x260
[   54.917655]  copy_vma_and_data+0x606/0x1790
[   54.917668]  ? percpu_counter_add_batch+0xd9/0x210
[   54.917683]  ? __pfx_copy_vma_and_data+0x10/0x10
[   54.917690]  ? vms_complete_munmap_vmas+0x525/0x810
[   54.917707]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   54.917721]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.917732]  ? mtree_range_walk+0x728/0xb70
[   54.917744]  ? __lock_acquire+0x412/0x22a0
[   54.917755]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.917766]  ? percpu_counter_add_batch+0xd9/0x210
[   54.917772]  ? debug_smp_processor_id+0x20/0x30
[   54.917785]  ? __this_cpu_preempt_check+0x21/0x30
[   54.917793]  ? lock_is_held_type+0xef/0x150
[   54.917810]  move_vma+0x689/0x1a60
[   54.917822]  ? __pfx_move_vma+0x10/0x10
[   54.917832]  ? cap_mmap_addr+0x58/0x140
[   54.917842]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   54.917853]  ? security_mmap_addr+0x63/0x1b0
[   54.917863]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.917873]  ? __get_unmapped_area+0x1a4/0x440
[   54.917886]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   54.917897]  ? vrm_set_new_addr+0x21d/0x2b0
[   54.917907]  __do_sys_mremap+0xeb4/0x1620
[   54.917918]  ? __pfx___do_sys_mremap+0x10/0x10
[   54.917938]  ? __this_cpu_preempt_check+0x21/0x30
[   54.917957]  __x64_sys_mremap+0xc7/0x150
[   54.917968]  ? syscall_trace_enter+0x14d/0x280
[   54.917979]  x64_sys_call+0x1933/0x2150
[   54.917987]  do_syscall_64+0x6d/0x2e0
[   54.917999]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.918007] RIP: 0033:0x7f5f37c3ee5d
[   54.918015] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   54.918022] RSP: 002b:00007ffe8c4b1998 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   54.918029] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f5f37c3ee5d
[   54.918037] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   54.918041] RBP: 00007ffe8c4b19a0 R08: 000000002038d000 R09: 0000000000000001
[   54.918045] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe8c4b1ab8
[   54.918049] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f5f37f24000
[   54.918064]  </TASK>
[   55.932523] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   55.933021] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2035, name: repro
[   55.933425] preempt_count: 1, expected: 0
[   55.933658] RCU nest depth: 1, expected: 0
[   55.933878] 4 locks held by repro/2035:
[   55.934090]  #0: ffff88800f15c0e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   55.934581]  #1: ffff88801fc5b8f8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   55.935088]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   55.935900]  #3: ffff88802b8cec78 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   55.936408] Preemption disabled at:
[   55.936411] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   55.936932] CPU: 0 UID: 0 PID: 2035 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   55.936944] Tainted: [W]=WARN
[   55.936946] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.936952] Call Trace:
[   55.936954]  <TASK>
[   55.936957]  dump_stack_lvl+0x121/0x150
[   55.936975]  dump_stack+0x19/0x20
[   55.936985]  __might_resched+0x37b/0x5a0
[   55.936997]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.937013]  __might_sleep+0xa3/0x170
[   55.937029]  ? vm_normal_folio+0x8c/0x170
[   55.937041]  __relocate_anon_folios+0xf97/0x2960
[   55.937059]  ? reacquire_held_locks+0xdd/0x1f0
[   55.937073]  ? __pfx___relocate_anon_folios+0x10/0x10
[   55.937086]  ? lock_set_class+0x17a/0x260
[   55.937101]  copy_vma_and_data+0x606/0x1790
[   55.937114]  ? percpu_counter_add_batch+0xd9/0x210
[   55.937128]  ? __pfx_copy_vma_and_data+0x10/0x10
[   55.937136]  ? vms_complete_munmap_vmas+0x525/0x810
[   55.937152]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   55.937166]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.937177]  ? mtree_range_walk+0x728/0xb70
[   55.937189]  ? __lock_acquire+0x412/0x22a0
[   55.937200]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.937211]  ? percpu_counter_add_batch+0xd9/0x210
[   55.937217]  ? debug_smp_processor_id+0x20/0x30
[   55.937230]  ? __this_cpu_preempt_check+0x21/0x30
[   55.937238]  ? lock_is_held_type+0xef/0x150
[   55.937252]  move_vma+0x689/0x1a60
[   55.937264]  ? __pfx_move_vma+0x10/0x10
[   55.937274]  ? cap_mmap_addr+0x58/0x140
[   55.937284]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.937294]  ? security_mmap_addr+0x63/0x1b0
[   55.937305]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.937315]  ? __get_unmapped_area+0x1a4/0x440
[   55.937328]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   55.937339]  ? vrm_set_new_addr+0x21d/0x2b0
[   55.937349]  __do_sys_mremap+0xeb4/0x1620
[   55.937360]  ? __pfx___do_sys_mremap+0x10/0x10
[   55.937372]  ? __this_cpu_preempt_check+0x21/0x30
[   55.937386]  ? __this_cpu_preempt_check+0x21/0x30
[   55.937405]  __x64_sys_mremap+0xc7/0x150
[   55.937414]  ? syscall_trace_enter+0x14d/0x280
[   55.937425]  x64_sys_call+0x1933/0x2150
[   55.937433]  do_syscall_64+0x6d/0x2e0
[   55.937445]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.937452] RIP: 0033:0x7f660043ee5d
[   55.937459] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   55.937466] RSP: 002b:00007ffc37949f18 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   55.937473] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f660043ee5d
[   55.937478] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   55.937482] RBP: 00007ffc37949f20 R08: 000000002038d000 R09: 0000000000000001
[   55.937486] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc3794a038
[   55.937493] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f66007fa000
[   55.937507]  </TASK>
[   56.963008] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   56.963549] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2065, name: repro
[   56.963956] preempt_count: 1, expected: 0
[   56.964173] RCU nest depth: 1, expected: 0
[   56.964393] 4 locks held by repro/2065:
[   56.964603]  #0: ffff888012e240e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   56.965085]  #1: ffff888011ce8f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   56.965584]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   56.966056]  #3: ffff88800f00e4f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   56.966580] Preemption disabled at:
[   56.966583] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   56.967111] CPU: 0 UID: 0 PID: 2065 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   56.967123] Tainted: [W]=WARN
[   56.967125] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.967130] Call Trace:
[   56.967133]  <TASK>
[   56.967138]  dump_stack_lvl+0x121/0x150
[   56.967153]  dump_stack+0x19/0x20
[   56.967162]  __might_resched+0x37b/0x5a0
[   56.967174]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.967190]  __might_sleep+0xa3/0x170
[   56.967200]  ? vm_normal_folio+0x8c/0x170
[   56.967212]  __relocate_anon_folios+0xf97/0x2960
[   56.967229]  ? reacquire_held_locks+0xdd/0x1f0
[   56.967244]  ? __pfx___relocate_anon_folios+0x10/0x10
[   56.967257]  ? lock_set_class+0x17a/0x260
[   56.967272]  copy_vma_and_data+0x606/0x1790
[   56.967285]  ? percpu_counter_add_batch+0xd9/0x210
[   56.967299]  ? __pfx_copy_vma_and_data+0x10/0x10
[   56.967310]  ? vms_complete_munmap_vmas+0x525/0x810
[   56.967330]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   56.967348]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.967361]  ? mtree_range_walk+0x728/0xb70
[   56.967376]  ? __lock_acquire+0x412/0x22a0
[   56.967390]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.967402]  ? percpu_counter_add_batch+0xd9/0x210
[   56.967410]  ? debug_smp_processor_id+0x20/0x30
[   56.967426]  ? __this_cpu_preempt_check+0x21/0x30
[   56.967434]  ? lock_is_held_type+0xef/0x150
[   56.967451]  move_vma+0x689/0x1a60
[   56.967467]  ? __pfx_move_vma+0x10/0x10
[   56.967479]  ? cap_mmap_addr+0x58/0x140
[   56.967490]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   56.967503]  ? security_mmap_addr+0x63/0x1b0
[   56.967515]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.967528]  ? __get_unmapped_area+0x1a4/0x440
[   56.967544]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   56.967562]  ? vrm_set_new_addr+0x21d/0x2b0
[   56.967577]  __do_sys_mremap+0xeb4/0x1620
[   56.967591]  ? __pfx___do_sys_mremap+0x10/0x10
[   56.967604]  ? __this_cpu_preempt_check+0x21/0x30
[   56.967623]  ? __this_cpu_preempt_check+0x21/0x30
[   56.967648]  __x64_sys_mremap+0xc7/0x150
[   56.967658]  ? syscall_trace_enter+0x14d/0x280
[   56.967671]  x64_sys_call+0x1933/0x2150
[   56.967679]  do_syscall_64+0x6d/0x2e0
[   56.967694]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.967702] RIP: 0033:0x7fbcd6c3ee5d
[   56.967711] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   56.967718] RSP: 002b:00007ffe7d935a88 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   56.967726] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fbcd6c3ee5d
[   56.967731] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   56.967735] RBP: 00007ffe7d935a90 R08: 000000002038d000 R09: 0000000000000001
[   56.967740] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffe7d935ba8
[   56.967745] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fbcd6f85000
[   56.967763]  </TASK>
[   57.979888] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   57.980397] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2096, name: repro
[   57.980802] preempt_count: 1, expected: 0
[   57.981014] RCU nest depth: 1, expected: 0
[   57.981231] 4 locks held by repro/2096:
[   57.981437]  #0: ffff888014f40c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   57.981910]  #1: ffff8880137dc6d8 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   57.982402]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   57.982862]  #3: ffff88800ef5d4f8 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   57.983408] Preemption disabled at:
[   57.983411] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   57.983925] CPU: 0 UID: 0 PID: 2096 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   57.983937] Tainted: [W]=WARN
[   57.983940] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.983945] Call Trace:
[   57.983947]  <TASK>
[   57.983951]  dump_stack_lvl+0x121/0x150
[   57.983969]  dump_stack+0x19/0x20
[   57.983978]  __might_resched+0x37b/0x5a0
[   57.983990]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.984005]  __might_sleep+0xa3/0x170
[   57.984015]  ? vm_normal_folio+0x8c/0x170
[   57.984027]  __relocate_anon_folios+0xf97/0x2960
[   57.984044]  ? reacquire_held_locks+0xdd/0x1f0
[   57.984057]  ? __pfx___relocate_anon_folios+0x10/0x10
[   57.984070]  ? lock_set_class+0x17a/0x260
[   57.984084]  copy_vma_and_data+0x606/0x1790
[   57.984097]  ? percpu_counter_add_batch+0xd9/0x210
[   57.984115]  ? __pfx_copy_vma_and_data+0x10/0x10
[   57.984122]  ? vms_complete_munmap_vmas+0x525/0x810
[   57.984138]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   57.984153]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.984163]  ? mtree_range_walk+0x728/0xb70
[   57.984175]  ? __lock_acquire+0x412/0x22a0
[   57.984186]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.984197]  ? percpu_counter_add_batch+0xd9/0x210
[   57.984203]  ? debug_smp_processor_id+0x20/0x30
[   57.984216]  ? __this_cpu_preempt_check+0x21/0x30
[   57.984223]  ? lock_is_held_type+0xef/0x150
[   57.984237]  move_vma+0x689/0x1a60
[   57.984249]  ? __pfx_move_vma+0x10/0x10
[   57.984259]  ? cap_mmap_addr+0x58/0x140
[   57.984268]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   57.984279]  ? security_mmap_addr+0x63/0x1b0
[   57.984288]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.984299]  ? __get_unmapped_area+0x1a4/0x440
[   57.984311]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   57.984321]  ? vrm_set_new_addr+0x21d/0x2b0
[   57.984332]  __do_sys_mremap+0xeb4/0x1620
[   57.984343]  ? __pfx___do_sys_mremap+0x10/0x10
[   57.984354]  ? __this_cpu_preempt_check+0x21/0x30
[   57.984368]  ? __this_cpu_preempt_check+0x21/0x30
[   57.984388]  __x64_sys_mremap+0xc7/0x150
[   57.984396]  ? syscall_trace_enter+0x14d/0x280
[   57.984407]  x64_sys_call+0x1933/0x2150
[   57.984414]  do_syscall_64+0x6d/0x2e0
[   57.984426]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.984433] RIP: 0033:0x7fcbc183ee5d
[   57.984441] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   57.984448] RSP: 002b:00007ffc120da2d8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   57.984455] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fcbc183ee5d
[   57.984459] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   57.984463] RBP: 00007ffc120da2e0 R08: 000000002038d000 R09: 0000000000000001
[   57.984467] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc120da3f8
[   57.984471] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fcbc1b76000
[   57.984485]  </TASK>
[   58.979809] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   58.980287] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2129, name: repro
[   58.980675] preempt_count: 1, expected: 0
[   58.980881] RCU nest depth: 1, expected: 0
[   58.981090] 4 locks held by repro/2129:
[   58.981289]  #0: ffff88801bc9d5e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   58.981756]  #1: ffff888026cb4a08 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   58.982236]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   58.982664]  #3: ffff88800ef58a38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   58.983161] Preemption disabled at:
[   58.983164] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   58.983691] CPU: 0 UID: 0 PID: 2129 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   58.983703] Tainted: [W]=WARN
[   58.983705] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.983710] Call Trace:
[   58.983712]  <TASK>
[   58.983715]  dump_stack_lvl+0x121/0x150
[   58.983730]  dump_stack+0x19/0x20
[   58.983739]  __might_resched+0x37b/0x5a0
[   58.983750]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.983765]  __might_sleep+0xa3/0x170
[   58.983775]  ? vm_normal_folio+0x8c/0x170
[   58.983786]  __relocate_anon_folios+0xf97/0x2960
[   58.983803]  ? reacquire_held_locks+0xdd/0x1f0
[   58.983816]  ? __pfx___relocate_anon_folios+0x10/0x10
[   58.983829]  ? lock_set_class+0x17a/0x260
[   58.983843]  copy_vma_and_data+0x606/0x1790
[   58.983855]  ? percpu_counter_add_batch+0xd9/0x210
[   58.983869]  ? __pfx_copy_vma_and_data+0x10/0x10
[   58.983876]  ? vms_complete_munmap_vmas+0x525/0x810
[   58.983892]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   58.983906]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.983916]  ? mtree_range_walk+0x728/0xb70
[   58.983928]  ? __lock_acquire+0x412/0x22a0
[   58.983938]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.983948]  ? percpu_counter_add_batch+0xd9/0x210
[   58.983955]  ? debug_smp_processor_id+0x20/0x30
[   58.983971]  ? __this_cpu_preempt_check+0x21/0x30
[   58.983978]  ? lock_is_held_type+0xef/0x150
[   58.983991]  move_vma+0x689/0x1a60
[   58.984003]  ? __pfx_move_vma+0x10/0x10
[   58.984012]  ? cap_mmap_addr+0x58/0x140
[   58.984022]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   58.984032]  ? security_mmap_addr+0x63/0x1b0
[   58.984042]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.984052]  ? __get_unmapped_area+0x1a4/0x440
[   58.984064]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   58.984074]  ? vrm_set_new_addr+0x21d/0x2b0
[   58.984084]  __do_sys_mremap+0xeb4/0x1620
[   58.984094]  ? __pfx___do_sys_mremap+0x10/0x10
[   58.984105]  ? __this_cpu_preempt_check+0x21/0x30
[   58.984119]  ? __this_cpu_preempt_check+0x21/0x30
[   58.984137]  __x64_sys_mremap+0xc7/0x150
[   58.984145]  ? syscall_trace_enter+0x14d/0x280
[   58.984156]  x64_sys_call+0x1933/0x2150
[   58.984163]  do_syscall_64+0x6d/0x2e0
[   58.984177]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.984184] RIP: 0033:0x7fe29ec3ee5d
[   58.984192] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   58.984198] RSP: 002b:00007ffc71772028 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   58.984205] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fe29ec3ee5d
[   58.984209] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   58.984213] RBP: 00007ffc71772030 R08: 000000002038d000 R09: 0000000000000001
[   58.984217] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffc71772148
[   58.984221] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fe29ee74000
[   58.984234]  </TASK>
[   59.995801] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   59.996244] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2164, name: repro
[   59.996591] preempt_count: 1, expected: 0
[   59.996779] RCU nest depth: 1, expected: 0
[   59.996975] 4 locks held by repro/2164:
[   59.997159]  #0: ffff8880160501e0 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   59.997574]  #1: ffff888015399f58 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   59.998005]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   59.998418]  #3: ffff88802b427a38 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   59.998863] Preemption disabled at:
[   59.998866] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   59.999346] CPU: 0 UID: 0 PID: 2164 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   59.999357] Tainted: [W]=WARN
[   59.999359] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.999364] Call Trace:
[   59.999366]  <TASK>
[   59.999369]  dump_stack_lvl+0x121/0x150
[   59.999383]  dump_stack+0x19/0x20
[   59.999391]  __might_resched+0x37b/0x5a0
[   59.999402]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.999419]  __might_sleep+0xa3/0x170
[   59.999428]  ? vm_normal_folio+0x8c/0x170
[   59.999439]  __relocate_anon_folios+0xf97/0x2960
[   59.999454]  ? reacquire_held_locks+0xdd/0x1f0
[   59.999466]  ? __pfx___relocate_anon_folios+0x10/0x10
[   59.999477]  ? lock_set_class+0x17a/0x260
[   59.999490]  copy_vma_and_data+0x606/0x1790
[   59.999502]  ? percpu_counter_add_batch+0xd9/0x210
[   59.999514]  ? __pfx_copy_vma_and_data+0x10/0x10
[   59.999521]  ? vms_complete_munmap_vmas+0x525/0x810
[   59.999535]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   59.999548]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.999558]  ? mtree_range_walk+0x728/0xb70
[   59.999568]  ? __lock_acquire+0x412/0x22a0
[   59.999578]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.999587]  ? percpu_counter_add_batch+0xd9/0x210
[   59.999595]  ? debug_smp_processor_id+0x20/0x30
[   59.999607]  ? __this_cpu_preempt_check+0x21/0x30
[   59.999614]  ? lock_is_held_type+0xef/0x150
[   59.999626]  move_vma+0x689/0x1a60
[   59.999637]  ? __pfx_move_vma+0x10/0x10
[   59.999646]  ? cap_mmap_addr+0x58/0x140
[   59.999655]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   59.999664]  ? security_mmap_addr+0x63/0x1b0
[   59.999673]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.999682]  ? __get_unmapped_area+0x1a4/0x440
[   59.999693]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   59.999703]  ? vrm_set_new_addr+0x21d/0x2b0
[   59.999712]  __do_sys_mremap+0xeb4/0x1620
[   59.999722]  ? __pfx___do_sys_mremap+0x10/0x10
[   59.999739]  ? __this_cpu_preempt_check+0x21/0x30
[   59.999755]  __x64_sys_mremap+0xc7/0x150
[   59.999763]  ? syscall_trace_enter+0x14d/0x280
[   59.999773]  x64_sys_call+0x1933/0x2150
[   59.999780]  do_syscall_64+0x6d/0x2e0
[   59.999790]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.999796] RIP: 0033:0x7f69c5c3ee5d
[   59.999803] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   59.999809] RSP: 002b:00007ffd21968188 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   59.999816] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f69c5c3ee5d
[   59.999820] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   59.999823] RBP: 00007ffd21968190 R08: 000000002038d000 R09: 0000000000000001
[   59.999827] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffd219682a8
[   59.999831] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007f69c5ed0000
[   59.999843]  </TASK>
[   61.022704] BUG: sleeping function called from invalid context at ./include/linux/pagemap.h:1112
[   61.023183] in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 2200, name: repro
[   61.023847] preempt_count: 1, expected: 0
[   61.024037] RCU nest depth: 1, expected: 0
[   61.024230] 4 locks held by repro/2200:
[   61.024424]  #0: ffff888017a00c60 (&mm->mmap_lock){++++}-{4:4}, at: __do_sys_mremap+0x42e/0x1620
[   61.024879]  #1: ffff88802b730d38 (&anon_vma->rwsem/1){+.+.}-{4:4}, at: copy_vma_and_data+0x541/0x1790
[   61.025350]  #2: ffffffff8725c780 (rcu_read_lock){....}-{1:3}, at: ___pte_offset_map+0x3f/0x6c0
[   61.025789]  #3: ffff88802b73b498 (ptlock_ptr(ptdesc)#2){+.+.}-{3:3}, at: __pte_offset_map_lock+0x1a2/0x3c0
[   61.026283] Preemption disabled at:
[   61.026286] [<ffffffff81e100b2>] __pte_offset_map_lock+0x1a2/0x3c0
[   61.026781] CPU: 0 UID: 0 PID: 2200 Comm: repro Tainted: G        W           6.16.0-rc2-4b8b5e749745+ #1 PREEMPT(voluntary) 
[   61.026801] Tainted: [W]=WARN
[   61.026803] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.026808] Call Trace:
[   61.026810]  <TASK>
[   61.026813]  dump_stack_lvl+0x121/0x150
[   61.026828]  dump_stack+0x19/0x20
[   61.026839]  __might_resched+0x37b/0x5a0
[   61.026851]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   61.026865]  __might_sleep+0xa3/0x170
[   61.026875]  ? vm_normal_folio+0x8c/0x170
[   61.026886]  __relocate_anon_folios+0xf97/0x2960
[   61.026902]  ? reacquire_held_locks+0xdd/0x1f0
[   61.026915]  ? __pfx___relocate_anon_folios+0x10/0x10
[   61.026927]  ? lock_set_class+0x17a/0x260
[   61.026940]  copy_vma_and_data+0x606/0x1790
[   61.026952]  ? percpu_counter_add_batch+0xd9/0x210
[   61.026969]  ? __pfx_copy_vma_and_data+0x10/0x10
[   61.026976]  ? vms_complete_munmap_vmas+0x525/0x810
[   61.026991]  ? __pfx_do_vmi_align_munmap+0x10/0x10
[   61.027004]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   61.027014]  ? mtree_range_walk+0x728/0xb70
[   61.027025]  ? __lock_acquire+0x412/0x22a0
[   61.027035]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.027045]  ? percpu_counter_add_batch+0xd9/0x210
[   61.027051]  ? debug_smp_processor_id+0x20/0x30
[   61.027063]  ? __this_cpu_preempt_check+0x21/0x30
[   61.027070]  ? lock_is_held_type+0xef/0x150
[   61.027083]  move_vma+0x689/0x1a60
[   61.027094]  ? __pfx_move_vma+0x10/0x10
[   61.027103]  ? cap_mmap_addr+0x58/0x140
[   61.027112]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   61.027122]  ? security_mmap_addr+0x63/0x1b0
[   61.027131]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   61.027141]  ? __get_unmapped_area+0x1a4/0x440
[   61.027152]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[   61.027162]  ? vrm_set_new_addr+0x21d/0x2b0
[   61.027172]  __do_sys_mremap+0xeb4/0x1620
[   61.027182]  ? __pfx___do_sys_mremap+0x10/0x10
[   61.027192]  ? __this_cpu_preempt_check+0x21/0x30
[   61.027205]  ? __this_cpu_preempt_check+0x21/0x30
[   61.027223]  __x64_sys_mremap+0xc7/0x150
[   61.027231]  ? syscall_trace_enter+0x14d/0x280
[   61.027242]  x64_sys_call+0x1933/0x2150
[   61.027249]  do_syscall_64+0x6d/0x2e0
[   61.027260]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.027267] RIP: 0033:0x7fac8d23ee5d
[   61.027274] Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
[   61.027280] RSP: 002b:00007ffca578bba8 EFLAGS: 00000217 ORIG_RAX: 0000000000000019
[   61.027286] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fac8d23ee5d
[   61.027291] RDX: 0000000000002000 RSI: 0000000000002000 RDI: 000000002022e000
[   61.027294] RBP: 00007ffca578bbb0 R08: 000000002038d000 R09: 0000000000000001
[   61.027298] R10: 000000000000000f R11: 0000000000000217 R12: 00007ffca578bcc8
[   61.027308] R13: 0000000000401126 R14: 0000000000403e08 R15: 00007fac8d60e000
[   61.027325]  </TASK>

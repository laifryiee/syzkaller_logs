c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.11.0-673a5009cf2f+ (root@p-mtlsx) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-2), GNU ld version 2.35.2-54.el9) #1 SMP PREEMPT_DYNAMIC Wed Oct  2 03:46:22 CST 2024
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000003] kvm-clock: using sched offset of 885194092 cycles
[    0.000421] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001712] tsc: Detected 2380.800 MHz processor
[    0.008618] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.009086] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.009755] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.018889] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.019391] Using GB pages for direct mapping
[    0.021953] ACPI: Early table checksum verification disabled
[    0.022407] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.022860] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023531] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024197] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024852] ACPI: FACS 0x000000007FFE0000 000040
[    0.025218] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025877] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.026551] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.027203] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.027734] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.028266] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.028793] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.029324] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.029854] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.030875] No NUMA configuration found
[    0.031171] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.031705] NODE_DATA(0) allocated [mem 0x7ffb5180-0x7ffdfdff]
[    0.032611] Zone ranges:
[    0.032807]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.033283]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.033764]   Normal   empty
[    0.033989]   Device   empty
[    0.034212] Movable zone start for each node
[    0.034536] Early memory node ranges
[    0.034807]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.035282]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.035755] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.036785] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.037511] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.121454] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.510535] kasan: KernelAddressSanitizer initialized
[    0.511318] ACPI: PM-Timer IO Port: 0x608
[    0.511831] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.512470] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.513158] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.513773] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.514412] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.515127] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.515950] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.516619] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.517248] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.517761] TSC deadline timer available
[    0.518141] CPU topo: Max. logical packages:   1
[    0.518574] CPU topo: Max. logical dies:       1
[    0.519006] CPU topo: Max. dies per package:   1
[    0.519439] CPU topo: Max. threads per core:   1
[    0.519871] CPU topo: Num. cores per package:     2
[    0.520324] CPU topo: Num. threads per package:   2
[    0.520778] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.521428] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.522264] kvm-guest: KVM setup pv remote TLB flush
[    0.522716] kvm-guest: setup PV sched yield
[    0.523156] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.523849] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
[    0.524534] PM: hibernation: Registered nosave memory: [mem 0x000a0000-0x000effff]
[    0.525217] PM: hibernation: Registered nosave memory: [mem 0x000f0000-0x000fffff]
[    0.526149] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.526703] Booting paravirtualized kernel on KVM
[    0.527136] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.528070] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.530254] percpu: Embedded 85 pages/cpu s311296 r8192 d28672 u1048576
[    0.531036] kvm-guest: PV spinlocks enabled
[    0.531421] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.532312] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.533843] random: crng init done
[    0.535421] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.536612] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.537588] Fallback order for Node 0: 0 
[    0.537606] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.538719] Policy zone: DMA32
[    0.538978] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.539487] stackdepot: allocating hash table via alloc_large_system_hash
[    0.540044] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.611198] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.611746] kmemleak: Kernel memory leak detector disabled
[    0.612415] ftrace: allocating 72376 entries in 283 pages
[    0.647190] ftrace: allocated 283 pages with 5 groups
[    0.650927] Dynamic Preempt: voluntary
[    0.651623] Running RCU self tests
[    0.651881] Running RCU synchronous self tests
[    0.652211] rcu: Preemptible hierarchical RCU implementation.
[    0.652667] rcu: 	RCU lockdep checking is enabled.
[    0.653131] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.653643] 	Trampoline variant of Tasks RCU enabled.
[    0.654015] 	Rude variant of Tasks RCU enabled.
[    0.654346] 	Tracing variant of Tasks RCU enabled.
[    0.654696] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.655247] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.655809] Running RCU synchronous self tests
[    0.656142] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.656775] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.657439] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.685669] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.687412] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.695132] Console: colour VGA+ 80x25
[    0.695453] printk: legacy console [ttyS0] enabled
[    0.695453] printk: legacy console [ttyS0] enabled
[    0.696075] printk: legacy bootconsole [earlyser0] disabled
[    0.696075] printk: legacy bootconsole [earlyser0] disabled
[    0.696786] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.697277] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.697550] ... MAX_LOCK_DEPTH:          48
[    0.697822] ... MAX_LOCKDEP_KEYS:        8192
[    0.698105] ... CLASSHASH_SIZE:          4096
[    0.698387] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.698678] ... MAX_LOCKDEP_CHAINS:      524288
[    0.698969] ... CHAINHASH_SIZE:          262144
[    0.699266]  memory used by lock dependency info: 54145 kB
[    0.699615]  memory used for stack traces: 4224 kB
[    0.699928]  per task-struct memory footprint: 1920 bytes
[    0.700358] ACPI: Core revision 20240827
[    0.701010] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.701750] APIC: Switch to symmetric I/O mode setup
[    0.702218] x2apic enabled
[    0.702730] APIC: Switched APIC routing to: physical x2apic
[    0.703096] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.703572] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.704150] kvm-guest: setup PV IPIs
[    0.705299] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.705780] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    0.706536] Calibrating delay loop (skipped) preset value.. 4761.60 BogoMIPS (lpj=9523200)
[    0.710954] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.715236] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.715652] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.716131] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.716687] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.717408] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.717897] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.718543] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    0.719048] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.719515] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.720034] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.720554] MMIO Stale Data: Unknown: No mitigations
[    0.720910] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.721404] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.721806] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.722525] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.723025] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.723421] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.723813] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.869647] Freeing SMP alternatives memory: 56K
[    0.869996] pid_max: default: 32768 minimum: 301
[    0.870698] LSM: initializing lsm=capability,yama,ima,evm
[    0.871201] Yama: becoming mindful.
[    0.871993] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.872479] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.875545] Running RCU synchronous self tests
[    0.875853] Running RCU synchronous self tests
[    0.876606] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xac, stepping: 0x0)
[    0.878377] Running RCU Tasks wait API self tests
[    0.978749] Running RCU Tasks Rude wait API self tests
[    0.979663] Running RCU Tasks Trace wait API self tests
[    0.980439] Performance Events: Meteorlake Hybrid events, full-width counters, Intel PMU driver.
[    0.983104] ------------[ cut here ]------------
[    0.983696] WARNING: CPU: 0 PID: 1 at arch/x86/events/intel/core.c:4948 intel_pmu_cpu_starting+0x1366/0x1c30
[    0.984946] Modules linked in:
[    0.985351] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-673a5009cf2f+ #1
[    0.986306] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.986546] RIP: 0010:intel_pmu_cpu_starting+0x1366/0x1c30
[    0.987247] Code: 00 00 e8 9d 6e 0c 02 e9 4d ef ff ff e8 63 2f 63 00 be 0e 00 00 00 bf d9 01 00 00 e8 f4 6f 0c 02 e9 34 ef ff ff e8 4a 2f 63 00 <0f> 0b 48 8b 85 08 ff ff ff 48 8d b8 48 14 00 00 48 b8 00 00 00 00
[    0.989500] RSP: 0000:ffff88800dc5fa50 EFLAGS: 00010293
[    0.990167] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8103f601
[    0.990532] RDX: ffff88800dc52500 RSI: ffffffff810404e6 RDI: 0000000000000001
[    0.991412] RBP: ffff88800dc5fb80 R08: 0000000000000000 R09: fffffbfff0f92df8
[    0.992264] R10: 0000000000000000 R11: 0000000000000001 R12: 0000000000000000
[    0.993101] R13: 000000000000006b R14: ffffffff810125e0 R15: 0000000000000000
[    0.993934] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[    0.994531] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[    0.995219] CR2: ffff88800d001000 CR3: 0000000006e82001 CR4: 0000000000770ef0
[    0.996068] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[    0.996905] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[    0.997737] PKRU: 55555554
[    0.998066] Call Trace:
[    0.998367]  <TASK>
[    0.998535]  ? show_regs+0x6d/0x80
[    0.998975]  ? __warn+0xf3/0x380
[    0.999387]  ? report_bug+0x25e/0x4b0
[    0.999864]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.000449]  ? report_bug+0x2cb/0x4b0
[    1.000906]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.001493]  ? intel_pmu_cpu_starting+0x1367/0x1c30
[    1.002081]  ? handle_bug+0xf1/0x190
[    1.002538]  ? exc_invalid_op+0x3c/0x80
[    1.003002]  ? asm_exc_invalid_op+0x1f/0x30
[    1.003504]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    1.004083]  ? intel_pmu_cpu_starting+0x481/0x1c30
[    1.004635]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.005196]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.005775]  ? __pfx___lock_acquire+0x10/0x10
[    1.006279]  ? __pfx___lock_acquire+0x10/0x10
[    1.006540]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    1.007130]  ? debug_smp_processor_id+0x20/0x30
[    1.007657]  ? rcu_is_watching+0x19/0xc0
[    1.008125]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    1.008707]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    1.009277]  x86_pmu_starting_cpu+0x2e/0x50
[    1.009765]  cpuhp_invoke_callback+0x3cf/0x9d0
[    1.010291]  cpuhp_issue_call+0x1a8/0x8b0
[    1.010530]  ? __pfx_lock_acquire+0x10/0x10
[    1.011023]  ? cpuhp_issue_call+0x1fa/0x8b0
[    1.011515]  __cpuhp_setup_state_cpuslocked+0x3ac/0x800
[    1.012113]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    1.012647]  ? x86_pmu_prepare_cpu+0x83/0xf0
[    1.013133]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    1.013674]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    1.014248]  __cpuhp_setup_state+0x105/0x310
[    1.014537]  init_hw_perf_events+0x65e/0xab0
[    1.015039]  ? __pfx_init_hw_perf_events+0x10/0x10
[    1.015568]  do_one_initcall+0x114/0x5d0
[    1.016002]  ? __this_cpu_preempt_check+0x21/0x30
[    1.016513]  ? __pfx_do_one_initcall+0x10/0x10
[    1.017019]  ? debug_smp_processor_id+0x20/0x30
[    1.017515]  ? rcu_is_watching+0x19/0xc0
[    1.017955]  kernel_init_freeable+0x8e4/0xeb0
[    1.018447]  ? __pfx_kernel_init+0x10/0x10
[    1.018535]  kernel_init+0x28/0x2f0
[    1.018922]  ? __pfx_kernel_init+0x10/0x10
[    1.019376]  ret_from_fork+0x56/0x90
[    1.019786]  ? __pfx_kernel_init+0x10/0x10
[    1.020239]  ret_from_fork_asm+0x1a/0x30
[    1.020697]  </TASK>
[    1.020945] irq event stamp: 2499
[    1.021308] hardirqs last  enabled at (2507): [<ffffffff81457355>] __up_console_sem+0x95/0xb0
[    1.022232] hardirqs last disabled at (2514): [<ffffffff8145733a>] __up_console_sem+0x7a/0xb0
[    1.022530] softirqs last  enabled at (2530): [<ffffffff812887e9>] __irq_exit_rcu+0xa9/0x120
[    1.023399] softirqs last disabled at (2523): [<ffffffff812887e9>] __irq_exit_rcu+0xa9/0x120
[    1.024259] ---[ end trace 0000000000000000 ]---
[    1.024765] Callback from call_rcu_tasks_trace() invoked.
[    1.025472] signal: max sigframe size: 3632
[    1.026618] rcu: Hierarchical SRCU implementation.
[    1.027137] rcu: 	Max phase no-delay instances is 1000.
[    1.028155] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    1.032960] NMI watchdog: Perf NMI watchdog permanently disabled
[    1.033936] smp: Bringing up secondary CPUs ...
[    1.047241] smpboot: x86: Booting SMP configuration:
[    1.047837] .... node  #0, CPUs:      #1
[    1.048127] smp: Brought up 1 node, 2 CPUs
[    1.050982] smpboot: Total of 2 processors activated (9523.20 BogoMIPS)
[    1.052837] Memory: 1552200K/2096632K available (77824K kernel code, 14985K rwdata, 17756K rodata, 15440K init, 69628K bss, 537212K reserved, 0K cma-reserved)
[    1.058986] devtmpfs: initialized
[    1.059278] x86/mm: Memory block size: 128MB
[    1.086772] Running RCU synchronous self tests
[    1.087452] Running RCU synchronous self tests
[    1.088130] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    1.088130] futex hash table entries: 512 (order: 4, 65536 bytes, linear)
[    1.091507] pinctrl core: initialized pinctrl subsystem
[    1.093738] 
[    1.093980] *************************************************************
[    1.094536] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.095445] **                                                         **
[    1.096358] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    1.097268] **                                                         **
[    1.098172] ** This means that this kernel is built to expose internal **
[    1.098533] ** IOMMU data structures, which may compromise security on **
[    1.099446] ** your system.                                            **
[    1.100359] **                                                         **
[    1.101222] ** If you see this message and you are not debugging the   **
[    1.102082] ** kernel, report this immediately to your vendor!         **
[    1.102532] **                                                         **
[    1.103394] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.104254] *************************************************************
[    1.105237] PM: RTC time: 19:50:26, date: 2024-10-01
[    1.112144] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    1.116693] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    1.117913] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.118611] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.120029] audit: initializing netlink subsys (disabled)
[    1.120894] audit: type=2000 audit(1727812226.153:1): state=initialized audit_enabled=0 res=1
[    1.124482] thermal_sys: Registered thermal governor 'fair_share'
[    1.124501] thermal_sys: Registered thermal governor 'bang_bang'
[    1.125408] thermal_sys: Registered thermal governor 'step_wise'
[    1.126294] thermal_sys: Registered thermal governor 'user_space'
[    1.126604] cpuidle: using governor ladder
[    1.128083] cpuidle: using governor menu
[    1.130726] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.133147] PCI: Using configuration type 1 for base access
[    1.134906] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    1.191043] Callback from call_rcu_tasks() invoked.
[    1.357955] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.358537] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.359432] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.360341] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.373970] ACPI: Added _OSI(Module Device)
[    1.374567] ACPI: Added _OSI(Processor Device)
[    1.375152] ACPI: Added _OSI(3.0 _SCP Extensions)
[    1.375765] ACPI: Added _OSI(Processor Aggregator Device)
[    1.397723] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.410565] ACPI: Interpreter enabled
[    1.411215] ACPI: PM: (supports S0 S3 S4 S5)
[    1.411688] ACPI: Using IOAPIC for interrupt routing
[    1.412370] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.413333] PCI: Using E820 reservations for host bridge windows
[    1.416118] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.459388] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.459932] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.460542] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.461429] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.466528] acpiphp: Slot [3] registered
[    1.466928] acpiphp: Slot [4] registered
[    1.467350] acpiphp: Slot [5] registered
[    1.467774] acpiphp: Slot [6] registered
[    1.468208] acpiphp: Slot [7] registered
[    1.468614] acpiphp: Slot [8] registered
[    1.469022] acpiphp: Slot [9] registered
[    1.469408] acpiphp: Slot [10] registered
[    1.469796] acpiphp: Slot [11] registered
[    1.470175] acpiphp: Slot [12] registered
[    1.470579] acpiphp: Slot [13] registered
[    1.470974] acpiphp: Slot [14] registered
[    1.471454] acpiphp: Slot [15] registered
[    1.471909] acpiphp: Slot [16] registered
[    1.472384] acpiphp: Slot [17] registered
[    1.472816] acpiphp: Slot [18] registered
[    1.473255] acpiphp: Slot [19] registered
[    1.473682] acpiphp: Slot [20] registered
[    1.474131] acpiphp: Slot [21] registered
[    1.474576] acpiphp: Slot [22] registered
[    1.475158] acpiphp: Slot [23] registered
[    1.475691] acpiphp: Slot [24] registered
[    1.476147] acpiphp: Slot [25] registered
[    1.476578] acpiphp: Slot [26] registered
[    1.477001] acpiphp: Slot [27] registered
[    1.477433] acpiphp: Slot [28] registered
[    1.477884] acpiphp: Slot [29] registered
[    1.478306] acpiphp: Slot [30] registered
[    1.478654] acpiphp: Slot [31] registered
[    1.479049] PCI host bridge to bus 0000:00
[    1.479437] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.479974] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.480503] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.481088] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.481809] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.482407] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.482666] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.490957] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.492664] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.494512] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.495431] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.495965] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.496446] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.496973] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.497822] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.498730] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.499300] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.500231] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.506953] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.510210] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.516367] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.517472] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.526029] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.527010] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.527944] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.530531] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.546838] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.548211] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.549436] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.550661] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.551447] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.555196] iommu: Default domain type: Translated
[    1.555598] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.558503] SCSI subsystem initialized
[    1.559114] ACPI: bus type USB registered
[    1.559637] usbcore: registered new interface driver usbfs
[    1.560130] usbcore: registered new interface driver hub
[    1.560611] usbcore: registered new device driver usb
[    1.561284] pps_core: LinuxPPS API ver. 1 registered
[    1.561675] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.562401] PTP clock support registered
[    1.563020] EDAC MC: Ver: 3.0.0
[    1.566504] NetLabel: Initializing
[    1.566535] NetLabel:  domain hash size = 128
[    1.566883] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.567483] NetLabel:  unlabeled traffic allowed by default
[    1.568615] PCI: Using ACPI for IRQ routing
[    1.569312] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.569800] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.570247] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.570532] vgaarb: loaded
[    1.571542] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.571944] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.578923] clocksource: Switched to clocksource kvm-clock
[    1.581152] VFS: Disk quotas dquot_6.6.0
[    1.581531] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.590614] pnp: PnP ACPI init
[    1.594024] pnp: PnP ACPI: found 6 devices
[    1.610943] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.612096] NET: Registered PF_INET protocol family
[    1.612751] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.614821] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.615556] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.616220] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.617232] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.619917] TCP: Hash tables configured (established 16384 bind 16384)
[    1.620612] UDP hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.621263] UDP-Lite hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.622233] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.623757] RPC: Registered named UNIX socket transport module.
[    1.624248] RPC: Registered udp transport module.
[    1.624615] RPC: Registered tcp transport module.
[    1.624980] RPC: Registered tcp-with-tls transport module.
[    1.625407] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.625935] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.626463] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.626946] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.627490] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.628025] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.628983] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.629451] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.629991] PCI: CLS 0 bytes, default 64
[    1.630893] ACPI: bus type thunderbolt registered
[    1.631609] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    3.202259] Initialise system trusted keyrings
[    3.203155] Key type blacklist registered
[    3.204689] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.205703] zbud: loaded
[    3.210167] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.213787] NFS: Registering the id_resolver key type
[    3.214564] Key type id_resolver registered
[    3.215147] Key type id_legacy registered
[    3.215807] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.216776] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.218362] fuse: init (API version 7.40)
[    3.220022] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.224326] 9p: Installing v9fs 9p2000 file system support
[    3.250186] Key type asymmetric registered
[    3.250804] Asymmetric key parser 'x509' registered
[    3.251834] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 243)
[    3.253636] io scheduler mq-deadline registered
[    3.254536] io scheduler bfq registered
[    3.257218] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4
[    3.259616] IPMI message handler: version 39.2
[    3.260416] ipmi device interface
[    3.265265] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.267323] ACPI: button: Power Button [PWRF]
[    3.270815] ERST DBG: ERST support is disabled.
[    3.273464] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.277329] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.329474] Linux agpgart interface v0.103
[    3.334304] ACPI: bus type drm_connector registered
[    3.366652] brd: module loaded
[    3.385126] loop: module loaded
[    3.399610] scsi host0: ata_piix
[    3.401643] scsi host1: ata_piix
[    3.402549] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.403328] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.407104] tun: Universal TUN/TAP device driver, 1.6
[    3.408302] e100: Intel(R) PRO/100 Network Driver
[    3.408767] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.409427] e1000: Intel(R) PRO/1000 Network Driver
[    3.409905] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.558509] ata2: found unknown device (class 0)
[    3.560106] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.561819] ata1: found unknown device (class 0)
[    3.563147] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.563939] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.566687] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.627009] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.629495] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.631550] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.632932] sd 0:0:0:0: [sda] Write Protect is off
[    3.634000] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.635762] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.652512] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    3.660827] sd 0:0:0:0: [sda] Attached SCSI disk
[    3.987079] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.289181] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.289658] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.290221] e1000e: Intel(R) PRO/1000 Network Driver
[    4.290544] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.291011] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.291359] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.291891] PPP generic driver version 2.4.2
[    4.293572] VFIO - User Level meta-driver version: 0.3
[    4.296649] usbcore: registered new interface driver uas
[    4.297053] usbcore: registered new interface driver usb-storage
[    4.297687] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.299193] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.299582] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.301120] mousedev: PS/2 mouse device common for all mice
[    4.302876] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.303714] rtc_cmos 00:05: RTC can wake from S4
[    4.305498] rtc_cmos 00:05: registered as rtc0
[    4.305859] rtc_cmos 00:05: setting system clock to 2024-10-01T19:50:29 UTC (1727812229)
[    4.307164] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.308074] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.308869] i2c_dev: i2c /dev entries driver
[    4.309249] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.310025] device-mapper: uevent: version 1.0.3
[    4.311806] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.312898] device-mapper: ioctl: 4.48.0-ioctl (2023-03-01) initialised: dm-devel@lists.linux.dev
[    4.314240] intel_pstate: CPU model not supported
[    4.315357] sdhci: Secure Digital Host Controller Interface driver
[    4.316202] sdhci: Copyright(c) Pierre Ossman
[    4.317052] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.318028] ledtrig-cpu: registered to indicate activity on CPUs
[    4.319847] drop_monitor: Initializing network drop monitor service
[    4.321539] NET: Registered PF_INET6 protocol family
[    4.327975] Segment Routing with IPv6
[    4.328320] In-situ OAM (IOAM) with IPv6
[    4.328640] NET: Registered PF_PACKET protocol family
[    4.329521] 9pnet: Installing 9P2000 support
[    4.330337] Key type dns_resolver registered
[    4.333585] IPI shorthand broadcast: enabled
[    4.405645] sched_clock: Marking stable (4388011155, 14051674)->(4450941361, -48878532)
[    4.410142] registered taskstats version 1
[    4.411951] Loading compiled-in X.509 certificates
[    4.497223] Demotion targets for Node 0: null
[    4.500714] Key type .fscrypt registered
[    4.501295] Key type fscrypt-provisioning registered
[    4.509891] Key type encrypted registered
[    4.510717] ima: No TPM chip found, activating TPM-bypass!
[    4.511559] ima: Allocated hash algorithm: sha1
[    4.512467] ima: No architecture policies found
[    4.513554] evm: Initialising EVM extended attributes:
[    4.514517] evm: security.selinux
[    4.515091] evm: security.SMACK64
[    4.515687] evm: security.SMACK64EXEC
[    4.516320] evm: security.SMACK64TRANSMUTE
[    4.516911] evm: security.SMACK64MMAP
[    4.517445] evm: security.apparmor
[    4.517939] evm: security.ima
[    4.518394] evm: security.capability
[    4.518919] evm: HMAC attrs: 0x1
[    4.523820] PM:   Magic number: 12:901:848
[    4.526346] RAS: Correctable Errors collector initialized.
[    4.527518] clk: Disabling unused clocks
[    4.528692] PM: genpd: Disabling unused power domains
[    4.530672] md: Waiting for all devices to be available before autodetect
[    4.531317] md: If you don't use raid, use raid=noautodetect
[    4.531858] md: Autodetecting RAID arrays.
[    4.532274] md: autorun ...
[    4.532561] md: ... autorun DONE.
[    4.556102] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.557377] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.562766] devtmpfs: mounted
[    4.595970] Freeing unused decrypted memory: 2028K
[    4.610844] Freeing unused kernel image (initmem) memory: 15440K
[    4.611669] Write protecting the kernel read-only data: 96256k
[    4.616892] Freeing unused kernel image (rodata/data gap) memory: 676K
[    4.743965] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.744639] Run /sbin/init as init process
[    5.045576] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    5.049085] systemd[1]: Detected virtualization kvm.
[    5.049585] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    5.059323] systemd[1]: Hostname set to <test>.
[    5.427837] systemd-rc-local-generator[124]: /etc/rc.d/rc.local is not marked executable, skipping.
[    5.870684] systemd[1]: Queued start job for default target Multi-User System.
[    5.915678] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    5.925716] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    5.931021] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    5.936704] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    5.942699] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    5.947699] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    5.950219] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password R…uests to Wall Directory Watch[0m.
[    5.954232] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitrary…s File System Automount Point[0m.
[    5.956526] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    5.958482] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    5.959955] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    5.961278] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    5.963651] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    5.966818] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    5.968897] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    6.049679] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    6.052010] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    6.058411] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    6.060981] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    6.064170] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    6.067429] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    6.070441] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    6.072761] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    6.131050] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    6.146752] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    6.183493] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    6.198673] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    6.200874] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    6.204572] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.11.0-673a5009cf2f+/modules.devname).
[    6.219839] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVM…meventd or progress polling[0m...
[    6.234575] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    6.249087] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    6.280410] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    6.309519] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS …from /etc/sysconfig/network[0m...
[    6.351341] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    6.390970] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    6.441609] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network …ts from Kernel command line[0m...
[    6.462769] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    6.475782] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    6.502535] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    6.550235] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    6.551654] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    6.554589] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    6.558765] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    6.561002] systemd[1]: Finished Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVM… dmeventd or progress polling[0m.
[    6.583072] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    6.584291] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    6.588221] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS …e from /etc/sysconfig/network[0m.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
         Mounting [0;1;39mFUSE Control File System[0m...
         Mounting [0;1;39mKernel Configuration File System[0m...
         Starting [0;1;39mApply Kernel Variables[0m...
[    6.654101] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w. Quota mode: none.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
[    6.759071] systemd-journald[146]: Received client request to flush runtime journal.
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manage…for Device Events and Files[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to s…E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to s…VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password …ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
         Starting [0;1;39mWait for udev To …plete Device Initialization[0m...
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF …itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberos…ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine a…tainer Registration Service[0m...
         Starting [0;1;39mupdate of the roo…NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine an…ontainer Registration Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the roo… DNSSEC validation in unbound[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[   10.682328] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.11.0-673a5009cf2f+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   23.964151] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#1] PREEMPT SMP KASAN NOPTI
[   23.965465] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   23.966320] CPU: 0 UID: 0 PID: 1059 Comm: repro Tainted: G        W          6.11.0-673a5009cf2f+ #1
[   23.967181] Tainted: [W]=WARN
[   23.967468] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.968484] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   23.969069] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   23.970707] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   23.971213] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   23.971856] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   23.972508] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   23.973184] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   23.973824] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   23.974466] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   23.975247] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   23.975783] CR2: 00007f2e143fca50 CR3: 000000001ba46004 CR4: 0000000000770ef0
[   23.976437] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   23.977093] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   23.977724] PKRU: 55555554
[   23.977981] Call Trace:
[   23.978221]  <TASK>
[   23.978434]  ? show_regs+0x6d/0x80
[   23.978824]  ? die_addr+0x45/0xb0
[   23.979193]  ? exc_general_protection+0x1ae/0x340
[   23.979675]  ? asm_exc_general_protection+0x2b/0x30
[   23.980168]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   23.980663]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   23.981160]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   23.981652]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   23.982137]  zap_huge_pmd+0x48e/0xd40
[   23.982525]  unmap_page_range+0x1ad6/0x4360
[   23.983000]  ? __pfx_unmap_page_range+0x10/0x10
[   23.983450]  ? __this_cpu_preempt_check+0x21/0x30
[   23.983914]  unmap_single_vma+0x1ac/0x2d0
[   23.984319]  unmap_vmas+0x210/0x470
[   23.984672]  ? __pfx_unmap_vmas+0x10/0x10
[   23.985076]  ? __pfx_lock_release+0x10/0x10
[   23.985488]  ? lock_release+0x441/0x870
[   23.985863]  ? __pfx_lock_release+0x10/0x10
[   23.986278]  ? mlock_drain_local+0x27f/0x4b0
[   23.986706]  exit_mmap+0x19e/0xb10
[   23.987081]  ? __pfx_exit_mmap+0x10/0x10
[   23.987478]  ? trace_hardirqs_on+0x51/0x60
[   23.987894]  ? kasan_quarantine_put+0xa2/0x200
[   23.988339]  ? __khugepaged_exit+0x266/0x4c0
[   23.988763]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   23.989305]  __mmput+0xde/0x3a0
[   23.989647]  mmput+0x74/0x90
[   23.989944]  do_exit+0xa03/0x29f0
[   23.990291]  ? lockdep_hardirqs_on+0x89/0x110
[   23.990714]  ? trace_hardirqs_on+0x51/0x60
[   23.991117]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   23.991720]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   23.992179]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   23.992641]  ? __pfx_do_exit+0x10/0x10
[   23.993035]  ? __audit_syscall_entry+0x39c/0x500
[   23.993540]  __x64_sys_exit+0x50/0x60
[   23.993921]  x64_sys_call+0x20c9/0x20d0
[   23.994316]  do_syscall_64+0x6d/0x140
[   23.994684]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   23.995175] RIP: 0033:0x7f2e1423ee5d
[   23.995522] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   23.996086] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   23.996770] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   23.997543] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   23.998206] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   23.998844] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   23.999497] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.000153]  </TASK>
[   24.000374] Modules linked in:
[   24.000780] ---[ end trace 0000000000000000 ]---
[   24.001224] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.001825] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.003584] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   24.004089] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   24.004742] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   24.005391] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   24.006197] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   24.006842] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   24.007491] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.008223] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.008756] CR2: 00007f2e143fca50 CR3: 000000001ba46004 CR4: 0000000000770ef0
[   24.009405] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.010172] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.010828] PKRU: 55555554
[   24.011108] note: repro[1059] exited with preempt_count 1
[   24.011607] Fixing recursive fault but reboot is needed!
[   24.012095] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1059
[   24.012792] caller is debug_smp_processor_id+0x20/0x30
[   24.013278] CPU: 0 UID: 0 PID: 1059 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.014132] Tainted: [D]=DIE, [W]=WARN
[   24.014496] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.015513] Call Trace:
[   24.015765]  <TASK>
[   24.015979]  dump_stack_lvl+0x121/0x150
[   24.016415]  dump_stack+0x19/0x20
[   24.016750]  check_preemption_disabled+0x168/0x180
[   24.017217]  debug_smp_processor_id+0x20/0x30
[   24.017632]  __schedule+0xa0/0x33a0
[   24.017992]  ? do_task_dead+0xa8/0x110
[   24.018369]  ? debug_smp_processor_id+0x20/0x30
[   24.018800]  ? rcu_is_watching+0x19/0xc0
[   24.019195]  ? lock_release+0x592/0x870
[   24.019576]  ? __pfx___schedule+0x10/0x10
[   24.019978]  ? debug_smp_processor_id+0x20/0x30
[   24.020433]  ? rcu_is_watching+0x19/0xc0
[   24.020819]  ? trace_irq_enable+0xe1/0x120
[   24.021236]  ? do_task_dead+0x4a/0x110
[   24.021598]  do_task_dead+0xe0/0x110
[   24.021947]  make_task_dead+0x384/0x3c0
[   24.022327]  rewind_stack_and_make_dead+0x16/0x20
[   24.022780] RIP: 0033:0x7f2e1423ee5d
[   24.023129] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.023691] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.024448] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.025135] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.025779] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.026439] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.027086] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.027742]  </TASK>
[   24.028088] BUG: scheduling while atomic: repro/1059/0x00000000
[   24.028775] INFO: lockdep is turned off.
[   24.029168] Modules linked in:
[   24.029469] Preemption disabled at:
[   24.029475] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   24.030394] CPU: 0 UID: 0 PID: 1059 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.031227] Tainted: [D]=DIE, [W]=WARN
[   24.031577] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.032588] Call Trace:
[   24.032841]  <TASK>
[   24.033071]  dump_stack_lvl+0x121/0x150
[   24.033448]  ? do_task_dead+0x28/0x110
[   24.033819]  dump_stack+0x19/0x20
[   24.034154]  __schedule_bug+0x12d/0x180
[   24.034576]  __schedule+0x23fe/0x33a0
[   24.034944]  ? do_task_dead+0xa8/0x110
[   24.035317]  ? rcu_is_watching+0x19/0xc0
[   24.035702]  ? lock_release+0x592/0x870
[   24.036081]  ? __pfx___schedule+0x10/0x10
[   24.036476]  ? debug_smp_processor_id+0x20/0x30
[   24.036906]  ? rcu_is_watching+0x19/0xc0
[   24.037300]  ? trace_irq_enable+0xe1/0x120
[   24.037700]  ? do_task_dead+0x4a/0x110
[   24.038075]  do_task_dead+0xe0/0x110
[   24.038432]  make_task_dead+0x384/0x3c0
[   24.038836]  rewind_stack_and_make_dead+0x16/0x20
[   24.039321] RIP: 0033:0x7f2e1423ee5d
[   24.039669] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.040235] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.040920] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.041576] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.042228] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.042919] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.043570] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.044234]  </TASK>
[   24.451825] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#2] PREEMPT SMP KASAN NOPTI
[   24.452959] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   24.453683] CPU: 1 UID: 0 PID: 1327 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.454601] Tainted: [D]=DIE, [W]=WARN
[   24.454953] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.455997] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.456545] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.458209] RSP: 0018:ffff88801f04f7d8 EFLAGS: 00010202
[   24.458918] RAX: dffffc0000000000 RBX: ffffea00004f66c0 RCX: ffffffff81bc4f39
[   24.459595] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004f66d0
[   24.460266] RBP: ffff88801f04f7f8 R08: 0000000000000000 R09: ffffed1002c93a48
[   24.460922] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   24.461584] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801649d240
[   24.462236] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   24.462973] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.463529] CR2: 00007fffdaca68b8 CR3: 00000000214b0005 CR4: 0000000000770ef0
[   24.464201] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.464859] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.465510] PKRU: 55555554
[   24.465786] Call Trace:
[   24.466045]  <TASK>
[   24.466261]  ? show_regs+0x6d/0x80
[   24.466614]  ? die_addr+0x45/0xb0
[   24.466953]  ? exc_general_protection+0x1ae/0x340
[   24.467423]  ? asm_exc_general_protection+0x2b/0x30
[   24.467931]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   24.468449]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.468944]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   24.469448]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.469950]  zap_huge_pmd+0x48e/0xd40
[   24.470344]  unmap_page_range+0x1ad6/0x4360
[   24.470750]  ? update_stack_state+0x2d9/0x610
[   24.471207]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   24.471700]  ? __pfx_unmap_page_range+0x10/0x10
[   24.472185]  unmap_single_vma+0x1ac/0x2d0
[   24.472591]  unmap_vmas+0x210/0x470
[   24.472951]  ? __pfx_unmap_vmas+0x10/0x10
[   24.473351]  ? __pfx_lock_release+0x10/0x10
[   24.473754]  ? lock_release+0x592/0x870
[   24.474171]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   24.474654]  ? __pfx_lock_release+0x10/0x10
[   24.475076]  ? mlock_drain_local+0x27f/0x4b0
[   24.475506]  exit_mmap+0x19e/0xb10
[   24.475884]  ? __pfx_exit_mmap+0x10/0x10
[   24.476293]  ? debug_smp_processor_id+0x20/0x30
[   24.476742]  ? trace_hardirqs_on+0x51/0x60
[   24.477157]  ? kasan_quarantine_put+0xa2/0x200
[   24.477609]  ? __khugepaged_exit+0x266/0x4c0
[   24.478049]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.478584]  __mmput+0xde/0x3a0
[   24.478901]  mmput+0x74/0x90
[   24.479199]  do_exit+0xa03/0x29f0
[   24.479542]  ? trace_hardirqs_on+0x51/0x60
[   24.479946]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   24.480595]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   24.481059]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   24.481522]  ? __pfx_do_exit+0x10/0x10
[   24.481912]  ? __audit_syscall_entry+0x39c/0x500
[   24.482391]  __x64_sys_exit+0x50/0x60
[   24.482764]  x64_sys_call+0x20c9/0x20d0
[   24.483155]  do_syscall_64+0x6d/0x140
[   24.483533]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.484051] RIP: 0033:0x7f2e1423ee5d
[   24.484410] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.484970] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.485681] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.486333] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.486980] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.487634] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.488310] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.489078]  </TASK>
[   24.489426] Modules linked in:
[   24.490031] ---[ end trace 0000000000000000 ]---
[   24.490511] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.491082] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.493061] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   24.493756] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   24.494671] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   24.495536] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   24.496388] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   24.497245] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   24.498273] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   24.499259] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.499936] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#3] PREEMPT SMP KASAN NOPTI
[   24.499957] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   24.501332] CR2: 00007fffdaca68b8 CR3: 00000000214b0005 CR4: 0000000000770ef0
[   24.502021] CPU: 0 UID: 0 PID: 1342 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.502873] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.503645] Tainted: [D]=DIE, [W]=WARN
[   24.504592] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.504923] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.506079] PKRU: 55555554
[   24.507043] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.507391] note: repro[1327] exited with preempt_count 1
[   24.507889] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.508527] Fixing recursive fault but reboot is needed!
[   24.510119] RSP: 0018:ffff88801daf77d8 EFLAGS: 00010202
[   24.510139] RAX: dffffc0000000000 RBX: ffffea00007cd400 RCX: ffffffff81bc4f39
[   24.510770] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1327
[   24.511231] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007cd410
[   24.512070] caller is debug_smp_processor_id+0x20/0x30
[   24.512735] RBP: ffff88801daf77f8 R08: 0000000000000000 R09: ffffed10023df0a8
[   24.513579] CPU: 1 UID: 0 PID: 1327 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.514030] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   24.514996] Tainted: [D]=DIE, [W]=WARN
[   24.515777] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011ef8540
[   24.516664] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.517006] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.517837] Call Trace:
[   24.518817] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.519759]  <TASK>
[   24.519989] CR2: 00007f2e145e4fa8 CR3: 00000000151c4001 CR4: 0000000000770ef0
[   24.520815]  dump_stack_lvl+0x121/0x150
[   24.521019] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.521852]  dump_stack+0x19/0x20
[   24.522193] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.523037]  check_preemption_disabled+0x168/0x180
[   24.523335] PKRU: 55555554
[   24.524179]  debug_smp_processor_id+0x20/0x30
[   24.524596] Call Trace:
[   24.524983]  __schedule+0xa0/0x33a0
[   24.525375]  <TASK>
[   24.525678]  ? do_task_dead+0xa8/0x110
[   24.525996]  ? show_regs+0x6d/0x80
[   24.526262]  ? debug_smp_processor_id+0x20/0x30
[   24.526592]  ? die_addr+0x45/0xb0
[   24.527011]  ? rcu_is_watching+0x19/0xc0
[   24.527414]  ? exc_general_protection+0x1ae/0x340
[   24.527813]  ? lock_release+0x592/0x870
[   24.528173]  ? asm_exc_general_protection+0x2b/0x30
[   24.528843]  ? __pfx___schedule+0x10/0x10
[   24.529192]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   24.529767]  ? debug_smp_processor_id+0x20/0x30
[   24.530121]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.530727]  ? rcu_is_watching+0x19/0xc0
[   24.531139]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   24.531744]  ? trace_irq_enable+0xe1/0x120
[   24.532097]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.532703]  ? do_task_dead+0x4a/0x110
[   24.533066]  zap_huge_pmd+0x48e/0xd40
[   24.533693]  do_task_dead+0xe0/0x110
[   24.534035]  unmap_page_range+0x1ad6/0x4360
[   24.534475]  make_task_dead+0x384/0x3c0
[   24.534792]  ? update_stack_state+0x2d9/0x610
[   24.535377]  rewind_stack_and_make_dead+0x16/0x20
[   24.535728]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   24.536242] RIP: 0033:0x7f2e1423ee5d
[   24.536660]  ? __pfx_unmap_page_range+0x10/0x10
[   24.537256] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.537587]  unmap_single_vma+0x1ac/0x2d0
[   24.538123] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   24.538663]  unmap_vmas+0x210/0x470
[   24.539137]  ORIG_RAX: 000000000000003c
[   24.539599]  ? __pfx_unmap_vmas+0x10/0x10
[   24.540015] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.540363]  ? __pfx_lock_release+0x10/0x10
[   24.540838] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.541464]  ? lock_release+0x592/0x870
[   24.541957] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.542576]  ? mas_next_slot+0x133a/0x1a50
[   24.543034] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.543653]  ? __pfx_lock_release+0x10/0x10
[   24.544141] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.544761]  ? mlock_drain_local+0x27f/0x4b0
[   24.545265]  </TASK>
[   24.545876]  exit_mmap+0x19e/0xb10
[   24.547163]  ? __pfx_exit_mmap+0x10/0x10
[   24.547561]  ? debug_smp_processor_id+0x20/0x30
[   24.548145]  ? trace_hardirqs_on+0x51/0x60
[   24.548650]  ? kasan_quarantine_put+0xa2/0x200
[   24.549091]  ? __khugepaged_exit+0x266/0x4c0
[   24.549504]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.550008]  __mmput+0xde/0x3a0
[   24.550321]  mmput+0x74/0x90
[   24.550610]  do_exit+0xa03/0x29f0
[   24.550937]  ? trace_hardirqs_on+0x51/0x60
[   24.551336]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   24.551911]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   24.552367]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   24.553061]  ? __pfx_do_exit+0x10/0x10
[   24.553546]  ? __audit_syscall_entry+0x39c/0x500
[   24.554019]  __x64_sys_exit+0x50/0x60
[   24.554414]  x64_sys_call+0x20c9/0x20d0
[   24.554778]  do_syscall_64+0x6d/0x140
[   24.555154]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.555633] RIP: 0033:0x7f2e1423ee5d
[   24.555975] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.556537] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.557232] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.557870] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.558575] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.559208] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.559843] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.560482]  </TASK>
[   24.560696] Modules linked in:
[   24.561174] ---[ end trace 0000000000000000 ]---
[   24.561605] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.562237] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.563892] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   24.564381] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   24.565025] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   24.565872] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   24.566548] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   24.567190] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   24.567815] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.568534] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.569073] CR2: 00007f2e145e4fa8 CR3: 00000000151c4001 CR4: 0000000000770ef0
[   24.569702] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.570445] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.571128] PKRU: 55555554
[   24.571388] note: repro[1342] exited with preempt_count 1
[   24.571887] Fixing recursive fault but reboot is needed!
[   24.572374] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1342
[   24.573085] caller is debug_smp_processor_id+0x20/0x30
[   24.573571] CPU: 0 UID: 0 PID: 1342 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.574415] Tainted: [D]=DIE, [W]=WARN
[   24.574764] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.575801] Call Trace:
[   24.576055]  <TASK>
[   24.576263]  dump_stack_lvl+0x121/0x150
[   24.576691]  dump_stack+0x19/0x20
[   24.577058]  check_preemption_disabled+0x168/0x180
[   24.577524]  debug_smp_processor_id+0x20/0x30
[   24.577937]  __schedule+0xa0/0x33a0
[   24.578299]  ? do_task_dead+0xa8/0x110
[   24.578666]  ? debug_smp_processor_id+0x20/0x30
[   24.579103]  ? rcu_is_watching+0x19/0xc0
[   24.579487]  ? lock_release+0x592/0x870
[   24.579862]  ? __pfx___schedule+0x10/0x10
[   24.580264]  ? debug_smp_processor_id+0x20/0x30
[   24.580748]  ? rcu_is_watching+0x19/0xc0
[   24.581161]  ? trace_irq_enable+0xe1/0x120
[   24.581567]  ? do_task_dead+0x4a/0x110
[   24.581931]  do_task_dead+0xe0/0x110
[   24.582291]  make_task_dead+0x384/0x3c0
[   24.582679]  rewind_stack_and_make_dead+0x16/0x20
[   24.583128] RIP: 0033:0x7f2e1423ee5d
[   24.583472] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.584035] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.584724] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.585384] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.586030] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.586671] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.587355] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.588020]  </TASK>
[   24.588282] BUG: scheduling while atomic: repro/1342/0x00000000
[   24.588828] INFO: lockdep is turned off.
[   24.589225] Modules linked in:
[   24.589519] Preemption disabled at:
[   24.589525] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   24.590494] CPU: 0 UID: 0 PID: 1342 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   24.591748] Tainted: [D]=DIE, [W]=WARN
[   24.592204] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.593530] Call Trace:
[   24.593835]  <TASK>
[   24.594108]  dump_stack_lvl+0x121/0x150
[   24.594589]  ? do_task_dead+0x28/0x110
[   24.595051]  dump_stack+0x19/0x20
[   24.595468]  __schedule_bug+0x12d/0x180
[   24.595951]  __schedule+0x23fe/0x33a0
[   24.596399]  ? do_task_dead+0xa8/0x110
[   24.596833]  ? rcu_is_watching+0x19/0xc0
[   24.597299]  ? lock_release+0x592/0x870
[   24.597746]  ? __pfx___schedule+0x10/0x10
[   24.598223]  ? debug_smp_processor_id+0x20/0x30
[   24.598742]  ? rcu_is_watching+0x19/0xc0
[   24.599205]  ? trace_irq_enable+0xe1/0x120
[   24.599684]  ? do_task_dead+0x4a/0x110
[   24.600124]  do_task_dead+0xe0/0x110
[   24.600541]  make_task_dead+0x384/0x3c0
[   24.600996]  rewind_stack_and_make_dead+0x16/0x20
[   24.601535] RIP: 0033:0x7f2e1423ee5d
[   24.601947] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   24.602633] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.603475] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   24.604241] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.604994] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   24.605743] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   24.606497] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   24.607262]  </TASK>
[   25.247995] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#4] PREEMPT SMP KASAN NOPTI
[   25.249105] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   25.249795] CPU: 1 UID: 0 PID: 1802 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.250629] Tainted: [D]=DIE, [W]=WARN
[   25.250974] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.252016] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.252567] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.254225] RSP: 0018:ffff8880214777d8 EFLAGS: 00010202
[   25.254720] RAX: dffffc0000000000 RBX: ffffea000046ed40 RCX: ffffffff81bc4f39
[   25.255431] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000046ed50
[   25.256109] RBP: ffff8880214777f8 R08: 0000000000000000 R09: ffffed100350e890
[   25.256775] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   25.257433] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801a874480
[   25.258098] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   25.258827] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.259368] CR2: 00007fffdaca68b8 CR3: 0000000012b66004 CR4: 0000000000770ef0
[   25.260025] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.260795] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.261462] PKRU: 55555554
[   25.261732] Call Trace:
[   25.261977]  <TASK>
[   25.262202]  ? show_regs+0x6d/0x80
[   25.262553]  ? die_addr+0x45/0xb0
[   25.262892]  ? exc_general_protection+0x1ae/0x340
[   25.263373]  ? asm_exc_general_protection+0x2b/0x30
[   25.263850]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.264356]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.264847]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.265347]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.265846]  zap_huge_pmd+0x48e/0xd40
[   25.266222]  unmap_page_range+0x1ad6/0x4360
[   25.266633]  ? update_stack_state+0x2d9/0x610
[   25.267075]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.267560]  ? __pfx_unmap_page_range+0x10/0x10
[   25.268014]  unmap_single_vma+0x1ac/0x2d0
[   25.268412]  unmap_vmas+0x210/0x470
[   25.268770]  ? __pfx_unmap_vmas+0x10/0x10
[   25.269163]  ? __pfx_lock_release+0x10/0x10
[   25.269568]  ? lock_release+0x592/0x870
[   25.269946]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   25.270430]  ? __pfx_lock_release+0x10/0x10
[   25.270843]  ? mlock_drain_local+0x27f/0x4b0
[   25.271278]  exit_mmap+0x19e/0xb10
[   25.271633]  ? __pfx_exit_mmap+0x10/0x10
[   25.272032]  ? debug_smp_processor_id+0x20/0x30
[   25.272467]  ? trace_hardirqs_on+0x51/0x60
[   25.272874]  ? kasan_quarantine_put+0xa2/0x200
[   25.273321]  ? __khugepaged_exit+0x266/0x4c0
[   25.273743]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.274276]  __mmput+0xde/0x3a0
[   25.274597]  mmput+0x74/0x90
[   25.274890]  do_exit+0xa03/0x29f0
[   25.275225]  ? trace_hardirqs_on+0x51/0x60
[   25.275627]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.276219]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.276679]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.277144]  ? __pfx_do_exit+0x10/0x10
[   25.277519]  ? __audit_syscall_entry+0x39c/0x500
[   25.277973]  __x64_sys_exit+0x50/0x60
[   25.278335]  x64_sys_call+0x20c9/0x20d0
[   25.278715]  do_syscall_64+0x6d/0x140
[   25.279093]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.279593] RIP: 0033:0x7f2e1423ee5d
[   25.279945] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.280509] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.281204] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.281851] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.282519] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.283173] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.283823] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.284497]  </TASK>
[   25.284725] Modules linked in:
[   25.285250] ---[ end trace 0000000000000000 ]---
[   25.285256] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#5] PREEMPT SMP KASAN NOPTI
[   25.285688] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.286775] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   25.286791] CPU: 0 UID: 0 PID: 1822 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.286815] Tainted: [D]=DIE, [W]=WARN
[   25.286821] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.286831] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.286858] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.287508] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.288194] RSP: 0018:ffff888011f777d8 EFLAGS: 00010202
[   25.289091] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   25.289436] 
[   25.290534] 
[   25.291029] RAX: dffffc0000000000 RBX: ffffea00007c4b40 RCX: ffffffff81bc4f39
[   25.292651] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   25.294807] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007c4b50
[   25.294821] RBP: ffff888011f777f8 R08: 0000000000000000 R09: ffffed100357ed8c
[   25.295456] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   25.296076] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   25.296248] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   25.296444] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801abf6c60
[   25.297149] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.297982] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.298706] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   25.299527] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.300402] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   25.301238] CR2: 00007f2e1429bc20 CR3: 000000001175a002 CR4: 0000000000770ef0
[   25.301928] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.302766] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.302779] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.303514] CR2: 00007fffdaca68b8 CR3: 0000000012b66004 CR4: 0000000000770ef0
[   25.304456] PKRU: 55555554
[   25.305223] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.305896] Call Trace:
[   25.305904]  <TASK>
[   25.305914]  ? show_regs+0x6d/0x80
[   25.306651] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.307474]  ? die_addr+0x45/0xb0
[   25.308073] PKRU: 55555554
[   25.308906]  ? exc_general_protection+0x1ae/0x340
[   25.309602] note: repro[1802] exited with preempt_count 1
[   25.310447]  ? asm_exc_general_protection+0x2b/0x30
[   25.310756] Fixing recursive fault but reboot is needed!
[   25.311582]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.311838] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1802
[   25.312102]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.312533] caller is debug_smp_processor_id+0x20/0x30
[   25.313371]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.313714] CPU: 1 UID: 0 PID: 1802 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.314047]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.314522] Tainted: [D]=DIE, [W]=WARN
[   25.315156]  zap_huge_pmd+0x48e/0xd40
[   25.315571] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.316206]  unmap_page_range+0x1ad6/0x4360
[   25.316799] Call Trace:
[   25.317704]  ? update_stack_state+0x2d9/0x610
[   25.318216]  <TASK>
[   25.318976]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.319433]  dump_stack_lvl+0x121/0x150
[   25.320496]  ? __pfx_unmap_page_range+0x10/0x10
[   25.321063]  dump_stack+0x19/0x20
[   25.321522]  unmap_single_vma+0x1ac/0x2d0
[   25.321851]  check_preemption_disabled+0x168/0x180
[   25.323183]  unmap_vmas+0x210/0x470
[   25.323563]  debug_smp_processor_id+0x20/0x30
[   25.324024]  ? __pfx_unmap_vmas+0x10/0x10
[   25.324416]  __schedule+0xa0/0x33a0
[   25.324717]  ? __pfx_lock_release+0x10/0x10
[   25.325278]  ? do_task_dead+0xa8/0x110
[   25.325735]  ? lock_release+0x592/0x870
[   25.326136]  ? debug_smp_processor_id+0x20/0x30
[   25.326537]  ? mas_next_slot+0x133a/0x1a50
[   25.326885]  ? rcu_is_watching+0x19/0xc0
[   25.327456]  ? __pfx_lock_release+0x10/0x10
[   25.327764]  ? lock_release+0x592/0x870
[   25.328296]  ? mlock_drain_local+0x27f/0x4b0
[   25.328639]  ? __pfx___schedule+0x10/0x10
[   25.329070]  exit_mmap+0x19e/0xb10
[   25.329469]  ? debug_smp_processor_id+0x20/0x30
[   25.329916]  ? __pfx_exit_mmap+0x10/0x10
[   25.330312]  ? rcu_is_watching+0x19/0xc0
[   25.330851]  ? debug_smp_processor_id+0x20/0x30
[   25.331209]  ? trace_irq_enable+0xe1/0x120
[   25.331679]  ? trace_hardirqs_on+0x51/0x60
[   25.332053]  ? do_task_dead+0x4a/0x110
[   25.332506]  ? kasan_quarantine_put+0xa2/0x200
[   25.332885]  do_task_dead+0xe0/0x110
[   25.333370]  ? __khugepaged_exit+0x266/0x4c0
[   25.333731]  make_task_dead+0x384/0x3c0
[   25.334273]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.334605]  rewind_stack_and_make_dead+0x16/0x20
[   25.335075]  __mmput+0xde/0x3a0
[   25.335447] RIP: 0033:0x7f2e1423ee5d
[   25.335934]  mmput+0x74/0x90
[   25.336274] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.336723]  do_exit+0xa03/0x29f0
[   25.337089] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   25.337521]  ? trace_hardirqs_on+0x51/0x60
[   25.337946]  ORIG_RAX: 000000000000003c
[   25.338409]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.338844] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.339406]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.339670] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.340157]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.340390] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.341119]  ? __pfx_do_exit+0x10/0x10
[   25.341448] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.342072]  ? __audit_syscall_entry+0x39c/0x500
[   25.342392] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.342861]  __x64_sys_exit+0x50/0x60
[   25.343353]  </TASK>
[   25.344315]  x64_sys_call+0x20c9/0x20d0
[   25.350791]  do_syscall_64+0x6d/0x140
[   25.351470]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.352241] RIP: 0033:0x7f2e1423ee5d
[   25.352706] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.353444] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.354354] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.355203] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.356054] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.356895] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.357740] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.358605]  </TASK>
[   25.358888] Modules linked in:
[   25.359497] ---[ end trace 0000000000000000 ]---
[   25.360209] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.360992] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.363285] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   25.363933] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   25.364779] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   25.365631] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   25.366615] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.367513] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   25.368365] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.369325] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.370021] CR2: 00007f2e1429bc20 CR3: 000000001175a002 CR4: 0000000000770ef0
[   25.371076] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.371928] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.372785] PKRU: 55555554
[   25.373128] note: repro[1822] exited with preempt_count 1
[   25.373772] Fixing recursive fault but reboot is needed!
[   25.374433] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1822
[   25.375337] caller is debug_smp_processor_id+0x20/0x30
[   25.375843] CPU: 0 UID: 0 PID: 1822 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.376710] Tainted: [D]=DIE, [W]=WARN
[   25.377075] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.378471] Call Trace:
[   25.378735]  <TASK>
[   25.378965]  dump_stack_lvl+0x121/0x150
[   25.379377]  dump_stack+0x19/0x20
[   25.379717]  check_preemption_disabled+0x168/0x180
[   25.380191]  debug_smp_processor_id+0x20/0x30
[   25.380616]  __schedule+0xa0/0x33a0
[   25.380970]  ? do_task_dead+0xa8/0x110
[   25.381353]  ? debug_smp_processor_id+0x20/0x30
[   25.381788]  ? rcu_is_watching+0x19/0xc0
[   25.382180]  ? lock_release+0x592/0x870
[   25.382567]  ? __pfx___schedule+0x10/0x10
[   25.382998]  ? debug_smp_processor_id+0x20/0x30
[   25.383446]  ? rcu_is_watching+0x19/0xc0
[   25.383855]  ? trace_irq_enable+0xe1/0x120
[   25.384273]  ? do_task_dead+0x4a/0x110
[   25.384658]  do_task_dead+0xe0/0x110
[   25.385024]  make_task_dead+0x384/0x3c0
[   25.385422]  rewind_stack_and_make_dead+0x16/0x20
[   25.385887] RIP: 0033:0x7f2e1423ee5d
[   25.386245] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.386822] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.387566] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.388234] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.388893] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.389548] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.390204] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.390874]  </TASK>
[   25.391172] BUG: scheduling while atomic: repro/1822/0x00000000
[   25.391748] INFO: lockdep is turned off.
[   25.392122] Modules linked in:
[   25.392424] Preemption disabled at:
[   25.392429] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   25.393262] CPU: 0 UID: 0 PID: 1822 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.394374] Tainted: [D]=DIE, [W]=WARN
[   25.394825] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.395867] Call Trace:
[   25.396117]  <TASK>
[   25.396337]  dump_stack_lvl+0x121/0x150
[   25.396723]  ? do_task_dead+0x28/0x110
[   25.397091]  dump_stack+0x19/0x20
[   25.397426]  __schedule_bug+0x12d/0x180
[   25.397809]  __schedule+0x23fe/0x33a0
[   25.398196]  ? do_task_dead+0xa8/0x110
[   25.398573]  ? rcu_is_watching+0x19/0xc0
[   25.398961]  ? lock_release+0x592/0x870
[   25.399358]  ? __pfx___schedule+0x10/0x10
[   25.399788]  ? debug_smp_processor_id+0x20/0x30
[   25.400229]  ? rcu_is_watching+0x19/0xc0
[   25.400626]  ? trace_irq_enable+0xe1/0x120
[   25.401084]  ? do_task_dead+0x4a/0x110
[   25.401556]  do_task_dead+0xe0/0x110
[   25.401943]  make_task_dead+0x384/0x3c0
[   25.402344]  rewind_stack_and_make_dead+0x16/0x20
[   25.402812] RIP: 0033:0x7f2e1423ee5d
[   25.403179] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.403759] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.404460] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.405118] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.405780] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.406445] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.407111] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.407819]  </TASK>
[   25.794740] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#6] PREEMPT SMP KASAN NOPTI
[   25.795917] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   25.796613] CPU: 0 UID: 0 PID: 2110 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.797449] Tainted: [D]=DIE, [W]=WARN
[   25.797800] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.798835] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.799390] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.801071] RSP: 0018:ffff88800ef077d8 EFLAGS: 00010202
[   25.801564] RAX: dffffc0000000000 RBX: ffffea00006abd00 RCX: ffffffff81bc4f39
[   25.802228] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006abd10
[   25.802891] RBP: ffff88800ef077f8 R08: 0000000000000000 R09: ffffed10022f0708
[   25.803554] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   25.804218] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011783840
[   25.804881] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.805612] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.806144] CR2: 00007f2e143fca50 CR3: 000000001175c005 CR4: 0000000000770ef0
[   25.806794] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.807450] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.808099] PKRU: 55555554
[   25.808367] Call Trace:
[   25.808611]  <TASK>
[   25.808827]  ? show_regs+0x6d/0x80
[   25.809177]  ? die_addr+0x45/0xb0
[   25.809525]  ? exc_general_protection+0x1ae/0x340
[   25.809992]  ? asm_exc_general_protection+0x2b/0x30
[   25.810469]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.810971]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.811471]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.811963]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.812461]  zap_huge_pmd+0x48e/0xd40
[   25.812830]  unmap_page_range+0x1ad6/0x4360
[   25.813236]  ? __pfx_lock_release+0x10/0x10
[   25.813649]  ? do_raw_spin_trylock+0xbf/0x190
[   25.814074]  ? __kasan_check_read+0x15/0x20
[   25.814487]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.814967]  ? __pfx_unmap_page_range+0x10/0x10
[   25.815427]  unmap_single_vma+0x1ac/0x2d0
[   25.815827]  unmap_vmas+0x210/0x470
[   25.816183]  ? __pfx_unmap_vmas+0x10/0x10
[   25.816585]  ? __pfx_lock_release+0x10/0x10
[   25.817014]  ? lock_release+0x592/0x870
[   25.817393]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   25.817866]  ? __pfx_lock_release+0x10/0x10
[   25.818284]  ? mlock_drain_local+0x27f/0x4b0
[   25.818717]  exit_mmap+0x19e/0xb10
[   25.819076]  ? __pfx_exit_mmap+0x10/0x10
[   25.819468]  ? debug_smp_processor_id+0x20/0x30
[   25.819913]  ? trace_hardirqs_on+0x51/0x60
[   25.820316]  ? kasan_quarantine_put+0xa2/0x200
[   25.820754]  ? __khugepaged_exit+0x266/0x4c0
[   25.821179]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.821695]  __mmput+0xde/0x3a0
[   25.822020]  mmput+0x74/0x90
[   25.822316]  do_exit+0xa03/0x29f0
[   25.822658]  ? trace_hardirqs_on+0x51/0x60
[   25.823061]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.823670]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.824130]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.824602]  ? __pfx_do_exit+0x10/0x10
[   25.824981]  ? __audit_syscall_entry+0x39c/0x500
[   25.825447]  __x64_sys_exit+0x50/0x60
[   25.825814]  x64_sys_call+0x20c9/0x20d0
[   25.826193]  do_syscall_64+0x6d/0x140
[   25.826561]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.827051] RIP: 0033:0x7f2e1423ee5d
[   25.827399] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.827966] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.828665] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.829321] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.829990] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.830649] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.831309] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.831988]  </TASK>
[   25.832207] Modules linked in:
[   25.832599] ---[ end trace 0000000000000000 ]---
[   25.833056] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.833616] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.835332] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   25.835825] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   25.836496] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   25.837171] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   25.837829] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.838559] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   25.839377] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.840317] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.840874] CR2: 00007f2e143fca50 CR3: 000000001175c005 CR4: 0000000000770ef0
[   25.841661] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.842488] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.843157] PKRU: 55555554
[   25.843433] note: repro[2110] exited with preempt_count 1
[   25.844108] Fixing recursive fault but reboot is needed!
[   25.844619] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2110
[   25.845523] caller is debug_smp_processor_id+0x20/0x30
[   25.846029] CPU: 0 UID: 0 PID: 2110 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.846912] Tainted: [D]=DIE, [W]=WARN
[   25.847279] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.848301] Call Trace:
[   25.848546]  <TASK>
[   25.848757]  dump_stack_lvl+0x121/0x150
[   25.849146]  dump_stack+0x19/0x20
[   25.849480]  check_preemption_disabled+0x168/0x180
[   25.849944]  debug_smp_processor_id+0x20/0x30
[   25.850371]  __schedule+0xa0/0x33a0
[   25.850725]  ? do_task_dead+0xa8/0x110
[   25.851097]  ? debug_smp_processor_id+0x20/0x30
[   25.851536]  ? rcu_is_watching+0x19/0xc0
[   25.851927]  ? lock_release+0x592/0x870
[   25.852308]  ? __pfx___schedule+0x10/0x10
[   25.852711]  ? debug_smp_processor_id+0x20/0x30
[   25.853149]  ? rcu_is_watching+0x19/0xc0
[   25.853542]  ? trace_irq_enable+0xe1/0x120
[   25.853950]  ? do_task_dead+0x4a/0x110
[   25.854325]  do_task_dead+0xe0/0x110
[   25.854681]  make_task_dead+0x384/0x3c0
[   25.855074]  rewind_stack_and_make_dead+0x16/0x20
[   25.855529] RIP: 0033:0x7f2e1423ee5d
[   25.855880] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.856610] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.857517] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.858364] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.859210] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.860054] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.860893] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.861753]  </TASK>
[   25.862183] BUG: scheduling while atomic: repro/2110/0x00000000
[   25.862896] INFO: lockdep is turned off.
[   25.863374] Modules linked in:
[   25.863756] Preemption disabled at:
[   25.863762] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   25.864830] CPU: 0 UID: 0 PID: 2110 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   25.865911] Tainted: [D]=DIE, [W]=WARN
[   25.866370] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.867701] Call Trace:
[   25.868010]  <TASK>
[   25.868280]  dump_stack_lvl+0x121/0x150
[   25.868760]  ? do_task_dead+0x28/0x110
[   25.869228]  dump_stack+0x19/0x20
[   25.869650]  __schedule_bug+0x12d/0x180
[   25.870138]  __schedule+0x23fe/0x33a0
[   25.870599]  ? do_task_dead+0xa8/0x110
[   25.871071]  ? rcu_is_watching+0x19/0xc0
[   25.871566]  ? lock_release+0x592/0x870
[   25.872049]  ? __pfx___schedule+0x10/0x10
[   25.872555]  ? debug_smp_processor_id+0x20/0x30
[   25.873115]  ? rcu_is_watching+0x19/0xc0
[   25.873605]  ? trace_irq_enable+0xe1/0x120
[   25.874114]  ? do_task_dead+0x4a/0x110
[   25.874557]  do_task_dead+0xe0/0x110
[   25.874981]  make_task_dead+0x384/0x3c0
[   25.875451]  rewind_stack_and_make_dead+0x16/0x20
[   25.876003] RIP: 0033:0x7f2e1423ee5d
[   25.876424] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   25.877121] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.877972] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   25.878776] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.879578] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   25.880379] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   25.881165] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   25.881935]  </TASK>
[   26.326586] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#7] PREEMPT SMP KASAN NOPTI
[   26.328035] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   26.329006] CPU: 0 UID: 0 PID: 2446 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   26.330106] Tainted: [D]=DIE, [W]=WARN
[   26.330562] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.331896] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.332605] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.334769] RSP: 0018:ffff88802610f7d8 EFLAGS: 00010202
[   26.335403] RAX: dffffc0000000000 RBX: ffffea0000766dc0 RCX: ffffffff81bc4f39
[   26.336246] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000766dd0
[   26.337093] RBP: ffff88802610f7f8 R08: 0000000000000000 R09: ffffed1003f3b060
[   26.337931] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   26.338769] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f9d8300
[   26.339616] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   26.340566] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.341256] CR2: 00007f2e145f3bf0 CR3: 0000000012fa4001 CR4: 0000000000770ef0
[   26.342104] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.342959] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.343804] PKRU: 55555554
[   26.344145] Call Trace:
[   26.344451]  <TASK>
[   26.344722]  ? show_regs+0x6d/0x80
[   26.345166]  ? die_addr+0x45/0xb0
[   26.345591]  ? exc_general_protection+0x1ae/0x340
[   26.346183]  ? asm_exc_general_protection+0x2b/0x30
[   26.346791]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   26.347419]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.348050]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   26.348679]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.349311]  zap_huge_pmd+0x48e/0xd40
[   26.349779]  unmap_page_range+0x1ad6/0x4360
[   26.350305]  ? update_stack_state+0x2d9/0x610
[   26.350862]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   26.351484]  ? __pfx_unmap_page_range+0x10/0x10
[   26.352060]  unmap_single_vma+0x1ac/0x2d0
[   26.352565]  unmap_vmas+0x210/0x470
[   26.353018]  ? __pfx_unmap_vmas+0x10/0x10
[   26.353516]  ? __pfx_lock_release+0x10/0x10
[   26.354039]  ? lock_release+0x592/0x870
[   26.354515]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   26.355123]  ? __pfx_lock_release+0x10/0x10
[   26.355643]  ? mlock_drain_local+0x27f/0x4b0
[   26.356181]  exit_mmap+0x19e/0xb10
[   26.356617]  ? __pfx_exit_mmap+0x10/0x10
[   26.357094]  ? debug_smp_processor_id+0x20/0x30
[   26.357625]  ? trace_hardirqs_on+0x51/0x60
[   26.358113]  ? kasan_quarantine_put+0xa2/0x200
[   26.358640]  ? __khugepaged_exit+0x266/0x4c0
[   26.359152]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.359783]  __mmput+0xde/0x3a0
[   26.360170]  mmput+0x74/0x90
[   26.360523]  do_exit+0xa03/0x29f0
[   26.360926]  ? trace_hardirqs_on+0x51/0x60
[   26.361412]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   26.362137]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   26.362699]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   26.363265]  ? __pfx_do_exit+0x10/0x10
[   26.363713]  ? __audit_syscall_entry+0x39c/0x500
[   26.364259]  __x64_sys_exit+0x50/0x60
[   26.364695]  x64_sys_call+0x20c9/0x20d0
[   26.365144]  do_syscall_64+0x6d/0x140
[   26.365561]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.366122] RIP: 0033:0x7f2e1423ee5d
[   26.366521] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   26.367181] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.367991] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   26.368750] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.369508] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   26.370271] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   26.371032] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   26.371789]  </TASK>
[   26.372040] Modules linked in:
[   26.372521] ---[ end trace 0000000000000000 ]---
[   26.373110] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.373716] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.375654] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   26.376207] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   26.377115] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   26.377958] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   26.378821] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   26.379553] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   26.380264] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   26.381046] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.381611] CR2: 00007f2e145f3bf0 CR3: 0000000012fa4001 CR4: 0000000000770ef0
[   26.382344] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.383047] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.383741] PKRU: 55555554
[   26.384025] note: repro[2446] exited with preempt_count 1
[   26.384555] Fixing recursive fault but reboot is needed!
[   26.385090] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2446
[   26.385847] caller is debug_smp_processor_id+0x20/0x30
[   26.386386] CPU: 0 UID: 0 PID: 2446 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   26.387242] Tainted: [D]=DIE, [W]=WARN
[   26.387600] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.388646] Call Trace:
[   26.388887]  <TASK>
[   26.389104]  dump_stack_lvl+0x121/0x150
[   26.389481]  dump_stack+0x19/0x20
[   26.389810]  check_preemption_disabled+0x168/0x180
[   26.390276]  debug_smp_processor_id+0x20/0x30
[   26.390689]  __schedule+0xa0/0x33a0
[   26.391027]  ? do_task_dead+0xa8/0x110
[   26.391378]  ? debug_smp_processor_id+0x20/0x30
[   26.391796]  ? rcu_is_watching+0x19/0xc0
[   26.392172]  ? lock_release+0x592/0x870
[   26.392533]  ? __pfx___schedule+0x10/0x10
[   26.392918]  ? debug_smp_processor_id+0x20/0x30
[   26.393340]  ? rcu_is_watching+0x19/0xc0
[   26.393712]  ? trace_irq_enable+0xe1/0x120
[   26.394179]  ? do_task_dead+0x4a/0x110
[   26.394600]  do_task_dead+0xe0/0x110
[   26.395010]  make_task_dead+0x384/0x3c0
[   26.395417]  rewind_stack_and_make_dead+0x16/0x20
[   26.395853] RIP: 0033:0x7f2e1423ee5d
[   26.396194] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   26.396746] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.397424] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   26.398041] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.398650] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   26.399267] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   26.399876] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   26.400501]  </TASK>
[   26.400747] BUG: scheduling while atomic: repro/2446/0x00000000
[   26.401267] INFO: lockdep is turned off.
[   26.401610] Modules linked in:
[   26.401887] Preemption disabled at:
[   26.401891] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   26.402671] CPU: 0 UID: 0 PID: 2446 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   26.403428] Tainted: [D]=DIE, [W]=WARN
[   26.403745] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.404676] Call Trace:
[   26.404891]  <TASK>
[   26.405084]  dump_stack_lvl+0x121/0x150
[   26.405419]  ? do_task_dead+0x28/0x110
[   26.405743]  dump_stack+0x19/0x20
[   26.406039]  __schedule_bug+0x12d/0x180
[   26.406382]  __schedule+0x23fe/0x33a0
[   26.406705]  ? do_task_dead+0xa8/0x110
[   26.407027]  ? rcu_is_watching+0x19/0xc0
[   26.407359]  ? lock_release+0x592/0x870
[   26.407681]  ? __pfx___schedule+0x10/0x10
[   26.408022]  ? debug_smp_processor_id+0x20/0x30
[   26.408396]  ? rcu_is_watching+0x19/0xc0
[   26.408727]  ? trace_irq_enable+0xe1/0x120
[   26.409079]  ? do_task_dead+0x4a/0x110
[   26.409393]  do_task_dead+0xe0/0x110
[   26.409694]  make_task_dead+0x384/0x3c0
[   26.410024]  rewind_stack_and_make_dead+0x16/0x20
[   26.410413] RIP: 0033:0x7f2e1423ee5d
[   26.410710] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   26.411204] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.411798] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   26.412347] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.412894] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   26.413444] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   26.413996] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   26.414553]  </TASK>
[   27.707975] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#8] PREEMPT SMP KASAN NOPTI
[   27.709449] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   27.710357] CPU: 0 UID: 0 PID: 3446 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   27.711446] Tainted: [D]=DIE, [W]=WARN
[   27.711902] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.713355] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.714083] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.716257] RSP: 0018:ffff888014ebf7d8 EFLAGS: 00010202
[   27.716961] RAX: dffffc0000000000 RBX: ffffea0000594880 RCX: ffffffff81bc4f39
[   27.717811] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000594890
[   27.718662] RBP: ffff888014ebf7f8 R08: 0000000000000000 R09: ffffed1003288c48
[   27.719507] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   27.720358] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888019446240
[   27.721282] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   27.722240] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.722928] CR2: 00007f2e1424e1f0 CR3: 0000000010bac006 CR4: 0000000000770ef0
[   27.723780] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.724629] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.725528] PKRU: 55555554
[   27.725866] Call Trace:
[   27.726181]  <TASK>
[   27.726458]  ? show_regs+0x6d/0x80
[   27.726899]  ? die_addr+0x45/0xb0
[   27.727334]  ? exc_general_protection+0x1ae/0x340
[   27.727925]  ? asm_exc_general_protection+0x2b/0x30
[   27.728541]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   27.729273]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.729906]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   27.730548]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.731193]  zap_huge_pmd+0x48e/0xd40
[   27.731664]  unmap_page_range+0x1ad6/0x4360
[   27.732196]  ? update_stack_state+0x2d9/0x610
[   27.732863]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   27.733559]  ? __pfx_unmap_page_range+0x10/0x10
[   27.734139]  unmap_single_vma+0x1ac/0x2d0
[   27.734647]  unmap_vmas+0x210/0x470
[   27.735101]  ? __pfx_unmap_vmas+0x10/0x10
[   27.735602]  ? __pfx_lock_release+0x10/0x10
[   27.736124]  ? lock_release+0x592/0x870
[   27.736599]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   27.737206]  ? __pfx_lock_release+0x10/0x10
[   27.737725]  ? mlock_drain_local+0x27f/0x4b0
[   27.738264]  exit_mmap+0x19e/0xb10
[   27.738703]  ? __pfx_exit_mmap+0x10/0x10
[   27.739308]  ? debug_smp_processor_id+0x20/0x30
[   27.739895]  ? trace_hardirqs_on+0x51/0x60
[   27.740413]  ? kasan_quarantine_put+0xa2/0x200
[   27.740971]  ? __khugepaged_exit+0x266/0x4c0
[   27.741516]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.742179]  __mmput+0xde/0x3a0
[   27.742584]  mmput+0x74/0x90
[   27.743035]  do_exit+0xa03/0x29f0
[   27.743525]  ? trace_hardirqs_on+0x51/0x60
[   27.744047]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   27.744810]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   27.745411]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   27.746010]  ? __pfx_do_exit+0x10/0x10
[   27.746484]  ? __audit_syscall_entry+0x39c/0x500
[   27.747061]  __x64_sys_exit+0x50/0x60
[   27.747523]  x64_sys_call+0x20c9/0x20d0
[   27.748004]  do_syscall_64+0x6d/0x140
[   27.748470]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.749095] RIP: 0033:0x7f2e1423ee5d
[   27.749535] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   27.750268] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.751166] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   27.752008] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.752827] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   27.753628] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   27.754428] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   27.755239]  </TASK>
[   27.755502] Modules linked in:
[   27.755995] ---[ end trace 0000000000000000 ]---
[   27.756792] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.757553] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.759702] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   27.760316] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   27.761125] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   27.761886] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   27.762741] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   27.763519] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   27.764292] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   27.765491] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.766253] CR2: 00007f2e1424e1f0 CR3: 0000000010bac006 CR4: 0000000000770ef0
[   27.767040] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.767804] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.768571] PKRU: 55555554
[   27.768877] note: repro[3446] exited with preempt_count 1
[   27.769452] Fixing recursive fault but reboot is needed!
[   27.770084] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3446
[   27.770877] caller is debug_smp_processor_id+0x20/0x30
[   27.771603] CPU: 0 UID: 0 PID: 3446 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   27.772545] Tainted: [D]=DIE, [W]=WARN
[   27.772939] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.774002] Call Trace:
[   27.774217]  <TASK>
[   27.774413]  dump_stack_lvl+0x121/0x150
[   27.774751]  dump_stack+0x19/0x20
[   27.775035]  check_preemption_disabled+0x168/0x180
[   27.775422]  debug_smp_processor_id+0x20/0x30
[   27.775785]  __schedule+0xa0/0x33a0
[   27.776102]  ? do_task_dead+0xa8/0x110
[   27.776420]  ? debug_smp_processor_id+0x20/0x30
[   27.776782]  ? rcu_is_watching+0x19/0xc0
[   27.777239]  ? lock_release+0x592/0x870
[   27.777675]  ? __pfx___schedule+0x10/0x10
[   27.778021]  ? debug_smp_processor_id+0x20/0x30
[   27.778397]  ? rcu_is_watching+0x19/0xc0
[   27.778727]  ? trace_irq_enable+0xe1/0x120
[   27.779073]  ? do_task_dead+0x4a/0x110
[   27.779383]  do_task_dead+0xe0/0x110
[   27.779671]  make_task_dead+0x384/0x3c0
[   27.779993]  rewind_stack_and_make_dead+0x16/0x20
[   27.780375] RIP: 0033:0x7f2e1423ee5d
[   27.780660] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   27.781139] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.781724] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   27.782356] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.783030] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   27.783690] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   27.784352] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   27.785043]  </TASK>
[   27.785357] BUG: scheduling while atomic: repro/3446/0x00000000
[   27.785926] INFO: lockdep is turned off.
[   27.786396] Modules linked in:
[   27.786728] Preemption disabled at:
[   27.786734] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   27.787584] CPU: 0 UID: 0 PID: 3446 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   27.788451] Tainted: [D]=DIE, [W]=WARN
[   27.788797] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.789605] Call Trace:
[   27.789800]  <TASK>
[   27.789971]  dump_stack_lvl+0x121/0x150
[   27.790277]  ? do_task_dead+0x28/0x110
[   27.790572]  dump_stack+0x19/0x20
[   27.790836]  __schedule_bug+0x12d/0x180
[   27.791146]  __schedule+0x23fe/0x33a0
[   27.791557]  ? do_task_dead+0xa8/0x110
[   27.791966]  ? rcu_is_watching+0x19/0xc0
[   27.792322]  ? lock_release+0x592/0x870
[   27.792633]  ? __pfx___schedule+0x10/0x10
[   27.792954]  ? debug_smp_processor_id+0x20/0x30
[   27.793310]  ? rcu_is_watching+0x19/0xc0
[   27.793612]  ? trace_irq_enable+0xe1/0x120
[   27.793933]  ? do_task_dead+0x4a/0x110
[   27.794229]  do_task_dead+0xe0/0x110
[   27.794513]  make_task_dead+0x384/0x3c0
[   27.794799]  rewind_stack_and_make_dead+0x16/0x20
[   27.795141] RIP: 0033:0x7f2e1423ee5d
[   27.795400] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   27.795826] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.796355] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   27.796846] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.797339] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   27.798061] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   27.798632] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   27.799116]  </TASK>
[   27.997880] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#9] PREEMPT SMP KASAN NOPTI
[   27.998963] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   27.999659] CPU: 0 UID: 0 PID: 3603 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.000487] Tainted: [D]=DIE, [W]=WARN
[   28.000840] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.001844] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.002387] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.004009] RSP: 0018:ffff88801124f7d8 EFLAGS: 00010202
[   28.004493] RAX: dffffc0000000000 RBX: ffffea0000766900 RCX: ffffffff81bc4f39
[   28.005135] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000766910
[   28.005762] RBP: ffff88801124f7f8 R08: 0000000000000000 R09: ffffed10032fdec0
[   28.006400] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.007033] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880197ef600
[   28.007681] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.008402] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.008924] CR2: 00007f2e145e0910 CR3: 00000000146a4001 CR4: 0000000000770ef0
[   28.009566] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.010217] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.010853] PKRU: 55555554
[   28.011113] Call Trace:
[   28.011353]  <TASK>
[   28.011566]  ? show_regs+0x6d/0x80
[   28.011906]  ? die_addr+0x45/0xb0
[   28.012239]  ? exc_general_protection+0x1ae/0x340
[   28.012688]  ? asm_exc_general_protection+0x2b/0x30
[   28.013183]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.013660]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.014142]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.014631]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.015109]  zap_huge_pmd+0x48e/0xd40
[   28.015469]  unmap_page_range+0x1ad6/0x4360
[   28.015872]  ? update_stack_state+0x2d9/0x610
[   28.016315]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.016796]  ? __pfx_unmap_page_range+0x10/0x10
[   28.017242]  unmap_single_vma+0x1ac/0x2d0
[   28.017631]  unmap_vmas+0x210/0x470
[   28.017973]  ? __pfx_unmap_vmas+0x10/0x10
[   28.018356]  ? __pfx_lock_release+0x10/0x10
[   28.018756]  ? lock_release+0x592/0x870
[   28.019136]  ? mas_next_slot+0x133a/0x1a50
[   28.019521]  ? __pfx_lock_release+0x10/0x10
[   28.019922]  ? mlock_drain_local+0x27f/0x4b0
[   28.020345]  exit_mmap+0x19e/0xb10
[   28.020683]  ? __pfx_exit_mmap+0x10/0x10
[   28.021067]  ? debug_smp_processor_id+0x20/0x30
[   28.021497]  ? trace_hardirqs_on+0x51/0x60
[   28.021886]  ? kasan_quarantine_put+0xa2/0x200
[   28.022325]  ? __khugepaged_exit+0x266/0x4c0
[   28.022735]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.023232]  __mmput+0xde/0x3a0
[   28.023542]  mmput+0x74/0x90
[   28.023829]  do_exit+0xa03/0x29f0
[   28.024161]  ? trace_hardirqs_on+0x51/0x60
[   28.024550]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.025139]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.025593]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.026055]  ? __pfx_do_exit+0x10/0x10
[   28.026418]  ? __audit_syscall_entry+0x39c/0x500
[   28.026855]  __x64_sys_exit+0x50/0x60
[   28.027200]  x64_sys_call+0x20c9/0x20d0
[   28.027558]  do_syscall_64+0x6d/0x140
[   28.027918]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.028396] RIP: 0033:0x7f2e1423ee5d
[   28.028738] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.029310] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.030003] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.030644] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.031284] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.031920] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.032564] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.033223]  </TASK>
[   28.033442] Modules linked in:
[   28.033839] ---[ end trace 0000000000000000 ]---
[   28.034313] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.034847] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.036531] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   28.037042] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   28.037747] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   28.038632] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   28.039349] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.039998] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   28.040643] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.041376] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.041911] CR2: 00007f2e145e0910 CR3: 00000000146a4001 CR4: 0000000000770ef0
[   28.042583] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.043233] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.043869] PKRU: 55555554
[   28.044135] note: repro[3603] exited with preempt_count 1
[   28.044640] Fixing recursive fault but reboot is needed!
[   28.045124] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3603
[   28.045809] caller is debug_smp_processor_id+0x20/0x30
[   28.046318] CPU: 0 UID: 0 PID: 3603 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.047155] Tainted: [D]=DIE, [W]=WARN
[   28.047510] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.048520] Call Trace:
[   28.048754]  <TASK>
[   28.048960]  dump_stack_lvl+0x121/0x150
[   28.049336]  dump_stack+0x19/0x20
[   28.049661]  check_preemption_disabled+0x168/0x180
[   28.050117]  debug_smp_processor_id+0x20/0x30
[   28.050531]  __schedule+0xa0/0x33a0
[   28.050873]  ? do_task_dead+0xa8/0x110
[   28.051252]  ? debug_smp_processor_id+0x20/0x30
[   28.051684]  ? rcu_is_watching+0x19/0xc0
[   28.052070]  ? lock_release+0x592/0x870
[   28.052445]  ? __pfx___schedule+0x10/0x10
[   28.053024]  ? debug_smp_processor_id+0x20/0x30
[   28.053453]  ? rcu_is_watching+0x19/0xc0
[   28.053829]  ? trace_irq_enable+0xe1/0x120
[   28.054229]  ? do_task_dead+0x4a/0x110
[   28.054591]  do_task_dead+0xe0/0x110
[   28.054946]  make_task_dead+0x384/0x3c0
[   28.055328]  rewind_stack_and_make_dead+0x16/0x20
[   28.055767] RIP: 0033:0x7f2e1423ee5d
[   28.056119] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.056670] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.057360] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.058005] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.058647] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.059291] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.059934] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.060590]  </TASK>
[   28.060964] BUG: scheduling while atomic: repro/3603/0x00000000
[   28.061524] INFO: lockdep is turned off.
[   28.061890] Modules linked in:
[   28.062225] Preemption disabled at:
[   28.062232] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   28.063068] CPU: 0 UID: 0 PID: 3603 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.063890] Tainted: [D]=DIE, [W]=WARN
[   28.064252] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.065256] Call Trace:
[   28.065497]  <TASK>
[   28.065713]  dump_stack_lvl+0x121/0x150
[   28.066096]  ? do_task_dead+0x28/0x110
[   28.066457]  dump_stack+0x19/0x20
[   28.066789]  __schedule_bug+0x12d/0x180
[   28.067185]  __schedule+0x23fe/0x33a0
[   28.067548]  ? do_task_dead+0xa8/0x110
[   28.067909]  ? rcu_is_watching+0x19/0xc0
[   28.068305]  ? lock_release+0x592/0x870
[   28.068676]  ? __pfx___schedule+0x10/0x10
[   28.069071]  ? debug_smp_processor_id+0x20/0x30
[   28.069495]  ? rcu_is_watching+0x19/0xc0
[   28.069873]  ? trace_irq_enable+0xe1/0x120
[   28.070269]  ? do_task_dead+0x4a/0x110
[   28.070630]  do_task_dead+0xe0/0x110
[   28.070978]  make_task_dead+0x384/0x3c0
[   28.071366]  rewind_stack_and_make_dead+0x16/0x20
[   28.071832] RIP: 0033:0x7f2e1423ee5d
[   28.072189] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.072745] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.073438] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.074096] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.074737] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.075392] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.076033] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.076705]  </TASK>
[   28.859596] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#10] PREEMPT SMP KASAN NOPTI
[   28.860682] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.861384] CPU: 0 UID: 0 PID: 4202 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.862231] Tainted: [D]=DIE, [W]=WARN
[   28.862584] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.863585] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.864232] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.865905] RSP: 0018:ffff88801da077d8 EFLAGS: 00010202
[   28.866407] RAX: dffffc0000000000 RBX: ffffea000052cb80 RCX: ffffffff81bc4f39
[   28.867068] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000052cb90
[   28.867734] RBP: ffff88801da077f8 R08: 0000000000000000 R09: ffffed10023e5a48
[   28.868388] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.869035] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011f2d240
[   28.869683] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.870437] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.870961] CR2: 00007f2e1429bc20 CR3: 00000000112c6001 CR4: 0000000000770ef0
[   28.871603] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.872254] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.872901] PKRU: 55555554
[   28.873162] Call Trace:
[   28.873404]  <TASK>
[   28.873618]  ? show_regs+0x6d/0x80
[   28.874007]  ? die_addr+0x45/0xb0
[   28.874344]  ? exc_general_protection+0x1ae/0x340
[   28.874795]  ? asm_exc_general_protection+0x2b/0x30
[   28.875308]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.875787]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.876284]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.876766]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.877257]  zap_huge_pmd+0x48e/0xd40
[   28.877623]  unmap_page_range+0x1ad6/0x4360
[   28.878028]  ? update_stack_state+0x2d9/0x610
[   28.878459]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.878931]  ? __pfx_unmap_page_range+0x10/0x10
[   28.879385]  unmap_single_vma+0x1ac/0x2d0
[   28.879776]  unmap_vmas+0x210/0x470
[   28.880130]  ? __pfx_unmap_vmas+0x10/0x10
[   28.880515]  ? __pfx_lock_release+0x10/0x10
[   28.880922]  ? lock_release+0x592/0x870
[   28.881289]  ? mas_next_slot+0x133a/0x1a50
[   28.881678]  ? __pfx_lock_release+0x10/0x10
[   28.882085]  ? mlock_drain_local+0x27f/0x4b0
[   28.882504]  exit_mmap+0x19e/0xb10
[   28.882847]  ? __pfx_exit_mmap+0x10/0x10
[   28.883244]  ? debug_smp_processor_id+0x20/0x30
[   28.883676]  ? trace_hardirqs_on+0x51/0x60
[   28.884076]  ? kasan_quarantine_put+0xa2/0x200
[   28.884509]  ? __khugepaged_exit+0x266/0x4c0
[   28.884921]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.885435]  __mmput+0xde/0x3a0
[   28.885744]  mmput+0x74/0x90
[   28.886032]  do_exit+0xa03/0x29f0
[   28.886358]  ? trace_hardirqs_on+0x51/0x60
[   28.886744]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.887334]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.887789]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.888251]  ? __pfx_do_exit+0x10/0x10
[   28.888620]  ? __audit_syscall_entry+0x39c/0x500
[   28.889065]  __x64_sys_exit+0x50/0x60
[   28.889418]  x64_sys_call+0x20c9/0x20d0
[   28.889785]  do_syscall_64+0x6d/0x140
[   28.890154]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.890635] RIP: 0033:0x7f2e1423ee5d
[   28.890971] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.891535] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.892232] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.892867] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.893514] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.894158] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.894795] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.895444]  </TASK>
[   28.895666] Modules linked in:
[   28.896125] ---[ end trace 0000000000000000 ]---
[   28.896560] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.897109] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.898831] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   28.899311] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   28.899923] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   28.900541] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   28.901162] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.901785] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   28.902494] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.903203] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.903709] CR2: 00007f2e1429bc20 CR3: 00000000112c6001 CR4: 0000000000770ef0
[   28.904329] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.904943] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.905559] PKRU: 55555554
[   28.905807] note: repro[4202] exited with preempt_count 1
[   28.906320] Fixing recursive fault but reboot is needed!
[   28.906787] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4202
[   28.907455] caller is debug_smp_processor_id+0x20/0x30
[   28.907918] CPU: 0 UID: 0 PID: 4202 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.908721] Tainted: [D]=DIE, [W]=WARN
[   28.909062] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.910021] Call Trace:
[   28.910241]  <TASK>
[   28.910428]  dump_stack_lvl+0x121/0x150
[   28.910768]  dump_stack+0x19/0x20
[   28.911076]  check_preemption_disabled+0x168/0x180
[   28.911481]  debug_smp_processor_id+0x20/0x30
[   28.911851]  __schedule+0xa0/0x33a0
[   28.912167]  ? do_task_dead+0xa8/0x110
[   28.912496]  ? debug_smp_processor_id+0x20/0x30
[   28.912880]  ? rcu_is_watching+0x19/0xc0
[   28.913233]  ? lock_release+0x592/0x870
[   28.913569]  ? __pfx___schedule+0x10/0x10
[   28.913923]  ? debug_smp_processor_id+0x20/0x30
[   28.914311]  ? rcu_is_watching+0x19/0xc0
[   28.914656]  ? trace_irq_enable+0xe1/0x120
[   28.915023]  ? do_task_dead+0x4a/0x110
[   28.915347]  do_task_dead+0xe0/0x110
[   28.915662]  make_task_dead+0x384/0x3c0
[   28.915990]  rewind_stack_and_make_dead+0x16/0x20
[   28.916526] RIP: 0033:0x7f2e1423ee5d
[   28.916829] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.917330] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.917936] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.918487] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.919037] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.919588] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.920146] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.920712]  </TASK>
[   28.920947] BUG: scheduling while atomic: repro/4202/0x00000000
[   28.921422] INFO: lockdep is turned off.
[   28.921741] Modules linked in:
[   28.921992] Preemption disabled at:
[   28.921997] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   28.922686] CPU: 0 UID: 0 PID: 4202 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.923392] Tainted: [D]=DIE, [W]=WARN
[   28.923695] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.924523] Call Trace:
[   28.924716]  <TASK>
[   28.924886]  dump_stack_lvl+0x121/0x150
[   28.925210]  ? do_task_dead+0x28/0x110
[   28.925510]  dump_stack+0x19/0x20
[   28.925781]  __schedule_bug+0x12d/0x180
[   28.926105]  __schedule+0x23fe/0x33a0
[   28.926399]  ? do_task_dead+0xa8/0x110
[   28.926694]  ? rcu_is_watching+0x19/0xc0
[   28.927014]  ? lock_release+0x592/0x870
[   28.927340]  ? __pfx___schedule+0x10/0x10
[   28.927665]  ? debug_smp_processor_id+0x20/0x30
[   28.928054]  ? rcu_is_watching+0x19/0xc0
[   28.928499]  ? trace_irq_enable+0xe1/0x120
[   28.928918]  ? do_task_dead+0x4a/0x110
[   28.929205]  do_task_dead+0xe0/0x110
[   28.929473]  make_task_dead+0x384/0x3c0
[   28.929765]  rewind_stack_and_make_dead+0x16/0x20
[   28.930111] RIP: 0033:0x7f2e1423ee5d
[   28.930377] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.930805] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.931339] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.931843] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.932343] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.932834] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.933329] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.933824]  </TASK>
[   28.934155] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#11] PREEMPT SMP KASAN NOPTI
[   28.935260] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.935777] CPU: 0 UID: 0 PID: 4262 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.936395] Tainted: [D]=DIE, [W]=WARN
[   28.936655] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.937412] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.937818] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.939038] RSP: 0018:ffff8880214c77d8 EFLAGS: 00010202
[   28.939401] RAX: dffffc0000000000 RBX: ffffea0000983840 RCX: ffffffff81bc4f39
[   28.939881] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000983850
[   28.940379] RBP: ffff8880214c77f8 R08: 0000000000000000 R09: ffffed100226c0f0
[   28.941079] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.941598] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011360780
[   28.942065] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.942581] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.942945] CR2: 00007f2e1429bc20 CR3: 000000001f3aa002 CR4: 0000000000770ef0
[   28.943396] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.943835] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.944283] PKRU: 55555554
[   28.944464] Call Trace:
[   28.944631]  <TASK>
[   28.944777]  ? show_regs+0x6d/0x80
[   28.945021]  ? die_addr+0x45/0xb0
[   28.945252]  ? exc_general_protection+0x1ae/0x340
[   28.945574]  ? asm_exc_general_protection+0x2b/0x30
[   28.945902]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.946238]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.946573]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.947079]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.947544]  zap_huge_pmd+0x48e/0xd40
[   28.947798]  unmap_page_range+0x1ad6/0x4360
[   28.948085]  ? update_stack_state+0x2d9/0x610
[   28.948383]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.948700]  ? __pfx_unmap_page_range+0x10/0x10
[   28.949005]  unmap_single_vma+0x1ac/0x2d0
[   28.949268]  unmap_vmas+0x210/0x470
[   28.949502]  ? __pfx_unmap_vmas+0x10/0x10
[   28.949760]  ? __pfx_lock_release+0x10/0x10
[   28.950030]  ? lock_release+0x592/0x870
[   28.950275]  ? mas_next_slot+0x133a/0x1a50
[   28.950540]  ? __pfx_lock_release+0x10/0x10
[   28.950811]  ? mlock_drain_local+0x27f/0x4b0
[   28.951091]  exit_mmap+0x19e/0xb10
[   28.951322]  ? __pfx_exit_mmap+0x10/0x10
[   28.951576]  ? debug_smp_processor_id+0x20/0x30
[   28.951859]  ? trace_hardirqs_on+0x51/0x60
[   28.952128]  ? kasan_quarantine_put+0xa2/0x200
[   28.952412]  ? __khugepaged_exit+0x266/0x4c0
[   28.952681]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.953162]  __mmput+0xde/0x3a0
[   28.953458]  mmput+0x74/0x90
[   28.953712]  do_exit+0xa03/0x29f0
[   28.953926]  ? trace_hardirqs_on+0x51/0x60
[   28.954184]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.954564]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.954858]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.955155]  ? __pfx_do_exit+0x10/0x10
[   28.955392]  ? __audit_syscall_entry+0x39c/0x500
[   28.955678]  __x64_sys_exit+0x50/0x60
[   28.955910]  x64_sys_call+0x20c9/0x20d0
[   28.956154]  do_syscall_64+0x6d/0x140
[   28.956386]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.956691] RIP: 0033:0x7f2e1423ee5d
[   28.956902] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.957250] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.957672] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.958072] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.958468] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.958862] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.959269] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.959682]  </TASK>
[   28.959813] Modules linked in:
[   28.960097] ---[ end trace 0000000000000000 ]---
[   28.960477] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.960943] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.961941] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   28.962258] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   28.962646] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   28.963039] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   28.963424] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.963808] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   28.964195] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.964628] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.964941] CR2: 00007f2e1429bc20 CR3: 000000001f3aa002 CR4: 0000000000770ef0
[   28.965325] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.965703] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.966093] PKRU: 55555554
[   28.966247] note: repro[4262] exited with preempt_count 1
[   28.966662] Fixing recursive fault but reboot is needed!
[   28.967079] BUG: scheduling while atomic: repro/4262/0x00000000
[   28.967430] INFO: lockdep is turned off.
[   28.967641] Modules linked in:
[   28.967815] Preemption disabled at:
[   28.967819] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   28.968297] CPU: 0 UID: 0 PID: 4262 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   28.968765] Tainted: [D]=DIE, [W]=WARN
[   28.968967] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.969536] Call Trace:
[   28.969730]  <TASK>
[   28.969930]  dump_stack_lvl+0x121/0x150
[   28.970305]  ? do_task_dead+0x28/0x110
[   28.970657]  dump_stack+0x19/0x20
[   28.970973]  __schedule_bug+0x12d/0x180
[   28.971341]  __schedule+0x23fe/0x33a0
[   28.971700]  ? do_task_dead+0xa8/0x110
[   28.972084]  ? rcu_is_watching+0x19/0xc0
[   28.972488]  ? lock_release+0x592/0x870
[   28.972845]  ? __pfx___schedule+0x10/0x10
[   28.973234]  ? debug_smp_processor_id+0x20/0x30
[   28.973644]  ? rcu_is_watching+0x19/0xc0
[   28.974028]  ? trace_irq_enable+0xe1/0x120
[   28.974423]  ? do_task_dead+0x4a/0x110
[   28.974783]  do_task_dead+0xe0/0x110
[   28.975134]  make_task_dead+0x384/0x3c0
[   28.975503]  rewind_stack_and_make_dead+0x16/0x20
[   28.975758] RIP: 0033:0x7f2e1423ee5d
[   28.975948] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   28.976254] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.976630] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   28.977114] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.977588] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   28.977935] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   28.978284] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   28.978637]  </TASK>
[   29.320693] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#12] PREEMPT SMP KASAN NOPTI
[   29.321832] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.322540] CPU: 1 UID: 0 PID: 4457 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   29.323379] Tainted: [D]=DIE, [W]=WARN
[   29.323729] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.324759] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.325319] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.326969] RSP: 0018:ffff888014a6f7d8 EFLAGS: 00010202
[   29.327460] RAX: dffffc0000000000 RBX: ffffea0000656640 RCX: ffffffff81bc4f39
[   29.328130] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000656650
[   29.328778] RBP: ffff888014a6f7f8 R08: 0000000000000000 R09: ffffed1002164884
[   29.329433] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.330081] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888010b24420
[   29.330734] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   29.331469] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.332003] CR2: 00007f2e145e4fa8 CR3: 0000000011c40002 CR4: 0000000000770ef0
[   29.332658] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.333317] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.333971] PKRU: 55555554
[   29.334363] Call Trace:
[   29.334608]  <TASK>
[   29.334832]  ? show_regs+0x6d/0x80
[   29.335183]  ? die_addr+0x45/0xb0
[   29.335519]  ? exc_general_protection+0x1ae/0x340
[   29.335996]  ? asm_exc_general_protection+0x2b/0x30
[   29.336484]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.336973]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.337471]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.337964]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.338461]  zap_huge_pmd+0x48e/0xd40
[   29.338836]  unmap_page_range+0x1ad6/0x4360
[   29.339253]  ? update_stack_state+0x2d9/0x610
[   29.339692]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.340175]  ? __pfx_unmap_page_range+0x10/0x10
[   29.340637]  unmap_single_vma+0x1ac/0x2d0
[   29.341037]  unmap_vmas+0x210/0x470
[   29.341392]  ? __pfx_unmap_vmas+0x10/0x10
[   29.341777]  ? __pfx_lock_release+0x10/0x10
[   29.342183]  ? lock_release+0x592/0x870
[   29.342555]  ? mas_next_slot+0x133a/0x1a50
[   29.342950]  ? __pfx_lock_release+0x10/0x10
[   29.343379]  ? mlock_drain_local+0x27f/0x4b0
[   29.343806]  exit_mmap+0x19e/0xb10
[   29.344157]  ? __pfx_exit_mmap+0x10/0x10
[   29.344553]  ? debug_smp_processor_id+0x20/0x30
[   29.344997]  ? trace_hardirqs_on+0x51/0x60
[   29.345399]  ? kasan_quarantine_put+0xa2/0x200
[   29.345838]  ? __khugepaged_exit+0x266/0x4c0
[   29.346260]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.346778]  __mmput+0xde/0x3a0
[   29.347097]  mmput+0x74/0x90
[   29.347391]  do_exit+0xa03/0x29f0
[   29.347728]  ? trace_hardirqs_on+0x51/0x60
[   29.348130]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.348729]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.349189]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.349654]  ? __pfx_do_exit+0x10/0x10
[   29.350025]  ? __audit_syscall_entry+0x39c/0x500
[   29.350480]  __x64_sys_exit+0x50/0x60
[   29.350846]  x64_sys_call+0x20c9/0x20d0
[   29.351223]  do_syscall_64+0x6d/0x140
[   29.351589]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.352086] RIP: 0033:0x7f2e1423ee5d
[   29.352438] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   29.353004] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.353702] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   29.354366] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.355030] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   29.355681] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   29.356334] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   29.356995]  </TASK>
[   29.357222] Modules linked in:
[   29.357719] ---[ end trace 0000000000000000 ]---
[   29.358275] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.358830] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.360515] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   29.361008] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   29.361666] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   29.362410] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   29.363077] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.363728] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   29.364389] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   29.365418] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.365965] CR2: 00007f2e145e4fa8 CR3: 0000000011c40002 CR4: 0000000000770ef0
[   29.366683] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.367359] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.368181] PKRU: 55555554
[   29.368453] note: repro[4457] exited with preempt_count 1
[   29.368959] Fixing recursive fault but reboot is needed!
[   29.369451] check_preemption_disabled: 1 callbacks suppressed
[   29.369460] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4457
[   29.370892] caller is debug_smp_processor_id+0x20/0x30
[   29.371391] CPU: 1 UID: 0 PID: 4457 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   29.372258] Tainted: [D]=DIE, [W]=WARN
[   29.372664] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.373713] Call Trace:
[   29.373962]  <TASK>
[   29.374181]  dump_stack_lvl+0x121/0x150
[   29.374697]  dump_stack+0x19/0x20
[   29.375045]  check_preemption_disabled+0x168/0x180
[   29.375508]  debug_smp_processor_id+0x20/0x30
[   29.375933]  __schedule+0xa0/0x33a0
[   29.376447]  ? do_task_dead+0xa8/0x110
[   29.376870]  ? debug_smp_processor_id+0x20/0x30
[   29.377310]  ? rcu_is_watching+0x19/0xc0
[   29.377713]  ? lock_release+0x592/0x870
[   29.378158]  ? __pfx___schedule+0x10/0x10
[   29.378562]  ? debug_smp_processor_id+0x20/0x30
[   29.379006]  ? rcu_is_watching+0x19/0xc0
[   29.379394]  ? trace_irq_enable+0xe1/0x120
[   29.379979]  ? do_task_dead+0x4a/0x110
[   29.380355]  do_task_dead+0xe0/0x110
[   29.380708]  make_task_dead+0x384/0x3c0
[   29.381283]  rewind_stack_and_make_dead+0x16/0x20
[   29.381743] RIP: 0033:0x7f2e1423ee5d
[   29.382107] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   29.382673] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.383576] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   29.384227] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.384883] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   29.385701] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   29.386363] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   29.387033]  </TASK>
[   29.387296] BUG: scheduling while atomic: repro/4457/0x00000000
[   29.388016] INFO: lockdep is turned off.
[   29.388384] Modules linked in:
[   29.388685] Preemption disabled at:
[   29.388690] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   29.389499] CPU: 1 UID: 0 PID: 4457 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   29.390452] Tainted: [D]=DIE, [W]=WARN
[   29.390795] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.391793] Call Trace:
[   29.392023]  <TASK>
[   29.392237]  dump_stack_lvl+0x121/0x150
[   29.392607]  ? do_task_dead+0x28/0x110
[   29.393029]  dump_stack+0x19/0x20
[   29.393362]  __schedule_bug+0x12d/0x180
[   29.393727]  __schedule+0x23fe/0x33a0
[   29.394080]  ? do_task_dead+0xa8/0x110
[   29.394430]  ? rcu_is_watching+0x19/0xc0
[   29.394957]  ? lock_release+0x592/0x870
[   29.395326]  ? __pfx___schedule+0x10/0x10
[   29.395709]  ? debug_smp_processor_id+0x20/0x30
[   29.396126]  ? rcu_is_watching+0x19/0xc0
[   29.396634]  ? trace_irq_enable+0xe1/0x120
[   29.397028]  ? do_task_dead+0x4a/0x110
[   29.397384]  do_task_dead+0xe0/0x110
[   29.397718]  make_task_dead+0x384/0x3c0
[   29.398151]  rewind_stack_and_make_dead+0x16/0x20
[   29.398638] RIP: 0033:0x7f2e1423ee5d
[   29.398987] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   29.399685] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.400364] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   29.400962] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.401572] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   29.402236] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   29.402840] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   29.403448]  </TASK>
[   29.807478] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#13] PREEMPT SMP KASAN NOPTI
[   29.808599] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.809309] CPU: 1 UID: 0 PID: 4769 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   29.810138] Tainted: [D]=DIE, [W]=WARN
[   29.810491] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.811514] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.812071] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.813720] RSP: 0018:ffff888014ebf7d8 EFLAGS: 00010202
[   29.814212] RAX: dffffc0000000000 RBX: ffffea00006e7800 RCX: ffffffff81bc4f39
[   29.814868] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e7810
[   29.815523] RBP: ffff888014ebf7f8 R08: 0000000000000000 R09: ffffed10021251a4
[   29.816183] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   29.816837] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888010928d20
[   29.817489] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   29.818224] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.818755] CR2: 00007f2e145bf658 CR3: 000000001503e006 CR4: 0000000000770ef0
[   29.819405] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.820056] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.820713] PKRU: 55555554
[   29.820978] Call Trace:
[   29.821220]  <TASK>
[   29.821432]  ? show_regs+0x6d/0x80
[   29.821782]  ? die_addr+0x45/0xb0
[   29.822121]  ? exc_general_protection+0x1ae/0x340
[   29.822582]  ? asm_exc_general_protection+0x2b/0x30
[   29.823056]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.823541]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.824042]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.824534]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.825024]  zap_huge_pmd+0x48e/0xd40
[   29.825396]  unmap_page_range+0x1ad6/0x4360
[   29.825797]  ? __pfx_lock_release+0x10/0x10
[   29.826215]  ? do_raw_spin_trylock+0xbf/0x190
[   29.826646]  ? __kasan_check_read+0x15/0x20
[   29.827063]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.827558]  ? __pfx_unmap_page_range+0x10/0x10
[   29.828026]  unmap_single_vma+0x1ac/0x2d0
[   29.828425]  unmap_vmas+0x210/0x470
[   29.828781]  ? __pfx_unmap_vmas+0x10/0x10
[   29.829173]  ? __pfx_lock_release+0x10/0x10
[   29.829587]  ? lock_release+0x592/0x870
[   29.829962]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.830441]  ? __pfx_lock_release+0x10/0x10
[   29.830862]  ? mlock_drain_local+0x27f/0x4b0
[   29.831290]  exit_mmap+0x19e/0xb10
[   29.831640]  ? __pfx_exit_mmap+0x10/0x10
[   29.832036]  ? debug_smp_processor_id+0x20/0x30
[   29.832479]  ? trace_hardirqs_on+0x51/0x60
[   29.832877]  ? kasan_quarantine_put+0xa2/0x200
[   29.833314]  ? __khugepaged_exit+0x266/0x4c0
[   29.833740]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.834261]  __mmput+0xde/0x3a0
[   29.834577]  mmput+0x74/0x90
[   29.834876]  do_exit+0xa03/0x29f0
[   29.835219]  ? trace_hardirqs_on+0x51/0x60
[   29.835619]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.836219]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.836684]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.837162]  ? __pfx_do_exit+0x10/0x10
[   29.837534]  ? __audit_syscall_entry+0x39c/0x500
[   29.837980]  __x64_sys_exit+0x50/0x60
[   29.838347]  x64_sys_call+0x20c9/0x20d0
[   29.838732]  do_syscall_64+0x6d/0x140
[   29.839108]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.839599] RIP: 0033:0x7f2e1423ee5d
[   29.839946] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   29.840516] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.841209] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   29.841868] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.842525] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   29.843156] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   29.843788] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   29.844420]  </TASK>
[   29.844630] Modules linked in:
[   29.845013] ---[ end trace 0000000000000000 ]---
[   29.845445] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.845975] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.847593] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   29.848062] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   29.848679] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   29.849305] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   29.849905] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.850561] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   29.851166] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   29.852173] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.852677] CR2: 00007f2e145bf658 CR3: 000000001503e006 CR4: 0000000000770ef0
[   29.853284] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.853977] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.854668] PKRU: 55555554
[   29.854911] note: repro[4769] exited with preempt_count 1
[   29.855346] Fixing recursive fault but reboot is needed!
[   29.855776] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4769
[   29.856632] caller is debug_smp_processor_id+0x20/0x30
[   29.857059] CPU: 1 UID: 0 PID: 4769 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   29.857825] Tainted: [D]=DIE, [W]=WARN
[   29.858252] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.859145] Call Trace:
[   29.859363]  <TASK>
[   29.859551]  dump_stack_lvl+0x121/0x150
[   29.860038]  dump_stack+0x19/0x20
[   29.860335]  check_preemption_disabled+0x168/0x180
[   29.860733]  debug_smp_processor_id+0x20/0x30
[   29.861115]  __schedule+0xa0/0x33a0
[   29.861542]  ? do_task_dead+0xa8/0x110
[   29.861862]  ? debug_smp_processor_id+0x20/0x30
[   29.862240]  ? rcu_is_watching+0x19/0xc0
[   29.862578]  ? lock_release+0x592/0x870
[   29.862911]  ? __pfx___schedule+0x10/0x10
[   29.863406]  ? debug_smp_processor_id+0x20/0x30
[   29.863790]  ? rcu_is_watching+0x19/0xc0
[   29.864118]  ? trace_irq_enable+0xe1/0x120
[   29.864454]  ? do_task_dead+0x4a/0x110
[   29.864762]  do_task_dead+0xe0/0x110
[   29.865115]  make_task_dead+0x384/0x3c0
[   29.865508]  rewind_stack_and_make_dead+0x16/0x20
[   29.865881] RIP: 0033:0x7f2e1423ee5d
[   29.866172] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   29.866645] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.867238] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   29.867783] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.868332] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   29.869091] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   29.869622] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   29.870148]  </TASK>
[   29.870384] BUG: scheduling while atomic: repro/4769/0x00000000
[   29.870824] INFO: lockdep is turned off.
[   29.871118] Modules linked in:
[   29.871355] Preemption disabled at:
[   29.871359] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   29.872029] CPU: 1 UID: 0 PID: 4769 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   29.872697] Tainted: [D]=DIE, [W]=WARN
[   29.872974] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.873785] Call Trace:
[   29.873975]  <TASK>
[   29.874146]  dump_stack_lvl+0x121/0x150
[   29.874445]  ? do_task_dead+0x28/0x110
[   29.874733]  dump_stack+0x19/0x20
[   29.875000]  __schedule_bug+0x12d/0x180
[   29.875300]  __schedule+0x23fe/0x33a0
[   29.875576]  ? do_task_dead+0xa8/0x110
[   29.875855]  ? rcu_is_watching+0x19/0xc0
[   29.876145]  ? lock_release+0x592/0x870
[   29.876428]  ? __pfx___schedule+0x10/0x10
[   29.876730]  ? debug_smp_processor_id+0x20/0x30
[   29.877058]  ? rcu_is_watching+0x19/0xc0
[   29.877350]  ? trace_irq_enable+0xe1/0x120
[   29.877652]  ? do_task_dead+0x4a/0x110
[   29.877927]  do_task_dead+0xe0/0x110
[   29.878197]  make_task_dead+0x384/0x3c0
[   29.878482]  rewind_stack_and_make_dead+0x16/0x20
[   29.878821] RIP: 0033:0x7f2e1423ee5d
[   29.879079] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   29.879509] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.880031] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   29.880513] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.880978] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   29.881443] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   29.881910] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   29.882385]  </TASK>
[   30.174339] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#14] PREEMPT SMP KASAN NOPTI
[   30.175669] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.176489] CPU: 0 UID: 0 PID: 5013 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.177366] Tainted: [D]=DIE, [W]=WARN
[   30.177721] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.178735] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.179302] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.180950] RSP: 0018:ffff8880214df7d8 EFLAGS: 00010202
[   30.181592] RAX: dffffc0000000000 RBX: ffffea0000761ec0 RCX: ffffffff81bc4f39
[   30.182476] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000761ed0
[   30.183143] RBP: ffff8880214df7f8 R08: 0000000000000000 R09: ffffed10023c8cc0
[   30.183787] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.184442] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011e46600
[   30.185083] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.185802] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.186389] CR2: 00007fffdaca68b8 CR3: 000000000eeea003 CR4: 0000000000770ef0
[   30.187062] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.187706] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.188346] PKRU: 55555554
[   30.188602] Call Trace:
[   30.188834]  <TASK>
[   30.189058]  ? show_regs+0x6d/0x80
[   30.189402]  ? die_addr+0x45/0xb0
[   30.189734]  ? exc_general_protection+0x1ae/0x340
[   30.190196]  ? asm_exc_general_protection+0x2b/0x30
[   30.190673]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.191170]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.191657]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.192147]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.192638]  zap_huge_pmd+0x48e/0xd40
[   30.193003]  unmap_page_range+0x1ad6/0x4360
[   30.193414]  ? update_stack_state+0x2d9/0x610
[   30.193847]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.194337]  ? __pfx_unmap_page_range+0x10/0x10
[   30.194786]  unmap_single_vma+0x1ac/0x2d0
[   30.195184]  unmap_vmas+0x210/0x470
[   30.195532]  ? __pfx_unmap_vmas+0x10/0x10
[   30.195920]  ? __pfx_lock_release+0x10/0x10
[   30.196328]  ? lock_release+0x592/0x870
[   30.196700]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   30.197172]  ? __pfx_lock_release+0x10/0x10
[   30.197585]  ? mlock_drain_local+0x27f/0x4b0
[   30.198010]  exit_mmap+0x19e/0xb10
[   30.198354]  ? __pfx_exit_mmap+0x10/0x10
[   30.198739]  ? debug_smp_processor_id+0x20/0x30
[   30.199173]  ? trace_hardirqs_on+0x51/0x60
[   30.199571]  ? kasan_quarantine_put+0xa2/0x200
[   30.200007]  ? __khugepaged_exit+0x266/0x4c0
[   30.200427]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.200923]  __mmput+0xde/0x3a0
[   30.201239]  mmput+0x74/0x90
[   30.201527]  do_exit+0xa03/0x29f0
[   30.201852]  ? trace_hardirqs_on+0x51/0x60
[   30.202251]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.202841]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.203304]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.203758]  ? __pfx_do_exit+0x10/0x10
[   30.204128]  ? __audit_syscall_entry+0x39c/0x500
[   30.204571]  __x64_sys_exit+0x50/0x60
[   30.204931]  x64_sys_call+0x20c9/0x20d0
[   30.205316]  do_syscall_64+0x6d/0x140
[   30.205671]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.206152] RIP: 0033:0x7f2e1423ee5d
[   30.206502] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.207071] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.207752] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.208407] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.209048] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.209685] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.210330] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.210989]  </TASK>
[   30.211207] Modules linked in:
[   30.211666] ---[ end trace 0000000000000000 ]---
[   30.211770] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#15] PREEMPT SMP KASAN NOPTI
[   30.212170] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.213196] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.213707] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.214389] CPU: 1 UID: 0 PID: 5041 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.214414] Tainted: [D]=DIE, [W]=WARN
[   30.214420] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.214430] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.214457] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.214472] RSP: 0018:ffff8880112bf7d8 EFLAGS: 00010202
[   30.216102] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   30.216910] 
[   30.217261] 
[   30.218265] RAX: dffffc0000000000 RBX: ffffea000046ad00 RCX: ffffffff81bc4f39
[   30.218278] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000046ad10
[   30.218289] RBP: ffff8880112bf7f8 R08: 0000000000000000 R09: ffffed1003733efc
[   30.218299] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.218309] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b99f7e0
[   30.218320] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   30.218334] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.218345] CR2: 00007f2e145dfdf0 CR3: 000000000fc06001 CR4: 0000000000770ef0
[   30.218359] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.218877] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   30.220527] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.221005] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   30.221487] PKRU: 55555554
[   30.221664] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   30.221816] Call Trace:
[   30.222522] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.223120]  <TASK>
[   30.223748] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   30.224410]  ? show_regs+0x6d/0x80
[   30.225043] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.225757]  ? die_addr+0x45/0xb0
[   30.225783]  ? exc_general_protection+0x1ae/0x340
[   30.225811]  ? asm_exc_general_protection+0x2b/0x30
[   30.225841]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.226397] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.227012]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.227649] CR2: 00007fffdaca68b8 CR3: 000000000eeea003 CR4: 0000000000770ef0
[   30.228296]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.228938] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.229579]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.229833] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.230476]  zap_huge_pmd+0x48e/0xd40
[   30.230504]  unmap_page_range+0x1ad6/0x4360
[   30.230727] PKRU: 55555554
[   30.231379]  ? update_stack_state+0x2d9/0x610
[   30.231582] note: repro[5013] exited with preempt_count 1
[   30.232243]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.232544] Fixing recursive fault but reboot is needed!
[   30.233277]  ? __pfx_unmap_page_range+0x10/0x10
[   30.233585] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5013
[   30.234024]  unmap_single_vma+0x1ac/0x2d0
[   30.234475] caller is debug_smp_processor_id+0x20/0x30
[   30.234930]  unmap_vmas+0x210/0x470
[   30.235446] CPU: 0 UID: 0 PID: 5013 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.235920]  ? __pfx_unmap_vmas+0x10/0x10
[   30.236564] Tainted: [D]=DIE, [W]=WARN
[   30.237029]  ? __pfx_lock_release+0x10/0x10
[   30.237662] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.238149]  ? lock_release+0x592/0x870
[   30.238783] Call Trace:
[   30.239127]  ? mas_next_slot+0x133a/0x1a50
[   30.239506]  <TASK>
[   30.239767]  ? __pfx_lock_release+0x10/0x10
[   30.240170]  dump_stack_lvl+0x121/0x150
[   30.240666]  ? mlock_drain_local+0x27f/0x4b0
[   30.241121]  dump_stack+0x19/0x20
[   30.241610]  exit_mmap+0x19e/0xb10
[   30.242012]  check_preemption_disabled+0x168/0x180
[   30.242701]  ? __pfx_exit_mmap+0x10/0x10
[   30.243081]  debug_smp_processor_id+0x20/0x30
[   30.243548]  ? debug_smp_processor_id+0x20/0x30
[   30.243866]  __schedule+0xa0/0x33a0
[   30.244687]  ? trace_hardirqs_on+0x51/0x60
[   30.245049]  ? do_task_dead+0xa8/0x110
[   30.245395]  ? kasan_quarantine_put+0xa2/0x200
[   30.245777]  ? debug_smp_processor_id+0x20/0x30
[   30.246805]  ? __khugepaged_exit+0x266/0x4c0
[   30.247166]  ? rcu_is_watching+0x19/0xc0
[   30.247406]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.247778]  ? lock_release+0x592/0x870
[   30.247987]  __mmput+0xde/0x3a0
[   30.248362]  ? __pfx___schedule+0x10/0x10
[   30.248729]  mmput+0x74/0x90
[   30.249120]  ? debug_smp_processor_id+0x20/0x30
[   30.249432]  do_exit+0xa03/0x29f0
[   30.249743]  ? rcu_is_watching+0x19/0xc0
[   30.250181]  ? trace_hardirqs_on+0x51/0x60
[   30.250533]  ? trace_irq_enable+0xe1/0x120
[   30.250940]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.251360]  ? do_task_dead+0x4a/0x110
[   30.251681]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.252062]  do_task_dead+0xe0/0x110
[   30.252413]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.252812]  make_task_dead+0x384/0x3c0
[   30.253229]  ? __pfx_do_exit+0x10/0x10
[   30.253624]  rewind_stack_and_make_dead+0x16/0x20
[   30.253990]  ? __audit_syscall_entry+0x39c/0x500
[   30.254479] RIP: 0033:0x7f2e1423ee5d
[   30.254844]  __x64_sys_exit+0x50/0x60
[   30.255141] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.255520]  x64_sys_call+0x20c9/0x20d0
[   30.255785] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   30.256209]  do_syscall_64+0x6d/0x140
[   30.256514]  ORIG_RAX: 000000000000003c
[   30.256878]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.257248] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.257631] RIP: 0033:0x7f2e1423ee5d
[   30.258198] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.258562] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.258997] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.259324] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   30.259765] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.260132]  ORIG_RAX: 000000000000003c
[   30.260476] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.260911] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.261346]  </TASK>
[   30.261667] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.270982] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.271639] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.272303] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.272975]  </TASK>
[   30.273207] Modules linked in:
[   30.273506] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   30.273638] ---[ end trace 0000000000000000 ]---
[   30.275427] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   30.275822] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.277643] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.279346] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   30.279847] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   30.280498] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   30.281155] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   30.281809] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.282482] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   30.283151] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   30.283904] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.284462] CR2: 00007f2e145dfdf0 CR3: 000000000fc06001 CR4: 0000000000770ef0
[   30.285130] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.285793] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.286485] PKRU: 55555554
[   30.286750] note: repro[5041] exited with preempt_count 1
[   30.287257] Fixing recursive fault but reboot is needed!
[   30.287746] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5041
[   30.288470] caller is debug_smp_processor_id+0x20/0x30
[   30.288979] CPU: 1 UID: 0 PID: 5041 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.289833] Tainted: [D]=DIE, [W]=WARN
[   30.290194] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.291220] Call Trace:
[   30.291463]  <TASK>
[   30.291674]  dump_stack_lvl+0x121/0x150
[   30.292053]  dump_stack+0x19/0x20
[   30.292389]  check_preemption_disabled+0x168/0x180
[   30.292855]  debug_smp_processor_id+0x20/0x30
[   30.293276]  __schedule+0xa0/0x33a0
[   30.293627]  ? do_task_dead+0xa8/0x110
[   30.293992]  ? debug_smp_processor_id+0x20/0x30
[   30.294424]  ? rcu_is_watching+0x19/0xc0
[   30.295005]  ? lock_release+0x592/0x870
[   30.295383]  ? __pfx___schedule+0x10/0x10
[   30.295778]  ? debug_smp_processor_id+0x20/0x30
[   30.296209]  ? rcu_is_watching+0x19/0xc0
[   30.296595]  ? trace_irq_enable+0xe1/0x120
[   30.297000]  ? do_task_dead+0x4a/0x110
[   30.297358]  do_task_dead+0xe0/0x110
[   30.297707]  make_task_dead+0x384/0x3c0
[   30.298090]  rewind_stack_and_make_dead+0x16/0x20
[   30.298545] RIP: 0033:0x7f2e1423ee5d
[   30.298894] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.299523] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.300581] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.301244] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.301886] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.302549] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.303364] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.304035]  </TASK>
[   30.304314] BUG: scheduling while atomic: repro/5041/0x00000000
[   30.304869] INFO: lockdep is turned off.
[   30.305246] Modules linked in:
[   30.305549] Preemption disabled at:
[   30.305555] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   30.306422] CPU: 1 UID: 0 PID: 5041 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.307430] Tainted: [D]=DIE, [W]=WARN
[   30.307782] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.308808] Call Trace:
[   30.309053]  <TASK>
[   30.309270]  dump_stack_lvl+0x121/0x150
[   30.309643]  ? do_task_dead+0x28/0x110
[   30.310008]  dump_stack+0x19/0x20
[   30.310335]  __schedule_bug+0x12d/0x180
[   30.310715]  __schedule+0x23fe/0x33a0
[   30.311077]  ? do_task_dead+0xa8/0x110
[   30.311443]  ? rcu_is_watching+0x19/0xc0
[   30.311824]  ? lock_release+0x592/0x870
[   30.312416]  ? __pfx___schedule+0x10/0x10
[   30.312812]  ? debug_smp_processor_id+0x20/0x30
[   30.313248]  ? rcu_is_watching+0x19/0xc0
[   30.313639]  ? trace_irq_enable+0xe1/0x120
[   30.314213]  ? do_task_dead+0x4a/0x110
[   30.314577]  do_task_dead+0xe0/0x110
[   30.314922]  make_task_dead+0x384/0x3c0
[   30.315302]  rewind_stack_and_make_dead+0x16/0x20
[   30.315763] RIP: 0033:0x7f2e1423ee5d
[   30.316115] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.316678] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.317381] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.318030] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.318682] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.319501] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.320160] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.320834]  </TASK>
[   30.329834] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#16] PREEMPT SMP KASAN NOPTI
[   30.331166] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.331871] CPU: 1 UID: 0 PID: 5087 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.332706] Tainted: [D]=DIE, [W]=WARN
[   30.333063] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.334246] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.334803] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.336503] RSP: 0018:ffff88801b8ef7d8 EFLAGS: 00010202
[   30.337018] RAX: dffffc0000000000 RBX: ffffea000044d580 RCX: ffffffff81bc4f39
[   30.337705] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000044d590
[   30.338371] RBP: ffff88801b8ef7f8 R08: 0000000000000000 R09: ffffed100290b9a4
[   30.339045] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.339768] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801485cd20
[   30.340500] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   30.341243] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.341817] CR2: 00007f2e145dfdf0 CR3: 0000000026064003 CR4: 0000000000770ef0
[   30.342861] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.343808] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.344848] PKRU: 55555554
[   30.345445] Call Trace:
[   30.345879]  <TASK>
[   30.346202]  ? show_regs+0x6d/0x80
[   30.346715]  ? die_addr+0x45/0xb0
[   30.347100]  ? exc_general_protection+0x1ae/0x340
[   30.348031]  ? asm_exc_general_protection+0x2b/0x30
[   30.348680]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.349428]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.350393]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.351253]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.352194]  zap_huge_pmd+0x48e/0xd40
[   30.352675]  unmap_page_range+0x1ad6/0x4360
[   30.353170]  ? update_stack_state+0x2d9/0x610
[   30.353686]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.354340]  ? __pfx_unmap_page_range+0x10/0x10
[   30.355183]  unmap_single_vma+0x1ac/0x2d0
[   30.356092]  unmap_vmas+0x210/0x470
[   30.356734]  ? __pfx_unmap_vmas+0x10/0x10
[   30.357382]  ? __pfx_lock_release+0x10/0x10
[   30.357787]  ? lock_release+0x592/0x870
[   30.358170]  ? mas_next_slot+0x133a/0x1a50
[   30.358652]  ? __pfx_lock_release+0x10/0x10
[   30.359489]  ? mlock_drain_local+0x27f/0x4b0
[   30.360438]  exit_mmap+0x19e/0xb10
[   30.360980]  ? __pfx_exit_mmap+0x10/0x10
[   30.361553]  ? debug_smp_processor_id+0x20/0x30
[   30.362255]  ? trace_hardirqs_on+0x51/0x60
[   30.362931]  ? kasan_quarantine_put+0xa2/0x200
[   30.363761]  ? __khugepaged_exit+0x266/0x4c0
[   30.364550]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.365456]  __mmput+0xde/0x3a0
[   30.366042]  mmput+0x74/0x90
[   30.366470]  do_exit+0xa03/0x29f0
[   30.366980]  ? trace_hardirqs_on+0x51/0x60
[   30.367550]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.368905]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.369811]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.370614]  ? __pfx_do_exit+0x10/0x10
[   30.371095]  ? __audit_syscall_entry+0x39c/0x500
[   30.371673]  __x64_sys_exit+0x50/0x60
[   30.372240]  x64_sys_call+0x20c9/0x20d0
[   30.372791]  do_syscall_64+0x6d/0x140
[   30.373261]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.374083] RIP: 0033:0x7f2e1423ee5d
[   30.374528] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.375257] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.376160] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.377003] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.377938] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.379076] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.379925] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.380794]  </TASK>
[   30.381080] Modules linked in:
[   30.381728] ---[ end trace 0000000000000000 ]---
[   30.382392] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.383106] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.385339] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   30.385973] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   30.386930] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   30.387782] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   30.388668] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.389653] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   30.390723] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   30.391685] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.392552] CR2: 00007f2e145dfdf0 CR3: 0000000026064003 CR4: 0000000000770ef0
[   30.393402] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.394350] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.395385] PKRU: 55555554
[   30.395724] note: repro[5087] exited with preempt_count 1
[   30.396375] Fixing recursive fault but reboot is needed!
[   30.397303] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5087
[   30.398255] caller is debug_smp_processor_id+0x20/0x30
[   30.398950] CPU: 1 UID: 0 PID: 5087 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.400081] Tainted: [D]=DIE, [W]=WARN
[   30.400536] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.402102] Call Trace:
[   30.402409]  <TASK>
[   30.402699]  dump_stack_lvl+0x121/0x150
[   30.403293]  dump_stack+0x19/0x20
[   30.403717]  check_preemption_disabled+0x168/0x180
[   30.404310]  debug_smp_processor_id+0x20/0x30
[   30.404965]  __schedule+0xa0/0x33a0
[   30.405418]  ? do_task_dead+0xa8/0x110
[   30.405887]  ? debug_smp_processor_id+0x20/0x30
[   30.406543]  ? rcu_is_watching+0x19/0xc0
[   30.407163]  ? lock_release+0x592/0x870
[   30.407643]  ? __pfx___schedule+0x10/0x10
[   30.408187]  ? debug_smp_processor_id+0x20/0x30
[   30.408845]  ? rcu_is_watching+0x19/0xc0
[   30.409342]  ? trace_irq_enable+0xe1/0x120
[   30.409887]  ? do_task_dead+0x4a/0x110
[   30.410464]  do_task_dead+0xe0/0x110
[   30.410910]  make_task_dead+0x384/0x3c0
[   30.411411]  rewind_stack_and_make_dead+0x16/0x20
[   30.412181] RIP: 0033:0x7f2e1423ee5d
[   30.412624] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.413503] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.414407] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.415429] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.416307] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.417232] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.418116] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.419082]  </TASK>
[   30.419408] BUG: scheduling while atomic: repro/5087/0x00000000
[   30.420226] INFO: lockdep is turned off.
[   30.420696] Modules linked in:
[   30.421082] Preemption disabled at:
[   30.421089] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   30.422178] CPU: 1 UID: 0 PID: 5087 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.423409] Tainted: [D]=DIE, [W]=WARN
[   30.423862] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.425398] Call Trace:
[   30.425704]  <TASK>
[   30.425973]  dump_stack_lvl+0x121/0x150
[   30.426586]  ? do_task_dead+0x28/0x110
[   30.427056]  dump_stack+0x19/0x20
[   30.427544]  __schedule_bug+0x12d/0x180
[   30.428071]  __schedule+0x23fe/0x33a0
[   30.428532]  ? do_task_dead+0xa8/0x110
[   30.429002]  ? rcu_is_watching+0x19/0xc0
[   30.429593]  ? lock_release+0x592/0x870
[   30.430081]  ? __pfx___schedule+0x10/0x10
[   30.430605]  ? debug_smp_processor_id+0x20/0x30
[   30.431270]  ? rcu_is_watching+0x19/0xc0
[   30.431759]  ? trace_irq_enable+0xe1/0x120
[   30.432337]  ? do_task_dead+0x4a/0x110
[   30.432858]  do_task_dead+0xe0/0x110
[   30.433386]  make_task_dead+0x384/0x3c0
[   30.433918]  rewind_stack_and_make_dead+0x16/0x20
[   30.434528] RIP: 0033:0x7f2e1423ee5d
[   30.435027] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.435756] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.436847] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.437823] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.438667] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.439509] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.440354] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.441214]  </TASK>
[   30.441420] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#17] PREEMPT SMP KASAN NOPTI
[   30.442335] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.442918] CPU: 0 UID: 0 PID: 5068 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.443547] Tainted: [D]=DIE, [W]=WARN
[   30.443809] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.444569] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.444978] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.446213] RSP: 0018:ffff8880263e77d8 EFLAGS: 00010202
[   30.446578] RAX: dffffc0000000000 RBX: ffffea0000518f00 RCX: ffffffff81bc4f39
[   30.447082] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000518f10
[   30.447817] RBP: ffff8880263e77f8 R08: 0000000000000000 R09: ffffed1002cb20c0
[   30.448377] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.448853] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888016590600
[   30.449330] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.449864] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.450257] CR2: 00007f548f250700 CR3: 000000000d7fa001 CR4: 0000000000770ef0
[   30.450725] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.451192] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.451656] PKRU: 55555554
[   30.451844] Call Trace:
[   30.452014]  <TASK>
[   30.452166]  ? show_regs+0x6d/0x80
[   30.452410]  ? die_addr+0x45/0xb0
[   30.452650]  ? exc_general_protection+0x1ae/0x340
[   30.452981]  ? asm_exc_general_protection+0x2b/0x30
[   30.453329]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.453841]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.454313]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.454661]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.455006]  zap_huge_pmd+0x48e/0xd40
[   30.455258]  unmap_page_range+0x1ad6/0x4360
[   30.455546]  ? update_stack_state+0x2d9/0x610
[   30.455845]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.456177]  ? __pfx_unmap_page_range+0x10/0x10
[   30.456489]  unmap_single_vma+0x1ac/0x2d0
[   30.456759]  unmap_vmas+0x210/0x470
[   30.457003]  ? __pfx_unmap_vmas+0x10/0x10
[   30.457272]  ? __pfx_lock_release+0x10/0x10
[   30.457545]  ? lock_release+0x592/0x870
[   30.457796]  ? mas_next_slot+0x133a/0x1a50
[   30.458074]  ? __pfx_lock_release+0x10/0x10
[   30.458355]  ? mlock_drain_local+0x27f/0x4b0
[   30.458648]  exit_mmap+0x19e/0xb10
[   30.458886]  ? __pfx_exit_mmap+0x10/0x10
[   30.459174]  ? debug_smp_processor_id+0x20/0x30
[   30.459475]  ? trace_hardirqs_on+0x51/0x60
[   30.459754]  ? kasan_quarantine_put+0xa2/0x200
[   30.460079]  ? __khugepaged_exit+0x266/0x4c0
[   30.460374]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.460726]  __mmput+0xde/0x3a0
[   30.460938]  mmput+0x74/0x90
[   30.461137]  do_exit+0xa03/0x29f0
[   30.461359]  ? trace_hardirqs_on+0x51/0x60
[   30.461627]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.462252]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.462664]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.462974]  ? __pfx_do_exit+0x10/0x10
[   30.463280]  ? __audit_syscall_entry+0x39c/0x500
[   30.463577]  __x64_sys_exit+0x50/0x60
[   30.463819]  x64_sys_call+0x20c9/0x20d0
[   30.464070]  do_syscall_64+0x6d/0x140
[   30.464310]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.464617] RIP: 0033:0x7f2e1423ee5d
[   30.464837] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.465191] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.465623] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.466030] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.466434] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.466838] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.467245] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.467657]  </TASK>
[   30.467797] Modules linked in:
[   30.468046] ---[ end trace 0000000000000000 ]---
[   30.468497] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.468925] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.469933] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   30.470259] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   30.470671] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   30.471083] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   30.471477] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.471868] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   30.472270] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.472700] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.473015] CR2: 00007f548f250700 CR3: 000000000d7fa001 CR4: 0000000000770ef0
[   30.473395] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.473776] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.474183] PKRU: 55555554
[   30.474432] note: repro[5068] exited with preempt_count 1
[   30.474899] Fixing recursive fault but reboot is needed!
[   30.475191] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5068
[   30.475607] caller is debug_smp_processor_id+0x20/0x30
[   30.475905] CPU: 0 UID: 0 PID: 5068 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.476387] Tainted: [D]=DIE, [W]=WARN
[   30.476590] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.477172] Call Trace:
[   30.477310]  <TASK>
[   30.477433]  dump_stack_lvl+0x121/0x150
[   30.477650]  dump_stack+0x19/0x20
[   30.477838]  check_preemption_disabled+0x168/0x180
[   30.478102]  debug_smp_processor_id+0x20/0x30
[   30.478340]  __schedule+0xa0/0x33a0
[   30.478538]  ? do_task_dead+0xa8/0x110
[   30.478746]  ? debug_smp_processor_id+0x20/0x30
[   30.478995]  ? rcu_is_watching+0x19/0xc0
[   30.479215]  ? lock_release+0x592/0x870
[   30.479427]  ? __pfx___schedule+0x10/0x10
[   30.479650]  ? debug_smp_processor_id+0x20/0x30
[   30.479892]  ? rcu_is_watching+0x19/0xc0
[   30.480111]  ? trace_irq_enable+0xe1/0x120
[   30.480341]  ? do_task_dead+0x4a/0x110
[   30.480544]  do_task_dead+0xe0/0x110
[   30.480738]  make_task_dead+0x384/0x3c0
[   30.480947]  rewind_stack_and_make_dead+0x16/0x20
[   30.481198] RIP: 0033:0x7f2e1423ee5d
[   30.481390] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.481699] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.482086] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.482444] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.482799] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.483149] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.483499] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.483852]  </TASK>
[   30.484039] BUG: scheduling while atomic: repro/5068/0x00000000
[   30.484376] INFO: lockdep is turned off.
[   30.484576] Modules linked in:
[   30.484738] Preemption disabled at:
[   30.484741] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   30.485195] CPU: 0 UID: 0 PID: 5068 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   30.485650] Tainted: [D]=DIE, [W]=WARN
[   30.485841] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.486397] Call Trace:
[   30.486525]  <TASK>
[   30.486637]  dump_stack_lvl+0x121/0x150
[   30.486838]  ? do_task_dead+0x28/0x110
[   30.487036]  dump_stack+0x19/0x20
[   30.487215]  __schedule_bug+0x12d/0x180
[   30.487419]  __schedule+0x23fe/0x33a0
[   30.487715]  ? do_task_dead+0xa8/0x110
[   30.488012]  ? rcu_is_watching+0x19/0xc0
[   30.488327]  ? lock_release+0x592/0x870
[   30.488535]  ? __pfx___schedule+0x10/0x10
[   30.488744]  ? debug_smp_processor_id+0x20/0x30
[   30.488978]  ? rcu_is_watching+0x19/0xc0
[   30.489190]  ? trace_irq_enable+0xe1/0x120
[   30.489406]  ? do_task_dead+0x4a/0x110
[   30.489601]  do_task_dead+0xe0/0x110
[   30.489788]  make_task_dead+0x384/0x3c0
[   30.489995]  rewind_stack_and_make_dead+0x16/0x20
[   30.490232] RIP: 0033:0x7f2e1423ee5d
[   30.490410] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   30.490703] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.491067] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   30.491403] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.491743] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   30.492081] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   30.492420] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   30.492767]  </TASK>
[   31.106715] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#18] PREEMPT SMP KASAN NOPTI
[   31.107832] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.108527] CPU: 1 UID: 0 PID: 5507 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.109546] Tainted: [D]=DIE, [W]=WARN
[   31.110114] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.111154] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.111714] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.113368] RSP: 0018:ffff8880128377d8 EFLAGS: 00010202
[   31.114160] RAX: dffffc0000000000 RBX: ffffea00004bc000 RCX: ffffffff81bc4f39
[   31.114846] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004bc010
[   31.115510] RBP: ffff8880128377f8 R08: 0000000000000000 R09: ffffed10040c2b14
[   31.116170] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.116831] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880206158a0
[   31.117547] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.118582] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.119127] CR2: 00007f2e1429bc20 CR3: 000000001bb6a006 CR4: 0000000000770ef0
[   31.119782] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.120433] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.121107] PKRU: 55555554
[   31.121379] Call Trace:
[   31.121622]  <TASK>
[   31.121845]  ? show_regs+0x6d/0x80
[   31.122197]  ? die_addr+0x45/0xb0
[   31.122538]  ? exc_general_protection+0x1ae/0x340
[   31.123021]  ? asm_exc_general_protection+0x2b/0x30
[   31.123504]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.124002]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.124493]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.124998]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.125525]  zap_huge_pmd+0x48e/0xd40
[   31.126104]  unmap_page_range+0x1ad6/0x4360
[   31.126693]  ? update_stack_state+0x2d9/0x610
[   31.127142]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.127638]  ? __pfx_unmap_page_range+0x10/0x10
[   31.128098]  unmap_single_vma+0x1ac/0x2d0
[   31.128513]  unmap_vmas+0x210/0x470
[   31.128868]  ? __pfx_unmap_vmas+0x10/0x10
[   31.129268]  ? __pfx_lock_release+0x10/0x10
[   31.129672]  ? lock_release+0x592/0x870
[   31.130054]  ? mas_next_slot+0x133a/0x1a50
[   31.130459]  ? __pfx_lock_release+0x10/0x10
[   31.130873]  ? mlock_drain_local+0x27f/0x4b0
[   31.131321]  exit_mmap+0x19e/0xb10
[   31.131680]  ? __pfx_exit_mmap+0x10/0x10
[   31.132086]  ? debug_smp_processor_id+0x20/0x30
[   31.132526]  ? trace_hardirqs_on+0x51/0x60
[   31.132931]  ? kasan_quarantine_put+0xa2/0x200
[   31.133383]  ? __khugepaged_exit+0x266/0x4c0
[   31.133815]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.134336]  __mmput+0xde/0x3a0
[   31.134662]  mmput+0x74/0x90
[   31.134959]  do_exit+0xa03/0x29f0
[   31.135321]  ? trace_hardirqs_on+0x51/0x60
[   31.135739]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.136363]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.136826]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.137276]  ? __pfx_do_exit+0x10/0x10
[   31.137641]  ? __audit_syscall_entry+0x39c/0x500
[   31.138143]  __x64_sys_exit+0x50/0x60
[   31.138671]  x64_sys_call+0x20c9/0x20d0
[   31.139145]  do_syscall_64+0x6d/0x140
[   31.139515]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.139995] RIP: 0033:0x7f2e1423ee5d
[   31.140342] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.140905] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.141607] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.142271] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.142925] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.143573] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.144276] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.145298]  </TASK>
[   31.145519] Modules linked in:
[   31.146044] ---[ end trace 0000000000000000 ]---
[   31.146550] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.147068] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.148590] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   31.149302] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   31.149911] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   31.150591] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   31.151256] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.151907] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   31.152602] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.153670] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.154251] CR2: 00007f2e1429bc20 CR3: 000000001bb6a006 CR4: 0000000000770ef0
[   31.154937] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.155593] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.156264] PKRU: 55555554
[   31.156544] note: repro[5507] exited with preempt_count 1
[   31.157050] Fixing recursive fault but reboot is needed!
[   31.157542] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5507
[   31.158301] caller is debug_smp_processor_id+0x20/0x30
[   31.158883] CPU: 1 UID: 0 PID: 5507 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.160051] Tainted: [D]=DIE, [W]=WARN
[   31.160421] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.161460] Call Trace:
[   31.161711]  <TASK>
[   31.161937]  dump_stack_lvl+0x121/0x150
[   31.162334]  dump_stack+0x19/0x20
[   31.162679]  check_preemption_disabled+0x168/0x180
[   31.163138]  debug_smp_processor_id+0x20/0x30
[   31.163576]  __schedule+0xa0/0x33a0
[   31.163933]  ? do_task_dead+0xa8/0x110
[   31.164319]  ? debug_smp_processor_id+0x20/0x30
[   31.164780]  ? rcu_is_watching+0x19/0xc0
[   31.165316]  ? lock_release+0x592/0x870
[   31.165807]  ? __pfx___schedule+0x10/0x10
[   31.166217]  ? debug_smp_processor_id+0x20/0x30
[   31.166608]  ? rcu_is_watching+0x19/0xc0
[   31.166963]  ? trace_irq_enable+0xe1/0x120
[   31.167320]  ? do_task_dead+0x4a/0x110
[   31.167648]  do_task_dead+0xe0/0x110
[   31.167952]  make_task_dead+0x384/0x3c0
[   31.168290]  rewind_stack_and_make_dead+0x16/0x20
[   31.168695] RIP: 0033:0x7f2e1423ee5d
[   31.169001] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.169508] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.170151] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.170669] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.171195] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.171955] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.172517] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.173119]  </TASK>
[   31.173411] BUG: scheduling while atomic: repro/5507/0x00000000
[   31.173976] INFO: lockdep is turned off.
[   31.174371] Modules linked in:
[   31.174680] Preemption disabled at:
[   31.174685] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   31.175527] CPU: 1 UID: 0 PID: 5507 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.176373] Tainted: [D]=DIE, [W]=WARN
[   31.176736] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.178065] Call Trace:
[   31.178401]  <TASK>
[   31.178616]  dump_stack_lvl+0x121/0x150
[   31.179013]  ? do_task_dead+0x28/0x110
[   31.179392]  dump_stack+0x19/0x20
[   31.179726]  __schedule_bug+0x12d/0x180
[   31.180112]  __schedule+0x23fe/0x33a0
[   31.180482]  ? do_task_dead+0xa8/0x110
[   31.180857]  ? rcu_is_watching+0x19/0xc0
[   31.181262]  ? lock_release+0x592/0x870
[   31.181649]  ? __pfx___schedule+0x10/0x10
[   31.182063]  ? debug_smp_processor_id+0x20/0x30
[   31.182503]  ? rcu_is_watching+0x19/0xc0
[   31.182894]  ? trace_irq_enable+0xe1/0x120
[   31.183320]  ? do_task_dead+0x4a/0x110
[   31.183699]  do_task_dead+0xe0/0x110
[   31.184060]  make_task_dead+0x384/0x3c0
[   31.184450]  rewind_stack_and_make_dead+0x16/0x20
[   31.184903] RIP: 0033:0x7f2e1423ee5d
[   31.185276] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.185853] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.186552] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.187210] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.187878] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.188541] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.189203] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.189714]  </TASK>
[   31.201022] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#19] PREEMPT SMP KASAN NOPTI
[   31.201860] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.202380] CPU: 1 UID: 0 PID: 5582 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.203002] Tainted: [D]=DIE, [W]=WARN
[   31.203304] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.204307] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.204842] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.206407] RSP: 0018:ffff88801371f7d8 EFLAGS: 00010202
[   31.206863] RAX: dffffc0000000000 RBX: ffffea0000463140 RCX: ffffffff81bc4f39
[   31.207478] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000463150
[   31.208091] RBP: ffff88801371f7f8 R08: 0000000000000000 R09: ffffed10027906d8
[   31.208700] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.209313] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013c836c0
[   31.209931] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.210624] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.211107] CR2: 00007f2e145f3bf0 CR3: 000000001f11c002 CR4: 0000000000770ef0
[   31.211697] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.212287] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.212874] PKRU: 55555554
[   31.213113] Call Trace:
[   31.213326]  <TASK>
[   31.213516]  ? show_regs+0x6d/0x80
[   31.213826]  ? die_addr+0x45/0xb0
[   31.214127]  ? exc_general_protection+0x1ae/0x340
[   31.214537]  ? asm_exc_general_protection+0x2b/0x30
[   31.214962]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.215402]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.215827]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.216249]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.216671]  zap_huge_pmd+0x48e/0xd40
[   31.216988]  unmap_page_range+0x1ad6/0x4360
[   31.217340]  ? update_stack_state+0x2d9/0x610
[   31.217717]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.218137]  ? __pfx_unmap_page_range+0x10/0x10
[   31.218521]  unmap_single_vma+0x1ac/0x2d0
[   31.218859]  unmap_vmas+0x210/0x470
[   31.219156]  ? __pfx_unmap_vmas+0x10/0x10
[   31.219479]  ? __pfx_lock_release+0x10/0x10
[   31.219815]  ? lock_release+0x592/0x870
[   31.220129]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.220521]  ? __pfx_lock_release+0x10/0x10
[   31.220860]  ? mlock_drain_local+0x27f/0x4b0
[   31.221211]  exit_mmap+0x19e/0xb10
[   31.221495]  ? __pfx_exit_mmap+0x10/0x10
[   31.221813]  ? debug_smp_processor_id+0x20/0x30
[   31.222179]  ? trace_hardirqs_on+0x51/0x60
[   31.222510]  ? kasan_quarantine_put+0xa2/0x200
[   31.222871]  ? __khugepaged_exit+0x266/0x4c0
[   31.223220]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.223638]  __mmput+0xde/0x3a0
[   31.223890]  mmput+0x74/0x90
[   31.224126]  do_exit+0xa03/0x29f0
[   31.224392]  ? trace_hardirqs_on+0x51/0x60
[   31.224713]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.225194]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.225567]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.225940]  ? __pfx_do_exit+0x10/0x10
[   31.226240]  ? __audit_syscall_entry+0x39c/0x500
[   31.226602]  __x64_sys_exit+0x50/0x60
[   31.226888]  x64_sys_call+0x20c9/0x20d0
[   31.227191]  do_syscall_64+0x6d/0x140
[   31.227485]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.227875] RIP: 0033:0x7f2e1423ee5d
[   31.228147] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.228589] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.229137] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.229648] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.230159] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.230669] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.231166] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.231667]  </TASK>
[   31.231836] Modules linked in:
[   31.232134] ---[ end trace 0000000000000000 ]---
[   31.232465] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.232884] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.234171] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   31.234543] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   31.235030] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   31.235510] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   31.235994] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.236474] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   31.236954] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.237498] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.237900] CR2: 00007f2e145f3bf0 CR3: 000000001f11c002 CR4: 0000000000770ef0
[   31.238401] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.238878] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.239347] PKRU: 55555554
[   31.239534] note: repro[5582] exited with preempt_count 1
[   31.239891] Fixing recursive fault but reboot is needed!
[   31.240249] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5582
[   31.240755] caller is debug_smp_processor_id+0x20/0x30
[   31.241102] CPU: 1 UID: 0 PID: 5582 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.241700] Tainted: [D]=DIE, [W]=WARN
[   31.241951] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.242681] Call Trace:
[   31.242849]  <TASK>
[   31.242999]  dump_stack_lvl+0x121/0x150
[   31.243261]  dump_stack+0x19/0x20
[   31.243489]  check_preemption_disabled+0x168/0x180
[   31.243804]  debug_smp_processor_id+0x20/0x30
[   31.244094]  __schedule+0xa0/0x33a0
[   31.244329]  ? do_task_dead+0xa8/0x110
[   31.244575]  ? debug_smp_processor_id+0x20/0x30
[   31.244864]  ? rcu_is_watching+0x19/0xc0
[   31.245121]  ? lock_release+0x592/0x870
[   31.245371]  ? __pfx___schedule+0x10/0x10
[   31.245635]  ? debug_smp_processor_id+0x20/0x30
[   31.245927]  ? rcu_is_watching+0x19/0xc0
[   31.246188]  ? trace_irq_enable+0xe1/0x120
[   31.246457]  ? do_task_dead+0x4a/0x110
[   31.246701]  do_task_dead+0xe0/0x110
[   31.246934]  make_task_dead+0x384/0x3c0
[   31.247189]  rewind_stack_and_make_dead+0x16/0x20
[   31.247491] RIP: 0033:0x7f2e1423ee5d
[   31.247724] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.248111] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.248581] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.249016] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.249444] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.249874] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.250307] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.250743]  </TASK>
[   31.250920] BUG: scheduling while atomic: repro/5582/0x00000000
[   31.251277] INFO: lockdep is turned off.
[   31.251519] Modules linked in:
[   31.251708] Preemption disabled at:
[   31.251711] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   31.252240] CPU: 1 UID: 0 PID: 5582 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.252775] Tainted: [D]=DIE, [W]=WARN
[   31.253003] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.253646] Call Trace:
[   31.253794]  <TASK>
[   31.253922]  dump_stack_lvl+0x121/0x150
[   31.254154]  ? do_task_dead+0x28/0x110
[   31.254378]  dump_stack+0x19/0x20
[   31.254582]  __schedule_bug+0x12d/0x180
[   31.254816]  __schedule+0x23fe/0x33a0
[   31.255040]  ? do_task_dead+0xa8/0x110
[   31.255265]  ? rcu_is_watching+0x19/0xc0
[   31.255503]  ? lock_release+0x592/0x870
[   31.255733]  ? __pfx___schedule+0x10/0x10
[   31.255976]  ? debug_smp_processor_id+0x20/0x30
[   31.256249]  ? rcu_is_watching+0x19/0xc0
[   31.256486]  ? trace_irq_enable+0xe1/0x120
[   31.256734]  ? do_task_dead+0x4a/0x110
[   31.256956]  do_task_dead+0xe0/0x110
[   31.257167]  make_task_dead+0x384/0x3c0
[   31.257392]  rewind_stack_and_make_dead+0x16/0x20
[   31.257664] RIP: 0033:0x7f2e1423ee5d
[   31.257872] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.258218] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.258641] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.259038] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.259435] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.259831] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.260229] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.260633]  </TASK>
[   31.569505] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#20] PREEMPT SMP KASAN NOPTI
[   31.571074] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.571970] CPU: 1 UID: 0 PID: 5789 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.573075] Tainted: [D]=DIE, [W]=WARN
[   31.573530] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.574799] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.575497] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.577546] RSP: 0018:ffff88802605f7d8 EFLAGS: 00010202
[   31.578432] RAX: dffffc0000000000 RBX: ffffea000054e980 RCX: ffffffff81bc4f39
[   31.579248] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000054e990
[   31.580055] RBP: ffff88802605f7f8 R08: 0000000000000000 R09: ffffed1003b00478
[   31.580852] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.581652] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801d8023c0
[   31.582452] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.583347] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.583968] CR2: 00007f2e145f3bf0 CR3: 00000000260e4001 CR4: 0000000000770ef0
[   31.584741] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.585514] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.586632] PKRU: 55555554
[   31.586937] Call Trace:
[   31.587224]  <TASK>
[   31.587473]  ? show_regs+0x6d/0x80
[   31.587874]  ? die_addr+0x45/0xb0
[   31.588265]  ? exc_general_protection+0x1ae/0x340
[   31.588800]  ? asm_exc_general_protection+0x2b/0x30
[   31.589356]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.589900]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.590445]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.590992]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.591537]  zap_huge_pmd+0x48e/0xd40
[   31.592083]  unmap_page_range+0x1ad6/0x4360
[   31.592733]  ? update_stack_state+0x2d9/0x610
[   31.593222]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.593753]  ? __pfx_unmap_page_range+0x10/0x10
[   31.594248]  unmap_single_vma+0x1ac/0x2d0
[   31.594682]  unmap_vmas+0x210/0x470
[   31.595071]  ? __pfx_unmap_vmas+0x10/0x10
[   31.595500]  ? __pfx_lock_release+0x10/0x10
[   31.595942]  ? lock_release+0x592/0x870
[   31.596357]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.596874]  ? __pfx_lock_release+0x10/0x10
[   31.597329]  ? mlock_drain_local+0x27f/0x4b0
[   31.597776]  exit_mmap+0x19e/0xb10
[   31.598210]  ? __pfx_exit_mmap+0x10/0x10
[   31.598775]  ? debug_smp_processor_id+0x20/0x30
[   31.599263]  ? trace_hardirqs_on+0x51/0x60
[   31.599685]  ? kasan_quarantine_put+0xa2/0x200
[   31.600147]  ? __khugepaged_exit+0x266/0x4c0
[   31.600587]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.601131]  __mmput+0xde/0x3a0
[   31.601464]  mmput+0x74/0x90
[   31.601770]  do_exit+0xa03/0x29f0
[   31.602124]  ? trace_hardirqs_on+0x51/0x60
[   31.602543]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.603173]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.603662]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.604156]  ? __pfx_do_exit+0x10/0x10
[   31.604687]  ? __audit_syscall_entry+0x39c/0x500
[   31.605251]  __x64_sys_exit+0x50/0x60
[   31.605616]  x64_sys_call+0x20c9/0x20d0
[   31.605997]  do_syscall_64+0x6d/0x140
[   31.606376]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.606866] RIP: 0033:0x7f2e1423ee5d
[   31.607219] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.607791] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.608499] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.609161] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.609818] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.610480] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.611134] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.611776]  </TASK>
[   31.612091] Modules linked in:
[   31.612533] ---[ end trace 0000000000000000 ]---
[   31.612959] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.613501] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.615168] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   31.615648] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   31.616515] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   31.617145] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   31.617768] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.618407] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   31.619027] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.619963] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.620470] CR2: 00007f2e145f3bf0 CR3: 00000000260e4001 CR4: 0000000000770ef0
[   31.621088] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.621767] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.622727] PKRU: 55555554
[   31.622968] note: repro[5789] exited with preempt_count 1
[   31.623426] Fixing recursive fault but reboot is needed!
[   31.623867] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5789
[   31.624507] caller is debug_smp_processor_id+0x20/0x30
[   31.625081] CPU: 1 UID: 0 PID: 5789 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.625929] Tainted: [D]=DIE, [W]=WARN
[   31.626250] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.627174] Call Trace:
[   31.627388]  <TASK>
[   31.627576]  dump_stack_lvl+0x121/0x150
[   31.628097]  dump_stack+0x19/0x20
[   31.628575]  check_preemption_disabled+0x168/0x180
[   31.629022]  debug_smp_processor_id+0x20/0x30
[   31.629385]  __schedule+0xa0/0x33a0
[   31.629730]  ? do_task_dead+0xa8/0x110
[   31.630094]  ? debug_smp_processor_id+0x20/0x30
[   31.630469]  ? rcu_is_watching+0x19/0xc0
[   31.630803]  ? lock_release+0x592/0x870
[   31.631132]  ? __pfx___schedule+0x10/0x10
[   31.631502]  ? debug_smp_processor_id+0x20/0x30
[   31.631987]  ? rcu_is_watching+0x19/0xc0
[   31.632322]  ? trace_irq_enable+0xe1/0x120
[   31.632668]  ? do_task_dead+0x4a/0x110
[   31.632973]  do_task_dead+0xe0/0x110
[   31.633271]  make_task_dead+0x384/0x3c0
[   31.633660]  rewind_stack_and_make_dead+0x16/0x20
[   31.634165] RIP: 0033:0x7f2e1423ee5d
[   31.634455] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.634929] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.635656] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.636255] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.636967] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.637519] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.638061] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.638828]  </TASK>
[   31.639102] BUG: scheduling while atomic: repro/5789/0x00000000
[   31.639801] INFO: lockdep is turned off.
[   31.640147] Modules linked in:
[   31.640388] Preemption disabled at:
[   31.640392] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   31.641063] CPU: 1 UID: 0 PID: 5789 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.641739] Tainted: [D]=DIE, [W]=WARN
[   31.642029] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.642860] Call Trace:
[   31.643056]  <TASK>
[   31.643226]  dump_stack_lvl+0x121/0x150
[   31.643529]  ? do_task_dead+0x28/0x110
[   31.643842]  dump_stack+0x19/0x20
[   31.644162]  __schedule_bug+0x12d/0x180
[   31.644510]  __schedule+0x23fe/0x33a0
[   31.644792]  ? do_task_dead+0xa8/0x110
[   31.645080]  ? rcu_is_watching+0x19/0xc0
[   31.645380]  ? lock_release+0x592/0x870
[   31.645673]  ? __pfx___schedule+0x10/0x10
[   31.645982]  ? debug_smp_processor_id+0x20/0x30
[   31.646326]  ? rcu_is_watching+0x19/0xc0
[   31.646738]  ? trace_irq_enable+0xe1/0x120
[   31.647181]  ? do_task_dead+0x4a/0x110
[   31.647665]  do_task_dead+0xe0/0x110
[   31.648081]  make_task_dead+0x384/0x3c0
[   31.648372]  rewind_stack_and_make_dead+0x16/0x20
[   31.648870] RIP: 0033:0x7f2e1423ee5d
[   31.649268] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.649699] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.650231] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.650727] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.651223] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.651827] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.652432] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.652925]  </TASK>
[   31.861682] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#21] PREEMPT SMP KASAN NOPTI
[   31.863411] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.864253] CPU: 1 UID: 0 PID: 5933 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.865232] Tainted: [D]=DIE, [W]=WARN
[   31.865644] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.867219] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.867862] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.869810] RSP: 0018:ffff888014e777d8 EFLAGS: 00010202
[   31.870666] RAX: dffffc0000000000 RBX: ffffea000045a3c0 RCX: ffffffff81bc4f39
[   31.871559] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000045a3d0
[   31.872342] RBP: ffff888014e777f8 R08: 0000000000000000 R09: ffffed10022c46cc
[   31.873081] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.873805] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011623660
[   31.874540] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.875363] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.875955] CR2: 00007f2e145f3bf0 CR3: 0000000013ef6001 CR4: 0000000000770ef0
[   31.876695] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.877586] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.878321] PKRU: 55555554
[   31.878612] Call Trace:
[   31.878879]  <TASK>
[   31.879119]  ? show_regs+0x6d/0x80
[   31.879489]  ? die_addr+0x45/0xb0
[   31.879842]  ? exc_general_protection+0x1ae/0x340
[   31.880336]  ? asm_exc_general_protection+0x2b/0x30
[   31.881080]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.881665]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.882191]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.882711]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.883236]  zap_huge_pmd+0x48e/0xd40
[   31.883626]  unmap_page_range+0x1ad6/0x4360
[   31.884061]  ? update_stack_state+0x2d9/0x610
[   31.884523]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.885039]  ? __pfx_unmap_page_range+0x10/0x10
[   31.885510]  unmap_single_vma+0x1ac/0x2d0
[   31.885932]  unmap_vmas+0x210/0x470
[   31.886308]  ? __pfx_unmap_vmas+0x10/0x10
[   31.886721]  ? __pfx_lock_release+0x10/0x10
[   31.887330]  ? lock_release+0x592/0x870
[   31.887746]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.888228]  ? __pfx_lock_release+0x10/0x10
[   31.888643]  ? mlock_drain_local+0x27f/0x4b0
[   31.889072]  exit_mmap+0x19e/0xb10
[   31.889422]  ? __pfx_exit_mmap+0x10/0x10
[   31.889810]  ? debug_smp_processor_id+0x20/0x30
[   31.890258]  ? trace_hardirqs_on+0x51/0x60
[   31.890663]  ? kasan_quarantine_put+0xa2/0x200
[   31.891105]  ? __khugepaged_exit+0x266/0x4c0
[   31.891529]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.892051]  __mmput+0xde/0x3a0
[   31.892372]  mmput+0x74/0x90
[   31.892669]  do_exit+0xa03/0x29f0
[   31.893158]  ? trace_hardirqs_on+0x51/0x60
[   31.893716]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.894315]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.894764]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.895219]  ? __pfx_do_exit+0x10/0x10
[   31.895579]  ? __audit_syscall_entry+0x39c/0x500
[   31.896028]  __x64_sys_exit+0x50/0x60
[   31.896379]  x64_sys_call+0x20c9/0x20d0
[   31.896742]  do_syscall_64+0x6d/0x140
[   31.897096]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.897567] RIP: 0033:0x7f2e1423ee5d
[   31.897905] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.898461] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.899144] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.900011] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.900643] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.901259] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.901871] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.902496]  </TASK>
[   31.902701] Modules linked in:
[   31.903180] ---[ end trace 0000000000000000 ]---
[   31.903596] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.904111] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.905994] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   31.906536] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   31.907136] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   31.907730] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   31.908324] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.908926] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   31.909541] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   31.910336] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.910923] CR2: 00007f2e145f3bf0 CR3: 0000000013ef6001 CR4: 0000000000770ef0
[   31.911523] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.912340] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.912998] PKRU: 55555554
[   31.913407] note: repro[5933] exited with preempt_count 1
[   31.913875] Fixing recursive fault but reboot is needed!
[   31.914176] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#22] PREEMPT SMP KASAN NOPTI
[   31.914412] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5933
[   31.915464] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.915485] CPU: 0 UID: 0 PID: 5937 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.915515] Tainted: [D]=DIE, [W]=WARN
[   31.916146] caller is debug_smp_processor_id+0x20/0x30
[   31.916805] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.917521] CPU: 1 UID: 0 PID: 5933 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.917857] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.918430] Tainted: [D]=DIE, [W]=WARN
[   31.919412] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.920101] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.920617] RSP: 0018:ffff8880261f77d8 EFLAGS: 00010202
[   31.920911] Call Trace:
[   31.920918]  <TASK>
[   31.922517] 
[   31.923413]  dump_stack_lvl+0x121/0x150
[   31.923873] RAX: dffffc0000000000 RBX: ffffea0000819d40 RCX: ffffffff81bc4f39
[   31.924068]  dump_stack+0x19/0x20
[   31.924268] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000819d50
[   31.924392]  check_preemption_disabled+0x168/0x180
[   31.924730] RBP: ffff8880261f77f8 R08: 0000000000000000 R09: ffffed100226c174
[   31.925259]  debug_smp_processor_id+0x20/0x30
[   31.925555] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.926085]  __schedule+0xa0/0x33a0
[   31.926512] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011360ba0
[   31.927037]  ? do_task_dead+0xa8/0x110
[   31.927427] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.927938]  ? debug_smp_processor_id+0x20/0x30
[   31.928254] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.928759]  ? rcu_is_watching+0x19/0xc0
[   31.929097] CR2: 00007f548f285050 CR3: 0000000019470006 CR4: 0000000000770ef0
[   31.929667]  ? lock_release+0x592/0x870
[   31.930076] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.930484]  ? __pfx___schedule+0x10/0x10
[   31.930828] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.931340]  ? debug_smp_processor_id+0x20/0x30
[   31.931677] PKRU: 55555554
[   31.932181]  ? rcu_is_watching+0x19/0xc0
[   31.932537] Call Trace:
[   31.933031]  ? trace_irq_enable+0xe1/0x120
[   31.933431]  <TASK>
[   31.933627]  ? do_task_dead+0x4a/0x110
[   31.933978]  ? show_regs+0x6d/0x80
[   31.934158]  do_task_dead+0xe0/0x110
[   31.934519]  ? die_addr+0x45/0xb0
[   31.934674]  make_task_dead+0x384/0x3c0
[   31.935017]  ? exc_general_protection+0x1ae/0x340
[   31.935259]  rewind_stack_and_make_dead+0x16/0x20
[   31.935590]  ? asm_exc_general_protection+0x2b/0x30
[   31.935816] RIP: 0033:0x7f2e1423ee5d
[   31.936168]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.936484] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.936903]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.937234] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   31.937557]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.937933]  ORIG_RAX: 000000000000003c
[   31.938490]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.938908] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.939377]  zap_huge_pmd+0x48e/0xd40
[   31.939732] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.940089]  unmap_page_range+0x1ad6/0x4360
[   31.940430] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.941060]  ? update_stack_state+0x2d9/0x610
[   31.941302] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.941930]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.942194] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.943038]  ? __pfx_unmap_page_range+0x10/0x10
[   31.943330]  </TASK>
[   31.943949]  unmap_single_vma+0x1ac/0x2d0
[   31.945849]  unmap_vmas+0x210/0x470
[   31.946209]  ? __pfx_unmap_vmas+0x10/0x10
[   31.946594]  ? __pfx_lock_release+0x10/0x10
[   31.946995]  ? lock_release+0x592/0x870
[   31.947368]  ? mas_next_slot+0x133a/0x1a50
[   31.947762]  ? __pfx_lock_release+0x10/0x10
[   31.948264]  ? mlock_drain_local+0x27f/0x4b0
[   31.948869]  exit_mmap+0x19e/0xb10
[   31.949264]  ? __pfx_exit_mmap+0x10/0x10
[   31.949645]  ? debug_smp_processor_id+0x20/0x30
[   31.950089]  ? trace_hardirqs_on+0x51/0x60
[   31.950486]  ? kasan_quarantine_put+0xa2/0x200
[   31.950915]  ? __khugepaged_exit+0x266/0x4c0
[   31.951332]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.951828]  __mmput+0xde/0x3a0
[   31.952149]  mmput+0x74/0x90
[   31.952437]  do_exit+0xa03/0x29f0
[   31.952773]  ? trace_hardirqs_on+0x51/0x60
[   31.953177]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.953775]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.954233]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.954687]  ? __pfx_do_exit+0x10/0x10
[   31.955056]  ? __audit_syscall_entry+0x39c/0x500
[   31.955497]  __x64_sys_exit+0x50/0x60
[   31.955854]  x64_sys_call+0x20c9/0x20d0
[   31.956261]  do_syscall_64+0x6d/0x140
[   31.956958]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.957552] RIP: 0033:0x7f2e1423ee5d
[   31.957890] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.958442] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.959122] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.959750] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.960384] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.961017] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.961641] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.962313]  </TASK>
[   31.962552] Modules linked in:
[   31.963166] ---[ end trace 0000000000000000 ]---
[   31.963620] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.964184] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.965835] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   31.966526] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   31.967191] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   31.967856] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   31.968515] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.969180] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   31.969840] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.970664] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.971202] CR2: 00007f548f285050 CR3: 0000000019470006 CR4: 0000000000770ef0
[   31.971858] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.972539] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.973216] PKRU: 55555554
[   31.973480] note: repro[5937] exited with preempt_count 1
[   31.973974] Fixing recursive fault but reboot is needed!
[   31.974539] BUG: scheduling while atomic: repro/5937/0x00000000
[   31.975099] INFO: lockdep is turned off.
[   31.975464] Modules linked in:
[   31.975757] Preemption disabled at:
[   31.975763] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   31.976614] CPU: 0 UID: 0 PID: 5937 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   31.977453] Tainted: [D]=DIE, [W]=WARN
[   31.977804] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.978827] Call Trace:
[   31.979118]  <TASK>
[   31.979434]  dump_stack_lvl+0x121/0x150
[   31.980011]  ? do_task_dead+0x28/0x110
[   31.980402]  dump_stack+0x19/0x20
[   31.980748]  __schedule_bug+0x12d/0x180
[   31.981177]  __schedule+0x23fe/0x33a0
[   31.981545]  ? do_task_dead+0xa8/0x110
[   31.981913]  ? rcu_is_watching+0x19/0xc0
[   31.982313]  ? lock_release+0x592/0x870
[   31.982690]  ? __pfx___schedule+0x10/0x10
[   31.983093]  ? debug_smp_processor_id+0x20/0x30
[   31.983524]  ? rcu_is_watching+0x19/0xc0
[   31.983912]  ? trace_irq_enable+0xe1/0x120
[   31.984320]  ? do_task_dead+0x4a/0x110
[   31.984719]  do_task_dead+0xe0/0x110
[   31.985117]  make_task_dead+0x384/0x3c0
[   31.985498]  rewind_stack_and_make_dead+0x16/0x20
[   31.985959] RIP: 0033:0x7f2e1423ee5d
[   31.986307] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   31.986871] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.987567] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   31.988218] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.988866] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   31.989644] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   31.990521] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   31.991211]  </TASK>
[   31.999257] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#23] PREEMPT SMP KASAN NOPTI
[   32.000369] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.001084] CPU: 0 UID: 0 PID: 6065 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.002186] Tainted: [D]=DIE, [W]=WARN
[   32.002539] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.003565] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.004131] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.005779] RSP: 0018:ffff88802079f7d8 EFLAGS: 00010202
[   32.006518] RAX: dffffc0000000000 RBX: ffffea0000426500 RCX: ffffffff81bc4f39
[   32.007277] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000426510
[   32.007979] RBP: ffff88802079f7f8 R08: 0000000000000000 R09: ffffed1003770f14
[   32.008639] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.009294] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801bb878a0
[   32.009939] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   32.010678] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.011239] CR2: 00007f5490a3d000 CR3: 0000000020730004 CR4: 0000000000770ef0
[   32.011935] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.012583] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.013239] PKRU: 55555554
[   32.013500] Call Trace:
[   32.013734]  <TASK>
[   32.013947]  ? show_regs+0x6d/0x80
[   32.014287]  ? die_addr+0x45/0xb0
[   32.014620]  ? exc_general_protection+0x1ae/0x340
[   32.015081]  ? asm_exc_general_protection+0x2b/0x30
[   32.015547]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.016045]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.016526]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.017008]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.017486]  zap_huge_pmd+0x48e/0xd40
[   32.017864]  unmap_page_range+0x1ad6/0x4360
[   32.018291]  ? update_stack_state+0x2d9/0x610
[   32.018720]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.019189]  ? __pfx_unmap_page_range+0x10/0x10
[   32.019629]  unmap_single_vma+0x1ac/0x2d0
[   32.020009]  unmap_vmas+0x210/0x470
[   32.020334]  ? __pfx_unmap_vmas+0x10/0x10
[   32.020693]  ? __pfx_lock_release+0x10/0x10
[   32.021064]  ? lock_release+0x592/0x870
[   32.021410]  ? mas_next_slot+0x133a/0x1a50
[   32.021788]  ? __pfx_lock_release+0x10/0x10
[   32.022176]  ? mlock_drain_local+0x27f/0x4b0
[   32.022569]  exit_mmap+0x19e/0xb10
[   32.022889]  ? __pfx_exit_mmap+0x10/0x10
[   32.023250]  ? debug_smp_processor_id+0x20/0x30
[   32.023643]  ? trace_hardirqs_on+0x51/0x60
[   32.024023]  ? kasan_quarantine_put+0xa2/0x200
[   32.024412]  ? __khugepaged_exit+0x266/0x4c0
[   32.024784]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.025237]  __mmput+0xde/0x3a0
[   32.025521]  mmput+0x74/0x90
[   32.025776]  do_exit+0xa03/0x29f0
[   32.026088]  ? trace_hardirqs_on+0x51/0x60
[   32.026453]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.026966]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.027369]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.027761]  ? __pfx_do_exit+0x10/0x10
[   32.028096]  ? __audit_syscall_entry+0x39c/0x500
[   32.028489]  __x64_sys_exit+0x50/0x60
[   32.028803]  x64_sys_call+0x20c9/0x20d0
[   32.029145]  do_syscall_64+0x6d/0x140
[   32.029453]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.029871] RIP: 0033:0x7f2e1423ee5d
[   32.030184] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.030676] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.031267] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.031831] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.032399] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.033170] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.033870] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.034422]  </TASK>
[   32.034607] Modules linked in:
[   32.035069] ---[ end trace 0000000000000000 ]---
[   32.035431] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.035880] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.037245] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   32.037644] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   32.038326] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   32.038843] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   32.039346] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.039848] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   32.040359] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   32.040969] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.041603] CR2: 00007f5490a3d000 CR3: 0000000020730004 CR4: 0000000000770ef0
[   32.042285] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.042782] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.043263] PKRU: 55555554
[   32.043458] note: repro[6065] exited with preempt_count 1
[   32.043822] Fixing recursive fault but reboot is needed!
[   32.044186] BUG: scheduling while atomic: repro/6065/0x00000000
[   32.044593] INFO: lockdep is turned off.
[   32.044858] Modules linked in:
[   32.045081] Preemption disabled at:
[   32.045085] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   32.045697] CPU: 0 UID: 0 PID: 6065 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.046323] Tainted: [D]=DIE, [W]=WARN
[   32.046583] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.047525] Call Trace:
[   32.047788]  <TASK>
[   32.048029]  dump_stack_lvl+0x121/0x150
[   32.048310]  ? do_task_dead+0x28/0x110
[   32.048577]  dump_stack+0x19/0x20
[   32.048823]  __schedule_bug+0x12d/0x180
[   32.049113]  __schedule+0x23fe/0x33a0
[   32.049387]  ? do_task_dead+0xa8/0x110
[   32.049654]  ? rcu_is_watching+0x19/0xc0
[   32.049941]  ? lock_release+0x592/0x870
[   32.050221]  ? __pfx___schedule+0x10/0x10
[   32.050513]  ? debug_smp_processor_id+0x20/0x30
[   32.050833]  ? rcu_is_watching+0x19/0xc0
[   32.051119]  ? trace_irq_enable+0xe1/0x120
[   32.051417]  ? do_task_dead+0x4a/0x110
[   32.051681]  do_task_dead+0xe0/0x110
[   32.051933]  make_task_dead+0x384/0x3c0
[   32.052207]  rewind_stack_and_make_dead+0x16/0x20
[   32.052529] RIP: 0033:0x7f2e1423ee5d
[   32.052772] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.053183] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.053672] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.054129] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.054586] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.055048] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.055500] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.056191]  </TASK>
[   32.387065] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#24] PREEMPT SMP KASAN NOPTI
[   32.388168] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.388876] CPU: 1 UID: 0 PID: 6241 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.390016] Tainted: [D]=DIE, [W]=WARN
[   32.390388] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.391435] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.392002] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.393684] RSP: 0018:ffff888011cf77d8 EFLAGS: 00010202
[   32.394190] RAX: dffffc0000000000 RBX: ffffea0000981800 RCX: ffffffff81bc4f39
[   32.394845] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000981810
[   32.395864] RBP: ffff888011cf77f8 R08: 0000000000000000 R09: ffffed1003f29248
[   32.396546] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   32.397212] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f949240
[   32.397865] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.398594] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.399128] CR2: 00007fffdaca68b8 CR3: 0000000020686005 CR4: 0000000000770ef0
[   32.399780] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.400427] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.401104] PKRU: 55555554
[   32.401373] Call Trace:
[   32.401619]  <TASK>
[   32.401836]  ? show_regs+0x6d/0x80
[   32.402188]  ? die_addr+0x45/0xb0
[   32.402526]  ? exc_general_protection+0x1ae/0x340
[   32.403021]  ? asm_exc_general_protection+0x2b/0x30
[   32.403775]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.404383]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.404883]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.405388]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.405881]  zap_huge_pmd+0x48e/0xd40
[   32.406260]  unmap_page_range+0x1ad6/0x4360
[   32.406666]  ? __pfx_lock_release+0x10/0x10
[   32.407081]  ? do_raw_spin_trylock+0xbf/0x190
[   32.407515]  ? __kasan_check_read+0x15/0x20
[   32.407932]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.408420]  ? __pfx_unmap_page_range+0x10/0x10
[   32.408889]  unmap_single_vma+0x1ac/0x2d0
[   32.409314]  unmap_vmas+0x210/0x470
[   32.409671]  ? __pfx_unmap_vmas+0x10/0x10
[   32.410067]  ? __pfx_lock_release+0x10/0x10
[   32.410468]  ? lock_release+0x592/0x870
[   32.410857]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.411351]  ? __pfx_lock_release+0x10/0x10
[   32.411762]  ? mlock_drain_local+0x27f/0x4b0
[   32.412185]  exit_mmap+0x19e/0xb10
[   32.412534]  ? __pfx_exit_mmap+0x10/0x10
[   32.412926]  ? debug_smp_processor_id+0x20/0x30
[   32.413367]  ? trace_hardirqs_on+0x51/0x60
[   32.413775]  ? kasan_quarantine_put+0xa2/0x200
[   32.414218]  ? __khugepaged_exit+0x266/0x4c0
[   32.414644]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.415177]  __mmput+0xde/0x3a0
[   32.415510]  mmput+0x74/0x90
[   32.415805]  do_exit+0xa03/0x29f0
[   32.416146]  ? trace_hardirqs_on+0x51/0x60
[   32.416548]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.417149]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.417663]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.418393]  ? __pfx_do_exit+0x10/0x10
[   32.418817]  ? __audit_syscall_entry+0x39c/0x500
[   32.419294]  __x64_sys_exit+0x50/0x60
[   32.419664]  x64_sys_call+0x20c9/0x20d0
[   32.420046]  do_syscall_64+0x6d/0x140
[   32.420418]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.420911] RIP: 0033:0x7f2e1423ee5d
[   32.421266] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.421841] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.422541] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.423203] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.423916] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.424870] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.425530] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.426206]  </TASK>
[   32.426430] Modules linked in:
[   32.426954] ---[ end trace 0000000000000000 ]---
[   32.427413] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.427968] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.429644] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   32.430406] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   32.431284] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   32.431941] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   32.432600] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.433255] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   32.433911] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.434745] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.435285] CR2: 00007fffdaca68b8 CR3: 0000000020686005 CR4: 0000000000770ef0
[   32.435955] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.436949] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.437685] PKRU: 55555554
[   32.437958] note: repro[6241] exited with preempt_count 1
[   32.438563] Fixing recursive fault but reboot is needed!
[   32.439069] BUG: scheduling while atomic: repro/6241/0x00000000
[   32.439675] INFO: lockdep is turned off.
[   32.440052] Modules linked in:
[   32.440360] Preemption disabled at:
[   32.440366] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   32.441216] CPU: 1 UID: 0 PID: 6241 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.442120] Tainted: [D]=DIE, [W]=WARN
[   32.442488] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.443515] Call Trace:
[   32.443758]  <TASK>
[   32.443974]  dump_stack_lvl+0x121/0x150
[   32.444365]  ? do_task_dead+0x28/0x110
[   32.444728]  dump_stack+0x19/0x20
[   32.445075]  __schedule_bug+0x12d/0x180
[   32.445462]  __schedule+0x23fe/0x33a0
[   32.445848]  ? do_task_dead+0xa8/0x110
[   32.446233]  ? rcu_is_watching+0x19/0xc0
[   32.446633]  ? lock_release+0x592/0x870
[   32.447015]  ? __pfx___schedule+0x10/0x10
[   32.447427]  ? debug_smp_processor_id+0x20/0x30
[   32.447884]  ? rcu_is_watching+0x19/0xc0
[   32.448290]  ? trace_irq_enable+0xe1/0x120
[   32.448704]  ? do_task_dead+0x4a/0x110
[   32.449080]  do_task_dead+0xe0/0x110
[   32.449442]  make_task_dead+0x384/0x3c0
[   32.449828]  rewind_stack_and_make_dead+0x16/0x20
[   32.450307] RIP: 0033:0x7f2e1423ee5d
[   32.450666] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.451557] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.452281] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.452933] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.453592] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.454253] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.454917] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.455592]  </TASK>
[   32.706170] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#25] PREEMPT SMP KASAN NOPTI
[   32.707311] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.708031] CPU: 1 UID: 0 PID: 6440 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.708873] Tainted: [D]=DIE, [W]=WARN
[   32.709245] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.710284] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.710841] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.712878] RSP: 0018:ffff8880260277d8 EFLAGS: 00010202
[   32.713379] RAX: dffffc0000000000 RBX: ffffea0000497900 RCX: ffffffff81bc4f39
[   32.714042] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000497910
[   32.714700] RBP: ffff8880260277f8 R08: 0000000000000000 R09: ffffed10023f4580
[   32.715361] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.716076] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011fa2c00
[   32.717055] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.717807] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.718346] CR2: 00007f2e145bee28 CR3: 000000001f3c2003 CR4: 0000000000770ef0
[   32.718996] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.719660] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.720468] PKRU: 55555554
[   32.720881] Call Trace:
[   32.721188]  <TASK>
[   32.721412]  ? show_regs+0x6d/0x80
[   32.721775]  ? die_addr+0x45/0xb0
[   32.722131]  ? exc_general_protection+0x1ae/0x340
[   32.722594]  ? asm_exc_general_protection+0x2b/0x30
[   32.723078]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.723574]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.724100]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.724600]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.725096]  zap_huge_pmd+0x48e/0xd40
[   32.725472]  unmap_page_range+0x1ad6/0x4360
[   32.725894]  ? update_stack_state+0x2d9/0x610
[   32.726352]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.726837]  ? __pfx_unmap_page_range+0x10/0x10
[   32.727295]  unmap_single_vma+0x1ac/0x2d0
[   32.727698]  unmap_vmas+0x210/0x470
[   32.728070]  ? __pfx_unmap_vmas+0x10/0x10
[   32.728463]  ? __pfx_lock_release+0x10/0x10
[   32.729093]  ? lock_release+0x592/0x870
[   32.729550]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.730033]  ? __pfx_lock_release+0x10/0x10
[   32.730453]  ? mlock_drain_local+0x27f/0x4b0
[   32.730881]  exit_mmap+0x19e/0xb10
[   32.731234]  ? __pfx_exit_mmap+0x10/0x10
[   32.731624]  ? debug_smp_processor_id+0x20/0x30
[   32.732074]  ? trace_hardirqs_on+0x51/0x60
[   32.732487]  ? kasan_quarantine_put+0xa2/0x200
[   32.732923]  ? __khugepaged_exit+0x266/0x4c0
[   32.733347]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.733858]  __mmput+0xde/0x3a0
[   32.734190]  mmput+0x74/0x90
[   32.734488]  do_exit+0xa03/0x29f0
[   32.735011]  ? trace_hardirqs_on+0x51/0x60
[   32.735589]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.736214]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.736689]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.737152]  ? __pfx_do_exit+0x10/0x10
[   32.737528]  ? __audit_syscall_entry+0x39c/0x500
[   32.737982]  __x64_sys_exit+0x50/0x60
[   32.738370]  x64_sys_call+0x20c9/0x20d0
[   32.738836]  do_syscall_64+0x6d/0x140
[   32.739412]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.739971] RIP: 0033:0x7f2e1423ee5d
[   32.740328] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.740910] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.741604] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.742265] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.742911] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.743877] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.744541] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.745210]  </TASK>
[   32.745434] Modules linked in:
[   32.745819] ---[ end trace 0000000000000000 ]---
[   32.746276] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.746844] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.748497] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   32.749009] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   32.749657] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   32.750335] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   32.751018] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.752178] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   32.752847] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.754036] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.754828] CR2: 00007f2e145bee28 CR3: 000000001f3c2003 CR4: 0000000000770ef0
[   32.755523] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.756193] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.756990] PKRU: 55555554
[   32.757253] note: repro[6440] exited with preempt_count 1
[   32.757998] Fixing recursive fault but reboot is needed!
[   32.758529] BUG: scheduling while atomic: repro/6440/0x00000000
[   32.759120] INFO: lockdep is turned off.
[   32.759616] Modules linked in:
[   32.759919] Preemption disabled at:
[   32.759925] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   32.760775] CPU: 1 UID: 0 PID: 6440 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.761628] Tainted: [D]=DIE, [W]=WARN
[   32.761989] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.763112] Call Trace:
[   32.763357]  <TASK>
[   32.763606]  dump_stack_lvl+0x121/0x150
[   32.764113]  ? do_task_dead+0x28/0x110
[   32.764481]  dump_stack+0x19/0x20
[   32.764815]  __schedule_bug+0x12d/0x180
[   32.765217]  __schedule+0x23fe/0x33a0
[   32.765852]  ? do_task_dead+0xa8/0x110
[   32.766230]  ? rcu_is_watching+0x19/0xc0
[   32.766617]  ? lock_release+0x592/0x870
[   32.767002]  ? __pfx___schedule+0x10/0x10
[   32.767442]  ? debug_smp_processor_id+0x20/0x30
[   32.768025]  ? rcu_is_watching+0x19/0xc0
[   32.768418]  ? trace_irq_enable+0xe1/0x120
[   32.768828]  ? do_task_dead+0x4a/0x110
[   32.769294]  do_task_dead+0xe0/0x110
[   32.769748]  make_task_dead+0x384/0x3c0
[   32.770136]  rewind_stack_and_make_dead+0x16/0x20
[   32.770587] RIP: 0033:0x7f2e1423ee5d
[   32.770977] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.771612] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.772329] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.773131] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.773797] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.774526] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.775192] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.775871]  </TASK>
[   32.784705] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#26] PREEMPT SMP KASAN NOPTI
[   32.785922] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.786569] CPU: 1 UID: 0 PID: 6504 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.787340] Tainted: [D]=DIE, [W]=WARN
[   32.787658] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.788708] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.789230] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.791044] RSP: 0018:ffff88801942f7d8 EFLAGS: 00010202
[   32.791540] RAX: dffffc0000000000 RBX: ffffea00004bed00 RCX: ffffffff81bc4f39
[   32.792285] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004bed10
[   32.792937] RBP: ffff88801942f7f8 R08: 0000000000000000 R09: ffffed10027c5a6c
[   32.793694] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.794354] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013e2d360
[   32.795087] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.795876] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.796585] CR2: 00007f2f8c12e000 CR3: 00000000215a6005 CR4: 0000000000770ef0
[   32.797352] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.798028] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.798693] PKRU: 55555554
[   32.798961] Call Trace:
[   32.799216]  <TASK>
[   32.799432]  ? show_regs+0x6d/0x80
[   32.799784]  ? die_addr+0x45/0xb0
[   32.800135]  ? exc_general_protection+0x1ae/0x340
[   32.800596]  ? asm_exc_general_protection+0x2b/0x30
[   32.801078]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.801577]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.802066]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.802562]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.803054]  zap_huge_pmd+0x48e/0xd40
[   32.803423]  unmap_page_range+0x1ad6/0x4360
[   32.803831]  ? update_stack_state+0x2d9/0x610
[   32.804275]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.804758]  ? __pfx_unmap_page_range+0x10/0x10
[   32.805212]  unmap_single_vma+0x1ac/0x2d0
[   32.805606]  unmap_vmas+0x210/0x470
[   32.805971]  ? __pfx_unmap_vmas+0x10/0x10
[   32.806368]  ? __pfx_lock_release+0x10/0x10
[   32.806768]  ? lock_release+0x592/0x870
[   32.807148]  ? mas_next_slot+0x133a/0x1a50
[   32.807547]  ? __pfx_lock_release+0x10/0x10
[   32.807956]  ? mlock_drain_local+0x27f/0x4b0
[   32.808327]  exit_mmap+0x19e/0xb10
[   32.808615]  ? __pfx_exit_mmap+0x10/0x10
[   32.808930]  ? debug_smp_processor_id+0x20/0x30
[   32.809301]  ? trace_hardirqs_on+0x51/0x60
[   32.809632]  ? kasan_quarantine_put+0xa2/0x200
[   32.810004]  ? __khugepaged_exit+0x266/0x4c0
[   32.810359]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.810785]  __mmput+0xde/0x3a0
[   32.811046]  mmput+0x74/0x90
[   32.811287]  do_exit+0xa03/0x29f0
[   32.811564]  ? trace_hardirqs_on+0x51/0x60
[   32.811893]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.812392]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.812782]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.813172]  ? __pfx_do_exit+0x10/0x10
[   32.813482]  ? __audit_syscall_entry+0x39c/0x500
[   32.813856]  __x64_sys_exit+0x50/0x60
[   32.814164]  x64_sys_call+0x20c9/0x20d0
[   32.814474]  do_syscall_64+0x6d/0x140
[   32.814778]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.815185] RIP: 0033:0x7f2e1423ee5d
[   32.815472] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.815938] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.816515] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.817091] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.817748] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.818398] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.819061] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.819729]  </TASK>
[   32.819950] Modules linked in:
[   32.820365] ---[ end trace 0000000000000000 ]---
[   32.820772] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.821241] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.822800] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   32.823243] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   32.823888] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   32.824545] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   32.825211] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.825863] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   32.826626] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.827456] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.828009] CR2: 00007f2f8c12e000 CR3: 00000000215a6005 CR4: 0000000000770ef0
[   32.828665] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.829323] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.829980] PKRU: 55555554
[   32.830343] note: repro[6504] exited with preempt_count 1
[   32.830845] Fixing recursive fault but reboot is needed!
[   32.831413] BUG: scheduling while atomic: repro/6504/0x00000000
[   32.831967] INFO: lockdep is turned off.
[   32.832360] Modules linked in:
[   32.832654] Preemption disabled at:
[   32.832660] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   32.833521] CPU: 1 UID: 0 PID: 6504 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   32.834364] Tainted: [D]=DIE, [W]=WARN
[   32.834718] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.835762] Call Trace:
[   32.836005]  <TASK>
[   32.836225]  dump_stack_lvl+0x121/0x150
[   32.836606]  ? do_task_dead+0x28/0x110
[   32.836970]  dump_stack+0x19/0x20
[   32.837307]  __schedule_bug+0x12d/0x180
[   32.837690]  __schedule+0x23fe/0x33a0
[   32.838057]  ? do_task_dead+0xa8/0x110
[   32.838429]  ? rcu_is_watching+0x19/0xc0
[   32.838816]  ? lock_release+0x592/0x870
[   32.839201]  ? __pfx___schedule+0x10/0x10
[   32.839605]  ? debug_smp_processor_id+0x20/0x30
[   32.840045]  ? rcu_is_watching+0x19/0xc0
[   32.840436]  ? trace_irq_enable+0xe1/0x120
[   32.840840]  ? do_task_dead+0x4a/0x110
[   32.841216]  do_task_dead+0xe0/0x110
[   32.841568]  make_task_dead+0x384/0x3c0
[   32.841947]  rewind_stack_and_make_dead+0x16/0x20
[   32.842403] RIP: 0033:0x7f2e1423ee5d
[   32.842749] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   32.843317] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.844014] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   32.844637] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.845226] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   32.845814] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   32.846407] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   32.847008]  </TASK>
[   33.102261] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#27] PREEMPT SMP KASAN NOPTI
[   33.103368] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.104046] CPU: 0 UID: 0 PID: 6656 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   33.105065] Tainted: [D]=DIE, [W]=WARN
[   33.105464] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.106501] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.107075] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.108652] RSP: 0018:ffff88801f0e77d8 EFLAGS: 00010202
[   33.109127] RAX: dffffc0000000000 RBX: ffffea000081fcc0 RCX: ffffffff81bc4f39
[   33.109766] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000081fcd0
[   33.110443] RBP: ffff88801f0e77f8 R08: 0000000000000000 R09: ffffed100373f8b4
[   33.111098] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.111733] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b9fc5a0
[   33.112390] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.113123] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.113652] CR2: 00007f2e145f3bf0 CR3: 00000000167e8003 CR4: 0000000000770ef0
[   33.114313] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.114972] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.115618] PKRU: 55555554
[   33.115885] Call Trace:
[   33.116158]  <TASK>
[   33.116379]  ? show_regs+0x6d/0x80
[   33.116737]  ? die_addr+0x45/0xb0
[   33.117079]  ? exc_general_protection+0x1ae/0x340
[   33.117541]  ? asm_exc_general_protection+0x2b/0x30
[   33.118020]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.118509]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.118998]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.119490]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.119982]  zap_huge_pmd+0x48e/0xd40
[   33.120369]  unmap_page_range+0x1ad6/0x4360
[   33.120779]  ? update_stack_state+0x2d9/0x610
[   33.121224]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.121702]  ? __pfx_unmap_page_range+0x10/0x10
[   33.122196]  unmap_single_vma+0x1ac/0x2d0
[   33.122652]  unmap_vmas+0x210/0x470
[   33.123015]  ? __pfx_unmap_vmas+0x10/0x10
[   33.123401]  ? __pfx_lock_release+0x10/0x10
[   33.123802]  ? lock_release+0x592/0x870
[   33.124195]  ? mas_next_slot+0x133a/0x1a50
[   33.124600]  ? __pfx_lock_release+0x10/0x10
[   33.125033]  ? mlock_drain_local+0x27f/0x4b0
[   33.125454]  exit_mmap+0x19e/0xb10
[   33.125802]  ? __pfx_exit_mmap+0x10/0x10
[   33.126194]  ? debug_smp_processor_id+0x20/0x30
[   33.126624]  ? trace_hardirqs_on+0x51/0x60
[   33.127034]  ? kasan_quarantine_put+0xa2/0x200
[   33.127463]  ? __khugepaged_exit+0x266/0x4c0
[   33.127882]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.128396]  __mmput+0xde/0x3a0
[   33.128739]  mmput+0x74/0x90
[   33.129059]  do_exit+0xa03/0x29f0
[   33.129399]  ? trace_hardirqs_on+0x51/0x60
[   33.129796]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.130395]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.130857]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.131314]  ? __pfx_do_exit+0x10/0x10
[   33.131687]  ? __audit_syscall_entry+0x39c/0x500
[   33.132136]  __x64_sys_exit+0x50/0x60
[   33.132509]  x64_sys_call+0x20c9/0x20d0
[   33.132892]  do_syscall_64+0x6d/0x140
[   33.133259]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.133749] RIP: 0033:0x7f2e1423ee5d
[   33.134103] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   33.134655] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.135365] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   33.136026] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.136670] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   33.137335] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   33.137993] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   33.138647]  </TASK>
[   33.138884] Modules linked in:
[   33.139431] ---[ end trace 0000000000000000 ]---
[   33.139873] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.140423] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.142140] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   33.142718] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   33.143419] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   33.144075] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   33.144718] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.145365] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   33.146027] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.146841] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.147413] CR2: 00007f2e145f3bf0 CR3: 00000000167e8003 CR4: 0000000000770ef0
[   33.148075] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.148719] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.149374] PKRU: 55555554
[   33.149645] note: repro[6656] exited with preempt_count 1
[   33.150230] Fixing recursive fault but reboot is needed!
[   33.150716] BUG: scheduling while atomic: repro/6656/0x00000000
[   33.151291] INFO: lockdep is turned off.
[   33.151656] Modules linked in:
[   33.152036] Preemption disabled at:
[   33.152043] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   33.153278] CPU: 0 UID: 0 PID: 6656 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   33.154187] Tainted: [D]=DIE, [W]=WARN
[   33.154556] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.155570] Call Trace:
[   33.155804]  <TASK>
[   33.156024]  dump_stack_lvl+0x121/0x150
[   33.156395]  ? do_task_dead+0x28/0x110
[   33.156749]  dump_stack+0x19/0x20
[   33.157079]  __schedule_bug+0x12d/0x180
[   33.157453]  __schedule+0x23fe/0x33a0
[   33.157806]  ? do_task_dead+0xa8/0x110
[   33.158176]  ? rcu_is_watching+0x19/0xc0
[   33.158550]  ? lock_release+0x592/0x870
[   33.158921]  ? __pfx___schedule+0x10/0x10
[   33.159319]  ? debug_smp_processor_id+0x20/0x30
[   33.159743]  ? rcu_is_watching+0x19/0xc0
[   33.160127]  ? trace_irq_enable+0xe1/0x120
[   33.160525]  ? do_task_dead+0x4a/0x110
[   33.160889]  do_task_dead+0xe0/0x110
[   33.161236]  make_task_dead+0x384/0x3c0
[   33.161610]  rewind_stack_and_make_dead+0x16/0x20
[   33.162056] RIP: 0033:0x7f2e1423ee5d
[   33.162397] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   33.162953] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.163647] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   33.164303] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.164948] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   33.165596] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   33.166239] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   33.166891]  </TASK>
[   33.221689] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#28] PREEMPT SMP KASAN NOPTI
[   33.222817] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.223517] CPU: 1 UID: 0 PID: 6748 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   33.224354] Tainted: [D]=DIE, [W]=WARN
[   33.224706] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.225742] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.226299] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.227964] RSP: 0018:ffff88801baff7d8 EFLAGS: 00010202
[   33.228469] RAX: dffffc0000000000 RBX: ffffea00006e89c0 RCX: ffffffff81bc4f39
[   33.229126] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e89d0
[   33.229787] RBP: ffff88801baff7f8 R08: 0000000000000000 R09: ffffed1002a4a40c
[   33.230437] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   33.231101] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888015252060
[   33.231758] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   33.232492] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.233024] CR2: 00007f2e145bf658 CR3: 000000000fe7c001 CR4: 0000000000770ef0
[   33.233675] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.234331] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.234979] PKRU: 55555554
[   33.235247] Call Trace:
[   33.235485]  <TASK>
[   33.235697]  ? show_regs+0x6d/0x80
[   33.236048]  ? die_addr+0x45/0xb0
[   33.236389]  ? exc_general_protection+0x1ae/0x340
[   33.236849]  ? asm_exc_general_protection+0x2b/0x30
[   33.237340]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.237828]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.238323]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.238816]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.239310]  zap_huge_pmd+0x48e/0xd40
[   33.239682]  unmap_page_range+0x1ad6/0x4360
[   33.240110]  ? __pfx_lock_release+0x10/0x10
[   33.240516]  ? do_raw_spin_trylock+0xbf/0x190
[   33.240943]  ? __kasan_check_read+0x15/0x20
[   33.241355]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.241848]  ? __pfx_unmap_page_range+0x10/0x10
[   33.242304]  unmap_single_vma+0x1ac/0x2d0
[   33.242701]  unmap_vmas+0x210/0x470
[   33.243056]  ? __pfx_unmap_vmas+0x10/0x10
[   33.243447]  ? __pfx_lock_release+0x10/0x10
[   33.243858]  ? lock_release+0x592/0x870
[   33.244236]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.244717]  ? __pfx_lock_release+0x10/0x10
[   33.245133]  ? mlock_drain_local+0x27f/0x4b0
[   33.245560]  exit_mmap+0x19e/0xb10
[   33.245903]  ? __pfx_exit_mmap+0x10/0x10
[   33.246292]  ? debug_smp_processor_id+0x20/0x30
[   33.246729]  ? trace_hardirqs_on+0x51/0x60
[   33.247140]  ? kasan_quarantine_put+0xa2/0x200
[   33.247582]  ? __khugepaged_exit+0x266/0x4c0
[   33.248011]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.248526]  __mmput+0xde/0x3a0
[   33.248848]  mmput+0x74/0x90
[   33.249144]  do_exit+0xa03/0x29f0
[   33.249479]  ? trace_hardirqs_on+0x51/0x60
[   33.249888]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.250484]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.250956]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.251428]  ? __pfx_do_exit+0x10/0x10
[   33.251802]  ? __audit_syscall_entry+0x39c/0x500
[   33.252298]  __x64_sys_exit+0x50/0x60
[   33.252711]  x64_sys_call+0x20c9/0x20d0
[   33.253095]  do_syscall_64+0x6d/0x140
[   33.253459]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.253944] RIP: 0033:0x7f2e1423ee5d
[   33.254301] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   33.254870] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.255565] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   33.256223] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.256883] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   33.257553] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   33.258216] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   33.258903]  </TASK>
[   33.259128] Modules linked in:
[   33.259603] ---[ end trace 0000000000000000 ]---
[   33.260075] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.260630] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.262434] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   33.262942] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   33.263611] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   33.264283] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   33.264953] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.265665] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   33.266394] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   33.267146] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.267684] CR2: 00007f2e145bf658 CR3: 000000000fe7c001 CR4: 0000000000770ef0
[   33.268351] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.269019] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.269678] PKRU: 55555554
[   33.269950] note: repro[6748] exited with preempt_count 1
[   33.270522] Fixing recursive fault but reboot is needed!
[   33.271031] BUG: scheduling while atomic: repro/6748/0x00000000
[   33.271582] INFO: lockdep is turned off.
[   33.271949] Modules linked in:
[   33.272266] Preemption disabled at:
[   33.272272] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   33.273123] CPU: 1 UID: 0 PID: 6748 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   33.273980] Tainted: [D]=DIE, [W]=WARN
[   33.274347] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.275395] Call Trace:
[   33.275651]  <TASK>
[   33.275871]  dump_stack_lvl+0x121/0x150
[   33.276277]  ? do_task_dead+0x28/0x110
[   33.276652]  dump_stack+0x19/0x20
[   33.276998]  __schedule_bug+0x12d/0x180
[   33.277381]  __schedule+0x23fe/0x33a0
[   33.277751]  ? do_task_dead+0xa8/0x110
[   33.278128]  ? rcu_is_watching+0x19/0xc0
[   33.278529]  ? lock_release+0x592/0x870
[   33.278903]  ? __pfx___schedule+0x10/0x10
[   33.279316]  ? debug_smp_processor_id+0x20/0x30
[   33.279752]  ? rcu_is_watching+0x19/0xc0
[   33.280151]  ? trace_irq_enable+0xe1/0x120
[   33.280554]  ? do_task_dead+0x4a/0x110
[   33.280926]  do_task_dead+0xe0/0x110
[   33.281285]  make_task_dead+0x384/0x3c0
[   33.281678]  rewind_stack_and_make_dead+0x16/0x20
[   33.282140] RIP: 0033:0x7f2e1423ee5d
[   33.282489] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   33.283061] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.283763] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   33.284425] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.285090] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   33.285748] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   33.286408] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   33.287079]  </TASK>
[   34.220629] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#29] PREEMPT SMP KASAN NOPTI
[   34.221767] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.222478] CPU: 1 UID: 0 PID: 7353 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.223324] Tainted: [D]=DIE, [W]=WARN
[   34.223681] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.224707] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.225261] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.226927] RSP: 0018:ffff88801f05f7d8 EFLAGS: 00010202
[   34.227422] RAX: dffffc0000000000 RBX: ffffea000047e900 RCX: ffffffff81bc4f39
[   34.228078] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000047e910
[   34.228734] RBP: ffff88801f05f7f8 R08: 0000000000000000 R09: ffffed10028bf998
[   34.229386] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   34.230043] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880145fccc0
[   34.230701] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.231424] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.231956] CR2: 00007f2e143b2820 CR3: 0000000014ff0006 CR4: 0000000000770ef0
[   34.232604] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.233257] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.233905] PKRU: 55555554
[   34.234171] Call Trace:
[   34.234414]  <TASK>
[   34.234631]  ? show_regs+0x6d/0x80
[   34.234974]  ? die_addr+0x45/0xb0
[   34.235324]  ? exc_general_protection+0x1ae/0x340
[   34.235784]  ? asm_exc_general_protection+0x2b/0x30
[   34.236272]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.236768]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.237271]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.237770]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.238265]  zap_huge_pmd+0x48e/0xd40
[   34.238635]  unmap_page_range+0x1ad6/0x4360
[   34.239046]  ? __pfx_lock_release+0x10/0x10
[   34.239450]  ? do_raw_spin_trylock+0xbf/0x190
[   34.239886]  ? __kasan_check_read+0x15/0x20
[   34.240301]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.240787]  ? __pfx_unmap_page_range+0x10/0x10
[   34.241238]  unmap_single_vma+0x1ac/0x2d0
[   34.241632]  unmap_vmas+0x210/0x470
[   34.241989]  ? __pfx_unmap_vmas+0x10/0x10
[   34.242378]  ? __pfx_lock_release+0x10/0x10
[   34.242782]  ? lock_release+0x592/0x870
[   34.243168]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.243636]  ? __pfx_lock_release+0x10/0x10
[   34.244051]  ? mlock_drain_local+0x27f/0x4b0
[   34.244474]  exit_mmap+0x19e/0xb10
[   34.244820]  ? __pfx_exit_mmap+0x10/0x10
[   34.245204]  ? debug_smp_processor_id+0x20/0x30
[   34.245637]  ? trace_hardirqs_on+0x51/0x60
[   34.246049]  ? kasan_quarantine_put+0xa2/0x200
[   34.246484]  ? __khugepaged_exit+0x266/0x4c0
[   34.246904]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.247426]  __mmput+0xde/0x3a0
[   34.247741]  mmput+0x74/0x90
[   34.248040]  do_exit+0xa03/0x29f0
[   34.248372]  ? trace_hardirqs_on+0x51/0x60
[   34.248773]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.249379]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.249845]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.250310]  ? __pfx_do_exit+0x10/0x10
[   34.250686]  ? __audit_syscall_entry+0x39c/0x500
[   34.251140]  __x64_sys_exit+0x50/0x60
[   34.251502]  x64_sys_call+0x20c9/0x20d0
[   34.251874]  do_syscall_64+0x6d/0x140
[   34.252238]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.252731] RIP: 0033:0x7f2e1423ee5d
[   34.253084] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.253653] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.254352] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.255008] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.255662] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.256310] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.256970] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.257649]  </TASK>
[   34.257865] Modules linked in:
[   34.258169] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#30] PREEMPT SMP KASAN NOPTI
[   34.258311] ---[ end trace 0000000000000000 ]---
[   34.259274] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.259706] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.260370] CPU: 0 UID: 0 PID: 7381 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.260897] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.261697] Tainted: [D]=DIE, [W]=WARN
[   34.263427] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   34.263676] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.264164] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   34.265160] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.265815] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   34.266329] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.266347] RSP: 0018:ffff88801f9477d8 EFLAGS: 00010202
[   34.266362] RAX: dffffc0000000000 RBX: ffffea000054d800 RCX: ffffffff81bc4f39
[   34.266373] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000054d810
[   34.266383] RBP: ffff88801f9477f8 R08: 0000000000000000 R09: ffffed1003e75284
[   34.266394] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.266403] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f3a9420
[   34.267061] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   34.268737] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.269219] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.269852] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.270547] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   34.271110] CR2: 00007f2e145bf5b8 CR3: 000000001f890001 CR4: 0000000000770ef0
[   34.271732] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.272369] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.272992] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.273699] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.274435] CR2: 00007f2e143b2820 CR3: 0000000014ff0006 CR4: 0000000000770ef0
[   34.274844] PKRU: 55555554
[   34.275486] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.276115] Call Trace:
[   34.276784] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.277414]  <TASK>
[   34.277889] PKRU: 55555554
[   34.278523]  ? show_regs+0x6d/0x80
[   34.279127] note: repro[7353] exited with preempt_count 1
[   34.279384]  ? die_addr+0x45/0xb0
[   34.279969] Fixing recursive fault but reboot is needed!
[   34.280206]  ? exc_general_protection+0x1ae/0x340
[   34.283289]  ? asm_exc_general_protection+0x2b/0x30
[   34.283771]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.284260]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.284745]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.285234]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.285712]  zap_huge_pmd+0x48e/0xd40
[   34.286085]  unmap_page_range+0x1ad6/0x4360
[   34.286487]  ? update_stack_state+0x2d9/0x610
[   34.286921]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.287405]  ? __pfx_unmap_page_range+0x10/0x10
[   34.287848]  unmap_single_vma+0x1ac/0x2d0
[   34.288238]  unmap_vmas+0x210/0x470
[   34.288584]  ? __pfx_unmap_vmas+0x10/0x10
[   34.288968]  ? __pfx_lock_release+0x10/0x10
[   34.289368]  ? lock_release+0x592/0x870
[   34.289734]  ? mas_next_slot+0x133a/0x1a50
[   34.290138]  ? __pfx_lock_release+0x10/0x10
[   34.290537]  ? mlock_drain_local+0x27f/0x4b0
[   34.290950]  exit_mmap+0x19e/0xb10
[   34.291297]  ? __pfx_exit_mmap+0x10/0x10
[   34.291678]  ? debug_smp_processor_id+0x20/0x30
[   34.292117]  ? trace_hardirqs_on+0x51/0x60
[   34.292512]  ? kasan_quarantine_put+0xa2/0x200
[   34.292941]  ? __khugepaged_exit+0x266/0x4c0
[   34.293364]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.293871]  __mmput+0xde/0x3a0
[   34.294187]  mmput+0x74/0x90
[   34.294478]  do_exit+0xa03/0x29f0
[   34.294802]  ? trace_hardirqs_on+0x51/0x60
[   34.295202]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.295793]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.296260]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.296721]  ? __pfx_do_exit+0x10/0x10
[   34.297090]  ? __audit_syscall_entry+0x39c/0x500
[   34.297531]  __x64_sys_exit+0x50/0x60
[   34.297889]  x64_sys_call+0x20c9/0x20d0
[   34.298272]  do_syscall_64+0x6d/0x140
[   34.298633]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.299114] RIP: 0033:0x7f2e1423ee5d
[   34.299465] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.300024] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.300703] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.301344] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.301975] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.302626] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.303263] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.303921]  </TASK>
[   34.304144] Modules linked in:
[   34.304583] ---[ end trace 0000000000000000 ]---
[   34.305025] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.305572] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.307315] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   34.307806] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   34.308454] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   34.309105] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   34.309745] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.310470] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   34.311121] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.311842] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.312421] CR2: 00007f2e145bf5b8 CR3: 000000001f890001 CR4: 0000000000770ef0
[   34.313082] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.313726] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.314469] PKRU: 55555554
[   34.314736] note: repro[7381] exited with preempt_count 1
[   34.315226] Fixing recursive fault but reboot is needed!
[   34.315698] BUG: scheduling while atomic: repro/7381/0x00000000
[   34.316239] INFO: lockdep is turned off.
[   34.316599] Modules linked in:
[   34.316890] Preemption disabled at:
[   34.316896] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   34.317796] CPU: 0 UID: 0 PID: 7381 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.318617] Tainted: [D]=DIE, [W]=WARN
[   34.318965] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.319986] Call Trace:
[   34.320222]  <TASK>
[   34.320434]  dump_stack_lvl+0x121/0x150
[   34.320819]  ? do_task_dead+0x28/0x110
[   34.321192]  dump_stack+0x19/0x20
[   34.321520]  __schedule_bug+0x12d/0x180
[   34.321899]  __schedule+0x23fe/0x33a0
[   34.322267]  ? do_task_dead+0xa8/0x110
[   34.322627]  ? rcu_is_watching+0x19/0xc0
[   34.323011]  ? lock_release+0x592/0x870
[   34.323381]  ? __pfx___schedule+0x10/0x10
[   34.323768]  ? debug_smp_processor_id+0x20/0x30
[   34.324204]  ? rcu_is_watching+0x19/0xc0
[   34.324579]  ? trace_irq_enable+0xe1/0x120
[   34.324980]  ? do_task_dead+0x4a/0x110
[   34.325341]  do_task_dead+0xe0/0x110
[   34.325686]  make_task_dead+0x384/0x3c0
[   34.326065]  rewind_stack_and_make_dead+0x16/0x20
[   34.326505] RIP: 0033:0x7f2e1423ee5d
[   34.326845] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.327406] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.328099] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.328730] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.329376] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.330022] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.330656] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.331325]  </TASK>
[   34.505287] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#31] PREEMPT SMP KASAN NOPTI
[   34.506410] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.507108] CPU: 1 UID: 0 PID: 7492 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.507932] Tainted: [D]=DIE, [W]=WARN
[   34.508290] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.509313] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.509872] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.511529] RSP: 0018:ffff88800e9a77d8 EFLAGS: 00010202
[   34.512025] RAX: dffffc0000000000 RBX: ffffea0000424d40 RCX: ffffffff81bc4f39
[   34.512668] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000424d50
[   34.513321] RBP: ffff88800e9a77f8 R08: 0000000000000000 R09: ffffed10025ac344
[   34.513989] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.514635] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012d61a20
[   34.515297] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.516032] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.516563] CR2: 00007f2e145beef8 CR3: 000000001f918006 CR4: 0000000000770ef0
[   34.517219] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.517867] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.518526] PKRU: 55555554
[   34.518788] Call Trace:
[   34.519029]  <TASK>
[   34.519245]  ? show_regs+0x6d/0x80
[   34.519590]  ? die_addr+0x45/0xb0
[   34.519926]  ? exc_general_protection+0x1ae/0x340
[   34.520389]  ? asm_exc_general_protection+0x2b/0x30
[   34.520874]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.521361]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.521854]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.522349]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.522836]  zap_huge_pmd+0x48e/0xd40
[   34.523202]  unmap_page_range+0x1ad6/0x4360
[   34.523608]  ? update_stack_state+0x2d9/0x610
[   34.524047]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.524525]  ? __pfx_unmap_page_range+0x10/0x10
[   34.524974]  unmap_single_vma+0x1ac/0x2d0
[   34.525381]  unmap_vmas+0x210/0x470
[   34.525743]  ? __pfx_unmap_vmas+0x10/0x10
[   34.526142]  ? __pfx_lock_release+0x10/0x10
[   34.526543]  ? lock_release+0x592/0x870
[   34.526913]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.527396]  ? __pfx_lock_release+0x10/0x10
[   34.527799]  ? mlock_drain_local+0x27f/0x4b0
[   34.528225]  exit_mmap+0x19e/0xb10
[   34.528569]  ? __pfx_exit_mmap+0x10/0x10
[   34.528951]  ? debug_smp_processor_id+0x20/0x30
[   34.529393]  ? trace_hardirqs_on+0x51/0x60
[   34.529792]  ? kasan_quarantine_put+0xa2/0x200
[   34.530241]  ? __khugepaged_exit+0x266/0x4c0
[   34.530663]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.531176]  __mmput+0xde/0x3a0
[   34.531490]  mmput+0x74/0x90
[   34.531777]  do_exit+0xa03/0x29f0
[   34.532116]  ? trace_hardirqs_on+0x51/0x60
[   34.532513]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.533105]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.533564]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.534030]  ? __pfx_do_exit+0x10/0x10
[   34.534405]  ? __audit_syscall_entry+0x39c/0x500
[   34.534852]  __x64_sys_exit+0x50/0x60
[   34.535218]  x64_sys_call+0x20c9/0x20d0
[   34.535591]  do_syscall_64+0x6d/0x140
[   34.535948]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.536431] RIP: 0033:0x7f2e1423ee5d
[   34.536783] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.537352] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.538048] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.538702] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.539356] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.540006] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.540654] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.541295]  </TASK>
[   34.541505] Modules linked in:
[   34.541906] ---[ end trace 0000000000000000 ]---
[   34.542413] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.542937] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.544556] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   34.545039] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   34.545662] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   34.546386] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   34.547035] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.547675] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   34.548312] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.549024] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.549543] CR2: 00007f2e145beef8 CR3: 000000001f918006 CR4: 0000000000770ef0
[   34.550261] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.550871] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.551483] PKRU: 55555554
[   34.551723] note: repro[7492] exited with preempt_count 1
[   34.552229] Fixing recursive fault but reboot is needed!
[   34.553027] check_preemption_disabled: 9 callbacks suppressed
[   34.553040] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7492
[   34.554656] caller is debug_smp_processor_id+0x20/0x30
[   34.555471] CPU: 1 UID: 0 PID: 7492 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.556248] Tainted: [D]=DIE, [W]=WARN
[   34.556570] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.557504] Call Trace:
[   34.557725]  <TASK>
[   34.557918]  dump_stack_lvl+0x121/0x150
[   34.558267]  dump_stack+0x19/0x20
[   34.558563]  check_preemption_disabled+0x168/0x180
[   34.558957]  debug_smp_processor_id+0x20/0x30
[   34.559461]  __schedule+0xa0/0x33a0
[   34.559774]  ? do_task_dead+0xa8/0x110
[   34.560090]  ? debug_smp_processor_id+0x20/0x30
[   34.560459]  ? rcu_is_watching+0x19/0xc0
[   34.560795]  ? lock_release+0x592/0x870
[   34.561129]  ? __pfx___schedule+0x10/0x10
[   34.561475]  ? debug_smp_processor_id+0x20/0x30
[   34.561846]  ? rcu_is_watching+0x19/0xc0
[   34.562179]  ? trace_irq_enable+0xe1/0x120
[   34.562533]  ? do_task_dead+0x4a/0x110
[   34.562978]  do_task_dead+0xe0/0x110
[   34.563282]  make_task_dead+0x384/0x3c0
[   34.563595]  rewind_stack_and_make_dead+0x16/0x20
[   34.563969] RIP: 0033:0x7f2e1423ee5d
[   34.564251] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.564913] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.565493] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.566026] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.566547] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.567076] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.567611] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.568246]  </TASK>
[   34.568515] BUG: scheduling while atomic: repro/7492/0x00000000
[   34.568973] INFO: lockdep is turned off.
[   34.569276] Modules linked in:
[   34.569540] Preemption disabled at:
[   34.569545] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   34.570393] CPU: 1 UID: 0 PID: 7492 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.571068] Tainted: [D]=DIE, [W]=WARN
[   34.571343] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.572149] Call Trace:
[   34.572340]  <TASK>
[   34.572513]  dump_stack_lvl+0x121/0x150
[   34.572833]  ? do_task_dead+0x28/0x110
[   34.573219]  dump_stack+0x19/0x20
[   34.573477]  __schedule_bug+0x12d/0x180
[   34.573768]  __schedule+0x23fe/0x33a0
[   34.574070]  ? do_task_dead+0xa8/0x110
[   34.574447]  ? rcu_is_watching+0x19/0xc0
[   34.574747]  ? lock_release+0x592/0x870
[   34.575048]  ? __pfx___schedule+0x10/0x10
[   34.575357]  ? debug_smp_processor_id+0x20/0x30
[   34.575692]  ? rcu_is_watching+0x19/0xc0
[   34.575993]  ? trace_irq_enable+0xe1/0x120
[   34.576306]  ? do_task_dead+0x4a/0x110
[   34.576595]  do_task_dead+0xe0/0x110
[   34.576865]  make_task_dead+0x384/0x3c0
[   34.577162]  rewind_stack_and_make_dead+0x16/0x20
[   34.577581] RIP: 0033:0x7f2e1423ee5d
[   34.577896] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.578345] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.578868] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.579523] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.580011] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.580493] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.581068] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.581562]  </TASK>
[   34.624914] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#32] PREEMPT SMP KASAN NOPTI
[   34.626020] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.626704] CPU: 0 UID: 0 PID: 7590 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.627526] Tainted: [D]=DIE, [W]=WARN
[   34.627877] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.628888] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.629714] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.631464] RSP: 0018:ffff88802630f7d8 EFLAGS: 00010202
[   34.631952] RAX: dffffc0000000000 RBX: ffffea0000653840 RCX: ffffffff81bc4f39
[   34.632602] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000653850
[   34.633318] RBP: ffff88802630f7f8 R08: 0000000000000000 R09: ffffed1002226bd4
[   34.634293] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   34.634951] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011135ea0
[   34.635606] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.636335] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.636872] CR2: 00007f2e145f3bf0 CR3: 0000000020764006 CR4: 0000000000770ef0
[   34.637545] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.638191] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.638840] PKRU: 55555554
[   34.639126] Call Trace:
[   34.639367]  <TASK>
[   34.639583]  ? show_regs+0x6d/0x80
[   34.639931]  ? die_addr+0x45/0xb0
[   34.640276]  ? exc_general_protection+0x1ae/0x340
[   34.640733]  ? asm_exc_general_protection+0x2b/0x30
[   34.641236]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.641723]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.642210]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.642697]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.643228]  zap_huge_pmd+0x48e/0xd40
[   34.643602]  unmap_page_range+0x1ad6/0x4360
[   34.644011]  ? __pfx_lock_release+0x10/0x10
[   34.644413]  ? do_raw_spin_trylock+0xbf/0x190
[   34.644833]  ? __kasan_check_read+0x15/0x20
[   34.645245]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.645728]  ? __pfx_unmap_page_range+0x10/0x10
[   34.646182]  unmap_single_vma+0x1ac/0x2d0
[   34.646575]  unmap_vmas+0x210/0x470
[   34.646941]  ? __pfx_unmap_vmas+0x10/0x10
[   34.647353]  ? __pfx_lock_release+0x10/0x10
[   34.647759]  ? lock_release+0x592/0x870
[   34.648136]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.648604]  ? __pfx_lock_release+0x10/0x10
[   34.649039]  ? mlock_drain_local+0x27f/0x4b0
[   34.649470]  exit_mmap+0x19e/0xb10
[   34.649835]  ? __pfx_exit_mmap+0x10/0x10
[   34.650222]  ? debug_smp_processor_id+0x20/0x30
[   34.650653]  ? trace_hardirqs_on+0x51/0x60
[   34.651059]  ? kasan_quarantine_put+0xa2/0x200
[   34.651489]  ? __khugepaged_exit+0x266/0x4c0
[   34.651906]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.652418]  __mmput+0xde/0x3a0
[   34.652734]  mmput+0x74/0x90
[   34.653043]  do_exit+0xa03/0x29f0
[   34.653383]  ? trace_hardirqs_on+0x51/0x60
[   34.653794]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.654382]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.654846]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.655318]  ? __pfx_do_exit+0x10/0x10
[   34.655687]  ? __audit_syscall_entry+0x39c/0x500
[   34.656208]  __x64_sys_exit+0x50/0x60
[   34.656779]  x64_sys_call+0x20c9/0x20d0
[   34.657167]  do_syscall_64+0x6d/0x140
[   34.657520]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.658005] RIP: 0033:0x7f2e1423ee5d
[   34.658336] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.658873] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.659559] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.660169] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.661087] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.661715] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.662362] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.663005]  </TASK>
[   34.663215] Modules linked in:
[   34.663670] ---[ end trace 0000000000000000 ]---
[   34.664118] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.664637] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.666232] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   34.666945] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   34.667620] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   34.668222] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   34.668815] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.669398] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   34.670005] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.670873] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.671525] CR2: 00007f2e145f3bf0 CR3: 0000000020764006 CR4: 0000000000770ef0
[   34.672146] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.672726] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.673315] PKRU: 55555554
[   34.673559] note: repro[7590] exited with preempt_count 1
[   34.674026] Fixing recursive fault but reboot is needed!
[   34.674478] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7590
[   34.675085] caller is debug_smp_processor_id+0x20/0x30
[   34.675504] CPU: 0 UID: 0 PID: 7590 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.676238] Tainted: [D]=DIE, [W]=WARN
[   34.676548] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.677425] Call Trace:
[   34.677632]  <TASK>
[   34.677823]  dump_stack_lvl+0x121/0x150
[   34.678158]  dump_stack+0x19/0x20
[   34.678443]  check_preemption_disabled+0x168/0x180
[   34.678836]  debug_smp_processor_id+0x20/0x30
[   34.679195]  __schedule+0xa0/0x33a0
[   34.679497]  ? do_task_dead+0xa8/0x110
[   34.679796]  ? debug_smp_processor_id+0x20/0x30
[   34.680154]  ? rcu_is_watching+0x19/0xc0
[   34.680466]  ? lock_release+0x592/0x870
[   34.680768]  ? __pfx___schedule+0x10/0x10
[   34.681249]  ? debug_smp_processor_id+0x20/0x30
[   34.681718]  ? rcu_is_watching+0x19/0xc0
[   34.682041]  ? trace_irq_enable+0xe1/0x120
[   34.682368]  ? do_task_dead+0x4a/0x110
[   34.682675]  do_task_dead+0xe0/0x110
[   34.682959]  make_task_dead+0x384/0x3c0
[   34.683272]  rewind_stack_and_make_dead+0x16/0x20
[   34.683637] RIP: 0033:0x7f2e1423ee5d
[   34.683921] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.684386] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.684955] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.685451] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.685942] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.686445] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.686945] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.687457]  </TASK>
[   34.687735] BUG: scheduling while atomic: repro/7590/0x00000000
[   34.688172] INFO: lockdep is turned off.
[   34.688451] Modules linked in:
[   34.688680] Preemption disabled at:
[   34.688685] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   34.689345] CPU: 0 UID: 0 PID: 7590 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.689997] Tainted: [D]=DIE, [W]=WARN
[   34.690271] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.691304] Call Trace:
[   34.691541]  <TASK>
[   34.691754]  dump_stack_lvl+0x121/0x150
[   34.692146]  ? do_task_dead+0x28/0x110
[   34.692525]  dump_stack+0x19/0x20
[   34.692877]  __schedule_bug+0x12d/0x180
[   34.693263]  __schedule+0x23fe/0x33a0
[   34.693628]  ? do_task_dead+0xa8/0x110
[   34.693999]  ? rcu_is_watching+0x19/0xc0
[   34.694394]  ? lock_release+0x592/0x870
[   34.694775]  ? __pfx___schedule+0x10/0x10
[   34.695193]  ? debug_smp_processor_id+0x20/0x30
[   34.695526]  ? rcu_is_watching+0x19/0xc0
[   34.695808]  ? trace_irq_enable+0xe1/0x120
[   34.696109]  ? do_task_dead+0x4a/0x110
[   34.696379]  do_task_dead+0xe0/0x110
[   34.696636]  make_task_dead+0x384/0x3c0
[   34.696920]  rewind_stack_and_make_dead+0x16/0x20
[   34.697256] RIP: 0033:0x7f2e1423ee5d
[   34.697630] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.698202] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.698689] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.699153] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.699611] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.700070] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.700530] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.700998]  </TASK>
[   34.891762] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#33] PREEMPT SMP KASAN NOPTI
[   34.892893] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.893611] CPU: 1 UID: 0 PID: 7682 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.894456] Tainted: [D]=DIE, [W]=WARN
[   34.894804] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.895835] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.896449] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.898468] RSP: 0018:ffff88801185f7d8 EFLAGS: 00010202
[   34.898964] RAX: dffffc0000000000 RBX: ffffea00004e3680 RCX: ffffffff81bc4f39
[   34.899635] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004e3690
[   34.900302] RBP: ffff88801185f7f8 R08: 0000000000000000 R09: ffffed100371ac6c
[   34.900955] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   34.901610] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b8d6360
[   34.902290] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.903672] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.904217] CR2: 00007f2e143fca50 CR3: 000000001159e003 CR4: 0000000000770ef0
[   34.904874] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.905518] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.906166] PKRU: 55555554
[   34.906423] Call Trace:
[   34.906660]  <TASK>
[   34.906869]  ? show_regs+0x6d/0x80
[   34.907222]  ? die_addr+0x45/0xb0
[   34.907558]  ? exc_general_protection+0x1ae/0x340
[   34.908027]  ? asm_exc_general_protection+0x2b/0x30
[   34.908502]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.908992]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.909729]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.910242]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.910742]  zap_huge_pmd+0x48e/0xd40
[   34.911120]  unmap_page_range+0x1ad6/0x4360
[   34.911523]  ? __pfx_lock_release+0x10/0x10
[   34.911924]  ? do_raw_spin_trylock+0xbf/0x190
[   34.912363]  ? __kasan_check_read+0x15/0x20
[   34.912773]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.913532]  ? __pfx_unmap_page_range+0x10/0x10
[   34.914083]  unmap_single_vma+0x1ac/0x2d0
[   34.914474]  unmap_vmas+0x210/0x470
[   34.914826]  ? __pfx_unmap_vmas+0x10/0x10
[   34.915247]  ? __pfx_lock_release+0x10/0x10
[   34.915670]  ? lock_release+0x592/0x870
[   34.916048]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.916516]  ? __pfx_lock_release+0x10/0x10
[   34.916924]  ? mlock_drain_local+0x27f/0x4b0
[   34.917344]  exit_mmap+0x19e/0xb10
[   34.917688]  ? __pfx_exit_mmap+0x10/0x10
[   34.918072]  ? debug_smp_processor_id+0x20/0x30
[   34.918507]  ? trace_hardirqs_on+0x51/0x60
[   34.918911]  ? kasan_quarantine_put+0xa2/0x200
[   34.919347]  ? __khugepaged_exit+0x266/0x4c0
[   34.919981]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.920499]  __mmput+0xde/0x3a0
[   34.920817]  mmput+0x74/0x90
[   34.921116]  do_exit+0xa03/0x29f0
[   34.921450]  ? trace_hardirqs_on+0x51/0x60
[   34.921850]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.922445]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.922902]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.923366]  ? __pfx_do_exit+0x10/0x10
[   34.923745]  ? __audit_syscall_entry+0x39c/0x500
[   34.924196]  __x64_sys_exit+0x50/0x60
[   34.924555]  x64_sys_call+0x20c9/0x20d0
[   34.924924]  do_syscall_64+0x6d/0x140
[   34.925293]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.926042] RIP: 0033:0x7f2e1423ee5d
[   34.926449] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.927012] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.927698] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.928341] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.928990] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.929627] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.930266] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.930916]  </TASK>
[   34.931143] Modules linked in:
[   34.931608] ---[ end trace 0000000000000000 ]---
[   34.932307] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.932869] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.934592] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   34.935090] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   34.935774] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   34.936694] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   34.937337] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.937982] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   34.938753] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.939491] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.940027] CR2: 00007f2e143fca50 CR3: 000000001159e003 CR4: 0000000000770ef0
[   34.940672] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.941333] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.941987] PKRU: 55555554
[   34.942486] note: repro[7682] exited with preempt_count 1
[   34.943082] Fixing recursive fault but reboot is needed!
[   34.943564] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7682
[   34.944308] caller is debug_smp_processor_id+0x20/0x30
[   34.944843] CPU: 1 UID: 0 PID: 7682 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.945765] Tainted: [D]=DIE, [W]=WARN
[   34.946130] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.947190] Call Trace:
[   34.947438]  <TASK>
[   34.947652]  dump_stack_lvl+0x121/0x150
[   34.948179]  dump_stack+0x19/0x20
[   34.948529]  check_preemption_disabled+0x168/0x180
[   34.949010]  debug_smp_processor_id+0x20/0x30
[   34.949467]  __schedule+0xa0/0x33a0
[   34.949853]  ? do_task_dead+0xa8/0x110
[   34.950232]  ? debug_smp_processor_id+0x20/0x30
[   34.950668]  ? rcu_is_watching+0x19/0xc0
[   34.951061]  ? lock_release+0x592/0x870
[   34.951448]  ? __pfx___schedule+0x10/0x10
[   34.952016]  ? debug_smp_processor_id+0x20/0x30
[   34.952456]  ? rcu_is_watching+0x19/0xc0
[   34.952845]  ? trace_irq_enable+0xe1/0x120
[   34.953262]  ? do_task_dead+0x4a/0x110
[   34.953642]  do_task_dead+0xe0/0x110
[   34.954020]  make_task_dead+0x384/0x3c0
[   34.954419]  rewind_stack_and_make_dead+0x16/0x20
[   34.954885] RIP: 0033:0x7f2e1423ee5d
[   34.955246] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.955847] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.956584] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.957256] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.958137] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.958804] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.959535] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.960305]  </TASK>
[   34.960581] BUG: scheduling while atomic: repro/7682/0x00000000
[   34.961156] INFO: lockdep is turned off.
[   34.961524] Modules linked in:
[   34.962038] Preemption disabled at:
[   34.962046] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   34.962931] CPU: 1 UID: 0 PID: 7682 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   34.963793] Tainted: [D]=DIE, [W]=WARN
[   34.964155] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.965269] Call Trace:
[   34.965590]  <TASK>
[   34.965804]  dump_stack_lvl+0x121/0x150
[   34.966275]  ? do_task_dead+0x28/0x110
[   34.966730]  dump_stack+0x19/0x20
[   34.967074]  __schedule_bug+0x12d/0x180
[   34.967453]  __schedule+0x23fe/0x33a0
[   34.967814]  ? do_task_dead+0xa8/0x110
[   34.968182]  ? rcu_is_watching+0x19/0xc0
[   34.968566]  ? lock_release+0x592/0x870
[   34.968941]  ? __pfx___schedule+0x10/0x10
[   34.969338]  ? debug_smp_processor_id+0x20/0x30
[   34.969768]  ? rcu_is_watching+0x19/0xc0
[   34.970158]  ? trace_irq_enable+0xe1/0x120
[   34.970718]  ? do_task_dead+0x4a/0x110
[   34.971089]  do_task_dead+0xe0/0x110
[   34.971440]  make_task_dead+0x384/0x3c0
[   34.971822]  rewind_stack_and_make_dead+0x16/0x20
[   34.972322] RIP: 0033:0x7f2e1423ee5d
[   34.972717] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   34.973272] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.974062] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   34.974701] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.975345] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   34.975987] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   34.976745] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   34.977719]  </TASK>
[   35.138211] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#34] PREEMPT SMP KASAN NOPTI
[   35.139404] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.140161] CPU: 1 UID: 0 PID: 7810 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.141021] Tainted: [D]=DIE, [W]=WARN
[   35.141379] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.142410] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.142973] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.144640] RSP: 0018:ffff88801265f7d8 EFLAGS: 00010202
[   35.145407] RAX: dffffc0000000000 RBX: ffffea000054d840 RCX: ffffffff81bc4f39
[   35.146122] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000054d850
[   35.146905] RBP: ffff88801265f7f8 R08: 0000000000000000 R09: ffffed100290b8b4
[   35.147686] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   35.148349] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801485c5a0
[   35.149014] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   35.149752] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.150316] CR2: 00007f2e145f3bf0 CR3: 0000000016402004 CR4: 0000000000770ef0
[   35.150995] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.151653] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.152312] PKRU: 55555554
[   35.152571] Call Trace:
[   35.152815]  <TASK>
[   35.153034]  ? show_regs+0x6d/0x80
[   35.153395]  ? die_addr+0x45/0xb0
[   35.153744]  ? exc_general_protection+0x1ae/0x340
[   35.154228]  ? asm_exc_general_protection+0x2b/0x30
[   35.154744]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.155240]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.155738]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.156242]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.156747]  zap_huge_pmd+0x48e/0xd40
[   35.157126]  unmap_page_range+0x1ad6/0x4360
[   35.157542]  ? __pfx_lock_release+0x10/0x10
[   35.157952]  ? do_raw_spin_trylock+0xbf/0x190
[   35.158400]  ? __kasan_check_read+0x15/0x20
[   35.158817]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.159527]  ? __pfx_unmap_page_range+0x10/0x10
[   35.160132]  unmap_single_vma+0x1ac/0x2d0
[   35.160552]  unmap_vmas+0x210/0x470
[   35.160916]  ? __pfx_unmap_vmas+0x10/0x10
[   35.161319]  ? __pfx_lock_release+0x10/0x10
[   35.161729]  ? lock_release+0x592/0x870
[   35.162117]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   35.162597]  ? __pfx_lock_release+0x10/0x10
[   35.163018]  ? mlock_drain_local+0x27f/0x4b0
[   35.163448]  exit_mmap+0x19e/0xb10
[   35.163804]  ? __pfx_exit_mmap+0x10/0x10
[   35.164205]  ? debug_smp_processor_id+0x20/0x30
[   35.164687]  ? trace_hardirqs_on+0x51/0x60
[   35.165119]  ? kasan_quarantine_put+0xa2/0x200
[   35.165572]  ? __khugepaged_exit+0x266/0x4c0
[   35.166008]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.166527]  __mmput+0xde/0x3a0
[   35.166864]  mmput+0x74/0x90
[   35.167165]  do_exit+0xa03/0x29f0
[   35.167512]  ? trace_hardirqs_on+0x51/0x60
[   35.167924]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.168525]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.169005]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.169573]  ? __pfx_do_exit+0x10/0x10
[   35.170156]  ? __audit_syscall_entry+0x39c/0x500
[   35.170669]  __x64_sys_exit+0x50/0x60
[   35.171064]  x64_sys_call+0x20c9/0x20d0
[   35.171471]  do_syscall_64+0x6d/0x140
[   35.171849]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.172349] RIP: 0033:0x7f2e1423ee5d
[   35.172705] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.173280] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.174004] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.174660] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.175357] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.176010] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.176647] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.177303]  </TASK>
[   35.177522] Modules linked in:
[   35.178161] ---[ end trace 0000000000000000 ]---
[   35.178720] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.179281] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.180989] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   35.181497] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   35.182217] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   35.182879] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   35.183563] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.184246] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   35.184916] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   35.185685] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.186292] CR2: 00007f2e145f3bf0 CR3: 0000000016402004 CR4: 0000000000770ef0
[   35.186966] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#35] PREEMPT SMP KASAN NOPTI
[   35.186976] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.187001] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.188049] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.188750] CPU: 0 UID: 0 PID: 7829 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.189410] PKRU: 55555554
[   35.190107] Tainted: [D]=DIE, [W]=WARN
[   35.190114] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.190126] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.190936] note: repro[7810] exited with preempt_count 1
[   35.191213] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.191552] Fixing recursive fault but reboot is needed!
[   35.192822] RSP: 0018:ffff88802b4e77d8 EFLAGS: 00010202
[   35.193343] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7810
[   35.193867] 
[   35.195540] caller is debug_smp_processor_id+0x20/0x30
[   35.196102] RAX: dffffc0000000000 RBX: ffffea0000527580 RCX: ffffffff81bc4f39
[   35.196578] CPU: 1 UID: 0 PID: 7810 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.197309] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000527590
[   35.197470] Tainted: [D]=DIE, [W]=WARN
[   35.197905] RBP: ffff88802b4e77f8 R08: 0000000000000000 R09: ffffed100290b878
[   35.198552] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.199399] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.200029] Call Trace:
[   35.200472] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801485c3c0
[   35.201177]  <TASK>
[   35.202211] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.202841]  dump_stack_lvl+0x121/0x150
[   35.203102] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.203839]  dump_stack+0x19/0x20
[   35.204067] CR2: 00007f2f8c171000 CR3: 000000001d9b4003 CR4: 0000000000770ef0
[   35.204782]  check_preemption_disabled+0x168/0x180
[   35.205170] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.205694]  debug_smp_processor_id+0x20/0x30
[   35.206040] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.206677]  __schedule+0xa0/0x33a0
[   35.207217] PKRU: 55555554
[   35.207920]  ? do_task_dead+0xa8/0x110
[   35.208358] Call Trace:
[   35.208992]  ? debug_smp_processor_id+0x20/0x30
[   35.209342]  <TASK>
[   35.209594]  ? rcu_is_watching+0x19/0xc0
[   35.209966]  ? show_regs+0x6d/0x80
[   35.210200]  ? lock_release+0x592/0x870
[   35.210644]  ? die_addr+0x45/0xb0
[   35.210844]  ? __pfx___schedule+0x10/0x10
[   35.211197]  ? exc_general_protection+0x1ae/0x340
[   35.211511]  ? debug_smp_processor_id+0x20/0x30
[   35.211854]  ? asm_exc_general_protection+0x2b/0x30
[   35.212155]  ? rcu_is_watching+0x19/0xc0
[   35.212513]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.212929]  ? trace_irq_enable+0xe1/0x120
[   35.213405]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.213844]  ? do_task_dead+0x4a/0x110
[   35.214244]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.214706]  do_task_dead+0xe0/0x110
[   35.215114]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.215574]  make_task_dead+0x384/0x3c0
[   35.215949]  zap_huge_pmd+0x48e/0xd40
[   35.216691]  rewind_stack_and_make_dead+0x16/0x20
[   35.217149]  unmap_page_range+0x1ad6/0x4360
[   35.217599] RIP: 0033:0x7f2e1423ee5d
[   35.217982]  ? update_stack_state+0x2d9/0x610
[   35.218313] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.218787]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.219149] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   35.219514]  ? __pfx_unmap_page_range+0x10/0x10
[   35.219907]  ORIG_RAX: 000000000000003c
[   35.220519]  unmap_single_vma+0x1ac/0x2d0
[   35.220962] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.221425]  unmap_vmas+0x210/0x470
[   35.221826] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.222176]  ? __pfx_unmap_vmas+0x10/0x10
[   35.222531] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.223147]  ? __pfx_lock_release+0x10/0x10
[   35.223471] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.224089]  ? lock_release+0x592/0x870
[   35.224453] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.225068]  ? mas_next_slot+0x133a/0x1a50
[   35.225456]  </TASK>
[   35.226058]  ? __pfx_lock_release+0x10/0x10
[   35.227956]  ? mlock_drain_local+0x27f/0x4b0
[   35.228371]  exit_mmap+0x19e/0xb10
[   35.228704]  ? __pfx_exit_mmap+0x10/0x10
[   35.229081]  ? debug_smp_processor_id+0x20/0x30
[   35.229501]  ? trace_hardirqs_on+0x51/0x60
[   35.229888]  ? kasan_quarantine_put+0xa2/0x200
[   35.230317]  ? __khugepaged_exit+0x266/0x4c0
[   35.230726]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.231219]  __mmput+0xde/0x3a0
[   35.231524]  mmput+0x74/0x90
[   35.231806]  do_exit+0xa03/0x29f0
[   35.232136]  ? trace_hardirqs_on+0x51/0x60
[   35.232523]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.233102]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.233549]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.234012]  ? __pfx_do_exit+0x10/0x10
[   35.234370]  ? __audit_syscall_entry+0x39c/0x500
[   35.234803]  __x64_sys_exit+0x50/0x60
[   35.235158]  x64_sys_call+0x20c9/0x20d0
[   35.235519]  do_syscall_64+0x6d/0x140
[   35.235866]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.236335] RIP: 0033:0x7f2e1423ee5d
[   35.236668] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.237211] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.237874] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.238502] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.239126] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.239746] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.240371] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.241005]  </TASK>
[   35.241217] Modules linked in:
[   35.241738] ---[ end trace 0000000000000000 ]---
[   35.242246] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.242774] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.244377] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   35.244849] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   35.245479] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   35.246095] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   35.246688] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.247283] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   35.247872] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.248542] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.249033] CR2: 00007f2f8c171000 CR3: 000000001d9b4003 CR4: 0000000000770ef0
[   35.249642] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.250268] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.250918] PKRU: 55555554
[   35.251394] note: repro[7829] exited with preempt_count 1
[   35.251871] Fixing recursive fault but reboot is needed!
[   35.252536] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7829
[   35.253234] caller is debug_smp_processor_id+0x20/0x30
[   35.253668] CPU: 0 UID: 0 PID: 7829 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.254401] Tainted: [D]=DIE, [W]=WARN
[   35.254709] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.255600] Call Trace:
[   35.255814]  <TASK>
[   35.256009]  dump_stack_lvl+0x121/0x150
[   35.256340]  dump_stack+0x19/0x20
[   35.256629]  check_preemption_disabled+0x168/0x180
[   35.257034]  debug_smp_processor_id+0x20/0x30
[   35.257400]  __schedule+0xa0/0x33a0
[   35.257704]  ? do_task_dead+0xa8/0x110
[   35.258032]  ? debug_smp_processor_id+0x20/0x30
[   35.258410]  ? rcu_is_watching+0x19/0xc0
[   35.258746]  ? lock_release+0x592/0x870
[   35.259076]  ? __pfx___schedule+0x10/0x10
[   35.259424]  ? debug_smp_processor_id+0x20/0x30
[   35.259801]  ? rcu_is_watching+0x19/0xc0
[   35.260144]  ? trace_irq_enable+0xe1/0x120
[   35.260603]  ? do_task_dead+0x4a/0x110
[   35.260908]  do_task_dead+0xe0/0x110
[   35.261208]  make_task_dead+0x384/0x3c0
[   35.261525]  rewind_stack_and_make_dead+0x16/0x20
[   35.261901] RIP: 0033:0x7f2e1423ee5d
[   35.262193] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.262663] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.263244] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.263786] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.264331] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.264870] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.265417] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.265969]  </TASK>
[   35.266266] BUG: scheduling while atomic: repro/7829/0x00000000
[   35.266727] INFO: lockdep is turned off.
[   35.267046] Modules linked in:
[   35.267296] Preemption disabled at:
[   35.267301] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   35.267987] CPU: 0 UID: 0 PID: 7829 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.268653] Tainted: [D]=DIE, [W]=WARN
[   35.268931] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.269743] Call Trace:
[   35.269934]  <TASK>
[   35.270113]  dump_stack_lvl+0x121/0x150
[   35.270415]  ? do_task_dead+0x28/0x110
[   35.270703]  dump_stack+0x19/0x20
[   35.270967]  __schedule_bug+0x12d/0x180
[   35.271283]  __schedule+0x23fe/0x33a0
[   35.271574]  ? do_task_dead+0xa8/0x110
[   35.271864]  ? rcu_is_watching+0x19/0xc0
[   35.272173]  ? lock_release+0x592/0x870
[   35.272471]  ? __pfx___schedule+0x10/0x10
[   35.272787]  ? debug_smp_processor_id+0x20/0x30
[   35.273135]  ? rcu_is_watching+0x19/0xc0
[   35.273441]  ? trace_irq_enable+0xe1/0x120
[   35.273752]  ? do_task_dead+0x4a/0x110
[   35.274036]  do_task_dead+0xe0/0x110
[   35.274303]  make_task_dead+0x384/0x3c0
[   35.274593]  rewind_stack_and_make_dead+0x16/0x20
[   35.274936] RIP: 0033:0x7f2e1423ee5d
[   35.275205] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.275632] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.276170] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.276666] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.277166] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.277662] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.278163] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.278670]  </TASK>
[   35.586803] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#36] PREEMPT SMP KASAN NOPTI
[   35.587924] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.588611] CPU: 0 UID: 0 PID: 8046 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.589454] Tainted: [D]=DIE, [W]=WARN
[   35.589805] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.590830] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.591554] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.593433] RSP: 0018:ffff88802b4877d8 EFLAGS: 00010202
[   35.593923] RAX: dffffc0000000000 RBX: ffffea000035ff80 RCX: ffffffff81bc4f39
[   35.594578] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000035ff90
[   35.595283] RBP: ffff88802b4877f8 R08: 0000000000000000 R09: ffffed100270a3a4
[   35.595924] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   35.596641] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013851d20
[   35.597295] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.598020] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.598557] CR2: 00007f2e143fca50 CR3: 0000000014a6e001 CR4: 0000000000770ef0
[   35.599225] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.600180] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.600906] PKRU: 55555554
[   35.601182] Call Trace:
[   35.601432]  <TASK>
[   35.601644]  ? show_regs+0x6d/0x80
[   35.601986]  ? die_addr+0x45/0xb0
[   35.602326]  ? exc_general_protection+0x1ae/0x340
[   35.602780]  ? asm_exc_general_protection+0x2b/0x30
[   35.603276]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.603926]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.604642]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.605154]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.605655]  zap_huge_pmd+0x48e/0xd40
[   35.606028]  unmap_page_range+0x1ad6/0x4360
[   35.606431]  ? __pfx_lock_release+0x10/0x10
[   35.606833]  ? do_raw_spin_trylock+0xbf/0x190
[   35.607264]  ? __kasan_check_read+0x15/0x20
[   35.607690]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.608452]  ? __pfx_unmap_page_range+0x10/0x10
[   35.608967]  unmap_single_vma+0x1ac/0x2d0
[   35.609388]  unmap_vmas+0x210/0x470
[   35.609749]  ? __pfx_unmap_vmas+0x10/0x10
[   35.610138]  ? __pfx_lock_release+0x10/0x10
[   35.610539]  ? lock_release+0x592/0x870
[   35.610908]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   35.611401]  ? __pfx_lock_release+0x10/0x10
[   35.611819]  ? mlock_drain_local+0x27f/0x4b0
[   35.612240]  exit_mmap+0x19e/0xb10
[   35.612592]  ? __pfx_exit_mmap+0x10/0x10
[   35.612975]  ? debug_smp_processor_id+0x20/0x30
[   35.613438]  ? trace_hardirqs_on+0x51/0x60
[   35.613841]  ? kasan_quarantine_put+0xa2/0x200
[   35.614521]  ? __khugepaged_exit+0x266/0x4c0
[   35.615085]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.615610]  __mmput+0xde/0x3a0
[   35.615935]  mmput+0x74/0x90
[   35.616230]  do_exit+0xa03/0x29f0
[   35.616571]  ? trace_hardirqs_on+0x51/0x60
[   35.616970]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.617570]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.618097]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.618836]  ? __pfx_do_exit+0x10/0x10
[   35.619273]  ? __audit_syscall_entry+0x39c/0x500
[   35.619735]  __x64_sys_exit+0x50/0x60
[   35.620124]  x64_sys_call+0x20c9/0x20d0
[   35.620492]  do_syscall_64+0x6d/0x140
[   35.620857]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.621342] RIP: 0033:0x7f2e1423ee5d
[   35.621695] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.622255] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.623287] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.623942] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.624598] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.625227] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.625859] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.626651]  </TASK>
[   35.626973] Modules linked in:
[   35.627549] ---[ end trace 0000000000000000 ]---
[   35.627971] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.628527] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.630221] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   35.630896] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   35.631743] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   35.632371] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   35.632996] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.633594] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   35.634290] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.635034] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.635698] CR2: 00007f2e143fca50 CR3: 0000000014a6e001 CR4: 0000000000770ef0
[   35.636318] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.636963] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.637556] PKRU: 55555554
[   35.637791] note: repro[8046] exited with preempt_count 1
[   35.638322] Fixing recursive fault but reboot is needed!
[   35.638775] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8046
[   35.639775] caller is debug_smp_processor_id+0x20/0x30
[   35.640241] CPU: 0 UID: 0 PID: 8046 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.641024] Tainted: [D]=DIE, [W]=WARN
[   35.641453] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.642389] Call Trace:
[   35.642604]  <TASK>
[   35.642792]  dump_stack_lvl+0x121/0x150
[   35.643271]  dump_stack+0x19/0x20
[   35.643679]  check_preemption_disabled+0x168/0x180
[   35.644140]  debug_smp_processor_id+0x20/0x30
[   35.644513]  __schedule+0xa0/0x33a0
[   35.644821]  ? do_task_dead+0xa8/0x110
[   35.645141]  ? debug_smp_processor_id+0x20/0x30
[   35.645514]  ? rcu_is_watching+0x19/0xc0
[   35.645853]  ? lock_release+0x592/0x870
[   35.646173]  ? __pfx___schedule+0x10/0x10
[   35.646515]  ? debug_smp_processor_id+0x20/0x30
[   35.646880]  ? rcu_is_watching+0x19/0xc0
[   35.647211]  ? trace_irq_enable+0xe1/0x120
[   35.647565]  ? do_task_dead+0x4a/0x110
[   35.647877]  do_task_dead+0xe0/0x110
[   35.648178]  make_task_dead+0x384/0x3c0
[   35.648502]  rewind_stack_and_make_dead+0x16/0x20
[   35.648895] RIP: 0033:0x7f2e1423ee5d
[   35.649205] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.649696] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.650297] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.650856] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.651555] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.652276] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.652827] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.653400]  </TASK>
[   35.653685] BUG: scheduling while atomic: repro/8046/0x00000000
[   35.654201] INFO: lockdep is turned off.
[   35.654504] Modules linked in:
[   35.654753] Preemption disabled at:
[   35.654758] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   35.655427] CPU: 0 UID: 0 PID: 8046 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.656094] Tainted: [D]=DIE, [W]=WARN
[   35.656364] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.657145] Call Trace:
[   35.657330]  <TASK>
[   35.657571]  dump_stack_lvl+0x121/0x150
[   35.658011]  ? do_task_dead+0x28/0x110
[   35.658416]  dump_stack+0x19/0x20
[   35.658671]  __schedule_bug+0x12d/0x180
[   35.658966]  __schedule+0x23fe/0x33a0
[   35.659254]  ? do_task_dead+0xa8/0x110
[   35.659535]  ? rcu_is_watching+0x19/0xc0
[   35.659831]  ? lock_release+0x592/0x870
[   35.660127]  ? __pfx___schedule+0x10/0x10
[   35.660418]  ? debug_smp_processor_id+0x20/0x30
[   35.660737]  ? rcu_is_watching+0x19/0xc0
[   35.661021]  ? trace_irq_enable+0xe1/0x120
[   35.661316]  ? do_task_dead+0x4a/0x110
[   35.661583]  do_task_dead+0xe0/0x110
[   35.661839]  make_task_dead+0x384/0x3c0
[   35.662121]  rewind_stack_and_make_dead+0x16/0x20
[   35.662451] RIP: 0033:0x7f2e1423ee5d
[   35.662707] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.663121] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.663625] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.664340] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.664885] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.665364] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.665840] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.666331]  </TASK>
[   35.681734] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#37] PREEMPT SMP KASAN NOPTI
[   35.682503] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.682970] CPU: 0 UID: 0 PID: 8113 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.683548] Tainted: [D]=DIE, [W]=WARN
[   35.683790] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.684486] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.685051] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.686309] RSP: 0018:ffff8880216af7d8 EFLAGS: 00010202
[   35.686675] RAX: dffffc0000000000 RBX: ffffea00006555c0 RCX: ffffffff81bc4f39
[   35.687165] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006555d0
[   35.687620] RBP: ffff8880216af7f8 R08: 0000000000000000 R09: ffffed1002683f74
[   35.688045] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.688472] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801341fba0
[   35.688898] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.689385] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.689729] CR2: 00007f2e1429bc20 CR3: 0000000010aa8006 CR4: 0000000000770ef0
[   35.690158] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.690581] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.690989] PKRU: 55555554
[   35.691155] Call Trace:
[   35.691306]  <TASK>
[   35.691456]  ? show_regs+0x6d/0x80
[   35.691774]  ? die_addr+0x45/0xb0
[   35.692092]  ? exc_general_protection+0x1ae/0x340
[   35.692516]  ? asm_exc_general_protection+0x2b/0x30
[   35.692833]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.693149]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.693468]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.693776]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.694090]  zap_huge_pmd+0x48e/0xd40
[   35.694324]  unmap_page_range+0x1ad6/0x4360
[   35.694583]  ? update_stack_state+0x2d9/0x610
[   35.694859]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.695158]  ? __pfx_unmap_page_range+0x10/0x10
[   35.695431]  unmap_single_vma+0x1ac/0x2d0
[   35.695674]  unmap_vmas+0x210/0x470
[   35.695890]  ? __pfx_unmap_vmas+0x10/0x10
[   35.696133]  ? __pfx_lock_release+0x10/0x10
[   35.696381]  ? lock_release+0x592/0x870
[   35.696610]  ? mas_next_slot+0x133a/0x1a50
[   35.696855]  ? __pfx_lock_release+0x10/0x10
[   35.697112]  ? mlock_drain_local+0x27f/0x4b0
[   35.697370]  exit_mmap+0x19e/0xb10
[   35.697586]  ? __pfx_exit_mmap+0x10/0x10
[   35.697823]  ? debug_smp_processor_id+0x20/0x30
[   35.698217]  ? trace_hardirqs_on+0x51/0x60
[   35.698575]  ? kasan_quarantine_put+0xa2/0x200
[   35.698891]  ? __khugepaged_exit+0x266/0x4c0
[   35.699155]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.699466]  __mmput+0xde/0x3a0
[   35.699655]  mmput+0x74/0x90
[   35.699830]  do_exit+0xa03/0x29f0
[   35.700040]  ? trace_hardirqs_on+0x51/0x60
[   35.700279]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.700630]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.700904]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.701184]  ? __pfx_do_exit+0x10/0x10
[   35.701405]  ? __audit_syscall_entry+0x39c/0x500
[   35.701671]  __x64_sys_exit+0x50/0x60
[   35.701884]  x64_sys_call+0x20c9/0x20d0
[   35.702103]  do_syscall_64+0x6d/0x140
[   35.702311]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.702590] RIP: 0033:0x7f2e1423ee5d
[   35.702790] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.703117] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.703520] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.703890] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.704403] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.704939] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.705331] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.705707]  </TASK>
[   35.705838] Modules linked in:
[   35.706141] ---[ end trace 0000000000000000 ]---
[   35.706396] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.706705] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.707676] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   35.707949] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   35.708316] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   35.708796] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   35.709294] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.709785] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   35.710370] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.711194] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.711491] CR2: 00007f2e1429bc20 CR3: 0000000010aa8006 CR4: 0000000000770ef0
[   35.711847] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.712204] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.712555] PKRU: 55555554
[   35.712699] note: repro[8113] exited with preempt_count 1
[   35.712970] Fixing recursive fault but reboot is needed!
[   35.713233] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8113
[   35.713611] caller is debug_smp_processor_id+0x20/0x30
[   35.713873] CPU: 0 UID: 0 PID: 8113 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.714325] Tainted: [D]=DIE, [W]=WARN
[   35.714511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.715057] Call Trace:
[   35.715184]  <TASK>
[   35.715295]  dump_stack_lvl+0x121/0x150
[   35.715495]  dump_stack+0x19/0x20
[   35.715670]  check_preemption_disabled+0x168/0x180
[   35.715911]  debug_smp_processor_id+0x20/0x30
[   35.716136]  __schedule+0xa0/0x33a0
[   35.716320]  ? do_task_dead+0xa8/0x110
[   35.716510]  ? debug_smp_processor_id+0x20/0x30
[   35.716738]  ? rcu_is_watching+0x19/0xc0
[   35.716939]  ? lock_release+0x592/0x870
[   35.717141]  ? __pfx___schedule+0x10/0x10
[   35.717351]  ? debug_smp_processor_id+0x20/0x30
[   35.717577]  ? rcu_is_watching+0x19/0xc0
[   35.717777]  ? trace_irq_enable+0xe1/0x120
[   35.717990]  ? do_task_dead+0x4a/0x110
[   35.718180]  do_task_dead+0xe0/0x110
[   35.718361]  make_task_dead+0x384/0x3c0
[   35.718558]  rewind_stack_and_make_dead+0x16/0x20
[   35.718790] RIP: 0033:0x7f2e1423ee5d
[   35.718965] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.719260] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.719620] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.719956] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.720293] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.720629] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.720957] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.721294]  </TASK>
[   35.721432] BUG: scheduling while atomic: repro/8113/0x00000000
[   35.721735] INFO: lockdep is turned off.
[   35.721921] Modules linked in:
[   35.722089] Preemption disabled at:
[   35.722093] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   35.722518] CPU: 0 UID: 0 PID: 8113 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.722934] Tainted: [D]=DIE, [W]=WARN
[   35.723115] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.723614] Call Trace:
[   35.723727]  <TASK>
[   35.723830]  dump_stack_lvl+0x121/0x150
[   35.724014]  ? do_task_dead+0x28/0x110
[   35.724193]  dump_stack+0x19/0x20
[   35.724352]  __schedule_bug+0x12d/0x180
[   35.724544]  __schedule+0x23fe/0x33a0
[   35.724716]  ? do_task_dead+0xa8/0x110
[   35.724958]  ? rcu_is_watching+0x19/0xc0
[   35.725212]  ? lock_release+0x592/0x870
[   35.725463]  ? __pfx___schedule+0x10/0x10
[   35.725710]  ? debug_smp_processor_id+0x20/0x30
[   35.725921]  ? rcu_is_watching+0x19/0xc0
[   35.726130]  ? trace_irq_enable+0xe1/0x120
[   35.726368]  ? do_task_dead+0x4a/0x110
[   35.726585]  do_task_dead+0xe0/0x110
[   35.726792]  make_task_dead+0x384/0x3c0
[   35.727017]  rewind_stack_and_make_dead+0x16/0x20
[   35.727235] RIP: 0033:0x7f2e1423ee5d
[   35.727399] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.727668] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.728000] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.728308] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.728612] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.728921] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.729230] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.729544]  </TASK>
[   35.831872] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#38] PREEMPT SMP KASAN NOPTI
[   35.832744] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.833278] CPU: 0 UID: 0 PID: 8165 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.833913] Tainted: [D]=DIE, [W]=WARN
[   35.834339] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.835212] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.835637] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.836900] RSP: 0018:ffff88802b5577d8 EFLAGS: 00010202
[   35.837281] RAX: dffffc0000000000 RBX: ffffea00007cf180 RCX: ffffffff81bc4f39
[   35.837771] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007cf190
[   35.838282] RBP: ffff88802b5577f8 R08: 0000000000000000 R09: ffffed10024bcaa8
[   35.838775] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.839266] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880125e5540
[   35.839756] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.840305] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.840692] CR2: 00007f2e1429bc20 CR3: 000000002b4a4002 CR4: 0000000000770ef0
[   35.841173] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.841644] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.842116] PKRU: 55555554
[   35.842310] Call Trace:
[   35.842485]  <TASK>
[   35.842641]  ? show_regs+0x6d/0x80
[   35.842949]  ? die_addr+0x45/0xb0
[   35.843202]  ? exc_general_protection+0x1ae/0x340
[   35.843543]  ? asm_exc_general_protection+0x2b/0x30
[   35.843895]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.844259]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.844616]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.844975]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.845339]  zap_huge_pmd+0x48e/0xd40
[   35.845602]  unmap_page_range+0x1ad6/0x4360
[   35.845893]  ? update_stack_state+0x2d9/0x610
[   35.846366]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.846877]  ? __pfx_unmap_page_range+0x10/0x10
[   35.847209]  unmap_single_vma+0x1ac/0x2d0
[   35.847491]  unmap_vmas+0x210/0x470
[   35.847743]  ? __pfx_unmap_vmas+0x10/0x10
[   35.848041]  ? __pfx_lock_release+0x10/0x10
[   35.848328]  ? lock_release+0x592/0x870
[   35.848592]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   35.848926]  ? __pfx_lock_release+0x10/0x10
[   35.849223]  ? mlock_drain_local+0x27f/0x4b0
[   35.849521]  exit_mmap+0x19e/0xb10
[   35.849765]  ? __pfx_exit_mmap+0x10/0x10
[   35.850048]  ? debug_smp_processor_id+0x20/0x30
[   35.850361]  ? trace_hardirqs_on+0x51/0x60
[   35.850646]  ? kasan_quarantine_put+0xa2/0x200
[   35.850957]  ? __khugepaged_exit+0x266/0x4c0
[   35.851262]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.851620]  __mmput+0xde/0x3a0
[   35.851844]  mmput+0x74/0x90
[   35.852057]  do_exit+0xa03/0x29f0
[   35.852406]  ? trace_hardirqs_on+0x51/0x60
[   35.852835]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.853341]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.853663]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.853977]  ? __pfx_do_exit+0x10/0x10
[   35.854239]  ? __audit_syscall_entry+0x39c/0x500
[   35.854546]  __x64_sys_exit+0x50/0x60
[   35.854794]  x64_sys_call+0x20c9/0x20d0
[   35.855051]  do_syscall_64+0x6d/0x140
[   35.855305]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.855634] RIP: 0033:0x7f2e1423ee5d
[   35.855864] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.856247] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.856695] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.857119] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.857536] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.857954] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.858377] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.858810]  </TASK>
[   35.859035] Modules linked in:
[   35.859444] ---[ end trace 0000000000000000 ]---
[   35.859742] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.860103] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.861187] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   35.861512] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   35.861937] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   35.862423] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   35.862837] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.863250] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   35.863660] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   35.864128] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.864478] CR2: 00007f2e1429bc20 CR3: 000000002b4a4002 CR4: 0000000000770ef0
[   35.865158] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.865722] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.866238] PKRU: 55555554
[   35.866423] note: repro[8165] exited with preempt_count 1
[   35.866773] Fixing recursive fault but reboot is needed!
[   35.867110] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8165
[   35.867588] caller is debug_smp_processor_id+0x20/0x30
[   35.867893] CPU: 0 UID: 0 PID: 8165 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.868400] Tainted: [D]=DIE, [W]=WARN
[   35.868613] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.869231] Call Trace:
[   35.869377]  <TASK>
[   35.869507]  dump_stack_lvl+0x121/0x150
[   35.869736]  dump_stack+0x19/0x20
[   35.869935]  check_preemption_disabled+0x168/0x180
[   35.870218]  debug_smp_processor_id+0x20/0x30
[   35.870470]  __schedule+0xa0/0x33a0
[   35.870685]  ? do_task_dead+0xa8/0x110
[   35.871039]  ? debug_smp_processor_id+0x20/0x30
[   35.871452]  ? rcu_is_watching+0x19/0xc0
[   35.871777]  ? lock_release+0x592/0x870
[   35.872019]  ? __pfx___schedule+0x10/0x10
[   35.872261]  ? debug_smp_processor_id+0x20/0x30
[   35.872517]  ? rcu_is_watching+0x19/0xc0
[   35.872745]  ? trace_irq_enable+0xe1/0x120
[   35.872993]  ? do_task_dead+0x4a/0x110
[   35.873210]  do_task_dead+0xe0/0x110
[   35.873417]  make_task_dead+0x384/0x3c0
[   35.873643]  rewind_stack_and_make_dead+0x16/0x20
[   35.873909] RIP: 0033:0x7f2e1423ee5d
[   35.874126] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.874455] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.874861] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.875251] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.875630] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.876010] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.876397] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.876773]  </TASK>
[   35.876924] BUG: scheduling while atomic: repro/8165/0x00000000
[   35.877417] INFO: lockdep is turned off.
[   35.877735] Modules linked in:
[   35.877982] Preemption disabled at:
[   35.877989] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   35.878478] CPU: 0 UID: 0 PID: 8165 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   35.878954] Tainted: [D]=DIE, [W]=WARN
[   35.879161] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.879738] Call Trace:
[   35.879870]  <TASK>
[   35.879993]  dump_stack_lvl+0x121/0x150
[   35.880203]  ? do_task_dead+0x28/0x110
[   35.880403]  dump_stack+0x19/0x20
[   35.880588]  __schedule_bug+0x12d/0x180
[   35.880795]  __schedule+0x23fe/0x33a0
[   35.880996]  ? do_task_dead+0xa8/0x110
[   35.881198]  ? rcu_is_watching+0x19/0xc0
[   35.881407]  ? lock_release+0x592/0x870
[   35.881611]  ? __pfx___schedule+0x10/0x10
[   35.881827]  ? debug_smp_processor_id+0x20/0x30
[   35.882071]  ? rcu_is_watching+0x19/0xc0
[   35.882285]  ? trace_irq_enable+0xe1/0x120
[   35.882507]  ? do_task_dead+0x4a/0x110
[   35.882707]  do_task_dead+0xe0/0x110
[   35.882900]  make_task_dead+0x384/0x3c0
[   35.883112]  rewind_stack_and_make_dead+0x16/0x20
[   35.883359] RIP: 0033:0x7f2e1423ee5d
[   35.883550] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   35.883853] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.884228] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   35.884578] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.884925] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   35.885277] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   35.885625] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   35.885979]  </TASK>
[   36.214634] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#39] PREEMPT SMP KASAN NOPTI
[   36.215774] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.216746] CPU: 1 UID: 0 PID: 8413 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.217682] Tainted: [D]=DIE, [W]=WARN
[   36.218050] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.219063] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.219625] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.221293] RSP: 0018:ffff88801d99f7d8 EFLAGS: 00010202
[   36.221800] RAX: dffffc0000000000 RBX: ffffea00007c3440 RCX: ffffffff81bc4f39
[   36.222472] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007c3450
[   36.223121] RBP: ffff88801d99f7f8 R08: 0000000000000000 R09: ffffed1003e73424
[   36.223775] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.224434] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f39a120
[   36.225083] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.225809] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.226387] CR2: 00007f2e145e0908 CR3: 0000000014852005 CR4: 0000000000770ef0
[   36.227048] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.227711] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.228376] PKRU: 55555554
[   36.228636] Call Trace:
[   36.228878]  <TASK>
[   36.229096]  ? show_regs+0x6d/0x80
[   36.229448]  ? die_addr+0x45/0xb0
[   36.229802]  ? exc_general_protection+0x1ae/0x340
[   36.230286]  ? asm_exc_general_protection+0x2b/0x30
[   36.230776]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.231274]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.231774]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.232302]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.232804]  zap_huge_pmd+0x48e/0xd40
[   36.233193]  unmap_page_range+0x1ad6/0x4360
[   36.233609]  ? update_stack_state+0x2d9/0x610
[   36.234058]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.234552]  ? __pfx_unmap_page_range+0x10/0x10
[   36.235013]  unmap_single_vma+0x1ac/0x2d0
[   36.235419]  unmap_vmas+0x210/0x470
[   36.235778]  ? __pfx_unmap_vmas+0x10/0x10
[   36.236194]  ? irqentry_exit+0x3e/0xa0
[   36.236604]  exit_mmap+0x19e/0xb10
[   36.237117]  ? __pfx_exit_mmap+0x10/0x10
[   36.237693]  ? debug_smp_processor_id+0x20/0x30
[   36.238161]  ? trace_hardirqs_on+0x51/0x60
[   36.238622]  ? kasan_quarantine_put+0xa2/0x200
[   36.239065]  ? __khugepaged_exit+0x266/0x4c0
[   36.239490]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.240009]  __mmput+0xde/0x3a0
[   36.240333]  mmput+0x74/0x90
[   36.240637]  do_exit+0xa03/0x29f0
[   36.240974]  ? trace_hardirqs_on+0x51/0x60
[   36.241392]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.242004]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.242499]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.242977]  ? __pfx_do_exit+0x10/0x10
[   36.243360]  ? __audit_syscall_entry+0x39c/0x500
[   36.243833]  __x64_sys_exit+0x50/0x60
[   36.244217]  x64_sys_call+0x20c9/0x20d0
[   36.244592]  do_syscall_64+0x6d/0x140
[   36.244954]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.245440] RIP: 0033:0x7f2e1423ee5d
[   36.245798] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.246374] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.247104] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.247759] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.248407] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.249097] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.249756] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.250429]  </TASK>
[   36.250653] Modules linked in:
[   36.251137] ---[ end trace 0000000000000000 ]---
[   36.251588] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.252140] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.253845] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   36.254476] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   36.255207] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   36.255958] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   36.256623] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.257276] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   36.257937] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.258790] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.259361] CR2: 00007f2e145e0908 CR3: 0000000014852005 CR4: 0000000000770ef0
[   36.260024] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.260685] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.261376] PKRU: 55555554
[   36.261644] note: repro[8413] exited with preempt_count 1
[   36.262244] Fixing recursive fault but reboot is needed!
[   36.262753] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8413
[   36.263468] caller is debug_smp_processor_id+0x20/0x30
[   36.263956] CPU: 1 UID: 0 PID: 8413 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.264812] Tainted: [D]=DIE, [W]=WARN
[   36.265186] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.266259] Call Trace:
[   36.266504]  <TASK>
[   36.266726]  dump_stack_lvl+0x121/0x150
[   36.267119]  dump_stack+0x19/0x20
[   36.267456]  check_preemption_disabled+0x168/0x180
[   36.267922]  debug_smp_processor_id+0x20/0x30
[   36.268346]  __schedule+0xa0/0x33a0
[   36.268705]  ? do_task_dead+0xa8/0x110
[   36.269093]  ? debug_smp_processor_id+0x20/0x30
[   36.269528]  ? rcu_is_watching+0x19/0xc0
[   36.269938]  ? lock_release+0x592/0x870
[   36.270322]  ? __pfx___schedule+0x10/0x10
[   36.270728]  ? debug_smp_processor_id+0x20/0x30
[   36.271198]  ? rcu_is_watching+0x19/0xc0
[   36.271629]  ? trace_irq_enable+0xe1/0x120
[   36.272061]  ? do_task_dead+0x4a/0x110
[   36.272435]  do_task_dead+0xe0/0x110
[   36.272795]  make_task_dead+0x384/0x3c0
[   36.273184]  rewind_stack_and_make_dead+0x16/0x20
[   36.273654] RIP: 0033:0x7f2e1423ee5d
[   36.274013] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.274574] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.275296] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.275968] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.276641] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.277308] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.277996] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.279026]  </TASK>
[   36.279426] BUG: scheduling while atomic: repro/8413/0x00000000
[   36.279995] INFO: lockdep is turned off.
[   36.280356] Modules linked in:
[   36.280715] Preemption disabled at:
[   36.280722] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   36.281535] CPU: 1 UID: 0 PID: 8413 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.282378] Tainted: [D]=DIE, [W]=WARN
[   36.282728] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.283717] Call Trace:
[   36.283972]  <TASK>
[   36.284186]  dump_stack_lvl+0x121/0x150
[   36.284558]  ? do_task_dead+0x28/0x110
[   36.284907]  dump_stack+0x19/0x20
[   36.285240]  __schedule_bug+0x12d/0x180
[   36.285622]  __schedule+0x23fe/0x33a0
[   36.286008]  ? do_task_dead+0xa8/0x110
[   36.286372]  ? rcu_is_watching+0x19/0xc0
[   36.286759]  ? lock_release+0x592/0x870
[   36.287149]  ? __pfx___schedule+0x10/0x10
[   36.287576]  ? debug_smp_processor_id+0x20/0x30
[   36.288037]  ? rcu_is_watching+0x19/0xc0
[   36.288444]  ? trace_irq_enable+0xe1/0x120
[   36.288855]  ? do_task_dead+0x4a/0x110
[   36.289231]  do_task_dead+0xe0/0x110
[   36.289588]  make_task_dead+0x384/0x3c0
[   36.289975]  rewind_stack_and_make_dead+0x16/0x20
[   36.290439] RIP: 0033:0x7f2e1423ee5d
[   36.290788] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.291359] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.292085] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.292763] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.293427] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.294074] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.294725] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.295390]  </TASK>
[   36.489518] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#40] PREEMPT SMP KASAN NOPTI
[   36.490669] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.491354] CPU: 0 UID: 0 PID: 8564 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.492188] Tainted: [D]=DIE, [W]=WARN
[   36.492557] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.493590] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.494141] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.495881] RSP: 0018:ffff8880115677d8 EFLAGS: 00010202
[   36.496387] RAX: dffffc0000000000 RBX: ffffea00006e8bc0 RCX: ffffffff81bc4f39
[   36.497056] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e8bd0
[   36.497720] RBP: ffff8880115677f8 R08: 0000000000000000 R09: ffffed100230309c
[   36.498395] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.499075] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880118184e0
[   36.499721] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   36.500455] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.501003] CR2: 00007f2e145dfdf0 CR3: 0000000020428004 CR4: 0000000000770ef0
[   36.501667] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.502317] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.502998] PKRU: 55555554
[   36.503282] Call Trace:
[   36.503532]  <TASK>
[   36.503747]  ? show_regs+0x6d/0x80
[   36.504109]  ? die_addr+0x45/0xb0
[   36.504450]  ? exc_general_protection+0x1ae/0x340
[   36.504904]  ? asm_exc_general_protection+0x2b/0x30
[   36.505384]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.505867]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.506364]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.506886]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.507420]  zap_huge_pmd+0x48e/0xd40
[   36.507804]  unmap_page_range+0x1ad6/0x4360
[   36.508228]  ? update_stack_state+0x2d9/0x610
[   36.508672]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.509164]  ? __pfx_unmap_page_range+0x10/0x10
[   36.509611]  unmap_single_vma+0x1ac/0x2d0
[   36.510013]  unmap_vmas+0x210/0x470
[   36.510362]  ? __pfx_unmap_vmas+0x10/0x10
[   36.510752]  ? __pfx_lock_release+0x10/0x10
[   36.511179]  ? lock_release+0x592/0x870
[   36.511577]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.512327]  ? __pfx_lock_release+0x10/0x10
[   36.512797]  ? mlock_drain_local+0x27f/0x4b0
[   36.513246]  exit_mmap+0x19e/0xb10
[   36.513643]  ? __pfx_exit_mmap+0x10/0x10
[   36.514039]  ? debug_smp_processor_id+0x20/0x30
[   36.514476]  ? trace_hardirqs_on+0x51/0x60
[   36.514897]  ? kasan_quarantine_put+0xa2/0x200
[   36.515353]  ? __khugepaged_exit+0x266/0x4c0
[   36.515780]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.516294]  __mmput+0xde/0x3a0
[   36.516617]  mmput+0x74/0x90
[   36.516929]  do_exit+0xa03/0x29f0
[   36.517290]  ? trace_hardirqs_on+0x51/0x60
[   36.517721]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.518318]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.518778]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.519251]  ? __pfx_do_exit+0x10/0x10
[   36.519621]  ? __audit_syscall_entry+0x39c/0x500
[   36.520070]  __x64_sys_exit+0x50/0x60
[   36.520443]  x64_sys_call+0x20c9/0x20d0
[   36.520825]  do_syscall_64+0x6d/0x140
[   36.521215]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.521726] RIP: 0033:0x7f2e1423ee5d
[   36.522087] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.522644] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.523359] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.524014] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.524670] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.525337] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.526033] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.526683]  </TASK>
[   36.526901] Modules linked in:
[   36.527435] ---[ end trace 0000000000000000 ]---
[   36.527879] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.528433] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.530219] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   36.530996] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   36.531692] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   36.532350] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   36.533002] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.533640] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   36.534422] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   36.535185] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.535708] CR2: 00007f2e145dfdf0 CR3: 0000000020428004 CR4: 0000000000770ef0
[   36.536357] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.537013] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.537654] PKRU: 55555554
[   36.537908] note: repro[8564] exited with preempt_count 1
[   36.538491] Fixing recursive fault but reboot is needed!
[   36.538990] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8564
[   36.539694] caller is debug_smp_processor_id+0x20/0x30
[   36.540190] CPU: 0 UID: 0 PID: 8564 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.541031] Tainted: [D]=DIE, [W]=WARN
[   36.541375] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.542661] Call Trace:
[   36.542918]  <TASK>
[   36.543172]  dump_stack_lvl+0x121/0x150
[   36.543549]  dump_stack+0x19/0x20
[   36.543882]  check_preemption_disabled+0x168/0x180
[   36.544337]  debug_smp_processor_id+0x20/0x30
[   36.544751]  __schedule+0xa0/0x33a0
[   36.545108]  ? do_task_dead+0xa8/0x110
[   36.545466]  ? debug_smp_processor_id+0x20/0x30
[   36.545908]  ? rcu_is_watching+0x19/0xc0
[   36.546305]  ? lock_release+0x592/0x870
[   36.546669]  ? __pfx___schedule+0x10/0x10
[   36.547065]  ? debug_smp_processor_id+0x20/0x30
[   36.547490]  ? rcu_is_watching+0x19/0xc0
[   36.547873]  ? trace_irq_enable+0xe1/0x120
[   36.548274]  ? do_task_dead+0x4a/0x110
[   36.548630]  do_task_dead+0xe0/0x110
[   36.548973]  make_task_dead+0x384/0x3c0
[   36.549356]  rewind_stack_and_make_dead+0x16/0x20
[   36.549803] RIP: 0033:0x7f2e1423ee5d
[   36.550155] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.550716] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.551410] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.552064] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.552745] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.553410] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.554078] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.554773]  </TASK>
[   36.555194] BUG: scheduling while atomic: repro/8564/0x00000000
[   36.555742] INFO: lockdep is turned off.
[   36.556109] Modules linked in:
[   36.556412] Preemption disabled at:
[   36.556417] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   36.557242] CPU: 0 UID: 0 PID: 8564 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.558080] Tainted: [D]=DIE, [W]=WARN
[   36.558422] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.559441] Call Trace:
[   36.559678]  <TASK>
[   36.559904]  dump_stack_lvl+0x121/0x150
[   36.560284]  ? do_task_dead+0x28/0x110
[   36.560642]  dump_stack+0x19/0x20
[   36.560971]  __schedule_bug+0x12d/0x180
[   36.561359]  __schedule+0x23fe/0x33a0
[   36.561722]  ? do_task_dead+0xa8/0x110
[   36.562090]  ? rcu_is_watching+0x19/0xc0
[   36.562473]  ? lock_release+0x592/0x870
[   36.562867]  ? __pfx___schedule+0x10/0x10
[   36.563267]  ? debug_smp_processor_id+0x20/0x30
[   36.563691]  ? rcu_is_watching+0x19/0xc0
[   36.564083]  ? trace_irq_enable+0xe1/0x120
[   36.564482]  ? do_task_dead+0x4a/0x110
[   36.564843]  do_task_dead+0xe0/0x110
[   36.565194]  make_task_dead+0x384/0x3c0
[   36.565569]  rewind_stack_and_make_dead+0x16/0x20
[   36.566023] RIP: 0033:0x7f2e1423ee5d
[   36.566369] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.566919] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.567568] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.568201] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.568831] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.569450] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.570061] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.570694]  </TASK>
[   36.635501] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#41] PREEMPT SMP KASAN NOPTI
[   36.636639] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.637343] CPU: 1 UID: 0 PID: 8678 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.638176] Tainted: [D]=DIE, [W]=WARN
[   36.638525] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.639578] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.640139] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.641789] RSP: 0018:ffff888014ae77d8 EFLAGS: 00010202
[   36.642286] RAX: dffffc0000000000 RBX: ffffea0000ad9ec0 RCX: ffffffff81bc4f39
[   36.642949] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad9ed0
[   36.643615] RBP: ffff888014ae77f8 R08: 0000000000000000 R09: ffffed1002991e54
[   36.644259] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.644901] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888014c8f2a0
[   36.645549] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.646286] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.646820] CR2: 00007f2e145e33f4 CR3: 000000002151e004 CR4: 0000000000770ef0
[   36.647468] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.648125] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.648771] PKRU: 55555554
[   36.649052] Call Trace:
[   36.649294]  <TASK>
[   36.649509]  ? show_regs+0x6d/0x80
[   36.649851]  ? die_addr+0x45/0xb0
[   36.650194]  ? exc_general_protection+0x1ae/0x340
[   36.650654]  ? asm_exc_general_protection+0x2b/0x30
[   36.651136]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.651628]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.652159]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.652744]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.653263]  zap_huge_pmd+0x48e/0xd40
[   36.653636]  unmap_page_range+0x1ad6/0x4360
[   36.654056]  ? update_stack_state+0x2d9/0x610
[   36.654515]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.655015]  ? __pfx_unmap_page_range+0x10/0x10
[   36.655469]  unmap_single_vma+0x1ac/0x2d0
[   36.655872]  unmap_vmas+0x210/0x470
[   36.656234]  ? __pfx_unmap_vmas+0x10/0x10
[   36.656626]  ? __pfx_lock_release+0x10/0x10
[   36.657043]  ? lock_release+0x592/0x870
[   36.657417]  ? mas_next_slot+0x133a/0x1a50
[   36.657815]  ? __pfx_lock_release+0x10/0x10
[   36.658229]  ? mlock_drain_local+0x27f/0x4b0
[   36.658656]  exit_mmap+0x19e/0xb10
[   36.659003]  ? __pfx_exit_mmap+0x10/0x10
[   36.659388]  ? debug_smp_processor_id+0x20/0x30
[   36.659841]  ? trace_hardirqs_on+0x51/0x60
[   36.660255]  ? kasan_quarantine_put+0xa2/0x200
[   36.660694]  ? __khugepaged_exit+0x266/0x4c0
[   36.661116]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.661628]  __mmput+0xde/0x3a0
[   36.661948]  mmput+0x74/0x90
[   36.662246]  do_exit+0xa03/0x29f0
[   36.662584]  ? trace_hardirqs_on+0x51/0x60
[   36.663051]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.663665]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.664155]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.664640]  ? __pfx_do_exit+0x10/0x10
[   36.665044]  ? __audit_syscall_entry+0x39c/0x500
[   36.665513]  __x64_sys_exit+0x50/0x60
[   36.665896]  x64_sys_call+0x20c9/0x20d0
[   36.666316]  do_syscall_64+0x6d/0x140
[   36.666691]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.667195] RIP: 0033:0x7f2e1423ee5d
[   36.667549] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.668121] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.668839] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.669522] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.670199] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.670877] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.671555] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.672242]  </TASK>
[   36.672459] Modules linked in:
[   36.672944] ---[ end trace 0000000000000000 ]---
[   36.673398] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.674015] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.676488] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   36.677198] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   36.678297] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   36.679241] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   36.680146] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.680907] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   36.681574] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.682449] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.683009] CR2: 00007f2e145e33f4 CR3: 000000002151e004 CR4: 0000000000770ef0
[   36.683712] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.684388] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.685050] PKRU: 55555554
[   36.685315] note: repro[8678] exited with preempt_count 1
[   36.685812] Fixing recursive fault but reboot is needed!
[   36.686447] BUG: scheduling while atomic: repro/8678/0x00000000
[   36.687017] INFO: lockdep is turned off.
[   36.687391] Modules linked in:
[   36.687700] Preemption disabled at:
[   36.687707] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   36.688558] CPU: 1 UID: 0 PID: 8678 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.689427] Tainted: [D]=DIE, [W]=WARN
[   36.689786] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.690828] Call Trace:
[   36.691078]  <TASK>
[   36.691304]  dump_stack_lvl+0x121/0x150
[   36.691693]  ? do_task_dead+0x28/0x110
[   36.692068]  dump_stack+0x19/0x20
[   36.692407]  __schedule_bug+0x12d/0x180
[   36.692790]  __schedule+0x23fe/0x33a0
[   36.693164]  ? do_task_dead+0xa8/0x110
[   36.693539]  ? rcu_is_watching+0x19/0xc0
[   36.693923]  ? lock_release+0x592/0x870
[   36.694310]  ? __pfx___schedule+0x10/0x10
[   36.694726]  ? debug_smp_processor_id+0x20/0x30
[   36.695169]  ? rcu_is_watching+0x19/0xc0
[   36.695565]  ? trace_irq_enable+0xe1/0x120
[   36.695976]  ? do_task_dead+0x4a/0x110
[   36.696355]  do_task_dead+0xe0/0x110
[   36.696715]  make_task_dead+0x384/0x3c0
[   36.697106]  rewind_stack_and_make_dead+0x16/0x20
[   36.697566] RIP: 0033:0x7f2e1423ee5d
[   36.697914] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.698485] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.699194] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.699846] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.700505] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.701166] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.701823] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.702500]  </TASK>
[   36.743172] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#42] PREEMPT SMP KASAN NOPTI
[   36.744309] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.745050] CPU: 1 UID: 0 PID: 8694 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.745930] Tainted: [D]=DIE, [W]=WARN
[   36.746307] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.747350] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.747922] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.749611] RSP: 0018:ffff88802047f7d8 EFLAGS: 00010202
[   36.750126] RAX: dffffc0000000000 RBX: ffffea0000457540 RCX: ffffffff81bc4f39
[   36.750796] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000457550
[   36.751450] RBP: ffff88802047f7f8 R08: 0000000000000000 R09: ffffed100370fcf0
[   36.752108] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   36.752748] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b87e780
[   36.753449] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.754192] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.754733] CR2: 00007fffdaca68b8 CR3: 000000002b4ca006 CR4: 0000000000770ef0
[   36.755418] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.756077] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.756723] PKRU: 55555554
[   36.756998] Call Trace:
[   36.757238]  <TASK>
[   36.757472]  ? show_regs+0x6d/0x80
[   36.757828]  ? die_addr+0x45/0xb0
[   36.758174]  ? exc_general_protection+0x1ae/0x340
[   36.758648]  ? asm_exc_general_protection+0x2b/0x30
[   36.759130]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.759623]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.760125]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.760617]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.761117]  zap_huge_pmd+0x48e/0xd40
[   36.761487]  unmap_page_range+0x1ad6/0x4360
[   36.761892]  ? __pfx_lock_release+0x10/0x10
[   36.762307]  ? do_raw_spin_trylock+0xbf/0x190
[   36.762746]  ? __kasan_check_read+0x15/0x20
[   36.763165]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.763680]  ? __pfx_unmap_page_range+0x10/0x10
[   36.764136]  unmap_single_vma+0x1ac/0x2d0
[   36.764537]  unmap_vmas+0x210/0x470
[   36.764892]  ? __pfx_unmap_vmas+0x10/0x10
[   36.765291]  ? __pfx_lock_release+0x10/0x10
[   36.765699]  ? lock_release+0x592/0x870
[   36.766076]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.766558]  ? __pfx_lock_release+0x10/0x10
[   36.766991]  ? mlock_drain_local+0x27f/0x4b0
[   36.767414]  exit_mmap+0x19e/0xb10
[   36.767764]  ? __pfx_exit_mmap+0x10/0x10
[   36.768154]  ? debug_smp_processor_id+0x20/0x30
[   36.768606]  ? trace_hardirqs_on+0x51/0x60
[   36.769017]  ? kasan_quarantine_put+0xa2/0x200
[   36.769463]  ? __khugepaged_exit+0x266/0x4c0
[   36.769881]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.770392]  __mmput+0xde/0x3a0
[   36.770713]  mmput+0x74/0x90
[   36.771025]  do_exit+0xa03/0x29f0
[   36.771401]  ? trace_hardirqs_on+0x51/0x60
[   36.771833]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.772444]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.772912]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.773385]  ? __pfx_do_exit+0x10/0x10
[   36.773756]  ? __audit_syscall_entry+0x39c/0x500
[   36.774214]  __x64_sys_exit+0x50/0x60
[   36.774599]  x64_sys_call+0x20c9/0x20d0
[   36.774975]  do_syscall_64+0x6d/0x140
[   36.775369]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.775867] RIP: 0033:0x7f2e1423ee5d
[   36.776221] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.776785] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.777478] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.778136] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.778813] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.779470] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.780127] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.780790]  </TASK>
[   36.781015] Modules linked in:
[   36.781555] ---[ end trace 0000000000000000 ]---
[   36.782023] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.782720] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.784507] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   36.785011] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   36.785684] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   36.786504] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   36.787188] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.788089] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   36.788933] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.789888] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.790635] CR2: 00007fffdaca68b8 CR3: 000000002b4ca006 CR4: 0000000000770ef0
[   36.791302] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.791957] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.792626] PKRU: 55555554
[   36.792896] note: repro[8694] exited with preempt_count 1
[   36.793395] Fixing recursive fault but reboot is needed!
[   36.793890] BUG: scheduling while atomic: repro/8694/0x00000000
[   36.794474] INFO: lockdep is turned off.
[   36.795010] Modules linked in:
[   36.795396] Preemption disabled at:
[   36.795403] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   36.796572] CPU: 1 UID: 0 PID: 8694 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   36.797465] Tainted: [D]=DIE, [W]=WARN
[   36.798039] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.799488] Call Trace:
[   36.799799]  <TASK>
[   36.800079]  dump_stack_lvl+0x121/0x150
[   36.800625]  ? do_task_dead+0x28/0x110
[   36.801098]  dump_stack+0x19/0x20
[   36.801535]  __schedule_bug+0x12d/0x180
[   36.802123]  __schedule+0x23fe/0x33a0
[   36.802589]  ? do_task_dead+0xa8/0x110
[   36.803116]  ? rcu_is_watching+0x19/0xc0
[   36.803613]  ? lock_release+0x592/0x870
[   36.804102]  ? __pfx___schedule+0x10/0x10
[   36.804731]  ? debug_smp_processor_id+0x20/0x30
[   36.805293]  ? rcu_is_watching+0x19/0xc0
[   36.805996]  ? trace_irq_enable+0xe1/0x120
[   36.806516]  ? do_task_dead+0x4a/0x110
[   36.807166]  do_task_dead+0xe0/0x110
[   36.807533]  make_task_dead+0x384/0x3c0
[   36.807911]  rewind_stack_and_make_dead+0x16/0x20
[   36.808451] RIP: 0033:0x7f2e1423ee5d
[   36.808806] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   36.809390] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.810229] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   36.810883] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.811629] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   36.812300] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   36.813090] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   36.813764]  </TASK>
[   37.319925] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#43] PREEMPT SMP KASAN NOPTI
[   37.321386] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.322289] CPU: 0 UID: 0 PID: 9016 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   37.323375] Tainted: [D]=DIE, [W]=WARN
[   37.323828] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.325165] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.325879] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.328049] RSP: 0018:ffff88801230f7d8 EFLAGS: 00010202
[   37.328687] RAX: dffffc0000000000 RBX: ffffea00003f2680 RCX: ffffffff81bc4f39
[   37.329408] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003f2690
[   37.330071] RBP: ffff88801230f7f8 R08: 0000000000000000 R09: ffffed1003514a18
[   37.330876] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.331726] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801a8a50c0
[   37.332577] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   37.333533] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.334226] CR2: 00007fffdaca68b8 CR3: 000000001975e005 CR4: 0000000000770ef0
[   37.335074] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.335917] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.336754] PKRU: 55555554
[   37.337086] Call Trace:
[   37.337395]  <TASK>
[   37.337669]  ? show_regs+0x6d/0x80
[   37.338114]  ? die_addr+0x45/0xb0
[   37.338541]  ? exc_general_protection+0x1ae/0x340
[   37.339133]  ? asm_exc_general_protection+0x2b/0x30
[   37.339667]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.340171]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.340674]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.341313]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.341945]  zap_huge_pmd+0x48e/0xd40
[   37.342425]  unmap_page_range+0x1ad6/0x4360
[   37.342947]  ? update_stack_state+0x2d9/0x610
[   37.343511]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.344136]  ? __pfx_unmap_page_range+0x10/0x10
[   37.344713]  unmap_single_vma+0x1ac/0x2d0
[   37.345161]  unmap_vmas+0x210/0x470
[   37.345514]  ? __pfx_unmap_vmas+0x10/0x10
[   37.345907]  ? __pfx_lock_release+0x10/0x10
[   37.346320]  ? lock_release+0x592/0x870
[   37.346692]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.347177]  ? __pfx_lock_release+0x10/0x10
[   37.347607]  ? mlock_drain_local+0x27f/0x4b0
[   37.348039]  exit_mmap+0x19e/0xb10
[   37.348394]  ? __pfx_exit_mmap+0x10/0x10
[   37.348788]  ? debug_smp_processor_id+0x20/0x30
[   37.349236]  ? trace_hardirqs_on+0x51/0x60
[   37.349635]  ? kasan_quarantine_put+0xa2/0x200
[   37.350072]  ? __khugepaged_exit+0x266/0x4c0
[   37.350508]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.351034]  __mmput+0xde/0x3a0
[   37.351361]  mmput+0x74/0x90
[   37.351663]  do_exit+0xa03/0x29f0
[   37.352004]  ? trace_hardirqs_on+0x51/0x60
[   37.352402]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.353002]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.353470]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.353938]  ? __pfx_do_exit+0x10/0x10
[   37.354320]  ? __audit_syscall_entry+0x39c/0x500
[   37.354767]  __x64_sys_exit+0x50/0x60
[   37.355139]  x64_sys_call+0x20c9/0x20d0
[   37.355523]  do_syscall_64+0x6d/0x140
[   37.355898]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.356394] RIP: 0033:0x7f2e1423ee5d
[   37.356761] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   37.357336] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.358052] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   37.358709] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.359371] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   37.360022] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   37.360670] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   37.361343]  </TASK>
[   37.361569] Modules linked in:
[   37.361978] ---[ end trace 0000000000000000 ]---
[   37.362525] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.363137] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.364829] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   37.365325] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   37.366003] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   37.366686] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   37.367349] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.368015] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   37.368663] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   37.369395] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.369927] CR2: 00007fffdaca68b8 CR3: 000000001975e005 CR4: 0000000000770ef0
[   37.370606] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.371286] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.371944] PKRU: 55555554
[   37.372220] note: repro[9016] exited with preempt_count 1
[   37.372722] Fixing recursive fault but reboot is needed!
[   37.373216] BUG: scheduling while atomic: repro/9016/0x00000000
[   37.373762] INFO: lockdep is turned off.
[   37.374152] Modules linked in:
[   37.374456] Preemption disabled at:
[   37.374462] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   37.375310] CPU: 0 UID: 0 PID: 9016 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   37.376158] Tainted: [D]=DIE, [W]=WARN
[   37.376525] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.377556] Call Trace:
[   37.377799]  <TASK>
[   37.378024]  dump_stack_lvl+0x121/0x150
[   37.378415]  ? do_task_dead+0x28/0x110
[   37.378785]  dump_stack+0x19/0x20
[   37.379131]  __schedule_bug+0x12d/0x180
[   37.379513]  __schedule+0x23fe/0x33a0
[   37.379884]  ? do_task_dead+0xa8/0x110
[   37.380280]  ? rcu_is_watching+0x19/0xc0
[   37.380671]  ? lock_release+0x592/0x870
[   37.381056]  ? __pfx___schedule+0x10/0x10
[   37.381452]  ? debug_smp_processor_id+0x20/0x30
[   37.381894]  ? rcu_is_watching+0x19/0xc0
[   37.382364]  ? trace_irq_enable+0xe1/0x120
[   37.382883]  ? do_task_dead+0x4a/0x110
[   37.383354]  do_task_dead+0xe0/0x110
[   37.383807]  make_task_dead+0x384/0x3c0
[   37.384299]  rewind_stack_and_make_dead+0x16/0x20
[   37.384881] RIP: 0033:0x7f2e1423ee5d
[   37.385331] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   37.386069] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.386971] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   37.387827] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.388679] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   37.389531] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   37.390384] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   37.391128]  </TASK>
[   38.321355] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#44] PREEMPT SMP KASAN NOPTI
[   38.322463] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.323209] CPU: 1 UID: 0 PID: 9719 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.324059] Tainted: [D]=DIE, [W]=WARN
[   38.324422] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.325452] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.326018] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.327687] RSP: 0018:ffff888014e5f7d8 EFLAGS: 00010202
[   38.328363] RAX: dffffc0000000000 RBX: ffffea00007ed080 RCX: ffffffff81bc4f39
[   38.329090] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007ed090
[   38.329746] RBP: ffff888014e5f7f8 R08: 0000000000000000 R09: ffffed1002913b38
[   38.330402] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   38.331067] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801489d9c0
[   38.331722] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.332457] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.333023] CR2: 00007f2e145bf658 CR3: 00000000204f8002 CR4: 0000000000770ef0
[   38.333701] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.334364] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.335042] PKRU: 55555554
[   38.335308] Call Trace:
[   38.335544]  <TASK>
[   38.335763]  ? show_regs+0x6d/0x80
[   38.336119]  ? die_addr+0x45/0xb0
[   38.336470]  ? exc_general_protection+0x1ae/0x340
[   38.336954]  ? asm_exc_general_protection+0x2b/0x30
[   38.337461]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.337956]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.338458]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.338975]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.339504]  zap_huge_pmd+0x48e/0xd40
[   38.339880]  unmap_page_range+0x1ad6/0x4360
[   38.340307]  ? __pfx_lock_release+0x10/0x10
[   38.340723]  ? do_raw_spin_trylock+0xbf/0x190
[   38.341183]  ? __kasan_check_read+0x15/0x20
[   38.341617]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.342115]  ? __pfx_unmap_page_range+0x10/0x10
[   38.342576]  unmap_single_vma+0x1ac/0x2d0
[   38.342979]  unmap_vmas+0x210/0x470
[   38.343348]  ? __pfx_unmap_vmas+0x10/0x10
[   38.343741]  ? __pfx_lock_release+0x10/0x10
[   38.344152]  ? lock_release+0x592/0x870
[   38.344537]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.345020]  ? __pfx_lock_release+0x10/0x10
[   38.345451]  ? mlock_drain_local+0x27f/0x4b0
[   38.345906]  exit_mmap+0x19e/0xb10
[   38.346261]  ? __pfx_exit_mmap+0x10/0x10
[   38.346654]  ? debug_smp_processor_id+0x20/0x30
[   38.347113]  ? trace_hardirqs_on+0x51/0x60
[   38.347571]  ? kasan_quarantine_put+0xa2/0x200
[   38.348037]  ? __khugepaged_exit+0x266/0x4c0
[   38.348470]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.348992]  __mmput+0xde/0x3a0
[   38.349345]  mmput+0x74/0x90
[   38.349654]  do_exit+0xa03/0x29f0
[   38.350015]  ? trace_hardirqs_on+0x51/0x60
[   38.350432]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.351041]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.351524]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.352008]  ? __pfx_do_exit+0x10/0x10
[   38.352394]  ? __audit_syscall_entry+0x39c/0x500
[   38.352847]  __x64_sys_exit+0x50/0x60
[   38.353217]  x64_sys_call+0x20c9/0x20d0
[   38.353626]  do_syscall_64+0x6d/0x140
[   38.354025]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.354519] RIP: 0033:0x7f2e1423ee5d
[   38.354872] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.355452] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.356146] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.356803] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.357467] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.358170] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.358825] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.359509]  </TASK>
[   38.359743] Modules linked in:
[   38.360089] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#45] PREEMPT SMP KASAN NOPTI
[   38.360261] ---[ end trace 0000000000000000 ]---
[   38.361205] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.361635] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.362310] CPU: 0 UID: 0 PID: 9739 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.362336] Tainted: [D]=DIE, [W]=WARN
[   38.362342] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.362353] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.362381] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.362911] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.363721] RSP: 0018:ffff88800fd6f7d8 EFLAGS: 00010202
[   38.364072] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.365078] 
[   38.365690] 
[   38.367241] RAX: dffffc0000000000 RBX: ffffea0000391000 RCX: ffffffff81bc4f39
[   38.367256] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000391010
[   38.367266] RBP: ffff88800fd6f7f8 R08: 0000000000000000 R09: ffffed1002432cb4
[   38.367277] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.367286] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880121965a0
[   38.367297] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.367311] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.367323] CR2: 00007f2e1429bc20 CR3: 000000001d8c8002 CR4: 0000000000770ef0
[   38.368989] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.369464] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.370351] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.370373] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.370560] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.371224] PKRU: 55555554
[   38.371958] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.372505] Call Trace:
[   38.373251] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.373805]  <TASK>
[   38.374625] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.375055]  ? show_regs+0x6d/0x80
[   38.375746] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.376384]  ? die_addr+0x45/0xb0
[   38.377030] CR2: 00007f2e145bf658 CR3: 00000000204f8002 CR4: 0000000000770ef0
[   38.377665]  ? exc_general_protection+0x1ae/0x340
[   38.377697]  ? asm_exc_general_protection+0x2b/0x30
[   38.377729]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.378506] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.379018]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.379279] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.379912]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.380146] PKRU: 55555554
[   38.380780]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.380989] note: repro[9719] exited with preempt_count 1
[   38.381701]  zap_huge_pmd+0x48e/0xd40
[   38.382030] Fixing recursive fault but reboot is needed!
[   38.382631]  unmap_page_range+0x1ad6/0x4360
[   38.382660]  ? update_stack_state+0x2d9/0x610
[   38.389946]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.390432]  ? __pfx_unmap_page_range+0x10/0x10
[   38.390889]  unmap_single_vma+0x1ac/0x2d0
[   38.391291]  unmap_vmas+0x210/0x470
[   38.391646]  ? __pfx_unmap_vmas+0x10/0x10
[   38.392037]  ? __pfx_lock_release+0x10/0x10
[   38.392442]  ? lock_release+0x592/0x870
[   38.392810]  ? mas_next_slot+0x133a/0x1a50
[   38.393206]  ? __pfx_lock_release+0x10/0x10
[   38.393612]  ? mlock_drain_local+0x27f/0x4b0
[   38.394041]  exit_mmap+0x19e/0xb10
[   38.394386]  ? __pfx_exit_mmap+0x10/0x10
[   38.394765]  ? debug_smp_processor_id+0x20/0x30
[   38.395237]  ? trace_hardirqs_on+0x51/0x60
[   38.395669]  ? kasan_quarantine_put+0xa2/0x200
[   38.396096]  ? __khugepaged_exit+0x266/0x4c0
[   38.396527]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.397032]  __mmput+0xde/0x3a0
[   38.397350]  mmput+0x74/0x90
[   38.397639]  do_exit+0xa03/0x29f0
[   38.397966]  ? trace_hardirqs_on+0x51/0x60
[   38.398369]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.398960]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.399422]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.399881]  ? __pfx_do_exit+0x10/0x10
[   38.400254]  ? __audit_syscall_entry+0x39c/0x500
[   38.400698]  __x64_sys_exit+0x50/0x60
[   38.401063]  x64_sys_call+0x20c9/0x20d0
[   38.401433]  do_syscall_64+0x6d/0x140
[   38.401795]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.402280] RIP: 0033:0x7f2e1423ee5d
[   38.402627] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.403196] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.403879] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.404517] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.405166] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.405807] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.406450] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.407119]  </TASK>
[   38.407338] Modules linked in:
[   38.407811] ---[ end trace 0000000000000000 ]---
[   38.408329] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.408873] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.410598] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.411094] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.411743] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.412388] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.413040] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.413684] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.414452] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.415186] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.415720] CR2: 00007f2e1429bc20 CR3: 000000001d8c8002 CR4: 0000000000770ef0
[   38.416364] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.417019] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.417725] PKRU: 55555554
[   38.418039] note: repro[9739] exited with preempt_count 1
[   38.418686] Fixing recursive fault but reboot is needed!
[   38.419179] BUG: scheduling while atomic: repro/9739/0x00000000
[   38.419799] INFO: lockdep is turned off.
[   38.420181] Modules linked in:
[   38.420479] Preemption disabled at:
[   38.420484] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   38.421306] CPU: 0 UID: 0 PID: 9739 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.422142] Tainted: [D]=DIE, [W]=WARN
[   38.422501] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.423512] Call Trace:
[   38.423756]  <TASK>
[   38.423970]  dump_stack_lvl+0x121/0x150
[   38.424364]  ? do_task_dead+0x28/0x110
[   38.424721]  dump_stack+0x19/0x20
[   38.425052]  __schedule_bug+0x12d/0x180
[   38.425426]  __schedule+0x23fe/0x33a0
[   38.425787]  ? do_task_dead+0xa8/0x110
[   38.426165]  ? rcu_is_watching+0x19/0xc0
[   38.426546]  ? lock_release+0x592/0x870
[   38.426915]  ? __pfx___schedule+0x10/0x10
[   38.427314]  ? debug_smp_processor_id+0x20/0x30
[   38.427740]  ? rcu_is_watching+0x19/0xc0
[   38.428128]  ? trace_irq_enable+0xe1/0x120
[   38.428531]  ? do_task_dead+0x4a/0x110
[   38.428888]  do_task_dead+0xe0/0x110
[   38.429233]  make_task_dead+0x384/0x3c0
[   38.429613]  rewind_stack_and_make_dead+0x16/0x20
[   38.430060] RIP: 0033:0x7f2e1423ee5d
[   38.430413] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.430980] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.431683] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.432336] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.432973] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.433629] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.434283] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.434941]  </TASK>
[   38.708382] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#46] PREEMPT SMP KASAN NOPTI
[   38.708963] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.709336] CPU: 1 UID: 0 PID: 9955 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.709938] Tainted: [D]=DIE, [W]=WARN
[   38.710188] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.710744] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.711036] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.712094] RSP: 0018:ffff88802b4b77d8 EFLAGS: 00010202
[   38.712484] RAX: dffffc0000000000 RBX: ffffea00003f02c0 RCX: ffffffff81bc4f39
[   38.712997] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003f02d0
[   38.713403] RBP: ffff88802b4b77f8 R08: 0000000000000000 R09: ffffed1002cfca30
[   38.713715] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   38.714030] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880167e5180
[   38.714342] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.714690] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.714948] CR2: 00007fffdaca68b8 CR3: 000000002b58e005 CR4: 0000000000770ef0
[   38.715270] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.715587] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.715911] PKRU: 55555554
[   38.716043] Call Trace:
[   38.716158]  <TASK>
[   38.716263]  ? show_regs+0x6d/0x80
[   38.716447]  ? die_addr+0x45/0xb0
[   38.716672]  ? exc_general_protection+0x1ae/0x340
[   38.716902]  ? asm_exc_general_protection+0x2b/0x30
[   38.717143]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.717381]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.717624]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.717859]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.718096]  zap_huge_pmd+0x48e/0xd40
[   38.718279]  unmap_page_range+0x1ad6/0x4360
[   38.718474]  ? __pfx_lock_release+0x10/0x10
[   38.718667]  ? do_raw_spin_trylock+0xbf/0x190
[   38.718873]  ? __kasan_check_read+0x15/0x20
[   38.719078]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.719313]  ? __pfx_unmap_page_range+0x10/0x10
[   38.719536]  unmap_single_vma+0x1ac/0x2d0
[   38.719729]  unmap_vmas+0x210/0x470
[   38.719959]  ? __pfx_unmap_vmas+0x10/0x10
[   38.720196]  ? __pfx_lock_release+0x10/0x10
[   38.720445]  ? lock_release+0x592/0x870
[   38.720675]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.720902]  ? __pfx_lock_release+0x10/0x10
[   38.721101]  ? mlock_drain_local+0x27f/0x4b0
[   38.721307]  exit_mmap+0x19e/0xb10
[   38.721481]  ? __pfx_exit_mmap+0x10/0x10
[   38.721667]  ? debug_smp_processor_id+0x20/0x30
[   38.721880]  ? trace_hardirqs_on+0x51/0x60
[   38.722080]  ? kasan_quarantine_put+0xa2/0x200
[   38.722294]  ? __khugepaged_exit+0x266/0x4c0
[   38.722498]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.722746]  __mmput+0xde/0x3a0
[   38.722904]  mmput+0x74/0x90
[   38.723051]  do_exit+0xa03/0x29f0
[   38.723216]  ? trace_hardirqs_on+0x51/0x60
[   38.723569]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.724187]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.724661]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.725144]  ? __pfx_do_exit+0x10/0x10
[   38.725662]  ? __audit_syscall_entry+0x39c/0x500
[   38.726139]  __x64_sys_exit+0x50/0x60
[   38.726517]  x64_sys_call+0x20c9/0x20d0
[   38.726898]  do_syscall_64+0x6d/0x140
[   38.727282]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.727595] RIP: 0033:0x7f2e1423ee5d
[   38.727763] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.728031] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.728362] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.728673] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.728980] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.729306] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.729790] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.730289]  </TASK>
[   38.730524] Modules linked in:
[   38.730908] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#47] PREEMPT SMP KASAN NOPTI
[   38.730978] ---[ end trace 0000000000000000 ]---
[   38.732037] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.732356] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.733434] CPU: 0 UID: 0 PID: 9967 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.733694] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.734931] Tainted: [D]=DIE, [W]=WARN
[   38.734939] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.735923] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.736373] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.736921] 
[   38.736925] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.737536] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.737777] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.737968] RSP: 0018:ffff888014bf77d8 EFLAGS: 00010202
[   38.738276] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.740342] 
[   38.740641] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.740647] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.741227] RAX: dffffc0000000000 RBX: ffffea0000ad83c0 RCX: ffffffff81bc4f39
[   38.741523] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.741713] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad83d0
[   38.741725] RBP: ffff888014bf77f8 R08: 0000000000000000 R09: ffffed10026beb80
[   38.742022] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.742905] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.742920] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880135f5c00
[   38.743221] CR2: 00007fffdaca68b8 CR3: 000000002b58e005 CR4: 0000000000770ef0
[   38.744108] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.744401] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.745191] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.745435] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.745442] PKRU: 55555554
[   38.746224] CR2: 0000000000404200 CR3: 000000001a904005 CR4: 0000000000770ef0
[   38.746241] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.746544] note: repro[9955] exited with preempt_count 1
[   38.747473] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.747817] Fixing recursive fault but reboot is needed!
[   38.753576] PKRU: 55555554
[   38.754017] Call Trace:
[   38.754387]  <TASK>
[   38.754622]  ? show_regs+0x6d/0x80
[   38.755014]  ? die_addr+0x45/0xb0
[   38.755382]  ? exc_general_protection+0x1ae/0x340
[   38.755887]  ? asm_exc_general_protection+0x2b/0x30
[   38.756413]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.756952]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.757496]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.758038]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.758576]  zap_huge_pmd+0x48e/0xd40
[   38.758976]  unmap_page_range+0x1ad6/0x4360
[   38.759431]  ? update_stack_state+0x2d9/0x610
[   38.759906]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.760620]  ? __pfx_unmap_page_range+0x10/0x10
[   38.761094]  unmap_single_vma+0x1ac/0x2d0
[   38.761511]  unmap_vmas+0x210/0x470
[   38.761878]  ? __pfx_unmap_vmas+0x10/0x10
[   38.762291]  ? __pfx_lock_release+0x10/0x10
[   38.762716]  ? lock_release+0x592/0x870
[   38.763114]  ? mas_next_slot+0x133a/0x1a50
[   38.763530]  ? __pfx_lock_release+0x10/0x10
[   38.763957]  ? mlock_drain_local+0x27f/0x4b0
[   38.764586]  exit_mmap+0x19e/0xb10
[   38.764981]  ? __pfx_exit_mmap+0x10/0x10
[   38.765389]  ? debug_smp_processor_id+0x20/0x30
[   38.765847]  ? trace_hardirqs_on+0x51/0x60
[   38.766268]  ? kasan_quarantine_put+0xa2/0x200
[   38.766712]  ? __khugepaged_exit+0x266/0x4c0
[   38.767135]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.767646]  __mmput+0xde/0x3a0
[   38.767962]  mmput+0x74/0x90
[   38.768382]  do_exit+0xa03/0x29f0
[   38.768850]  ? trace_hardirqs_on+0x51/0x60
[   38.769255]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.769850]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.770321]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.770785]  ? __pfx_do_exit+0x10/0x10
[   38.771158]  ? __audit_syscall_entry+0x39c/0x500
[   38.771607]  __x64_sys_exit+0x50/0x60
[   38.771969]  x64_sys_call+0x20c9/0x20d0
[   38.772348]  do_syscall_64+0x6d/0x140
[   38.772710]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.773199] RIP: 0033:0x7f2e1423ee5d
[   38.773547] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.774119] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.775079] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.775710] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.776346] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.776978] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.777614] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.778255]  </TASK>
[   38.778464] Modules linked in:
[   38.778862] ---[ end trace 0000000000000000 ]---
[   38.779045] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#48] PREEMPT SMP KASAN NOPTI
[   38.779289] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.779942] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.779954] CPU: 1 UID: 0 PID: 9991 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.780443] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.780858] Tainted: [D]=DIE, [W]=WARN
[   38.781616] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.782627] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.782636] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.782964] 
[   38.783259] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.783270] RSP: 0018:ffff88801f0ff7d8 EFLAGS: 00010202
[   38.784185] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.784499] 
[   38.784692] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.785667] RAX: dffffc0000000000 RBX: ffffea0000858500 RCX: ffffffff81bc4f39
[   38.786107] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.786475] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000858510
[   38.786613] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.786996] RBP: ffff88801f0ff7f8 R08: 0000000000000000 R09: ffffed1003561878
[   38.787569] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.787951] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.787958] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801ab0c3c0
[   38.788541] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.788960] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.789708] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.790091] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.790099] CR2: 00007f2e145e4fa8 CR3: 000000002b58a002 CR4: 0000000000770ef0
[   38.790107] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.790660] CR2: 0000000000404200 CR3: 000000001a904005 CR4: 0000000000770ef0
[   38.791031] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.791659] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.792073] PKRU: 55555554
[   38.792525] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.792825] Call Trace:
[   38.793376] PKRU: 55555554
[   38.793747]  <TASK>
[   38.794301] note: repro[9967] exited with preempt_count 1
[   38.794667]  ? show_regs+0x6d/0x80
[   38.795424] Fixing recursive fault but reboot is needed!
[   38.795572]  ? die_addr+0x45/0xb0
[   38.797522]  ? exc_general_protection+0x1ae/0x340
[   38.797817]  ? asm_exc_general_protection+0x2b/0x30
[   38.798091]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.798368]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.798640]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.798912]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.799621]  zap_huge_pmd+0x48e/0xd40
[   38.799836]  unmap_page_range+0x1ad6/0x4360
[   38.800069]  ? update_stack_state+0x2d9/0x610
[   38.800678]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.800954]  ? __pfx_unmap_page_range+0x10/0x10
[   38.801208]  unmap_single_vma+0x1ac/0x2d0
[   38.801427]  unmap_vmas+0x210/0x470
[   38.801623]  ? __pfx_unmap_vmas+0x10/0x10
[   38.801839]  ? __pfx_lock_release+0x10/0x10
[   38.802059]  ? lock_release+0x592/0x870
[   38.802275]  ? mas_next_slot+0x133a/0x1a50
[   38.802491]  ? __pfx_lock_release+0x10/0x10
[   38.802712]  ? mlock_drain_local+0x27f/0x4b0
[   38.802938]  exit_mmap+0x19e/0xb10
[   38.803128]  ? __pfx_exit_mmap+0x10/0x10
[   38.803335]  ? debug_smp_processor_id+0x20/0x30
[   38.803569]  ? trace_hardirqs_on+0x51/0x60
[   38.803784]  ? kasan_quarantine_put+0xa2/0x200
[   38.804041]  ? __khugepaged_exit+0x266/0x4c0
[   38.804281]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.804566]  __mmput+0xde/0x3a0
[   38.804740]  mmput+0x74/0x90
[   38.804900]  do_exit+0xa03/0x29f0
[   38.805083]  ? trace_hardirqs_on+0x51/0x60
[   38.805298]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.805618]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.805867]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.806118]  ? __pfx_do_exit+0x10/0x10
[   38.806317]  ? __audit_syscall_entry+0x39c/0x500
[   38.806559]  __x64_sys_exit+0x50/0x60
[   38.806755]  x64_sys_call+0x20c9/0x20d0
[   38.806956]  do_syscall_64+0x6d/0x140
[   38.807149]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.807405] RIP: 0033:0x7f2e1423ee5d
[   38.807588] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.807881] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.808245] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.808596] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.808937] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.809277] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.809615] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.809959]  </TASK>
[   38.810077] Modules linked in:
[   38.810357] ---[ end trace 0000000000000000 ]---
[   38.810590] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.810876] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.811742] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.811996] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.812339] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.812676] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.813096] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.813555] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.813907] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.814317] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.814595] CR2: 00007f2e145e4fa8 CR3: 000000002b58a002 CR4: 0000000000770ef0
[   38.814929] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.815264] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.815595] PKRU: 55555554
[   38.815729] note: repro[9991] exited with preempt_count 1
[   38.815988] Fixing recursive fault but reboot is needed!
[   38.816242] BUG: scheduling while atomic: repro/9991/0x00000000
[   38.816532] INFO: lockdep is turned off.
[   38.816719] Modules linked in:
[   38.816872] Preemption disabled at:
[   38.816875] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   38.817323] CPU: 1 UID: 0 PID: 9991 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.817860] Tainted: [D]=DIE, [W]=WARN
[   38.818074] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.818606] Call Trace:
[   38.818732]  <TASK>
[   38.818843]  dump_stack_lvl+0x121/0x150
[   38.819044]  ? do_task_dead+0x28/0x110
[   38.819232]  dump_stack+0x19/0x20
[   38.819402]  __schedule_bug+0x12d/0x180
[   38.819603]  __schedule+0x23fe/0x33a0
[   38.819794]  ? do_task_dead+0xa8/0x110
[   38.819988]  ? rcu_is_watching+0x19/0xc0
[   38.820191]  ? lock_release+0x592/0x870
[   38.820333] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#49] PREEMPT SMP KASAN NOPTI
[   38.820385]  ? __pfx___schedule+0x10/0x10
[   38.821235] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.821422]  ? debug_smp_processor_id+0x20/0x30
[   38.821939] CPU: 0 UID: 0 PID: 10051 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.822144]  ? rcu_is_watching+0x19/0xc0
[   38.822717] Tainted: [D]=DIE, [W]=WARN
[   38.822891]  ? trace_irq_enable+0xe1/0x120
[   38.823136] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.823323]  ? do_task_dead+0x4a/0x110
[   38.824029] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.824200]  do_task_dead+0xe0/0x110
[   38.824563] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.824726]  make_task_dead+0x384/0x3c0
[   38.826120] RSP: 0018:ffff888012e9f7d8 EFLAGS: 00010202
[   38.826298]  rewind_stack_and_make_dead+0x16/0x20
[   38.826623] RAX: dffffc0000000000 RBX: ffffea0000ada300 RCX: ffffffff81bc4f39
[   38.826827] RIP: 0033:0x7f2e1423ee5d
[   38.827263] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ada310
[   38.827422] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.827848] RBP: ffff888012e9f7f8 R08: 0000000000000000 R09: ffffed10037432d8
[   38.828113] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.828539] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.828546] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801ba196c0
[   38.828862] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.829285] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.829660] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.830241] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.830713] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.831150] CR2: 00007f2f8c212010 CR3: 000000001d94c003 CR4: 0000000000770ef0
[   38.831391] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.831802] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.832099] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.832511] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.832866]  </TASK>
[   38.833267] PKRU: 55555554
[   38.833867] Call Trace:
[   38.834023]  <TASK>
[   38.834162]  ? show_regs+0x6d/0x80
[   38.834384]  ? die_addr+0x45/0xb0
[   38.834599]  ? exc_general_protection+0x1ae/0x340
[   38.834903]  ? asm_exc_general_protection+0x2b/0x30
[   38.835220]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.835654]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.836075]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.836393]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.836695]  zap_huge_pmd+0x48e/0xd40
[   38.836924]  unmap_page_range+0x1ad6/0x4360
[   38.837173]  ? update_stack_state+0x2d9/0x610
[   38.837446]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.837750]  ? __pfx_unmap_page_range+0x10/0x10
[   38.838032]  unmap_single_vma+0x1ac/0x2d0
[   38.838275]  unmap_vmas+0x210/0x470
[   38.838483]  ? __pfx_unmap_vmas+0x10/0x10
[   38.838715]  ? __pfx_lock_release+0x10/0x10
[   38.838957]  ? lock_release+0x592/0x870
[   38.839185]  ? mas_next_slot+0x133a/0x1a50
[   38.839424]  ? __pfx_lock_release+0x10/0x10
[   38.839668]  ? mlock_drain_local+0x27f/0x4b0
[   38.839920]  exit_mmap+0x19e/0xb10
[   38.840127]  ? __pfx_exit_mmap+0x10/0x10
[   38.840359]  ? debug_smp_processor_id+0x20/0x30
[   38.840630]  ? trace_hardirqs_on+0x51/0x60
[   38.840871]  ? kasan_quarantine_put+0xa2/0x200
[   38.841130]  ? __khugepaged_exit+0x266/0x4c0
[   38.841383]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.841804]  __mmput+0xde/0x3a0
[   38.842061]  mmput+0x74/0x90
[   38.842281]  do_exit+0xa03/0x29f0
[   38.842480]  ? trace_hardirqs_on+0x51/0x60
[   38.842722]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.843079]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.843357]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.843638]  ? __pfx_do_exit+0x10/0x10
[   38.843858]  ? __audit_syscall_entry+0x39c/0x500
[   38.844131]  __x64_sys_exit+0x50/0x60
[   38.844350]  x64_sys_call+0x20c9/0x20d0
[   38.844575]  do_syscall_64+0x6d/0x140
[   38.844793]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.845082] RIP: 0033:0x7f2e1423ee5d
[   38.845292] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.845624] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.846043] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.846435] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.846828] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.847225] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.847614] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.848015]  </TASK>
[   38.848145] Modules linked in:
[   38.848382] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#50] PREEMPT SMP KASAN NOPTI
[   38.848469] ---[ end trace 0000000000000000 ]---
[   38.849241] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.849497] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.849890] CPU: 1 UID: 0 PID: 10007 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.850257] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.850694] Tainted: [D]=DIE, [W]=WARN
[   38.851683] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.851892] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.852192] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.852781] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.853191] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.853467] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.853847] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.854724] RSP: 0018:ffff88800fc1f7d8 EFLAGS: 00010202
[   38.854736] RAX: dffffc0000000000 RBX: ffffea00007cfac0 RCX: ffffffff81bc4f39
[   38.854742] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007cfad0
[   38.854747] RBP: ffff88800fc1f7f8 R08: 0000000000000000 R09: ffffed100356c908
[   38.854753] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.854758] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801ab64840
[   38.854764] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.854771] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.855161] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.855413] CR2: 00007f2e145e4fa8 CR3: 000000002b60a003 CR4: 0000000000770ef0
[   38.855802] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.856264] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.856651] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.857042] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.857429] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.857857] PKRU: 55555554
[   38.858238] CR2: 00007f2f8c212010 CR3: 000000001d94c003 CR4: 0000000000770ef0
[   38.858534] Call Trace:
[   38.858922] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.859283]  <TASK>
[   38.859670] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.860079]  ? show_regs+0x6d/0x80
[   38.860460] PKRU: 55555554
[   38.860754]  ? die_addr+0x45/0xb0
[   38.860908] note: repro[10051] exited with preempt_count 1
[   38.861269]  ? exc_general_protection+0x1ae/0x340
[   38.861407] Fixing recursive fault but reboot is needed!
[   38.861799]  ? asm_exc_general_protection+0x2b/0x30
[   38.864192]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.864731]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.865037]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.865285]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.865668]  zap_huge_pmd+0x48e/0xd40
[   38.865853]  unmap_page_range+0x1ad6/0x4360
[   38.866060]  ? update_stack_state+0x2d9/0x610
[   38.866281]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.866521]  ? __pfx_unmap_page_range+0x10/0x10
[   38.866743]  unmap_single_vma+0x1ac/0x2d0
[   38.866939]  unmap_vmas+0x210/0x470
[   38.867116]  ? __pfx_unmap_vmas+0x10/0x10
[   38.867304]  ? __pfx_lock_release+0x10/0x10
[   38.867500]  ? lock_release+0x592/0x870
[   38.867681]  ? mas_next_slot+0x133a/0x1a50
[   38.867876]  ? __pfx_lock_release+0x10/0x10
[   38.868078]  ? mlock_drain_local+0x27f/0x4b0
[   38.868282]  exit_mmap+0x19e/0xb10
[   38.868449]  ? __pfx_exit_mmap+0x10/0x10
[   38.868635]  ? debug_smp_processor_id+0x20/0x30
[   38.868847]  ? trace_hardirqs_on+0x51/0x60
[   38.869044]  ? kasan_quarantine_put+0xa2/0x200
[   38.869255]  ? __khugepaged_exit+0x266/0x4c0
[   38.869458]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.869704]  __mmput+0xde/0x3a0
[   38.869860]  mmput+0x74/0x90
[   38.870006]  do_exit+0xa03/0x29f0
[   38.870169]  ? trace_hardirqs_on+0x51/0x60
[   38.870366]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.870656]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.871011]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.871241]  ? __pfx_do_exit+0x10/0x10
[   38.871426]  ? __audit_syscall_entry+0x39c/0x500
[   38.871690]  __x64_sys_exit+0x50/0x60
[   38.871923]  x64_sys_call+0x20c9/0x20d0
[   38.872159]  do_syscall_64+0x6d/0x140
[   38.872338]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.872569] RIP: 0033:0x7f2e1423ee5d
[   38.872733] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.873002] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.873329] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.873634] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.873968] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.874397] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.874704] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.875019]  </TASK>
[   38.875126] Modules linked in:
[   38.875343] ---[ end trace 0000000000000000 ]---
[   38.875555] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.875807] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.876754] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   38.877076] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   38.877377] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   38.877690] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   38.878114] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.878415] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   38.878713] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.879209] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.879575] CR2: 00007f2e145e4fa8 CR3: 000000002b60a003 CR4: 0000000000770ef0
[   38.880030] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.880382] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.880682] PKRU: 55555554
[   38.880804] note: repro[10007] exited with preempt_count 1
[   38.881041] Fixing recursive fault but reboot is needed!
[   38.881305] BUG: scheduling while atomic: repro/10007/0x00000000
[   38.881593] INFO: lockdep is turned off.
[   38.881763] Modules linked in:
[   38.881899] Preemption disabled at:
[   38.881902] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   38.882349] CPU: 1 UID: 0 PID: 10007 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   38.882733] Tainted: [D]=DIE, [W]=WARN
[   38.882974] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.883448] Call Trace:
[   38.883575]  <TASK>
[   38.883789]  dump_stack_lvl+0x121/0x150
[   38.883964]  ? do_task_dead+0x28/0x110
[   38.884135]  dump_stack+0x19/0x20
[   38.884287]  __schedule_bug+0x12d/0x180
[   38.884460]  __schedule+0x23fe/0x33a0
[   38.884626]  ? do_task_dead+0xa8/0x110
[   38.884793]  ? rcu_is_watching+0x19/0xc0
[   38.884970]  ? lock_release+0x592/0x870
[   38.885259]  ? __pfx___schedule+0x10/0x10
[   38.885502]  ? debug_smp_processor_id+0x20/0x30
[   38.885701]  ? rcu_is_watching+0x19/0xc0
[   38.885962]  ? trace_irq_enable+0xe1/0x120
[   38.886254]  ? do_task_dead+0x4a/0x110
[   38.886422]  do_task_dead+0xe0/0x110
[   38.886584]  make_task_dead+0x384/0x3c0
[   38.886890]  rewind_stack_and_make_dead+0x16/0x20
[   38.887109] RIP: 0033:0x7f2e1423ee5d
[   38.887275] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   38.887589] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.888076] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   38.888749] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.889341] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   38.889877] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   38.890193] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   38.890506]  </TASK>
[   39.196201] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#51] PREEMPT SMP KASAN NOPTI
[   39.197753] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.198660] CPU: 1 UID: 0 PID: 10231 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.199750] Tainted: [D]=DIE, [W]=WARN
[   39.200213] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.201540] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.202670] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.205030] RSP: 0018:ffff8880214d77d8 EFLAGS: 00010202
[   39.205666] RAX: dffffc0000000000 RBX: ffffea00006532c0 RCX: ffffffff81bc4f39
[   39.206510] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006532d0
[   39.207356] RBP: ffff8880214d77f8 R08: 0000000000000000 R09: ffffed10024a6950
[   39.208301] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.209146] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012534a80
[   39.209994] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   39.210944] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.211786] CR2: 00007f2e145dfdf0 CR3: 000000000ff3a004 CR4: 0000000000770ef0
[   39.212679] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.213526] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.214371] PKRU: 55555554
[   39.214707] Call Trace:
[   39.215021]  <TASK>
[   39.215291]  ? show_regs+0x6d/0x80
[   39.215810]  ? die_addr+0x45/0xb0
[   39.216295]  ? exc_general_protection+0x1ae/0x340
[   39.216895]  ? asm_exc_general_protection+0x2b/0x30
[   39.217513]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.218148]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.218781]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.219420]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.220185]  zap_huge_pmd+0x48e/0xd40
[   39.220659]  unmap_page_range+0x1ad6/0x4360
[   39.221190]  ? update_stack_state+0x2d9/0x610
[   39.221753]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.222381]  ? __pfx_unmap_page_range+0x10/0x10
[   39.222956]  unmap_single_vma+0x1ac/0x2d0
[   39.223518]  unmap_vmas+0x210/0x470
[   39.223969]  ? __pfx_unmap_vmas+0x10/0x10
[   39.224474]  ? __pfx_lock_release+0x10/0x10
[   39.224994]  ? lock_release+0x592/0x870
[   39.225470]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   39.226079]  ? __pfx_lock_release+0x10/0x10
[   39.226600]  ? mlock_drain_local+0x27f/0x4b0
[   39.227140]  exit_mmap+0x19e/0xb10
[   39.227579]  ? __pfx_exit_mmap+0x10/0x10
[   39.228080]  ? debug_smp_processor_id+0x20/0x30
[   39.228639]  ? trace_hardirqs_on+0x51/0x60
[   39.229156]  ? kasan_quarantine_put+0xa2/0x200
[   39.229710]  ? __khugepaged_exit+0x266/0x4c0
[   39.230249]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.230902]  __mmput+0xde/0x3a0
[   39.231308]  mmput+0x74/0x90
[   39.231679]  do_exit+0xa03/0x29f0
[   39.232109]  ? trace_hardirqs_on+0x51/0x60
[   39.232617]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.233383]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.233974]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.234575]  ? __pfx_do_exit+0x10/0x10
[   39.235051]  ? __audit_syscall_entry+0x39c/0x500
[   39.235624]  __x64_sys_exit+0x50/0x60
[   39.236096]  x64_sys_call+0x20c9/0x20d0
[   39.236575]  do_syscall_64+0x6d/0x140
[   39.237043]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.237663] RIP: 0033:0x7f2e1423ee5d
[   39.238111] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.238836] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.239738] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.240581] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.241423] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.242263] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.243105] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.243960]  </TASK>
[   39.244246] Modules linked in:
[   39.244754] ---[ end trace 0000000000000000 ]---
[   39.245060] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   39.245320] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.247953] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.248335] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   39.250245] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   39.252091] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   39.252939] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   39.253790] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   39.254687] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.255545] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   39.256402] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   39.257367] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.258089] CR2: 00007f2e145dfdf0 CR3: 000000000ff3a004 CR4: 0000000000770ef0
[   39.258945] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.259800] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.260651] PKRU: 55555554
[   39.261001] note: repro[10231] exited with preempt_count 1
[   39.261662] Fixing recursive fault but reboot is needed!
[   39.262324] BUG: scheduling while atomic: repro/10231/0x00000000
[   39.263055] INFO: lockdep is turned off.
[   39.263531] Modules linked in:
[   39.263913] Preemption disabled at:
[   39.263920] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   39.264999] CPU: 1 UID: 0 PID: 10231 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.266098] Tainted: [D]=DIE, [W]=WARN
[   39.266555] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.267889] Call Trace:
[   39.268207]  <TASK>
[   39.268479]  dump_stack_lvl+0x121/0x150
[   39.268962]  ? do_task_dead+0x28/0x110
[   39.269434]  dump_stack+0x19/0x20
[   39.269857]  __schedule_bug+0x12d/0x180
[   39.270348]  __schedule+0x23fe/0x33a0
[   39.270812]  ? do_task_dead+0xa8/0x110
[   39.271286]  ? rcu_is_watching+0x19/0xc0
[   39.271779]  ? lock_release+0x592/0x870
[   39.272263]  ? __pfx___schedule+0x10/0x10
[   39.272771]  ? debug_smp_processor_id+0x20/0x30
[   39.273334]  ? rcu_is_watching+0x19/0xc0
[   39.273825]  ? trace_irq_enable+0xe1/0x120
[   39.274345]  ? do_task_dead+0x4a/0x110
[   39.274813]  do_task_dead+0xe0/0x110
[   39.275267]  make_task_dead+0x384/0x3c0
[   39.275752]  rewind_stack_and_make_dead+0x16/0x20
[   39.276336] RIP: 0033:0x7f2e1423ee5d
[   39.276782] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.277524] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.278431] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.279281] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.280129] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.280975] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.281827] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.282687]  </TASK>
[   39.627106] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#52] PREEMPT SMP KASAN NOPTI
[   39.628258] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.628967] CPU: 0 UID: 0 PID: 10498 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.629821] Tainted: [D]=DIE, [W]=WARN
[   39.630180] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.631242] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.631803] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.633553] RSP: 0018:ffff88802b6477d8 EFLAGS: 00010202
[   39.634232] RAX: dffffc0000000000 RBX: ffffea000052e200 RCX: ffffffff81bc4f39
[   39.634942] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000052e210
[   39.635645] RBP: ffff88802b6477f8 R08: 0000000000000000 R09: ffffed1002cde024
[   39.636331] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.637039] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880166f0120
[   39.637696] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   39.638441] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.639002] CR2: 0000000000404200 CR3: 00000000127d4004 CR4: 0000000000770ef0
[   39.639659] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.640309] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.641004] PKRU: 55555554
[   39.641272] Call Trace:
[   39.641513]  <TASK>
[   39.641730]  ? show_regs+0x6d/0x80
[   39.642097]  ? die_addr+0x45/0xb0
[   39.642444]  ? exc_general_protection+0x1ae/0x340
[   39.642911]  ? asm_exc_general_protection+0x2b/0x30
[   39.643396]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.643889]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.644387]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.644891]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.645392]  zap_huge_pmd+0x48e/0xd40
[   39.645970]  unmap_page_range+0x1ad6/0x4360
[   39.646541]  ? update_stack_state+0x2d9/0x610
[   39.647018]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.647513]  ? __pfx_unmap_page_range+0x10/0x10
[   39.647966]  unmap_single_vma+0x1ac/0x2d0
[   39.648371]  unmap_vmas+0x210/0x470
[   39.648730]  ? __pfx_unmap_vmas+0x10/0x10
[   39.649123]  ? __pfx_lock_release+0x10/0x10
[   39.649531]  ? lock_release+0x592/0x870
[   39.649912]  ? mas_next_slot+0x133a/0x1a50
[   39.650342]  ? __pfx_lock_release+0x10/0x10
[   39.650758]  ? mlock_drain_local+0x27f/0x4b0
[   39.651188]  exit_mmap+0x19e/0xb10
[   39.651554]  ? __pfx_exit_mmap+0x10/0x10
[   39.651944]  ? debug_smp_processor_id+0x20/0x30
[   39.652392]  ? trace_hardirqs_on+0x51/0x60
[   39.652797]  ? kasan_quarantine_put+0xa2/0x200
[   39.653252]  ? __khugepaged_exit+0x266/0x4c0
[   39.653684]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.654202]  __mmput+0xde/0x3a0
[   39.654528]  mmput+0x74/0x90
[   39.654821]  do_exit+0xa03/0x29f0
[   39.655189]  ? trace_hardirqs_on+0x51/0x60
[   39.655596]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.656200]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.656665]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.657157]  ? __pfx_do_exit+0x10/0x10
[   39.657548]  ? __audit_syscall_entry+0x39c/0x500
[   39.658015]  __x64_sys_exit+0x50/0x60
[   39.658384]  x64_sys_call+0x20c9/0x20d0
[   39.658765]  do_syscall_64+0x6d/0x140
[   39.659141]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.659645] RIP: 0033:0x7f2e1423ee5d
[   39.660017] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.660594] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.661294] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.661963] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.662627] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.663284] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.663962] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.664647]  </TASK>
[   39.664869] Modules linked in:
[   39.665345] ---[ end trace 0000000000000000 ]---
[   39.665911] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.666576] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.668261] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   39.669033] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   39.669759] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   39.670533] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   39.671201] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.671872] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   39.672540] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   39.673292] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.673861] CR2: 0000000000404200 CR3: 00000000127d4004 CR4: 0000000000770ef0
[   39.674641] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.675102] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#53] PREEMPT SMP KASAN NOPTI
[   39.675314] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.676434] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.677074] PKRU: 55555554
[   39.677757] CPU: 1 UID: 0 PID: 10526 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.678009] note: repro[10498] exited with preempt_count 1
[   39.678832] Tainted: [D]=DIE, [W]=WARN
[   39.678839] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.678851] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.678883] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.678901] RSP: 0018:ffff88802b65f7d8 EFLAGS: 00010202
[   39.678917] RAX: dffffc0000000000 RBX: ffffea0000986640 RCX: ffffffff81bc4f39
[   39.679430] Fixing recursive fault but reboot is needed!
[   39.679774] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000986650
[   39.680856] check_preemption_disabled: 11 callbacks suppressed
[   39.680867] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10498
[   39.681379] RBP: ffff88802b65f7f8 R08: 0000000000000000 R09: ffffed1002597ce4
[   39.683151] caller is debug_smp_processor_id+0x20/0x30
[   39.683556] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.684214] CPU: 0 UID: 0 PID: 10498 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.684688] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012cbe720
[   39.685709] Tainted: [D]=DIE, [W]=WARN
[   39.686239] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   39.686938] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.687581] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.688065] Call Trace:
[   39.688704] CR2: 00007f2f8c4a4000 CR3: 0000000012d20002 CR4: 0000000000770ef0
[   39.689537]  <TASK>
[   39.690181] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.690525]  dump_stack_lvl+0x121/0x150
[   39.691250] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.692273]  dump_stack+0x19/0x20
[   39.692786] PKRU: 55555554
[   39.693050]  check_preemption_disabled+0x168/0x180
[   39.693689] Call Trace:
[   39.693900]  debug_smp_processor_id+0x20/0x30
[   39.694844]  <TASK>
[   39.695208]  __schedule+0xa0/0x33a0
[   39.695868]  ? show_regs+0x6d/0x80
[   39.696181]  ? do_task_dead+0xa8/0x110
[   39.696451]  ? die_addr+0x45/0xb0
[   39.696897]  ? debug_smp_processor_id+0x20/0x30
[   39.697145]  ? exc_general_protection+0x1ae/0x340
[   39.697549]  ? rcu_is_watching+0x19/0xc0
[   39.697769]  ? asm_exc_general_protection+0x2b/0x30
[   39.698095]  ? lock_release+0x592/0x870
[   39.698612]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.698963]  ? __pfx___schedule+0x10/0x10
[   39.699284]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.699709]  ? debug_smp_processor_id+0x20/0x30
[   39.700149]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.700506]  ? rcu_is_watching+0x19/0xc0
[   39.700954]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.701315]  ? trace_irq_enable+0xe1/0x120
[   39.701795]  zap_huge_pmd+0x48e/0xd40
[   39.702184]  ? do_task_dead+0x4a/0x110
[   39.702930]  unmap_page_range+0x1ad6/0x4360
[   39.703347]  do_task_dead+0xe0/0x110
[   39.703824]  ? update_stack_state+0x2d9/0x610
[   39.704202]  make_task_dead+0x384/0x3c0
[   39.704684]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.705050]  rewind_stack_and_make_dead+0x16/0x20
[   39.705406]  ? __pfx_unmap_page_range+0x10/0x10
[   39.705750] RIP: 0033:0x7f2e1423ee5d
[   39.706185]  unmap_single_vma+0x1ac/0x2d0
[   39.706510] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.707142]  unmap_vmas+0x210/0x470
[   39.707495] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   39.707976]  ? __pfx_unmap_vmas+0x10/0x10
[   39.708408]  ORIG_RAX: 000000000000003c
[   39.708827]  ? __pfx_lock_release+0x10/0x10
[   39.709159] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.709543]  ? lock_release+0x592/0x870
[   39.710110] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.710437]  ? mas_next_slot+0x133a/0x1a50
[   39.710911] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.711280]  ? __pfx_lock_release+0x10/0x10
[   39.711629] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.712019]  ? mlock_drain_local+0x27f/0x4b0
[   39.712650] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.713023]  exit_mmap+0x19e/0xb10
[   39.713685]  </TASK>
[   39.714060]  ? __pfx_exit_mmap+0x10/0x10
[   39.718674]  ? debug_smp_processor_id+0x20/0x30
[   39.719137]  ? trace_hardirqs_on+0x51/0x60
[   39.719548]  ? kasan_quarantine_put+0xa2/0x200
[   39.719998]  ? __khugepaged_exit+0x266/0x4c0
[   39.720423]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.721095]  __mmput+0xde/0x3a0
[   39.721682]  mmput+0x74/0x90
[   39.722024]  do_exit+0xa03/0x29f0
[   39.722363]  ? trace_hardirqs_on+0x51/0x60
[   39.722785]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.723391]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.723857]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.724326]  ? __pfx_do_exit+0x10/0x10
[   39.724695]  ? __audit_syscall_entry+0x39c/0x500
[   39.725151]  __x64_sys_exit+0x50/0x60
[   39.725526]  x64_sys_call+0x20c9/0x20d0
[   39.725917]  do_syscall_64+0x6d/0x140
[   39.726329]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.726857] RIP: 0033:0x7f2e1423ee5d
[   39.727216] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.727778] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.728488] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.729218] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.730197] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.730863] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.731531] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.732204]  </TASK>
[   39.732438] Modules linked in:
[   39.733049] ---[ end trace 0000000000000000 ]---
[   39.733111] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#54] PREEMPT SMP KASAN NOPTI
[   39.733503] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.734552] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.734568] CPU: 0 UID: 0 PID: 10554 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.734592] Tainted: [D]=DIE, [W]=WARN
[   39.734598] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.734608] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.734633] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.735161] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.735831] RSP: 0018:ffff8880115df7d8 EFLAGS: 00010202
[   39.736659] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   39.737007] 
[   39.738603] 
[   39.739010] RAX: dffffc0000000000 RBX: ffffea0000525b00 RCX: ffffffff81bc4f39
[   39.740662] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   39.742311] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000525b10
[   39.742326] RBP: ffff8880115df7f8 R08: 0000000000000000 R09: ffffed10040c2a3c
[   39.742813] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   39.743284] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.743442] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   39.743597] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880206151e0
[   39.744247] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.744887] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   39.745541] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   39.746198] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.746213] CR2: 00007f2f8c4aa020 CR3: 000000001f98e006 CR4: 0000000000770ef0
[   39.746886] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   39.747608] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.748269] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.748921] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.749586] CR2: 00007f2f8c4a4000 CR3: 0000000012d20002 CR4: 0000000000770ef0
[   39.750308] PKRU: 55555554
[   39.750316] Call Trace:
[   39.750322]  <TASK>
[   39.750331]  ? show_regs+0x6d/0x80
[   39.750980] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.751507]  ? die_addr+0x45/0xb0
[   39.752194] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.752916]  ? exc_general_protection+0x1ae/0x340
[   39.753568] PKRU: 55555554
[   39.754108]  ? asm_exc_general_protection+0x2b/0x30
[   39.754788] note: repro[10526] exited with preempt_count 1
[   39.755435]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.755688] Fixing recursive fault but reboot is needed!
[   39.755922]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.756143] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10526
[   39.756459]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.757110] caller is debug_smp_processor_id+0x20/0x30
[   39.757426]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.758122] CPU: 1 UID: 0 PID: 10526 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.758535]  zap_huge_pmd+0x48e/0xd40
[   39.758956] Tainted: [D]=DIE, [W]=WARN
[   39.759401]  unmap_page_range+0x1ad6/0x4360
[   39.759901] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.760374]  ? update_stack_state+0x2d9/0x610
[   39.760854] Call Trace:
[   39.761337]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.762041]  <TASK>
[   39.762514]  ? __pfx_unmap_page_range+0x10/0x10
[   39.763254]  dump_stack_lvl+0x121/0x150
[   39.763730]  unmap_single_vma+0x1ac/0x2d0
[   39.764560]  dump_stack+0x19/0x20
[   39.764903]  unmap_vmas+0x210/0x470
[   39.765252]  check_preemption_disabled+0x168/0x180
[   39.765642]  ? __pfx_unmap_vmas+0x10/0x10
[   39.766859]  debug_smp_processor_id+0x20/0x30
[   39.767262]  ? __pfx_lock_release+0x10/0x10
[   39.767535]  __schedule+0xa0/0x33a0
[   39.767995]  ? lock_release+0x592/0x870
[   39.768203]  ? do_task_dead+0xa8/0x110
[   39.768627]  ? mas_next_slot+0x133a/0x1a50
[   39.768980]  ? debug_smp_processor_id+0x20/0x30
[   39.769358]  ? __pfx_lock_release+0x10/0x10
[   39.769664]  ? rcu_is_watching+0x19/0xc0
[   39.770006]  ? mlock_drain_local+0x27f/0x4b0
[   39.770443]  ? lock_release+0x592/0x870
[   39.770816]  exit_mmap+0x19e/0xb10
[   39.771215]  ? __pfx___schedule+0x10/0x10
[   39.771609]  ? __pfx_exit_mmap+0x10/0x10
[   39.771933]  ? debug_smp_processor_id+0x20/0x30
[   39.772285]  ? debug_smp_processor_id+0x20/0x30
[   39.772640]  ? rcu_is_watching+0x19/0xc0
[   39.773020]  ? trace_hardirqs_on+0x51/0x60
[   39.773435]  ? trace_irq_enable+0xe1/0x120
[   39.773829]  ? kasan_quarantine_put+0xa2/0x200
[   39.774204]  ? do_task_dead+0x4a/0x110
[   39.774605]  ? __khugepaged_exit+0x266/0x4c0
[   39.774953]  do_task_dead+0xe0/0x110
[   39.775271]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.775645]  make_task_dead+0x384/0x3c0
[   39.776015]  __mmput+0xde/0x3a0
[   39.776437]  rewind_stack_and_make_dead+0x16/0x20
[   39.776852]  mmput+0x74/0x90
[   39.777216] RIP: 0033:0x7f2e1423ee5d
[   39.777604]  do_exit+0xa03/0x29f0
[   39.777977] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.778400]  ? trace_hardirqs_on+0x51/0x60
[   39.778744] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   39.779149]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.779490]  ORIG_RAX: 000000000000003c
[   39.780063]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.780411] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.780712]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.781146] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.781431]  ? __pfx_do_exit+0x10/0x10
[   39.781763] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.782080]  ? __audit_syscall_entry+0x39c/0x500
[   39.782642] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.783029]  __x64_sys_exit+0x50/0x60
[   39.783775] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.784353]  x64_sys_call+0x20c9/0x20d0
[   39.784720]  </TASK>
[   39.785161]  do_syscall_64+0x6d/0x140
[   39.790634]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.791093] RIP: 0033:0x7f2e1423ee5d
[   39.791417] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.791965] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.792677] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.793339] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.794002] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.794651] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.795309] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.795976]  </TASK>
[   39.796199] Modules linked in:
[   39.796643] ---[ end trace 0000000000000000 ]---
[   39.797104] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.797651] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.799347] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   39.799850] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   39.800516] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   39.801178] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   39.801847] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.802541] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   39.803200] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   39.803948] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.804491] CR2: 00007f2f8c4aa020 CR3: 000000001f98e006 CR4: 0000000000770ef0
[   39.805153] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.805818] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.807062] PKRU: 55555554
[   39.807354] note: repro[10554] exited with preempt_count 1
[   39.808120] Fixing recursive fault but reboot is needed!
[   39.808610] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10554
[   39.809340] caller is debug_smp_processor_id+0x20/0x30
[   39.809975] CPU: 0 UID: 0 PID: 10554 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.810839] Tainted: [D]=DIE, [W]=WARN
[   39.811278] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.812311] Call Trace:
[   39.812549]  <TASK>
[   39.812760]  dump_stack_lvl+0x121/0x150
[   39.813150]  dump_stack+0x19/0x20
[   39.813477]  check_preemption_disabled+0x168/0x180
[   39.813950]  debug_smp_processor_id+0x20/0x30
[   39.814378]  __schedule+0xa0/0x33a0
[   39.814725]  ? do_task_dead+0xa8/0x110
[   39.815097]  ? debug_smp_processor_id+0x20/0x30
[   39.815534]  ? rcu_is_watching+0x19/0xc0
[   39.815921]  ? lock_release+0x592/0x870
[   39.816294]  ? __pfx___schedule+0x10/0x10
[   39.816690]  ? debug_smp_processor_id+0x20/0x30
[   39.817128]  ? rcu_is_watching+0x19/0xc0
[   39.817516]  ? trace_irq_enable+0xe1/0x120
[   39.817923]  ? do_task_dead+0x4a/0x110
[   39.818289]  do_task_dead+0xe0/0x110
[   39.818642]  make_task_dead+0x384/0x3c0
[   39.819025]  rewind_stack_and_make_dead+0x16/0x20
[   39.819485] RIP: 0033:0x7f2e1423ee5d
[   39.819841] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.820414] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.821119] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.821780] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.822439] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.823109] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.823786] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.824458]  </TASK>
[   39.824779] BUG: scheduling while atomic: repro/10554/0x00000000
[   39.825341] INFO: lockdep is turned off.
[   39.825707] Modules linked in:
[   39.826014] Preemption disabled at:
[   39.826020] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   39.826918] CPU: 0 UID: 0 PID: 10554 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   39.827764] Tainted: [D]=DIE, [W]=WARN
[   39.828119] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.829148] Call Trace:
[   39.829389]  <TASK>
[   39.829602]  dump_stack_lvl+0x121/0x150
[   39.829980]  ? do_task_dead+0x28/0x110
[   39.830353]  dump_stack+0x19/0x20
[   39.830689]  __schedule_bug+0x12d/0x180
[   39.831076]  __schedule+0x23fe/0x33a0
[   39.831442]  ? do_task_dead+0xa8/0x110
[   39.831813]  ? rcu_is_watching+0x19/0xc0
[   39.832203]  ? lock_release+0x592/0x870
[   39.832586]  ? __pfx___schedule+0x10/0x10
[   39.832994]  ? debug_smp_processor_id+0x20/0x30
[   39.833432]  ? rcu_is_watching+0x19/0xc0
[   39.833821]  ? trace_irq_enable+0xe1/0x120
[   39.834230]  ? do_task_dead+0x4a/0x110
[   39.834599]  do_task_dead+0xe0/0x110
[   39.834945]  make_task_dead+0x384/0x3c0
[   39.835325]  rewind_stack_and_make_dead+0x16/0x20
[   39.835772] RIP: 0033:0x7f2e1423ee5d
[   39.836118] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   39.836688] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.837397] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   39.838086] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.838764] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   39.839421] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   39.840086] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   39.840748]  </TASK>
[   40.208006] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#55] PREEMPT SMP KASAN NOPTI
[   40.209149] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.209870] CPU: 1 UID: 0 PID: 10786 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   40.210730] Tainted: [D]=DIE, [W]=WARN
[   40.211098] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.212477] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.213079] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.214782] RSP: 0018:ffff88802b65f7d8 EFLAGS: 00010202
[   40.215279] RAX: dffffc0000000000 RBX: ffffea000076f4c0 RCX: ffffffff81bc4f39
[   40.215935] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000076f4d0
[   40.216586] RBP: ffff88802b65f7f8 R08: 0000000000000000 R09: ffffed1001d29a9c
[   40.217239] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   40.217998] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800e94d4e0
[   40.218939] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   40.219686] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.220236] CR2: 00007f2e145beef8 CR3: 000000000f956006 CR4: 0000000000770ef0
[   40.220886] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.221542] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.222192] PKRU: 55555554
[   40.222449] Call Trace:
[   40.222683]  <TASK>
[   40.222896]  ? show_regs+0x6d/0x80
[   40.223243]  ? die_addr+0x45/0xb0
[   40.223601]  ? exc_general_protection+0x1ae/0x340
[   40.224107]  ? asm_exc_general_protection+0x2b/0x30
[   40.224844]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.225403]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.225901]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.226403]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.226897]  zap_huge_pmd+0x48e/0xd40
[   40.227271]  unmap_page_range+0x1ad6/0x4360
[   40.227693]  ? __pfx_lock_release+0x10/0x10
[   40.228102]  ? do_raw_spin_trylock+0xbf/0x190
[   40.228534]  ? __kasan_check_read+0x15/0x20
[   40.228947]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.229440]  ? __pfx_unmap_page_range+0x10/0x10
[   40.229899]  unmap_single_vma+0x1ac/0x2d0
[   40.230321]  unmap_vmas+0x210/0x470
[   40.230862]  ? __pfx_unmap_vmas+0x10/0x10
[   40.231378]  ? __pfx_lock_release+0x10/0x10
[   40.231808]  ? lock_release+0x592/0x870
[   40.232199]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.232679]  ? __pfx_lock_release+0x10/0x10
[   40.233096]  ? mlock_drain_local+0x27f/0x4b0
[   40.233525]  exit_mmap+0x19e/0xb10
[   40.233876]  ? __pfx_exit_mmap+0x10/0x10
[   40.234264]  ? debug_smp_processor_id+0x20/0x30
[   40.234703]  ? trace_hardirqs_on+0x51/0x60
[   40.235111]  ? kasan_quarantine_put+0xa2/0x200
[   40.235548]  ? __khugepaged_exit+0x266/0x4c0
[   40.235994]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.236519]  __mmput+0xde/0x3a0
[   40.236837]  mmput+0x74/0x90
[   40.237138]  do_exit+0xa03/0x29f0
[   40.237473]  ? trace_hardirqs_on+0x51/0x60
[   40.237903]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.238518]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.238987]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.239454]  ? __pfx_do_exit+0x10/0x10
[   40.239828]  ? __audit_syscall_entry+0x39c/0x500
[   40.240289]  __x64_sys_exit+0x50/0x60
[   40.240659]  x64_sys_call+0x20c9/0x20d0
[   40.241042]  do_syscall_64+0x6d/0x140
[   40.241415]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.241903] RIP: 0033:0x7f2e1423ee5d
[   40.242255] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   40.242914] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.243890] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   40.244574] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.245233] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   40.245882] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   40.246542] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   40.247201]  </TASK>
[   40.247424] Modules linked in:
[   40.248018] ---[ end trace 0000000000000000 ]---
[   40.248605] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.249198] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.250953] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   40.251454] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   40.252126] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   40.252806] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   40.253521] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.254384] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   40.255072] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   40.255808] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.256359] CR2: 00007f2e145beef8 CR3: 000000000f956006 CR4: 0000000000770ef0
[   40.257168] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.257832] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.258590] PKRU: 55555554
[   40.258876] note: repro[10786] exited with preempt_count 1
[   40.259398] Fixing recursive fault but reboot is needed!
[   40.259888] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10786
[   40.260598] caller is debug_smp_processor_id+0x20/0x30
[   40.261096] CPU: 1 UID: 0 PID: 10786 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   40.261946] Tainted: [D]=DIE, [W]=WARN
[   40.262305] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.263365] Call Trace:
[   40.263608]  <TASK>
[   40.263827]  dump_stack_lvl+0x121/0x150
[   40.264214]  dump_stack+0x19/0x20
[   40.264547]  check_preemption_disabled+0x168/0x180
[   40.265013]  debug_smp_processor_id+0x20/0x30
[   40.265442]  __schedule+0xa0/0x33a0
[   40.265797]  ? do_task_dead+0xa8/0x110
[   40.266173]  ? debug_smp_processor_id+0x20/0x30
[   40.266606]  ? rcu_is_watching+0x19/0xc0
[   40.267020]  ? lock_release+0x592/0x870
[   40.267413]  ? __pfx___schedule+0x10/0x10
[   40.267813]  ? debug_smp_processor_id+0x20/0x30
[   40.268251]  ? rcu_is_watching+0x19/0xc0
[   40.268639]  ? trace_irq_enable+0xe1/0x120
[   40.269062]  ? do_task_dead+0x4a/0x110
[   40.269441]  do_task_dead+0xe0/0x110
[   40.269795]  make_task_dead+0x384/0x3c0
[   40.270199]  rewind_stack_and_make_dead+0x16/0x20
[   40.270658] RIP: 0033:0x7f2e1423ee5d
[   40.271037] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   40.271633] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.272353] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   40.273012] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.273671] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   40.274330] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   40.274966] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   40.275621]  </TASK>
[   40.275965] BUG: scheduling while atomic: repro/10786/0x00000000
[   40.276762] INFO: lockdep is turned off.
[   40.277120] Modules linked in:
[   40.277530] Preemption disabled at:
[   40.277537] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   40.278432] CPU: 1 UID: 0 PID: 10786 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   40.279244] Tainted: [D]=DIE, [W]=WARN
[   40.279587] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.280519] Call Trace:
[   40.280746]  <TASK>
[   40.280941]  dump_stack_lvl+0x121/0x150
[   40.281295]  ? do_task_dead+0x28/0x110
[   40.281633]  dump_stack+0x19/0x20
[   40.281939]  __schedule_bug+0x12d/0x180
[   40.282491]  __schedule+0x23fe/0x33a0
[   40.282981]  ? do_task_dead+0xa8/0x110
[   40.283349]  ? rcu_is_watching+0x19/0xc0
[   40.283750]  ? lock_release+0x592/0x870
[   40.284108]  ? __pfx___schedule+0x10/0x10
[   40.284475]  ? debug_smp_processor_id+0x20/0x30
[   40.284881]  ? rcu_is_watching+0x19/0xc0
[   40.285238]  ? trace_irq_enable+0xe1/0x120
[   40.285620]  ? do_task_dead+0x4a/0x110
[   40.285967]  do_task_dead+0xe0/0x110
[   40.286401]  make_task_dead+0x384/0x3c0
[   40.287049]  rewind_stack_and_make_dead+0x16/0x20
[   40.287532] RIP: 0033:0x7f2e1423ee5d
[   40.287856] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   40.288385] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.289028] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   40.289621] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.290220] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   40.290811] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   40.291405] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   40.292014]  </TASK>
[   40.475417] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#56] PREEMPT SMP KASAN NOPTI
[   40.476553] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.477279] CPU: 0 UID: 0 PID: 10928 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   40.478135] Tainted: [D]=DIE, [W]=WARN
[   40.478488] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.479526] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.480091] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.481782] RSP: 0018:ffff8880195277d8 EFLAGS: 00010202
[   40.482287] RAX: dffffc0000000000 RBX: ffffea00004e3b40 RCX: ffffffff81bc4f39
[   40.482953] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004e3b50
[   40.483938] RBP: ffff8880195277f8 R08: 0000000000000000 R09: ffffed100242546c
[   40.484622] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   40.485304] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801212a360
[   40.485967] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   40.486719] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.487267] CR2: 00007fffdaca68b8 CR3: 0000000010a76001 CR4: 0000000000770ef0
[   40.487926] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.488592] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.489260] PKRU: 55555554
[   40.489685] Call Trace:
[   40.490055]  <TASK>
[   40.490319]  ? show_regs+0x6d/0x80
[   40.490709]  ? die_addr+0x45/0xb0
[   40.491080]  ? exc_general_protection+0x1ae/0x340
[   40.491576]  ? asm_exc_general_protection+0x2b/0x30
[   40.492063]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.492551]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.493051]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.493541]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.494042]  zap_huge_pmd+0x48e/0xd40
[   40.494420]  unmap_page_range+0x1ad6/0x4360
[   40.494848]  ? __pfx_lock_release+0x10/0x10
[   40.495274]  ? do_raw_spin_trylock+0xbf/0x190
[   40.495715]  ? __kasan_check_read+0x15/0x20
[   40.496136]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.496627]  ? __pfx_unmap_page_range+0x10/0x10
[   40.497092]  unmap_single_vma+0x1ac/0x2d0
[   40.497493]  unmap_vmas+0x210/0x470
[   40.497846]  ? __pfx_unmap_vmas+0x10/0x10
[   40.498249]  ? __pfx_lock_release+0x10/0x10
[   40.498662]  ? lock_release+0x592/0x870
[   40.499039]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.499547]  ? __pfx_lock_release+0x10/0x10
[   40.499966]  ? mlock_drain_local+0x27f/0x4b0
[   40.500401]  exit_mmap+0x19e/0xb10
[   40.500757]  ? __pfx_exit_mmap+0x10/0x10
[   40.501175]  ? debug_smp_processor_id+0x20/0x30
[   40.501631]  ? trace_hardirqs_on+0x51/0x60
[   40.502042]  ? kasan_quarantine_put+0xa2/0x200
[   40.502500]  ? __khugepaged_exit+0x266/0x4c0
[   40.502936]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.503474]  __mmput+0xde/0x3a0
[   40.503810]  mmput+0x74/0x90
[   40.504113]  do_exit+0xa03/0x29f0
[   40.504453]  ? trace_hardirqs_on+0x51/0x60
[   40.504865]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.505475]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.505945]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.506413]  ? __pfx_do_exit+0x10/0x10
[   40.506804]  ? __audit_syscall_entry+0x39c/0x500
[   40.507269]  __x64_sys_exit+0x50/0x60
[   40.507641]  x64_sys_call+0x20c9/0x20d0
[   40.508029]  do_syscall_64+0x6d/0x140
[   40.508405]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.508900] RIP: 0033:0x7f2e1423ee5d
[   40.509265] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   40.509843] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.510552] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   40.511210] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.511876] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   40.512528] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   40.513181] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   40.513867]  </TASK>
[   40.514100] Modules linked in:
[   40.514572] ---[ end trace 0000000000000000 ]---
[   40.515018] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.515593] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.517267] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   40.517766] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   40.518699] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   40.519537] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   40.520306] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.520965] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   40.521626] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   40.522387] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.522927] CR2: 00007fffdaca68b8 CR3: 0000000010a76001 CR4: 0000000000770ef0
[   40.523580] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.524245] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.525189] PKRU: 55555554
[   40.525513] note: repro[10928] exited with preempt_count 1
[   40.526044] Fixing recursive fault but reboot is needed!
[   40.526590] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10928
[   40.527307] caller is debug_smp_processor_id+0x20/0x30
[   40.527802] CPU: 0 UID: 0 PID: 10928 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   40.528756] Tainted: [D]=DIE, [W]=WARN
[   40.529219] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.530680] Call Trace:
[   40.530999]  <TASK>
[   40.531276]  dump_stack_lvl+0x121/0x150
[   40.531770]  dump_stack+0x19/0x20
[   40.532207]  check_preemption_disabled+0x168/0x180
[   40.532800]  debug_smp_processor_id+0x20/0x30
[   40.533348]  __schedule+0xa0/0x33a0
[   40.533803]  ? do_task_dead+0xa8/0x110
[   40.534379]  ? debug_smp_processor_id+0x20/0x30
[   40.534993]  ? rcu_is_watching+0x19/0xc0
[   40.535498]  ? lock_release+0x592/0x870
[   40.535992]  ? __pfx___schedule+0x10/0x10
[   40.536509]  ? debug_smp_processor_id+0x20/0x30
[   40.537075]  ? rcu_is_watching+0x19/0xc0
[   40.537574]  ? trace_irq_enable+0xe1/0x120
[   40.538084]  ? do_task_dead+0x4a/0x110
[   40.538571]  do_task_dead+0xe0/0x110
[   40.539030]  make_task_dead+0x384/0x3c0
[   40.539495]  rewind_stack_and_make_dead+0x16/0x20
[   40.539946] RIP: 0033:0x7f2e1423ee5d
[   40.540289] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   40.540828] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.541518] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   40.542151] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.542789] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   40.543783] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   40.544493] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   40.545167]  </TASK>
[   40.545441] BUG: scheduling while atomic: repro/10928/0x00000000
[   40.546000] INFO: lockdep is turned off.
[   40.546367] Modules linked in:
[   40.546662] Preemption disabled at:
[   40.546668] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   40.547545] CPU: 0 UID: 0 PID: 10928 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   40.548403] Tainted: [D]=DIE, [W]=WARN
[   40.549012] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.549978] Call Trace:
[   40.550213]  <TASK>
[   40.550420]  dump_stack_lvl+0x121/0x150
[   40.550780]  ? do_task_dead+0x28/0x110
[   40.551119]  dump_stack+0x19/0x20
[   40.551429]  __schedule_bug+0x12d/0x180
[   40.551787]  __schedule+0x23fe/0x33a0
[   40.552138]  ? do_task_dead+0xa8/0x110
[   40.552481]  ? rcu_is_watching+0x19/0xc0
[   40.552844]  ? lock_release+0x592/0x870
[   40.553211]  ? __pfx___schedule+0x10/0x10
[   40.553584]  ? debug_smp_processor_id+0x20/0x30
[   40.553967]  ? rcu_is_watching+0x19/0xc0
[   40.554303]  ? trace_irq_enable+0xe1/0x120
[   40.554656]  ? do_task_dead+0x4a/0x110
[   40.554989]  do_task_dead+0xe0/0x110
[   40.555308]  make_task_dead+0x384/0x3c0
[   40.555728]  rewind_stack_and_make_dead+0x16/0x20
[   40.556279] RIP: 0033:0x7f2e1423ee5d
[   40.556614] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   40.557116] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.557731] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   40.558312] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.558882] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   40.559462] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   40.560034] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   40.560613]  </TASK>
[   41.083880] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#57] PREEMPT SMP KASAN NOPTI
[   41.085008] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.085710] CPU: 1 UID: 0 PID: 11350 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.086550] Tainted: [D]=DIE, [W]=WARN
[   41.086900] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.088033] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.088643] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.090339] RSP: 0018:ffff88801dad77d8 EFLAGS: 00010202
[   41.090823] RAX: dffffc0000000000 RBX: ffffea00006505c0 RCX: ffffffff81bc4f39
[   41.091466] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006505d0
[   41.092113] RBP: ffff88801dad77f8 R08: 0000000000000000 R09: ffffed1002a099c8
[   41.092766] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.093432] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801504ce40
[   41.094092] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.094813] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.095388] CR2: 00007f2e143fca50 CR3: 000000002b672002 CR4: 0000000000770ef0
[   41.096042] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.096695] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.097370] PKRU: 55555554
[   41.097643] Call Trace:
[   41.097885]  <TASK>
[   41.098110]  ? show_regs+0x6d/0x80
[   41.098459]  ? die_addr+0x45/0xb0
[   41.098801]  ? exc_general_protection+0x1ae/0x340
[   41.099294]  ? asm_exc_general_protection+0x2b/0x30
[   41.099786]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.100297]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.100799]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.101308]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.101821]  zap_huge_pmd+0x48e/0xd40
[   41.102199]  unmap_page_range+0x1ad6/0x4360
[   41.102616]  ? update_stack_state+0x2d9/0x610
[   41.103060]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.103574]  ? __pfx_unmap_page_range+0x10/0x10
[   41.104032]  unmap_single_vma+0x1ac/0x2d0
[   41.104435]  unmap_vmas+0x210/0x470
[   41.104791]  ? __pfx_unmap_vmas+0x10/0x10
[   41.105195]  ? __pfx_lock_release+0x10/0x10
[   41.105602]  ? lock_release+0x592/0x870
[   41.105994]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.106474]  ? __pfx_lock_release+0x10/0x10
[   41.106887]  ? mlock_drain_local+0x27f/0x4b0
[   41.107337]  exit_mmap+0x19e/0xb10
[   41.107703]  ? __pfx_exit_mmap+0x10/0x10
[   41.108118]  ? debug_smp_processor_id+0x20/0x30
[   41.108569]  ? trace_hardirqs_on+0x51/0x60
[   41.108987]  ? kasan_quarantine_put+0xa2/0x200
[   41.109450]  ? __khugepaged_exit+0x266/0x4c0
[   41.109881]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.110686]  __mmput+0xde/0x3a0
[   41.111137]  mmput+0x74/0x90
[   41.111461]  do_exit+0xa03/0x29f0
[   41.111804]  ? trace_hardirqs_on+0x51/0x60
[   41.112233]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.112837]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.113314]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.113784]  ? __pfx_do_exit+0x10/0x10
[   41.114167]  ? __audit_syscall_entry+0x39c/0x500
[   41.114621]  __x64_sys_exit+0x50/0x60
[   41.115004]  x64_sys_call+0x20c9/0x20d0
[   41.115389]  do_syscall_64+0x6d/0x140
[   41.115758]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.116322] RIP: 0033:0x7f2e1423ee5d
[   41.116882] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.117565] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.118305] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.118953] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.119622] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.120300] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.121331] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.122011]  </TASK>
[   41.122248] Modules linked in:
[   41.122789] ---[ end trace 0000000000000000 ]---
[   41.123280] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.123837] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.125510] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   41.126029] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   41.126708] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   41.126968] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#58] PREEMPT SMP KASAN NOPTI
[   41.127394] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   41.128477] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.128497] CPU: 0 UID: 0 PID: 11354 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.129145] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.129822] Tainted: [D]=DIE, [W]=WARN
[   41.130662] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   41.131287] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.131641] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.132285] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.133574] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.134299] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.134317] RSP: 0018:ffff888010aff7d8 EFLAGS: 00010202
[   41.134841] CR2: 00007f2e143fca50 CR3: 000000002b672002 CR4: 0000000000770ef0
[   41.135364] 
[   41.137017] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.137492] RAX: dffffc0000000000 RBX: ffffea0000549400 RCX: ffffffff81bc4f39
[   41.138189] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.138322] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000549410
[   41.138952] PKRU: 55555554
[   41.139588] RBP: ffff888010aff7f8 R08: 0000000000000000 R09: ffffed1003288c30
[   41.140241] note: repro[11350] exited with preempt_count 1
[   41.140877] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.141140] Fixing recursive fault but reboot is needed!
[   41.141773] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888019446180
[   41.142304] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11350
[   41.142914] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   41.143398] caller is debug_smp_processor_id+0x20/0x30
[   41.144051] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.144756] CPU: 1 UID: 0 PID: 11350 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.145469] CR2: 00007f2f8c4d5010 CR3: 000000002141c002 CR4: 0000000000770ef0
[   41.145952] Tainted: [D]=DIE, [W]=WARN
[   41.146468] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.147357] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.147995] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.148355] Call Trace:
[   41.148999] PKRU: 55555554
[   41.150014]  <TASK>
[   41.150653] Call Trace:
[   41.150894]  dump_stack_lvl+0x121/0x150
[   41.151152]  <TASK>
[   41.151359]  dump_stack+0x19/0x20
[   41.151597]  ? show_regs+0x6d/0x80
[   41.151952]  check_preemption_disabled+0x168/0x180
[   41.152162]  ? die_addr+0x45/0xb0
[   41.152472]  debug_smp_processor_id+0x20/0x30
[   41.152787]  ? exc_general_protection+0x1ae/0x340
[   41.153229]  __schedule+0xa0/0x33a0
[   41.153550]  ? asm_exc_general_protection+0x2b/0x30
[   41.153943]  ? do_task_dead+0xa8/0x110
[   41.154384]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.154712]  ? debug_smp_processor_id+0x20/0x30
[   41.155158]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.155508]  ? rcu_is_watching+0x19/0xc0
[   41.155978]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.156400]  ? lock_release+0x592/0x870
[   41.156870]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.157234]  ? __pfx___schedule+0x10/0x10
[   41.157712]  zap_huge_pmd+0x48e/0xd40
[   41.158070]  ? debug_smp_processor_id+0x20/0x30
[   41.158534]  unmap_page_range+0x1ad6/0x4360
[   41.158897]  ? rcu_is_watching+0x19/0xc0
[   41.159239]  ? update_stack_state+0x2d9/0x610
[   41.159658]  ? trace_irq_enable+0xe1/0x120
[   41.160059]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.160419]  ? do_task_dead+0x4a/0x110
[   41.160823]  ? __pfx_unmap_page_range+0x10/0x10
[   41.161202]  do_task_dead+0xe0/0x110
[   41.161661]  unmap_single_vma+0x1ac/0x2d0
[   41.162005]  make_task_dead+0x384/0x3c0
[   41.162419]  unmap_vmas+0x210/0x470
[   41.162751]  rewind_stack_and_make_dead+0x16/0x20
[   41.163124]  ? __pfx_unmap_vmas+0x10/0x10
[   41.163476] RIP: 0033:0x7f2e1423ee5d
[   41.163802]  ? __pfx_lock_release+0x10/0x10
[   41.164237] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.164602]  ? lock_release+0x592/0x870
[   41.164931] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   41.165317]  ? mas_next_slot+0x133a/0x1a50
[   41.165875]  ORIG_RAX: 000000000000003c
[   41.166241]  ? __pfx_lock_release+0x10/0x10
[   41.166928] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.167311]  ? mlock_drain_local+0x27f/0x4b0
[   41.167665] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.168062]  exit_mmap+0x19e/0xb10
[   41.168698] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.169100]  ? __pfx_exit_mmap+0x10/0x10
[   41.169771] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.170092]  ? debug_smp_processor_id+0x20/0x30
[   41.170713] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.171088]  ? trace_hardirqs_on+0x51/0x60
[   41.171722]  </TASK>
[   41.172131]  ? kasan_quarantine_put+0xa2/0x200
[   41.174124]  ? __khugepaged_exit+0x266/0x4c0
[   41.174551]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.175072]  __mmput+0xde/0x3a0
[   41.175423]  mmput+0x74/0x90
[   41.175728]  do_exit+0xa03/0x29f0
[   41.176071]  ? trace_hardirqs_on+0x51/0x60
[   41.176483]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.177133]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.177626]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.178096]  ? __pfx_do_exit+0x10/0x10
[   41.178477]  ? __audit_syscall_entry+0x39c/0x500
[   41.178940]  __x64_sys_exit+0x50/0x60
[   41.179312]  x64_sys_call+0x20c9/0x20d0
[   41.179694]  do_syscall_64+0x6d/0x140
[   41.180067]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.180568] RIP: 0033:0x7f2e1423ee5d
[   41.180942] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.181530] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.182229] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.182881] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.183527] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.184277] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.185062] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.185722]  </TASK>
[   41.185938] Modules linked in:
[   41.186309] ---[ end trace 0000000000000000 ]---
[   41.186741] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.187295] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.189315] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   41.189795] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   41.190520] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   41.191145] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   41.191785] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.192702] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   41.193502] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   41.194329] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.194834] CR2: 00007f2f8c4d5010 CR3: 000000002141c002 CR4: 0000000000770ef0
[   41.195465] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.196097] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.196712] PKRU: 55555554
[   41.196960] note: repro[11354] exited with preempt_count 1
[   41.197438] Fixing recursive fault but reboot is needed!
[   41.197954] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11354
[   41.198690] caller is debug_smp_processor_id+0x20/0x30
[   41.199132] CPU: 0 UID: 0 PID: 11354 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.199891] Tainted: [D]=DIE, [W]=WARN
[   41.200207] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.201107] Call Trace:
[   41.201321]  <TASK>
[   41.201506]  dump_stack_lvl+0x121/0x150
[   41.201850]  dump_stack+0x19/0x20
[   41.202161]  check_preemption_disabled+0x168/0x180
[   41.202549]  debug_smp_processor_id+0x20/0x30
[   41.202909]  __schedule+0xa0/0x33a0
[   41.203219]  ? do_task_dead+0xa8/0x110
[   41.203525]  ? debug_smp_processor_id+0x20/0x30
[   41.203887]  ? rcu_is_watching+0x19/0xc0
[   41.204217]  ? lock_release+0x592/0x870
[   41.204530]  ? __pfx___schedule+0x10/0x10
[   41.204864]  ? debug_smp_processor_id+0x20/0x30
[   41.205229]  ? rcu_is_watching+0x19/0xc0
[   41.205551]  ? trace_irq_enable+0xe1/0x120
[   41.205894]  ? do_task_dead+0x4a/0x110
[   41.206227]  do_task_dead+0xe0/0x110
[   41.206531]  make_task_dead+0x384/0x3c0
[   41.206857]  rewind_stack_and_make_dead+0x16/0x20
[   41.207244] RIP: 0033:0x7f2e1423ee5d
[   41.207541] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.208041] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.208647] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.209206] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.209754] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.210327] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.210880] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.211437]  </TASK>
[   41.211741] BUG: scheduling while atomic: repro/11354/0x00000000
[   41.212213] INFO: lockdep is turned off.
[   41.212509] Modules linked in:
[   41.212743] Preemption disabled at:
[   41.212748] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   41.213419] CPU: 0 UID: 0 PID: 11354 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.214090] Tainted: [D]=DIE, [W]=WARN
[   41.214406] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.215218] Call Trace:
[   41.215415]  <TASK>
[   41.215590]  dump_stack_lvl+0x121/0x150
[   41.215893]  ? do_task_dead+0x28/0x110
[   41.216181]  dump_stack+0x19/0x20
[   41.216447]  __schedule_bug+0x12d/0x180
[   41.216744]  __schedule+0x23fe/0x33a0
[   41.217025]  ? do_task_dead+0xa8/0x110
[   41.217305]  ? rcu_is_watching+0x19/0xc0
[   41.217598]  ? lock_release+0x592/0x870
[   41.217882]  ? __pfx___schedule+0x10/0x10
[   41.218189]  ? debug_smp_processor_id+0x20/0x30
[   41.218516]  ? rcu_is_watching+0x19/0xc0
[   41.218809]  ? trace_irq_enable+0xe1/0x120
[   41.219270]  ? do_task_dead+0x4a/0x110
[   41.219699]  do_task_dead+0xe0/0x110
[   41.219966]  make_task_dead+0x384/0x3c0
[   41.220263]  rewind_stack_and_make_dead+0x16/0x20
[   41.220590] RIP: 0033:0x7f2e1423ee5d
[   41.220840] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.221253] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.221758] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.222230] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.222696] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.223160] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.223626] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.224103]  </TASK>
[   41.799480] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#59] PREEMPT SMP KASAN NOPTI
[   41.800592] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.801301] CPU: 1 UID: 0 PID: 11811 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.802154] Tainted: [D]=DIE, [W]=WARN
[   41.802511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.803578] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.804140] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.805804] RSP: 0018:ffff88802b63f7d8 EFLAGS: 00010202
[   41.806557] RAX: dffffc0000000000 RBX: ffffea0000548c80 RCX: ffffffff81bc4f39
[   41.807242] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000548c90
[   41.807894] RBP: ffff88802b63f7f8 R08: 0000000000000000 R09: ffffed10025c03c8
[   41.808552] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.809204] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012e01e40
[   41.809852] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.810588] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.811125] CR2: 0000000000404200 CR3: 0000000013d00005 CR4: 0000000000770ef0
[   41.811808] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.812465] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.813118] PKRU: 55555554
[   41.813404] Call Trace:
[   41.813656]  <TASK>
[   41.813872]  ? show_regs+0x6d/0x80
[   41.814229]  ? die_addr+0x45/0xb0
[   41.814570]  ? exc_general_protection+0x1ae/0x340
[   41.815043]  ? asm_exc_general_protection+0x2b/0x30
[   41.815547]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.816056]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.816545]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.817038]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.817541]  zap_huge_pmd+0x48e/0xd40
[   41.817920]  unmap_page_range+0x1ad6/0x4360
[   41.818339]  ? update_stack_state+0x2d9/0x610
[   41.818785]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.819277]  ? __pfx_unmap_page_range+0x10/0x10
[   41.819732]  unmap_single_vma+0x1ac/0x2d0
[   41.820244]  unmap_vmas+0x210/0x470
[   41.820803]  ? __pfx_unmap_vmas+0x10/0x10
[   41.821265]  ? __pfx_lock_release+0x10/0x10
[   41.821671]  ? lock_release+0x592/0x870
[   41.822075]  ? mas_next_slot+0x133a/0x1a50
[   41.822479]  ? __pfx_lock_release+0x10/0x10
[   41.822886]  ? mlock_drain_local+0x27f/0x4b0
[   41.823316]  exit_mmap+0x19e/0xb10
[   41.823676]  ? __pfx_exit_mmap+0x10/0x10
[   41.824063]  ? debug_smp_processor_id+0x20/0x30
[   41.824758]  ? trace_hardirqs_on+0x51/0x60
[   41.825293]  ? kasan_quarantine_put+0xa2/0x200
[   41.825740]  ? __khugepaged_exit+0x266/0x4c0
[   41.826178]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.826693]  __mmput+0xde/0x3a0
[   41.827014]  mmput+0x74/0x90
[   41.827310]  do_exit+0xa03/0x29f0
[   41.827646]  ? trace_hardirqs_on+0x51/0x60
[   41.828050]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.828653]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.829115]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.829577]  ? __pfx_do_exit+0x10/0x10
[   41.829958]  ? __audit_syscall_entry+0x39c/0x500
[   41.830417]  __x64_sys_exit+0x50/0x60
[   41.830785]  x64_sys_call+0x20c9/0x20d0
[   41.831173]  do_syscall_64+0x6d/0x140
[   41.831540]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.832050] RIP: 0033:0x7f2e1423ee5d
[   41.832399] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.832964] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.833669] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.834337] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.834989] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.835647] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.836303] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.836962]  </TASK>
[   41.837183] Modules linked in:
[   41.837603] ---[ end trace 0000000000000000 ]---
[   41.838137] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.838730] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.840844] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   41.841359] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   41.842010] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   41.842806] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   41.843473] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.844127] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   41.844793] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.845965] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.846620] CR2: 0000000000404200 CR3: 0000000013d00005 CR4: 0000000000770ef0
[   41.847312] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.847975] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.848670] PKRU: 55555554
[   41.848947] note: repro[11811] exited with preempt_count 1
[   41.849461] Fixing recursive fault but reboot is needed!
[   41.849950] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11811
[   41.850751] caller is debug_smp_processor_id+0x20/0x30
[   41.851259] CPU: 1 UID: 0 PID: 11811 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.852111] Tainted: [D]=DIE, [W]=WARN
[   41.852471] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.853504] Call Trace:
[   41.853747]  <TASK>
[   41.853965]  dump_stack_lvl+0x121/0x150
[   41.854372]  dump_stack+0x19/0x20
[   41.854726]  check_preemption_disabled+0x168/0x180
[   41.855217]  debug_smp_processor_id+0x20/0x30
[   41.855640]  __schedule+0xa0/0x33a0
[   41.856011]  ? do_task_dead+0xa8/0x110
[   41.856382]  ? debug_smp_processor_id+0x20/0x30
[   41.856823]  ? rcu_is_watching+0x19/0xc0
[   41.857248]  ? lock_release+0x592/0x870
[   41.857814]  ? __pfx___schedule+0x10/0x10
[   41.858324]  ? debug_smp_processor_id+0x20/0x30
[   41.858781]  ? rcu_is_watching+0x19/0xc0
[   41.859191]  ? trace_irq_enable+0xe1/0x120
[   41.859605]  ? do_task_dead+0x4a/0x110
[   41.859972]  do_task_dead+0xe0/0x110
[   41.860336]  make_task_dead+0x384/0x3c0
[   41.860731]  rewind_stack_and_make_dead+0x16/0x20
[   41.861187] RIP: 0033:0x7f2e1423ee5d
[   41.861542] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.862126] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.862829] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.863644] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.864560] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.865257] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.865919] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.866599]  </TASK>
[   41.866870] BUG: scheduling while atomic: repro/11811/0x00000000
[   41.867439] INFO: lockdep is turned off.
[   41.867811] Modules linked in:
[   41.868111] Preemption disabled at:
[   41.868117] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   41.868954] CPU: 1 UID: 0 PID: 11811 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   41.869836] Tainted: [D]=DIE, [W]=WARN
[   41.870197] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.871227] Call Trace:
[   41.871471]  <TASK>
[   41.871762]  dump_stack_lvl+0x121/0x150
[   41.872368]  ? do_task_dead+0x28/0x110
[   41.872807]  dump_stack+0x19/0x20
[   41.873159]  __schedule_bug+0x12d/0x180
[   41.873548]  __schedule+0x23fe/0x33a0
[   41.873921]  ? do_task_dead+0xa8/0x110
[   41.874291]  ? rcu_is_watching+0x19/0xc0
[   41.874687]  ? lock_release+0x592/0x870
[   41.875066]  ? __pfx___schedule+0x10/0x10
[   41.875473]  ? debug_smp_processor_id+0x20/0x30
[   41.875908]  ? rcu_is_watching+0x19/0xc0
[   41.876302]  ? trace_irq_enable+0xe1/0x120
[   41.876710]  ? do_task_dead+0x4a/0x110
[   41.877094]  do_task_dead+0xe0/0x110
[   41.877449]  make_task_dead+0x384/0x3c0
[   41.877846]  rewind_stack_and_make_dead+0x16/0x20
[   41.878307] RIP: 0033:0x7f2e1423ee5d
[   41.878656] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   41.879223] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.880019] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   41.880976] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.881665] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   41.882357] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   41.883029] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   41.883707]  </TASK>
[   42.304500] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#60] PREEMPT SMP KASAN NOPTI
[   42.305596] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   42.306311] CPU: 0 UID: 0 PID: 12136 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   42.307165] Tainted: [D]=DIE, [W]=WARN
[   42.307529] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.308570] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.309135] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.310775] RSP: 0018:ffff8880288577d8 EFLAGS: 00010202
[   42.311417] RAX: dffffc0000000000 RBX: ffffea0000496880 RCX: ffffffff81bc4f39
[   42.312080] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000496890
[   42.312734] RBP: ffff8880288577f8 R08: 0000000000000000 R09: ffffed10026c22f0
[   42.313377] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   42.314057] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013611780
[   42.314715] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   42.315443] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.315999] CR2: 00007f2e145e4fa8 CR3: 000000000fd3c002 CR4: 0000000000770ef0
[   42.316669] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.317316] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.317958] PKRU: 55555554
[   42.318237] Call Trace:
[   42.318500]  <TASK>
[   42.318716]  ? show_regs+0x6d/0x80
[   42.319074]  ? die_addr+0x45/0xb0
[   42.319414]  ? exc_general_protection+0x1ae/0x340
[   42.319877]  ? asm_exc_general_protection+0x2b/0x30
[   42.320360]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   42.320846]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.321343]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   42.321840]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.322374]  zap_huge_pmd+0x48e/0xd40
[   42.322759]  unmap_page_range+0x1ad6/0x4360
[   42.323173]  ? update_stack_state+0x2d9/0x610
[   42.323612]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   42.324095]  ? __pfx_unmap_page_range+0x10/0x10
[   42.324536]  unmap_single_vma+0x1ac/0x2d0
[   42.324933]  unmap_vmas+0x210/0x470
[   42.325293]  ? __pfx_unmap_vmas+0x10/0x10
[   42.325684]  ? __pfx_lock_release+0x10/0x10
[   42.326102]  ? lock_release+0x592/0x870
[   42.326492]  ? mas_next_slot+0x133a/0x1a50
[   42.326898]  ? __pfx_lock_release+0x10/0x10
[   42.327327]  ? mlock_drain_local+0x27f/0x4b0
[   42.327751]  exit_mmap+0x19e/0xb10
[   42.328103]  ? __pfx_exit_mmap+0x10/0x10
[   42.328483]  ? debug_smp_processor_id+0x20/0x30
[   42.328920]  ? trace_hardirqs_on+0x51/0x60
[   42.329330]  ? kasan_quarantine_put+0xa2/0x200
[   42.329765]  ? __khugepaged_exit+0x266/0x4c0
[   42.330206]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.330745]  __mmput+0xde/0x3a0
[   42.331075]  mmput+0x74/0x90
[   42.331368]  do_exit+0xa03/0x29f0
[   42.331699]  ? trace_hardirqs_on+0x51/0x60
[   42.332109]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   42.332723]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   42.333199]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   42.333667]  ? __pfx_do_exit+0x10/0x10
[   42.334054]  ? __audit_syscall_entry+0x39c/0x500
[   42.334519]  __x64_sys_exit+0x50/0x60
[   42.334898]  x64_sys_call+0x20c9/0x20d0
[   42.335284]  do_syscall_64+0x6d/0x140
[   42.335648]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.336150] RIP: 0033:0x7f2e1423ee5d
[   42.336517] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   42.337098] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.337800] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   42.338461] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.339121] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   42.339765] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   42.340416] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   42.341101]  </TASK>
[   42.341431] Modules linked in:
[   42.342022] ---[ end trace 0000000000000000 ]---
[   42.342636] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.343209] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.344861] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   42.345425] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   42.346136] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   42.346789] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   42.347461] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   42.348115] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   42.348763] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   42.349525] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.350095] CR2: 00007f2e145e4fa8 CR3: 000000000fd3c002 CR4: 0000000000770ef0
[   42.350767] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.351447] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.352105] PKRU: 55555554
[   42.352367] note: repro[12136] exited with preempt_count 1
[   42.352876] Fixing recursive fault but reboot is needed!
[   42.353376] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12136
[   42.354127] caller is debug_smp_processor_id+0x20/0x30
[   42.354617] CPU: 0 UID: 0 PID: 12136 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   42.355516] Tainted: [D]=DIE, [W]=WARN
[   42.355868] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.356891] Call Trace:
[   42.357340]  <TASK>
[   42.357616]  dump_stack_lvl+0x121/0x150
[   42.358114]  dump_stack+0x19/0x20
[   42.358541]  check_preemption_disabled+0x168/0x180
[   42.359139]  debug_smp_processor_id+0x20/0x30
[   42.359783]  __schedule+0xa0/0x33a0
[   42.360237]  ? do_task_dead+0xa8/0x110
[   42.360705]  ? debug_smp_processor_id+0x20/0x30
[   42.361266]  ? rcu_is_watching+0x19/0xc0
[   42.361759]  ? lock_release+0x592/0x870
[   42.362243]  ? __pfx___schedule+0x10/0x10
[   42.362749]  ? debug_smp_processor_id+0x20/0x30
[   42.363311]  ? rcu_is_watching+0x19/0xc0
[   42.363902]  ? trace_irq_enable+0xe1/0x120
[   42.364427]  ? do_task_dead+0x4a/0x110
[   42.364898]  do_task_dead+0xe0/0x110
[   42.365329]  make_task_dead+0x384/0x3c0
[   42.365789]  rewind_stack_and_make_dead+0x16/0x20
[   42.366340] RIP: 0033:0x7f2e1423ee5d
[   42.366758] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   42.367450] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.368359] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   42.369159] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.369954] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   42.370753] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   42.371549] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   42.372415]  </TASK>
[   42.372857] BUG: scheduling while atomic: repro/12136/0x00000000
[   42.373535] INFO: lockdep is turned off.
[   42.373961] Modules linked in:
[   42.374332] Preemption disabled at:
[   42.374340] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   42.375302] CPU: 0 UID: 0 PID: 12136 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   42.376056] Tainted: [D]=DIE, [W]=WARN
[   42.376398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.377695] Call Trace:
[   42.377910]  <TASK>
[   42.378110]  dump_stack_lvl+0x121/0x150
[   42.378446]  ? do_task_dead+0x28/0x110
[   42.378769]  dump_stack+0x19/0x20
[   42.379071]  __schedule_bug+0x12d/0x180
[   42.379407]  __schedule+0x23fe/0x33a0
[   42.379730]  ? do_task_dead+0xa8/0x110
[   42.380043]  ? rcu_is_watching+0x19/0xc0
[   42.380365]  ? lock_release+0x592/0x870
[   42.380678]  ? __pfx___schedule+0x10/0x10
[   42.381019]  ? debug_smp_processor_id+0x20/0x30
[   42.381382]  ? rcu_is_watching+0x19/0xc0
[   42.381707]  ? trace_irq_enable+0xe1/0x120
[   42.382063]  ? do_task_dead+0x4a/0x110
[   42.382369]  do_task_dead+0xe0/0x110
[   42.382668]  make_task_dead+0x384/0x3c0
[   42.383167]  rewind_stack_and_make_dead+0x16/0x20
[   42.383681] RIP: 0033:0x7f2e1423ee5d
[   42.383975] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   42.384465] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.385084] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   42.385641] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.386205] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   42.386758] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   42.387325] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   42.387895]  </TASK>
[   43.387796] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#61] PREEMPT SMP KASAN NOPTI
[   43.388910] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.389662] CPU: 0 UID: 0 PID: 12907 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   43.390865] Tainted: [D]=DIE, [W]=WARN
[   43.391228] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.392253] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.392809] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.394890] RSP: 0018:ffff88802608f7d8 EFLAGS: 00010202
[   43.395402] RAX: dffffc0000000000 RBX: ffffea0000549b00 RCX: ffffffff81bc4f39
[   43.396108] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000549b10
[   43.396773] RBP: ffff88802608f7f8 R08: 0000000000000000 R09: ffffed10022f06f0
[   43.397426] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.398078] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011783780
[   43.398732] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   43.399475] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.400051] CR2: 00007f2e145dfdf0 CR3: 000000002b4ce004 CR4: 0000000000770ef0
[   43.400712] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.401381] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.402095] PKRU: 55555554
[   43.402524] Call Trace:
[   43.402910]  <TASK>
[   43.403160]  ? show_regs+0x6d/0x80
[   43.403520]  ? die_addr+0x45/0xb0
[   43.403891]  ? exc_general_protection+0x1ae/0x340
[   43.404398]  ? asm_exc_general_protection+0x2b/0x30
[   43.404914]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.405431]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.405928]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.406425]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.406932]  zap_huge_pmd+0x48e/0xd40
[   43.407317]  unmap_page_range+0x1ad6/0x4360
[   43.407737]  ? update_stack_state+0x2d9/0x610
[   43.408207]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.408989]  ? __pfx_unmap_page_range+0x10/0x10
[   43.409544]  unmap_single_vma+0x1ac/0x2d0
[   43.409964]  unmap_vmas+0x210/0x470
[   43.410344]  ? __pfx_unmap_vmas+0x10/0x10
[   43.410740]  ? __pfx_lock_release+0x10/0x10
[   43.411149]  ? lock_release+0x592/0x870
[   43.411549]  ? mas_next_slot+0x133a/0x1a50
[   43.411956]  ? __pfx_lock_release+0x10/0x10
[   43.412404]  ? mlock_drain_local+0x27f/0x4b0
[   43.412850]  exit_mmap+0x19e/0xb10
[   43.413205]  ? __pfx_exit_mmap+0x10/0x10
[   43.413606]  ? debug_smp_processor_id+0x20/0x30
[   43.414062]  ? trace_hardirqs_on+0x51/0x60
[   43.414485]  ? kasan_quarantine_put+0xa2/0x200
[   43.415185]  ? __khugepaged_exit+0x266/0x4c0
[   43.415693]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.416224]  __mmput+0xde/0x3a0
[   43.416557]  mmput+0x74/0x90
[   43.416858]  do_exit+0xa03/0x29f0
[   43.417202]  ? trace_hardirqs_on+0x51/0x60
[   43.417614]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.418242]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.418846]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.419580]  ? __pfx_do_exit+0x10/0x10
[   43.419964]  ? __audit_syscall_entry+0x39c/0x500
[   43.420437]  __x64_sys_exit+0x50/0x60
[   43.420819]  x64_sys_call+0x20c9/0x20d0
[   43.421219]  do_syscall_64+0x6d/0x140
[   43.421616]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.422145] RIP: 0033:0x7f2e1423ee5d
[   43.422492] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   43.423059] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.423759] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   43.424435] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.425348] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   43.426172] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   43.426838] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   43.427507]  </TASK>
[   43.427734] Modules linked in:
[   43.428153] ---[ end trace 0000000000000000 ]---
[   43.428620] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.429178] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.430899] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   43.431927] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   43.432750] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   43.433425] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   43.434127] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.434796] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   43.435457] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   43.436201] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.436731] CR2: 00007f2e145dfdf0 CR3: 000000002b4ce004 CR4: 0000000000770ef0
[   43.437392] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.438046] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.438735] PKRU: 55555554
[   43.439040] note: repro[12907] exited with preempt_count 1
[   43.439571] Fixing recursive fault but reboot is needed!
[   43.440074] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12907
[   43.440787] caller is debug_smp_processor_id+0x20/0x30
[   43.441308] CPU: 0 UID: 0 PID: 12907 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   43.442517] Tainted: [D]=DIE, [W]=WARN
[   43.442871] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.443878] Call Trace:
[   43.444123]  <TASK>
[   43.444337]  dump_stack_lvl+0x121/0x150
[   43.444769]  dump_stack+0x19/0x20
[   43.445183]  check_preemption_disabled+0x168/0x180
[   43.445655]  debug_smp_processor_id+0x20/0x30
[   43.446061]  __schedule+0xa0/0x33a0
[   43.446397]  ? do_task_dead+0xa8/0x110
[   43.446737]  ? debug_smp_processor_id+0x20/0x30
[   43.447144]  ? rcu_is_watching+0x19/0xc0
[   43.447511]  ? lock_release+0x592/0x870
[   43.447868]  ? __pfx___schedule+0x10/0x10
[   43.448240]  ? debug_smp_processor_id+0x20/0x30
[   43.448648]  ? rcu_is_watching+0x19/0xc0
[   43.449025]  ? trace_irq_enable+0xe1/0x120
[   43.449462]  ? do_task_dead+0x4a/0x110
[   43.449825]  do_task_dead+0xe0/0x110
[   43.450170]  make_task_dead+0x384/0x3c0
[   43.450548]  rewind_stack_and_make_dead+0x16/0x20
[   43.451028] RIP: 0033:0x7f2e1423ee5d
[   43.451414] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   43.451975] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.452648] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   43.453254] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.453856] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   43.454446] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   43.455046] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   43.455654]  </TASK>
[   43.456133] BUG: scheduling while atomic: repro/12907/0x00000000
[   43.457005] INFO: lockdep is turned off.
[   43.457372] Modules linked in:
[   43.457641] Preemption disabled at:
[   43.457647] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   43.458393] CPU: 0 UID: 0 PID: 12907 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   43.459133] Tainted: [D]=DIE, [W]=WARN
[   43.459452] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.460350] Call Trace:
[   43.460556]  <TASK>
[   43.460740]  dump_stack_lvl+0x121/0x150
[   43.461076]  ? do_task_dead+0x28/0x110
[   43.461405]  dump_stack+0x19/0x20
[   43.461704]  __schedule_bug+0x12d/0x180
[   43.462105]  __schedule+0x23fe/0x33a0
[   43.462586]  ? do_task_dead+0xa8/0x110
[   43.463008]  ? rcu_is_watching+0x19/0xc0
[   43.463352]  ? lock_release+0x592/0x870
[   43.463696]  ? __pfx___schedule+0x10/0x10
[   43.464062]  ? debug_smp_processor_id+0x20/0x30
[   43.464447]  ? rcu_is_watching+0x19/0xc0
[   43.464783]  ? trace_irq_enable+0xe1/0x120
[   43.465120]  ? do_task_dead+0x4a/0x110
[   43.465426]  do_task_dead+0xe0/0x110
[   43.465719]  make_task_dead+0x384/0x3c0
[   43.466041]  rewind_stack_and_make_dead+0x16/0x20
[   43.466412] RIP: 0033:0x7f2e1423ee5d
[   43.466704] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   43.467173] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.467758] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   43.468298] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.468846] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   43.469388] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   43.469947] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   43.470526]  </TASK>
[   43.971700] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#62] PREEMPT SMP KASAN NOPTI
[   43.972830] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.973521] CPU: 1 UID: 0 PID: 13288 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   43.974361] Tainted: [D]=DIE, [W]=WARN
[   43.974716] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.975734] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.976287] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.977946] RSP: 0018:ffff88802b6a77d8 EFLAGS: 00010202
[   43.978445] RAX: dffffc0000000000 RBX: ffffea0000549180 RCX: ffffffff81bc4f39
[   43.979097] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000549190
[   43.979754] RBP: ffff88802b6a77f8 R08: 0000000000000000 R09: ffffed1003e233b0
[   43.980408] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.981065] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f119d80
[   43.981720] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   43.982467] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.983016] CR2: 0000000000404200 CR3: 000000002046e003 CR4: 0000000000770ef0
[   43.983666] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.984321] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.984967] PKRU: 55555554
[   43.985237] Call Trace:
[   43.985479]  <TASK>
[   43.985696]  ? show_regs+0x6d/0x80
[   43.986046]  ? die_addr+0x45/0xb0
[   43.986379]  ? exc_general_protection+0x1ae/0x340
[   43.986844]  ? asm_exc_general_protection+0x2b/0x30
[   43.987328]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.987818]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.988312]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.988801]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.989290]  zap_huge_pmd+0x48e/0xd40
[   43.989656]  unmap_page_range+0x1ad6/0x4360
[   43.990068]  ? update_stack_state+0x2d9/0x610
[   43.990513]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.991007]  ? __pfx_unmap_page_range+0x10/0x10
[   43.991459]  unmap_single_vma+0x1ac/0x2d0
[   43.991863]  unmap_vmas+0x210/0x470
[   43.992211]  ? __pfx_unmap_vmas+0x10/0x10
[   43.992597]  ? __pfx_lock_release+0x10/0x10
[   43.993006]  ? lock_release+0x592/0x870
[   43.993378]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.993853]  ? __pfx_lock_release+0x10/0x10
[   43.994267]  ? mlock_drain_local+0x27f/0x4b0
[   43.994690]  exit_mmap+0x19e/0xb10
[   43.995037]  ? __pfx_exit_mmap+0x10/0x10
[   43.995422]  ? debug_smp_processor_id+0x20/0x30
[   43.995866]  ? trace_hardirqs_on+0x51/0x60
[   43.996270]  ? kasan_quarantine_put+0xa2/0x200
[   43.996711]  ? __khugepaged_exit+0x266/0x4c0
[   43.997129]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.997645]  __mmput+0xde/0x3a0
[   43.997961]  mmput+0x74/0x90
[   43.998255]  do_exit+0xa03/0x29f0
[   43.998587]  ? trace_hardirqs_on+0x51/0x60
[   43.998998]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.999593]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.000069]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.000537]  ? __pfx_do_exit+0x10/0x10
[   44.000906]  ? __audit_syscall_entry+0x39c/0x500
[   44.001352]  __x64_sys_exit+0x50/0x60
[   44.001713]  x64_sys_call+0x20c9/0x20d0
[   44.002096]  do_syscall_64+0x6d/0x140
[   44.002459]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.002952] RIP: 0033:0x7f2e1423ee5d
[   44.003312] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   44.003880] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.004583] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   44.005245] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.005900] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   44.006544] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   44.007195] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   44.007869]  </TASK>
[   44.008088] Modules linked in:
[   44.008548] ---[ end trace 0000000000000000 ]---
[   44.008993] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.009542] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.011290] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   44.011783] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   44.012446] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   44.013106] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   44.013771] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.014503] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   44.015172] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   44.015903] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.016438] CR2: 0000000000404200 CR3: 000000002046e003 CR4: 0000000000770ef0
[   44.017086] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.017807] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.018562] PKRU: 55555554
[   44.018832] note: repro[13288] exited with preempt_count 1
[   44.019347] Fixing recursive fault but reboot is needed!
[   44.019836] BUG: scheduling while atomic: repro/13288/0x00000000
[   44.020395] INFO: lockdep is turned off.
[   44.020769] Modules linked in:
[   44.021068] Preemption disabled at:
[   44.021074] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   44.021914] CPU: 1 UID: 0 PID: 13288 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   44.022771] Tainted: [D]=DIE, [W]=WARN
[   44.023128] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.024163] Call Trace:
[   44.024408]  <TASK>
[   44.024631]  dump_stack_lvl+0x121/0x150
[   44.025018]  ? do_task_dead+0x28/0x110
[   44.025381]  dump_stack+0x19/0x20
[   44.025717]  __schedule_bug+0x12d/0x180
[   44.026103]  __schedule+0x23fe/0x33a0
[   44.026469]  ? do_task_dead+0xa8/0x110
[   44.026836]  ? rcu_is_watching+0x19/0xc0
[   44.027229]  ? lock_release+0x592/0x870
[   44.027605]  ? __pfx___schedule+0x10/0x10
[   44.028011]  ? debug_smp_processor_id+0x20/0x30
[   44.028448]  ? rcu_is_watching+0x19/0xc0
[   44.028831]  ? trace_irq_enable+0xe1/0x120
[   44.029235]  ? do_task_dead+0x4a/0x110
[   44.029604]  do_task_dead+0xe0/0x110
[   44.029954]  make_task_dead+0x384/0x3c0
[   44.030334]  rewind_stack_and_make_dead+0x16/0x20
[   44.030790] RIP: 0033:0x7f2e1423ee5d
[   44.031150] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   44.031712] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.032411] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   44.033068] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.033725] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   44.034376] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   44.035032] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   44.035697]  </TASK>
[   44.958021] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#63] PREEMPT SMP KASAN NOPTI
[   44.959136] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.959834] CPU: 1 UID: 0 PID: 13983 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   44.960754] Tainted: [D]=DIE, [W]=WARN
[   44.961120] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.962163] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.962708] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.964355] RSP: 0018:ffff8880197177d8 EFLAGS: 00010202
[   44.964850] RAX: dffffc0000000000 RBX: ffffea00007e9840 RCX: ffffffff81bc4f39
[   44.965514] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007e9850
[   44.966174] RBP: ffff8880197177f8 R08: 0000000000000000 R09: ffffed10056bc2b4
[   44.966827] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.967489] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802b5e15a0
[   44.968151] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   44.968882] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.969417] CR2: 00007fffdaca68b8 CR3: 000000002b6ae005 CR4: 0000000000770ef0
[   44.970083] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.970741] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.971384] PKRU: 55555554
[   44.971643] Call Trace:
[   44.971879]  <TASK>
[   44.972096]  ? show_regs+0x6d/0x80
[   44.972449]  ? die_addr+0x45/0xb0
[   44.972783]  ? exc_general_protection+0x1ae/0x340
[   44.973244]  ? asm_exc_general_protection+0x2b/0x30
[   44.973714]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.974204]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.974694]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.975184]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.975688]  zap_huge_pmd+0x48e/0xd40
[   44.976065]  unmap_page_range+0x1ad6/0x4360
[   44.976475]  ? update_stack_state+0x2d9/0x610
[   44.976913]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.977399]  ? __pfx_unmap_page_range+0x10/0x10
[   44.977845]  unmap_single_vma+0x1ac/0x2d0
[   44.978244]  unmap_vmas+0x210/0x470
[   44.978611]  ? __pfx_unmap_vmas+0x10/0x10
[   44.979014]  ? __pfx_lock_release+0x10/0x10
[   44.979417]  ? lock_release+0x592/0x870
[   44.979801]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.980279]  ? __pfx_lock_release+0x10/0x10
[   44.980696]  ? mlock_drain_local+0x27f/0x4b0
[   44.981116]  exit_mmap+0x19e/0xb10
[   44.981460]  ? __pfx_exit_mmap+0x10/0x10
[   44.981862]  ? debug_smp_processor_id+0x20/0x30
[   44.982316]  ? trace_hardirqs_on+0x51/0x60
[   44.982722]  ? kasan_quarantine_put+0xa2/0x200
[   44.983169]  ? __khugepaged_exit+0x266/0x4c0
[   44.983590]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.984103]  __mmput+0xde/0x3a0
[   44.984417]  mmput+0x74/0x90
[   44.984712]  do_exit+0xa03/0x29f0
[   44.985062]  ? trace_hardirqs_on+0x51/0x60
[   44.985461]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.986070]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.986536]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.987008]  ? __pfx_do_exit+0x10/0x10
[   44.987375]  ? __audit_syscall_entry+0x39c/0x500
[   44.987833]  __x64_sys_exit+0x50/0x60
[   44.988203]  x64_sys_call+0x20c9/0x20d0
[   44.988578]  do_syscall_64+0x6d/0x140
[   44.988939]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.989434] RIP: 0033:0x7f2e1423ee5d
[   44.989784] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   44.990393] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.991097] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   44.991749] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.992410] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   44.993064] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   44.993723] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   44.994388]  </TASK>
[   44.994604] Modules linked in:
[   44.994926] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#64] PREEMPT SMP KASAN NOPTI
[   44.995120] ---[ end trace 0000000000000000 ]---
[   44.996059] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.996502] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.997171] CPU: 0 UID: 0 PID: 13995 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   44.997691] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.998499] Tainted: [D]=DIE, [W]=WARN
[   44.998507] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.998520] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.998554] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.998573] RSP: 0018:ffff88801968f7d8 EFLAGS: 00010202
[   45.000259] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   45.000608] 
[   45.001637] 
[   45.002167] RAX: dffffc0000000000 RBX: ffffea00005367c0 RCX: ffffffff81bc4f39
[   45.002182] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00005367d0
[   45.002193] RBP: ffff88801968f7f8 R08: 0000000000000000 R09: ffffed1004c294a8
[   45.002205] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.002215] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802614a540
[   45.002227] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   45.002240] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.002252] CR2: 00007f2e1429bc20 CR3: 000000001f368005 CR4: 0000000000770ef0
[   45.002267] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.002277] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.002287] PKRU: 55555554
[   45.004052] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   45.004451] Call Trace:
[   45.004942] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   45.005104]  <TASK>
[   45.005259] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   45.005896]  ? show_regs+0x6d/0x80
[   45.006622] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.007183]  ? die_addr+0x45/0xb0
[   45.007850] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   45.008552]  ? exc_general_protection+0x1ae/0x340
[   45.009272] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   45.009954]  ? asm_exc_general_protection+0x2b/0x30
[   45.010607] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.011423]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.012076] CR2: 00007fffdaca68b8 CR3: 000000002b6ae005 CR4: 0000000000770ef0
[   45.012392]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.013036] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.013336]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.013970] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.014239]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.014895] PKRU: 55555554
[   45.015310]  zap_huge_pmd+0x48e/0xd40
[   45.015947] note: repro[13983] exited with preempt_count 1
[   45.016353]  unmap_page_range+0x1ad6/0x4360
[   45.016988] Fixing recursive fault but reboot is needed!
[   45.017543]  ? update_stack_state+0x2d9/0x610
[   45.018291] check_preemption_disabled: 1 callbacks suppressed
[   45.018303] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13983
[   45.018851]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.019362] caller is debug_smp_processor_id+0x20/0x30
[   45.019966]  ? __pfx_unmap_page_range+0x10/0x10
[   45.020609] CPU: 1 UID: 0 PID: 13983 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.021217]  unmap_single_vma+0x1ac/0x2d0
[   45.021849] Tainted: [D]=DIE, [W]=WARN
[   45.022454]  unmap_vmas+0x210/0x470
[   45.023093] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.023704]  ? __pfx_unmap_vmas+0x10/0x10
[   45.023957] Call Trace:
[   45.024395]  ? __pfx_lock_release+0x10/0x10
[   45.024891]  <TASK>
[   45.025392]  ? lock_release+0x592/0x870
[   45.025899]  dump_stack_lvl+0x121/0x150
[   45.026417]  ? mas_next_slot+0x133a/0x1a50
[   45.026941]  dump_stack+0x19/0x20
[   45.027841]  ? __pfx_lock_release+0x10/0x10
[   45.028305]  check_preemption_disabled+0x168/0x180
[   45.029228]  ? mlock_drain_local+0x27f/0x4b0
[   45.029638]  debug_smp_processor_id+0x20/0x30
[   45.030705]  exit_mmap+0x19e/0xb10
[   45.031071]  __schedule+0xa0/0x33a0
[   45.031527]  ? __pfx_exit_mmap+0x10/0x10
[   45.031845]  ? do_task_dead+0xa8/0x110
[   45.033295]  ? debug_smp_processor_id+0x20/0x30
[   45.033664]  ? debug_smp_processor_id+0x20/0x30
[   45.033971]  ? trace_hardirqs_on+0x51/0x60
[   45.034350]  ? rcu_is_watching+0x19/0xc0
[   45.034616]  ? kasan_quarantine_put+0xa2/0x200
[   45.034967]  ? lock_release+0x592/0x870
[   45.035435]  ? __khugepaged_exit+0x266/0x4c0
[   45.035803]  ? __pfx___schedule+0x10/0x10
[   45.036291]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.036670]  ? debug_smp_processor_id+0x20/0x30
[   45.037238]  __mmput+0xde/0x3a0
[   45.037628]  ? rcu_is_watching+0x19/0xc0
[   45.038155]  mmput+0x74/0x90
[   45.038469]  ? trace_irq_enable+0xe1/0x120
[   45.038888]  do_exit+0xa03/0x29f0
[   45.039255]  ? do_task_dead+0x4a/0x110
[   45.039683]  ? trace_hardirqs_on+0x51/0x60
[   45.040109]  do_task_dead+0xe0/0x110
[   45.040727]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.041113]  make_task_dead+0x384/0x3c0
[   45.041578]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.041995]  rewind_stack_and_make_dead+0x16/0x20
[   45.042432]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.042827] RIP: 0033:0x7f2e1423ee5d
[   45.043285]  ? __pfx_do_exit+0x10/0x10
[   45.043771] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.044287]  ? __audit_syscall_entry+0x39c/0x500
[   45.044582] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   45.045074]  __x64_sys_exit+0x50/0x60
[   45.045346]  ORIG_RAX: 000000000000003c
[   45.045809]  x64_sys_call+0x20c9/0x20d0
[   45.046119] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.046547]  do_syscall_64+0x6d/0x140
[   45.046919] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.047332]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.047892] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.048301] RIP: 0033:0x7f2e1423ee5d
[   45.048742] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.049243] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.049685] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.050076] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   45.050437]  </TASK>
[   45.051072]  ORIG_RAX: 000000000000003c
[   45.060711] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.061700] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.062459] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.063221] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.063918] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.064621]  </TASK>
[   45.064853] Modules linked in:
[   45.065483] ---[ end trace 0000000000000000 ]---
[   45.065954] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.066713] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.068883] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   45.069392] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   45.070147] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   45.070813] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   45.071473] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.072198] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   45.072872] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   45.074034] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.074738] CR2: 00007f2e1429bc20 CR3: 000000001f368005 CR4: 0000000000770ef0
[   45.075414] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.076055] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.076690] PKRU: 55555554
[   45.076944] note: repro[13995] exited with preempt_count 1
[   45.077451] Fixing recursive fault but reboot is needed!
[   45.077927] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13995
[   45.078641] caller is debug_smp_processor_id+0x20/0x30
[   45.079129] CPU: 0 UID: 0 PID: 13995 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.080256] Tainted: [D]=DIE, [W]=WARN
[   45.080597] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.081563] Call Trace:
[   45.081790]  <TASK>
[   45.081993]  dump_stack_lvl+0x121/0x150
[   45.082346]  dump_stack+0x19/0x20
[   45.082654]  check_preemption_disabled+0x168/0x180
[   45.083082]  debug_smp_processor_id+0x20/0x30
[   45.083472]  __schedule+0xa0/0x33a0
[   45.083794]  ? do_task_dead+0xa8/0x110
[   45.084139]  ? debug_smp_processor_id+0x20/0x30
[   45.084542]  ? rcu_is_watching+0x19/0xc0
[   45.084888]  ? lock_release+0x592/0x870
[   45.085231]  ? __pfx___schedule+0x10/0x10
[   45.085742]  ? debug_smp_processor_id+0x20/0x30
[   45.086290]  ? rcu_is_watching+0x19/0xc0
[   45.086635]  ? trace_irq_enable+0xe1/0x120
[   45.087003]  ? do_task_dead+0x4a/0x110
[   45.087332]  do_task_dead+0xe0/0x110
[   45.087646]  make_task_dead+0x384/0x3c0
[   45.087992]  rewind_stack_and_make_dead+0x16/0x20
[   45.088401] RIP: 0033:0x7f2e1423ee5d
[   45.088711] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.089227] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.089854] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.090435] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.091000] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.091562] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.092125] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.092695]  </TASK>
[   45.093002] BUG: scheduling while atomic: repro/13995/0x00000000
[   45.093646] INFO: lockdep is turned off.
[   45.093965] Modules linked in:
[   45.094239] Preemption disabled at:
[   45.094245] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   45.094937] CPU: 0 UID: 0 PID: 13995 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.095644] Tainted: [D]=DIE, [W]=WARN
[   45.095938] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.096797] Call Trace:
[   45.096999]  <TASK>
[   45.097175]  dump_stack_lvl+0x121/0x150
[   45.097485]  ? do_task_dead+0x28/0x110
[   45.097785]  dump_stack+0x19/0x20
[   45.098074]  __schedule_bug+0x12d/0x180
[   45.098384]  __schedule+0x23fe/0x33a0
[   45.098676]  ? do_task_dead+0xa8/0x110
[   45.098970]  ? rcu_is_watching+0x19/0xc0
[   45.099283]  ? lock_release+0x592/0x870
[   45.099587]  ? __pfx___schedule+0x10/0x10
[   45.099906]  ? debug_smp_processor_id+0x20/0x30
[   45.100275]  ? rcu_is_watching+0x19/0xc0
[   45.100585]  ? trace_irq_enable+0xe1/0x120
[   45.100910]  ? do_task_dead+0x4a/0x110
[   45.101205]  do_task_dead+0xe0/0x110
[   45.101477]  make_task_dead+0x384/0x3c0
[   45.101774]  rewind_stack_and_make_dead+0x16/0x20
[   45.102128] RIP: 0033:0x7f2e1423ee5d
[   45.102399] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.102846] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.103666] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.104227] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.104740] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.105258] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.105772] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.106299]  </TASK>
[   45.410499] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#65] PREEMPT SMP KASAN NOPTI
[   45.411607] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.412311] CPU: 1 UID: 0 PID: 14245 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.413153] Tainted: [D]=DIE, [W]=WARN
[   45.413496] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.414498] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.415047] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.416661] RSP: 0018:ffff8880262ff7d8 EFLAGS: 00010202
[   45.417148] RAX: dffffc0000000000 RBX: ffffea0000486540 RCX: ffffffff81bc4f39
[   45.417781] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000486550
[   45.418486] RBP: ffff8880262ff7f8 R08: 0000000000000000 R09: ffffed1001f90508
[   45.419141] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.419791] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800fc82840
[   45.420450] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   45.421179] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.421711] CR2: 00007f2e143fca50 CR3: 00000000214d0002 CR4: 0000000000770ef0
[   45.422367] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.423006] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.423640] PKRU: 55555554
[   45.423898] Call Trace:
[   45.424138]  <TASK>
[   45.424349]  ? show_regs+0x6d/0x80
[   45.424688]  ? die_addr+0x45/0xb0
[   45.425026]  ? exc_general_protection+0x1ae/0x340
[   45.425486]  ? asm_exc_general_protection+0x2b/0x30
[   45.425962]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.426459]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.426948]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.427433]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.427919]  zap_huge_pmd+0x48e/0xd40
[   45.428290]  unmap_page_range+0x1ad6/0x4360
[   45.428702]  ? update_stack_state+0x2d9/0x610
[   45.429141]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.429615]  ? __pfx_unmap_page_range+0x10/0x10
[   45.430061]  unmap_single_vma+0x1ac/0x2d0
[   45.430693]  unmap_vmas+0x210/0x470
[   45.431051]  ? __pfx_unmap_vmas+0x10/0x10
[   45.431434]  ? __pfx_lock_release+0x10/0x10
[   45.431842]  ? lock_release+0x592/0x870
[   45.432264]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.432732]  ? __pfx_lock_release+0x10/0x10
[   45.433143]  ? mlock_drain_local+0x27f/0x4b0
[   45.433558]  exit_mmap+0x19e/0xb10
[   45.433901]  ? __pfx_exit_mmap+0x10/0x10
[   45.434287]  ? debug_smp_processor_id+0x20/0x30
[   45.434718]  ? trace_hardirqs_on+0x51/0x60
[   45.435254]  ? kasan_quarantine_put+0xa2/0x200
[   45.435765]  ? __khugepaged_exit+0x266/0x4c0
[   45.436194]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.436697]  __mmput+0xde/0x3a0
[   45.437017]  mmput+0x74/0x90
[   45.437307]  do_exit+0xa03/0x29f0
[   45.437637]  ? trace_hardirqs_on+0x51/0x60
[   45.438037]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.438620]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.439080]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.439662]  ? __pfx_do_exit+0x10/0x10
[   45.440037]  ? __audit_syscall_entry+0x39c/0x500
[   45.440480]  __x64_sys_exit+0x50/0x60
[   45.440840]  x64_sys_call+0x20c9/0x20d0
[   45.441219]  do_syscall_64+0x6d/0x140
[   45.441580]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.442069] RIP: 0033:0x7f2e1423ee5d
[   45.442433] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.443084] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.443767] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.444409] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.445157] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.445796] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.446443] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.447227]  </TASK>
[   45.447446] Modules linked in:
[   45.447911] ---[ end trace 0000000000000000 ]---
[   45.448365] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.448883] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.450671] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   45.451173] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   45.451887] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   45.452503] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   45.453119] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.453785] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   45.454487] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   45.455185] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.455753] CR2: 00007f2e143fca50 CR3: 00000000214d0002 CR4: 0000000000770ef0
[   45.456376] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.457036] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.457615] PKRU: 55555554
[   45.457849] note: repro[14245] exited with preempt_count 1
[   45.458427] Fixing recursive fault but reboot is needed!
[   45.458926] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14245
[   45.459970] caller is debug_smp_processor_id+0x20/0x30
[   45.460485] CPU: 1 UID: 0 PID: 14245 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.461319] Tainted: [D]=DIE, [W]=WARN
[   45.461666] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.462669] Call Trace:
[   45.462906]  <TASK>
[   45.463194]  dump_stack_lvl+0x121/0x150
[   45.463892]  dump_stack+0x19/0x20
[   45.464237]  check_preemption_disabled+0x168/0x180
[   45.464689]  debug_smp_processor_id+0x20/0x30
[   45.465106]  __schedule+0xa0/0x33a0
[   45.465882]  ? do_task_dead+0xa8/0x110
[   45.466263]  ? debug_smp_processor_id+0x20/0x30
[   45.466690]  ? rcu_is_watching+0x19/0xc0
[   45.467548]  ? lock_release+0x592/0x870
[   45.467931]  ? __pfx___schedule+0x10/0x10
[   45.468333]  ? debug_smp_processor_id+0x20/0x30
[   45.468758]  ? rcu_is_watching+0x19/0xc0
[   45.469142]  ? trace_irq_enable+0xe1/0x120
[   45.469935]  ? do_task_dead+0x4a/0x110
[   45.470315]  do_task_dead+0xe0/0x110
[   45.470659]  make_task_dead+0x384/0x3c0
[   45.471066]  rewind_stack_and_make_dead+0x16/0x20
[   45.471934] RIP: 0033:0x7f2e1423ee5d
[   45.472293] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.472470] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#66] PREEMPT SMP KASAN NOPTI
[   45.472850] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.473921] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.473933] CPU: 0 UID: 0 PID: 14292 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.474595] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.475264] Tainted: [D]=DIE, [W]=WARN
[   45.476060] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.476680] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.477021] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.477643] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.478638] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.479239] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.479745] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.480346] RSP: 0018:ffff888014c9f7d8 EFLAGS: 00010202
[   45.481957]  </TASK>
[   45.482541] 
[   45.483331] RAX: dffffc0000000000 RBX: ffffea0000ad7e40 RCX: ffffffff81bc4f39
[   45.483914] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad7e50
[   45.484503] RBP: ffff888014c9f7f8 R08: 0000000000000000 R09: ffffed10023f45b0
[   45.485346] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.485967] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011fa2d80
[   45.486559] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   45.487222] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.487698] CR2: 00007f548f2d0068 CR3: 00000000288c2001 CR4: 0000000000770ef0
[   45.488269] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.488832] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.489398] PKRU: 55555554
[   45.489622] Call Trace:
[   45.489827]  <TASK>
[   45.490010]  ? show_regs+0x6d/0x80
[   45.490305]  ? die_addr+0x45/0xb0
[   45.490592]  ? exc_general_protection+0x1ae/0x340
[   45.491169]  ? asm_exc_general_protection+0x2b/0x30
[   45.491732]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.492160]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.492583]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.493004]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.493413]  zap_huge_pmd+0x48e/0xd40
[   45.493719]  unmap_page_range+0x1ad6/0x4360
[   45.494060]  ? update_stack_state+0x2d9/0x610
[   45.494424]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.494826]  ? __pfx_unmap_page_range+0x10/0x10
[   45.495201]  unmap_single_vma+0x1ac/0x2d0
[   45.495530]  unmap_vmas+0x210/0x470
[   45.495820]  ? __pfx_unmap_vmas+0x10/0x10
[   45.496151]  ? __pfx_lock_release+0x10/0x10
[   45.496486]  ? lock_release+0x592/0x870
[   45.496796]  ? mas_next_slot+0x133a/0x1a50
[   45.497260]  ? __pfx_lock_release+0x10/0x10
[   45.497732]  ? mlock_drain_local+0x27f/0x4b0
[   45.498103]  exit_mmap+0x19e/0xb10
[   45.498379]  ? __pfx_exit_mmap+0x10/0x10
[   45.498688]  ? debug_smp_processor_id+0x20/0x30
[   45.499042]  ? trace_hardirqs_on+0x51/0x60
[   45.499364]  ? kasan_quarantine_put+0xa2/0x200
[   45.499713]  ? __khugepaged_exit+0x266/0x4c0
[   45.500053]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.500464]  __mmput+0xde/0x3a0
[   45.500717]  mmput+0x74/0x90
[   45.500949]  do_exit+0xa03/0x29f0
[   45.501218]  ? trace_hardirqs_on+0x51/0x60
[   45.501538]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.502019]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.502391]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.502754]  ? __pfx_do_exit+0x10/0x10
[   45.503043]  ? __audit_syscall_entry+0x39c/0x500
[   45.503533]  __x64_sys_exit+0x50/0x60
[   45.503926]  x64_sys_call+0x20c9/0x20d0
[   45.504242]  do_syscall_64+0x6d/0x140
[   45.504524]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.504902] RIP: 0033:0x7f2e1423ee5d
[   45.505169] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.505597] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.506278] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.506769] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.507264] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.507753] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.508247] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.508745]  </TASK>
[   45.508907] Modules linked in:
[   45.509294] ---[ end trace 0000000000000000 ]---
[   45.509760] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.510413] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.511705] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   45.512072] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   45.512563] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   45.513046] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   45.513511] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.514008] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   45.514540] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   45.515117] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.515500] CR2: 00007f548f2d0068 CR3: 00000000288c2001 CR4: 0000000000770ef0
[   45.516153] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.516694] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.517162] PKRU: 55555554
[   45.517350] note: repro[14292] exited with preempt_count 1
[   45.517713] Fixing recursive fault but reboot is needed!
[   45.518114] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14292
[   45.518624] caller is debug_smp_processor_id+0x20/0x30
[   45.518959] CPU: 0 UID: 0 PID: 14292 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.519545] Tainted: [D]=DIE, [W]=WARN
[   45.519787] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.520500] Call Trace:
[   45.520665]  <TASK>
[   45.520809]  dump_stack_lvl+0x121/0x150
[   45.521069]  dump_stack+0x19/0x20
[   45.521292]  check_preemption_disabled+0x168/0x180
[   45.521601]  debug_smp_processor_id+0x20/0x30
[   45.521878]  __schedule+0xa0/0x33a0
[   45.522109]  ? do_task_dead+0xa8/0x110
[   45.522351]  ? debug_smp_processor_id+0x20/0x30
[   45.522640]  ? rcu_is_watching+0x19/0xc0
[   45.522896]  ? lock_release+0x592/0x870
[   45.523148]  ? __pfx___schedule+0x10/0x10
[   45.523411]  ? debug_smp_processor_id+0x20/0x30
[   45.523699]  ? rcu_is_watching+0x19/0xc0
[   45.523952]  ? trace_irq_enable+0xe1/0x120
[   45.524214]  ? do_task_dead+0x4a/0x110
[   45.524449]  do_task_dead+0xe0/0x110
[   45.524676]  make_task_dead+0x384/0x3c0
[   45.524921]  rewind_stack_and_make_dead+0x16/0x20
[   45.525217] RIP: 0033:0x7f2e1423ee5d
[   45.525445] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.525817] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.526271] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.526695] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.527119] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.527545] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.527961] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.528384]  </TASK>
[   45.528545] BUG: scheduling while atomic: repro/14292/0x00000000
[   45.528986] INFO: lockdep is turned off.
[   45.529220] Modules linked in:
[   45.529410] Preemption disabled at:
[   45.529413] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   45.529936] CPU: 0 UID: 0 PID: 14292 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.530473] Tainted: [D]=DIE, [W]=WARN
[   45.530692] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.531331] Call Trace:
[   45.531478]  <TASK>
[   45.531606]  dump_stack_lvl+0x121/0x150
[   45.531839]  ? do_task_dead+0x28/0x110
[   45.532061]  dump_stack+0x19/0x20
[   45.532262]  __schedule_bug+0x12d/0x180
[   45.532494]  __schedule+0x23fe/0x33a0
[   45.532711]  ? do_task_dead+0xa8/0x110
[   45.532939]  ? rcu_is_watching+0x19/0xc0
[   45.533173]  ? lock_release+0x592/0x870
[   45.533392]  ? __pfx___schedule+0x10/0x10
[   45.533628]  ? debug_smp_processor_id+0x20/0x30
[   45.533885]  ? rcu_is_watching+0x19/0xc0
[   45.534111]  ? trace_irq_enable+0xe1/0x120
[   45.534351]  ? do_task_dead+0x4a/0x110
[   45.534566]  do_task_dead+0xe0/0x110
[   45.534774]  make_task_dead+0x384/0x3c0
[   45.535003]  rewind_stack_and_make_dead+0x16/0x20
[   45.535380] RIP: 0033:0x7f2e1423ee5d
[   45.535663] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.536122] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.536543] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.536935] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.537330] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   45.537723] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   45.538111] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   45.538511]  </TASK>
[   45.957171] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#67] PREEMPT SMP KASAN NOPTI
[   45.958286] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.958995] CPU: 1 UID: 0 PID: 14538 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   45.959846] Tainted: [D]=DIE, [W]=WARN
[   45.960196] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.961220] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.961777] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.963933] RSP: 0018:ffff88802b7bf7d8 EFLAGS: 00010202
[   45.964571] RAX: dffffc0000000000 RBX: ffffea0000a22600 RCX: ffffffff81bc4f39
[   45.965420] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a22610
[   45.966268] RBP: ffff88802b7bf7f8 R08: 0000000000000000 R09: ffffed1002945ce4
[   45.967114] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.967959] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888014a2e720
[   45.968812] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   45.969773] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.970467] CR2: 00007f2e145f3bf0 CR3: 0000000020430004 CR4: 0000000000770ef0
[   45.971319] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.972164] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.973010] PKRU: 55555554
[   45.973348] Call Trace:
[   45.973658]  <TASK>
[   45.973931]  ? show_regs+0x6d/0x80
[   45.974374]  ? die_addr+0x45/0xb0
[   45.974802]  ? exc_general_protection+0x1ae/0x340
[   45.975398]  ? asm_exc_general_protection+0x2b/0x30
[   45.976016]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.976645]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.977276]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.977907]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.978542]  zap_huge_pmd+0x48e/0xd40
[   45.979016]  unmap_page_range+0x1ad6/0x4360
[   45.979537]  ? update_stack_state+0x2d9/0x610
[   45.980103]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.980722]  ? __pfx_unmap_page_range+0x10/0x10
[   45.981301]  unmap_single_vma+0x1ac/0x2d0
[   45.981806]  unmap_vmas+0x210/0x470
[   45.982259]  ? __pfx_unmap_vmas+0x10/0x10
[   45.982757]  ? __pfx_lock_release+0x10/0x10
[   45.983279]  ? lock_release+0x592/0x870
[   45.983756]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.984397]  ? __pfx_lock_release+0x10/0x10
[   45.984945]  ? mlock_drain_local+0x27f/0x4b0
[   45.985487]  exit_mmap+0x19e/0xb10
[   45.985925]  ? __pfx_exit_mmap+0x10/0x10
[   45.986421]  ? debug_smp_processor_id+0x20/0x30
[   45.986981]  ? trace_hardirqs_on+0x51/0x60
[   45.987502]  ? kasan_quarantine_put+0xa2/0x200
[   45.988062]  ? __khugepaged_exit+0x266/0x4c0
[   45.988599]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.989260]  __mmput+0xde/0x3a0
[   45.989663]  mmput+0x74/0x90
[   45.990041]  do_exit+0xa03/0x29f0
[   45.990466]  ? trace_hardirqs_on+0x51/0x60
[   45.990976]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.991746]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.992346]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.992941]  ? __pfx_do_exit+0x10/0x10
[   45.993421]  ? __audit_syscall_entry+0x39c/0x500
[   45.994001]  __x64_sys_exit+0x50/0x60
[   45.994464]  x64_sys_call+0x20c9/0x20d0
[   45.994942]  do_syscall_64+0x6d/0x140
[   45.995414]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.996040] RIP: 0033:0x7f2e1423ee5d
[   45.996484] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   45.997217] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.998126] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   45.998967] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.999815] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.000652] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.001502] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.002365]  </TASK>
[   46.002646] Modules linked in:
[   46.003125] ---[ end trace 0000000000000000 ]---
[   46.003686] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.004390] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.006657] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   46.007303] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   46.008154] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   46.009118] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   46.010143] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.011173] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   46.012019] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.012966] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.013665] CR2: 00007f2e145f3bf0 CR3: 0000000020430004 CR4: 0000000000770ef0
[   46.014544] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.015410] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.016259] PKRU: 55555554
[   46.016598] note: repro[14538] exited with preempt_count 1
[   46.017258] Fixing recursive fault but reboot is needed!
[   46.017887] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14538
[   46.018841] caller is debug_smp_processor_id+0x20/0x30
[   46.019479] CPU: 1 UID: 0 PID: 14538 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.020574] Tainted: [D]=DIE, [W]=WARN
[   46.021035] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.022374] Call Trace:
[   46.022778]  <TASK>
[   46.023146]  dump_stack_lvl+0x121/0x150
[   46.023631]  dump_stack+0x19/0x20
[   46.024061]  check_preemption_disabled+0x168/0x180
[   46.024730]  debug_smp_processor_id+0x20/0x30
[   46.025312]  __schedule+0xa0/0x33a0
[   46.025758]  ? do_task_dead+0xa8/0x110
[   46.026231]  ? debug_smp_processor_id+0x20/0x30
[   46.026787]  ? rcu_is_watching+0x19/0xc0
[   46.027285]  ? lock_release+0x592/0x870
[   46.027764]  ? __pfx___schedule+0x10/0x10
[   46.028405]  ? debug_smp_processor_id+0x20/0x30
[   46.028960]  ? rcu_is_watching+0x19/0xc0
[   46.029457]  ? trace_irq_enable+0xe1/0x120
[   46.030020]  ? do_task_dead+0x4a/0x110
[   46.030553]  do_task_dead+0xe0/0x110
[   46.031004]  make_task_dead+0x384/0x3c0
[   46.031497]  rewind_stack_and_make_dead+0x16/0x20
[   46.032137] RIP: 0033:0x7f2e1423ee5d
[   46.032581] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.033330] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.034452] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.035450] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.036296] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.037143] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.037990] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.038848]  </TASK>
[   46.039202] BUG: scheduling while atomic: repro/14538/0x00000000
[   46.039922] INFO: lockdep is turned off.
[   46.040396] Modules linked in:
[   46.040777] Preemption disabled at:
[   46.040783] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   46.041851] CPU: 1 UID: 0 PID: 14538 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.042944] Tainted: [D]=DIE, [W]=WARN
[   46.043404] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.044735] Call Trace:
[   46.045047]  <TASK>
[   46.045320]  dump_stack_lvl+0x121/0x150
[   46.045801]  ? do_task_dead+0x28/0x110
[   46.046274]  dump_stack+0x19/0x20
[   46.046698]  __schedule_bug+0x12d/0x180
[   46.047190]  __schedule+0x23fe/0x33a0
[   46.047653]  ? do_task_dead+0xa8/0x110
[   46.048124]  ? rcu_is_watching+0x19/0xc0
[   46.048616]  ? lock_release+0x592/0x870
[   46.049102]  ? __pfx___schedule+0x10/0x10
[   46.049608]  ? debug_smp_processor_id+0x20/0x30
[   46.050171]  ? rcu_is_watching+0x19/0xc0
[   46.050663]  ? trace_irq_enable+0xe1/0x120
[   46.051183]  ? do_task_dead+0x4a/0x110
[   46.051651]  do_task_dead+0xe0/0x110
[   46.052106]  make_task_dead+0x384/0x3c0
[   46.052591]  rewind_stack_and_make_dead+0x16/0x20
[   46.053176] RIP: 0033:0x7f2e1423ee5d
[   46.053621] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.054358] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.055261] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.056111] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.056954] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.057802] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.058649] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.059510]  </TASK>
[   46.410178] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#68] PREEMPT SMP KASAN NOPTI
[   46.411867] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.412769] CPU: 1 UID: 0 PID: 14817 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.413865] Tainted: [D]=DIE, [W]=WARN
[   46.414327] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.415661] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.416689] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.419053] RSP: 0018:ffff88802b72f7d8 EFLAGS: 00010202
[   46.419686] RAX: dffffc0000000000 RBX: ffffea0000adfb80 RCX: ffffffff81bc4f39
[   46.420534] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000adfb90
[   46.421378] RBP: ffff88802b72f7f8 R08: 0000000000000000 R09: ffffed1002991ec0
[   46.422222] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   46.423065] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888014c8f600
[   46.423900] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.424851] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.425539] CR2: 00007f2e145bf658 CR3: 0000000019676001 CR4: 0000000000770ef0
[   46.426386] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.427228] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.428069] PKRU: 55555554
[   46.428406] Call Trace:
[   46.428711]  <TASK>
[   46.428981]  ? show_regs+0x6d/0x80
[   46.429558]  ? die_addr+0x45/0xb0
[   46.430075]  ? exc_general_protection+0x1ae/0x340
[   46.430687]  ? asm_exc_general_protection+0x2b/0x30
[   46.431306]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.431937]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.432572]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.433207]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.433898]  zap_huge_pmd+0x48e/0xd40
[   46.434438]  unmap_page_range+0x1ad6/0x4360
[   46.434959]  ? __pfx_lock_release+0x10/0x10
[   46.435488]  ? do_raw_spin_trylock+0xbf/0x190
[   46.436041]  ? __kasan_check_read+0x15/0x20
[   46.436568]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.437196]  ? __pfx_unmap_page_range+0x10/0x10
[   46.437770]  unmap_single_vma+0x1ac/0x2d0
[   46.438379]  unmap_vmas+0x210/0x470
[   46.438838]  ? __pfx_unmap_vmas+0x10/0x10
[   46.439347]  ? __pfx_lock_release+0x10/0x10
[   46.439864]  ? lock_release+0x592/0x870
[   46.440349]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   46.440953]  ? __pfx_lock_release+0x10/0x10
[   46.441483]  ? mlock_drain_local+0x27f/0x4b0
[   46.442026]  exit_mmap+0x19e/0xb10
[   46.442543]  ? __pfx_exit_mmap+0x10/0x10
[   46.443047]  ? debug_smp_processor_id+0x20/0x30
[   46.443612]  ? trace_hardirqs_on+0x51/0x60
[   46.444135]  ? kasan_quarantine_put+0xa2/0x200
[   46.444692]  ? __khugepaged_exit+0x266/0x4c0
[   46.445239]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.445898]  __mmput+0xde/0x3a0
[   46.446386]  mmput+0x74/0x90
[   46.446801]  do_exit+0xa03/0x29f0
[   46.447212]  ? trace_hardirqs_on+0x51/0x60
[   46.447699]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.448431]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.448999]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.449564]  ? __pfx_do_exit+0x10/0x10
[   46.450018]  ? __audit_syscall_entry+0x39c/0x500
[   46.450581]  __x64_sys_exit+0x50/0x60
[   46.451035]  x64_sys_call+0x20c9/0x20d0
[   46.451492]  do_syscall_64+0x6d/0x140
[   46.451933]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.452536] RIP: 0033:0x7f2e1423ee5d
[   46.452971] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.453670] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.454524] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.455536] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.456489] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.457255] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.458017] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.458787]  </TASK>
[   46.459053] Modules linked in:
[   46.459559] ---[ end trace 0000000000000000 ]---
[   46.460369] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.461018] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.462992] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   46.463570] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   46.464541] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   46.465275] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   46.466017] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.466856] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   46.467703] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.468527] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.469312] CR2: 00007f2e145bf658 CR3: 0000000019676001 CR4: 0000000000770ef0
[   46.470018] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.470894] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.471599] PKRU: 55555554
[   46.471877] note: repro[14817] exited with preempt_count 1
[   46.472420] Fixing recursive fault but reboot is needed!
[   46.472938] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14817
[   46.473699] caller is debug_smp_processor_id+0x20/0x30
[   46.474593] CPU: 1 UID: 0 PID: 14817 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.475530] Tainted: [D]=DIE, [W]=WARN
[   46.475904] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.476966] Call Trace:
[   46.477231]  <TASK>
[   46.477555]  dump_stack_lvl+0x121/0x150
[   46.477977]  dump_stack+0x19/0x20
[   46.478319]  check_preemption_disabled+0x168/0x180
[   46.478783]  debug_smp_processor_id+0x20/0x30
[   46.479211]  __schedule+0xa0/0x33a0
[   46.479701]  ? do_task_dead+0xa8/0x110
[   46.480076]  ? debug_smp_processor_id+0x20/0x30
[   46.480516]  ? rcu_is_watching+0x19/0xc0
[   46.480905]  ? lock_release+0x592/0x870
[   46.481289]  ? __pfx___schedule+0x10/0x10
[   46.481689]  ? debug_smp_processor_id+0x20/0x30
[   46.482315]  ? rcu_is_watching+0x19/0xc0
[   46.482689]  ? trace_irq_enable+0xe1/0x120
[   46.483084]  ? do_task_dead+0x4a/0x110
[   46.483438]  do_task_dead+0xe0/0x110
[   46.483777]  make_task_dead+0x384/0x3c0
[   46.484148]  rewind_stack_and_make_dead+0x16/0x20
[   46.484780] RIP: 0033:0x7f2e1423ee5d
[   46.485121] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.485677] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.486530] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.487172] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.487872] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.488557] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.489231] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.489879]  </TASK>
[   46.490118] BUG: scheduling while atomic: repro/14817/0x00000000
[   46.490643] INFO: lockdep is turned off.
[   46.490989] Modules linked in:
[   46.491266] Preemption disabled at:
[   46.491271] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   46.492052] CPU: 1 UID: 0 PID: 14817 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.493031] Tainted: [D]=DIE, [W]=WARN
[   46.493462] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.494397] Call Trace:
[   46.494613]  <TASK>
[   46.494804]  dump_stack_lvl+0x121/0x150
[   46.495146]  ? do_task_dead+0x28/0x110
[   46.495473]  dump_stack+0x19/0x20
[   46.495771]  __schedule_bug+0x12d/0x180
[   46.496158]  __schedule+0x23fe/0x33a0
[   46.496576]  ? do_task_dead+0xa8/0x110
[   46.496902]  ? rcu_is_watching+0x19/0xc0
[   46.497251]  ? lock_release+0x592/0x870
[   46.497589]  ? __pfx___schedule+0x10/0x10
[   46.497944]  ? debug_smp_processor_id+0x20/0x30
[   46.498342]  ? rcu_is_watching+0x19/0xc0
[   46.498813]  ? trace_irq_enable+0xe1/0x120
[   46.499395]  ? do_task_dead+0x4a/0x110
[   46.499753]  do_task_dead+0xe0/0x110
[   46.500062]  make_task_dead+0x384/0x3c0
[   46.500391]  rewind_stack_and_make_dead+0x16/0x20
[   46.500878] RIP: 0033:0x7f2e1423ee5d
[   46.501181] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.501674] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.502364] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.503032] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.503598] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.504157] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.504813] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.505497]  </TASK>
[   46.702873] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#69] PREEMPT SMP KASAN NOPTI
[   46.704285] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.705016] CPU: 0 UID: 0 PID: 14973 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.705855] Tainted: [D]=DIE, [W]=WARN
[   46.706205] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.707187] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.707722] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.709312] RSP: 0018:ffff88802b6877d8 EFLAGS: 00010202
[   46.709786] RAX: dffffc0000000000 RBX: ffffea0000859480 RCX: ffffffff81bc4f39
[   46.710718] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000859490
[   46.711372] RBP: ffff88802b6877f8 R08: 0000000000000000 R09: ffffed10024254d8
[   46.712027] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.712667] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801212a6c0
[   46.713324] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   46.714050] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.714573] CR2: 00007f2e145e4fa8 CR3: 000000001242e002 CR4: 0000000000770ef0
[   46.715213] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.715897] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.716537] PKRU: 55555554
[   46.716788] Call Trace:
[   46.717044]  <TASK>
[   46.717279]  ? show_regs+0x6d/0x80
[   46.717642]  ? die_addr+0x45/0xb0
[   46.717972]  ? exc_general_protection+0x1ae/0x340
[   46.718433]  ? asm_exc_general_protection+0x2b/0x30
[   46.718922]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.719427]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.719934]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.720440]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.720927]  zap_huge_pmd+0x48e/0xd40
[   46.721308]  unmap_page_range+0x1ad6/0x4360
[   46.721723]  ? update_stack_state+0x2d9/0x610
[   46.722158]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.722615]  ? __pfx_unmap_page_range+0x10/0x10
[   46.723080]  unmap_single_vma+0x1ac/0x2d0
[   46.723484]  unmap_vmas+0x210/0x470
[   46.723827]  ? __pfx_unmap_vmas+0x10/0x10
[   46.724359]  ? __pfx_lock_release+0x10/0x10
[   46.725008]  ? lock_release+0x592/0x870
[   46.725396]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   46.725893]  ? __pfx_lock_release+0x10/0x10
[   46.726319]  ? mlock_drain_local+0x27f/0x4b0
[   46.726735]  exit_mmap+0x19e/0xb10
[   46.727098]  ? __pfx_exit_mmap+0x10/0x10
[   46.727485]  ? debug_smp_processor_id+0x20/0x30
[   46.727921]  ? trace_hardirqs_on+0x51/0x60
[   46.728323]  ? kasan_quarantine_put+0xa2/0x200
[   46.728758]  ? __khugepaged_exit+0x266/0x4c0
[   46.729183]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.729708]  __mmput+0xde/0x3a0
[   46.730067]  mmput+0x74/0x90
[   46.730373]  do_exit+0xa03/0x29f0
[   46.730720]  ? trace_hardirqs_on+0x51/0x60
[   46.731131]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.731723]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.732187]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.732651]  ? __pfx_do_exit+0x10/0x10
[   46.733020]  ? __audit_syscall_entry+0x39c/0x500
[   46.733469]  __x64_sys_exit+0x50/0x60
[   46.733853]  x64_sys_call+0x20c9/0x20d0
[   46.734246]  do_syscall_64+0x6d/0x140
[   46.734609]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.735100] RIP: 0033:0x7f2e1423ee5d
[   46.735462] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.736047] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.736748] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.737401] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.738069] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.738942] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.739610] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.740293]  </TASK>
[   46.740514] Modules linked in:
[   46.741062] ---[ end trace 0000000000000000 ]---
[   46.741517] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.742166] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.744213] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   46.744761] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   46.745419] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   46.746206] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   46.746871] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.747613] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   46.748468] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   46.749468] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.750323] CR2: 00007f2e145e4fa8 CR3: 000000001242e002 CR4: 0000000000770ef0
[   46.751186] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.752032] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.753040] PKRU: 55555554
[   46.753381] note: repro[14973] exited with preempt_count 1
[   46.754040] Fixing recursive fault but reboot is needed!
[   46.754770] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14973
[   46.755700] caller is debug_smp_processor_id+0x20/0x30
[   46.756330] CPU: 0 UID: 0 PID: 14973 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.757541] Tainted: [D]=DIE, [W]=WARN
[   46.758001] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.759331] Call Trace:
[   46.759640]  <TASK>
[   46.759913]  dump_stack_lvl+0x121/0x150
[   46.760405]  dump_stack+0x19/0x20
[   46.760915]  check_preemption_disabled+0x168/0x180
[   46.761771]  debug_smp_processor_id+0x20/0x30
[   46.762321]  __schedule+0xa0/0x33a0
[   46.762773]  ? do_task_dead+0xa8/0x110
[   46.763248]  ? debug_smp_processor_id+0x20/0x30
[   46.763804]  ? rcu_is_watching+0x19/0xc0
[   46.764303]  ? lock_release+0x592/0x870
[   46.764884]  ? __pfx___schedule+0x10/0x10
[   46.765427]  ? debug_smp_processor_id+0x20/0x30
[   46.765954]  ? rcu_is_watching+0x19/0xc0
[   46.766432]  ? trace_irq_enable+0xe1/0x120
[   46.766923]  ? do_task_dead+0x4a/0x110
[   46.767372]  do_task_dead+0xe0/0x110
[   46.767798]  make_task_dead+0x384/0x3c0
[   46.768261]  rewind_stack_and_make_dead+0x16/0x20
[   46.768806] RIP: 0033:0x7f2e1423ee5d
[   46.769230] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.769921] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.770773] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.771573] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.772379] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.773169] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.773925] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.774699]  </TASK>
[   46.775167] BUG: scheduling while atomic: repro/14973/0x00000000
[   46.775989] INFO: lockdep is turned off.
[   46.776424] Modules linked in:
[   46.776773] Preemption disabled at:
[   46.776779] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   46.777743] CPU: 0 UID: 0 PID: 14973 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.778735] Tainted: [D]=DIE, [W]=WARN
[   46.779132] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.780281] Call Trace:
[   46.780552]  <TASK>
[   46.780788]  dump_stack_lvl+0x121/0x150
[   46.781435]  ? do_task_dead+0x28/0x110
[   46.781971]  dump_stack+0x19/0x20
[   46.782349]  __schedule_bug+0x12d/0x180
[   46.782774]  __schedule+0x23fe/0x33a0
[   46.783184]  ? do_task_dead+0xa8/0x110
[   46.783588]  ? rcu_is_watching+0x19/0xc0
[   46.784017]  ? lock_release+0x592/0x870
[   46.784434]  ? __pfx___schedule+0x10/0x10
[   46.784871]  ? debug_smp_processor_id+0x20/0x30
[   46.785352]  ? rcu_is_watching+0x19/0xc0
[   46.785776]  ? trace_irq_enable+0xe1/0x120
[   46.786212]  ? do_task_dead+0x4a/0x110
[   46.786598]  do_task_dead+0xe0/0x110
[   46.786967]  make_task_dead+0x384/0x3c0
[   46.787585]  rewind_stack_and_make_dead+0x16/0x20
[   46.788211] RIP: 0033:0x7f2e1423ee5d
[   46.788578] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.789191] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.789928] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.790625] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.791319] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.791988] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.792651] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.793333]  </TASK>
[   46.954564] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#70] PREEMPT SMP KASAN NOPTI
[   46.955696] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.956403] CPU: 1 UID: 0 PID: 15112 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   46.957253] Tainted: [D]=DIE, [W]=WARN
[   46.957611] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.958657] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.959215] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.960845] RSP: 0018:ffff8880263177d8 EFLAGS: 00010202
[   46.961604] RAX: dffffc0000000000 RBX: ffffea00008511c0 RCX: ffffffff81bc4f39
[   46.962244] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00008511d0
[   46.962886] RBP: ffff8880263177f8 R08: 0000000000000000 R09: ffffed10023c8c84
[   46.963525] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.964177] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011e46420
[   46.964847] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.965586] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.966112] CR2: 00007f2e145e4fa8 CR3: 0000000010c08005 CR4: 0000000000770ef0
[   46.966751] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.967744] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.968416] PKRU: 55555554
[   46.968685] Call Trace:
[   46.968933]  <TASK>
[   46.969151]  ? show_regs+0x6d/0x80
[   46.969500]  ? die_addr+0x45/0xb0
[   46.969836]  ? exc_general_protection+0x1ae/0x340
[   46.970297]  ? asm_exc_general_protection+0x2b/0x30
[   46.970774]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.971258]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.971746]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.972238]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.972754]  zap_huge_pmd+0x48e/0xd40
[   46.973151]  unmap_page_range+0x1ad6/0x4360
[   46.973562]  ? update_stack_state+0x2d9/0x610
[   46.974008]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.974490]  ? __pfx_unmap_page_range+0x10/0x10
[   46.974971]  unmap_single_vma+0x1ac/0x2d0
[   46.975603]  unmap_vmas+0x210/0x470
[   46.976118]  ? __pfx_unmap_vmas+0x10/0x10
[   46.976540]  ? __pfx_lock_release+0x10/0x10
[   46.976958]  ? lock_release+0x592/0x870
[   46.977354]  ? mas_next_slot+0x133a/0x1a50
[   46.977757]  ? __pfx_lock_release+0x10/0x10
[   46.978175]  ? mlock_drain_local+0x27f/0x4b0
[   46.978603]  exit_mmap+0x19e/0xb10
[   46.978959]  ? __pfx_exit_mmap+0x10/0x10
[   46.979354]  ? debug_smp_processor_id+0x20/0x30
[   46.979790]  ? trace_hardirqs_on+0x51/0x60
[   46.980202]  ? kasan_quarantine_put+0xa2/0x200
[   46.980670]  ? __khugepaged_exit+0x266/0x4c0
[   46.981128]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.981646]  __mmput+0xde/0x3a0
[   46.981969]  mmput+0x74/0x90
[   46.982278]  do_exit+0xa03/0x29f0
[   46.982621]  ? trace_hardirqs_on+0x51/0x60
[   46.983047]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.983656]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.984129]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.984595]  ? __pfx_do_exit+0x10/0x10
[   46.984992]  ? __audit_syscall_entry+0x39c/0x500
[   46.985502]  __x64_sys_exit+0x50/0x60
[   46.986063]  x64_sys_call+0x20c9/0x20d0
[   46.986523]  do_syscall_64+0x6d/0x140
[   46.986898]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.987409] RIP: 0033:0x7f2e1423ee5d
[   46.987760] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   46.988333] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.989029] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   46.989685] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.990339] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   46.990989] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   46.991662] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   46.992338]  </TASK>
[   46.992558] Modules linked in:
[   46.993055] ---[ end trace 0000000000000000 ]---
[   46.993519] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.994523] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.996303] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   46.996817] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   46.997479] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   46.998430] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   46.999105] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.999963] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   47.000628] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   47.001365] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.001913] CR2: 00007f2e145e4fa8 CR3: 0000000010c08005 CR4: 0000000000770ef0
[   47.002913] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.003670] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.004331] PKRU: 55555554
[   47.004602] note: repro[15112] exited with preempt_count 1
[   47.005115] Fixing recursive fault but reboot is needed!
[   47.005607] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15112
[   47.006390] caller is debug_smp_processor_id+0x20/0x30
[   47.007177] CPU: 1 UID: 0 PID: 15112 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.008060] Tainted: [D]=DIE, [W]=WARN
[   47.008423] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.009458] Call Trace:
[   47.009704]  <TASK>
[   47.009919]  dump_stack_lvl+0x121/0x150
[   47.010307]  dump_stack+0x19/0x20
[   47.010646]  check_preemption_disabled+0x168/0x180
[   47.011115]  debug_smp_processor_id+0x20/0x30
[   47.011544]  __schedule+0xa0/0x33a0
[   47.011893]  ? do_task_dead+0xa8/0x110
[   47.012286]  ? debug_smp_processor_id+0x20/0x30
[   47.012741]  ? rcu_is_watching+0x19/0xc0
[   47.013149]  ? lock_release+0x592/0x870
[   47.013728]  ? __pfx___schedule+0x10/0x10
[   47.014139]  ? debug_smp_processor_id+0x20/0x30
[   47.014584]  ? rcu_is_watching+0x19/0xc0
[   47.014995]  ? trace_irq_enable+0xe1/0x120
[   47.015496]  ? do_task_dead+0x4a/0x110
[   47.015862]  do_task_dead+0xe0/0x110
[   47.016210]  make_task_dead+0x384/0x3c0
[   47.016588]  rewind_stack_and_make_dead+0x16/0x20
[   47.017197] RIP: 0033:0x7f2e1423ee5d
[   47.017551] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.018215] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.019040] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.019701] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.020444] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.021106] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   47.021755] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   47.022441]  </TASK>
[   47.022877] BUG: scheduling while atomic: repro/15112/0x00000000
[   47.023456] INFO: lockdep is turned off.
[   47.023828] Modules linked in:
[   47.024157] Preemption disabled at:
[   47.024164] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   47.025018] CPU: 1 UID: 0 PID: 15112 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.025865] Tainted: [D]=DIE, [W]=WARN
[   47.026238] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.027293] Call Trace:
[   47.027532]  <TASK>
[   47.027752]  dump_stack_lvl+0x121/0x150
[   47.028144]  ? do_task_dead+0x28/0x110
[   47.028517]  dump_stack+0x19/0x20
[   47.028856]  __schedule_bug+0x12d/0x180
[   47.029240]  __schedule+0x23fe/0x33a0
[   47.029614]  ? do_task_dead+0xa8/0x110
[   47.029998]  ? rcu_is_watching+0x19/0xc0
[   47.030389]  ? lock_release+0x592/0x870
[   47.030799]  ? __pfx___schedule+0x10/0x10
[   47.031208]  ? debug_smp_processor_id+0x20/0x30
[   47.031649]  ? rcu_is_watching+0x19/0xc0
[   47.032040]  ? trace_irq_enable+0xe1/0x120
[   47.032443]  ? do_task_dead+0x4a/0x110
[   47.032815]  do_task_dead+0xe0/0x110
[   47.033175]  make_task_dead+0x384/0x3c0
[   47.033742]  rewind_stack_and_make_dead+0x16/0x20
[   47.034314] RIP: 0033:0x7f2e1423ee5d
[   47.034692] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.035297] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.035999] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.036659] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.037321] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.037974] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   47.038624] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   47.039305]  </TASK>
[   47.685918] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#71] PREEMPT SMP KASAN NOPTI
[   47.687223] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.688027] CPU: 0 UID: 0 PID: 15625 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.688875] Tainted: [D]=DIE, [W]=WARN
[   47.689239] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.690256] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.690810] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.692451] RSP: 0018:ffff8880263677d8 EFLAGS: 00010202
[   47.693109] RAX: dffffc0000000000 RBX: ffffea0000527480 RCX: ffffffff81bc4f39
[   47.693965] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000527490
[   47.694645] RBP: ffff8880263677f8 R08: 0000000000000000 R09: ffffed1002a09914
[   47.695309] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.695958] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801504c8a0
[   47.696620] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   47.697346] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.697870] CR2: 00007f2e145e0908 CR3: 000000001f946004 CR4: 0000000000770ef0
[   47.698605] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.699272] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.699914] PKRU: 55555554
[   47.700177] Call Trace:
[   47.700417]  <TASK>
[   47.700631]  ? show_regs+0x6d/0x80
[   47.700988]  ? die_addr+0x45/0xb0
[   47.701330]  ? exc_general_protection+0x1ae/0x340
[   47.701785]  ? asm_exc_general_protection+0x2b/0x30
[   47.702271]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.702775]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.703274]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.703760]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.704254]  zap_huge_pmd+0x48e/0xd40
[   47.704636]  unmap_page_range+0x1ad6/0x4360
[   47.705069]  ? update_stack_state+0x2d9/0x610
[   47.705715]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.706367]  ? __pfx_unmap_page_range+0x10/0x10
[   47.706819]  unmap_single_vma+0x1ac/0x2d0
[   47.707236]  unmap_vmas+0x210/0x470
[   47.707593]  ? __pfx_unmap_vmas+0x10/0x10
[   47.707982]  ? __pfx_lock_release+0x10/0x10
[   47.708390]  ? lock_release+0x592/0x870
[   47.708768]  ? mas_next_slot+0x133a/0x1a50
[   47.709190]  ? __pfx_lock_release+0x10/0x10
[   47.709602]  ? mlock_drain_local+0x27f/0x4b0
[   47.710031]  exit_mmap+0x19e/0xb10
[   47.710377]  ? __pfx_exit_mmap+0x10/0x10
[   47.710755]  ? debug_smp_processor_id+0x20/0x30
[   47.711211]  ? trace_hardirqs_on+0x51/0x60
[   47.711624]  ? kasan_quarantine_put+0xa2/0x200
[   47.712064]  ? __khugepaged_exit+0x266/0x4c0
[   47.712489]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.713012]  __mmput+0xde/0x3a0
[   47.713345]  mmput+0x74/0x90
[   47.713769]  do_exit+0xa03/0x29f0
[   47.714301]  ? trace_hardirqs_on+0x51/0x60
[   47.714741]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.715358]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.715816]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.716289]  ? __pfx_do_exit+0x10/0x10
[   47.716656]  ? __audit_syscall_entry+0x39c/0x500
[   47.717127]  __x64_sys_exit+0x50/0x60
[   47.717511]  x64_sys_call+0x20c9/0x20d0
[   47.717891]  do_syscall_64+0x6d/0x140
[   47.718259]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.718743] RIP: 0033:0x7f2e1423ee5d
[   47.719100] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.719673] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.720367] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.721019] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.721690] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.722338] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   47.722988] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   47.723658]  </TASK>
[   47.723982] Modules linked in:
[   47.724567] ---[ end trace 0000000000000000 ]---
[   47.725093] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.725641] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.727384] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   47.727884] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   47.728535] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   47.729277] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   47.729941] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.731100] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   47.731815] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   47.732556] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.733094] CR2: 00007f2e145e0908 CR3: 000000001f946004 CR4: 0000000000770ef0
[   47.733770] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.734465] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.735122] PKRU: 55555554
[   47.735392] note: repro[15625] exited with preempt_count 1
[   47.735913] Fixing recursive fault but reboot is needed!
[   47.736412] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15625
[   47.737424] caller is debug_smp_processor_id+0x20/0x30
[   47.737914] CPU: 0 UID: 0 PID: 15625 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.738776] Tainted: [D]=DIE, [W]=WARN
[   47.739132] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.740103] Call Trace:
[   47.740332]  <TASK>
[   47.740652]  dump_stack_lvl+0x121/0x150
[   47.741225]  dump_stack+0x19/0x20
[   47.741571]  check_preemption_disabled+0x168/0x180
[   47.742030]  debug_smp_processor_id+0x20/0x30
[   47.742439]  __schedule+0xa0/0x33a0
[   47.742777]  ? do_task_dead+0xa8/0x110
[   47.743118]  ? debug_smp_processor_id+0x20/0x30
[   47.743531]  ? rcu_is_watching+0x19/0xc0
[   47.743903]  ? lock_release+0x592/0x870
[   47.744262]  ? __pfx___schedule+0x10/0x10
[   47.744736]  ? debug_smp_processor_id+0x20/0x30
[   47.745393]  ? rcu_is_watching+0x19/0xc0
[   47.745802]  ? trace_irq_enable+0xe1/0x120
[   47.746209]  ? do_task_dead+0x4a/0x110
[   47.746575]  do_task_dead+0xe0/0x110
[   47.746911]  make_task_dead+0x384/0x3c0
[   47.747274]  rewind_stack_and_make_dead+0x16/0x20
[   47.747705] RIP: 0033:0x7f2e1423ee5d
[   47.748046] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.748582] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.749612] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.750264] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.750874] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.751457] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   47.752040] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   47.752659]  </TASK>
[   47.752918] BUG: scheduling while atomic: repro/15625/0x00000000
[   47.753736] INFO: lockdep is turned off.
[   47.754123] Modules linked in:
[   47.754402] Preemption disabled at:
[   47.754407] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   47.755172] CPU: 0 UID: 0 PID: 15625 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.755908] Tainted: [D]=DIE, [W]=WARN
[   47.756232] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.757135] Call Trace:
[   47.757349]  <TASK>
[   47.757533]  dump_stack_lvl+0x121/0x150
[   47.757858]  ? do_task_dead+0x28/0x110
[   47.758177]  dump_stack+0x19/0x20
[   47.758476]  __schedule_bug+0x12d/0x180
[   47.758813]  __schedule+0x23fe/0x33a0
[   47.759137]  ? do_task_dead+0xa8/0x110
[   47.759452]  ? rcu_is_watching+0x19/0xc0
[   47.759783]  ? lock_release+0x592/0x870
[   47.760113]  ? __pfx___schedule+0x10/0x10
[   47.760464]  ? debug_smp_processor_id+0x20/0x30
[   47.760872]  ? rcu_is_watching+0x19/0xc0
[   47.761222]  ? trace_irq_enable+0xe1/0x120
[   47.761573]  ? do_task_dead+0x4a/0x110
[   47.761883]  do_task_dead+0xe0/0x110
[   47.762199]  make_task_dead+0x384/0x3c0
[   47.762529]  rewind_stack_and_make_dead+0x16/0x20
[   47.762896] RIP: 0033:0x7f2e1423ee5d
[   47.763179] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.763631] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.764204] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.764738] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.765269] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.766064] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   47.766635] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   47.767180]  </TASK>
[   47.934882] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#72] PREEMPT SMP KASAN NOPTI
[   47.936006] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.936700] CPU: 0 UID: 0 PID: 15755 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.937552] Tainted: [D]=DIE, [W]=WARN
[   47.937909] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.938927] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.939668] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.941522] RSP: 0018:ffff8880288777d8 EFLAGS: 00010202
[   47.942026] RAX: dffffc0000000000 RBX: ffffea0000adce00 RCX: ffffffff81bc4f39
[   47.942677] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000adce10
[   47.943372] RBP: ffff8880288777f8 R08: 0000000000000000 R09: ffffed1002700a0c
[   47.944031] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.944674] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013805060
[   47.945337] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   47.946436] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.946981] CR2: 00007f2e145bee28 CR3: 000000001dabe001 CR4: 0000000000770ef0
[   47.947656] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.948306] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.948960] PKRU: 55555554
[   47.949228] Call Trace:
[   47.949475]  <TASK>
[   47.949810]  ? show_regs+0x6d/0x80
[   47.950337]  ? die_addr+0x45/0xb0
[   47.950715]  ? exc_general_protection+0x1ae/0x340
[   47.951230]  ? asm_exc_general_protection+0x2b/0x30
[   47.951739]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.952224]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.952716]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.953218]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.953701]  zap_huge_pmd+0x48e/0xd40
[   47.954072]  unmap_page_range+0x1ad6/0x4360
[   47.954476]  ? update_stack_state+0x2d9/0x610
[   47.954908]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.955397]  ? __pfx_unmap_page_range+0x10/0x10
[   47.955860]  unmap_single_vma+0x1ac/0x2d0
[   47.956261]  unmap_vmas+0x210/0x470
[   47.956616]  ? __pfx_unmap_vmas+0x10/0x10
[   47.957015]  ? __pfx_lock_release+0x10/0x10
[   47.957438]  ? lock_release+0x592/0x870
[   47.957818]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   47.958299]  ? __pfx_lock_release+0x10/0x10
[   47.958706]  ? mlock_drain_local+0x27f/0x4b0
[   47.959132]  exit_mmap+0x19e/0xb10
[   47.959471]  ? __pfx_exit_mmap+0x10/0x10
[   47.959856]  ? debug_smp_processor_id+0x20/0x30
[   47.960543]  ? trace_hardirqs_on+0x51/0x60
[   47.961042]  ? kasan_quarantine_put+0xa2/0x200
[   47.961500]  ? __khugepaged_exit+0x266/0x4c0
[   47.961934]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.962448]  __mmput+0xde/0x3a0
[   47.962778]  mmput+0x74/0x90
[   47.963076]  do_exit+0xa03/0x29f0
[   47.963414]  ? trace_hardirqs_on+0x51/0x60
[   47.963815]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.964416]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.964876]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.965333]  ? __pfx_do_exit+0x10/0x10
[   47.965710]  ? __audit_syscall_entry+0x39c/0x500
[   47.966279]  __x64_sys_exit+0x50/0x60
[   47.966814]  x64_sys_call+0x20c9/0x20d0
[   47.967253]  do_syscall_64+0x6d/0x140
[   47.967614]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.968081] RIP: 0033:0x7f2e1423ee5d
[   47.968417] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.968956] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.969616] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.970260] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.971203] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.971827] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   47.972460] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   47.973087]  </TASK>
[   47.973290] Modules linked in:
[   47.973724] ---[ end trace 0000000000000000 ]---
[   47.974275] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.974806] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.976379] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   47.977035] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   47.977722] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   47.978422] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   47.979024] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.979603] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   47.980261] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   47.980933] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.981412] CR2: 00007f2e145bee28 CR3: 000000001dabe001 CR4: 0000000000770ef0
[   47.982004] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.982687] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.983280] PKRU: 55555554
[   47.983532] note: repro[15755] exited with preempt_count 1
[   47.983988] Fixing recursive fault but reboot is needed!
[   47.984425] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15755
[   47.985316] caller is debug_smp_processor_id+0x20/0x30
[   47.985974] CPU: 0 UID: 0 PID: 15755 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   47.986994] Tainted: [D]=DIE, [W]=WARN
[   47.987388] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.988424] Call Trace:
[   47.988668]  <TASK>
[   47.988883]  dump_stack_lvl+0x121/0x150
[   47.989278]  dump_stack+0x19/0x20
[   47.989615]  check_preemption_disabled+0x168/0x180
[   47.990084]  debug_smp_processor_id+0x20/0x30
[   47.990508]  __schedule+0xa0/0x33a0
[   47.990858]  ? do_task_dead+0xa8/0x110
[   47.991249]  ? debug_smp_processor_id+0x20/0x30
[   47.991701]  ? rcu_is_watching+0x19/0xc0
[   47.992093]  ? lock_release+0x592/0x870
[   47.992482]  ? __pfx___schedule+0x10/0x10
[   47.992884]  ? debug_smp_processor_id+0x20/0x30
[   47.993323]  ? rcu_is_watching+0x19/0xc0
[   47.993711]  ? trace_irq_enable+0xe1/0x120
[   47.994117]  ? do_task_dead+0x4a/0x110
[   47.994492]  do_task_dead+0xe0/0x110
[   47.994842]  make_task_dead+0x384/0x3c0
[   47.995237]  rewind_stack_and_make_dead+0x16/0x20
[   47.995712] RIP: 0033:0x7f2e1423ee5d
[   47.996073] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   47.996641] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.997351] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   47.998007] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.998666] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   47.999329] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   48.000010] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   48.000670]  </TASK>
[   48.001074] BUG: scheduling while atomic: repro/15755/0x00000000
[   48.001669] INFO: lockdep is turned off.
[   48.002210] Modules linked in:
[   48.002523] Preemption disabled at:
[   48.002529] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   48.003378] CPU: 0 UID: 0 PID: 15755 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   48.004235] Tainted: [D]=DIE, [W]=WARN
[   48.004595] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.005623] Call Trace:
[   48.005869]  <TASK>
[   48.006099]  dump_stack_lvl+0x121/0x150
[   48.006489]  ? do_task_dead+0x28/0x110
[   48.006867]  dump_stack+0x19/0x20
[   48.007221]  __schedule_bug+0x12d/0x180
[   48.007612]  __schedule+0x23fe/0x33a0
[   48.008002]  ? do_task_dead+0xa8/0x110
[   48.008377]  ? rcu_is_watching+0x19/0xc0
[   48.008764]  ? lock_release+0x592/0x870
[   48.009157]  ? __pfx___schedule+0x10/0x10
[   48.009604]  ? debug_smp_processor_id+0x20/0x30
[   48.010071]  ? rcu_is_watching+0x19/0xc0
[   48.010474]  ? trace_irq_enable+0xe1/0x120
[   48.010888]  ? do_task_dead+0x4a/0x110
[   48.011262]  do_task_dead+0xe0/0x110
[   48.011615]  make_task_dead+0x384/0x3c0
[   48.012004]  rewind_stack_and_make_dead+0x16/0x20
[   48.012463] RIP: 0033:0x7f2e1423ee5d
[   48.012816] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   48.013385] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.014108] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   48.014779] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.015449] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   48.016118] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   48.016780] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   48.017454]  </TASK>
[   48.429099] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#73] PREEMPT SMP KASAN NOPTI
[   48.430237] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.430964] CPU: 0 UID: 0 PID: 16071 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   48.431807] Tainted: [D]=DIE, [W]=WARN
[   48.432176] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.433233] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.433800] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.435462] RSP: 0018:ffff88801131f7d8 EFLAGS: 00010202
[   48.436120] RAX: dffffc0000000000 RBX: ffffea0000ad8340 RCX: ffffffff81bc4f39
[   48.436808] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad8350
[   48.437474] RBP: ffff88801131f7f8 R08: 0000000000000000 R09: ffffed100377c00c
[   48.438134] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   48.438790] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801bbe0060
[   48.439453] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   48.440207] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.440768] CR2: 00007f2e143fca50 CR3: 000000002b788006 CR4: 0000000000770ef0
[   48.441459] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.442130] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.442794] PKRU: 55555554
[   48.443071] Call Trace:
[   48.443311]  <TASK>
[   48.443530]  ? show_regs+0x6d/0x80
[   48.443880]  ? die_addr+0x45/0xb0
[   48.444230]  ? exc_general_protection+0x1ae/0x340
[   48.444704]  ? asm_exc_general_protection+0x2b/0x30
[   48.445201]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.445705]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.446212]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.446705]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.447231]  zap_huge_pmd+0x48e/0xd40
[   48.447613]  unmap_page_range+0x1ad6/0x4360
[   48.448027]  ? __pfx_lock_release+0x10/0x10
[   48.448433]  ? do_raw_spin_trylock+0xbf/0x190
[   48.448878]  ? __kasan_check_read+0x15/0x20
[   48.449316]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.449810]  ? __pfx_unmap_page_range+0x10/0x10
[   48.450266]  unmap_single_vma+0x1ac/0x2d0
[   48.450676]  unmap_vmas+0x210/0x470
[   48.451059]  ? __pfx_unmap_vmas+0x10/0x10
[   48.451461]  ? __pfx_lock_release+0x10/0x10
[   48.451879]  ? lock_release+0x592/0x870
[   48.452255]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   48.452735]  ? __pfx_lock_release+0x10/0x10
[   48.453167]  ? mlock_drain_local+0x27f/0x4b0
[   48.453607]  exit_mmap+0x19e/0xb10
[   48.453972]  ? __pfx_exit_mmap+0x10/0x10
[   48.454370]  ? debug_smp_processor_id+0x20/0x30
[   48.454822]  ? trace_hardirqs_on+0x51/0x60
[   48.455245]  ? kasan_quarantine_put+0xa2/0x200
[   48.455700]  ? __khugepaged_exit+0x266/0x4c0
[   48.456136]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.456649]  __mmput+0xde/0x3a0
[   48.456975]  mmput+0x74/0x90
[   48.457299]  do_exit+0xa03/0x29f0
[   48.457667]  ? trace_hardirqs_on+0x51/0x60
[   48.458078]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.458677]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.459175]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.459677]  ? __pfx_do_exit+0x10/0x10
[   48.460060]  ? __audit_syscall_entry+0x39c/0x500
[   48.460516]  __x64_sys_exit+0x50/0x60
[   48.460887]  x64_sys_call+0x20c9/0x20d0
[   48.461266]  do_syscall_64+0x6d/0x140
[   48.461635]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.462127] RIP: 0033:0x7f2e1423ee5d
[   48.462472] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   48.463043] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.463761] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   48.464418] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.465078] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   48.465780] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   48.466454] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   48.467123]  </TASK>
[   48.467345] Modules linked in:
[   48.467832] ---[ end trace 0000000000000000 ]---
[   48.468286] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.468932] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.470724] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   48.471352] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   48.472048] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   48.472713] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   48.473379] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.474040] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   48.474788] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   48.475534] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.476088] CR2: 00007f2e143fca50 CR3: 000000002b788006 CR4: 0000000000770ef0
[   48.477046] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.477791] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.478560] PKRU: 55555554
[   48.478840] note: repro[16071] exited with preempt_count 1
[   48.479359] Fixing recursive fault but reboot is needed!
[   48.479848] BUG: scheduling while atomic: repro/16071/0x00000000
[   48.480403] INFO: lockdep is turned off.
[   48.480770] Modules linked in:
[   48.481075] Preemption disabled at:
[   48.481081] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   48.481926] CPU: 0 UID: 0 PID: 16071 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   48.482813] Tainted: [D]=DIE, [W]=WARN
[   48.483173] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.484200] Call Trace:
[   48.484464]  <TASK>
[   48.484683]  dump_stack_lvl+0x121/0x150
[   48.485077]  ? do_task_dead+0x28/0x110
[   48.485448]  dump_stack+0x19/0x20
[   48.485785]  __schedule_bug+0x12d/0x180
[   48.486194]  __schedule+0x23fe/0x33a0
[   48.486584]  ? do_task_dead+0xa8/0x110
[   48.486953]  ? rcu_is_watching+0x19/0xc0
[   48.487346]  ? lock_release+0x592/0x870
[   48.487726]  ? __pfx___schedule+0x10/0x10
[   48.488162]  ? debug_smp_processor_id+0x20/0x30
[   48.488612]  ? rcu_is_watching+0x19/0xc0
[   48.489007]  ? trace_irq_enable+0xe1/0x120
[   48.489414]  ? do_task_dead+0x4a/0x110
[   48.489782]  do_task_dead+0xe0/0x110
[   48.490138]  make_task_dead+0x384/0x3c0
[   48.490536]  rewind_stack_and_make_dead+0x16/0x20
[   48.491201] RIP: 0033:0x7f2e1423ee5d
[   48.491747] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   48.492330] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.493055] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   48.493717] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.494386] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   48.495043] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   48.495701] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   48.496376]  </TASK>
[   49.126336] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#74] PREEMPT SMP KASAN NOPTI
[   49.127475] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.128181] CPU: 0 UID: 0 PID: 16560 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.129407] Tainted: [D]=DIE, [W]=WARN
[   49.129777] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.130830] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.131395] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.133060] RSP: 0018:ffff8880215e77d8 EFLAGS: 00010202
[   49.133560] RAX: dffffc0000000000 RBX: ffffea00007ea800 RCX: ffffffff81bc4f39
[   49.134222] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007ea810
[   49.134886] RBP: ffff8880215e77f8 R08: 0000000000000000 R09: ffffed10022c4d8c
[   49.135536] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.136194] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011626c60
[   49.136943] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.137958] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.138523] CR2: 00007f2e145beef8 CR3: 000000002b760004 CR4: 0000000000770ef0
[   49.139178] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.139829] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.140511] PKRU: 55555554
[   49.140785] Call Trace:
[   49.141038]  <TASK>
[   49.141255]  ? show_regs+0x6d/0x80
[   49.141612]  ? die_addr+0x45/0xb0
[   49.141952]  ? exc_general_protection+0x1ae/0x340
[   49.142442]  ? asm_exc_general_protection+0x2b/0x30
[   49.142995]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.143779]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.144297]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.144810]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.145309]  zap_huge_pmd+0x48e/0xd40
[   49.145689]  unmap_page_range+0x1ad6/0x4360
[   49.146103]  ? update_stack_state+0x2d9/0x610
[   49.146568]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.147060]  ? __pfx_unmap_page_range+0x10/0x10
[   49.147528]  unmap_single_vma+0x1ac/0x2d0
[   49.147926]  unmap_vmas+0x210/0x470
[   49.148305]  ? __pfx_unmap_vmas+0x10/0x10
[   49.148710]  ? __pfx_lock_release+0x10/0x10
[   49.149130]  ? lock_release+0x592/0x870
[   49.149516]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   49.150004]  ? __pfx_lock_release+0x10/0x10
[   49.150447]  ? mlock_drain_local+0x27f/0x4b0
[   49.150876]  exit_mmap+0x19e/0xb10
[   49.151257]  ? __pfx_exit_mmap+0x10/0x10
[   49.151872]  ? debug_smp_processor_id+0x20/0x30
[   49.152390]  ? trace_hardirqs_on+0x51/0x60
[   49.152818]  ? kasan_quarantine_put+0xa2/0x200
[   49.153279]  ? __khugepaged_exit+0x266/0x4c0
[   49.153704]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.154223]  __mmput+0xde/0x3a0
[   49.154556]  mmput+0x74/0x90
[   49.154855]  do_exit+0xa03/0x29f0
[   49.155198]  ? trace_hardirqs_on+0x51/0x60
[   49.155838]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.156578]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.157079]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.157560]  ? __pfx_do_exit+0x10/0x10
[   49.157938]  ? __audit_syscall_entry+0x39c/0x500
[   49.158401]  __x64_sys_exit+0x50/0x60
[   49.158773]  x64_sys_call+0x20c9/0x20d0
[   49.159156]  do_syscall_64+0x6d/0x140
[   49.159520]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.160013] RIP: 0033:0x7f2e1423ee5d
[   49.160364] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.160935] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.161766] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.162630] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.163268] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.163912] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.164545] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.165202]  </TASK>
[   49.165419] Modules linked in:
[   49.165927] ---[ end trace 0000000000000000 ]---
[   49.166608] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.167157] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.168724] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   49.169187] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   49.169780] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   49.170690] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   49.171295] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.171898] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   49.172496] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.173140] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.173612] CR2: 00007f2e145beef8 CR3: 000000002b760004 CR4: 0000000000770ef0
[   49.174198] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.174780] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.175361] PKRU: 55555554
[   49.175603] note: repro[16560] exited with preempt_count 1
[   49.176060] Fixing recursive fault but reboot is needed!
[   49.176825] BUG: scheduling while atomic: repro/16560/0x00000000
[   49.177342] INFO: lockdep is turned off.
[   49.177655] Modules linked in:
[   49.177917] Preemption disabled at:
[   49.177922] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   49.178709] CPU: 0 UID: 0 PID: 16560 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.179448] Tainted: [D]=DIE, [W]=WARN
[   49.179750] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.180789] Call Trace:
[   49.181093]  <TASK>
[   49.181283]  dump_stack_lvl+0x121/0x150
[   49.181622]  ? do_task_dead+0x28/0x110
[   49.181941]  dump_stack+0x19/0x20
[   49.182236]  __schedule_bug+0x12d/0x180
[   49.182578]  __schedule+0x23fe/0x33a0
[   49.182902]  ? do_task_dead+0xa8/0x110
[   49.183223]  ? rcu_is_watching+0x19/0xc0
[   49.183557]  ? lock_release+0x592/0x870
[   49.183889]  ? __pfx___schedule+0x10/0x10
[   49.184222]  ? debug_smp_processor_id+0x20/0x30
[   49.184587]  ? rcu_is_watching+0x19/0xc0
[   49.184909]  ? trace_irq_enable+0xe1/0x120
[   49.185247]  ? do_task_dead+0x4a/0x110
[   49.185547]  do_task_dead+0xe0/0x110
[   49.185848]  make_task_dead+0x384/0x3c0
[   49.186195]  rewind_stack_and_make_dead+0x16/0x20
[   49.186585] RIP: 0033:0x7f2e1423ee5d
[   49.186873] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.187346] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.187933] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.188499] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.189029] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.189537] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.190045] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.190560]  </TASK>
[   49.660900] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#75] PREEMPT SMP KASAN NOPTI
[   49.662057] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.662762] CPU: 0 UID: 0 PID: 16917 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.663622] Tainted: [D]=DIE, [W]=WARN
[   49.664003] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.665050] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.665613] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.667620] RSP: 0018:ffff8880197f77d8 EFLAGS: 00010202
[   49.668136] RAX: dffffc0000000000 RBX: ffffea000054f240 RCX: ffffffff81bc4f39
[   49.668811] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000054f250
[   49.669468] RBP: ffff8880197f77f8 R08: 0000000000000000 R09: ffffed1002770308
[   49.670131] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.670785] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013b81840
[   49.671438] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.672171] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.672724] CR2: 00007f2e145e4fa8 CR3: 0000000021650002 CR4: 0000000000770ef0
[   49.673711] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.674379] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.675040] PKRU: 55555554
[   49.675306] Call Trace:
[   49.675549]  <TASK>
[   49.675766]  ? show_regs+0x6d/0x80
[   49.676128]  ? die_addr+0x45/0xb0
[   49.676471]  ? exc_general_protection+0x1ae/0x340
[   49.676945]  ? asm_exc_general_protection+0x2b/0x30
[   49.677435]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.677939]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.678449]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.678957]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.679740]  zap_huge_pmd+0x48e/0xd40
[   49.680141]  unmap_page_range+0x1ad6/0x4360
[   49.680580]  ? update_stack_state+0x2d9/0x610
[   49.681040]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.681530]  ? __pfx_unmap_page_range+0x10/0x10
[   49.681986]  unmap_single_vma+0x1ac/0x2d0
[   49.682401]  unmap_vmas+0x210/0x470
[   49.682781]  ? __pfx_unmap_vmas+0x10/0x10
[   49.683203]  ? __pfx_lock_release+0x10/0x10
[   49.683621]  ? lock_release+0x592/0x870
[   49.684007]  ? mas_next_slot+0x133a/0x1a50
[   49.684407]  ? __pfx_lock_release+0x10/0x10
[   49.684819]  ? mlock_drain_local+0x27f/0x4b0
[   49.685253]  exit_mmap+0x19e/0xb10
[   49.685607]  ? __pfx_exit_mmap+0x10/0x10
[   49.686002]  ? debug_smp_processor_id+0x20/0x30
[   49.686460]  ? trace_hardirqs_on+0x51/0x60
[   49.686881]  ? kasan_quarantine_put+0xa2/0x200
[   49.687344]  ? __khugepaged_exit+0x266/0x4c0
[   49.687765]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.688278]  __mmput+0xde/0x3a0
[   49.688607]  mmput+0x74/0x90
[   49.688913]  do_exit+0xa03/0x29f0
[   49.689322]  ? trace_hardirqs_on+0x51/0x60
[   49.689925]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.690602]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.691098]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.691570]  ? __pfx_do_exit+0x10/0x10
[   49.691944]  ? __audit_syscall_entry+0x39c/0x500
[   49.692402]  __x64_sys_exit+0x50/0x60
[   49.692772]  x64_sys_call+0x20c9/0x20d0
[   49.693148]  do_syscall_64+0x6d/0x140
[   49.693520]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.694011] RIP: 0033:0x7f2e1423ee5d
[   49.694364] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.694961] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.695692] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.696351] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.697012] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.697858] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.698677] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.699331]  </TASK>
[   49.699545] Modules linked in:
[   49.700008] ---[ end trace 0000000000000000 ]---
[   49.700433] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.700970] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.702677] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   49.703168] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   49.703889] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   49.704751] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   49.705366] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.705964] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   49.706642] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.707351] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.707942] CR2: 00007f2e145e4fa8 CR3: 0000000021650002 CR4: 0000000000770ef0
[   49.708836] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.709461] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.710089] PKRU: 55555554
[   49.710334] note: repro[16917] exited with preempt_count 1
[   49.710817] Fixing recursive fault but reboot is needed!
[   49.711286] BUG: scheduling while atomic: repro/16917/0x00000000
[   49.711793] INFO: lockdep is turned off.
[   49.712336] Modules linked in:
[   49.712758] Preemption disabled at:
[   49.712764] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   49.713561] CPU: 0 UID: 0 PID: 16917 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.714318] Tainted: [D]=DIE, [W]=WARN
[   49.714636] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.715535] Call Trace:
[   49.715747]  <TASK>
[   49.715940]  dump_stack_lvl+0x121/0x150
[   49.716409]  ? do_task_dead+0x28/0x110
[   49.716839]  dump_stack+0x19/0x20
[   49.717170]  __schedule_bug+0x12d/0x180
[   49.717516]  __schedule+0x23fe/0x33a0
[   49.717854]  ? do_task_dead+0xa8/0x110
[   49.718183]  ? rcu_is_watching+0x19/0xc0
[   49.718526]  ? lock_release+0x592/0x870
[   49.718858]  ? __pfx___schedule+0x10/0x10
[   49.719210]  ? debug_smp_processor_id+0x20/0x30
[   49.719590]  ? rcu_is_watching+0x19/0xc0
[   49.719914]  ? trace_irq_enable+0xe1/0x120
[   49.720254]  ? do_task_dead+0x4a/0x110
[   49.720559]  do_task_dead+0xe0/0x110
[   49.720854]  make_task_dead+0x384/0x3c0
[   49.721172]  rewind_stack_and_make_dead+0x16/0x20
[   49.721573] RIP: 0033:0x7f2e1423ee5d
[   49.721874] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.722354] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.722934] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.723479] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.724039] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.724731] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.725401] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.725927]  </TASK>
[   49.758392] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#76] PREEMPT SMP KASAN NOPTI
[   49.759329] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.759906] CPU: 0 UID: 0 PID: 16993 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.760644] Tainted: [D]=DIE, [W]=WARN
[   49.761069] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.762060] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.762533] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.763874] RSP: 0018:ffff8880139ff7d8 EFLAGS: 00010202
[   49.764286] RAX: dffffc0000000000 RBX: ffffea00007e1400 RCX: ffffffff81bc4f39
[   49.764827] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007e1410
[   49.765373] RBP: ffff8880139ff7f8 R08: 0000000000000000 R09: ffffed100357edec
[   49.765924] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.766463] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801abf6f60
[   49.766993] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.767579] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.768000] CR2: 00007fffdaca68b8 CR3: 0000000021718005 CR4: 0000000000770ef0
[   49.768525] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.769037] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.769539] PKRU: 55555554
[   49.769748] Call Trace:
[   49.769936]  <TASK>
[   49.770107]  ? show_regs+0x6d/0x80
[   49.770487]  ? die_addr+0x45/0xb0
[   49.770835]  ? exc_general_protection+0x1ae/0x340
[   49.771203]  ? asm_exc_general_protection+0x2b/0x30
[   49.771584]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.771966]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.772338]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.772713]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.773082]  zap_huge_pmd+0x48e/0xd40
[   49.773360]  unmap_page_range+0x1ad6/0x4360
[   49.773665]  ? update_stack_state+0x2d9/0x610
[   49.773996]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.774366]  ? __pfx_unmap_page_range+0x10/0x10
[   49.774710]  unmap_single_vma+0x1ac/0x2d0
[   49.775009]  unmap_vmas+0x210/0x470
[   49.775285]  ? __pfx_unmap_vmas+0x10/0x10
[   49.775575]  ? __pfx_lock_release+0x10/0x10
[   49.775878]  ? lock_release+0x592/0x870
[   49.776247]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   49.776788]  ? __pfx_lock_release+0x10/0x10
[   49.777165]  ? mlock_drain_local+0x27f/0x4b0
[   49.777484]  exit_mmap+0x19e/0xb10
[   49.777748]  ? __pfx_exit_mmap+0x10/0x10
[   49.778040]  ? debug_smp_processor_id+0x20/0x30
[   49.778371]  ? trace_hardirqs_on+0x51/0x60
[   49.778674]  ? kasan_quarantine_put+0xa2/0x200
[   49.778990]  ? __khugepaged_exit+0x266/0x4c0
[   49.779297]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.779664]  __mmput+0xde/0x3a0
[   49.779895]  mmput+0x74/0x90
[   49.780110]  do_exit+0xa03/0x29f0
[   49.780352]  ? trace_hardirqs_on+0x51/0x60
[   49.780640]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.781076]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.781403]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.781724]  ? __pfx_do_exit+0x10/0x10
[   49.781986]  ? __audit_syscall_entry+0x39c/0x500
[   49.782299]  __x64_sys_exit+0x50/0x60
[   49.782668]  x64_sys_call+0x20c9/0x20d0
[   49.783056]  do_syscall_64+0x6d/0x140
[   49.783353]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.783695] RIP: 0033:0x7f2e1423ee5d
[   49.783942] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.784347] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.784839] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.785291] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.785740] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.786194] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.786637] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.787082]  </TASK>
[   49.787229] Modules linked in:
[   49.787513] ---[ end trace 0000000000000000 ]---
[   49.787816] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.788185] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.789304] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   49.789663] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   49.790118] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   49.790558] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   49.790987] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.791509] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   49.791946] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.792422] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.792767] CR2: 00007fffdaca68b8 CR3: 0000000021718005 CR4: 0000000000770ef0
[   49.793190] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.793616] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.794038] PKRU: 55555554
[   49.794225] note: repro[16993] exited with preempt_count 1
[   49.794550] Fixing recursive fault but reboot is needed!
[   49.794864] BUG: scheduling while atomic: repro/16993/0x00000000
[   49.795219] INFO: lockdep is turned off.
[   49.795448] Modules linked in:
[   49.795634] Preemption disabled at:
[   49.795637] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   49.796154] CPU: 0 UID: 0 PID: 16993 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.796675] Tainted: [D]=DIE, [W]=WARN
[   49.796897] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.797530] Call Trace:
[   49.797679]  <TASK>
[   49.797813]  dump_stack_lvl+0x121/0x150
[   49.798052]  ? do_task_dead+0x28/0x110
[   49.798280]  dump_stack+0x19/0x20
[   49.798486]  __schedule_bug+0x12d/0x180
[   49.798724]  __schedule+0x23fe/0x33a0
[   49.798949]  ? do_task_dead+0xa8/0x110
[   49.799217]  ? rcu_is_watching+0x19/0xc0
[   49.799493]  ? lock_release+0x592/0x870
[   49.799732]  ? __pfx___schedule+0x10/0x10
[   49.799970]  ? debug_smp_processor_id+0x20/0x30
[   49.800236]  ? rcu_is_watching+0x19/0xc0
[   49.800468]  ? trace_irq_enable+0xe1/0x120
[   49.800709]  ? do_task_dead+0x4a/0x110
[   49.800931]  do_task_dead+0xe0/0x110
[   49.801147]  make_task_dead+0x384/0x3c0
[   49.801386]  rewind_stack_and_make_dead+0x16/0x20
[   49.801657] RIP: 0033:0x7f2e1423ee5d
[   49.801865] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.802208] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.802822] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.803453] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.804084] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.804719] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.805346] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.805992]  </TASK>
[   49.895224] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#77] PREEMPT SMP KASAN NOPTI
[   49.896173] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.896742] CPU: 0 UID: 0 PID: 17053 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.897448] Tainted: [D]=DIE, [W]=WARN
[   49.897740] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.898587] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.899048] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.900423] RSP: 0018:ffff8880214df7d8 EFLAGS: 00010202
[   49.900841] RAX: dffffc0000000000 RBX: ffffea00007e6300 RCX: ffffffff81bc4f39
[   49.901381] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007e6310
[   49.901920] RBP: ffff8880214df7f8 R08: 0000000000000000 R09: ffffed1001ff1fe0
[   49.902465] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.902981] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff8ff00
[   49.903496] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.904074] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.904507] CR2: 00007f2e145e4fa8 CR3: 000000002b66a002 CR4: 0000000000770ef0
[   49.905024] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.905532] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.906039] PKRU: 55555554
[   49.906246] Call Trace:
[   49.906437]  <TASK>
[   49.906604]  ? show_regs+0x6d/0x80
[   49.906875]  ? die_addr+0x45/0xb0
[   49.907137]  ? exc_general_protection+0x1ae/0x340
[   49.907504]  ? asm_exc_general_protection+0x2b/0x30
[   49.907886]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.908272]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.908656]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.909043]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.909427]  zap_huge_pmd+0x48e/0xd40
[   49.909719]  unmap_page_range+0x1ad6/0x4360
[   49.910030]  ? update_stack_state+0x2d9/0x610
[   49.910362]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.910725]  ? __pfx_unmap_page_range+0x10/0x10
[   49.911067]  unmap_single_vma+0x1ac/0x2d0
[   49.911370]  unmap_vmas+0x210/0x470
[   49.911634]  ? __pfx_unmap_vmas+0x10/0x10
[   49.911928]  ? __pfx_lock_release+0x10/0x10
[   49.912237]  ? lock_release+0x592/0x870
[   49.912516]  ? mas_next_slot+0x133a/0x1a50
[   49.912819]  ? __pfx_lock_release+0x10/0x10
[   49.913126]  ? mlock_drain_local+0x27f/0x4b0
[   49.913440]  exit_mmap+0x19e/0xb10
[   49.913700]  ? __pfx_exit_mmap+0x10/0x10
[   49.913993]  ? debug_smp_processor_id+0x20/0x30
[   49.914321]  ? trace_hardirqs_on+0x51/0x60
[   49.914623]  ? kasan_quarantine_put+0xa2/0x200
[   49.914949]  ? __khugepaged_exit+0x266/0x4c0
[   49.915264]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.915647]  __mmput+0xde/0x3a0
[   49.915882]  mmput+0x74/0x90
[   49.916097]  do_exit+0xa03/0x29f0
[   49.916334]  ? trace_hardirqs_on+0x51/0x60
[   49.916620]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.917051]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.917386]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.917720]  ? __pfx_do_exit+0x10/0x10
[   49.917987]  ? __audit_syscall_entry+0x39c/0x500
[   49.918310]  __x64_sys_exit+0x50/0x60
[   49.918570]  x64_sys_call+0x20c9/0x20d0
[   49.918837]  do_syscall_64+0x6d/0x140
[   49.919104]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.919450] RIP: 0033:0x7f2e1423ee5d
[   49.919689] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.920083] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.920568] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.921019] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.921469] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.921916] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.922365] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.922820]  </TASK>
[   49.922973] Modules linked in:
[   49.923314] ---[ end trace 0000000000000000 ]---
[   49.923618] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.924004] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.925144] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   49.925481] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   49.925931] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   49.926436] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   49.926882] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.927325] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   49.927760] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.928259] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.928616] CR2: 00007f2e145e4fa8 CR3: 000000002b66a002 CR4: 0000000000770ef0
[   49.929062] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.929496] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.929936] PKRU: 55555554
[   49.930143] note: repro[17053] exited with preempt_count 1
[   49.930478] Fixing recursive fault but reboot is needed!
[   49.930793] BUG: scheduling while atomic: repro/17053/0x00000000
[   49.931160] INFO: lockdep is turned off.
[   49.931395] Modules linked in:
[   49.931587] Preemption disabled at:
[   49.931591] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   49.932132] CPU: 0 UID: 0 PID: 17053 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.932676] Tainted: [D]=DIE, [W]=WARN
[   49.932903] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.933562] Call Trace:
[   49.933717]  <TASK>
[   49.933855]  dump_stack_lvl+0x121/0x150
[   49.934105]  ? do_task_dead+0x28/0x110
[   49.934338]  dump_stack+0x19/0x20
[   49.934557]  __schedule_bug+0x12d/0x180
[   49.934802]  __schedule+0x23fe/0x33a0
[   49.935045]  ? do_task_dead+0xa8/0x110
[   49.935278]  ? rcu_is_watching+0x19/0xc0
[   49.935519]  ? lock_release+0x592/0x870
[   49.935754]  ? __pfx___schedule+0x10/0x10
[   49.936002]  ? debug_smp_processor_id+0x20/0x30
[   49.936271]  ? rcu_is_watching+0x19/0xc0
[   49.936511]  ? trace_irq_enable+0xe1/0x120
[   49.936761]  ? do_task_dead+0x4a/0x110
[   49.936998]  do_task_dead+0xe0/0x110
[   49.937217]  make_task_dead+0x384/0x3c0
[   49.937454]  rewind_stack_and_make_dead+0x16/0x20
[   49.937732] RIP: 0033:0x7f2e1423ee5d
[   49.937949] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.938301] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.938730] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.939125] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.939516] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.939906] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.940308] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.940707]  </TASK>
[   49.962687] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#78] PREEMPT SMP KASAN NOPTI
[   49.963824] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.964534] CPU: 1 UID: 0 PID: 17069 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   49.965374] Tainted: [D]=DIE, [W]=WARN
[   49.965729] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.966766] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.967338] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.969090] RSP: 0018:ffff8880263777d8 EFLAGS: 00010202
[   49.969595] RAX: dffffc0000000000 RBX: ffffea000048eb40 RCX: ffffffff81bc4f39
[   49.970258] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000048eb50
[   49.970909] RBP: ffff8880263777f8 R08: 0000000000000000 R09: ffffed100373ac30
[   49.971575] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   49.972235] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b9d6180
[   49.972886] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   49.973619] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.974157] CR2: 00007f2e145f3bf0 CR3: 000000001185c006 CR4: 0000000000770ef0
[   49.974812] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.975470] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.976131] PKRU: 55555554
[   49.976396] Call Trace:
[   49.976635]  <TASK>
[   49.976850]  ? show_regs+0x6d/0x80
[   49.977201]  ? die_addr+0x45/0xb0
[   49.977541]  ? exc_general_protection+0x1ae/0x340
[   49.978006]  ? asm_exc_general_protection+0x2b/0x30
[   49.978488]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.978975]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.979478]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.979967]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.980457]  zap_huge_pmd+0x48e/0xd40
[   49.980832]  unmap_page_range+0x1ad6/0x4360
[   49.981246]  ? __pfx_lock_release+0x10/0x10
[   49.981654]  ? do_raw_spin_trylock+0xbf/0x190
[   49.982089]  ? __kasan_check_read+0x15/0x20
[   49.982503]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.982987]  ? __pfx_unmap_page_range+0x10/0x10
[   49.983441]  unmap_single_vma+0x1ac/0x2d0
[   49.983844]  unmap_vmas+0x210/0x470
[   49.984199]  ? __pfx_unmap_vmas+0x10/0x10
[   49.984594]  ? __pfx_lock_release+0x10/0x10
[   49.985000]  ? lock_release+0x592/0x870
[   49.985377]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   49.985850]  ? __pfx_lock_release+0x10/0x10
[   49.986262]  ? mlock_drain_local+0x27f/0x4b0
[   49.986688]  exit_mmap+0x19e/0xb10
[   49.987042]  ? __pfx_exit_mmap+0x10/0x10
[   49.987436]  ? debug_smp_processor_id+0x20/0x30
[   49.987874]  ? trace_hardirqs_on+0x51/0x60
[   49.988280]  ? kasan_quarantine_put+0xa2/0x200
[   49.988723]  ? __khugepaged_exit+0x266/0x4c0
[   49.989155]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.989681]  __mmput+0xde/0x3a0
[   49.990001]  mmput+0x74/0x90
[   49.990305]  do_exit+0xa03/0x29f0
[   49.990645]  ? trace_hardirqs_on+0x51/0x60
[   49.991058]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.991653]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.992129]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.992602]  ? __pfx_do_exit+0x10/0x10
[   49.992974]  ? __audit_syscall_entry+0x39c/0x500
[   49.993442]  __x64_sys_exit+0x50/0x60
[   49.993815]  x64_sys_call+0x20c9/0x20d0
[   49.994193]  do_syscall_64+0x6d/0x140
[   49.994559]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.995051] RIP: 0033:0x7f2e1423ee5d
[   49.995399] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   49.995965] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.996669] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   49.997318] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.997973] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   49.998626] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   49.999287] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   49.999960]  </TASK>
[   50.000187] Modules linked in:
[   50.000668] ---[ end trace 0000000000000000 ]---
[   50.001118] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.001664] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.003426] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   50.003930] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   50.004588] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   50.005248] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   50.005904] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.006674] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   50.007341] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.008085] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.008615] CR2: 00007f2e145f3bf0 CR3: 000000001185c006 CR4: 0000000000770ef0
[   50.009273] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.009926] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.010677] PKRU: 55555554
[   50.010951] note: repro[17069] exited with preempt_count 1
[   50.011544] Fixing recursive fault but reboot is needed!
[   50.012037] BUG: scheduling while atomic: repro/17069/0x00000000
[   50.012595] INFO: lockdep is turned off.
[   50.012961] Modules linked in:
[   50.013264] Preemption disabled at:
[   50.013270] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   50.014182] CPU: 1 UID: 0 PID: 17069 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.015041] Tainted: [D]=DIE, [W]=WARN
[   50.015402] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.016442] Call Trace:
[   50.016693]  <TASK>
[   50.016910]  dump_stack_lvl+0x121/0x150
[   50.017294]  ? do_task_dead+0x28/0x110
[   50.017664]  dump_stack+0x19/0x20
[   50.018413]  __schedule_bug+0x12d/0x180
[   50.018805]  __schedule+0x23fe/0x33a0
[   50.019182]  ? do_task_dead+0xa8/0x110
[   50.019544]  ? rcu_is_watching+0x19/0xc0
[   50.019928]  ? lock_release+0x592/0x870
[   50.020310]  ? __pfx___schedule+0x10/0x10
[   50.020704]  ? debug_smp_processor_id+0x20/0x30
[   50.021144]  ? rcu_is_watching+0x19/0xc0
[   50.021678]  ? trace_irq_enable+0xe1/0x120
[   50.022090]  ? do_task_dead+0x4a/0x110
[   50.022456]  do_task_dead+0xe0/0x110
[   50.022808]  make_task_dead+0x384/0x3c0
[   50.023194]  rewind_stack_and_make_dead+0x16/0x20
[   50.023647] RIP: 0033:0x7f2e1423ee5d
[   50.023997] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.024565] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.025283] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.025928] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.026753] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.027417] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.028155] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.028825]  </TASK>
[   50.239253] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#79] PREEMPT SMP KASAN NOPTI
[   50.240385] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.241091] CPU: 1 UID: 0 PID: 17212 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.241959] Tainted: [D]=DIE, [W]=WARN
[   50.242324] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.243415] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.243978] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.245676] RSP: 0018:ffff88801d8ef7d8 EFLAGS: 00010202
[   50.246186] RAX: dffffc0000000000 RBX: ffffea00004e44c0 RCX: ffffffff81bc4f39
[   50.246854] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004e44d0
[   50.247557] RBP: ffff88801d8ef7f8 R08: 0000000000000000 R09: ffffed1001f90514
[   50.248216] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.248874] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800fc828a0
[   50.249571] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.250327] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.250860] CR2: 00007f2e145f3bf0 CR3: 000000002b69a002 CR4: 0000000000770ef0
[   50.251540] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.252213] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.252864] PKRU: 55555554
[   50.253143] Call Trace:
[   50.253385]  <TASK>
[   50.253614]  ? show_regs+0x6d/0x80
[   50.253971]  ? die_addr+0x45/0xb0
[   50.254321]  ? exc_general_protection+0x1ae/0x340
[   50.254788]  ? asm_exc_general_protection+0x2b/0x30
[   50.255302]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.255809]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.256323]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.256922]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.257444]  zap_huge_pmd+0x48e/0xd40
[   50.257818]  unmap_page_range+0x1ad6/0x4360
[   50.258230]  ? update_stack_state+0x2d9/0x610
[   50.258670]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.259161]  ? __pfx_unmap_page_range+0x10/0x10
[   50.259611]  unmap_single_vma+0x1ac/0x2d0
[   50.260014]  unmap_vmas+0x210/0x470
[   50.260403]  ? __pfx_unmap_vmas+0x10/0x10
[   50.260803]  ? __pfx_lock_release+0x10/0x10
[   50.261228]  ? lock_release+0x592/0x870
[   50.261602]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.262078]  ? __pfx_lock_release+0x10/0x10
[   50.262492]  ? mlock_drain_local+0x27f/0x4b0
[   50.262917]  exit_mmap+0x19e/0xb10
[   50.263266]  ? __pfx_exit_mmap+0x10/0x10
[   50.263652]  ? debug_smp_processor_id+0x20/0x30
[   50.264099]  ? trace_hardirqs_on+0x51/0x60
[   50.264502]  ? kasan_quarantine_put+0xa2/0x200
[   50.264942]  ? __khugepaged_exit+0x266/0x4c0
[   50.265370]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.265889]  __mmput+0xde/0x3a0
[   50.266214]  mmput+0x74/0x90
[   50.266508]  do_exit+0xa03/0x29f0
[   50.266842]  ? trace_hardirqs_on+0x51/0x60
[   50.267248]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.267841]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.268322]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.268828]  ? __pfx_do_exit+0x10/0x10
[   50.269212]  ? __audit_syscall_entry+0x39c/0x500
[   50.269673]  __x64_sys_exit+0x50/0x60
[   50.270040]  x64_sys_call+0x20c9/0x20d0
[   50.270424]  do_syscall_64+0x6d/0x140
[   50.270791]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.271280] RIP: 0033:0x7f2e1423ee5d
[   50.271632] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.272209] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.272910] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.273570] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.274229] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.274879] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.275582] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.276253]  </TASK>
[   50.276510] Modules linked in:
[   50.276918] ---[ end trace 0000000000000000 ]---
[   50.277371] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.277916] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.279611] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   50.280107] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   50.280764] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   50.281428] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   50.282666] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.283354] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   50.284115] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.284928] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.285475] CR2: 00007f2e145f3bf0 CR3: 000000002b69a002 CR4: 0000000000770ef0
[   50.286248] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.286904] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.287648] PKRU: 55555554
[   50.287917] note: repro[17212] exited with preempt_count 1
[   50.288436] Fixing recursive fault but reboot is needed!
[   50.288929] check_preemption_disabled: 6 callbacks suppressed
[   50.288939] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17212
[   50.290253] caller is debug_smp_processor_id+0x20/0x30
[   50.290751] CPU: 1 UID: 0 PID: 17212 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.291596] Tainted: [D]=DIE, [W]=WARN
[   50.291951] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.293138] Call Trace:
[   50.293388]  <TASK>
[   50.293604]  dump_stack_lvl+0x121/0x150
[   50.293993]  dump_stack+0x19/0x20
[   50.294327]  check_preemption_disabled+0x168/0x180
[   50.294791]  debug_smp_processor_id+0x20/0x30
[   50.295218]  __schedule+0xa0/0x33a0
[   50.295568]  ? do_task_dead+0xa8/0x110
[   50.296014]  ? debug_smp_processor_id+0x20/0x30
[   50.296524]  ? rcu_is_watching+0x19/0xc0
[   50.296912]  ? lock_release+0x592/0x870
[   50.297290]  ? __pfx___schedule+0x10/0x10
[   50.297690]  ? debug_smp_processor_id+0x20/0x30
[   50.298143]  ? rcu_is_watching+0x19/0xc0
[   50.298536]  ? trace_irq_enable+0xe1/0x120
[   50.298948]  ? do_task_dead+0x4a/0x110
[   50.299325]  do_task_dead+0xe0/0x110
[   50.299693]  make_task_dead+0x384/0x3c0
[   50.300197]  rewind_stack_and_make_dead+0x16/0x20
[   50.300727] RIP: 0033:0x7f2e1423ee5d
[   50.301133] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.301797] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.302508] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.303266] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.303938] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.304596] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.305381] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.306061]  </TASK>
[   50.306363] BUG: scheduling while atomic: repro/17212/0x00000000
[   50.306937] INFO: lockdep is turned off.
[   50.307308] Modules linked in:
[   50.307610] Preemption disabled at:
[   50.307616] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   50.308453] CPU: 1 UID: 0 PID: 17212 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.309302] Tainted: [D]=DIE, [W]=WARN
[   50.309665] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.310695] Call Trace:
[   50.310933]  <TASK>
[   50.311151]  dump_stack_lvl+0x121/0x150
[   50.311533]  ? do_task_dead+0x28/0x110
[   50.311898]  dump_stack+0x19/0x20
[   50.312237]  __schedule_bug+0x12d/0x180
[   50.312615]  __schedule+0x23fe/0x33a0
[   50.312979]  ? do_task_dead+0xa8/0x110
[   50.313349]  ? rcu_is_watching+0x19/0xc0
[   50.313737]  ? lock_release+0x592/0x870
[   50.314120]  ? __pfx___schedule+0x10/0x10
[   50.314520]  ? debug_smp_processor_id+0x20/0x30
[   50.314959]  ? rcu_is_watching+0x19/0xc0
[   50.315352]  ? trace_irq_enable+0xe1/0x120
[   50.315758]  ? do_task_dead+0x4a/0x110
[   50.316134]  do_task_dead+0xe0/0x110
[   50.316486]  make_task_dead+0x384/0x3c0
[   50.316868]  rewind_stack_and_make_dead+0x16/0x20
[   50.317327] RIP: 0033:0x7f2e1423ee5d
[   50.317686] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.318259] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.318966] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.319628] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.320300] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.320952] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.321612] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.322290]  </TASK>
[   50.653860] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#80] PREEMPT SMP KASAN NOPTI
[   50.655009] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.655706] CPU: 0 UID: 0 PID: 17486 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.656562] Tainted: [D]=DIE, [W]=WARN
[   50.656911] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.657948] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.658503] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.660156] RSP: 0018:ffff8880289b77d8 EFLAGS: 00010202
[   50.660645] RAX: dffffc0000000000 RBX: ffffea00004f26c0 RCX: ffffffff81bc4f39
[   50.661296] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004f26d0
[   50.661952] RBP: ffff8880289b77f8 R08: 0000000000000000 R09: ffffed10026ebaa8
[   50.662611] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.663273] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801375d540
[   50.663926] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   50.664657] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.665200] CR2: 00007f2e145e4fa8 CR3: 000000002b6ca006 CR4: 0000000000770ef0
[   50.665857] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.666514] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.667168] PKRU: 55555554
[   50.667430] Call Trace:
[   50.667670]  <TASK>
[   50.667883]  ? show_regs+0x6d/0x80
[   50.668227]  ? die_addr+0x45/0xb0
[   50.668573]  ? exc_general_protection+0x1ae/0x340
[   50.669040]  ? asm_exc_general_protection+0x2b/0x30
[   50.669525]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.670017]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.670508]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.670999]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.671492]  zap_huge_pmd+0x48e/0xd40
[   50.671861]  unmap_page_range+0x1ad6/0x4360
[   50.672282]  ? update_stack_state+0x2d9/0x610
[   50.672720]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.673211]  ? __pfx_unmap_page_range+0x10/0x10
[   50.673664]  unmap_single_vma+0x1ac/0x2d0
[   50.674065]  unmap_vmas+0x210/0x470
[   50.674427]  ? __pfx_unmap_vmas+0x10/0x10
[   50.674827]  ? __pfx_lock_release+0x10/0x10
[   50.675236]  ? lock_release+0x592/0x870
[   50.675615]  ? mas_next_slot+0x133a/0x1a50
[   50.676022]  ? __pfx_lock_release+0x10/0x10
[   50.676432]  ? mlock_drain_local+0x27f/0x4b0
[   50.676848]  exit_mmap+0x19e/0xb10
[   50.677196]  ? __pfx_exit_mmap+0x10/0x10
[   50.677581]  ? debug_smp_processor_id+0x20/0x30
[   50.678020]  ? trace_hardirqs_on+0x51/0x60
[   50.678424]  ? kasan_quarantine_put+0xa2/0x200
[   50.678863]  ? __khugepaged_exit+0x266/0x4c0
[   50.679288]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.679799]  __mmput+0xde/0x3a0
[   50.680117]  mmput+0x74/0x90
[   50.680409]  do_exit+0xa03/0x29f0
[   50.680749]  ? trace_hardirqs_on+0x51/0x60
[   50.681155]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.681749]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.682217]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.682674]  ? __pfx_do_exit+0x10/0x10
[   50.683058]  ? __audit_syscall_entry+0x39c/0x500
[   50.683511]  __x64_sys_exit+0x50/0x60
[   50.683877]  x64_sys_call+0x20c9/0x20d0
[   50.684260]  do_syscall_64+0x6d/0x140
[   50.684628]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.685116] RIP: 0033:0x7f2e1423ee5d
[   50.685475] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.686053] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.686741] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.687391] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.688042] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.688695] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.689353] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.690024]  </TASK>
[   50.690250] Modules linked in:
[   50.690709] ---[ end trace 0000000000000000 ]---
[   50.691167] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.691719] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.693465] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   50.693963] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   50.694710] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   50.695364] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   50.696001] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.696627] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   50.697264] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   50.697981] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.698586] CR2: 00007f2e145e4fa8 CR3: 000000002b6ca006 CR4: 0000000000770ef0
[   50.699235] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.699869] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.700497] PKRU: 55555554
[   50.700758] note: repro[17486] exited with preempt_count 1
[   50.701246] Fixing recursive fault but reboot is needed!
[   50.701723] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17486
[   50.702492] caller is debug_smp_processor_id+0x20/0x30
[   50.702967] CPU: 0 UID: 0 PID: 17486 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.703742] Tainted: [D]=DIE, [W]=WARN
[   50.704074] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.705022] Call Trace:
[   50.705241]  <TASK>
[   50.705475]  dump_stack_lvl+0x121/0x150
[   50.705978]  dump_stack+0x19/0x20
[   50.706296]  check_preemption_disabled+0x168/0x180
[   50.706723]  debug_smp_processor_id+0x20/0x30
[   50.707116]  __schedule+0xa0/0x33a0
[   50.707445]  ? do_task_dead+0xa8/0x110
[   50.707782]  ? debug_smp_processor_id+0x20/0x30
[   50.708185]  ? rcu_is_watching+0x19/0xc0
[   50.708541]  ? lock_release+0x592/0x870
[   50.708890]  ? __pfx___schedule+0x10/0x10
[   50.709257]  ? debug_smp_processor_id+0x20/0x30
[   50.709659]  ? rcu_is_watching+0x19/0xc0
[   50.710014]  ? trace_irq_enable+0xe1/0x120
[   50.710385]  ? do_task_dead+0x4a/0x110
[   50.710730]  do_task_dead+0xe0/0x110
[   50.711056]  make_task_dead+0x384/0x3c0
[   50.711408]  rewind_stack_and_make_dead+0x16/0x20
[   50.711829] RIP: 0033:0x7f2e1423ee5d
[   50.712151] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.712677] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.713319] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.713925] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.714514] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.715094] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.715656] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.716237]  </TASK>
[   50.716565] BUG: scheduling while atomic: repro/17486/0x00000000
[   50.717069] INFO: lockdep is turned off.
[   50.717401] Modules linked in:
[   50.717669] Preemption disabled at:
[   50.717674] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   50.718516] CPU: 0 UID: 0 PID: 17486 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   50.719270] Tainted: [D]=DIE, [W]=WARN
[   50.719579] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.720446] Call Trace:
[   50.720645]  <TASK>
[   50.720827]  dump_stack_lvl+0x121/0x150
[   50.721138]  ? do_task_dead+0x28/0x110
[   50.721445]  dump_stack+0x19/0x20
[   50.721718]  __schedule_bug+0x12d/0x180
[   50.722036]  __schedule+0x23fe/0x33a0
[   50.722340]  ? do_task_dead+0xa8/0x110
[   50.722642]  ? rcu_is_watching+0x19/0xc0
[   50.722969]  ? lock_release+0x592/0x870
[   50.723282]  ? __pfx___schedule+0x10/0x10
[   50.723614]  ? debug_smp_processor_id+0x20/0x30
[   50.723977]  ? rcu_is_watching+0x19/0xc0
[   50.724299]  ? trace_irq_enable+0xe1/0x120
[   50.724637]  ? do_task_dead+0x4a/0x110
[   50.724936]  do_task_dead+0xe0/0x110
[   50.725227]  make_task_dead+0x384/0x3c0
[   50.725525]  rewind_stack_and_make_dead+0x16/0x20
[   50.725879] RIP: 0033:0x7f2e1423ee5d
[   50.726156] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   50.726602] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.727162] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   50.727675] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.728193] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   50.728717] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   50.729228] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   50.729752]  </TASK>
[   51.136586] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#81] PREEMPT SMP KASAN NOPTI
[   51.137716] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.138442] CPU: 1 UID: 0 PID: 17806 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.139285] Tainted: [D]=DIE, [W]=WARN
[   51.139657] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.140708] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.141269] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.142966] RSP: 0018:ffff8880289077d8 EFLAGS: 00010202
[   51.143476] RAX: dffffc0000000000 RBX: ffffea000076aec0 RCX: ffffffff81bc4f39
[   51.144135] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000076aed0
[   51.144777] RBP: ffff8880289077f8 R08: 0000000000000000 R09: ffffed1002700afc
[   51.145430] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   51.146118] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880138057e0
[   51.146776] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.147519] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.148062] CR2: 00007f2e145f3bf0 CR3: 0000000011fe6005 CR4: 0000000000770ef0
[   51.148731] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.149395] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.150069] PKRU: 55555554
[   51.150350] Call Trace:
[   51.150594]  <TASK>
[   51.150810]  ? show_regs+0x6d/0x80
[   51.151165]  ? die_addr+0x45/0xb0
[   51.151509]  ? exc_general_protection+0x1ae/0x340
[   51.152001]  ? asm_exc_general_protection+0x2b/0x30
[   51.152505]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.152998]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.153501]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.154028]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.154537]  zap_huge_pmd+0x48e/0xd40
[   51.154909]  unmap_page_range+0x1ad6/0x4360
[   51.155327]  ? __pfx_lock_release+0x10/0x10
[   51.155742]  ? do_raw_spin_trylock+0xbf/0x190
[   51.156205]  ? __kasan_check_read+0x15/0x20
[   51.156660]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.157418]  ? __pfx_unmap_page_range+0x10/0x10
[   51.157949]  unmap_single_vma+0x1ac/0x2d0
[   51.158358]  unmap_vmas+0x210/0x470
[   51.158724]  ? __pfx_unmap_vmas+0x10/0x10
[   51.159124]  ? __pfx_lock_release+0x10/0x10
[   51.159521]  ? lock_release+0x592/0x870
[   51.159895]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   51.160372]  ? __pfx_lock_release+0x10/0x10
[   51.160783]  ? mlock_drain_local+0x27f/0x4b0
[   51.161211]  exit_mmap+0x19e/0xb10
[   51.161559]  ? __pfx_exit_mmap+0x10/0x10
[   51.161948]  ? debug_smp_processor_id+0x20/0x30
[   51.162400]  ? trace_hardirqs_on+0x51/0x60
[   51.162829]  ? kasan_quarantine_put+0xa2/0x200
[   51.163269]  ? __khugepaged_exit+0x266/0x4c0
[   51.163693]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.164212]  __mmput+0xde/0x3a0
[   51.164538]  mmput+0x74/0x90
[   51.164854]  do_exit+0xa03/0x29f0
[   51.165206]  ? trace_hardirqs_on+0x51/0x60
[   51.165615]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.166225]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.166702]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.167289]  ? __pfx_do_exit+0x10/0x10
[   51.167873]  ? __audit_syscall_entry+0x39c/0x500
[   51.168347]  __x64_sys_exit+0x50/0x60
[   51.168711]  x64_sys_call+0x20c9/0x20d0
[   51.169093]  do_syscall_64+0x6d/0x140
[   51.169461]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.169949] RIP: 0033:0x7f2e1423ee5d
[   51.170303] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.170869] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.171572] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.172224] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.172920] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.173575] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.174232] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.174895]  </TASK>
[   51.175111] Modules linked in:
[   51.175601] ---[ end trace 0000000000000000 ]---
[   51.176037] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.176575] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.178282] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   51.178858] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   51.179590] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   51.180461] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   51.181071] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.181700] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   51.182392] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.183082] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.183609] CR2: 00007f2e145f3bf0 CR3: 0000000011fe6005 CR4: 0000000000770ef0
[   51.184513] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.185119] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.185722] PKRU: 55555554
[   51.185967] note: repro[17806] exited with preempt_count 1
[   51.186502] Fixing recursive fault but reboot is needed!
[   51.187065] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17806
[   51.187710] caller is debug_smp_processor_id+0x20/0x30
[   51.188277] CPU: 1 UID: 0 PID: 17806 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.189032] Tainted: [D]=DIE, [W]=WARN
[   51.189336] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.190235] Call Trace:
[   51.190447]  <TASK>
[   51.190633]  dump_stack_lvl+0x121/0x150
[   51.190979]  dump_stack+0x19/0x20
[   51.191283]  check_preemption_disabled+0x168/0x180
[   51.191696]  debug_smp_processor_id+0x20/0x30
[   51.192066]  __schedule+0xa0/0x33a0
[   51.192372]  ? do_task_dead+0xa8/0x110
[   51.192762]  ? debug_smp_processor_id+0x20/0x30
[   51.193156]  ? rcu_is_watching+0x19/0xc0
[   51.193494]  ? lock_release+0x592/0x870
[   51.193827]  ? __pfx___schedule+0x10/0x10
[   51.194181]  ? debug_smp_processor_id+0x20/0x30
[   51.194618]  ? rcu_is_watching+0x19/0xc0
[   51.195046]  ? trace_irq_enable+0xe1/0x120
[   51.195386]  ? do_task_dead+0x4a/0x110
[   51.195700]  do_task_dead+0xe0/0x110
[   51.195994]  make_task_dead+0x384/0x3c0
[   51.196304]  rewind_stack_and_make_dead+0x16/0x20
[   51.196769] RIP: 0033:0x7f2e1423ee5d
[   51.197061] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.197539] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.198181] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.199030] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.199574] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.200129] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.200669] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.201241]  </TASK>
[   51.201621] BUG: scheduling while atomic: repro/17806/0x00000000
[   51.202144] INFO: lockdep is turned off.
[   51.202436] Modules linked in:
[   51.202674] Preemption disabled at:
[   51.202679] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   51.203463] CPU: 1 UID: 0 PID: 17806 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.204128] Tainted: [D]=DIE, [W]=WARN
[   51.204429] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.205274] Call Trace:
[   51.205462]  <TASK>
[   51.205655]  dump_stack_lvl+0x121/0x150
[   51.206074]  ? do_task_dead+0x28/0x110
[   51.206347]  dump_stack+0x19/0x20
[   51.206596]  __schedule_bug+0x12d/0x180
[   51.206887]  __schedule+0x23fe/0x33a0
[   51.207163]  ? do_task_dead+0xa8/0x110
[   51.207437]  ? rcu_is_watching+0x19/0xc0
[   51.207725]  ? lock_release+0x592/0x870
[   51.208011]  ? __pfx___schedule+0x10/0x10
[   51.208311]  ? debug_smp_processor_id+0x20/0x30
[   51.208632]  ? rcu_is_watching+0x19/0xc0
[   51.208920]  ? trace_irq_enable+0xe1/0x120
[   51.209224]  ? do_task_dead+0x4a/0x110
[   51.209498]  do_task_dead+0xe0/0x110
[   51.209761]  make_task_dead+0x384/0x3c0
[   51.210056]  rewind_stack_and_make_dead+0x16/0x20
[   51.210398] RIP: 0033:0x7f2e1423ee5d
[   51.210780] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.211382] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.211901] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.212390] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.212874] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.213507] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.213978] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.214457]  </TASK>
[   51.419694] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#82] PREEMPT SMP KASAN NOPTI
[   51.420841] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.421549] CPU: 1 UID: 0 PID: 17970 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.422399] Tainted: [D]=DIE, [W]=WARN
[   51.422765] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.424123] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.424720] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.426414] RSP: 0018:ffff88800fda77d8 EFLAGS: 00010202
[   51.426917] RAX: dffffc0000000000 RBX: ffffea00006e4240 RCX: ffffffff81bc4f39
[   51.427568] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e4250
[   51.428229] RBP: ffff88800fda77f8 R08: 0000000000000000 R09: ffffed10022c475c
[   51.428883] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.429603] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011623ae0
[   51.430563] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.431340] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.431875] CR2: 00007fffdaca68b8 CR3: 0000000019414005 CR4: 0000000000770ef0
[   51.432535] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.433213] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.433868] PKRU: 55555554
[   51.434139] Call Trace:
[   51.434380]  <TASK>
[   51.434602]  ? show_regs+0x6d/0x80
[   51.434971]  ? die_addr+0x45/0xb0
[   51.435328]  ? exc_general_protection+0x1ae/0x340
[   51.435805]  ? asm_exc_general_protection+0x2b/0x30
[   51.436295]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.436790]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.437297]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.437801]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.438568]  zap_huge_pmd+0x48e/0xd40
[   51.438988]  unmap_page_range+0x1ad6/0x4360
[   51.439416]  ? update_stack_state+0x2d9/0x610
[   51.439867]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.440357]  ? __pfx_unmap_page_range+0x10/0x10
[   51.440806]  unmap_single_vma+0x1ac/0x2d0
[   51.441217]  unmap_vmas+0x210/0x470
[   51.441565]  ? __pfx_unmap_vmas+0x10/0x10
[   51.441954]  ? __pfx_lock_release+0x10/0x10
[   51.442348]  ? lock_release+0x592/0x870
[   51.442719]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   51.443190]  ? __pfx_lock_release+0x10/0x10
[   51.443601]  ? mlock_drain_local+0x27f/0x4b0
[   51.444099]  exit_mmap+0x19e/0xb10
[   51.444604]  ? __pfx_exit_mmap+0x10/0x10
[   51.445081]  ? debug_smp_processor_id+0x20/0x30
[   51.445512]  ? trace_hardirqs_on+0x51/0x60
[   51.445921]  ? kasan_quarantine_put+0xa2/0x200
[   51.446364]  ? __khugepaged_exit+0x266/0x4c0
[   51.446780]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.447277]  __mmput+0xde/0x3a0
[   51.447592]  mmput+0x74/0x90
[   51.447890]  do_exit+0xa03/0x29f0
[   51.448354]  ? trace_hardirqs_on+0x51/0x60
[   51.448951]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.449543]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.449986]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.450415]  ? __pfx_do_exit+0x10/0x10
[   51.450764]  ? __audit_syscall_entry+0x39c/0x500
[   51.451184]  __x64_sys_exit+0x50/0x60
[   51.451522]  x64_sys_call+0x20c9/0x20d0
[   51.451863]  do_syscall_64+0x6d/0x140
[   51.452202]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.452660] RIP: 0033:0x7f2e1423ee5d
[   51.452976] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.453507] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.454170] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.454821] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.455428] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.456004] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.456567] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.457143]  </TASK>
[   51.457336] Modules linked in:
[   51.457742] ---[ end trace 0000000000000000 ]---
[   51.457841] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#83] PREEMPT SMP KASAN NOPTI
[   51.458211] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.459227] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.459682] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.460378] CPU: 0 UID: 0 PID: 17974 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.461800] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   51.462617] Tainted: [D]=DIE, [W]=WARN
[   51.462624] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.462636] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.462663] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.462679] RSP: 0018:ffff88801124f7d8 EFLAGS: 00010202
[   51.462693] RAX: dffffc0000000000 RBX: ffffea0000531300 RCX: ffffffff81bc4f39
[   51.463110] 
[   51.463460] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000531310
[   51.464302] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   51.464818] RBP: ffff88801124f7f8 R08: 0000000000000000 R09: ffffed1004c2946c
[   51.466247] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   51.466662] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.467201] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   51.467356] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802614a360
[   51.467962] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.468533] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   51.469060] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   51.469710] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.470279] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.470865] CR2: 00007f2e1429bc20 CR3: 0000000021408001 CR4: 0000000000770ef0
[   51.471381] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.472027] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.472039] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.472050] PKRU: 55555554
[   51.472056] Call Trace:
[   51.472062]  <TASK>
[   51.472071]  ? show_regs+0x6d/0x80
[   51.472655] CR2: 00007fffdaca68b8 CR3: 0000000019414005 CR4: 0000000000770ef0
[   51.473306]  ? die_addr+0x45/0xb0
[   51.473725] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.474461]  ? exc_general_protection+0x1ae/0x340
[   51.474491]  ? asm_exc_general_protection+0x2b/0x30
[   51.474988] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.475524]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.476006] PKRU: 55555554
[   51.476642]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.476835] note: repro[17970] exited with preempt_count 1
[   51.477075]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.477227] Fixing recursive fault but reboot is needed!
[   51.477552]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.478034] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17970
[   51.478342]  zap_huge_pmd+0x48e/0xd40
[   51.478829] caller is debug_smp_processor_id+0x20/0x30
[   51.479263]  unmap_page_range+0x1ad6/0x4360
[   51.479595] CPU: 1 UID: 0 PID: 17970 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.480235]  ? update_stack_state+0x2d9/0x610
[   51.480582] Tainted: [D]=DIE, [W]=WARN
[   51.480843]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.481185] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.481684]  ? __pfx_unmap_page_range+0x10/0x10
[   51.482029] Call Trace:
[   51.482519]  unmap_single_vma+0x1ac/0x2d0
[   51.482864]  <TASK>
[   51.483562]  unmap_vmas+0x210/0x470
[   51.483810]  dump_stack_lvl+0x121/0x150
[   51.484286]  ? __pfx_unmap_vmas+0x10/0x10
[   51.484672]  dump_stack+0x19/0x20
[   51.485491]  ? __pfx_lock_release+0x10/0x10
[   51.485894]  check_preemption_disabled+0x168/0x180
[   51.486245]  ? lock_release+0x592/0x870
[   51.486704]  debug_smp_processor_id+0x20/0x30
[   51.487732]  ? mas_next_slot+0x133a/0x1a50
[   51.488158]  __schedule+0xa0/0x33a0
[   51.488403]  ? __pfx_lock_release+0x10/0x10
[   51.488778]  ? do_task_dead+0xa8/0x110
[   51.488992]  ? mlock_drain_local+0x27f/0x4b0
[   51.489325]  ? debug_smp_processor_id+0x20/0x30
[   51.489684]  exit_mmap+0x19e/0xb10
[   51.490047]  ? rcu_is_watching+0x19/0xc0
[   51.490361]  ? __pfx_exit_mmap+0x10/0x10
[   51.490739]  ? lock_release+0x592/0x870
[   51.491181]  ? debug_smp_processor_id+0x20/0x30
[   51.491538]  ? __pfx___schedule+0x10/0x10
[   51.491948]  ? trace_hardirqs_on+0x51/0x60
[   51.492325]  ? debug_smp_processor_id+0x20/0x30
[   51.492648]  ? kasan_quarantine_put+0xa2/0x200
[   51.493033]  ? rcu_is_watching+0x19/0xc0
[   51.493385]  ? __khugepaged_exit+0x266/0x4c0
[   51.493781]  ? trace_irq_enable+0xe1/0x120
[   51.494209]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.494536]  ? do_task_dead+0x4a/0x110
[   51.494895]  __mmput+0xde/0x3a0
[   51.495260]  do_task_dead+0xe0/0x110
[   51.495622]  mmput+0x74/0x90
[   51.495912]  make_task_dead+0x384/0x3c0
[   51.496274]  do_exit+0xa03/0x29f0
[   51.496538]  rewind_stack_and_make_dead+0x16/0x20
[   51.496963]  ? trace_hardirqs_on+0x51/0x60
[   51.497245] RIP: 0033:0x7f2e1423ee5d
[   51.497607]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.497879] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.498257]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.498592] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   51.498935]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.499132]  ORIG_RAX: 000000000000003c
[   51.499474]  ? __pfx_do_exit+0x10/0x10
[   51.499664] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.500023]  ? __audit_syscall_entry+0x39c/0x500
[   51.500230] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.500671]  __x64_sys_exit+0x50/0x60
[   51.500915] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.501259]  x64_sys_call+0x20c9/0x20d0
[   51.501636] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.502204]  do_syscall_64+0x6d/0x140
[   51.502512] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.502992]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.503287]  </TASK>
[   51.503636] RIP: 0033:0x7f2e1423ee5d
[   51.509557] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.510133] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.510834] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.511494] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.512161] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.512817] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.513475] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.514153]  </TASK>
[   51.514374] Modules linked in:
[   51.514882] ---[ end trace 0000000000000000 ]---
[   51.515420] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.516013] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.517785] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   51.518383] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   51.519678] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   51.520382] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   51.521050] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.521706] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   51.522502] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   51.523575] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.524120] CR2: 00007f2e1429bc20 CR3: 0000000021408001 CR4: 0000000000770ef0
[   51.524788] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.525452] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.526261] PKRU: 55555554
[   51.526577] note: repro[17974] exited with preempt_count 1
[   51.527395] Fixing recursive fault but reboot is needed!
[   51.527942] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17974
[   51.528676] caller is debug_smp_processor_id+0x20/0x30
[   51.529181] CPU: 0 UID: 0 PID: 17974 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.530034] Tainted: [D]=DIE, [W]=WARN
[   51.530422] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.531766] Call Trace:
[   51.532025]  <TASK>
[   51.532244]  dump_stack_lvl+0x121/0x150
[   51.532635]  dump_stack+0x19/0x20
[   51.532976]  check_preemption_disabled+0x168/0x180
[   51.533444]  debug_smp_processor_id+0x20/0x30
[   51.533872]  __schedule+0xa0/0x33a0
[   51.534234]  ? do_task_dead+0xa8/0x110
[   51.534629]  ? debug_smp_processor_id+0x20/0x30
[   51.535201]  ? rcu_is_watching+0x19/0xc0
[   51.535808]  ? lock_release+0x592/0x870
[   51.536205]  ? __pfx___schedule+0x10/0x10
[   51.536616]  ? debug_smp_processor_id+0x20/0x30
[   51.537061]  ? rcu_is_watching+0x19/0xc0
[   51.537452]  ? trace_irq_enable+0xe1/0x120
[   51.537865]  ? do_task_dead+0x4a/0x110
[   51.538252]  do_task_dead+0xe0/0x110
[   51.538620]  make_task_dead+0x384/0x3c0
[   51.539039]  rewind_stack_and_make_dead+0x16/0x20
[   51.539495] RIP: 0033:0x7f2e1423ee5d
[   51.539847] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.540421] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.541216] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.542163] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.542854] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.543516] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.544186] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.544864]  </TASK>
[   51.545210] BUG: scheduling while atomic: repro/17974/0x00000000
[   51.545780] INFO: lockdep is turned off.
[   51.546226] Modules linked in:
[   51.546539] Preemption disabled at:
[   51.546546] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   51.547463] CPU: 0 UID: 0 PID: 17974 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.547764] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#84] PREEMPT SMP KASAN NOPTI
[   51.548604] Tainted: [D]=DIE, [W]=WARN
[   51.549283] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.549624] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.550051] CPU: 1 UID: 0 PID: 18066 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.551060] Call Trace:
[   51.551552] Tainted: [D]=DIE, [W]=WARN
[   51.551920]  <TASK>
[   51.552135] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.552427]  dump_stack_lvl+0x121/0x150
[   51.553029] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.553380]  ? do_task_dead+0x28/0x110
[   51.553694] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.554044]  dump_stack+0x19/0x20
[   51.554990] RSP: 0018:ffff8880217bf7d8 EFLAGS: 00010202
[   51.555306]  __schedule_bug+0x12d/0x180
[   51.555584] RAX: dffffc0000000000 RBX: ffffea0000768f40 RCX: ffffffff81bc4f39
[   51.555944]  __schedule+0x23fe/0x33a0
[   51.556318] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000768f50
[   51.556661]  ? do_task_dead+0xa8/0x110
[   51.557032] RBP: ffff8880217bf7f8 R08: 0000000000000000 R09: ffffed1002cb209c
[   51.557387]  ? rcu_is_watching+0x19/0xc0
[   51.557756] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.558122]  ? lock_release+0x592/0x870
[   51.558513] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880165904e0
[   51.558866]  ? __pfx___schedule+0x10/0x10
[   51.559272] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.559650]  ? debug_smp_processor_id+0x20/0x30
[   51.560049] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.560468]  ? rcu_is_watching+0x19/0xc0
[   51.560760] CR2: 00007f2f8c5f7000 CR3: 000000001183c003 CR4: 0000000000770ef0
[   51.561127]  ? trace_irq_enable+0xe1/0x120
[   51.561488] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.561868]  ? do_task_dead+0x4a/0x110
[   51.562227] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.562575]  do_task_dead+0xe0/0x110
[   51.562930] PKRU: 55555554
[   51.563273]  make_task_dead+0x384/0x3c0
[   51.563412] Call Trace:
[   51.563415]  <TASK>
[   51.563777]  rewind_stack_and_make_dead+0x16/0x20
[   51.563908]  ? show_regs+0x6d/0x80
[   51.564114] RIP: 0033:0x7f2e1423ee5d
[   51.564350]  ? die_addr+0x45/0xb0
[   51.564666] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.564849]  ? exc_general_protection+0x1ae/0x340
[   51.565156] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   51.565477]  ? asm_exc_general_protection+0x2b/0x30
[   51.565899]  ORIG_RAX: 000000000000003c
[   51.566167]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.566619] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.566809]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.567276] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.567622]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.568082] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.568424]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.568895] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.569254]  zap_huge_pmd+0x48e/0xd40
[   51.569720] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.570060]  unmap_page_range+0x1ad6/0x4360
[   51.570413]  </TASK>
[   51.570738]  ? update_stack_state+0x2d9/0x610
[   51.571492]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.571924]  ? __pfx_unmap_page_range+0x10/0x10
[   51.572168]  unmap_single_vma+0x1ac/0x2d0
[   51.572378]  unmap_vmas+0x210/0x470
[   51.572559]  ? __pfx_unmap_vmas+0x10/0x10
[   51.572759]  ? __pfx_lock_release+0x10/0x10
[   51.572970]  ? lock_release+0x592/0x870
[   51.573174]  ? mas_next_slot+0x133a/0x1a50
[   51.573385]  ? __pfx_lock_release+0x10/0x10
[   51.573597]  ? mlock_drain_local+0x27f/0x4b0
[   51.573819]  exit_mmap+0x19e/0xb10
[   51.573999]  ? __pfx_exit_mmap+0x10/0x10
[   51.574242]  ? debug_smp_processor_id+0x20/0x30
[   51.574657]  ? trace_hardirqs_on+0x51/0x60
[   51.575045]  ? kasan_quarantine_put+0xa2/0x200
[   51.575463]  ? __khugepaged_exit+0x266/0x4c0
[   51.575873]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.576380]  __mmput+0xde/0x3a0
[   51.576690]  mmput+0x74/0x90
[   51.576972]  do_exit+0xa03/0x29f0
[   51.577302]  ? trace_hardirqs_on+0x51/0x60
[   51.577691]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.577776] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   51.578278]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.578296]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.578313]  ? __pfx_do_exit+0x10/0x10
[   51.580157] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   51.580364]  ? __audit_syscall_entry+0x39c/0x500
[   51.581813]  __x64_sys_exit+0x50/0x60
[   51.581994]  x64_sys_call+0x20c9/0x20d0
[   51.582181]  do_syscall_64+0x6d/0x140
[   51.582355]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.582589] RIP: 0033:0x7f2e1423ee5d
[   51.582761] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.583036] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.583372] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.583688] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.584003] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.584317] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.584631] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.584946]  </TASK>
[   51.585053] Modules linked in:
[   51.585227] ---[ end trace 0000000000000000 ]---
[   51.585441] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.585698] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.586487] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   51.586722] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   51.587029] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   51.587333] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   51.587641] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.587953] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   51.588261] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.588605] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.588858] CR2: 00007f2f8c5f7000 CR3: 000000001183c003 CR4: 0000000000770ef0
[   51.589177] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.589483] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.589794] PKRU: 55555554
[   51.589922] note: repro[18066] exited with preempt_count 1
[   51.590174] Fixing recursive fault but reboot is needed!
[   51.590404] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18066
[   51.590740] caller is debug_smp_processor_id+0x20/0x30
[   51.590980] CPU: 1 UID: 0 PID: 18066 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.591501] Tainted: [D]=DIE, [W]=WARN
[   51.591724] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.592323] Call Trace:
[   51.592439]  <TASK>
[   51.592542]  dump_stack_lvl+0x121/0x150
[   51.592725]  dump_stack+0x19/0x20
[   51.592884]  check_preemption_disabled+0x168/0x180
[   51.593103]  debug_smp_processor_id+0x20/0x30
[   51.593301]  __schedule+0xa0/0x33a0
[   51.593462]  ? do_task_dead+0xa8/0x110
[   51.593641]  ? debug_smp_processor_id+0x20/0x30
[   51.593847]  ? rcu_is_watching+0x19/0xc0
[   51.594029]  ? lock_release+0x592/0x870
[   51.594205]  ? __pfx___schedule+0x10/0x10
[   51.594399]  ? debug_smp_processor_id+0x20/0x30
[   51.594605]  ? rcu_is_watching+0x19/0xc0
[   51.594789]  ? trace_irq_enable+0xe1/0x120
[   51.594980]  ? do_task_dead+0x4a/0x110
[   51.595154]  do_task_dead+0xe0/0x110
[   51.595321]  make_task_dead+0x384/0x3c0
[   51.595505]  rewind_stack_and_make_dead+0x16/0x20
[   51.595719] RIP: 0033:0x7f2e1423ee5d
[   51.595882] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.596152] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.596476] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.596784] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.597096] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.597402] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.597709] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.598027]  </TASK>
[   51.598192] BUG: scheduling while atomic: repro/18066/0x00000000
[   51.598459] INFO: lockdep is turned off.
[   51.598632] Modules linked in:
[   51.598777] Preemption disabled at:
[   51.598780] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   51.599176] CPU: 1 UID: 0 PID: 18066 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   51.599573] Tainted: [D]=DIE, [W]=WARN
[   51.599739] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.600216] Call Trace:
[   51.600331]  <TASK>
[   51.600431]  dump_stack_lvl+0x121/0x150
[   51.600608]  ? do_task_dead+0x28/0x110
[   51.600782]  dump_stack+0x19/0x20
[   51.600939]  __schedule_bug+0x12d/0x180
[   51.601119]  __schedule+0x23fe/0x33a0
[   51.601289]  ? do_task_dead+0xa8/0x110
[   51.601462]  ? rcu_is_watching+0x19/0xc0
[   51.601644]  ? lock_release+0x592/0x870
[   51.601821]  ? __pfx___schedule+0x10/0x10
[   51.602013]  ? debug_smp_processor_id+0x20/0x30
[   51.602226]  ? rcu_is_watching+0x19/0xc0
[   51.602406]  ? trace_irq_enable+0xe1/0x120
[   51.602597]  ? do_task_dead+0x4a/0x110
[   51.602768]  do_task_dead+0xe0/0x110
[   51.602935]  make_task_dead+0x384/0x3c0
[   51.603116]  rewind_stack_and_make_dead+0x16/0x20
[   51.603333] RIP: 0033:0x7f2e1423ee5d
[   51.603500] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   51.603772] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.604106] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   51.604418] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.604727] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   51.605039] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   51.605353] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   51.605666]  </TASK>
[   52.055135] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#85] PREEMPT SMP KASAN NOPTI
[   52.056251] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.056912] CPU: 1 UID: 0 PID: 18317 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.057725] Tainted: [D]=DIE, [W]=WARN
[   52.058067] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.059050] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.059595] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.061196] RSP: 0018:ffff88802b50f7d8 EFLAGS: 00010202
[   52.061676] RAX: dffffc0000000000 RBX: ffffea000053c200 RCX: ffffffff81bc4f39
[   52.062332] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000053c210
[   52.062980] RBP: ffff88802b50f7f8 R08: 0000000000000000 R09: ffffed100373a120
[   52.063717] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.064395] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b9d0900
[   52.065064] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.065795] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.066330] CR2: 00007f2e1424e1f0 CR3: 000000001210a002 CR4: 0000000000770ef0
[   52.066993] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.067652] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.068302] PKRU: 55555554
[   52.068545] Call Trace:
[   52.068770]  <TASK>
[   52.068975]  ? show_regs+0x6d/0x80
[   52.069301]  ? die_addr+0x45/0xb0
[   52.069609]  ? exc_general_protection+0x1ae/0x340
[   52.070038]  ? asm_exc_general_protection+0x2b/0x30
[   52.070491]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.070941]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.071400]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.071855]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.072321]  zap_huge_pmd+0x48e/0xd40
[   52.072672]  unmap_page_range+0x1ad6/0x4360
[   52.073052]  ? update_stack_state+0x2d9/0x610
[   52.073466]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.073905]  ? __pfx_unmap_page_range+0x10/0x10
[   52.074331]  unmap_single_vma+0x1ac/0x2d0
[   52.074702]  unmap_vmas+0x210/0x470
[   52.075035]  ? __pfx_unmap_vmas+0x10/0x10
[   52.075396]  ? __pfx_lock_release+0x10/0x10
[   52.075773]  ? lock_release+0x592/0x870
[   52.076116]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.076552]  ? __pfx_lock_release+0x10/0x10
[   52.076932]  ? mlock_drain_local+0x27f/0x4b0
[   52.077312]  exit_mmap+0x19e/0xb10
[   52.077622]  ? __pfx_exit_mmap+0x10/0x10
[   52.077957]  ? debug_smp_processor_id+0x20/0x30
[   52.078340]  ? trace_hardirqs_on+0x51/0x60
[   52.078689]  ? kasan_quarantine_put+0xa2/0x200
[   52.079074]  ? __khugepaged_exit+0x266/0x4c0
[   52.079438]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.079896]  __mmput+0xde/0x3a0
[   52.080182]  mmput+0x74/0x90
[   52.080439]  do_exit+0xa03/0x29f0
[   52.080734]  ? trace_hardirqs_on+0x51/0x60
[   52.081086]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.081605]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.082014]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.082440]  ? __pfx_do_exit+0x10/0x10
[   52.082769]  ? __audit_syscall_entry+0x39c/0x500
[   52.083163]  __x64_sys_exit+0x50/0x60
[   52.083479]  x64_sys_call+0x20c9/0x20d0
[   52.083806]  do_syscall_64+0x6d/0x140
[   52.084132]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.084566] RIP: 0033:0x7f2e1423ee5d
[   52.084872] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.085371] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.086001] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.086575] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.087155] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.087703] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.088258] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.088809]  </TASK>
[   52.088994] Modules linked in:
[   52.089452] ---[ end trace 0000000000000000 ]---
[   52.089827] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.090358] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.091814] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   52.092238] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   52.092784] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   52.093331] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   52.093885] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.094509] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   52.095081] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.095931] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.096488] CR2: 00007f2e1424e1f0 CR3: 000000001210a002 CR4: 0000000000770ef0
[   52.097161] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.097821] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.098562] PKRU: 55555554
[   52.098836] note: repro[18317] exited with preempt_count 1
[   52.099356] Fixing recursive fault but reboot is needed!
[   52.099851] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18317
[   52.100583] caller is debug_smp_processor_id+0x20/0x30
[   52.101096] CPU: 1 UID: 0 PID: 18317 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.101955] Tainted: [D]=DIE, [W]=WARN
[   52.102319] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.103374] Call Trace:
[   52.103617]  <TASK>
[   52.103835]  dump_stack_lvl+0x121/0x150
[   52.104230]  dump_stack+0x19/0x20
[   52.104572]  check_preemption_disabled+0x168/0x180
[   52.105048]  debug_smp_processor_id+0x20/0x30
[   52.105474]  __schedule+0xa0/0x33a0
[   52.105825]  ? do_task_dead+0xa8/0x110
[   52.106194]  ? debug_smp_processor_id+0x20/0x30
[   52.106637]  ? rcu_is_watching+0x19/0xc0
[   52.107039]  ? lock_release+0x592/0x870
[   52.107431]  ? __pfx___schedule+0x10/0x10
[   52.107844]  ? debug_smp_processor_id+0x20/0x30
[   52.108294]  ? rcu_is_watching+0x19/0xc0
[   52.108677]  ? trace_irq_enable+0xe1/0x120
[   52.109083]  ? do_task_dead+0x4a/0x110
[   52.109448]  do_task_dead+0xe0/0x110
[   52.109807]  make_task_dead+0x384/0x3c0
[   52.110197]  rewind_stack_and_make_dead+0x16/0x20
[   52.110658] RIP: 0033:0x7f2e1423ee5d
[   52.111011] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.111576] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.112293] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.112960] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.113624] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.114287] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.114961] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.115655]  </TASK>
[   52.115956] BUG: scheduling while atomic: repro/18317/0x00000000
[   52.116534] INFO: lockdep is turned off.
[   52.116913] Modules linked in:
[   52.117219] Preemption disabled at:
[   52.117225] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   52.118014] CPU: 1 UID: 0 PID: 18317 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.118763] Tainted: [D]=DIE, [W]=WARN
[   52.119072] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.119973] Call Trace:
[   52.120185]  <TASK>
[   52.120373]  dump_stack_lvl+0x121/0x150
[   52.120702]  ? do_task_dead+0x28/0x110
[   52.121032]  dump_stack+0x19/0x20
[   52.121321]  __schedule_bug+0x12d/0x180
[   52.121661]  __schedule+0x23fe/0x33a0
[   52.122027]  ? do_task_dead+0xa8/0x110
[   52.122411]  ? rcu_is_watching+0x19/0xc0
[   52.122800]  ? lock_release+0x592/0x870
[   52.123201]  ? __pfx___schedule+0x10/0x10
[   52.123612]  ? debug_smp_processor_id+0x20/0x30
[   52.124057]  ? rcu_is_watching+0x19/0xc0
[   52.124445]  ? trace_irq_enable+0xe1/0x120
[   52.124860]  ? do_task_dead+0x4a/0x110
[   52.125240]  do_task_dead+0xe0/0x110
[   52.125597]  make_task_dead+0x384/0x3c0
[   52.125989]  rewind_stack_and_make_dead+0x16/0x20
[   52.126443] RIP: 0033:0x7f2e1423ee5d
[   52.126801] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.127366] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.127923] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.128379] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.128829] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.129286] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.129737] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.130200]  </TASK>
[   52.338583] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#86] PREEMPT SMP KASAN NOPTI
[   52.339783] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.340471] CPU: 0 UID: 0 PID: 18482 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.341316] Tainted: [D]=DIE, [W]=WARN
[   52.341670] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.342677] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.343231] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.345185] RSP: 0018:ffff88800fe777d8 EFLAGS: 00010202
[   52.345812] RAX: dffffc0000000000 RBX: ffffea0000ad3700 RCX: ffffffff81bc4f39
[   52.346649] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad3710
[   52.347487] RBP: ffff88800fe777f8 R08: 0000000000000000 R09: ffffed10023df798
[   52.348328] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   52.349170] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011efbcc0
[   52.350009] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.350947] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.351637] CR2: 00007f2e143fca50 CR3: 000000001f940006 CR4: 0000000000770ef0
[   52.352484] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.353326] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.354166] PKRU: 55555554
[   52.354500] Call Trace:
[   52.354804]  <TASK>
[   52.355081]  ? show_regs+0x6d/0x80
[   52.355515]  ? die_addr+0x45/0xb0
[   52.355938]  ? exc_general_protection+0x1ae/0x340
[   52.356525]  ? asm_exc_general_protection+0x2b/0x30
[   52.357134]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.357751]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.358378]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.359011]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.359637]  zap_huge_pmd+0x48e/0xd40
[   52.360104]  unmap_page_range+0x1ad6/0x4360
[   52.360618]  ? __pfx_lock_release+0x10/0x10
[   52.361134]  ? do_raw_spin_trylock+0xbf/0x190
[   52.361674]  ? __kasan_check_read+0x15/0x20
[   52.362200]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.362811]  ? __pfx_unmap_page_range+0x10/0x10
[   52.363380]  unmap_single_vma+0x1ac/0x2d0
[   52.363879]  unmap_vmas+0x210/0x470
[   52.364326]  ? __pfx_unmap_vmas+0x10/0x10
[   52.364819]  ? __pfx_lock_release+0x10/0x10
[   52.365335]  ? lock_release+0x592/0x870
[   52.365810]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.366410]  ? __pfx_lock_release+0x10/0x10
[   52.366927]  ? mlock_drain_local+0x27f/0x4b0
[   52.367462]  exit_mmap+0x19e/0xb10
[   52.367896]  ? __pfx_exit_mmap+0x10/0x10
[   52.368386]  ? debug_smp_processor_id+0x20/0x30
[   52.368941]  ? trace_hardirqs_on+0x51/0x60
[   52.369452]  ? kasan_quarantine_put+0xa2/0x200
[   52.370011]  ? __khugepaged_exit+0x266/0x4c0
[   52.370552]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.371204]  __mmput+0xde/0x3a0
[   52.371604]  mmput+0x74/0x90
[   52.371971]  do_exit+0xa03/0x29f0
[   52.372399]  ? trace_hardirqs_on+0x51/0x60
[   52.372905]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.373663]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.374256]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.374845]  ? __pfx_do_exit+0x10/0x10
[   52.375318]  ? __audit_syscall_entry+0x39c/0x500
[   52.375886]  __x64_sys_exit+0x50/0x60
[   52.376349]  x64_sys_call+0x20c9/0x20d0
[   52.376821]  do_syscall_64+0x6d/0x140
[   52.377283]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.377896] RIP: 0033:0x7f2e1423ee5d
[   52.378340] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.379065] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.379951] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.380787] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.381621] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.382454] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.383292] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.384144]  </TASK>
[   52.384421] Modules linked in:
[   52.384854] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#87] PREEMPT SMP KASAN NOPTI
[   52.385048] ---[ end trace 0000000000000000 ]---
[   52.385974] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.386634] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.387262] CPU: 1 UID: 0 PID: 18486 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.387934] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.388756] Tainted: [D]=DIE, [W]=WARN
[   52.391004] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   52.391267] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.391994] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   52.392889] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.393723] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   52.394250] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.394270] RSP: 0018:ffff88801d8ef7d8 EFLAGS: 00010202
[   52.395106] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   52.396744] 
[   52.397365] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.398008] RAX: dffffc0000000000 RBX: ffffea00004ac480 RCX: ffffffff81bc4f39
[   52.398223] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   52.398840] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004ac490
[   52.399675] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.400323] RBP: ffff88801d8ef7f8 R08: 0000000000000000 R09: ffffed100256283c
[   52.401162] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.401874] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.402789] CR2: 00007f2e143fca50 CR3: 000000001f940006 CR4: 0000000000770ef0
[   52.403230] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012b141e0
[   52.404073] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.404707] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.405554] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.406209] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.406227] CR2: 0000000000404200 CR3: 000000000fc0c003 CR4: 0000000000770ef0
[   52.407168] PKRU: 55555554
[   52.407805] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.408483] note: repro[18482] exited with preempt_count 1
[   52.409124] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.409455] Fixing recursive fault but reboot is needed!
[   52.410091] PKRU: 55555554
[   52.410100] Call Trace:
[   52.410105]  <TASK>
[   52.410114]  ? show_regs+0x6d/0x80
[   52.410751] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18482
[   52.411392]  ? die_addr+0x45/0xb0
[   52.412017] caller is debug_smp_processor_id+0x20/0x30
[   52.412277]  ? exc_general_protection+0x1ae/0x340
[   52.412578] CPU: 0 UID: 0 PID: 18482 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.412787]  ? asm_exc_general_protection+0x2b/0x30
[   52.413195] Tainted: [D]=DIE, [W]=WARN
[   52.413889]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.414286] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.414748]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.415305] Call Trace:
[   52.416128]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.416701]  <TASK>
[   52.417051]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.417651]  dump_stack_lvl+0x121/0x150
[   52.418664]  zap_huge_pmd+0x48e/0xd40
[   52.419275]  dump_stack+0x19/0x20
[   52.419513]  unmap_page_range+0x1ad6/0x4360
[   52.420117]  check_preemption_disabled+0x168/0x180
[   52.420326]  ? update_stack_state+0x2d9/0x610
[   52.420930]  debug_smp_processor_id+0x20/0x30
[   52.421297]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.421723]  __schedule+0xa0/0x33a0
[   52.422039]  ? __pfx_unmap_page_range+0x10/0x10
[   52.422528]  ? do_task_dead+0xa8/0x110
[   52.422974]  unmap_single_vma+0x1ac/0x2d0
[   52.423488]  ? debug_smp_processor_id+0x20/0x30
[   52.423891]  unmap_vmas+0x210/0x470
[   52.424480]  ? rcu_is_watching+0x19/0xc0
[   52.424808]  ? __pfx_unmap_vmas+0x10/0x10
[   52.425343]  ? lock_release+0x592/0x870
[   52.425685]  ? __pfx_lock_release+0x10/0x10
[   52.426167]  ? __pfx___schedule+0x10/0x10
[   52.426578]  ? lock_release+0x592/0x870
[   52.427007]  ? debug_smp_processor_id+0x20/0x30
[   52.427362]  ? mas_next_slot+0x133a/0x1a50
[   52.427837]  ? rcu_is_watching+0x19/0xc0
[   52.428197]  ? __pfx_lock_release+0x10/0x10
[   52.428691]  ? trace_irq_enable+0xe1/0x120
[   52.429069]  ? mlock_drain_local+0x27f/0x4b0
[   52.429521]  ? do_task_dead+0x4a/0x110
[   52.429936]  exit_mmap+0x19e/0xb10
[   52.430417]  do_task_dead+0xe0/0x110
[   52.430777]  ? __pfx_exit_mmap+0x10/0x10
[   52.431271]  make_task_dead+0x384/0x3c0
[   52.431644]  ? debug_smp_processor_id+0x20/0x30
[   52.432113]  rewind_stack_and_make_dead+0x16/0x20
[   52.432465]  ? trace_hardirqs_on+0x51/0x60
[   52.432775] RIP: 0033:0x7f2e1423ee5d
[   52.433122]  ? kasan_quarantine_put+0xa2/0x200
[   52.433483] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.433853]  ? __khugepaged_exit+0x266/0x4c0
[   52.434268] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   52.434701]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.435074]  ORIG_RAX: 000000000000003c
[   52.435411]  __mmput+0xde/0x3a0
[   52.435815] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.436481]  mmput+0x74/0x90
[   52.436866] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.437361]  do_exit+0xa03/0x29f0
[   52.437842] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.438203]  ? trace_hardirqs_on+0x51/0x60
[   52.438498] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.439151]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.439422] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.440070]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.440393]  </TASK>
[   52.441026]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.444380]  ? __pfx_do_exit+0x10/0x10
[   52.444763]  ? __audit_syscall_entry+0x39c/0x500
[   52.445222]  __x64_sys_exit+0x50/0x60
[   52.445591]  x64_sys_call+0x20c9/0x20d0
[   52.445980]  do_syscall_64+0x6d/0x140
[   52.446355]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.446851] RIP: 0033:0x7f2e1423ee5d
[   52.447210] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.447772] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.448476] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.449135] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.449798] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.450460] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.451125] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.451804]  </TASK>
[   52.452031] Modules linked in:
[   52.452344] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#88] PREEMPT SMP KASAN NOPTI
[   52.452583] ---[ end trace 0000000000000000 ]---
[   52.453464] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.453911] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.454587] CPU: 0 UID: 0 PID: 18494 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.454614] Tainted: [D]=DIE, [W]=WARN
[   52.454620] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.454631] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.454659] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.454675] RSP: 0018:ffff8880204577d8 EFLAGS: 00010202
[   52.454690] RAX: dffffc0000000000 RBX: ffffea0000ad9b80 RCX: ffffffff81bc4f39
[   52.454702] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad9b90
[   52.454713] RBP: ffff8880204577f8 R08: 0000000000000000 R09: ffffed100357ed08
[   52.455235] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.456058] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.456410] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   52.457414] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801abf6840
[   52.457428] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.457443] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.457455] CR2: 00007fffdaca68b8 CR3: 00000000147fc002 CR4: 0000000000770ef0
[   52.457468] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.457478] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.457489] PKRU: 55555554
[   52.457495] Call Trace:
[   52.457501]  <TASK>
[   52.458033] 
[   52.459657]  ? show_regs+0x6d/0x80
[   52.459689]  ? die_addr+0x45/0xb0
[   52.459714]  ? exc_general_protection+0x1ae/0x340
[   52.459743]  ? asm_exc_general_protection+0x2b/0x30
[   52.460228] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   52.460864]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.461614] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   52.462159]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.462187]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.462210]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.463892] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   52.464540]  zap_huge_pmd+0x48e/0xd40
[   52.465021] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.465661]  unmap_page_range+0x1ad6/0x4360
[   52.466546] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   52.466901]  ? update_stack_state+0x2d9/0x610
[   52.467561] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.468202]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.468828] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.469096]  ? __pfx_unmap_page_range+0x10/0x10
[   52.469334] CR2: 0000000000404200 CR3: 000000000fc0c003 CR4: 0000000000770ef0
[   52.469546]  unmap_single_vma+0x1ac/0x2d0
[   52.469698] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.470021]  unmap_vmas+0x210/0x470
[   52.470431] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.470781]  ? __pfx_unmap_vmas+0x10/0x10
[   52.471234] PKRU: 55555554
[   52.471867]  ? __pfx_lock_release+0x10/0x10
[   52.471891]  ? lock_release+0x592/0x870
[   52.471910]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.471936]  ? __pfx_lock_release+0x10/0x10
[   52.472424] note: repro[18486] exited with preempt_count 1
[   52.473076]  ? mlock_drain_local+0x27f/0x4b0
[   52.473545] Fixing recursive fault but reboot is needed!
[   52.474020]  exit_mmap+0x19e/0xb10
[   52.474555] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18486
[   52.475123]  ? __pfx_exit_mmap+0x10/0x10
[   52.475471] caller is debug_smp_processor_id+0x20/0x30
[   52.476102]  ? debug_smp_processor_id+0x20/0x30
[   52.476489] CPU: 1 UID: 0 PID: 18486 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.477135]  ? trace_hardirqs_on+0x51/0x60
[   52.477557] Tainted: [D]=DIE, [W]=WARN
[   52.478283]  ? kasan_quarantine_put+0xa2/0x200
[   52.478748] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.479278]  ? __khugepaged_exit+0x266/0x4c0
[   52.479688] Call Trace:
[   52.480346]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.480718]  <TASK>
[   52.481365]  __mmput+0xde/0x3a0
[   52.481690]  dump_stack_lvl+0x121/0x150
[   52.482333]  mmput+0x74/0x90
[   52.482703]  dump_stack+0x19/0x20
[   52.482962]  do_exit+0xa03/0x29f0
[   52.483352]  check_preemption_disabled+0x168/0x180
[   52.483718]  ? trace_hardirqs_on+0x51/0x60
[   52.484176]  debug_smp_processor_id+0x20/0x30
[   52.484555]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.485066]  __schedule+0xa0/0x33a0
[   52.485452]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.485940]  ? do_task_dead+0xa8/0x110
[   52.486264]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.486975]  ? debug_smp_processor_id+0x20/0x30
[   52.487347]  ? __pfx_do_exit+0x10/0x10
[   52.487821]  ? rcu_is_watching+0x19/0xc0
[   52.488250]  ? __audit_syscall_entry+0x39c/0x500
[   52.489084]  ? lock_release+0x592/0x870
[   52.489460]  __x64_sys_exit+0x50/0x60
[   52.489807]  ? __pfx___schedule+0x10/0x10
[   52.490218]  x64_sys_call+0x20c9/0x20d0
[   52.491253]  ? debug_smp_processor_id+0x20/0x30
[   52.491642]  do_syscall_64+0x6d/0x140
[   52.491879]  ? rcu_is_watching+0x19/0xc0
[   52.492361]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.492572]  ? trace_irq_enable+0xe1/0x120
[   52.492869] RIP: 0033:0x7f2e1423ee5d
[   52.493233]  ? do_task_dead+0x4a/0x110
[   52.493506] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.493818]  do_task_dead+0xe0/0x110
[   52.494135] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   52.494585]  make_task_dead+0x384/0x3c0
[   52.494953]  ORIG_RAX: 000000000000003c
[   52.495361]  rewind_stack_and_make_dead+0x16/0x20
[   52.495917] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.496254] RIP: 0033:0x7f2e1423ee5d
[   52.496693] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.497056] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.497510] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.497927] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   52.498271] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.498640]  ORIG_RAX: 000000000000003c
[   52.499062] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.499415] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.499765]  </TASK>
[   52.500129] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.500480] Modules linked in:
[   52.500900] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.501235] 
[   52.501613] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.502274] ---[ end trace 0000000000000000 ]---
[   52.502449] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.502792] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.503163]  </TASK>
[   52.503703] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.504160] BUG: scheduling while atomic: repro/18486/0x00000000
[   52.504518] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   52.504894] INFO: lockdep is turned off.
[   52.505251] 
[   52.505690] Modules linked in:
[   52.506344] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   52.506685] Preemption disabled at:
[   52.507334] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   52.507903] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   52.508550] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   52.509038] CPU: 1 UID: 0 PID: 18486 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.509677] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.510057] Tainted: [D]=DIE, [W]=WARN
[   52.510065] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.510075] Call Trace:
[   52.510725] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   52.511381]  <TASK>
[   52.511591] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.512255]  dump_stack_lvl+0x121/0x150
[   52.512542] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.513204]  ? do_task_dead+0x28/0x110
[   52.513355] CR2: 00007fffdaca68b8 CR3: 00000000147fc002 CR4: 0000000000770ef0
[   52.514008]  dump_stack+0x19/0x20
[   52.514450] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.515092]  __schedule_bug+0x12d/0x180
[   52.515616] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.515836]  __schedule+0x23fe/0x33a0
[   52.517451] PKRU: 55555554
[   52.518003]  ? do_task_dead+0xa8/0x110
[   52.518498] note: repro[18494] exited with preempt_count 1
[   52.518842]  ? rcu_is_watching+0x19/0xc0
[   52.519004] Fixing recursive fault but reboot is needed!
[   52.519297]  ? lock_release+0x592/0x870
[   52.519933] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18494
[   52.520268]  ? __pfx___schedule+0x10/0x10
[   52.520901] caller is debug_smp_processor_id+0x20/0x30
[   52.521404]  ? debug_smp_processor_id+0x20/0x30
[   52.535178]  ? rcu_is_watching+0x19/0xc0
[   52.535579]  ? trace_irq_enable+0xe1/0x120
[   52.535998]  ? do_task_dead+0x4a/0x110
[   52.536359]  do_task_dead+0xe0/0x110
[   52.536711]  make_task_dead+0x384/0x3c0
[   52.537106]  rewind_stack_and_make_dead+0x16/0x20
[   52.537564] RIP: 0033:0x7f2e1423ee5d
[   52.537916] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.538490] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.539192] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.539845] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.540505] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.541158] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.541806] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.542471]  </TASK>
[   52.542696] CPU: 0 UID: 0 PID: 18494 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.543553] Tainted: [D]=DIE, [W]=WARN
[   52.543904] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.544919] Call Trace:
[   52.545178]  <TASK>
[   52.545393]  dump_stack_lvl+0x121/0x150
[   52.545772]  dump_stack+0x19/0x20
[   52.546102]  check_preemption_disabled+0x168/0x180
[   52.546552]  debug_smp_processor_id+0x20/0x30
[   52.546966]  __schedule+0xa0/0x33a0
[   52.547326]  ? do_task_dead+0xa8/0x110
[   52.547683]  ? debug_smp_processor_id+0x20/0x30
[   52.548118]  ? rcu_is_watching+0x19/0xc0
[   52.548506]  ? lock_release+0x592/0x870
[   52.548880]  ? __pfx___schedule+0x10/0x10
[   52.549287]  ? debug_smp_processor_id+0x20/0x30
[   52.549719]  ? rcu_is_watching+0x19/0xc0
[   52.550123]  ? trace_irq_enable+0xe1/0x120
[   52.550523]  ? do_task_dead+0x4a/0x110
[   52.550888]  do_task_dead+0xe0/0x110
[   52.551238]  make_task_dead+0x384/0x3c0
[   52.551623]  rewind_stack_and_make_dead+0x16/0x20
[   52.552076] RIP: 0033:0x7f2e1423ee5d
[   52.552423] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.552989] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.553692] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.554348] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.554997] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.555643] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.556291] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.556952]  </TASK>
[   52.557228] BUG: scheduling while atomic: repro/18494/0x00000000
[   52.557785] INFO: lockdep is turned off.
[   52.558177] Modules linked in:
[   52.558475] Preemption disabled at:
[   52.558481] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   52.559310] CPU: 0 UID: 0 PID: 18494 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.560153] Tainted: [D]=DIE, [W]=WARN
[   52.560505] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.561521] Call Trace:
[   52.561758]  <TASK>
[   52.561971]  dump_stack_lvl+0x121/0x150
[   52.562349]  ? do_task_dead+0x28/0x110
[   52.562714]  dump_stack+0x19/0x20
[   52.563056]  __schedule_bug+0x12d/0x180
[   52.563438]  __schedule+0x23fe/0x33a0
[   52.563794]  ? do_task_dead+0xa8/0x110
[   52.564163]  ? rcu_is_watching+0x19/0xc0
[   52.564553]  ? lock_release+0x592/0x870
[   52.564926]  ? __pfx___schedule+0x10/0x10
[   52.565335]  ? debug_smp_processor_id+0x20/0x30
[   52.565764]  ? rcu_is_watching+0x19/0xc0
[   52.566154]  ? trace_irq_enable+0xe1/0x120
[   52.566553]  ? do_task_dead+0x4a/0x110
[   52.566919]  do_task_dead+0xe0/0x110
[   52.567269]  make_task_dead+0x384/0x3c0
[   52.567649]  rewind_stack_and_make_dead+0x16/0x20
[   52.568103] RIP: 0033:0x7f2e1423ee5d
[   52.568451] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.569019] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.569720] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.570363] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.571016] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.571667] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.572310] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.572965]  </TASK>
[   52.582351] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#89] PREEMPT SMP KASAN NOPTI
[   52.583473] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.584187] CPU: 1 UID: 0 PID: 18601 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.585070] Tainted: [D]=DIE, [W]=WARN
[   52.585422] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.586469] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.587037] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.588719] RSP: 0018:ffff8880262477d8 EFLAGS: 00010202
[   52.589230] RAX: dffffc0000000000 RBX: ffffea0000768e00 RCX: ffffffff81bc4f39
[   52.589886] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000768e10
[   52.590541] RBP: ffff8880262477f8 R08: 0000000000000000 R09: ffffed100371ad20
[   52.591194] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.591852] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b8d6900
[   52.592512] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.593249] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.593781] CR2: 00007f2e145e0910 CR3: 000000002b470005 CR4: 0000000000770ef0
[   52.594442] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.595098] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.595757] PKRU: 55555554
[   52.596029] Call Trace:
[   52.596275]  <TASK>
[   52.596499]  ? show_regs+0x6d/0x80
[   52.596851]  ? die_addr+0x45/0xb0
[   52.597200]  ? exc_general_protection+0x1ae/0x340
[   52.597669]  ? asm_exc_general_protection+0x2b/0x30
[   52.598163]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.599045]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.599882]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.600390]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.600883]  zap_huge_pmd+0x48e/0xd40
[   52.601257]  unmap_page_range+0x1ad6/0x4360
[   52.601663]  ? update_stack_state+0x2d9/0x610
[   52.602106]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.602588]  ? __pfx_unmap_page_range+0x10/0x10
[   52.603043]  unmap_single_vma+0x1ac/0x2d0
[   52.603446]  unmap_vmas+0x210/0x470
[   52.603807]  ? __pfx_unmap_vmas+0x10/0x10
[   52.604202]  ? __pfx_lock_release+0x10/0x10
[   52.604615]  ? lock_release+0x592/0x870
[   52.604990]  ? mas_next_slot+0x133a/0x1a50
[   52.605392]  ? __pfx_lock_release+0x10/0x10
[   52.605806]  ? mlock_drain_local+0x27f/0x4b0
[   52.606243]  exit_mmap+0x19e/0xb10
[   52.606596]  ? __pfx_exit_mmap+0x10/0x10
[   52.606977]  ? debug_smp_processor_id+0x20/0x30
[   52.607430]  ? trace_hardirqs_on+0x51/0x60
[   52.608167]  ? kasan_quarantine_put+0xa2/0x200
[   52.608678]  ? __khugepaged_exit+0x266/0x4c0
[   52.609113]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.609619]  __mmput+0xde/0x3a0
[   52.609936]  mmput+0x74/0x90
[   52.610377]  do_exit+0xa03/0x29f0
[   52.610711]  ? trace_hardirqs_on+0x51/0x60
[   52.611113]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.611688]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.612160]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.612748]  ? __pfx_do_exit+0x10/0x10
[   52.613127]  ? __audit_syscall_entry+0x39c/0x500
[   52.613568]  __x64_sys_exit+0x50/0x60
[   52.613923]  x64_sys_call+0x20c9/0x20d0
[   52.614295]  do_syscall_64+0x6d/0x140
[   52.614665]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.615316] RIP: 0033:0x7f2e1423ee5d
[   52.615660] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.616216] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.616942] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.617629] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.618274] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.619013] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.619650] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.620309]  </TASK>
[   52.620673] Modules linked in:
[   52.621061] ---[ end trace 0000000000000000 ]---
[   52.621493] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.622043] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.623847] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   52.624338] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   52.625106] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   52.625750] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   52.626529] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.627175] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   52.627939] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.628666] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.629193] CR2: 00007f2e145e0910 CR3: 000000002b470005 CR4: 0000000000770ef0
[   52.629914] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.630580] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.631226] PKRU: 55555554
[   52.631488] note: repro[18601] exited with preempt_count 1
[   52.632096] Fixing recursive fault but reboot is needed!
[   52.632574] BUG: scheduling while atomic: repro/18601/0x00000000
[   52.633121] INFO: lockdep is turned off.
[   52.633520] Modules linked in:
[   52.633884] Preemption disabled at:
[   52.633890] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   52.634747] CPU: 1 UID: 0 PID: 18601 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   52.635705] Tainted: [D]=DIE, [W]=WARN
[   52.636071] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.637171] Call Trace:
[   52.637412]  <TASK>
[   52.637628]  dump_stack_lvl+0x121/0x150
[   52.638134]  ? do_task_dead+0x28/0x110
[   52.638503]  dump_stack+0x19/0x20
[   52.638843]  __schedule_bug+0x12d/0x180
[   52.639236]  __schedule+0x23fe/0x33a0
[   52.639624]  ? do_task_dead+0xa8/0x110
[   52.640032]  ? rcu_is_watching+0x19/0xc0
[   52.640420]  ? lock_release+0x592/0x870
[   52.640799]  ? __pfx___schedule+0x10/0x10
[   52.641195]  ? debug_smp_processor_id+0x20/0x30
[   52.641729]  ? rcu_is_watching+0x19/0xc0
[   52.642115]  ? trace_irq_enable+0xe1/0x120
[   52.642511]  ? do_task_dead+0x4a/0x110
[   52.642869]  do_task_dead+0xe0/0x110
[   52.643242]  make_task_dead+0x384/0x3c0
[   52.643695]  rewind_stack_and_make_dead+0x16/0x20
[   52.644145] RIP: 0033:0x7f2e1423ee5d
[   52.644485] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   52.645147] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.645838] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   52.646552] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.647195] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   52.647833] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   52.648583] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   52.649241]  </TASK>
[   53.011290] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#90] PREEMPT SMP KASAN NOPTI
[   53.012731] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.013726] CPU: 0 UID: 0 PID: 18773 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.014813] Tainted: [D]=DIE, [W]=WARN
[   53.015270] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.016591] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.017445] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.019776] RSP: 0018:ffff8880125af7d8 EFLAGS: 00010202
[   53.020408] RAX: dffffc0000000000 RBX: ffffea0000494a00 RCX: ffffffff81bc4f39
[   53.021251] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000494a10
[   53.022152] RBP: ffff8880125af7f8 R08: 0000000000000000 R09: ffffed100373a180
[   53.022994] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.023831] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b9d0c00
[   53.024669] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.025799] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.026486] CR2: 00007f2e145e0fe8 CR3: 000000002b6c6004 CR4: 0000000000770ef0
[   53.027331] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.028174] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.029017] PKRU: 55555554
[   53.029421] Call Trace:
[   53.029789]  <TASK>
[   53.030069]  ? show_regs+0x6d/0x80
[   53.030508]  ? die_addr+0x45/0xb0
[   53.030935]  ? exc_general_protection+0x1ae/0x340
[   53.031529]  ? asm_exc_general_protection+0x2b/0x30
[   53.032141]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.032764]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.033393]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.034121]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.034747]  zap_huge_pmd+0x48e/0xd40
[   53.035226]  unmap_page_range+0x1ad6/0x4360
[   53.035746]  ? update_stack_state+0x2d9/0x610
[   53.036308]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.036924]  ? __pfx_unmap_page_range+0x10/0x10
[   53.037498]  unmap_single_vma+0x1ac/0x2d0
[   53.038103]  unmap_vmas+0x210/0x470
[   53.038553]  ? __pfx_unmap_vmas+0x10/0x10
[   53.039056]  ? __pfx_lock_release+0x10/0x10
[   53.039573]  ? lock_release+0x592/0x870
[   53.040055]  ? mas_next_slot+0x133a/0x1a50
[   53.040560]  ? __pfx_lock_release+0x10/0x10
[   53.041083]  ? mlock_drain_local+0x27f/0x4b0
[   53.041606]  exit_mmap+0x19e/0xb10
[   53.042070]  ? __pfx_exit_mmap+0x10/0x10
[   53.042554]  ? debug_smp_processor_id+0x20/0x30
[   53.043087]  ? trace_hardirqs_on+0x51/0x60
[   53.043572]  ? kasan_quarantine_put+0xa2/0x200
[   53.044102]  ? __khugepaged_exit+0x266/0x4c0
[   53.044606]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.045227]  __mmput+0xde/0x3a0
[   53.045615]  mmput+0x74/0x90
[   53.045976]  do_exit+0xa03/0x29f0
[   53.046440]  ? trace_hardirqs_on+0x51/0x60
[   53.046926]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.047652]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.048219]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.048781]  ? __pfx_do_exit+0x10/0x10
[   53.049230]  ? __audit_syscall_entry+0x39c/0x500
[   53.049771]  __x64_sys_exit+0x50/0x60
[   53.050198]  x64_sys_call+0x20c9/0x20d0
[   53.050631]  do_syscall_64+0x6d/0x140
[   53.051354]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.051970] RIP: 0033:0x7f2e1423ee5d
[   53.052380] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.053042] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.053844] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.054605] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.055749] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.056511] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.057272] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.058033]  </TASK>
[   53.058274] Modules linked in:
[   53.058767] ---[ end trace 0000000000000000 ]---
[   53.059258] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.059924] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.062186] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   53.062743] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   53.063475] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   53.064195] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   53.064887] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.065578] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   53.066353] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.067235] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.068079] CR2: 00007f2e145e0fe8 CR3: 000000002b6c6004 CR4: 0000000000770ef0
[   53.068775] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.069482] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.070203] PKRU: 55555554
[   53.070487] note: repro[18773] exited with preempt_count 1
[   53.071025] Fixing recursive fault but reboot is needed!
[   53.071539] BUG: scheduling while atomic: repro/18773/0x00000000
[   53.072105] INFO: lockdep is turned off.
[   53.072476] Modules linked in:
[   53.072778] Preemption disabled at:
[   53.072783] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   53.073624] CPU: 0 UID: 0 PID: 18773 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.074670] Tainted: [D]=DIE, [W]=WARN
[   53.075034] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.076082] Call Trace:
[   53.076325]  <TASK>
[   53.076540]  dump_stack_lvl+0x121/0x150
[   53.076923]  ? do_task_dead+0x28/0x110
[   53.077295]  dump_stack+0x19/0x20
[   53.077786]  __schedule_bug+0x12d/0x180
[   53.078319]  __schedule+0x23fe/0x33a0
[   53.078672]  ? do_task_dead+0xa8/0x110
[   53.079028]  ? rcu_is_watching+0x19/0xc0
[   53.079409]  ? lock_release+0x592/0x870
[   53.079774]  ? __pfx___schedule+0x10/0x10
[   53.080160]  ? debug_smp_processor_id+0x20/0x30
[   53.080581]  ? rcu_is_watching+0x19/0xc0
[   53.080953]  ? trace_irq_enable+0xe1/0x120
[   53.081344]  ? do_task_dead+0x4a/0x110
[   53.081695]  do_task_dead+0xe0/0x110
[   53.082037]  make_task_dead+0x384/0x3c0
[   53.082405]  rewind_stack_and_make_dead+0x16/0x20
[   53.082824] RIP: 0033:0x7f2e1423ee5d
[   53.083150] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.083678] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.084595] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.085212] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.085822] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.086434] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.087048] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.087665]  </TASK>
[   53.410655] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#91] PREEMPT SMP KASAN NOPTI
[   53.412154] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.413075] CPU: 0 UID: 0 PID: 19037 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.414163] Tainted: [D]=DIE, [W]=WARN
[   53.414644] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.416011] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.416682] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.418709] RSP: 0018:ffff8880217577d8 EFLAGS: 00010202
[   53.419305] RAX: dffffc0000000000 RBX: ffffea00006e4280 RCX: ffffffff81bc4f39
[   53.420099] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e4290
[   53.420885] RBP: ffff8880217577f8 R08: 0000000000000000 R09: ffffed1003b71d80
[   53.421678] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.422469] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801db8ec00
[   53.423261] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.424152] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.424794] CR2: 00007f2e145f3bf0 CR3: 000000002b5fa006 CR4: 0000000000770ef0
[   53.425587] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.426380] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.427135] PKRU: 55555554
[   53.427434] Call Trace:
[   53.427706]  <TASK>
[   53.427947]  ? show_regs+0x6d/0x80
[   53.428341]  ? die_addr+0x45/0xb0
[   53.428724]  ? exc_general_protection+0x1ae/0x340
[   53.429251]  ? asm_exc_general_protection+0x2b/0x30
[   53.429996]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.430556]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.431120]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.431682]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.432228]  zap_huge_pmd+0x48e/0xd40
[   53.432625]  unmap_page_range+0x1ad6/0x4360
[   53.433072]  ? update_stack_state+0x2d9/0x610
[   53.433547]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.434077]  ? __pfx_unmap_page_range+0x10/0x10
[   53.434561]  unmap_single_vma+0x1ac/0x2d0
[   53.434994]  unmap_vmas+0x210/0x470
[   53.435375]  ? __pfx_unmap_vmas+0x10/0x10
[   53.435798]  ? __pfx_lock_release+0x10/0x10
[   53.436241]  ? lock_release+0x592/0x870
[   53.436646]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.437163]  ? __pfx_lock_release+0x10/0x10
[   53.437608]  ? mlock_drain_local+0x27f/0x4b0
[   53.438067]  exit_mmap+0x19e/0xb10
[   53.438439]  ? __pfx_exit_mmap+0x10/0x10
[   53.438855]  ? debug_smp_processor_id+0x20/0x30
[   53.439334]  ? trace_hardirqs_on+0x51/0x60
[   53.439749]  ? kasan_quarantine_put+0xa2/0x200
[   53.440204]  ? __khugepaged_exit+0x266/0x4c0
[   53.440639]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.441173]  __mmput+0xde/0x3a0
[   53.441499]  mmput+0x74/0x90
[   53.441799]  do_exit+0xa03/0x29f0
[   53.442150]  ? trace_hardirqs_on+0x51/0x60
[   53.442564]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.443187]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.443670]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.444157]  ? __pfx_do_exit+0x10/0x10
[   53.444539]  ? __audit_syscall_entry+0x39c/0x500
[   53.445012]  __x64_sys_exit+0x50/0x60
[   53.445387]  x64_sys_call+0x20c9/0x20d0
[   53.445775]  do_syscall_64+0x6d/0x140
[   53.446151]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.446635] RIP: 0033:0x7f2e1423ee5d
[   53.446980] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.447554] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.448253] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.448907] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.449562] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.450218] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.450871] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.451537]  </TASK>
[   53.451754] Modules linked in:
[   53.452219] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#92] PREEMPT SMP KASAN NOPTI
[   53.452229] ---[ end trace 0000000000000000 ]---
[   53.452242] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.453276] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.453718] CPU: 1 UID: 0 PID: 19065 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.454492] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.454892] Tainted: [D]=DIE, [W]=WARN
[   53.455689] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   53.457310] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.457633] 
[   53.457638] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   53.458102] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.459070] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   53.459222] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.459819] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   53.460333] RSP: 0018:ffff88801f2577d8 EFLAGS: 00010202
[   53.460931] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.462869] 
[   53.462875] RAX: dffffc0000000000 RBX: ffffea0000ad20c0 RCX: ffffffff81bc4f39
[   53.463462] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   53.463924] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad20d0
[   53.464501] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.464653] RBP: ffff88801f2577f8 R08: 0000000000000000 R09: ffffed1002425054
[   53.465231] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.465855] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.466447] CR2: 00007f2e145f3bf0 CR3: 000000002b5fa006 CR4: 0000000000770ef0
[   53.467158] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880121282a0
[   53.467728] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.468237] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.468790] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.469424] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.469979] PKRU: 55555554
[   53.470608] CR2: 00007f548f285000 CR3: 000000002889a004 CR4: 0000000000770ef0
[   53.470625] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.471253] note: repro[19037] exited with preempt_count 1
[   53.471878] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.472326] Fixing recursive fault but reboot is needed!
[   53.472575] PKRU: 55555554
[   53.475975] Call Trace:
[   53.476225]  <TASK>
[   53.476442]  ? show_regs+0x6d/0x80
[   53.476789]  ? die_addr+0x45/0xb0
[   53.477134]  ? exc_general_protection+0x1ae/0x340
[   53.477594]  ? asm_exc_general_protection+0x2b/0x30
[   53.478354]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.478842]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.479338]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.479833]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.480369]  zap_huge_pmd+0x48e/0xd40
[   53.480750]  unmap_page_range+0x1ad6/0x4360
[   53.481156]  ? update_stack_state+0x2d9/0x610
[   53.481589]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.482065]  ? __pfx_unmap_page_range+0x10/0x10
[   53.482512]  unmap_single_vma+0x1ac/0x2d0
[   53.482903]  unmap_vmas+0x210/0x470
[   53.483257]  ? __pfx_unmap_vmas+0x10/0x10
[   53.483642]  ? __pfx_lock_release+0x10/0x10
[   53.484046]  ? lock_release+0x592/0x870
[   53.484418]  ? mas_next_slot+0x133a/0x1a50
[   53.484896]  ? __pfx_lock_release+0x10/0x10
[   53.485366]  ? mlock_drain_local+0x27f/0x4b0
[   53.485781]  exit_mmap+0x19e/0xb10
[   53.486198]  ? __pfx_exit_mmap+0x10/0x10
[   53.486577]  ? debug_smp_processor_id+0x20/0x30
[   53.487019]  ? trace_hardirqs_on+0x51/0x60
[   53.487418]  ? kasan_quarantine_put+0xa2/0x200
[   53.487868]  ? __khugepaged_exit+0x266/0x4c0
[   53.488349]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.488854]  __mmput+0xde/0x3a0
[   53.489282]  mmput+0x74/0x90
[   53.489572]  do_exit+0xa03/0x29f0
[   53.489906]  ? trace_hardirqs_on+0x51/0x60
[   53.490389]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.491012]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.491498]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.491970]  ? __pfx_do_exit+0x10/0x10
[   53.492386]  ? __audit_syscall_entry+0x39c/0x500
[   53.492837]  __x64_sys_exit+0x50/0x60
[   53.493284]  x64_sys_call+0x20c9/0x20d0
[   53.493651]  do_syscall_64+0x6d/0x140
[   53.494146]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.494624] RIP: 0033:0x7f2e1423ee5d
[   53.495110] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.495716] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.496528] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.497320] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.498004] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.498656] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.499409] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.500242]  </TASK>
[   53.500459] Modules linked in:
[   53.500969] ---[ end trace 0000000000000000 ]---
[   53.501413] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.501915] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#93] PREEMPT SMP KASAN NOPTI
[   53.502007] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.502752] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.502762] CPU: 0 UID: 0 PID: 19106 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.502775] Tainted: [D]=DIE, [W]=WARN
[   53.502779] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.502785] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.502801] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.502810] RSP: 0018:ffff888010bdf7d8 EFLAGS: 00010202
[   53.502818] RAX: dffffc0000000000 RBX: ffffea0000855340 RCX: ffffffff81bc4f39
[   53.502824] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000855350
[   53.502831] RBP: ffff888010bdf7f8 R08: 0000000000000000 R09: ffffed10029b3180
[   53.502836] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.502842] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888014d98c00
[   53.502848] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.502856] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.502863] CR2: 00007f548f290708 CR3: 000000002154e006 CR4: 0000000000770ef0
[   53.502871] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.502877] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.502882] PKRU: 55555554
[   53.502886] Call Trace:
[   53.502889]  <TASK>
[   53.502893]  ? show_regs+0x6d/0x80
[   53.502906]  ? die_addr+0x45/0xb0
[   53.502920]  ? exc_general_protection+0x1ae/0x340
[   53.502936]  ? asm_exc_general_protection+0x2b/0x30
[   53.502954]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.504593] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   53.505051]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.505064]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.505076]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.505088]  zap_huge_pmd+0x48e/0xd40
[   53.505102]  unmap_page_range+0x1ad6/0x4360
[   53.505114]  ? update_stack_state+0x2d9/0x610
[   53.505133]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.505144]  ? __pfx_unmap_page_range+0x10/0x10
[   53.505953] 
[   53.506193]  unmap_single_vma+0x1ac/0x2d0
[   53.506208]  unmap_vmas+0x210/0x470
[   53.506221]  ? __pfx_unmap_vmas+0x10/0x10
[   53.506232]  ? __pfx_lock_release+0x10/0x10
[   53.506242]  ? lock_release+0x592/0x870
[   53.506252]  ? mas_next_slot+0x133a/0x1a50
[   53.507268] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   53.507609]  ? __pfx_lock_release+0x10/0x10
[   53.509228] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   53.509542]  ? mlock_drain_local+0x27f/0x4b0
[   53.510298] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   53.510594]  exit_mmap+0x19e/0xb10
[   53.511237] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.511649]  ? __pfx_exit_mmap+0x10/0x10
[   53.512280] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   53.512741]  ? debug_smp_processor_id+0x20/0x30
[   53.513257] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.513657]  ? trace_hardirqs_on+0x51/0x60
[   53.514380] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.514704]  ? kasan_quarantine_put+0xa2/0x200
[   53.514960] CR2: 00007f548f285000 CR3: 000000002889a004 CR4: 0000000000770ef0
[   53.515105]  ? __khugepaged_exit+0x266/0x4c0
[   53.515310] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.515497]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.515801] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.516059]  __mmput+0xde/0x3a0
[   53.516496] PKRU: 55555554
[   53.516780]  mmput+0x74/0x90
[   53.517254] note: repro[19065] exited with preempt_count 1
[   53.517537]  do_exit+0xa03/0x29f0
[   53.517999] Fixing recursive fault but reboot is needed!
[   53.518282]  ? trace_hardirqs_on+0x51/0x60
[   53.518294]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.528903]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.529295]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.529626]  ? __pfx_do_exit+0x10/0x10
[   53.529851]  ? __audit_syscall_entry+0x39c/0x500
[   53.530128]  __x64_sys_exit+0x50/0x60
[   53.530343]  x64_sys_call+0x20c9/0x20d0
[   53.530566]  do_syscall_64+0x6d/0x140
[   53.530793]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.531089] RIP: 0033:0x7f2e1423ee5d
[   53.531295] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.531632] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.532056] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.532449] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.532843] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.533236] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.533626] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.534020]  </TASK>
[   53.534151] Modules linked in:
[   53.534446] ---[ end trace 0000000000000000 ]---
[   53.534716] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.535169] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.536324] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   53.536620] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   53.537013] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   53.537403] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   53.537796] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.538271] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   53.538662] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.539104] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.539421] CR2: 00007f548f290708 CR3: 000000002154e006 CR4: 0000000000770ef0
[   53.539816] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.540208] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.540599] PKRU: 55555554
[   53.540757] note: repro[19106] exited with preempt_count 1
[   53.541058] Fixing recursive fault but reboot is needed!
[   53.541355] BUG: scheduling while atomic: repro/19106/0x00000000
[   53.541687] INFO: lockdep is turned off.
[   53.541903] Modules linked in:
[   53.542122] Preemption disabled at:
[   53.542126] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   53.542813] CPU: 0 UID: 0 PID: 19106 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.543350] Tainted: [D]=DIE, [W]=WARN
[   53.543561] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.544178] Call Trace:
[   53.544323]  <TASK>
[   53.544446]  dump_stack_lvl+0x121/0x150
[   53.544674]  ? do_task_dead+0x28/0x110
[   53.544889]  dump_stack+0x19/0x20
[   53.545088]  __schedule_bug+0x12d/0x180
[   53.545316]  __schedule+0x23fe/0x33a0
[   53.545532]  ? do_task_dead+0xa8/0x110
[   53.545747]  ? rcu_is_watching+0x19/0xc0
[   53.545802] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#94] PREEMPT SMP KASAN NOPTI
[   53.545976]  ? lock_release+0x592/0x870
[   53.547057] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.547270]  ? __pfx___schedule+0x10/0x10
[   53.547929] CPU: 1 UID: 0 PID: 19138 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.548150]  ? debug_smp_processor_id+0x20/0x30
[   53.548958] Tainted: [D]=DIE, [W]=WARN
[   53.549203]  ? rcu_is_watching+0x19/0xc0
[   53.549542] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.549760]  ? trace_irq_enable+0xe1/0x120
[   53.550755] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.550985]  ? do_task_dead+0x4a/0x110
[   53.551496] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.551706]  do_task_dead+0xe0/0x110
[   53.553240] RSP: 0018:ffff8880115df7d8 EFLAGS: 00010202
[   53.553442]  make_task_dead+0x384/0x3c0
[   53.553882] RAX: dffffc0000000000 RBX: ffffea0000815100 RCX: ffffffff81bc4f39
[   53.554096]  rewind_stack_and_make_dead+0x16/0x20
[   53.554686] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000815110
[   53.554946] RIP: 0033:0x7f2e1423ee5d
[   53.555542] RBP: ffff8880115df7f8 R08: 0000000000000000 R09: ffffed100373acfc
[   53.555741] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.556339] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.556676] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.557276] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b9d67e0
[   53.557687] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.558288] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.558677] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.559345] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.559729] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.560193] CR2: 00007f2f8c121000 CR3: 0000000014740001 CR4: 0000000000770ef0
[   53.560581] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.561151] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.561536] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.562107] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.562501]  </TASK>
[   53.563057] PKRU: 55555554
[   53.563464] Call Trace:
[   53.563760]  <TASK>
[   53.563949]  ? show_regs+0x6d/0x80
[   53.564257]  ? die_addr+0x45/0xb0
[   53.564558]  ? exc_general_protection+0x1ae/0x340
[   53.564967]  ? asm_exc_general_protection+0x2b/0x30
[   53.565405]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.565840]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.566284]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.566720]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.567141]  zap_huge_pmd+0x48e/0xd40
[   53.567455]  unmap_page_range+0x1ad6/0x4360
[   53.567800]  ? update_stack_state+0x2d9/0x610
[   53.568183]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.568592]  ? __pfx_unmap_page_range+0x10/0x10
[   53.568970]  unmap_single_vma+0x1ac/0x2d0
[   53.569311]  unmap_vmas+0x210/0x470
[   53.569609]  ? __pfx_unmap_vmas+0x10/0x10
[   53.569938]  ? __pfx_lock_release+0x10/0x10
[   53.570288]  ? lock_release+0x592/0x870
[   53.570620]  ? mas_next_slot+0x133a/0x1a50
[   53.571018]  ? __pfx_lock_release+0x10/0x10
[   53.571366]  ? mlock_drain_local+0x27f/0x4b0
[   53.571873]  exit_mmap+0x19e/0xb10
[   53.572174]  ? __pfx_exit_mmap+0x10/0x10
[   53.572611]  ? debug_smp_processor_id+0x20/0x30
[   53.572998]  ? trace_hardirqs_on+0x51/0x60
[   53.573419]  ? kasan_quarantine_put+0xa2/0x200
[   53.573799]  ? __khugepaged_exit+0x266/0x4c0
[   53.574173]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.574595]  __mmput+0xde/0x3a0
[   53.574979]  mmput+0x74/0x90
[   53.575224]  do_exit+0xa03/0x29f0
[   53.575562]  ? trace_hardirqs_on+0x51/0x60
[   53.575936]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.576538]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.576925]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.577361]  ? __pfx_do_exit+0x10/0x10
[   53.577669]  ? __audit_syscall_entry+0x39c/0x500
[   53.578113]  __x64_sys_exit+0x50/0x60
[   53.578416]  x64_sys_call+0x20c9/0x20d0
[   53.578820]  do_syscall_64+0x6d/0x140
[   53.579136]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.579626] RIP: 0033:0x7f2e1423ee5d
[   53.579906] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.580469] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.581085] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.581602] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.582156] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.582705] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.583255] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.583819]  </TASK>
[   53.584070] Modules linked in:
[   53.584417] ---[ end trace 0000000000000000 ]---
[   53.584809] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.585253] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.586743] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   53.587122] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   53.587708] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   53.588198] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   53.588782] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.589271] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   53.589820] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.590445] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.590973] CR2: 00007f2f8c121000 CR3: 0000000014740001 CR4: 0000000000770ef0
[   53.591552] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.592098] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.592584] PKRU: 55555554
[   53.592773] note: repro[19138] exited with preempt_count 1
[   53.593141] Fixing recursive fault but reboot is needed!
[   53.593490] BUG: scheduling while atomic: repro/19138/0x00000000
[   53.593886] INFO: lockdep is turned off.
[   53.594205] Modules linked in:
[   53.594423] Preemption disabled at:
[   53.594427] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   53.595030] CPU: 1 UID: 0 PID: 19138 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.595636] Tainted: [D]=DIE, [W]=WARN
[   53.595891] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.596629] Call Trace:
[   53.596801]  <TASK>
[   53.596954]  dump_stack_lvl+0x121/0x150
[   53.597228]  ? do_task_dead+0x28/0x110
[   53.597480]  dump_stack+0x19/0x20
[   53.597707]  __schedule_bug+0x12d/0x180
[   53.597967]  __schedule+0x23fe/0x33a0
[   53.598222]  ? do_task_dead+0xa8/0x110
[   53.598480]  ? rcu_is_watching+0x19/0xc0
[   53.598748]  ? lock_release+0x592/0x870
[   53.599014]  ? __pfx___schedule+0x10/0x10
[   53.599291]  ? debug_smp_processor_id+0x20/0x30
[   53.599590]  ? rcu_is_watching+0x19/0xc0
[   53.599857]  ? trace_irq_enable+0xe1/0x120
[   53.600139]  ? do_task_dead+0x4a/0x110
[   53.600391]  do_task_dead+0xe0/0x110
[   53.600634]  make_task_dead+0x384/0x3c0
[   53.600897]  rewind_stack_and_make_dead+0x16/0x20
[   53.601213] RIP: 0033:0x7f2e1423ee5d
[   53.601454] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.601849] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.602337] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.602792] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.603243] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.603695] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.604144] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   53.604598]  </TASK>
[   53.964167] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#95] PREEMPT SMP KASAN NOPTI
[   53.965293] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.966004] CPU: 0 UID: 0 PID: 19334 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   53.966860] Tainted: [D]=DIE, [W]=WARN
[   53.967221] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.968258] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.968816] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.970576] RSP: 0018:ffff88802b5a77d8 EFLAGS: 00010202
[   53.971090] RAX: dffffc0000000000 RBX: ffffea00006e9140 RCX: ffffffff81bc4f39
[   53.971738] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e9150
[   53.972399] RBP: ffff88802b5a77f8 R08: 0000000000000000 R09: ffffed100350f018
[   53.973062] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.973717] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801a8780c0
[   53.974382] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.975118] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.975648] CR2: 00007f2e145f3bf0 CR3: 0000000013c54002 CR4: 0000000000770ef0
[   53.976313] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.976977] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.977637] PKRU: 55555554
[   53.977898] Call Trace:
[   53.978139]  <TASK>
[   53.978355]  ? show_regs+0x6d/0x80
[   53.978705]  ? die_addr+0x45/0xb0
[   53.979046]  ? exc_general_protection+0x1ae/0x340
[   53.979504]  ? asm_exc_general_protection+0x2b/0x30
[   53.979991]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.980488]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.980980]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.981469]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.981965]  zap_huge_pmd+0x48e/0xd40
[   53.982339]  unmap_page_range+0x1ad6/0x4360
[   53.982752]  ? update_stack_state+0x2d9/0x610
[   53.983201]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.983682]  ? __pfx_unmap_page_range+0x10/0x10
[   53.984144]  unmap_single_vma+0x1ac/0x2d0
[   53.984545]  unmap_vmas+0x210/0x470
[   53.984896]  ? __pfx_unmap_vmas+0x10/0x10
[   53.985294]  ? __pfx_lock_release+0x10/0x10
[   53.985700]  ? lock_release+0x592/0x870
[   53.986078]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.986553]  ? __pfx_lock_release+0x10/0x10
[   53.986972]  ? mlock_drain_local+0x27f/0x4b0
[   53.987404]  exit_mmap+0x19e/0xb10
[   53.987756]  ? __pfx_exit_mmap+0x10/0x10
[   53.988154]  ? debug_smp_processor_id+0x20/0x30
[   53.988599]  ? trace_hardirqs_on+0x51/0x60
[   53.989014]  ? kasan_quarantine_put+0xa2/0x200
[   53.989458]  ? __khugepaged_exit+0x266/0x4c0
[   53.989885]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.990413]  __mmput+0xde/0x3a0
[   53.990735]  mmput+0x74/0x90
[   53.991041]  do_exit+0xa03/0x29f0
[   53.991383]  ? trace_hardirqs_on+0x51/0x60
[   53.991792]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.992387]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.992856]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.993327]  ? __pfx_do_exit+0x10/0x10
[   53.993697]  ? __audit_syscall_entry+0x39c/0x500
[   53.994162]  __x64_sys_exit+0x50/0x60
[   53.994538]  x64_sys_call+0x20c9/0x20d0
[   53.994912]  do_syscall_64+0x6d/0x140
[   53.995277]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.995761] RIP: 0033:0x7f2e1423ee5d
[   53.996112] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   53.996672] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.997368] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   53.998018] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.998679] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   53.999331] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   53.999990] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.000681]  </TASK>
[   54.000906] Modules linked in:
[   54.001369] ---[ end trace 0000000000000000 ]---
[   54.001816] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.002467] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.004167] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   54.004675] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   54.005334] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   54.006001] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   54.006697] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.007379] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   54.008049] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.008805] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.009346] CR2: 00007f2e145f3bf0 CR3: 0000000013c54002 CR4: 0000000000770ef0
[   54.010006] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.010685] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.011348] PKRU: 55555554
[   54.011618] note: repro[19334] exited with preempt_count 1
[   54.012129] Fixing recursive fault but reboot is needed!
[   54.012631] BUG: scheduling while atomic: repro/19334/0x00000000
[   54.013198] INFO: lockdep is turned off.
[   54.013564] Modules linked in:
[   54.013873] Preemption disabled at:
[   54.013879] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   54.014733] CPU: 0 UID: 0 PID: 19334 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.015577] Tainted: [D]=DIE, [W]=WARN
[   54.015935] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.016971] Call Trace:
[   54.017218]  <TASK>
[   54.017439]  dump_stack_lvl+0x121/0x150
[   54.017813]  ? do_task_dead+0x28/0x110
[   54.018179]  dump_stack+0x19/0x20
[   54.018518]  __schedule_bug+0x12d/0x180
[   54.018908]  __schedule+0x23fe/0x33a0
[   54.019277]  ? do_task_dead+0xa8/0x110
[   54.019647]  ? rcu_is_watching+0x19/0xc0
[   54.020046]  ? lock_release+0x592/0x870
[   54.020427]  ? __pfx___schedule+0x10/0x10
[   54.020825]  ? debug_smp_processor_id+0x20/0x30
[   54.021271]  ? rcu_is_watching+0x19/0xc0
[   54.021658]  ? trace_irq_enable+0xe1/0x120
[   54.022074]  ? do_task_dead+0x4a/0x110
[   54.022441]  do_task_dead+0xe0/0x110
[   54.022789]  make_task_dead+0x384/0x3c0
[   54.023180]  rewind_stack_and_make_dead+0x16/0x20
[   54.023635] RIP: 0033:0x7f2e1423ee5d
[   54.023995] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.024560] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.025257] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.025917] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.026587] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.027245] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.027905] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.028575]  </TASK>
[   54.459867] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#96] PREEMPT SMP KASAN NOPTI
[   54.460973] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.461695] CPU: 1 UID: 0 PID: 19671 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.462539] Tainted: [D]=DIE, [W]=WARN
[   54.462913] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.463962] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.464537] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.466342] RSP: 0018:ffff8880289377d8 EFLAGS: 00010202
[   54.466857] RAX: dffffc0000000000 RBX: ffffea00004fc600 RCX: ffffffff81bc4f39
[   54.467510] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004fc610
[   54.468173] RBP: ffff8880289377f8 R08: 0000000000000000 R09: ffffed1001ff1f68
[   54.468831] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.469612] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff8fb40
[   54.470292] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.471036] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.471564] CR2: 00007fffdaca68b8 CR3: 000000001f3b0006 CR4: 0000000000770ef0
[   54.472223] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.472879] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.473556] PKRU: 55555554
[   54.473854] Call Trace:
[   54.474098]  <TASK>
[   54.474318]  ? show_regs+0x6d/0x80
[   54.474667]  ? die_addr+0x45/0xb0
[   54.475005]  ? exc_general_protection+0x1ae/0x340
[   54.475470]  ? asm_exc_general_protection+0x2b/0x30
[   54.475960]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.476455]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.476950]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.477524]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.478108]  zap_huge_pmd+0x48e/0xd40
[   54.478485]  unmap_page_range+0x1ad6/0x4360
[   54.478897]  ? update_stack_state+0x2d9/0x610
[   54.479366]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.479853]  ? __pfx_unmap_page_range+0x10/0x10
[   54.480311]  unmap_single_vma+0x1ac/0x2d0
[   54.480735]  unmap_vmas+0x210/0x470
[   54.481111]  ? __pfx_unmap_vmas+0x10/0x10
[   54.481615]  ? __pfx_lock_release+0x10/0x10
[   54.482195]  ? lock_release+0x592/0x870
[   54.482591]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.483091]  ? __pfx_lock_release+0x10/0x10
[   54.483531]  ? mlock_drain_local+0x27f/0x4b0
[   54.483989]  exit_mmap+0x19e/0xb10
[   54.484359]  ? __pfx_exit_mmap+0x10/0x10
[   54.484758]  ? debug_smp_processor_id+0x20/0x30
[   54.485219]  ? trace_hardirqs_on+0x51/0x60
[   54.485681]  ? kasan_quarantine_put+0xa2/0x200
[   54.486137]  ? __khugepaged_exit+0x266/0x4c0
[   54.486565]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.487087]  __mmput+0xde/0x3a0
[   54.487410]  mmput+0x74/0x90
[   54.487713]  do_exit+0xa03/0x29f0
[   54.488083]  ? trace_hardirqs_on+0x51/0x60
[   54.488503]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.489102]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.489573]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.490046]  ? __pfx_do_exit+0x10/0x10
[   54.490444]  ? __audit_syscall_entry+0x39c/0x500
[   54.491164]  __x64_sys_exit+0x50/0x60
[   54.491608]  x64_sys_call+0x20c9/0x20d0
[   54.491994]  do_syscall_64+0x6d/0x140
[   54.492372]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.492866] RIP: 0033:0x7f2e1423ee5d
[   54.493219] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.493788] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.494512] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.495547] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.496209] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.496878] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.497530] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.498208]  </TASK>
[   54.498434] Modules linked in:
[   54.498831] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#97] PREEMPT SMP KASAN NOPTI
[   54.498951] ---[ end trace 0000000000000000 ]---
[   54.499999] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.500425] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.501096] CPU: 0 UID: 0 PID: 19683 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.501617] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.502424] Tainted: [D]=DIE, [W]=WARN
[   54.502431] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.502442] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.502470] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.502486] RSP: 0018:ffff88802899f7d8 EFLAGS: 00010202
[   54.502500] RAX: dffffc0000000000 RBX: ffffea0000a23300 RCX: ffffffff81bc4f39
[   54.504154] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   54.504497] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a23310
[   54.505584] 
[   54.506137] RBP: ffff88802899f7f8 R08: 0000000000000000 R09: ffffed10042d91ec
[   54.506151] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.506162] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880216c8f60
[   54.506175] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.506190] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.506203] CR2: 00007f2e145bf5b8 CR3: 000000002b50a001 CR4: 0000000000770ef0
[   54.506219] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.506230] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.506242] PKRU: 55555554
[   54.506249] Call Trace:
[   54.506255]  <TASK>
[   54.506264]  ? show_regs+0x6d/0x80
[   54.506291]  ? die_addr+0x45/0xb0
[   54.506318]  ? exc_general_protection+0x1ae/0x340
[   54.507963] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   54.508444]  ? asm_exc_general_protection+0x2b/0x30
[   54.509345] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   54.509742]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.510483] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   54.510536]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.511184] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.511818]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.512446] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   54.513167]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.513659] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.514297]  zap_huge_pmd+0x48e/0xd40
[   54.514326]  unmap_page_range+0x1ad6/0x4360
[   54.514350]  ? update_stack_state+0x2d9/0x610
[   54.514387]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.515019] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.515651]  ? __pfx_unmap_page_range+0x10/0x10
[   54.515892] CR2: 00007fffdaca68b8 CR3: 000000001f3b0006 CR4: 0000000000770ef0
[   54.516140]  unmap_single_vma+0x1ac/0x2d0
[   54.516333] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.516651]  unmap_vmas+0x210/0x470
[   54.516948] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.517386]  ? __pfx_unmap_vmas+0x10/0x10
[   54.518000] PKRU: 55555554
[   54.518436]  ? __pfx_lock_release+0x10/0x10
[   54.518458]  ? lock_release+0x592/0x870
[   54.518478]  ? mas_next_slot+0x133a/0x1a50
[   54.518500]  ? __pfx_lock_release+0x10/0x10
[   54.518525]  ? mlock_drain_local+0x27f/0x4b0
[   54.518549]  exit_mmap+0x19e/0xb10
[   54.518575]  ? __pfx_exit_mmap+0x10/0x10
[   54.518597]  ? debug_smp_processor_id+0x20/0x30
[   54.519296] note: repro[19671] exited with preempt_count 1
[   54.519679]  ? trace_hardirqs_on+0x51/0x60
[   54.520307] Fixing recursive fault but reboot is needed!
[   54.520771]  ? kasan_quarantine_put+0xa2/0x200
[   54.534297]  ? __khugepaged_exit+0x266/0x4c0
[   54.534721]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.535249]  __mmput+0xde/0x3a0
[   54.535568]  mmput+0x74/0x90
[   54.535860]  do_exit+0xa03/0x29f0
[   54.536202]  ? trace_hardirqs_on+0x51/0x60
[   54.536613]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.537214]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.537669]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.538151]  ? __pfx_do_exit+0x10/0x10
[   54.538525]  ? __audit_syscall_entry+0x39c/0x500
[   54.538972]  __x64_sys_exit+0x50/0x60
[   54.539345]  x64_sys_call+0x20c9/0x20d0
[   54.539718]  do_syscall_64+0x6d/0x140
[   54.540085]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.540562] RIP: 0033:0x7f2e1423ee5d
[   54.540906] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.541474] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.542170] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.542813] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.543458] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.544104] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.544741] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.545405]  </TASK>
[   54.545628] Modules linked in:
[   54.546143] ---[ end trace 0000000000000000 ]---
[   54.546580] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.547150] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.548975] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   54.549477] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   54.550177] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   54.550829] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   54.551474] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.552125] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   54.552765] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.553493] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.554026] CR2: 00007f2e145bf5b8 CR3: 000000002b50a001 CR4: 0000000000770ef0
[   54.554696] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.555351] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.556003] PKRU: 55555554
[   54.556266] note: repro[19683] exited with preempt_count 1
[   54.556765] Fixing recursive fault but reboot is needed!
[   54.557262] BUG: scheduling while atomic: repro/19683/0x00000000
[   54.557810] INFO: lockdep is turned off.
[   54.558198] Modules linked in:
[   54.558499] Preemption disabled at:
[   54.558505] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   54.559355] CPU: 0 UID: 0 PID: 19683 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.560188] Tainted: [D]=DIE, [W]=WARN
[   54.560537] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.561552] Call Trace:
[   54.561792]  <TASK>
[   54.562012]  dump_stack_lvl+0x121/0x150
[   54.562391]  ? do_task_dead+0x28/0x110
[   54.562749]  dump_stack+0x19/0x20
[   54.563085]  __schedule_bug+0x12d/0x180
[   54.563457]  __schedule+0x23fe/0x33a0
[   54.563824]  ? do_task_dead+0xa8/0x110
[   54.564184]  ? rcu_is_watching+0x19/0xc0
[   54.564565]  ? lock_release+0x592/0x870
[   54.564941]  ? __pfx___schedule+0x10/0x10
[   54.565345]  ? debug_smp_processor_id+0x20/0x30
[   54.565781]  ? rcu_is_watching+0x19/0xc0
[   54.566174]  ? trace_irq_enable+0xe1/0x120
[   54.566573]  ? do_task_dead+0x4a/0x110
[   54.566934]  do_task_dead+0xe0/0x110
[   54.567283]  make_task_dead+0x384/0x3c0
[   54.567665]  rewind_stack_and_make_dead+0x16/0x20
[   54.568111] RIP: 0033:0x7f2e1423ee5d
[   54.568456] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.569018] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.569708] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.570349] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.570987] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.571628] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.572275] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.572932]  </TASK>
[   54.595660] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#98] PREEMPT SMP KASAN NOPTI
[   54.596803] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.597498] CPU: 1 UID: 0 PID: 19772 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.598335] Tainted: [D]=DIE, [W]=WARN
[   54.598689] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.599711] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.600272] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.601924] RSP: 0018:ffff88801151f7d8 EFLAGS: 00010202
[   54.602411] RAX: dffffc0000000000 RBX: ffffea0000adf340 RCX: ffffffff81bc4f39
[   54.603068] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000adf350
[   54.603724] RBP: ffff88801151f7f8 R08: 0000000000000000 R09: ffffed1003f0875c
[   54.604379] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.605031] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f843ae0
[   54.605679] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.606419] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.606955] CR2: 00007f2e1429bc20 CR3: 000000002b64e005 CR4: 0000000000770ef0
[   54.607607] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.608263] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.608914] PKRU: 55555554
[   54.609180] Call Trace:
[   54.609422]  <TASK>
[   54.609635]  ? show_regs+0x6d/0x80
[   54.609978]  ? die_addr+0x45/0xb0
[   54.610325]  ? exc_general_protection+0x1ae/0x340
[   54.610788]  ? asm_exc_general_protection+0x2b/0x30
[   54.611262]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.611749]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.612246]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.612738]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.613226]  zap_huge_pmd+0x48e/0xd40
[   54.613591]  unmap_page_range+0x1ad6/0x4360
[   54.614006]  ? update_stack_state+0x2d9/0x610
[   54.614455]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.614940]  ? __pfx_unmap_page_range+0x10/0x10
[   54.615391]  unmap_single_vma+0x1ac/0x2d0
[   54.615788]  unmap_vmas+0x210/0x470
[   54.616153]  ? __pfx_unmap_vmas+0x10/0x10
[   54.616545]  ? __pfx_lock_release+0x10/0x10
[   54.616954]  ? lock_release+0x592/0x870
[   54.617333]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.617818]  ? __pfx_lock_release+0x10/0x10
[   54.618228]  ? mlock_drain_local+0x27f/0x4b0
[   54.618658]  exit_mmap+0x19e/0xb10
[   54.619011]  ? __pfx_exit_mmap+0x10/0x10
[   54.619399]  ? debug_smp_processor_id+0x20/0x30
[   54.619836]  ? trace_hardirqs_on+0x51/0x60
[   54.620242]  ? kasan_quarantine_put+0xa2/0x200
[   54.620680]  ? __khugepaged_exit+0x266/0x4c0
[   54.621101]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.621610]  __mmput+0xde/0x3a0
[   54.621928]  mmput+0x74/0x90
[   54.622224]  do_exit+0xa03/0x29f0
[   54.622553]  ? trace_hardirqs_on+0x51/0x60
[   54.622955]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.623553]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.624019]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.624487]  ? __pfx_do_exit+0x10/0x10
[   54.624854]  ? __audit_syscall_entry+0x39c/0x500
[   54.625309]  __x64_sys_exit+0x50/0x60
[   54.625673]  x64_sys_call+0x20c9/0x20d0
[   54.626048]  do_syscall_64+0x6d/0x140
[   54.626411]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.626899] RIP: 0033:0x7f2e1423ee5d
[   54.627242] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.627814] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.628504] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.629159] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.629816] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.630471] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.631127] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.631789]  </TASK>
[   54.632009] Modules linked in:
[   54.632445] ---[ end trace 0000000000000000 ]---
[   54.632885] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.633435] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.635121] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   54.635612] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   54.636272] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   54.636927] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   54.637579] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.638249] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   54.638901] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.639649] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.640191] CR2: 00007f2e1429bc20 CR3: 000000002b64e005 CR4: 0000000000770ef0
[   54.640861] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.641517] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.642201] PKRU: 55555554
[   54.642465] note: repro[19772] exited with preempt_count 1
[   54.642969] Fixing recursive fault but reboot is needed!
[   54.643458] BUG: scheduling while atomic: repro/19772/0x00000000
[   54.644010] INFO: lockdep is turned off.
[   54.644378] Modules linked in:
[   54.644677] Preemption disabled at:
[   54.644682] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   54.645512] CPU: 1 UID: 0 PID: 19772 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.646366] Tainted: [D]=DIE, [W]=WARN
[   54.646722] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.647741] Call Trace:
[   54.648001]  <TASK>
[   54.648212]  dump_stack_lvl+0x121/0x150
[   54.648593]  ? do_task_dead+0x28/0x110
[   54.648954]  dump_stack+0x19/0x20
[   54.649291]  __schedule_bug+0x12d/0x180
[   54.649671]  __schedule+0x23fe/0x33a0
[   54.650035]  ? do_task_dead+0xa8/0x110
[   54.650396]  ? rcu_is_watching+0x19/0xc0
[   54.650782]  ? lock_release+0x592/0x870
[   54.651172]  ? __pfx___schedule+0x10/0x10
[   54.651567]  ? debug_smp_processor_id+0x20/0x30
[   54.652019]  ? rcu_is_watching+0x19/0xc0
[   54.652415]  ? trace_irq_enable+0xe1/0x120
[   54.652827]  ? do_task_dead+0x4a/0x110
[   54.653199]  do_task_dead+0xe0/0x110
[   54.653552]  make_task_dead+0x384/0x3c0
[   54.653930]  rewind_stack_and_make_dead+0x16/0x20
[   54.654389] RIP: 0033:0x7f2e1423ee5d
[   54.654736] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.655304] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.656002] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.656652] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.657316] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.657978] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.658633] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.659307]  </TASK>
[   54.745527] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#99] PREEMPT SMP KASAN NOPTI
[   54.746649] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.747349] CPU: 1 UID: 0 PID: 19804 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.748596] Tainted: [D]=DIE, [W]=WARN
[   54.748964] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.749999] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.750553] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.752635] RSP: 0018:ffff888011b2f7d8 EFLAGS: 00010202
[   54.753142] RAX: dffffc0000000000 RBX: ffffea0000852280 RCX: ffffffff81bc4f39
[   54.753807] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000852290
[   54.754461] RBP: ffff888011b2f7f8 R08: 0000000000000000 R09: ffffed100372046c
[   54.755123] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   54.755769] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b902360
[   54.756804] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.757552] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.758102] CR2: 00007f2e143fca50 CR3: 0000000010bdc004 CR4: 0000000000770ef0
[   54.758756] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.759409] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.760121] PKRU: 55555554
[   54.760541] Call Trace:
[   54.760936]  <TASK>
[   54.761165]  ? show_regs+0x6d/0x80
[   54.761529]  ? die_addr+0x45/0xb0
[   54.761885]  ? exc_general_protection+0x1ae/0x340
[   54.762359]  ? asm_exc_general_protection+0x2b/0x30
[   54.762843]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.763346]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.763858]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.764433]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.765160]  zap_huge_pmd+0x48e/0xd40
[   54.765546]  unmap_page_range+0x1ad6/0x4360
[   54.765981]  ? __pfx_lock_release+0x10/0x10
[   54.766396]  ? do_raw_spin_trylock+0xbf/0x190
[   54.766821]  ? __kasan_check_read+0x15/0x20
[   54.767249]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.767754]  ? __pfx_unmap_page_range+0x10/0x10
[   54.768249]  unmap_single_vma+0x1ac/0x2d0
[   54.768649]  unmap_vmas+0x210/0x470
[   54.769008]  ? __pfx_unmap_vmas+0x10/0x10
[   54.769403]  ? __pfx_lock_release+0x10/0x10
[   54.769815]  ? lock_release+0x592/0x870
[   54.770194]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.770670]  ? __pfx_lock_release+0x10/0x10
[   54.771084]  ? mlock_drain_local+0x27f/0x4b0
[   54.771517]  exit_mmap+0x19e/0xb10
[   54.771879]  ? __pfx_exit_mmap+0x10/0x10
[   54.772282]  ? debug_smp_processor_id+0x20/0x30
[   54.772921]  ? trace_hardirqs_on+0x51/0x60
[   54.773510]  ? kasan_quarantine_put+0xa2/0x200
[   54.773954]  ? __khugepaged_exit+0x266/0x4c0
[   54.774391]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.774906]  __mmput+0xde/0x3a0
[   54.775236]  mmput+0x74/0x90
[   54.775533]  do_exit+0xa03/0x29f0
[   54.775883]  ? trace_hardirqs_on+0x51/0x60
[   54.776295]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.776908]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.777389]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.777861]  ? __pfx_do_exit+0x10/0x10
[   54.778237]  ? __audit_syscall_entry+0x39c/0x500
[   54.778763]  __x64_sys_exit+0x50/0x60
[   54.779346]  x64_sys_call+0x20c9/0x20d0
[   54.779829]  do_syscall_64+0x6d/0x140
[   54.780218]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.780712] RIP: 0033:0x7f2e1423ee5d
[   54.781070] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.781641] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.782341] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.782991] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.783647] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.784296] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.785045] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.786028]  </TASK>
[   54.786256] Modules linked in:
[   54.786754] ---[ end trace 0000000000000000 ]---
[   54.787217] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.787764] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.789436] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   54.790229] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   54.791487] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   54.792152] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   54.792873] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.793884] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   54.795033] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.796164] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.796816] CR2: 00007f2e143fca50 CR3: 0000000010bdc004 CR4: 0000000000770ef0
[   54.797535] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.798304] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.798966] PKRU: 55555554
[   54.799239] note: repro[19804] exited with preempt_count 1
[   54.799850] Fixing recursive fault but reboot is needed!
[   54.800369] BUG: scheduling while atomic: repro/19804/0x00000000
[   54.800968] INFO: lockdep is turned off.
[   54.801512] Modules linked in:
[   54.801816] Preemption disabled at:
[   54.801822] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   54.802698] CPU: 1 UID: 0 PID: 19804 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   54.803664] Tainted: [D]=DIE, [W]=WARN
[   54.804021] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.805187] Call Trace:
[   54.805431]  <TASK>
[   54.805654]  dump_stack_lvl+0x121/0x150
[   54.806170]  ? do_task_dead+0x28/0x110
[   54.806535]  dump_stack+0x19/0x20
[   54.806871]  __schedule_bug+0x12d/0x180
[   54.807393]  __schedule+0x23fe/0x33a0
[   54.807771]  ? do_task_dead+0xa8/0x110
[   54.808148]  ? rcu_is_watching+0x19/0xc0
[   54.808662]  ? lock_release+0x592/0x870
[   54.809048]  ? __pfx___schedule+0x10/0x10
[   54.809444]  ? debug_smp_processor_id+0x20/0x30
[   54.809968]  ? rcu_is_watching+0x19/0xc0
[   54.810361]  ? trace_irq_enable+0xe1/0x120
[   54.810776]  ? do_task_dead+0x4a/0x110
[   54.811269]  do_task_dead+0xe0/0x110
[   54.811628]  make_task_dead+0x384/0x3c0
[   54.812035]  rewind_stack_and_make_dead+0x16/0x20
[   54.812603] RIP: 0033:0x7f2e1423ee5d
[   54.812961] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   54.813542] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.814347] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   54.815079] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.815743] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   54.816511] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   54.817169] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   54.817938]  </TASK>
[   55.282287] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#100] PREEMPT SMP KASAN NOPTI
[   55.283383] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.284090] CPU: 0 UID: 0 PID: 20118 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.284954] Tainted: [D]=DIE, [W]=WARN
[   55.285316] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.286339] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.286895] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.288536] RSP: 0018:ffff88801aa8f7d8 EFLAGS: 00010202
[   55.289278] RAX: dffffc0000000000 RBX: ffffea00004ebb00 RCX: ffffffff81bc4f39
[   55.290054] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004ebb10
[   55.290725] RBP: ffff88801aa8f7f8 R08: 0000000000000000 R09: ffffed10056bc338
[   55.291375] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   55.292027] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802b5e19c0
[   55.292665] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.293389] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.293914] CR2: 00007f2e145e33f4 CR3: 0000000028aa0004 CR4: 0000000000770ef0
[   55.294603] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.295507] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.296266] PKRU: 55555554
[   55.296537] Call Trace:
[   55.296784]  <TASK>
[   55.297011]  ? show_regs+0x6d/0x80
[   55.297363]  ? die_addr+0x45/0xb0
[   55.297701]  ? exc_general_protection+0x1ae/0x340
[   55.298169]  ? asm_exc_general_protection+0x2b/0x30
[   55.298653]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.299148]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.299639]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.300134]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.300657]  zap_huge_pmd+0x48e/0xd40
[   55.301044]  unmap_page_range+0x1ad6/0x4360
[   55.301445]  ? __pfx_lock_release+0x10/0x10
[   55.301846]  ? do_raw_spin_trylock+0xbf/0x190
[   55.302274]  ? __kasan_check_read+0x15/0x20
[   55.302696]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.303208]  ? __pfx_unmap_page_range+0x10/0x10
[   55.303669]  unmap_single_vma+0x1ac/0x2d0
[   55.304071]  unmap_vmas+0x210/0x470
[   55.304433]  ? __pfx_unmap_vmas+0x10/0x10
[   55.304847]  ? __pfx_lock_release+0x10/0x10
[   55.305357]  ? lock_release+0x592/0x870
[   55.305921]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.306479]  ? __pfx_lock_release+0x10/0x10
[   55.306900]  ? mlock_drain_local+0x27f/0x4b0
[   55.307338]  exit_mmap+0x19e/0xb10
[   55.307687]  ? __pfx_exit_mmap+0x10/0x10
[   55.308092]  ? debug_smp_processor_id+0x20/0x30
[   55.308578]  ? trace_hardirqs_on+0x51/0x60
[   55.308995]  ? kasan_quarantine_put+0xa2/0x200
[   55.309427]  ? __khugepaged_exit+0x266/0x4c0
[   55.309846]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.310360]  __mmput+0xde/0x3a0
[   55.310685]  mmput+0x74/0x90
[   55.311000]  do_exit+0xa03/0x29f0
[   55.311352]  ? trace_hardirqs_on+0x51/0x60
[   55.311761]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.312359]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.312837]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.313324]  ? __pfx_do_exit+0x10/0x10
[   55.313708]  ? __audit_syscall_entry+0x39c/0x500
[   55.314167]  __x64_sys_exit+0x50/0x60
[   55.314539]  x64_sys_call+0x20c9/0x20d0
[   55.314918]  do_syscall_64+0x6d/0x140
[   55.315303]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.315785] RIP: 0033:0x7f2e1423ee5d
[   55.316139] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.316700] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.317433] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.318094] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.318739] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.319383] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.320031] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.320685]  </TASK>
[   55.320920] Modules linked in:
[   55.321434] ---[ end trace 0000000000000000 ]---
[   55.321888] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.322526] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.324180] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   55.324673] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   55.325317] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   55.326150] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   55.327060] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.327707] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   55.328369] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.329101] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.329637] CR2: 00007f2e145e33f4 CR3: 0000000028aa0004 CR4: 0000000000770ef0
[   55.330324] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.330956] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.331590] PKRU: 55555554
[   55.331865] note: repro[20118] exited with preempt_count 1
[   55.332543] Fixing recursive fault but reboot is needed!
[   55.333184] check_preemption_disabled: 11 callbacks suppressed
[   55.333194] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20118
[   55.334433] caller is debug_smp_processor_id+0x20/0x30
[   55.334908] CPU: 0 UID: 0 PID: 20118 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.335202] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#101] PREEMPT SMP KASAN NOPTI
[   55.335720] Tainted: [D]=DIE, [W]=WARN
[   55.336806] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.337141] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.337828] CPU: 1 UID: 0 PID: 20153 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.338780] Call Trace:
[   55.339593] Tainted: [D]=DIE, [W]=WARN
[   55.339821]  <TASK>
[   55.340170] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.340365]  dump_stack_lvl+0x121/0x150
[   55.341590] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.341932]  dump_stack+0x19/0x20
[   55.342480] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.342766]  check_preemption_disabled+0x168/0x180
[   55.344417] RSP: 0018:ffff88801151f7d8 EFLAGS: 00010202
[   55.344816]  debug_smp_processor_id+0x20/0x30
[   55.345389] RAX: dffffc0000000000 RBX: ffffea00004b5940 RCX: ffffffff81bc4f39
[   55.345753]  __schedule+0xa0/0x33a0
[   55.346545] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004b5950
[   55.346839]  ? do_task_dead+0xa8/0x110
[   55.347495] RBP: ffff88801151f7f8 R08: 0000000000000000 R09: ffffed10022e7f2c
[   55.347803]  ? debug_smp_processor_id+0x20/0x30
[   55.348436] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.348805]  ? rcu_is_watching+0x19/0xc0
[   55.349439] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801173f960
[   55.349743]  ? lock_release+0x592/0x870
[   55.350380] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.350683]  ? __pfx___schedule+0x10/0x10
[   55.351402] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.351726]  ? debug_smp_processor_id+0x20/0x30
[   55.352472] CR2: 00007f2f8c152010 CR3: 000000001faca002 CR4: 0000000000770ef0
[   55.352828]  ? rcu_is_watching+0x19/0xc0
[   55.353498] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.353801]  ? trace_irq_enable+0xe1/0x120
[   55.354435] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.354758]  ? do_task_dead+0x4a/0x110
[   55.355387] PKRU: 55555554
[   55.355679]  do_task_dead+0xe0/0x110
[   55.355929] Call Trace:
[   55.356212]  make_task_dead+0x384/0x3c0
[   55.356448]  <TASK>
[   55.356732]  rewind_stack_and_make_dead+0x16/0x20
[   55.356943]  ? show_regs+0x6d/0x80
[   55.357451] RIP: 0033:0x7f2e1423ee5d
[   55.357773]  ? die_addr+0x45/0xb0
[   55.358068] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.358384]  ? exc_general_protection+0x1ae/0x340
[   55.358826] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.359272]  ? asm_exc_general_protection+0x2b/0x30
[   55.359814] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.360264]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.360736] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.361200]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.361681] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.362154]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.362645] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.363119]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.363857] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.364327]  zap_huge_pmd+0x48e/0xd40
[   55.364824]  </TASK>
[   55.365161]  unmap_page_range+0x1ad6/0x4360
[   55.365716]  ? update_stack_state+0x2d9/0x610
[   55.366164]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.366652]  ? __pfx_unmap_page_range+0x10/0x10
[   55.367109]  unmap_single_vma+0x1ac/0x2d0
[   55.367513]  unmap_vmas+0x210/0x470
[   55.367891]  ? __pfx_unmap_vmas+0x10/0x10
[   55.368286]  ? __pfx_lock_release+0x10/0x10
[   55.368694]  ? lock_release+0x592/0x870
[   55.369075]  ? mas_next_slot+0x133a/0x1a50
[   55.369498]  ? __pfx_lock_release+0x10/0x10
[   55.369913]  ? mlock_drain_local+0x27f/0x4b0
[   55.370343]  exit_mmap+0x19e/0xb10
[   55.370697]  ? __pfx_exit_mmap+0x10/0x10
[   55.371086]  ? debug_smp_processor_id+0x20/0x30
[   55.371540]  ? trace_hardirqs_on+0x51/0x60
[   55.371972]  ? kasan_quarantine_put+0xa2/0x200
[   55.372418]  ? __khugepaged_exit+0x266/0x4c0
[   55.372844]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.373366]  __mmput+0xde/0x3a0
[   55.373697]  mmput+0x74/0x90
[   55.374016]  do_exit+0xa03/0x29f0
[   55.374358]  ? trace_hardirqs_on+0x51/0x60
[   55.374768]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.375374]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.375851]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.376342]  ? __pfx_do_exit+0x10/0x10
[   55.376718]  ? __audit_syscall_entry+0x39c/0x500
[   55.377173]  __x64_sys_exit+0x50/0x60
[   55.377540]  x64_sys_call+0x20c9/0x20d0
[   55.377936]  do_syscall_64+0x6d/0x140
[   55.378317]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.378803] RIP: 0033:0x7f2e1423ee5d
[   55.379154] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.379722] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.380494] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.381475] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.382136] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.382800] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.383447] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.384111]  </TASK>
[   55.384340] Modules linked in:
[   55.384690] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#102] PREEMPT SMP KASAN NOPTI
[   55.384856] ---[ end trace 0000000000000000 ]---
[   55.385665] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.386194] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.386754] CPU: 0 UID: 0 PID: 20165 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.387286] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.388074] Tainted: [D]=DIE, [W]=WARN
[   55.390177] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   55.390415] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.390427] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.391032] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   55.391885] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.392413] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   55.392999] RSP: 0018:ffff8880128377d8 EFLAGS: 00010202
[   55.394715] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   55.395217] 
[   55.395222] RAX: dffffc0000000000 RBX: ffffea00007ccd80 RCX: ffffffff81bc4f39
[   55.395728] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.396309] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007ccd90
[   55.396468] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   55.397053] RBP: ffff8880128377f8 R08: 0000000000000000 R09: ffffed100222786c
[   55.397698] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.398281] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.398292] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801113c360
[   55.398302] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.398316] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.398327] CR2: 00007f2f8c156000 CR3: 0000000021488003 CR4: 0000000000770ef0
[   55.398339] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.398349] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.398358] PKRU: 55555554
[   55.398364] Call Trace:
[   55.399039] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.399592]  <TASK>
[   55.400329] CR2: 00007f2f8c152010 CR3: 000000001faca002 CR4: 0000000000770ef0
[   55.400870]  ? show_regs+0x6d/0x80
[   55.401513] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.402128]  ? die_addr+0x45/0xb0
[   55.402151]  ? exc_general_protection+0x1ae/0x340
[   55.402177]  ? asm_exc_general_protection+0x2b/0x30
[   55.402204]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.402742] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.403316]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.403961] PKRU: 55555554
[   55.404506]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.404771] note: repro[20153] exited with preempt_count 1
[   55.404971]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.405498] Fixing recursive fault but reboot is needed!
[   55.405671]  zap_huge_pmd+0x48e/0xd40
[   55.406351] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20153
[   55.406560]  unmap_page_range+0x1ad6/0x4360
[   55.407179] caller is debug_smp_processor_id+0x20/0x30
[   55.407435]  ? update_stack_state+0x2d9/0x610
[   55.408075] CPU: 1 UID: 0 PID: 20153 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.408441]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.408898] Tainted: [D]=DIE, [W]=WARN
[   55.409423]  ? __pfx_unmap_page_range+0x10/0x10
[   55.409871] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.410088]  unmap_single_vma+0x1ac/0x2d0
[   55.410534] Call Trace:
[   55.410940]  unmap_vmas+0x210/0x470
[   55.411391]  <TASK>
[   55.411787]  ? __pfx_unmap_vmas+0x10/0x10
[   55.412106]  dump_stack_lvl+0x121/0x150
[   55.412648]  ? __pfx_lock_release+0x10/0x10
[   55.413002]  dump_stack+0x19/0x20
[   55.413356]  ? lock_release+0x592/0x870
[   55.413722]  check_preemption_disabled+0x168/0x180
[   55.414351]  ? mas_next_slot+0x133a/0x1a50
[   55.414778]  debug_smp_processor_id+0x20/0x30
[   55.415049]  ? __pfx_lock_release+0x10/0x10
[   55.415435]  __schedule+0xa0/0x33a0
[   55.416221]  ? mlock_drain_local+0x27f/0x4b0
[   55.416556]  ? do_task_dead+0xa8/0x110
[   55.416733]  exit_mmap+0x19e/0xb10
[   55.417032]  ? debug_smp_processor_id+0x20/0x30
[   55.417190]  ? __pfx_exit_mmap+0x10/0x10
[   55.417528]  ? rcu_is_watching+0x19/0xc0
[   55.417789]  ? debug_smp_processor_id+0x20/0x30
[   55.418139]  ? lock_release+0x592/0x870
[   55.418370]  ? trace_hardirqs_on+0x51/0x60
[   55.418690]  ? __pfx___schedule+0x10/0x10
[   55.419010]  ? kasan_quarantine_put+0xa2/0x200
[   55.419353]  ? debug_smp_processor_id+0x20/0x30
[   55.419646]  ? __khugepaged_exit+0x266/0x4c0
[   55.419993]  ? rcu_is_watching+0x19/0xc0
[   55.420234]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.420574]  ? trace_irq_enable+0xe1/0x120
[   55.420815]  __mmput+0xde/0x3a0
[   55.421090]  ? do_task_dead+0x4a/0x110
[   55.421384]  mmput+0x74/0x90
[   55.421699]  do_task_dead+0xe0/0x110
[   55.421954]  do_exit+0xa03/0x29f0
[   55.422321]  make_task_dead+0x384/0x3c0
[   55.422568]  ? trace_hardirqs_on+0x51/0x60
[   55.422896]  rewind_stack_and_make_dead+0x16/0x20
[   55.423154]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.423514] RIP: 0033:0x7f2e1423ee5d
[   55.423807]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.424151] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.424406]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.424828] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   55.425096]  ? __pfx_do_exit+0x10/0x10
[   55.425352]  ORIG_RAX: 000000000000003c
[   55.425596]  ? __audit_syscall_entry+0x39c/0x500
[   55.425833] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.426074]  __x64_sys_exit+0x50/0x60
[   55.426339] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.426591]  x64_sys_call+0x20c9/0x20d0
[   55.426920] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.427229]  do_syscall_64+0x6d/0x140
[   55.427715] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.427949]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.428341] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.428736] RIP: 0033:0x7f2e1423ee5d
[   55.429189]  </TASK>
[   55.429585] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.435030] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.435489] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.435915] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.436343] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.436777] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.437259] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.437745]  </TASK>
[   55.437908] Modules linked in:
[   55.438238] ---[ end trace 0000000000000000 ]---
[   55.438562] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.438965] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.440029] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   55.440337] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   55.440771] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   55.441219] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   55.441665] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.442128] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   55.442563] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.443011] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.443333] CR2: 00007f2f8c156000 CR3: 0000000021488003 CR4: 0000000000770ef0
[   55.443733] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.444137] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.444575] PKRU: 55555554
[   55.444840] note: repro[20165] exited with preempt_count 1
[   55.445353] Fixing recursive fault but reboot is needed!
[   55.445834] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20165
[   55.446393] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#103] PREEMPT SMP KASAN NOPTI
[   55.446560] caller is debug_smp_processor_id+0x20/0x30
[   55.447675] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.448135] CPU: 0 UID: 0 PID: 20165 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.448820] CPU: 1 UID: 0 PID: 20184 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.449630] Tainted: [D]=DIE, [W]=WARN
[   55.450453] Tainted: [D]=DIE, [W]=WARN
[   55.450719] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.450975] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.451568] Call Trace:
[   55.452327] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.452467]  <TASK>
[   55.452853] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.452980]  dump_stack_lvl+0x121/0x150
[   55.454190] RSP: 0018:ffff8880113977d8 EFLAGS: 00010202
[   55.454403]  dump_stack+0x19/0x20
[   55.454895] RAX: dffffc0000000000 RBX: ffffea00003fbd80 RCX: ffffffff81bc4f39
[   55.455080]  check_preemption_disabled+0x168/0x180
[   55.455554] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003fbd90
[   55.455815]  debug_smp_processor_id+0x20/0x30
[   55.456286] RBP: ffff8880113977f8 R08: 0000000000000000 R09: ffffed1002a4a55c
[   55.456526]  __schedule+0xa0/0x33a0
[   55.457001] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.457192]  ? do_task_dead+0xa8/0x110
[   55.457665] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888015252ae0
[   55.457869]  ? debug_smp_processor_id+0x20/0x30
[   55.458344] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.458590]  ? rcu_is_watching+0x19/0xc0
[   55.459132] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.459346]  ? lock_release+0x592/0x870
[   55.459731] CR2: 00007f2f8c160030 CR3: 000000001fac8005 CR4: 0000000000770ef0
[   55.459946]  ? __pfx___schedule+0x10/0x10
[   55.460649] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.460866]  ? debug_smp_processor_id+0x20/0x30
[   55.461391] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.461704]  ? rcu_is_watching+0x19/0xc0
[   55.462355] PKRU: 55555554
[   55.462689]  ? trace_irq_enable+0xe1/0x120
[   55.462950] Call Trace:
[   55.463301]  ? do_task_dead+0x4a/0x110
[   55.463533]  <TASK>
[   55.463849]  do_task_dead+0xe0/0x110
[   55.464057]  ? show_regs+0x6d/0x80
[   55.464359]  make_task_dead+0x384/0x3c0
[   55.464680]  ? die_addr+0x45/0xb0
[   55.465006]  rewind_stack_and_make_dead+0x16/0x20
[   55.465329]  ? exc_general_protection+0x1ae/0x340
[   55.465708] RIP: 0033:0x7f2e1423ee5d
[   55.466170]  ? asm_exc_general_protection+0x2b/0x30
[   55.466353] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.466804]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.467095] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.467443]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.467803] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.468124]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.468460] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.468763]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.469096] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.469400]  zap_huge_pmd+0x48e/0xd40
[   55.469729] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.469957]  unmap_page_range+0x1ad6/0x4360
[   55.470308] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.470574]  ? update_stack_state+0x2d9/0x610
[   55.470926]  </TASK>
[   55.471205]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.471634]  ? __pfx_unmap_page_range+0x10/0x10
[   55.471961]  unmap_single_vma+0x1ac/0x2d0
[   55.472260]  unmap_vmas+0x210/0x470
[   55.472527]  ? __pfx_unmap_vmas+0x10/0x10
[   55.472970]  ? __pfx_lock_release+0x10/0x10
[   55.473424]  ? lock_release+0x592/0x870
[   55.473707]  ? mas_next_slot+0x133a/0x1a50
[   55.474016]  ? __pfx_lock_release+0x10/0x10
[   55.474327]  ? mlock_drain_local+0x27f/0x4b0
[   55.474641]  exit_mmap+0x19e/0xb10
[   55.474904]  ? __pfx_exit_mmap+0x10/0x10
[   55.475195]  ? debug_smp_processor_id+0x20/0x30
[   55.475526]  ? trace_hardirqs_on+0x51/0x60
[   55.475814]  ? kasan_quarantine_put+0xa2/0x200
[   55.476085]  ? __khugepaged_exit+0x266/0x4c0
[   55.476347]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.476664]  __mmput+0xde/0x3a0
[   55.476869]  mmput+0x74/0x90
[   55.477054]  do_exit+0xa03/0x29f0
[   55.477264]  ? trace_hardirqs_on+0x51/0x60
[   55.477514]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.477923]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.478247]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.478571]  ? __pfx_do_exit+0x10/0x10
[   55.478959]  ? __audit_syscall_entry+0x39c/0x500
[   55.479423]  __x64_sys_exit+0x50/0x60
[   55.479727]  x64_sys_call+0x20c9/0x20d0
[   55.479956]  do_syscall_64+0x6d/0x140
[   55.480179]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.480472] RIP: 0033:0x7f2e1423ee5d
[   55.480684] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.481028] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.481446] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.481835] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.482227] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.482601] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.482977] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.483363]  </TASK>
[   55.483491] Modules linked in:
[   55.483718] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#104] PREEMPT SMP KASAN NOPTI
[   55.483803] ---[ end trace 0000000000000000 ]---
[   55.484380] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.484630] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.485018] CPU: 0 UID: 0 PID: 20196 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.485317] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.485802] Tainted: [D]=DIE, [W]=WARN
[   55.486938] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   55.487093] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.487100] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.487382] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   55.487974] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.488282] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   55.488656] RSP: 0018:ffff8880214df7d8 EFLAGS: 00010202
[   55.489630] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   55.490005] 
[   55.490492] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.490804] RAX: dffffc0000000000 RBX: ffffea00007ea480 RCX: ffffffff81bc4f39
[   55.490940] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   55.491322] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007ea490
[   55.491706] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.492082] RBP: ffff8880214df7f8 R08: 0000000000000000 R09: ffffed10022b2a78
[   55.492450] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.492857] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.493238] CR2: 00007f2f8c160030 CR3: 000000001fac8005 CR4: 0000000000770ef0
[   55.493543] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880115953c0
[   55.493928] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.494364] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.494381] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.494393] CR2: 00007f2f8c165000 CR3: 00000000288ac005 CR4: 0000000000770ef0
[   55.494407] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.494417] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.494428] PKRU: 55555554
[   55.494434] Call Trace:
[   55.494440]  <TASK>
[   55.495088] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.495721]  ? show_regs+0x6d/0x80
[   55.496455] PKRU: 55555554
[   55.496971]  ? die_addr+0x45/0xb0
[   55.497611] note: repro[20184] exited with preempt_count 1
[   55.498255]  ? exc_general_protection+0x1ae/0x340
[   55.498935] Fixing recursive fault but reboot is needed!
[   55.499199]  ? asm_exc_general_protection+0x2b/0x30
[   55.499431] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20184
[   55.499637]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.500268] caller is debug_smp_processor_id+0x20/0x30
[   55.500583]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.500886] CPU: 1 UID: 0 PID: 20184 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.501102]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.501514] Tainted: [D]=DIE, [W]=WARN
[   55.501790]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.502114] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.502407]  zap_huge_pmd+0x48e/0xd40
[   55.502869] Call Trace:
[   55.503178]  unmap_page_range+0x1ad6/0x4360
[   55.503635]  <TASK>
[   55.504104]  ? update_stack_state+0x2d9/0x610
[   55.504929]  dump_stack_lvl+0x121/0x150
[   55.505399]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.505743]  dump_stack+0x19/0x20
[   55.506204]  ? __pfx_unmap_page_range+0x10/0x10
[   55.507622]  check_preemption_disabled+0x168/0x180
[   55.507970]  unmap_single_vma+0x1ac/0x2d0
[   55.508215]  debug_smp_processor_id+0x20/0x30
[   55.508594]  unmap_vmas+0x210/0x470
[   55.508799]  __schedule+0xa0/0x33a0
[   55.509212]  ? __pfx_unmap_vmas+0x10/0x10
[   55.509559]  ? do_task_dead+0xa8/0x110
[   55.510019]  ? __pfx_lock_release+0x10/0x10
[   55.510344]  ? debug_smp_processor_id+0x20/0x30
[   55.510746]  ? lock_release+0x592/0x870
[   55.511197]  ? rcu_is_watching+0x19/0xc0
[   55.511565]  ? mas_next_slot+0x133a/0x1a50
[   55.511966]  ? lock_release+0x592/0x870
[   55.512290]  ? __pfx_lock_release+0x10/0x10
[   55.512619]  ? __pfx___schedule+0x10/0x10
[   55.512992]  ? mlock_drain_local+0x27f/0x4b0
[   55.513546]  ? debug_smp_processor_id+0x20/0x30
[   55.513921]  exit_mmap+0x19e/0xb10
[   55.514361]  ? rcu_is_watching+0x19/0xc0
[   55.514715]  ? __pfx_exit_mmap+0x10/0x10
[   55.515090]  ? trace_irq_enable+0xe1/0x120
[   55.515463]  ? debug_smp_processor_id+0x20/0x30
[   55.515821]  ? do_task_dead+0x4a/0x110
[   55.516209]  ? trace_hardirqs_on+0x51/0x60
[   55.516580]  do_task_dead+0xe0/0x110
[   55.516977]  ? kasan_quarantine_put+0xa2/0x200
[   55.517396]  make_task_dead+0x384/0x3c0
[   55.517712]  ? __khugepaged_exit+0x266/0x4c0
[   55.518082]  rewind_stack_and_make_dead+0x16/0x20
[   55.518438]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.518837] RIP: 0033:0x7f2e1423ee5d
[   55.519253]  __mmput+0xde/0x3a0
[   55.519601] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.519974]  mmput+0x74/0x90
[   55.520310] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   55.520713]  do_exit+0xa03/0x29f0
[   55.521079]  ORIG_RAX: 000000000000003c
[   55.521476]  ? trace_hardirqs_on+0x51/0x60
[   55.521903] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.522442]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.522781] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.523084]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.523652] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.523917]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.524154] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.524310]  ? __pfx_do_exit+0x10/0x10
[   55.524487] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.524672]  ? __audit_syscall_entry+0x39c/0x500
[   55.524995]  </TASK>
[   55.525260]  __x64_sys_exit+0x50/0x60
[   55.527718]  x64_sys_call+0x20c9/0x20d0
[   55.527904]  do_syscall_64+0x6d/0x140
[   55.528083]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.528317] RIP: 0033:0x7f2e1423ee5d
[   55.528482] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.528748] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.529077] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.529387] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.529727] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.530080] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.530433] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.530771]  </TASK>
[   55.530879] Modules linked in:
[   55.531100] ---[ end trace 0000000000000000 ]---
[   55.531318] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.531581] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.532373] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   55.532606] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   55.533058] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   55.533740] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   55.534376] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.534989] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   55.535614] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.536317] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.536828] CR2: 00007f2f8c165000 CR3: 00000000288ac005 CR4: 0000000000770ef0
[   55.537441] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.538127] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.538764] PKRU: 55555554
[   55.539035] note: repro[20196] exited with preempt_count 1
[   55.539455] Fixing recursive fault but reboot is needed!
[   55.539682] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20196
[   55.540018] caller is debug_smp_processor_id+0x20/0x30
[   55.540244] CPU: 0 UID: 0 PID: 20196 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.540630] Tainted: [D]=DIE, [W]=WARN
[   55.540793] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.541269] Call Trace:
[   55.541381]  <TASK>
[   55.541479]  dump_stack_lvl+0x121/0x150
[   55.541657]  dump_stack+0x19/0x20
[   55.541811]  check_preemption_disabled+0x168/0x180
[   55.542028]  debug_smp_processor_id+0x20/0x30
[   55.542225]  __schedule+0xa0/0x33a0
[   55.542388]  ? do_task_dead+0xa8/0x110
[   55.542558]  ? debug_smp_processor_id+0x20/0x30
[   55.542759]  ? rcu_is_watching+0x19/0xc0
[   55.542939]  ? lock_release+0x592/0x870
[   55.543116]  ? __pfx___schedule+0x10/0x10
[   55.543301]  ? debug_smp_processor_id+0x20/0x30
[   55.543503]  ? rcu_is_watching+0x19/0xc0
[   55.543681]  ? trace_irq_enable+0xe1/0x120
[   55.543871]  ? do_task_dead+0x4a/0x110
[   55.544045]  do_task_dead+0xe0/0x110
[   55.544212]  make_task_dead+0x384/0x3c0
[   55.544389]  rewind_stack_and_make_dead+0x16/0x20
[   55.544594] RIP: 0033:0x7f2e1423ee5d
[   55.544754] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.545022] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.545341] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.545639] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.545939] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.546242] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.546545] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.546851]  </TASK>
[   55.546996] BUG: scheduling while atomic: repro/20196/0x00000000
[   55.547256] INFO: lockdep is turned off.
[   55.547431] Modules linked in:
[   55.547569] Preemption disabled at:
[   55.547572] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   55.547951] CPU: 0 UID: 0 PID: 20196 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.548342] Tainted: [D]=DIE, [W]=WARN
[   55.548504] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.548971] Call Trace:
[   55.549085]  <TASK>
[   55.549186]  dump_stack_lvl+0x121/0x150
[   55.549358]  ? do_task_dead+0x28/0x110
[   55.549531]  dump_stack+0x19/0x20
[   55.549684]  __schedule_bug+0x12d/0x180
[   55.549858]  __schedule+0x23fe/0x33a0
[   55.550029]  ? do_task_dead+0xa8/0x110
[   55.550201]  ? rcu_is_watching+0x19/0xc0
[   55.550380]  ? lock_release+0x592/0x870
[   55.550553]  ? __pfx___schedule+0x10/0x10
[   55.550741]  ? debug_smp_processor_id+0x20/0x30
[   55.550943]  ? rcu_is_watching+0x19/0xc0
[   55.551123]  ? trace_irq_enable+0xe1/0x120
[   55.551312]  ? do_task_dead+0x4a/0x110
[   55.551481]  do_task_dead+0xe0/0x110
[   55.551644]  make_task_dead+0x384/0x3c0
[   55.551820]  rewind_stack_and_make_dead+0x16/0x20
[   55.552024] RIP: 0033:0x7f2e1423ee5d
[   55.552184] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.552445] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.552768] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.553068] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.553372] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.553673] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.553974] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.554282]  </TASK>
[   55.881276] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#105] PREEMPT SMP KASAN NOPTI
[   55.882642] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.883525] CPU: 0 UID: 0 PID: 20398 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.884517] Tainted: [D]=DIE, [W]=WARN
[   55.885140] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.886715] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.887376] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.889537] RSP: 0018:ffff888028b2f7d8 EFLAGS: 00010202
[   55.890328] RAX: dffffc0000000000 RBX: ffffea00004b3ac0 RCX: ffffffff81bc4f39
[   55.891418] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004b3ad0
[   55.892506] RBP: ffff888028b2f7f8 R08: 0000000000000000 R09: ffffed1002114774
[   55.893367] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.894301] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880108a3ba0
[   55.895142] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.896091] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.896771] CR2: 00007f2e145e4fa8 CR3: 0000000011dd4001 CR4: 0000000000770ef0
[   55.897615] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.898526] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.899421] PKRU: 55555554
[   55.899833] Call Trace:
[   55.900190]  <TASK>
[   55.900492]  ? show_regs+0x6d/0x80
[   55.900930]  ? die_addr+0x45/0xb0
[   55.901376]  ? exc_general_protection+0x1ae/0x340
[   55.902184]  ? asm_exc_general_protection+0x2b/0x30
[   55.903069]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.904028]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.904820]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.905530]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.906147]  zap_huge_pmd+0x48e/0xd40
[   55.906601]  unmap_page_range+0x1ad6/0x4360
[   55.907098]  ? update_stack_state+0x2d9/0x610
[   55.907625]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.908233]  ? __pfx_unmap_page_range+0x10/0x10
[   55.908823]  unmap_single_vma+0x1ac/0x2d0
[   55.909305]  unmap_vmas+0x210/0x470
[   55.909775]  ? __pfx_unmap_vmas+0x10/0x10
[   55.910487]  ? __pfx_lock_release+0x10/0x10
[   55.911228]  ? lock_release+0x592/0x870
[   55.911814]  ? mas_next_slot+0x133a/0x1a50
[   55.912351]  ? __pfx_lock_release+0x10/0x10
[   55.912841]  ? mlock_drain_local+0x27f/0x4b0
[   55.913347]  exit_mmap+0x19e/0xb10
[   55.913758]  ? __pfx_exit_mmap+0x10/0x10
[   55.914234]  ? debug_smp_processor_id+0x20/0x30
[   55.915045]  ? trace_hardirqs_on+0x51/0x60
[   55.915830]  ? kasan_quarantine_put+0xa2/0x200
[   55.916745]  ? __khugepaged_exit+0x266/0x4c0
[   55.917620]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.918799]  __mmput+0xde/0x3a0
[   55.919370]  mmput+0x74/0x90
[   55.919849]  do_exit+0xa03/0x29f0
[   55.920522]  ? trace_hardirqs_on+0x51/0x60
[   55.921295]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.922461]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.923354]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.924239]  ? __pfx_do_exit+0x10/0x10
[   55.924903]  ? __audit_syscall_entry+0x39c/0x500
[   55.925718]  __x64_sys_exit+0x50/0x60
[   55.926384]  x64_sys_call+0x20c9/0x20d0
[   55.927129]  do_syscall_64+0x6d/0x140
[   55.927821]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.928758] RIP: 0033:0x7f2e1423ee5d
[   55.929417] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.930438] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.931593] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.932719] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.933679] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.934772] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.936045] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.936977]  </TASK>
[   55.937248] Modules linked in:
[   55.937768] ---[ end trace 0000000000000000 ]---
[   55.938417] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.939090] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.941392] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   55.942009] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   55.942883] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   55.943621] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   55.944280] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.944935] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   55.945594] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.946417] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.947017] CR2: 00007f2e145e4fa8 CR3: 0000000011dd4001 CR4: 0000000000770ef0
[   55.947652] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.948286] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.948914] PKRU: 55555554
[   55.949095] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#106] PREEMPT SMP KASAN NOPTI
[   55.949168] note: repro[20398] exited with preempt_count 1
[   55.950244] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.950261] CPU: 1 UID: 0 PID: 20454 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.950286] Tainted: [D]=DIE, [W]=WARN
[   55.950292] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.950778] Fixing recursive fault but reboot is needed!
[   55.951439] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.952224] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20398
[   55.952562] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.953511] caller is debug_smp_processor_id+0x20/0x30
[   55.953978] RSP: 0018:ffff88801366f7d8 EFLAGS: 00010202
[   55.954543] CPU: 0 UID: 0 PID: 20398 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   55.955150] 
[   55.956693] Tainted: [D]=DIE, [W]=WARN
[   55.957146] RAX: dffffc0000000000 RBX: ffffea000081fd40 RCX: ffffffff81bc4f39
[   55.957797] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.958589] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000081fd50
[   55.958725] Call Trace:
[   55.958730]  <TASK>
[   55.959276] RBP: ffff88801366f7f8 R08: 0000000000000000 R09: ffffed1002700b98
[   55.959852]  dump_stack_lvl+0x121/0x150
[   55.960833] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.961413]  dump_stack+0x19/0x20
[   55.961640] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013805cc0
[   55.961907]  check_preemption_disabled+0x168/0x180
[   55.962530] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.962849]  debug_smp_processor_id+0x20/0x30
[   55.963875] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.964157]  __schedule+0xa0/0x33a0
[   55.964780] CR2: 00007f2e1424e1f0 CR3: 0000000028b30006 CR4: 0000000000770ef0
[   55.965168]  ? do_task_dead+0xa8/0x110
[   55.965871] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.966218]  ? debug_smp_processor_id+0x20/0x30
[   55.966722] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.967004]  ? rcu_is_watching+0x19/0xc0
[   55.967943] PKRU: 55555554
[   55.968334]  ? lock_release+0x592/0x870
[   55.968958] Call Trace:
[   55.969321]  ? __pfx___schedule+0x10/0x10
[   55.969946]  <TASK>
[   55.970253]  ? debug_smp_processor_id+0x20/0x30
[   55.970502]  ? show_regs+0x6d/0x80
[   55.970795]  ? rcu_is_watching+0x19/0xc0
[   55.971053]  ? die_addr+0x45/0xb0
[   55.971360]  ? trace_irq_enable+0xe1/0x120
[   55.971690]  ? exc_general_protection+0x1ae/0x340
[   55.972036]  ? do_task_dead+0x4a/0x110
[   55.972360]  ? asm_exc_general_protection+0x2b/0x30
[   55.972649]  do_task_dead+0xe0/0x110
[   55.972957]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.973267]  make_task_dead+0x384/0x3c0
[   55.973683]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.973973]  rewind_stack_and_make_dead+0x16/0x20
[   55.974416]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.974690] RIP: 0033:0x7f2e1423ee5d
[   55.975156]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.975449] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.976175]  zap_huge_pmd+0x48e/0xd40
[   55.976518] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   55.976981]  unmap_page_range+0x1ad6/0x4360
[   55.977246]  ORIG_RAX: 000000000000003c
[   55.977252] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.977711]  ? update_stack_state+0x2d9/0x610
[   55.978160] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.978519]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.978881] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   55.978889] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   55.979276]  ? __pfx_unmap_page_range+0x10/0x10
[   55.979547] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   55.980432]  unmap_single_vma+0x1ac/0x2d0
[   55.980740]  </TASK>
[   55.981368]  unmap_vmas+0x210/0x470
[   55.984906]  ? __pfx_unmap_vmas+0x10/0x10
[   55.985454]  ? __pfx_lock_release+0x10/0x10
[   55.985854]  ? lock_release+0x592/0x870
[   55.986229]  ? mas_next_slot+0x133a/0x1a50
[   55.986626]  ? __pfx_lock_release+0x10/0x10
[   55.987043]  ? mlock_drain_local+0x27f/0x4b0
[   55.987464]  exit_mmap+0x19e/0xb10
[   55.987809]  ? __pfx_exit_mmap+0x10/0x10
[   55.988197]  ? debug_smp_processor_id+0x20/0x30
[   55.988633]  ? trace_hardirqs_on+0x51/0x60
[   55.989264]  ? kasan_quarantine_put+0xa2/0x200
[   55.989761]  ? __khugepaged_exit+0x266/0x4c0
[   55.990184]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.990688]  __mmput+0xde/0x3a0
[   55.991008]  mmput+0x74/0x90
[   55.991300]  do_exit+0xa03/0x29f0
[   55.991636]  ? trace_hardirqs_on+0x51/0x60
[   55.992054]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.992643]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.993379]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.993912]  ? __pfx_do_exit+0x10/0x10
[   55.994288]  ? __audit_syscall_entry+0x39c/0x500
[   55.994736]  __x64_sys_exit+0x50/0x60
[   55.995102]  x64_sys_call+0x20c9/0x20d0
[   55.995474]  do_syscall_64+0x6d/0x140
[   55.995836]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.996320] RIP: 0033:0x7f2e1423ee5d
[   55.996665] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   55.997562] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.998300] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   55.998940] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.999578] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.000219] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.000866] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.001907]  </TASK>
[   56.002132] Modules linked in:
[   56.002567] ---[ end trace 0000000000000000 ]---
[   56.003013] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.003572] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.005211] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   56.006006] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   56.006784] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   56.007446] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   56.008105] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.008301] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#107] PREEMPT SMP KASAN NOPTI
[   56.008746] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   56.009492] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.010151] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.010569] CPU: 0 UID: 0 PID: 20474 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.011271] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.011810] Tainted: [D]=DIE, [W]=WARN
[   56.012351] CR2: 00007f2e1424e1f0 CR3: 0000000028b30006 CR4: 0000000000770ef0
[   56.012576] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.013206] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.013868] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.014513] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.014828] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.015459] PKRU: 55555554
[   56.016511] RSP: 0018:ffff88803852f7d8 EFLAGS: 00010202
[   56.016765] note: repro[20454] exited with preempt_count 1
[   56.017142] RAX: dffffc0000000000 RBX: ffffea00004325c0 RCX: ffffffff81bc4f39
[   56.017625] Fixing recursive fault but reboot is needed!
[   56.018026] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004325d0
[   56.018520] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20454
[   56.018895] RBP: ffff88803852f7f8 R08: 0000000000000000 R09: ffffed1004c4b0f0
[   56.019779] caller is debug_smp_processor_id+0x20/0x30
[   56.020176] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.020641] CPU: 1 UID: 0 PID: 20454 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.021026] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888026258780
[   56.021836] Tainted: [D]=DIE, [W]=WARN
[   56.022216] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.022559] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.022997] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.024199] Call Trace:
[   56.024513] CR2: 00007f2e1459def8 CR3: 000000001dabc006 CR4: 0000000000770ef0
[   56.024747]  <TASK>
[   56.025135] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.025342]  dump_stack_lvl+0x121/0x150
[   56.025725] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.026088]  dump_stack+0x19/0x20
[   56.026472] PKRU: 55555554
[   56.026477] Call Trace:
[   56.026782]  check_preemption_disabled+0x168/0x180
[   56.026932]  <TASK>
[   56.026937]  ? show_regs+0x6d/0x80
[   56.027316]  debug_smp_processor_id+0x20/0x30
[   56.027577]  ? die_addr+0x45/0xb0
[   56.027798]  __schedule+0xa0/0x33a0
[   56.027992]  ? exc_general_protection+0x1ae/0x340
[   56.028388]  ? do_task_dead+0xa8/0x110
[   56.028583]  ? asm_exc_general_protection+0x2b/0x30
[   56.028900]  ? debug_smp_processor_id+0x20/0x30
[   56.029160]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.029499]  ? rcu_is_watching+0x19/0xc0
[   56.029767]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.030180]  ? lock_release+0x592/0x870
[   56.030462]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.030820]  ? __pfx___schedule+0x10/0x10
[   56.031099]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.031672]  ? debug_smp_processor_id+0x20/0x30
[   56.031950]  zap_huge_pmd+0x48e/0xd40
[   56.032320]  ? rcu_is_watching+0x19/0xc0
[   56.032600]  unmap_page_range+0x1ad6/0x4360
[   56.033015]  ? trace_irq_enable+0xe1/0x120
[   56.033219]  ? update_stack_state+0x2d9/0x610
[   56.033577]  ? do_task_dead+0x4a/0x110
[   56.033807]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.034185]  do_task_dead+0xe0/0x110
[   56.034428]  ? __pfx_unmap_page_range+0x10/0x10
[   56.034771]  make_task_dead+0x384/0x3c0
[   56.035049]  unmap_single_vma+0x1ac/0x2d0
[   56.035638]  rewind_stack_and_make_dead+0x16/0x20
[   56.035885]  unmap_vmas+0x210/0x470
[   56.036238] RIP: 0033:0x7f2e1423ee5d
[   56.036463]  ? __pfx_unmap_vmas+0x10/0x10
[   56.036885] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.037082]  ? __pfx_lock_release+0x10/0x10
[   56.037410] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   56.037632]  ? lock_release+0x592/0x870
[   56.038180]  ORIG_RAX: 000000000000003c
[   56.038412]  ? mas_next_slot+0x133a/0x1a50
[   56.038876] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.039089]  ? __pfx_lock_release+0x10/0x10
[   56.039657] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.039884]  ? mlock_drain_local+0x27f/0x4b0
[   56.040560] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.040795]  exit_mmap+0x19e/0xb10
[   56.041424] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.041666]  ? __pfx_exit_mmap+0x10/0x10
[   56.042293] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.042485]  ? debug_smp_processor_id+0x20/0x30
[   56.043135]  </TASK>
[   56.043342]  ? trace_hardirqs_on+0x51/0x60
[   56.044886]  ? kasan_quarantine_put+0xa2/0x200
[   56.045147]  ? __khugepaged_exit+0x266/0x4c0
[   56.045400]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.045709]  __mmput+0xde/0x3a0
[   56.045897]  mmput+0x74/0x90
[   56.046075]  do_exit+0xa03/0x29f0
[   56.046359]  ? trace_hardirqs_on+0x51/0x60
[   56.046701]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.047161]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.047442]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.047722]  ? __pfx_do_exit+0x10/0x10
[   56.047945]  ? __audit_syscall_entry+0x39c/0x500
[   56.048217]  __x64_sys_exit+0x50/0x60
[   56.048435]  x64_sys_call+0x20c9/0x20d0
[   56.048661]  do_syscall_64+0x6d/0x140
[   56.048881]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.049176] RIP: 0033:0x7f2e1423ee5d
[   56.049386] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.049725] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.050149] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.050545] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.050940] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.051339] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.051735] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.052140]  </TASK>
[   56.052274] Modules linked in:
[   56.052568] ---[ end trace 0000000000000000 ]---
[   56.052957] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.053394] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.054460] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   56.054760] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   56.055155] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   56.055552] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   56.055949] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.056399] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   56.056793] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.057241] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.057567] CR2: 00007f2e1459def8 CR3: 000000001dabc006 CR4: 0000000000770ef0
[   56.057966] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.058408] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.058809] PKRU: 55555554
[   56.059044] note: repro[20474] exited with preempt_count 1
[   56.059488] Fixing recursive fault but reboot is needed!
[   56.059787] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20474
[   56.060220] caller is debug_smp_processor_id+0x20/0x30
[   56.060521] CPU: 0 UID: 0 PID: 20474 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.061032] Tainted: [D]=DIE, [W]=WARN
[   56.061245] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.061865] Call Trace:
[   56.062011]  <TASK>
[   56.062141]  dump_stack_lvl+0x121/0x150
[   56.062368]  dump_stack+0x19/0x20
[   56.062566]  check_preemption_disabled+0x168/0x180
[   56.062837]  debug_smp_processor_id+0x20/0x30
[   56.063084]  __schedule+0xa0/0x33a0
[   56.063291]  ? do_task_dead+0xa8/0x110
[   56.063509]  ? debug_smp_processor_id+0x20/0x30
[   56.063767]  ? rcu_is_watching+0x19/0xc0
[   56.064000]  ? lock_release+0x592/0x870
[   56.064234]  ? __pfx___schedule+0x10/0x10
[   56.064472]  ? debug_smp_processor_id+0x20/0x30
[   56.064732]  ? rcu_is_watching+0x19/0xc0
[   56.065066]  ? trace_irq_enable+0xe1/0x120
[   56.065409]  ? do_task_dead+0x4a/0x110
[   56.065711]  do_task_dead+0xe0/0x110
[   56.065922]  make_task_dead+0x384/0x3c0
[   56.066151]  rewind_stack_and_make_dead+0x16/0x20
[   56.066433] RIP: 0033:0x7f2e1423ee5d
[   56.066641] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.066988] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.067410] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.067804] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.068197] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.068592] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.068990] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.069393]  </TASK>
[   56.069598] BUG: scheduling while atomic: repro/20474/0x00000000
[   56.069933] INFO: lockdep is turned off.
[   56.070182] Modules linked in:
[   56.070363] Preemption disabled at:
[   56.070366] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   56.070867] CPU: 0 UID: 0 PID: 20474 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.071607] Tainted: [D]=DIE, [W]=WARN
[   56.071913] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.072519] Call Trace:
[   56.072666]  <TASK>
[   56.072794]  dump_stack_lvl+0x121/0x150
[   56.073022]  ? do_task_dead+0x28/0x110
[   56.073243]  dump_stack+0x19/0x20
[   56.073440]  __schedule_bug+0x12d/0x180
[   56.073667]  __schedule+0x23fe/0x33a0
[   56.073884]  ? do_task_dead+0xa8/0x110
[   56.074106]  ? rcu_is_watching+0x19/0xc0
[   56.074334]  ? lock_release+0x592/0x870
[   56.074558]  ? __pfx___schedule+0x10/0x10
[   56.074793]  ? debug_smp_processor_id+0x20/0x30
[   56.075048]  ? rcu_is_watching+0x19/0xc0
[   56.075277]  ? trace_irq_enable+0xe1/0x120
[   56.075517]  ? do_task_dead+0x4a/0x110
[   56.075746]  do_task_dead+0xe0/0x110
[   56.075966]  make_task_dead+0x384/0x3c0
[   56.076198]  rewind_stack_and_make_dead+0x16/0x20
[   56.076473] RIP: 0033:0x7f2e1423ee5d
[   56.076681] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.077027] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.077449] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.078016] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.078438] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.078832] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.079230] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.079633]  </TASK>
[   56.629433] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#108] PREEMPT SMP KASAN NOPTI
[   56.631139] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.632041] CPU: 0 UID: 0 PID: 20840 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.633134] Tainted: [D]=DIE, [W]=WARN
[   56.633585] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.634905] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.635929] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.638260] RSP: 0018:ffff88802b59f7d8 EFLAGS: 00010202
[   56.638887] RAX: dffffc0000000000 RBX: ffffea00006a6a00 RCX: ffffffff81bc4f39
[   56.639724] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006a6a10
[   56.640560] RBP: ffff88802b59f7f8 R08: 0000000000000000 R09: ffffed1002226b20
[   56.641395] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   56.642228] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011135900
[   56.643061] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.643999] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.644675] CR2: 00007fffdaca68b8 CR3: 0000000028bf2003 CR4: 0000000000770ef0
[   56.645512] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.646347] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.647185] PKRU: 55555554
[   56.647517] Call Trace:
[   56.647819]  <TASK>
[   56.648092]  ? show_regs+0x6d/0x80
[   56.648522]  ? die_addr+0x45/0xb0
[   56.648943]  ? exc_general_protection+0x1ae/0x340
[   56.649528]  ? asm_exc_general_protection+0x2b/0x30
[   56.650430]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.651058]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.651666]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.652263]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.652856]  zap_huge_pmd+0x48e/0xd40
[   56.653303]  unmap_page_range+0x1ad6/0x4360
[   56.653791]  ? __pfx_lock_release+0x10/0x10
[   56.654281]  ? do_raw_spin_trylock+0xbf/0x190
[   56.654795]  ? __kasan_check_read+0x15/0x20
[   56.655317]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.655917]  ? __pfx_unmap_page_range+0x10/0x10
[   56.656461]  unmap_single_vma+0x1ac/0x2d0
[   56.656938]  unmap_vmas+0x210/0x470
[   56.657382]  ? __pfx_unmap_vmas+0x10/0x10
[   56.657886]  ? __pfx_lock_release+0x10/0x10
[   56.658375]  ? lock_release+0x592/0x870
[   56.658825]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.659382]  ? __pfx_lock_release+0x10/0x10
[   56.659848]  ? mlock_drain_local+0x27f/0x4b0
[   56.660332]  exit_mmap+0x19e/0xb10
[   56.660726]  ? __pfx_exit_mmap+0x10/0x10
[   56.661171]  ? debug_smp_processor_id+0x20/0x30
[   56.661676]  ? trace_hardirqs_on+0x51/0x60
[   56.662247]  ? kasan_quarantine_put+0xa2/0x200
[   56.662993]  ? __khugepaged_exit+0x266/0x4c0
[   56.663476]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.664076]  __mmput+0xde/0x3a0
[   56.664439]  mmput+0x74/0x90
[   56.664774]  do_exit+0xa03/0x29f0
[   56.665162]  ? trace_hardirqs_on+0x51/0x60
[   56.665622]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.666508]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.667168]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.667677]  ? __pfx_do_exit+0x10/0x10
[   56.668091]  ? __audit_syscall_entry+0x39c/0x500
[   56.668583]  __x64_sys_exit+0x50/0x60
[   56.668979]  x64_sys_call+0x20c9/0x20d0
[   56.669396]  do_syscall_64+0x6d/0x140
[   56.669793]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.670328] RIP: 0033:0x7f2e1423ee5d
[   56.670706] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.671335] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.672107] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.672824] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.673663] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.674381] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.675069] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.675763]  </TASK>
[   56.675995] Modules linked in:
[   56.676351] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#109] PREEMPT SMP KASAN NOPTI
[   56.676510] ---[ end trace 0000000000000000 ]---
[   56.677472] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.677922] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.678587] CPU: 1 UID: 0 PID: 20864 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.678613] Tainted: [D]=DIE, [W]=WARN
[   56.678620] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.678631] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.678658] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.679214] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.680015] RSP: 0018:ffff888014ca77d8 EFLAGS: 00010202
[   56.680381] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   56.681380] 
[   56.681933] 
[   56.683542] RAX: dffffc0000000000 RBX: ffffea0000428700 RCX: ffffffff81bc4f39
[   56.683557] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000428710
[   56.683568] RBP: ffff888014ca77f8 R08: 0000000000000000 R09: ffffed1003733e24
[   56.683579] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.683588] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b99f120
[   56.683600] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.685287] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   56.685750] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.686564] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   56.686615] CR2: 00007f2e1429bc20 CR3: 00000000167a6005 CR4: 0000000000770ef0
[   56.686779] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   56.687410] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.688032] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.688653] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.689277] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   56.689900] PKRU: 55555554
[   56.689908] Call Trace:
[   56.689913]  <TASK>
[   56.689920]  ? show_regs+0x6d/0x80
[   56.689946]  ? die_addr+0x45/0xb0
[   56.689970]  ? exc_general_protection+0x1ae/0x340
[   56.690690] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.691313]  ? asm_exc_general_protection+0x2b/0x30
[   56.691807] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.692444]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.693069] CR2: 00007fffdaca68b8 CR3: 0000000028bf2003 CR4: 0000000000770ef0
[   56.693695]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.694313] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.694923]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.695521] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.696150]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.696488] PKRU: 55555554
[   56.696721]  zap_huge_pmd+0x48e/0xd40
[   56.696991] note: repro[20840] exited with preempt_count 1
[   56.697304]  unmap_page_range+0x1ad6/0x4360
[   56.697590] Fixing recursive fault but reboot is needed!
[   56.698014]  ? update_stack_state+0x2d9/0x610
[   56.698705] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20840
[   56.699136]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.699632] caller is debug_smp_processor_id+0x20/0x30
[   56.700087]  ? __pfx_unmap_page_range+0x10/0x10
[   56.700687] CPU: 0 UID: 0 PID: 20840 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.701156]  unmap_single_vma+0x1ac/0x2d0
[   56.701729] Tainted: [D]=DIE, [W]=WARN
[   56.702190]  unmap_vmas+0x210/0x470
[   56.703010] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.703470]  ? __pfx_unmap_vmas+0x10/0x10
[   56.703694] Call Trace:
[   56.704028]  ? __pfx_lock_release+0x10/0x10
[   56.704473]  <TASK>
[   56.704846]  ? lock_release+0x592/0x870
[   56.705270]  dump_stack_lvl+0x121/0x150
[   56.705662]  ? mas_next_slot+0x133a/0x1a50
[   56.706273]  dump_stack+0x19/0x20
[   56.706720]  ? __pfx_lock_release+0x10/0x10
[   56.707128]  check_preemption_disabled+0x168/0x180
[   56.707540]  ? mlock_drain_local+0x27f/0x4b0
[   56.708257]  debug_smp_processor_id+0x20/0x30
[   56.708622]  exit_mmap+0x19e/0xb10
[   56.709051]  __schedule+0xa0/0x33a0
[   56.709373]  ? __pfx_exit_mmap+0x10/0x10
[   56.710227]  ? do_task_dead+0xa8/0x110
[   56.710587]  ? debug_smp_processor_id+0x20/0x30
[   56.710783]  ? debug_smp_processor_id+0x20/0x30
[   56.711166]  ? trace_hardirqs_on+0x51/0x60
[   56.711333]  ? rcu_is_watching+0x19/0xc0
[   56.711679]  ? kasan_quarantine_put+0xa2/0x200
[   56.711976]  ? lock_release+0x592/0x870
[   56.712352]  ? __khugepaged_exit+0x266/0x4c0
[   56.712606]  ? __pfx___schedule+0x10/0x10
[   56.712988]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.713493]  ? debug_smp_processor_id+0x20/0x30
[   56.713876]  __mmput+0xde/0x3a0
[   56.714214]  ? rcu_is_watching+0x19/0xc0
[   56.714528]  mmput+0x74/0x90
[   56.714800]  ? trace_irq_enable+0xe1/0x120
[   56.715157]  do_exit+0xa03/0x29f0
[   56.715449]  ? do_task_dead+0x4a/0x110
[   56.715853]  ? trace_hardirqs_on+0x51/0x60
[   56.716194]  do_task_dead+0xe0/0x110
[   56.716559]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.716967]  make_task_dead+0x384/0x3c0
[   56.717372]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.717721]  rewind_stack_and_make_dead+0x16/0x20
[   56.718108]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.718407] RIP: 0033:0x7f2e1423ee5d
[   56.718886]  ? __pfx_do_exit+0x10/0x10
[   56.719263] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.719556]  ? __audit_syscall_entry+0x39c/0x500
[   56.719874] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   56.720152]  __x64_sys_exit+0x50/0x60
[   56.720482]  ORIG_RAX: 000000000000003c
[   56.720788]  x64_sys_call+0x20c9/0x20d0
[   56.721068] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.721434]  do_syscall_64+0x6d/0x140
[   56.721700] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.722255]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.722537] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.722972] RIP: 0033:0x7f2e1423ee5d
[   56.723311] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.723743] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.724002] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.724339] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   56.724777]  </TASK>
[   56.725184]  ORIG_RAX: 000000000000003c
[   56.732363] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.733002] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.733640] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.734283] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.734921] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.735577]  </TASK>
[   56.735794] Modules linked in:
[   56.736313] ---[ end trace 0000000000000000 ]---
[   56.736753] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.737385] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.739105] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   56.739591] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   56.740237] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   56.740880] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   56.741539] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.742206] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   56.742847] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.743570] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.744101] CR2: 00007f2e1429bc20 CR3: 00000000167a6005 CR4: 0000000000770ef0
[   56.744747] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.745402] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.746047] PKRU: 55555554
[   56.746337] note: repro[20864] exited with preempt_count 1
[   56.746834] Fixing recursive fault but reboot is needed!
[   56.747318] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20864
[   56.748018] caller is debug_smp_processor_id+0x20/0x30
[   56.748501] CPU: 1 UID: 0 PID: 20864 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.749327] Tainted: [D]=DIE, [W]=WARN
[   56.749672] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.750678] Call Trace:
[   56.750917]  <TASK>
[   56.751133]  dump_stack_lvl+0x121/0x150
[   56.751516]  dump_stack+0x19/0x20
[   56.751847]  check_preemption_disabled+0x168/0x180
[   56.752300]  debug_smp_processor_id+0x20/0x30
[   56.752710]  __schedule+0xa0/0x33a0
[   56.753059]  ? do_task_dead+0xa8/0x110
[   56.753417]  ? debug_smp_processor_id+0x20/0x30
[   56.753843]  ? rcu_is_watching+0x19/0xc0
[   56.754225]  ? lock_release+0x592/0x870
[   56.754595]  ? __pfx___schedule+0x10/0x10
[   56.754987]  ? debug_smp_processor_id+0x20/0x30
[   56.755409]  ? rcu_is_watching+0x19/0xc0
[   56.755792]  ? trace_irq_enable+0xe1/0x120
[   56.756191]  ? do_task_dead+0x4a/0x110
[   56.756551]  do_task_dead+0xe0/0x110
[   56.756896]  make_task_dead+0x384/0x3c0
[   56.757274]  rewind_stack_and_make_dead+0x16/0x20
[   56.757718] RIP: 0033:0x7f2e1423ee5d
[   56.758063] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.758629] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.759310] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.759948] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.760588] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.761236] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.761903] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.762565]  </TASK>
[   56.762842] BUG: scheduling while atomic: repro/20864/0x00000000
[   56.763415] INFO: lockdep is turned off.
[   56.763784] Modules linked in:
[   56.764087] Preemption disabled at:
[   56.764094] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   56.764927] CPU: 1 UID: 0 PID: 20864 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.764976] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#110] PREEMPT SMP KASAN NOPTI
[   56.765769] Tainted: [D]=DIE, [W]=WARN
[   56.766271] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.766618] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.766925] CPU: 0 UID: 0 PID: 20944 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.767911] Call Trace:
[   56.768289] Tainted: [D]=DIE, [W]=WARN
[   56.768516]  <TASK>
[   56.768678] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.768875]  dump_stack_lvl+0x121/0x150
[   56.769337] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.769696]  ? do_task_dead+0x28/0x110
[   56.770015] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.770358]  dump_stack+0x19/0x20
[   56.771133] RSP: 0018:ffff88800ff2f7d8 EFLAGS: 00010202
[   56.771443]  __schedule_bug+0x12d/0x180
[   56.771669] RAX: dffffc0000000000 RBX: ffffea0000859540 RCX: ffffffff81bc4f39
[   56.772022]  __schedule+0x23fe/0x33a0
[   56.772311] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000859550
[   56.772641]  ? do_task_dead+0xa8/0x110
[   56.772931] RBP: ffff88800ff2f7f8 R08: 0000000000000000 R09: ffffed10027bf6e4
[   56.773262]  ? rcu_is_watching+0x19/0xc0
[   56.773555] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.773905]  ? lock_release+0x592/0x870
[   56.774288] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013dfb720
[   56.774620]  ? __pfx___schedule+0x10/0x10
[   56.774909] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.775253]  ? debug_smp_processor_id+0x20/0x30
[   56.775577] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.775961]  ? rcu_is_watching+0x19/0xc0
[   56.776201] CR2: 00007f2f8c1d0030 CR3: 0000000019554006 CR4: 0000000000770ef0
[   56.776537]  ? trace_irq_enable+0xe1/0x120
[   56.776841] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.777198]  ? do_task_dead+0x4a/0x110
[   56.777488] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.777802]  do_task_dead+0xe0/0x110
[   56.778188] PKRU: 55555554
[   56.778501]  make_task_dead+0x384/0x3c0
[   56.778621] Call Trace:
[   56.778624]  <TASK>
[   56.778957]  rewind_stack_and_make_dead+0x16/0x20
[   56.779064]  ? show_regs+0x6d/0x80
[   56.779250] RIP: 0033:0x7f2e1423ee5d
[   56.779449]  ? die_addr+0x45/0xb0
[   56.779744] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.779900]  ? exc_general_protection+0x1ae/0x340
[   56.780182] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   56.780444]  ? asm_exc_general_protection+0x2b/0x30
[   56.780829]  ORIG_RAX: 000000000000003c
[   56.781056]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.781454] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.781623]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.782049] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.782352]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.782776] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.783070]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.783482] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.783775]  zap_huge_pmd+0x48e/0xd40
[   56.784184] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.784485]  unmap_page_range+0x1ad6/0x4360
[   56.784787]  </TASK>
[   56.785071]  ? update_stack_state+0x2d9/0x610
[   56.785702]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.785925]  ? __pfx_unmap_page_range+0x10/0x10
[   56.786144]  unmap_single_vma+0x1ac/0x2d0
[   56.786372]  unmap_vmas+0x210/0x470
[   56.786585]  ? __pfx_unmap_vmas+0x10/0x10
[   56.786790]  ? __pfx_lock_release+0x10/0x10
[   56.786978]  ? lock_release+0x592/0x870
[   56.787156]  ? mas_next_slot+0x133a/0x1a50
[   56.787344]  ? __pfx_lock_release+0x10/0x10
[   56.787538]  ? mlock_drain_local+0x27f/0x4b0
[   56.787736]  exit_mmap+0x19e/0xb10
[   56.787901]  ? __pfx_exit_mmap+0x10/0x10
[   56.788085]  ? debug_smp_processor_id+0x20/0x30
[   56.788290]  ? trace_hardirqs_on+0x51/0x60
[   56.788482]  ? kasan_quarantine_put+0xa2/0x200
[   56.788683]  ? __khugepaged_exit+0x266/0x4c0
[   56.788879]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.789116]  __mmput+0xde/0x3a0
[   56.789263]  mmput+0x74/0x90
[   56.789399]  do_exit+0xa03/0x29f0
[   56.789554]  ? trace_hardirqs_on+0x51/0x60
[   56.789741]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.790023]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.790238]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.790453]  ? __pfx_do_exit+0x10/0x10
[   56.790625]  ? __audit_syscall_entry+0x39c/0x500
[   56.790833]  __x64_sys_exit+0x50/0x60
[   56.791011]  x64_sys_call+0x20c9/0x20d0
[   56.791184]  do_syscall_64+0x6d/0x140
[   56.791356]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.791585] RIP: 0033:0x7f2e1423ee5d
[   56.791748] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.792009] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.792323] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.792620] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.792917] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.793220] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.793519] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.793822]  </TASK>
[   56.793924] Modules linked in:
[   56.794147] ---[ end trace 0000000000000000 ]---
[   56.794427] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.794759] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.794933] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#111] PREEMPT SMP KASAN NOPTI
[   56.795563] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   56.796430] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.796655] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   56.797189] CPU: 1 UID: 0 PID: 20948 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.797483] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   56.798125] Tainted: [D]=DIE, [W]=WARN
[   56.798131] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.798139] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.798456] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   56.798731] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.799198] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.799615] RSP: 0018:ffff88802b57f7d8 EFLAGS: 00010202
[   56.799913] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   56.801194] 
[   56.801493] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.801848] RAX: dffffc0000000000 RBX: ffffea00004bdf80 RCX: ffffffff81bc4f39
[   56.802157] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.802262] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004bdf90
[   56.802598] CR2: 00007f2f8c1d0030 CR3: 0000000019554006 CR4: 0000000000770ef0
[   56.803076] RBP: ffff88802b57f7f8 R08: 0000000000000000 R09: ffffed1003770e00
[   56.803321] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.803889] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.804263] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.804908] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801bb87000
[   56.805283] PKRU: 55555554
[   56.805924] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.806306] note: repro[20944] exited with preempt_count 1
[   56.806751] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.806873] Fixing recursive fault but reboot is needed!
[   56.807391] CR2: 00007fffdaca68b8 CR3: 0000000020434002 CR4: 0000000000770ef0
[   56.808802] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.809271] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.809740] PKRU: 55555554
[   56.809929] Call Trace:
[   56.810107]  <TASK>
[   56.810264]  ? show_regs+0x6d/0x80
[   56.810514]  ? die_addr+0x45/0xb0
[   56.810755]  ? exc_general_protection+0x1ae/0x340
[   56.811086]  ? asm_exc_general_protection+0x2b/0x30
[   56.811427]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.811777]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.812132]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.812479]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.812828]  zap_huge_pmd+0x48e/0xd40
[   56.813094]  unmap_page_range+0x1ad6/0x4360
[   56.813388]  ? update_stack_state+0x2d9/0x610
[   56.813699]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.814032]  ? __pfx_unmap_page_range+0x10/0x10
[   56.814343]  unmap_single_vma+0x1ac/0x2d0
[   56.814616]  unmap_vmas+0x210/0x470
[   56.814859]  ? __pfx_unmap_vmas+0x10/0x10
[   56.815130]  ? __pfx_lock_release+0x10/0x10
[   56.815409]  ? lock_release+0x592/0x870
[   56.815670]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.815997]  ? __pfx_lock_release+0x10/0x10
[   56.816283]  ? mlock_drain_local+0x27f/0x4b0
[   56.816571]  exit_mmap+0x19e/0xb10
[   56.816809]  ? __pfx_exit_mmap+0x10/0x10
[   56.817079]  ? debug_smp_processor_id+0x20/0x30
[   56.817370]  ? trace_hardirqs_on+0x51/0x60
[   56.817640]  ? kasan_quarantine_put+0xa2/0x200
[   56.817932]  ? __khugepaged_exit+0x266/0x4c0
[   56.818215]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.818559]  __mmput+0xde/0x3a0
[   56.818773]  mmput+0x74/0x90
[   56.818968]  do_exit+0xa03/0x29f0
[   56.819195]  ? trace_hardirqs_on+0x51/0x60
[   56.819462]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.819862]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.820173]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.820482]  ? __pfx_do_exit+0x10/0x10
[   56.820737]  ? __audit_syscall_entry+0x39c/0x500
[   56.821031]  __x64_sys_exit+0x50/0x60
[   56.821264]  x64_sys_call+0x20c9/0x20d0
[   56.821505]  do_syscall_64+0x6d/0x140
[   56.821738]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.822050] RIP: 0033:0x7f2e1423ee5d
[   56.822281] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.822645] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.823092] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.823510] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.823927] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.824345] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.824774] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.825198]  </TASK>
[   56.825339] Modules linked in:
[   56.825643] ---[ end trace 0000000000000000 ]---
[   56.825929] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.826350] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.827391] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   56.827701] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   56.828107] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   56.828515] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   56.828918] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.829310] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   56.829699] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.830210] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.830534] CR2: 00007fffdaca68b8 CR3: 0000000020434002 CR4: 0000000000770ef0
[   56.830927] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.831320] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.831711] PKRU: 55555554
[   56.831871] note: repro[20948] exited with preempt_count 1
[   56.832179] Fixing recursive fault but reboot is needed!
[   56.832471] BUG: scheduling while atomic: repro/20948/0x00000000
[   56.832798] INFO: lockdep is turned off.
[   56.833013] Modules linked in:
[   56.833188] Preemption disabled at:
[   56.833191] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   56.833674] CPU: 1 UID: 0 PID: 20948 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   56.834175] Tainted: [D]=DIE, [W]=WARN
[   56.834382] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.834978] Call Trace:
[   56.835125]  <TASK>
[   56.835253]  dump_stack_lvl+0x121/0x150
[   56.835475]  ? do_task_dead+0x28/0x110
[   56.835689]  dump_stack+0x19/0x20
[   56.835883]  __schedule_bug+0x12d/0x180
[   56.836113]  __schedule+0x23fe/0x33a0
[   56.836327]  ? do_task_dead+0xa8/0x110
[   56.836540]  ? rcu_is_watching+0x19/0xc0
[   56.836766]  ? lock_release+0x592/0x870
[   56.836984]  ? __pfx___schedule+0x10/0x10
[   56.837210]  ? debug_smp_processor_id+0x20/0x30
[   56.837455]  ? rcu_is_watching+0x19/0xc0
[   56.837673]  ? trace_irq_enable+0xe1/0x120
[   56.837902]  ? do_task_dead+0x4a/0x110
[   56.838111]  do_task_dead+0xe0/0x110
[   56.838311]  make_task_dead+0x384/0x3c0
[   56.838529]  rewind_stack_and_make_dead+0x16/0x20
[   56.838783] RIP: 0033:0x7f2e1423ee5d
[   56.838979] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   56.839300] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.839685] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   56.840044] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.840406] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   56.840771] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   56.841134] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   56.841498]  </TASK>
[   57.378777] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#112] PREEMPT SMP KASAN NOPTI
[   57.379786] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.380446] CPU: 1 UID: 0 PID: 21283 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   57.381599] Tainted: [D]=DIE, [W]=WARN
[   57.381921] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.382880] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.383391] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.384911] RSP: 0018:ffff888014b377d8 EFLAGS: 00010202
[   57.385611] RAX: dffffc0000000000 RBX: ffffea00003b4400 RCX: ffffffff81bc4f39
[   57.386243] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003b4410
[   57.386836] RBP: ffff888014b377f8 R08: 0000000000000000 R09: ffffed1003770f8c
[   57.387435] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.388041] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801bb87c60
[   57.388672] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.389743] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.390237] CR2: 00007f2e145f3bf0 CR3: 0000000014ab2005 CR4: 0000000000770ef0
[   57.390862] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.391461] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.392073] PKRU: 55555554
[   57.392316] Call Trace:
[   57.392549]  <TASK>
[   57.392750]  ? show_regs+0x6d/0x80
[   57.393258]  ? die_addr+0x45/0xb0
[   57.393705]  ? exc_general_protection+0x1ae/0x340
[   57.394117]  ? asm_exc_general_protection+0x2b/0x30
[   57.394553]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.395019]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.395455]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.395880]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.396318]  zap_huge_pmd+0x48e/0xd40
[   57.396640]  unmap_page_range+0x1ad6/0x4360
[   57.397005]  ? update_stack_state+0x2d9/0x610
[   57.397384]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.397789]  ? __pfx_unmap_page_range+0x10/0x10
[   57.398160]  unmap_single_vma+0x1ac/0x2d0
[   57.398503]  unmap_vmas+0x210/0x470
[   57.398799]  ? __pfx_unmap_vmas+0x10/0x10
[   57.399207]  ? __pfx_lock_release+0x10/0x10
[   57.399696]  ? lock_release+0x592/0x870
[   57.400090]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.400485]  ? __pfx_lock_release+0x10/0x10
[   57.400842]  ? mlock_drain_local+0x27f/0x4b0
[   57.401208]  exit_mmap+0x19e/0xb10
[   57.401497]  ? __pfx_exit_mmap+0x10/0x10
[   57.401816]  ? debug_smp_processor_id+0x20/0x30
[   57.402183]  ? trace_hardirqs_on+0x51/0x60
[   57.402525]  ? kasan_quarantine_put+0xa2/0x200
[   57.402889]  ? __khugepaged_exit+0x266/0x4c0
[   57.403237]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.403650]  __mmput+0xde/0x3a0
[   57.403901]  mmput+0x74/0x90
[   57.404134]  do_exit+0xa03/0x29f0
[   57.404399]  ? trace_hardirqs_on+0x51/0x60
[   57.404714]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.405206]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.405770]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.406277]  ? __pfx_do_exit+0x10/0x10
[   57.406610]  ? __audit_syscall_entry+0x39c/0x500
[   57.406978]  __x64_sys_exit+0x50/0x60
[   57.407274]  x64_sys_call+0x20c9/0x20d0
[   57.407570]  do_syscall_64+0x6d/0x140
[   57.407859]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.408247] RIP: 0033:0x7f2e1423ee5d
[   57.408527] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   57.408975] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.409531] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   57.410036] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.410541] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   57.411055] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   57.411558] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   57.412058]  </TASK>
[   57.412305] Modules linked in:
[   57.412602] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#113] PREEMPT SMP KASAN NOPTI
[   57.412719] ---[ end trace 0000000000000000 ]---
[   57.413719] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.413736] CPU: 0 UID: 0 PID: 21287 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   57.413762] Tainted: [D]=DIE, [W]=WARN
[   57.414152] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.414749] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.415362] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.415705] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.416314] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   57.417313] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.418538] 
[   57.419009] RSP: 0018:ffff88802b7a77d8 EFLAGS: 00010202
[   57.419409] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   57.420969] 
[   57.421084] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   57.421544] RAX: dffffc0000000000 RBX: ffffea0000e15b00 RCX: ffffffff81bc4f39
[   57.421979] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   57.422140] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e15b10
[   57.422152] RBP: ffff88802b7a77f8 R08: 0000000000000000 R09: ffffed1002303030
[   57.422789] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.423423] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.423864] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   57.424484] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011818180
[   57.424926] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.425570] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   57.425995] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.426623] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.426637] CR2: 00007f2e145bf5b8 CR3: 000000002b7ce005 CR4: 0000000000770ef0
[   57.427062] CR2: 00007f2e145f3bf0 CR3: 0000000014ab2005 CR4: 0000000000770ef0
[   57.427788] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.428285] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.428778] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.429140] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.429768] PKRU: 55555554
[   57.430238] PKRU: 55555554
[   57.430853] Call Trace:
[   57.431313] note: repro[21283] exited with preempt_count 1
[   57.431940]  <TASK>
[   57.432399] Fixing recursive fault but reboot is needed!
[   57.432659]  ? show_regs+0x6d/0x80
[   57.434569]  ? die_addr+0x45/0xb0
[   57.434905]  ? exc_general_protection+0x1ae/0x340
[   57.435369]  ? asm_exc_general_protection+0x2b/0x30
[   57.435844]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.436331]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.436812]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.437311]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.437793]  zap_huge_pmd+0x48e/0xd40
[   57.438165]  unmap_page_range+0x1ad6/0x4360
[   57.438568]  ? update_stack_state+0x2d9/0x610
[   57.439006]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.439483]  ? __pfx_unmap_page_range+0x10/0x10
[   57.439932]  unmap_single_vma+0x1ac/0x2d0
[   57.440339]  unmap_vmas+0x210/0x470
[   57.440686]  ? __pfx_unmap_vmas+0x10/0x10
[   57.441089]  ? __pfx_lock_release+0x10/0x10
[   57.441540]  ? lock_release+0x592/0x870
[   57.441911]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.442387]  ? __pfx_lock_release+0x10/0x10
[   57.442792]  ? mlock_drain_local+0x27f/0x4b0
[   57.443243]  exit_mmap+0x19e/0xb10
[   57.443684]  ? __pfx_exit_mmap+0x10/0x10
[   57.444176]  ? debug_smp_processor_id+0x20/0x30
[   57.444734]  ? trace_hardirqs_on+0x51/0x60
[   57.445251]  ? kasan_quarantine_put+0xa2/0x200
[   57.445802]  ? __khugepaged_exit+0x266/0x4c0
[   57.446338]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.446995]  __mmput+0xde/0x3a0
[   57.447395]  mmput+0x74/0x90
[   57.447763]  do_exit+0xa03/0x29f0
[   57.448189]  ? trace_hardirqs_on+0x51/0x60
[   57.448695]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.449454]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.450048]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.450636]  ? __pfx_do_exit+0x10/0x10
[   57.451113]  ? __audit_syscall_entry+0x39c/0x500
[   57.451683]  __x64_sys_exit+0x50/0x60
[   57.452145]  x64_sys_call+0x20c9/0x20d0
[   57.452619]  do_syscall_64+0x6d/0x140
[   57.453085]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.453702] RIP: 0033:0x7f2e1423ee5d
[   57.454146] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   57.454869] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.455760] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   57.456598] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.457436] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   57.458274] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   57.459108] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   57.459949]  </TASK>
[   57.460230] Modules linked in:
[   57.460734] ---[ end trace 0000000000000000 ]---
[   57.460802] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#114] PREEMPT SMP KASAN NOPTI
[   57.461301] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.462181] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.462195] CPU: 1 UID: 0 PID: 21327 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   57.462872] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.463420] Tainted: [D]=DIE, [W]=WARN
[   57.464474] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   57.465785] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.466251] 
[   57.466599] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.467913] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   57.468035] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.468704] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   57.469198] RSP: 0018:ffff8880216f77d8 EFLAGS: 00010202
[   57.471338] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   57.471813] 
[   57.471817] RAX: dffffc0000000000 RBX: ffffea000054f480 RCX: ffffffff81bc4f39
[   57.472427] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.472909] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000054f490
[   57.473111] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   57.473577] RBP: ffff8880216f77f8 R08: 0000000000000000 R09: ffffed10042c1aa8
[   57.474424] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   57.474880] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.475725] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.476184] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802160d540
[   57.477117] CR2: 00007f2e145bf5b8 CR3: 000000002b7ce005 CR4: 0000000000770ef0
[   57.477586] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.478288] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.478725] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.479570] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.480069] CR2: 00007f2f8c1e5000 CR3: 000000002071e002 CR4: 0000000000770ef0
[   57.480894] PKRU: 55555554
[   57.481264] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.482109] note: repro[21287] exited with preempt_count 1
[   57.482545] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.482874] Fixing recursive fault but reboot is needed!
[   57.483326] PKRU: 55555554
[   57.484954] Call Trace:
[   57.485118]  <TASK>
[   57.485267]  ? show_regs+0x6d/0x80
[   57.485517]  ? die_addr+0x45/0xb0
[   57.485752]  ? exc_general_protection+0x1ae/0x340
[   57.486074]  ? asm_exc_general_protection+0x2b/0x30
[   57.486410]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.486757]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.487108]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.487449]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.487799]  zap_huge_pmd+0x48e/0xd40
[   57.488062]  unmap_page_range+0x1ad6/0x4360
[   57.488347]  ? update_stack_state+0x2d9/0x610
[   57.488661]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.489002]  ? __pfx_unmap_page_range+0x10/0x10
[   57.489311]  unmap_single_vma+0x1ac/0x2d0
[   57.489581]  unmap_vmas+0x210/0x470
[   57.489824]  ? __pfx_unmap_vmas+0x10/0x10
[   57.490097]  ? __pfx_lock_release+0x10/0x10
[   57.490370]  ? lock_release+0x592/0x870
[   57.490621]  ? mas_next_slot+0x133a/0x1a50
[   57.490892]  ? __pfx_lock_release+0x10/0x10
[   57.491171]  ? mlock_drain_local+0x27f/0x4b0
[   57.491454]  exit_mmap+0x19e/0xb10
[   57.491685]  ? __pfx_exit_mmap+0x10/0x10
[   57.491942]  ? debug_smp_processor_id+0x20/0x30
[   57.492242]  ? trace_hardirqs_on+0x51/0x60
[   57.492516]  ? kasan_quarantine_put+0xa2/0x200
[   57.492804]  ? __khugepaged_exit+0x266/0x4c0
[   57.493091]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.493434]  __mmput+0xde/0x3a0
[   57.493648]  mmput+0x74/0x90
[   57.493843]  do_exit+0xa03/0x29f0
[   57.494070]  ? trace_hardirqs_on+0x51/0x60
[   57.494339]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.494730]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.495037]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.495344]  ? __pfx_do_exit+0x10/0x10
[   57.495590]  ? __audit_syscall_entry+0x39c/0x500
[   57.495894]  __x64_sys_exit+0x50/0x60
[   57.496135]  x64_sys_call+0x20c9/0x20d0
[   57.496383]  do_syscall_64+0x6d/0x140
[   57.496624]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.496943] RIP: 0033:0x7f2e1423ee5d
[   57.497175] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   57.497547] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.498011] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   57.498431] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.498842] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   57.499257] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   57.499669] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   57.500090]  </TASK>
[   57.500231] Modules linked in:
[   57.500550] ---[ end trace 0000000000000000 ]---
[   57.500833] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.501181] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.502285] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   57.502597] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   57.503009] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   57.503405] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   57.503801] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.504193] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   57.504588] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.505032] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.505362] CR2: 00007f2f8c1e5000 CR3: 000000002071e002 CR4: 0000000000770ef0
[   57.505761] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.506169] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.506570] PKRU: 55555554
[   57.506735] note: repro[21327] exited with preempt_count 1
[   57.507047] Fixing recursive fault but reboot is needed!
[   57.507337] BUG: scheduling while atomic: repro/21327/0x00000000
[   57.507665] INFO: lockdep is turned off.
[   57.507881] Modules linked in:
[   57.508064] Preemption disabled at:
[   57.508067] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   57.508561] CPU: 1 UID: 0 PID: 21327 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   57.509056] Tainted: [D]=DIE, [W]=WARN
[   57.509264] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.509867] Call Trace:
[   57.510011]  <TASK>
[   57.510140]  dump_stack_lvl+0x121/0x150
[   57.510366]  ? do_task_dead+0x28/0x110
[   57.510583]  dump_stack+0x19/0x20
[   57.510785]  __schedule_bug+0x12d/0x180
[   57.511011]  __schedule+0x23fe/0x33a0
[   57.511229]  ? do_task_dead+0xa8/0x110
[   57.511449]  ? rcu_is_watching+0x19/0xc0
[   57.511669]  ? lock_release+0x592/0x870
[   57.511885]  ? __pfx___schedule+0x10/0x10
[   57.512124]  ? debug_smp_processor_id+0x20/0x30
[   57.512371]  ? rcu_is_watching+0x19/0xc0
[   57.512592]  ? trace_irq_enable+0xe1/0x120
[   57.512823]  ? do_task_dead+0x4a/0x110
[   57.513032]  do_task_dead+0xe0/0x110
[   57.513233]  make_task_dead+0x384/0x3c0
[   57.513449]  rewind_stack_and_make_dead+0x16/0x20
[   57.513708] RIP: 0033:0x7f2e1423ee5d
[   57.513906] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   57.514231] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.514621] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   57.514998] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.515360] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   57.515716] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   57.516076] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   57.516440]  </TASK>
[   58.045258] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#115] PREEMPT SMP KASAN NOPTI
[   58.046701] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.047596] CPU: 0 UID: 0 PID: 21722 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   58.048674] Tainted: [D]=DIE, [W]=WARN
[   58.049129] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.050452] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.051156] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.053359] RSP: 0018:ffff8880288377d8 EFLAGS: 00010202
[   58.053990] RAX: dffffc0000000000 RBX: ffffea00003e6540 RCX: ffffffff81bc4f39
[   58.054824] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003e6550
[   58.055661] RBP: ffff8880288377f8 R08: 0000000000000000 R09: ffffed100373fc54
[   58.056499] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.057335] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b9fe2a0
[   58.058174] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.059117] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.059798] CR2: 00007f2e143fca50 CR3: 0000000014b30006 CR4: 0000000000770ef0
[   58.060641] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.061479] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.062317] PKRU: 55555554
[   58.062649] Call Trace:
[   58.062958]  <TASK>
[   58.063235]  ? show_regs+0x6d/0x80
[   58.063666]  ? die_addr+0x45/0xb0
[   58.064093]  ? exc_general_protection+0x1ae/0x340
[   58.064674]  ? asm_exc_general_protection+0x2b/0x30
[   58.065281]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.065900]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.066528]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.067155]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.067776]  zap_huge_pmd+0x48e/0xd40
[   58.068243]  unmap_page_range+0x1ad6/0x4360
[   58.068757]  ? update_stack_state+0x2d9/0x610
[   58.069314]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.069926]  ? __pfx_unmap_page_range+0x10/0x10
[   58.070496]  unmap_single_vma+0x1ac/0x2d0
[   58.070999]  unmap_vmas+0x210/0x470
[   58.071443]  ? __pfx_unmap_vmas+0x10/0x10
[   58.071937]  ? __pfx_lock_release+0x10/0x10
[   58.072458]  ? lock_release+0x592/0x870
[   58.072929]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.073529]  ? __pfx_lock_release+0x10/0x10
[   58.074053]  ? mlock_drain_local+0x27f/0x4b0
[   58.074582]  exit_mmap+0x19e/0xb10
[   58.075021]  ? __pfx_exit_mmap+0x10/0x10
[   58.075506]  ? debug_smp_processor_id+0x20/0x30
[   58.076064]  ? trace_hardirqs_on+0x51/0x60
[   58.076569]  ? kasan_quarantine_put+0xa2/0x200
[   58.077122]  ? __khugepaged_exit+0x266/0x4c0
[   58.077652]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.078274]  __mmput+0xde/0x3a0
[   58.078654]  mmput+0x74/0x90
[   58.079012]  do_exit+0xa03/0x29f0
[   58.079412]  ? trace_hardirqs_on+0x51/0x60
[   58.079890]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.080609]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.081174]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.081732]  ? __pfx_do_exit+0x10/0x10
[   58.082182]  ? __audit_syscall_entry+0x39c/0x500
[   58.082721]  __x64_sys_exit+0x50/0x60
[   58.083158]  x64_sys_call+0x20c9/0x20d0
[   58.083606]  do_syscall_64+0x6d/0x140
[   58.084044]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.084627] RIP: 0033:0x7f2e1423ee5d
[   58.085049] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   58.085710] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.086513] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   58.087264] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.088017] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   58.088769] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   58.089523] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   58.090286]  </TASK>
[   58.090537] Modules linked in:
[   58.090882] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#116] PREEMPT SMP KASAN NOPTI
[   58.091033] ---[ end trace 0000000000000000 ]---
[   58.091996] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.092492] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.093156] CPU: 1 UID: 0 PID: 21754 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   58.093736] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.094547] Tainted: [D]=DIE, [W]=WARN
[   58.094554] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.094565] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.094593] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.094609] RSP: 0018:ffff88801a8d77d8 EFLAGS: 00010202
[   58.094624] RAX: dffffc0000000000 RBX: ffffea0000ad2e00 RCX: ffffffff81bc4f39
[   58.096467] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   58.096814] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ad2e10
[   58.097945] 
[   58.098458] RBP: ffff88801a8d77f8 R08: 0000000000000000 R09: ffffed1002a5d398
[   58.098470] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.098481] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880152e9cc0
[   58.098492] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.098506] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.098517] CR2: 00007f2e145bf5b8 CR3: 000000001fac6001 CR4: 0000000000770ef0
[   58.098531] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.100346] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   58.100811] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.101493] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   58.101959] PKRU: 55555554
[   58.102762] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   58.102797] Call Trace:
[   58.103481] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.104112]  <TASK>
[   58.104120]  ? show_regs+0x6d/0x80
[   58.104145]  ? die_addr+0x45/0xb0
[   58.104169]  ? exc_general_protection+0x1ae/0x340
[   58.104830] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   58.105551]  ? asm_exc_general_protection+0x2b/0x30
[   58.106183] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.106706]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.107354] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.107985]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.108637] CR2: 00007f2e143fca50 CR3: 0000000014b30006 CR4: 0000000000770ef0
[   58.109278]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.109537] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.110170]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.110198]  zap_huge_pmd+0x48e/0xd40
[   58.110225]  unmap_page_range+0x1ad6/0x4360
[   58.110248]  ? update_stack_state+0x2d9/0x610
[   58.110482] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.111131]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.111316] PKRU: 55555554
[   58.111633]  ? __pfx_unmap_page_range+0x10/0x10
[   58.111931] note: repro[21722] exited with preempt_count 1
[   58.112367]  unmap_single_vma+0x1ac/0x2d0
[   58.112987] Fixing recursive fault but reboot is needed!
[   58.113430]  unmap_vmas+0x210/0x470
[   58.122243]  ? __pfx_unmap_vmas+0x10/0x10
[   58.122640]  ? __pfx_lock_release+0x10/0x10
[   58.123045]  ? lock_release+0x592/0x870
[   58.123418]  ? mas_next_slot+0x133a/0x1a50
[   58.123812]  ? __pfx_lock_release+0x10/0x10
[   58.124219]  ? mlock_drain_local+0x27f/0x4b0
[   58.124632]  exit_mmap+0x19e/0xb10
[   58.124972]  ? __pfx_exit_mmap+0x10/0x10
[   58.125367]  ? debug_smp_processor_id+0x20/0x30
[   58.125813]  ? trace_hardirqs_on+0x51/0x60
[   58.126213]  ? kasan_quarantine_put+0xa2/0x200
[   58.126663]  ? __khugepaged_exit+0x266/0x4c0
[   58.127081]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.127596]  __mmput+0xde/0x3a0
[   58.127916]  mmput+0x74/0x90
[   58.128221]  do_exit+0xa03/0x29f0
[   58.128562]  ? trace_hardirqs_on+0x51/0x60
[   58.128965]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.129565]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.130038]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.130498]  ? __pfx_do_exit+0x10/0x10
[   58.130878]  ? __audit_syscall_entry+0x39c/0x500
[   58.131338]  __x64_sys_exit+0x50/0x60
[   58.131708]  x64_sys_call+0x20c9/0x20d0
[   58.132095]  do_syscall_64+0x6d/0x140
[   58.132464]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.132954] RIP: 0033:0x7f2e1423ee5d
[   58.133308] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   58.133871] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.134565] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   58.135216] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.135866] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   58.136519] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   58.137186] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   58.137836]  </TASK>
[   58.138053] Modules linked in:
[   58.138405] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#117] PREEMPT SMP KASAN NOPTI
[   58.138551] ---[ end trace 0000000000000000 ]---
[   58.139584] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.140369] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.140964] CPU: 0 UID: 0 PID: 21762 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   58.141572] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.142343] Tainted: [D]=DIE, [W]=WARN
[   58.142350] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.142361] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.144083] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   58.144475] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.145498] 
[   58.146078] RSP: 0018:ffff8880263df7d8 EFLAGS: 00010202
[   58.146097] RAX: dffffc0000000000 RBX: ffffea00003f2780 RCX: ffffffff81bc4f39
[   58.146681] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   58.148318] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003f2790
[   58.148496] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   58.148961] RBP: ffff8880263df7f8 R08: 0000000000000000 R09: ffffed1005698000
[   58.149694] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   58.150562] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.150573] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802b4c0000
[   58.150585] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.150599] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.151593] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.152290] CR2: 00007f2f8c1f6000 CR3: 000000002611c001 CR4: 0000000000770ef0
[   58.152933] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   58.153562] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.154315] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.154988] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.155719] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.156362] PKRU: 55555554
[   58.157603] CR2: 00007f2e145bf5b8 CR3: 000000001fac6001 CR4: 0000000000770ef0
[   58.158284] Call Trace:
[   58.158292]  <TASK>
[   58.158300]  ? show_regs+0x6d/0x80
[   58.159285] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.159987]  ? die_addr+0x45/0xb0
[   58.160723] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.161436]  ? exc_general_protection+0x1ae/0x340
[   58.162250] PKRU: 55555554
[   58.162578]  ? asm_exc_general_protection+0x2b/0x30
[   58.163214] note: repro[21754] exited with preempt_count 1
[   58.163487]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.163686] Fixing recursive fault but reboot is needed!
[   58.164054]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.168771]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.169272]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.169764]  zap_huge_pmd+0x48e/0xd40
[   58.170133]  unmap_page_range+0x1ad6/0x4360
[   58.170543]  ? update_stack_state+0x2d9/0x610
[   58.170995]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.171475]  ? __pfx_unmap_page_range+0x10/0x10
[   58.171918]  unmap_single_vma+0x1ac/0x2d0
[   58.172328]  unmap_vmas+0x210/0x470
[   58.172677]  ? __pfx_unmap_vmas+0x10/0x10
[   58.173069]  ? __pfx_lock_release+0x10/0x10
[   58.173459]  ? lock_release+0x592/0x870
[   58.173831]  ? mas_next_slot+0x133a/0x1a50
[   58.174239]  ? __pfx_lock_release+0x10/0x10
[   58.174650]  ? mlock_drain_local+0x27f/0x4b0
[   58.175067]  exit_mmap+0x19e/0xb10
[   58.175404]  ? __pfx_exit_mmap+0x10/0x10
[   58.175783]  ? debug_smp_processor_id+0x20/0x30
[   58.176235]  ? trace_hardirqs_on+0x51/0x60
[   58.176632]  ? kasan_quarantine_put+0xa2/0x200
[   58.177070]  ? __khugepaged_exit+0x266/0x4c0
[   58.177487]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.177994]  __mmput+0xde/0x3a0
[   58.178312]  mmput+0x74/0x90
[   58.178609]  do_exit+0xa03/0x29f0
[   58.178938]  ? trace_hardirqs_on+0x51/0x60
[   58.179343]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.179926]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.180388]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.180847]  ? __pfx_do_exit+0x10/0x10
[   58.181226]  ? __audit_syscall_entry+0x39c/0x500
[   58.181671]  __x64_sys_exit+0x50/0x60
[   58.182040]  x64_sys_call+0x20c9/0x20d0
[   58.182412]  do_syscall_64+0x6d/0x140
[   58.182768]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.183258] RIP: 0033:0x7f2e1423ee5d
[   58.183593] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   58.184153] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.184837] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   58.185485] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.186139] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   58.186784] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   58.187433] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   58.188089]  </TASK>
[   58.188303] Modules linked in:
[   58.188786] ---[ end trace 0000000000000000 ]---
[   58.189237] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.189774] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.191505] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   58.192017] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   58.192664] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   58.193305] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   58.193944] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.194671] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   58.195409] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.196143] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.196667] CR2: 00007f2f8c1f6000 CR3: 000000002611c001 CR4: 0000000000770ef0
[   58.197326] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.197969] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.198742] PKRU: 55555554
[   58.199019] note: repro[21762] exited with preempt_count 1
[   58.199525] Fixing recursive fault but reboot is needed!
[   58.200016] BUG: scheduling while atomic: repro/21762/0x00000000
[   58.200565] INFO: lockdep is turned off.
[   58.200925] Modules linked in:
[   58.201230] Preemption disabled at:
[   58.201236] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   58.202093] CPU: 0 UID: 0 PID: 21762 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   58.202940] Tainted: [D]=DIE, [W]=WARN
[   58.203290] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.204303] Call Trace:
[   58.204539]  <TASK>
[   58.204746]  dump_stack_lvl+0x121/0x150
[   58.205123]  ? do_task_dead+0x28/0x110
[   58.205484]  dump_stack+0x19/0x20
[   58.205814]  __schedule_bug+0x12d/0x180
[   58.206198]  __schedule+0x23fe/0x33a0
[   58.206563]  ? do_task_dead+0xa8/0x110
[   58.206936]  ? rcu_is_watching+0x19/0xc0
[   58.207325]  ? lock_release+0x592/0x870
[   58.207693]  ? __pfx___schedule+0x10/0x10
[   58.208094]  ? debug_smp_processor_id+0x20/0x30
[   58.208527]  ? rcu_is_watching+0x19/0xc0
[   58.208902]  ? trace_irq_enable+0xe1/0x120
[   58.209296]  ? do_task_dead+0x4a/0x110
[   58.209543]  do_task_dead+0xe0/0x110
[   58.209773]  make_task_dead+0x384/0x3c0
[   58.210027]  rewind_stack_and_make_dead+0x16/0x20
[   58.210321] RIP: 0033:0x7f2e1423ee5d
[   58.210547] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   58.210907] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.211346] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   58.211755] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.212200] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   58.212638] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   58.213088] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   58.213539]  </TASK>
[   58.578524] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#118] PREEMPT SMP KASAN NOPTI
[   58.579657] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.580372] CPU: 1 UID: 0 PID: 22018 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   58.581225] Tainted: [D]=DIE, [W]=WARN
[   58.581576] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.582608] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.583162] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.584835] RSP: 0018:ffff8880288a77d8 EFLAGS: 00010202
[   58.585324] RAX: dffffc0000000000 RBX: ffffea0000ade640 RCX: ffffffff81bc4f39
[   58.585992] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000ade650
[   58.586637] RBP: ffff8880288a77f8 R08: 0000000000000000 R09: ffffed1002432c24
[   58.587277] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.587905] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012196120
[   58.588529] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.589239] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.589744] CR2: 00007f2e1429bc20 CR3: 000000001fb2c005 CR4: 0000000000770ef0
[   58.590372] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.591009] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.591634] PKRU: 55555554
[   58.591886] Call Trace:
[   58.592117]  <TASK>
[   58.592322]  ? show_regs+0x6d/0x80
[   58.592660]  ? die_addr+0x45/0xb0
[   58.592976]  ? exc_general_protection+0x1ae/0x340
[   58.593425]  ? asm_exc_general_protection+0x2b/0x30
[   58.593890]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.594372]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.594835]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.595321]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.595794]  zap_huge_pmd+0x48e/0xd40
[   58.596151]  unmap_page_range+0x1ad6/0x4360
[   58.596548]  ? update_stack_state+0x2d9/0x610
[   58.596975]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.597446]  ? __pfx_unmap_page_range+0x10/0x10
[   58.597875]  unmap_single_vma+0x1ac/0x2d0
[   58.598238]  unmap_vmas+0x210/0x470
[   58.598569]  ? __pfx_unmap_vmas+0x10/0x10
[   58.598934]  ? __pfx_lock_release+0x10/0x10
[   58.599306]  ? lock_release+0x592/0x870
[   58.599648]  ? mas_next_slot+0x133a/0x1a50
[   58.600011]  ? __pfx_lock_release+0x10/0x10
[   58.600381]  ? mlock_drain_local+0x27f/0x4b0
[   58.600762]  exit_mmap+0x19e/0xb10
[   58.601079]  ? __pfx_exit_mmap+0x10/0x10
[   58.601433]  ? debug_smp_processor_id+0x20/0x30
[   58.601833]  ? trace_hardirqs_on+0x51/0x60
[   58.602192]  ? kasan_quarantine_put+0xa2/0x200
[   58.602589]  ? __khugepaged_exit+0x266/0x4c0
[   58.602966]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.603421]  __mmput+0xde/0x3a0
[   58.603700]  mmput+0x74/0x90
[   58.603963]  do_exit+0xa03/0x29f0
[   58.604264]  ? trace_hardirqs_on+0x51/0x60
[   58.604611]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.605123]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.605527]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.605937]  ? __pfx_do_exit+0x10/0x10
[   58.606263]  ? __audit_syscall_entry+0x39c/0x500
[   58.606654]  __x64_sys_exit+0x50/0x60
[   58.606978]  x64_sys_call+0x20c9/0x20d0
[   58.607316]  do_syscall_64+0x6d/0x140
[   58.607637]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.608064] RIP: 0033:0x7f2e1423ee5d
[   58.608364] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   58.608862] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.609465] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   58.610032] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.610589] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   58.611158] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   58.611714] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   58.612268]  </TASK>
[   58.612446] Modules linked in:
[   58.612812] ---[ end trace 0000000000000000 ]---
[   58.613180] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.613624] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.615046] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   58.615430] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   58.615932] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   58.616438] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   58.616941] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.617458] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   58.617967] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.618620] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.619047] CR2: 00007f2e1429bc20 CR3: 000000001fb2c005 CR4: 0000000000770ef0
[   58.619555] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.620065] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.620569] PKRU: 55555554
[   58.620774] note: repro[22018] exited with preempt_count 1
[   58.621173] Fixing recursive fault but reboot is needed!
[   58.621548] BUG: scheduling while atomic: repro/22018/0x00000000
[   58.621963] INFO: lockdep is turned off.
[   58.622291] Modules linked in:
[   58.622518] Preemption disabled at:
[   58.622522] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   58.623148] CPU: 1 UID: 0 PID: 22018 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   58.623778] Tainted: [D]=DIE, [W]=WARN
[   58.624049] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.624815] Call Trace:
[   58.624998]  <TASK>
[   58.625159]  dump_stack_lvl+0x121/0x150
[   58.625439]  ? do_task_dead+0x28/0x110
[   58.625708]  dump_stack+0x19/0x20
[   58.625953]  __schedule_bug+0x12d/0x180
[   58.626227]  __schedule+0x23fe/0x33a0
[   58.626493]  ? do_task_dead+0xa8/0x110
[   58.626756]  ? rcu_is_watching+0x19/0xc0
[   58.627038]  ? lock_release+0x592/0x870
[   58.627309]  ? __pfx___schedule+0x10/0x10
[   58.627597]  ? debug_smp_processor_id+0x20/0x30
[   58.627912]  ? rcu_is_watching+0x19/0xc0
[   58.628196]  ? trace_irq_enable+0xe1/0x120
[   58.628489]  ? do_task_dead+0x4a/0x110
[   58.628755]  do_task_dead+0xe0/0x110
[   58.629012]  make_task_dead+0x384/0x3c0
[   58.629282]  rewind_stack_and_make_dead+0x16/0x20
[   58.629607] RIP: 0033:0x7f2e1423ee5d
[   58.629852] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   58.630265] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.630768] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   58.631235] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.631701] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   58.632171] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   58.632636] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   58.633104]  </TASK>
[   59.120534] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#119] PREEMPT SMP KASAN NOPTI
[   59.121636] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.122499] CPU: 0 UID: 0 PID: 22391 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   59.123616] Tainted: [D]=DIE, [W]=WARN
[   59.124000] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.125034] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.125593] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.127588] RSP: 0018:ffff888012e9f7d8 EFLAGS: 00010202
[   59.128095] RAX: dffffc0000000000 RBX: ffffea00003f9cc0 RCX: ffffffff81bc4f39
[   59.128747] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00003f9cd0
[   59.129398] RBP: ffff888012e9f7f8 R08: 0000000000000000 R09: ffffed100356a738
[   59.130090] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.130746] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801ab539c0
[   59.131401] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.132148] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.132676] CR2: 00007f2e145f3bf0 CR3: 000000000ffd4001 CR4: 0000000000770ef0
[   59.133327] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.133975] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.134735] PKRU: 55555554
[   59.135154] Call Trace:
[   59.135527]  <TASK>
[   59.135753]  ? show_regs+0x6d/0x80
[   59.136118]  ? die_addr+0x45/0xb0
[   59.136461]  ? exc_general_protection+0x1ae/0x340
[   59.136922]  ? asm_exc_general_protection+0x2b/0x30
[   59.137412]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.137895]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.138389]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.138886]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.139380]  zap_huge_pmd+0x48e/0xd40
[   59.139753]  unmap_page_range+0x1ad6/0x4360
[   59.140188]  ? update_stack_state+0x2d9/0x610
[   59.140641]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.141150]  ? __pfx_unmap_page_range+0x10/0x10
[   59.141602]  unmap_single_vma+0x1ac/0x2d0
[   59.142015]  unmap_vmas+0x210/0x470
[   59.142382]  ? __pfx_unmap_vmas+0x10/0x10
[   59.142794]  ? __pfx_lock_release+0x10/0x10
[   59.143417]  ? lock_release+0x592/0x870
[   59.143907]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   59.144409]  ? __pfx_lock_release+0x10/0x10
[   59.144839]  ? mlock_drain_local+0x27f/0x4b0
[   59.145270]  exit_mmap+0x19e/0xb10
[   59.145618]  ? __pfx_exit_mmap+0x10/0x10
[   59.146004]  ? debug_smp_processor_id+0x20/0x30
[   59.146446]  ? trace_hardirqs_on+0x51/0x60
[   59.146849]  ? kasan_quarantine_put+0xa2/0x200
[   59.147291]  ? __khugepaged_exit+0x266/0x4c0
[   59.147708]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.148226]  __mmput+0xde/0x3a0
[   59.148544]  mmput+0x74/0x90
[   59.148846]  do_exit+0xa03/0x29f0
[   59.149195]  ? trace_hardirqs_on+0x51/0x60
[   59.149598]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.150198]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.150682]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.151264]  ? __pfx_do_exit+0x10/0x10
[   59.151845]  ? __audit_syscall_entry+0x39c/0x500
[   59.152349]  __x64_sys_exit+0x50/0x60
[   59.152733]  x64_sys_call+0x20c9/0x20d0
[   59.153138]  do_syscall_64+0x6d/0x140
[   59.153499]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.153980] RIP: 0033:0x7f2e1423ee5d
[   59.154332] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   59.154890] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.155585] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   59.156232] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.156915] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   59.157576] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   59.158223] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   59.158873]  </TASK>
[   59.159097] Modules linked in:
[   59.159641] ---[ end trace 0000000000000000 ]---
[   59.160087] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.160729] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.162881] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   59.163405] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   59.164051] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   59.164695] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   59.165093] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#120] PREEMPT SMP KASAN NOPTI
[   59.165347] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.166452] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.166472] CPU: 1 UID: 0 PID: 22419 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   59.166496] Tainted: [D]=DIE, [W]=WARN
[   59.166503] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.166513] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.166541] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.167193] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   59.167875] RSP: 0018:ffff88803853f7d8 EFLAGS: 00010202
[   59.168685] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.169031] 
[   59.170349] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.170802] RAX: dffffc0000000000 RBX: ffffea0000a2ad80 RCX: ffffffff81bc4f39
[   59.172452] CR2: 00007f2e145f3bf0 CR3: 000000000ffd4001 CR4: 0000000000770ef0
[   59.173097] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a2ad90
[   59.173566] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.174310] RBP: ffff88803853f7f8 R08: 0000000000000000 R09: ffffed10023c8d14
[   59.174332] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.174508] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.175036] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011e468a0
[   59.175670] PKRU: 55555554
[   59.176311] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.177011] note: repro[22391] exited with preempt_count 1
[   59.177676] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.178342] Fixing recursive fault but reboot is needed!
[   59.178958] CR2: 00007f2f8c20b000 CR3: 00000000260c0001 CR4: 0000000000770ef0
[   59.183503] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.184167] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.184852] PKRU: 55555554
[   59.185124] Call Trace:
[   59.185376]  <TASK>
[   59.185596]  ? show_regs+0x6d/0x80
[   59.185957]  ? die_addr+0x45/0xb0
[   59.186301]  ? exc_general_protection+0x1ae/0x340
[   59.186791]  ? asm_exc_general_protection+0x2b/0x30
[   59.187515]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.188176]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.188690]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.189201]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.189701]  zap_huge_pmd+0x48e/0xd40
[   59.190079]  unmap_page_range+0x1ad6/0x4360
[   59.190497]  ? update_stack_state+0x2d9/0x610
[   59.190948]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.191425]  ? __pfx_unmap_page_range+0x10/0x10
[   59.191898]  unmap_single_vma+0x1ac/0x2d0
[   59.192332]  unmap_vmas+0x210/0x470
[   59.192782]  ? __pfx_unmap_vmas+0x10/0x10
[   59.193301]  ? __pfx_lock_release+0x10/0x10
[   59.193736]  ? lock_release+0x592/0x870
[   59.194133]  ? mas_next_slot+0x133a/0x1a50
[   59.194543]  ? __pfx_lock_release+0x10/0x10
[   59.194970]  ? mlock_drain_local+0x27f/0x4b0
[   59.195404]  exit_mmap+0x19e/0xb10
[   59.195751]  ? __pfx_exit_mmap+0x10/0x10
[   59.196155]  ? debug_smp_processor_id+0x20/0x30
[   59.196598]  ? trace_hardirqs_on+0x51/0x60
[   59.197026]  ? kasan_quarantine_put+0xa2/0x200
[   59.197486]  ? __khugepaged_exit+0x266/0x4c0
[   59.197925]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.198443]  __mmput+0xde/0x3a0
[   59.198771]  mmput+0x74/0x90
[   59.199085]  do_exit+0xa03/0x29f0
[   59.199434]  ? trace_hardirqs_on+0x51/0x60
[   59.199839]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.200444]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.200920]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.201405]  ? __pfx_do_exit+0x10/0x10
[   59.201778]  ? __audit_syscall_entry+0x39c/0x500
[   59.202242]  __x64_sys_exit+0x50/0x60
[   59.202624]  x64_sys_call+0x20c9/0x20d0
[   59.203033]  do_syscall_64+0x6d/0x140
[   59.203404]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.204280] RIP: 0033:0x7f2e1423ee5d
[   59.204728] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   59.205312] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.206019] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   59.206682] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.207336] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   59.207998] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   59.208647] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   59.209329]  </TASK>
[   59.209567] Modules linked in:
[   59.209935] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#121] PREEMPT SMP KASAN NOPTI
[   59.210111] ---[ end trace 0000000000000000 ]---
[   59.211102] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.211535] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.212211] CPU: 0 UID: 0 PID: 22454 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   59.212735] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.213558] Tainted: [D]=DIE, [W]=WARN
[   59.215281] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   59.215549] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.215562] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.216157] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   59.217162] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.217693] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   59.218340] RSP: 0018:ffff888014e7f7d8 EFLAGS: 00010202
[   59.218359] RAX: dffffc0000000000 RBX: ffffea0000496940 RCX: ffffffff81bc4f39
[   59.218370] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000496950
[   59.218381] RBP: ffff888014e7f7f8 R08: 0000000000000000 R09: ffffed10021648f0
[   59.218392] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.218402] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888010b24780
[   59.218413] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.218427] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.220243] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   59.220880] CR2: 00007f2e143fca50 CR3: 000000002b716006 CR4: 0000000000770ef0
[   59.221358] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.222002] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.222015] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.222026] PKRU: 55555554
[   59.222033] Call Trace:
[   59.222039]  <TASK>
[   59.222048]  ? show_regs+0x6d/0x80
[   59.222075]  ? die_addr+0x45/0xb0
[   59.222099]  ? exc_general_protection+0x1ae/0x340
[   59.222128]  ? asm_exc_general_protection+0x2b/0x30
[   59.222763] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   59.223406]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.224043] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.224672]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.225402] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.225927]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.226644] CR2: 00007f2f8c20b000 CR3: 00000000260c0001 CR4: 0000000000770ef0
[   59.227202]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.227844] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.228486]  zap_huge_pmd+0x48e/0xd40
[   59.229127] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.229387]  unmap_page_range+0x1ad6/0x4360
[   59.229615] PKRU: 55555554
[   59.229822]  ? update_stack_state+0x2d9/0x610
[   59.230278] note: repro[22419] exited with preempt_count 1
[   59.230469]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.230897] Fixing recursive fault but reboot is needed!
[   59.231342]  ? __pfx_unmap_page_range+0x10/0x10
[   59.240396]  unmap_single_vma+0x1ac/0x2d0
[   59.240801]  unmap_vmas+0x210/0x470
[   59.241166]  ? __pfx_unmap_vmas+0x10/0x10
[   59.241552]  ? __pfx_lock_release+0x10/0x10
[   59.241952]  ? lock_release+0x592/0x870
[   59.242322]  ? mas_next_slot+0x133a/0x1a50
[   59.242718]  ? __pfx_lock_release+0x10/0x10
[   59.243132]  ? mlock_drain_local+0x27f/0x4b0
[   59.243548]  exit_mmap+0x19e/0xb10
[   59.243888]  ? __pfx_exit_mmap+0x10/0x10
[   59.244277]  ? debug_smp_processor_id+0x20/0x30
[   59.244714]  ? trace_hardirqs_on+0x51/0x60
[   59.245117]  ? kasan_quarantine_put+0xa2/0x200
[   59.245557]  ? __khugepaged_exit+0x266/0x4c0
[   59.245975]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.246487]  __mmput+0xde/0x3a0
[   59.246813]  mmput+0x74/0x90
[   59.247118]  do_exit+0xa03/0x29f0
[   59.247459]  ? trace_hardirqs_on+0x51/0x60
[   59.247856]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.248443]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.248898]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.249363]  ? __pfx_do_exit+0x10/0x10
[   59.249729]  ? __audit_syscall_entry+0x39c/0x500
[   59.250182]  __x64_sys_exit+0x50/0x60
[   59.250548]  x64_sys_call+0x20c9/0x20d0
[   59.250920]  do_syscall_64+0x6d/0x140
[   59.251294]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.251780] RIP: 0033:0x7f2e1423ee5d
[   59.252130] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   59.252691] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.253371] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   59.254020] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.254670] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   59.255316] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   59.255958] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   59.256626]  </TASK>
[   59.256843] Modules linked in:
[   59.257362] ---[ end trace 0000000000000000 ]---
[   59.257801] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.258432] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.260201] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   59.260698] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   59.261348] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   59.262004] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   59.262754] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.263400] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   59.264056] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.264781] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.265314] CR2: 00007f2e143fca50 CR3: 000000002b716006 CR4: 0000000000770ef0
[   59.265961] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.266691] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.267355] PKRU: 55555554
[   59.267617] note: repro[22454] exited with preempt_count 1
[   59.268145] Fixing recursive fault but reboot is needed!
[   59.268653] BUG: scheduling while atomic: repro/22454/0x00000000
[   59.269204] INFO: lockdep is turned off.
[   59.269573] Modules linked in:
[   59.269871] Preemption disabled at:
[   59.269877] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   59.270781] CPU: 0 UID: 0 PID: 22454 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   59.271616] Tainted: [D]=DIE, [W]=WARN
[   59.271973] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.272998] Call Trace:
[   59.273235]  <TASK>
[   59.273445]  dump_stack_lvl+0x121/0x150
[   59.273818]  ? do_task_dead+0x28/0x110
[   59.274183]  dump_stack+0x19/0x20
[   59.274511]  __schedule_bug+0x12d/0x180
[   59.274889]  __schedule+0x23fe/0x33a0
[   59.275257]  ? do_task_dead+0xa8/0x110
[   59.275614]  ? rcu_is_watching+0x19/0xc0
[   59.276006]  ? lock_release+0x592/0x870
[   59.276377]  ? __pfx___schedule+0x10/0x10
[   59.276769]  ? debug_smp_processor_id+0x20/0x30
[   59.277213]  ? rcu_is_watching+0x19/0xc0
[   59.277594]  ? trace_irq_enable+0xe1/0x120
[   59.278008]  ? do_task_dead+0x4a/0x110
[   59.278370]  do_task_dead+0xe0/0x110
[   59.278716]  make_task_dead+0x384/0x3c0
[   59.279102]  rewind_stack_and_make_dead+0x16/0x20
[   59.279548] RIP: 0033:0x7f2e1423ee5d
[   59.279890] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   59.280445] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.281141] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   59.281798] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.282451] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   59.283118] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   59.283769] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   59.284435]  </TASK>
[   59.641997] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#122] PREEMPT SMP KASAN NOPTI
[   59.643106] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.643790] CPU: 0 UID: 0 PID: 22669 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   59.644645] Tainted: [D]=DIE, [W]=WARN
[   59.645002] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.646021] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.646678] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.648586] RSP: 0018:ffff88802b6ef7d8 EFLAGS: 00010202
[   59.649099] RAX: dffffc0000000000 RBX: ffffea00004d0ac0 RCX: ffffffff81bc4f39
[   59.649803] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004d0ad0
[   59.650454] RBP: ffff88802b6ef7f8 R08: 0000000000000000 R09: ffffed1004c294cc
[   59.651100] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.651744] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802614a660
[   59.652388] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.653108] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.653631] CR2: 00007f2e145f3bf0 CR3: 000000002b59a004 CR4: 0000000000770ef0
[   59.654286] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.654926] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.655568] PKRU: 55555554
[   59.655829] Call Trace:
[   59.656071]  <TASK>
[   59.656287]  ? show_regs+0x6d/0x80
[   59.656623]  ? die_addr+0x45/0xb0
[   59.656950]  ? exc_general_protection+0x1ae/0x340
[   59.657413]  ? asm_exc_general_protection+0x2b/0x30
[   59.657899]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.658388]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.658870]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.659363]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.659858]  zap_huge_pmd+0x48e/0xd40
[   59.660228]  unmap_page_range+0x1ad6/0x4360
[   59.660641]  ? update_stack_state+0x2d9/0x610
[   59.661082]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.661560]  ? __pfx_unmap_page_range+0x10/0x10
[   59.662010]  unmap_single_vma+0x1ac/0x2d0
[   59.662404]  unmap_vmas+0x210/0x470
[   59.662755]  ? __pfx_unmap_vmas+0x10/0x10
[   59.663150]  ? __pfx_lock_release+0x10/0x10
[   59.663555]  ? lock_release+0x592/0x870
[   59.663923]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   59.664407]  ? __pfx_lock_release+0x10/0x10
[   59.664814]  ? mlock_drain_local+0x27f/0x4b0
[   59.665230]  exit_mmap+0x19e/0xb10
[   59.665576]  ? __pfx_exit_mmap+0x10/0x10
[   59.665956]  ? debug_smp_processor_id+0x20/0x30
[   59.666397]  ? trace_hardirqs_on+0x51/0x60
[   59.666787]  ? kasan_quarantine_put+0xa2/0x200
[   59.667220]  ? __khugepaged_exit+0x266/0x4c0
[   59.667627]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.668140]  __mmput+0xde/0x3a0
[   59.668452]  mmput+0x74/0x90
[   59.668740]  do_exit+0xa03/0x29f0
[   59.669070]  ? trace_hardirqs_on+0x51/0x60
[   59.669462]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.670054]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.670512]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.670962]  ? __pfx_do_exit+0x10/0x10
[   59.671340]  ? __audit_syscall_entry+0x39c/0x500
[   59.671791]  __x64_sys_exit+0x50/0x60
[   59.672154]  x64_sys_call+0x20c9/0x20d0
[   59.672520]  do_syscall_64+0x6d/0x140
[   59.672876]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.673353] RIP: 0033:0x7f2e1423ee5d
[   59.673693] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   59.674255] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.674934] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   59.675580] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.676222] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   59.676860] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   59.677513] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   59.678171]  </TASK>
[   59.678386] Modules linked in:
[   59.678826] ---[ end trace 0000000000000000 ]---
[   59.679274] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.679813] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.681457] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   59.681944] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   59.682696] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   59.683342] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   59.683994] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.684636] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   59.685281] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.686005] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.686623] CR2: 00007f2e145f3bf0 CR3: 000000002b59a004 CR4: 0000000000770ef0
[   59.687325] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.687967] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.688615] PKRU: 55555554
[   59.688870] note: repro[22669] exited with preempt_count 1
[   59.689377] Fixing recursive fault but reboot is needed!
[   59.689857] BUG: scheduling while atomic: repro/22669/0x00000000
[   59.690441] INFO: lockdep is turned off.
[   59.690805] Modules linked in:
[   59.691105] Preemption disabled at:
[   59.691111] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   59.691931] CPU: 0 UID: 0 PID: 22669 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   59.692764] Tainted: [D]=DIE, [W]=WARN
[   59.693114] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.694125] Call Trace:
[   59.694366]  <TASK>
[   59.694578]  dump_stack_lvl+0x121/0x150
[   59.694948]  ? do_task_dead+0x28/0x110
[   59.695313]  dump_stack+0x19/0x20
[   59.695638]  __schedule_bug+0x12d/0x180
[   59.696025]  __schedule+0x23fe/0x33a0
[   59.696385]  ? do_task_dead+0xa8/0x110
[   59.696743]  ? rcu_is_watching+0x19/0xc0
[   59.697125]  ? lock_release+0x592/0x870
[   59.697500]  ? __pfx___schedule+0x10/0x10
[   59.697893]  ? debug_smp_processor_id+0x20/0x30
[   59.698326]  ? rcu_is_watching+0x19/0xc0
[   59.698707]  ? trace_irq_enable+0xe1/0x120
[   59.699109]  ? do_task_dead+0x4a/0x110
[   59.699465]  do_task_dead+0xe0/0x110
[   59.699811]  make_task_dead+0x384/0x3c0
[   59.700194]  rewind_stack_and_make_dead+0x16/0x20
[   59.700644] RIP: 0033:0x7f2e1423ee5d
[   59.700996] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   59.701571] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.702262] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   59.702911] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.703560] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   59.704204] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   59.704846] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   59.705487]  </TASK>
[   60.215145] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#123] PREEMPT SMP KASAN NOPTI
[   60.216243] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.216954] CPU: 0 UID: 0 PID: 23049 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.217808] Tainted: [D]=DIE, [W]=WARN
[   60.218160] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.219190] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.219741] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.221384] RSP: 0018:ffff888028b077d8 EFLAGS: 00010202
[   60.222154] RAX: dffffc0000000000 RBX: ffffea0000a25300 RCX: ffffffff81bc4f39
[   60.222894] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a25310
[   60.223585] RBP: ffff888028b077f8 R08: 0000000000000000 R09: ffffed1002227974
[   60.224239] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.224892] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801113cba0
[   60.225554] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.226292] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.226817] CR2: 00007fffdaca69a8 CR3: 000000001a926002 CR4: 0000000000770ef0
[   60.227508] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.228167] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.228814] PKRU: 55555554
[   60.229106] Call Trace:
[   60.229357]  <TASK>
[   60.229586]  ? show_regs+0x6d/0x80
[   60.229933]  ? die_addr+0x45/0xb0
[   60.230294]  ? exc_general_protection+0x1ae/0x340
[   60.230765]  ? asm_exc_general_protection+0x2b/0x30
[   60.231254]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.231739]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.232227]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.232726]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.233254]  zap_huge_pmd+0x48e/0xd40
[   60.233645]  unmap_page_range+0x1ad6/0x4360
[   60.234074]  ? update_stack_state+0x2d9/0x610
[   60.234519]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.235011]  ? __pfx_unmap_page_range+0x10/0x10
[   60.235471]  unmap_single_vma+0x1ac/0x2d0
[   60.235867]  unmap_vmas+0x210/0x470
[   60.236234]  ? __pfx_unmap_vmas+0x10/0x10
[   60.236632]  ? __pfx_lock_release+0x10/0x10
[   60.237042]  ? lock_release+0x592/0x870
[   60.237418]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.237923]  ? __pfx_lock_release+0x10/0x10
[   60.238350]  ? mlock_drain_local+0x27f/0x4b0
[   60.238777]  exit_mmap+0x19e/0xb10
[   60.239130]  ? __pfx_exit_mmap+0x10/0x10
[   60.239542]  ? debug_smp_processor_id+0x20/0x30
[   60.240002]  ? trace_hardirqs_on+0x51/0x60
[   60.240410]  ? kasan_quarantine_put+0xa2/0x200
[   60.240851]  ? __khugepaged_exit+0x266/0x4c0
[   60.241281]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.241797]  __mmput+0xde/0x3a0
[   60.242122]  mmput+0x74/0x90
[   60.242420]  do_exit+0xa03/0x29f0
[   60.242750]  ? trace_hardirqs_on+0x51/0x60
[   60.243142]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.243708]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.244165]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.244598]  ? __pfx_do_exit+0x10/0x10
[   60.244954]  ? __audit_syscall_entry+0x39c/0x500
[   60.245397]  __x64_sys_exit+0x50/0x60
[   60.245751]  x64_sys_call+0x20c9/0x20d0
[   60.246124]  do_syscall_64+0x6d/0x140
[   60.246699]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.247358] RIP: 0033:0x7f2e1423ee5d
[   60.247691] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.248250] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.248906] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.249533] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.250156] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.250773] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.251389] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.252027]  </TASK>
[   60.252236] Modules linked in:
[   60.252653] ---[ end trace 0000000000000000 ]---
[   60.252849] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   60.253063] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.255474] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.256940] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   60.256974] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   60.257377] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   60.259318] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   60.259872] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   60.260427] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.260976] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   60.261550] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.262495] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.263016] CR2: 00007fffdaca69a8 CR3: 000000001a926002 CR4: 0000000000770ef0
[   60.263594] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.264172] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.264732] PKRU: 55555554
[   60.264959] note: repro[23049] exited with preempt_count 1
[   60.265395] Fixing recursive fault but reboot is needed!
[   60.265811] BUG: scheduling while atomic: repro/23049/0x00000000
[   60.266289] INFO: lockdep is turned off.
[   60.266585] Modules linked in:
[   60.266823] Preemption disabled at:
[   60.266828] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   60.267530] CPU: 0 UID: 0 PID: 23049 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.268219] Tainted: [D]=DIE, [W]=WARN
[   60.268505] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.269342] Call Trace:
[   60.269537]  <TASK>
[   60.269712]  dump_stack_lvl+0x121/0x150
[   60.270040]  ? do_task_dead+0x28/0x110
[   60.270460]  dump_stack+0x19/0x20
[   60.270850]  __schedule_bug+0x12d/0x180
[   60.271173]  __schedule+0x23fe/0x33a0
[   60.271457]  ? do_task_dead+0xa8/0x110
[   60.271738]  ? rcu_is_watching+0x19/0xc0
[   60.272041]  ? lock_release+0x592/0x870
[   60.272330]  ? __pfx___schedule+0x10/0x10
[   60.272635]  ? debug_smp_processor_id+0x20/0x30
[   60.272973]  ? rcu_is_watching+0x19/0xc0
[   60.273281]  ? trace_irq_enable+0xe1/0x120
[   60.273589]  ? do_task_dead+0x4a/0x110
[   60.273869]  do_task_dead+0xe0/0x110
[   60.274144]  make_task_dead+0x384/0x3c0
[   60.274435]  rewind_stack_and_make_dead+0x16/0x20
[   60.274784] RIP: 0033:0x7f2e1423ee5d
[   60.275058] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.275486] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.276024] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.276499] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.277210] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.277685] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.278166] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.278651]  </TASK>
[   60.453004] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#124] PREEMPT SMP KASAN NOPTI
[   60.454128] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.454821] CPU: 0 UID: 0 PID: 23169 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.455682] Tainted: [D]=DIE, [W]=WARN
[   60.456039] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.457114] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.457664] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.459319] RSP: 0018:ffff8880164df7d8 EFLAGS: 00010202
[   60.459812] RAX: dffffc0000000000 RBX: ffffea0000a2a980 RCX: ffffffff81bc4f39
[   60.460465] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a2a990
[   60.461143] RBP: ffff8880164df7f8 R08: 0000000000000000 R09: ffffed1003f345a4
[   60.461784] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   60.462434] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f9a2d20
[   60.463120] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.463850] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.464381] CR2: 00007f2e145e33f4 CR3: 0000000038406003 CR4: 0000000000770ef0
[   60.465023] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.465644] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.466562] PKRU: 55555554
[   60.466833] Call Trace:
[   60.467075]  <TASK>
[   60.467282]  ? show_regs+0x6d/0x80
[   60.467629]  ? die_addr+0x45/0xb0
[   60.467958]  ? exc_general_protection+0x1ae/0x340
[   60.468417]  ? asm_exc_general_protection+0x2b/0x30
[   60.468885]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.469370]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.470111]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.470715]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.471171]  zap_huge_pmd+0x48e/0xd40
[   60.471518]  unmap_page_range+0x1ad6/0x4360
[   60.471893]  ? __pfx_lock_release+0x10/0x10
[   60.472261]  ? do_raw_spin_trylock+0xbf/0x190
[   60.472663]  ? __kasan_check_read+0x15/0x20
[   60.473045]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.473478]  ? __pfx_unmap_page_range+0x10/0x10
[   60.474048]  unmap_single_vma+0x1ac/0x2d0
[   60.474643]  unmap_vmas+0x210/0x470
[   60.474967]  ? __pfx_unmap_vmas+0x10/0x10
[   60.475347]  ? __pfx_lock_release+0x10/0x10
[   60.475715]  ? lock_release+0x592/0x870
[   60.476072]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.476523]  ? __pfx_lock_release+0x10/0x10
[   60.476892]  ? mlock_drain_local+0x27f/0x4b0
[   60.477279]  exit_mmap+0x19e/0xb10
[   60.477595]  ? __pfx_exit_mmap+0x10/0x10
[   60.477942]  ? debug_smp_processor_id+0x20/0x30
[   60.478582]  ? trace_hardirqs_on+0x51/0x60
[   60.479014]  ? kasan_quarantine_put+0xa2/0x200
[   60.479413]  ? __khugepaged_exit+0x266/0x4c0
[   60.479806]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.480275]  __mmput+0xde/0x3a0
[   60.480561]  mmput+0x74/0x90
[   60.480819]  do_exit+0xa03/0x29f0
[   60.481111]  ? trace_hardirqs_on+0x51/0x60
[   60.481457]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.481979]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.482387]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.482790]  ? __pfx_do_exit+0x10/0x10
[   60.483107]  ? __audit_syscall_entry+0x39c/0x500
[   60.483493]  __x64_sys_exit+0x50/0x60
[   60.483812]  x64_sys_call+0x20c9/0x20d0
[   60.484206]  do_syscall_64+0x6d/0x140
[   60.484651]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.485182] RIP: 0033:0x7f2e1423ee5d
[   60.485499] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.485989] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.486545] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.487070] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.487598] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.488123] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.488650] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.489187]  </TASK>
[   60.489363] Modules linked in:
[   60.489757] ---[ end trace 0000000000000000 ]---
[   60.490200] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.490639] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.491989] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   60.492390] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   60.493177] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   60.493728] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   60.494336] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.494834] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   60.495333] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.495888] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.496296] CR2: 00007f2e145e33f4 CR3: 0000000038406003 CR4: 0000000000770ef0
[   60.496788] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.497286] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.497775] PKRU: 55555554
[   60.497975] note: repro[23169] exited with preempt_count 1
[   60.498433] Fixing recursive fault but reboot is needed!
[   60.498949] check_preemption_disabled: 14 callbacks suppressed
[   60.498957] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23169
[   60.500047] caller is debug_smp_processor_id+0x20/0x30
[   60.500403] CPU: 0 UID: 0 PID: 23169 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.501024] Tainted: [D]=DIE, [W]=WARN
[   60.501281] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.502026] Call Trace:
[   60.502207]  <TASK>
[   60.502361]  dump_stack_lvl+0x121/0x150
[   60.502643]  dump_stack+0x19/0x20
[   60.502886]  check_preemption_disabled+0x168/0x180
[   60.503224]  debug_smp_processor_id+0x20/0x30
[   60.503536]  __schedule+0xa0/0x33a0
[   60.503794]  ? do_task_dead+0xa8/0x110
[   60.504067]  ? debug_smp_processor_id+0x20/0x30
[   60.504386]  ? rcu_is_watching+0x19/0xc0
[   60.504669]  ? lock_release+0x592/0x870
[   60.505081]  ? __pfx___schedule+0x10/0x10
[   60.505517]  ? debug_smp_processor_id+0x20/0x30
[   60.505888]  ? rcu_is_watching+0x19/0xc0
[   60.506176]  ? trace_irq_enable+0xe1/0x120
[   60.506464]  ? do_task_dead+0x4a/0x110
[   60.506726]  do_task_dead+0xe0/0x110
[   60.506975]  make_task_dead+0x384/0x3c0
[   60.507248]  rewind_stack_and_make_dead+0x16/0x20
[   60.507569] RIP: 0033:0x7f2e1423ee5d
[   60.507813] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.508214] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.508703] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.509170] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.509630] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.510086] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.510539] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.511006]  </TASK>
[   60.511305] BUG: scheduling while atomic: repro/23169/0x00000000
[   60.511912] INFO: lockdep is turned off.
[   60.512181] Modules linked in:
[   60.512393] Preemption disabled at:
[   60.512398] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   60.512970] CPU: 0 UID: 0 PID: 23169 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.513553] Tainted: [D]=DIE, [W]=WARN
[   60.513796] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.514501] Call Trace:
[   60.514658]  <TASK>
[   60.514796]  dump_stack_lvl+0x121/0x150
[   60.515049]  ? do_task_dead+0x28/0x110
[   60.515286]  dump_stack+0x19/0x20
[   60.515503]  __schedule_bug+0x12d/0x180
[   60.515752]  __schedule+0x23fe/0x33a0
[   60.516006]  ? do_task_dead+0xa8/0x110
[   60.516377]  ? rcu_is_watching+0x19/0xc0
[   60.516762]  ? lock_release+0x592/0x870
[   60.517152]  ? __pfx___schedule+0x10/0x10
[   60.517548]  ? debug_smp_processor_id+0x20/0x30
[   60.517977]  ? rcu_is_watching+0x19/0xc0
[   60.518544]  ? trace_irq_enable+0xe1/0x120
[   60.518979]  ? do_task_dead+0x4a/0x110
[   60.519364]  do_task_dead+0xe0/0x110
[   60.519714]  make_task_dead+0x384/0x3c0
[   60.520104]  rewind_stack_and_make_dead+0x16/0x20
[   60.520553] RIP: 0033:0x7f2e1423ee5d
[   60.520926] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.521328] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.521788] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.522214] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.522628] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.523039] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.523447] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.524074]  </TASK>
[   60.586442] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#125] PREEMPT SMP KASAN NOPTI
[   60.587221] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.587687] CPU: 0 UID: 0 PID: 23280 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.588272] Tainted: [D]=DIE, [W]=WARN
[   60.588718] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.589784] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.590291] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.591711] RSP: 0018:ffff8880114af7d8 EFLAGS: 00010202
[   60.592135] RAX: dffffc0000000000 RBX: ffffea0000a23200 RCX: ffffffff81bc4f39
[   60.592690] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a23210
[   60.593245] RBP: ffff8880114af7f8 R08: 0000000000000000 R09: ffffed1002cfca3c
[   60.593694] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   60.594133] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880167e51e0
[   60.594575] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.595072] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.595428] CR2: 00007f2e143fca50 CR3: 000000002b5e2005 CR4: 0000000000770ef0
[   60.595865] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.596300] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.596724] PKRU: 55555554
[   60.596896] Call Trace:
[   60.597056]  <TASK>
[   60.597196]  ? show_regs+0x6d/0x80
[   60.597528]  ? die_addr+0x45/0xb0
[   60.597756]  ? exc_general_protection+0x1ae/0x340
[   60.598066]  ? asm_exc_general_protection+0x2b/0x30
[   60.598381]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.598708]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.599037]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.599360]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.599691]  zap_huge_pmd+0x48e/0xd40
[   60.599945]  unmap_page_range+0x1ad6/0x4360
[   60.600231]  ? __pfx_lock_release+0x10/0x10
[   60.600502]  ? do_raw_spin_trylock+0xbf/0x190
[   60.600785]  ? __kasan_check_read+0x15/0x20
[   60.601069]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.601382]  ? __pfx_unmap_page_range+0x10/0x10
[   60.601666]  unmap_single_vma+0x1ac/0x2d0
[   60.601917]  unmap_vmas+0x210/0x470
[   60.602146]  ? __pfx_unmap_vmas+0x10/0x10
[   60.602395]  ? __pfx_lock_release+0x10/0x10
[   60.602649]  ? lock_release+0x592/0x870
[   60.602886]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.603325]  ? __pfx_lock_release+0x10/0x10
[   60.603707]  ? mlock_drain_local+0x27f/0x4b0
[   60.603976]  exit_mmap+0x19e/0xb10
[   60.604201]  ? __pfx_exit_mmap+0x10/0x10
[   60.604445]  ? debug_smp_processor_id+0x20/0x30
[   60.604722]  ? trace_hardirqs_on+0x51/0x60
[   60.604970]  ? kasan_quarantine_put+0xa2/0x200
[   60.605243]  ? __khugepaged_exit+0x266/0x4c0
[   60.605502]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.605822]  __mmput+0xde/0x3a0
[   60.606026]  mmput+0x74/0x90
[   60.606206]  do_exit+0xa03/0x29f0
[   60.606412]  ? trace_hardirqs_on+0x51/0x60
[   60.606657]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.607024]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.607305]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.607587]  ? __pfx_do_exit+0x10/0x10
[   60.607819]  ? __audit_syscall_entry+0x39c/0x500
[   60.608102]  __x64_sys_exit+0x50/0x60
[   60.608328]  x64_sys_call+0x20c9/0x20d0
[   60.608558]  do_syscall_64+0x6d/0x140
[   60.608784]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.609346] RIP: 0033:0x7f2e1423ee5d
[   60.609779] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.610302] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.610926] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.611487] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.612056] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.612622] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.613189] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.613714]  </TASK>
[   60.613844] Modules linked in:
[   60.614140] ---[ end trace 0000000000000000 ]---
[   60.614403] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.614726] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.615688] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   60.616097] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   60.616467] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   60.616837] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   60.617215] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.617587] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   60.617960] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.618437] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.618747] CR2: 00007f2e143fca50 CR3: 000000002b5e2005 CR4: 0000000000770ef0
[   60.619122] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.619483] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.619843] PKRU: 55555554
[   60.619994] note: repro[23280] exited with preempt_count 1
[   60.620275] Fixing recursive fault but reboot is needed!
[   60.620545] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23280
[   60.620938] caller is debug_smp_processor_id+0x20/0x30
[   60.621211] CPU: 0 UID: 0 PID: 23280 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.621678] Tainted: [D]=DIE, [W]=WARN
[   60.621872] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.622440] Call Trace:
[   60.622573]  <TASK>
[   60.622691]  dump_stack_lvl+0x121/0x150
[   60.622901]  dump_stack+0x19/0x20
[   60.623088]  check_preemption_disabled+0x168/0x180
[   60.623333]  debug_smp_processor_id+0x20/0x30
[   60.623559]  __schedule+0xa0/0x33a0
[   60.623754]  ? do_task_dead+0xa8/0x110
[   60.623952]  ? debug_smp_processor_id+0x20/0x30
[   60.624186]  ? rcu_is_watching+0x19/0xc0
[   60.624394]  ? lock_release+0x592/0x870
[   60.624597]  ? __pfx___schedule+0x10/0x10
[   60.624811]  ? debug_smp_processor_id+0x20/0x30
[   60.625048]  ? rcu_is_watching+0x19/0xc0
[   60.625255]  ? trace_irq_enable+0xe1/0x120
[   60.625471]  ? do_task_dead+0x4a/0x110
[   60.625668]  do_task_dead+0xe0/0x110
[   60.625856]  make_task_dead+0x384/0x3c0
[   60.626065]  rewind_stack_and_make_dead+0x16/0x20
[   60.626308] RIP: 0033:0x7f2e1423ee5d
[   60.626494] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.626790] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.627159] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.627505] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.627847] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.628193] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.628540] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.628890]  </TASK>
[   60.629064] BUG: scheduling while atomic: repro/23280/0x00000000
[   60.629479] INFO: lockdep is turned off.
[   60.629676] Modules linked in:
[   60.629836] Preemption disabled at:
[   60.629839] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   60.630326] CPU: 0 UID: 0 PID: 23280 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.630765] Tainted: [D]=DIE, [W]=WARN
[   60.630951] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.631484] Call Trace:
[   60.631611]  <TASK>
[   60.631724]  dump_stack_lvl+0x121/0x150
[   60.631924]  ? do_task_dead+0x28/0x110
[   60.632120]  dump_stack+0x19/0x20
[   60.632297]  __schedule_bug+0x12d/0x180
[   60.632498]  __schedule+0x23fe/0x33a0
[   60.632693]  ? do_task_dead+0xa8/0x110
[   60.632960]  ? rcu_is_watching+0x19/0xc0
[   60.633250]  ? lock_release+0x592/0x870
[   60.633528]  ? __pfx___schedule+0x10/0x10
[   60.633761]  ? debug_smp_processor_id+0x20/0x30
[   60.633995]  ? rcu_is_watching+0x19/0xc0
[   60.634194]  ? trace_irq_enable+0xe1/0x120
[   60.634400]  ? do_task_dead+0x4a/0x110
[   60.634589]  do_task_dead+0xe0/0x110
[   60.634768]  make_task_dead+0x384/0x3c0
[   60.634960]  rewind_stack_and_make_dead+0x16/0x20
[   60.635189] RIP: 0033:0x7f2e1423ee5d
[   60.635365] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.635649] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.636003] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.636333] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.636653] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.636974] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.637302] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.637620]  </TASK>
[   60.847141] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#126] PREEMPT SMP KASAN NOPTI
[   60.848170] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.848805] CPU: 0 UID: 0 PID: 23403 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.849582] Tainted: [D]=DIE, [W]=WARN
[   60.850111] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.851273] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.851912] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.853786] RSP: 0018:ffff8880164df7d8 EFLAGS: 00010202
[   60.854586] RAX: dffffc0000000000 RBX: ffffea000048eac0 RCX: ffffffff81bc4f39
[   60.855335] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000048ead0
[   60.856058] RBP: ffff8880164df7f8 R08: 0000000000000000 R09: ffffed100259ae18
[   60.856777] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   60.857501] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012cd70c0
[   60.858221] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.859038] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.859630] CR2: 00007f2e1429bc20 CR3: 00000000215b8003 CR4: 0000000000770ef0
[   60.860570] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.861441] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.862179] PKRU: 55555554
[   60.862454] Call Trace:
[   60.862708]  <TASK>
[   60.862934]  ? show_regs+0x6d/0x80
[   60.863297]  ? die_addr+0x45/0xb0
[   60.863646]  ? exc_general_protection+0x1ae/0x340
[   60.864161]  ? asm_exc_general_protection+0x2b/0x30
[   60.864661]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.865178]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.865693]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.866327]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.867077]  zap_huge_pmd+0x48e/0xd40
[   60.867465]  unmap_page_range+0x1ad6/0x4360
[   60.867873]  ? __pfx_lock_release+0x10/0x10
[   60.868282]  ? do_raw_spin_trylock+0xbf/0x190
[   60.868712]  ? __kasan_check_read+0x15/0x20
[   60.869131]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.869616]  ? __pfx_unmap_page_range+0x10/0x10
[   60.870066]  unmap_single_vma+0x1ac/0x2d0
[   60.870462]  unmap_vmas+0x210/0x470
[   60.870813]  ? __pfx_unmap_vmas+0x10/0x10
[   60.871208]  ? __pfx_lock_release+0x10/0x10
[   60.871612]  ? lock_release+0x592/0x870
[   60.871993]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.872466]  ? __pfx_lock_release+0x10/0x10
[   60.873066]  ? mlock_drain_local+0x27f/0x4b0
[   60.873534]  exit_mmap+0x19e/0xb10
[   60.873877]  ? __pfx_exit_mmap+0x10/0x10
[   60.874269]  ? debug_smp_processor_id+0x20/0x30
[   60.874703]  ? trace_hardirqs_on+0x51/0x60
[   60.875091]  ? kasan_quarantine_put+0xa2/0x200
[   60.875508]  ? __khugepaged_exit+0x266/0x4c0
[   60.875912]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.876405]  __mmput+0xde/0x3a0
[   60.876707]  mmput+0x74/0x90
[   60.876991]  do_exit+0xa03/0x29f0
[   60.877311]  ? trace_hardirqs_on+0x51/0x60
[   60.877697]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.878274]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.878720]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.879365]  ? __pfx_do_exit+0x10/0x10
[   60.879729]  ? __audit_syscall_entry+0x39c/0x500
[   60.880167]  __x64_sys_exit+0x50/0x60
[   60.880516]  x64_sys_call+0x20c9/0x20d0
[   60.880876]  do_syscall_64+0x6d/0x140
[   60.881228]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.881680] RIP: 0033:0x7f2e1423ee5d
[   60.882004] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.882526] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.883171] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.883776] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.884386] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.884993] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.885795] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.886416]  </TASK>
[   60.886620] Modules linked in:
[   60.887001] ---[ end trace 0000000000000000 ]---
[   60.887395] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.887880] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.889378] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   60.889811] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   60.890411] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   60.891000] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   60.891838] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.892416] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   60.892995] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.893632] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.894239] CR2: 00007f2e1429bc20 CR3: 00000000215b8003 CR4: 0000000000770ef0
[   60.894963] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.895535] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.896099] PKRU: 55555554
[   60.896325] note: repro[23403] exited with preempt_count 1
[   60.896760] Fixing recursive fault but reboot is needed!
[   60.897184] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23403
[   60.897794] caller is debug_smp_processor_id+0x20/0x30
[   60.898221] CPU: 0 UID: 0 PID: 23403 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.899166] Tainted: [D]=DIE, [W]=WARN
[   60.899187] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#127] PREEMPT SMP KASAN NOPTI
[   60.899461] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.900538] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.901415] Call Trace:
[   60.902345] CPU: 1 UID: 0 PID: 23427 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.902551]  <TASK>
[   60.903356] Tainted: [D]=DIE, [W]=WARN
[   60.903516]  dump_stack_lvl+0x121/0x150
[   60.903853] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.904141]  dump_stack+0x19/0x20
[   60.905146] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.905397]  check_preemption_disabled+0x168/0x180
[   60.905905] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.906261]  debug_smp_processor_id+0x20/0x30
[   60.907869] RSP: 0018:ffff8880384377d8 EFLAGS: 00010202
[   60.908208]  __schedule+0xa0/0x33a0
[   60.908676] RAX: dffffc0000000000 RBX: ffffea00004f7940 RCX: ffffffff81bc4f39
[   60.908932]  ? do_task_dead+0xa8/0x110
[   60.909559] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004f7950
[   60.909834]  ? debug_smp_processor_id+0x20/0x30
[   60.910462] RBP: ffff8880384377f8 R08: 0000000000000000 R09: ffffed1004080368
[   60.910829]  ? rcu_is_watching+0x19/0xc0
[   60.911463] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.911789]  ? lock_release+0x592/0x870
[   60.912431] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888020401b40
[   60.912738]  ? __pfx___schedule+0x10/0x10
[   60.913370] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   60.913651]  ? debug_smp_processor_id+0x20/0x30
[   60.914365] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.914680]  ? rcu_is_watching+0x19/0xc0
[   60.915198] CR2: 00007f2f8c4bd000 CR3: 000000000fe3c004 CR4: 0000000000770ef0
[   60.915473]  ? trace_irq_enable+0xe1/0x120
[   60.916103] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.916379]  ? do_task_dead+0x4a/0x110
[   60.917006] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.917265]  do_task_dead+0xe0/0x110
[   60.917887] PKRU: 55555554
[   60.918134]  make_task_dead+0x384/0x3c0
[   60.918382] Call Trace:
[   60.918642]  rewind_stack_and_make_dead+0x16/0x20
[   60.918870]  <TASK>
[   60.919188] RIP: 0033:0x7f2e1423ee5d
[   60.919391]  ? show_regs+0x6d/0x80
[   60.919632] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.919944]  ? die_addr+0x45/0xb0
[   60.920337] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.920802]  ? exc_general_protection+0x1ae/0x340
[   60.921292] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.921889]  ? asm_exc_general_protection+0x2b/0x30
[   60.922336] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.922778]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.923232] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.923690]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.924143] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.924604]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.925050] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.925524]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.925978]  </TASK>
[   60.926440]  zap_huge_pmd+0x48e/0xd40
[   60.926925]  unmap_page_range+0x1ad6/0x4360
[   60.927337]  ? update_stack_state+0x2d9/0x610
[   60.927821]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.928560]  ? __pfx_unmap_page_range+0x10/0x10
[   60.929014]  unmap_single_vma+0x1ac/0x2d0
[   60.929887]  unmap_vmas+0x210/0x470
[   60.930252]  ? __pfx_unmap_vmas+0x10/0x10
[   60.930636]  ? __pfx_lock_release+0x10/0x10
[   60.931038]  ? lock_release+0x592/0x870
[   60.931404]  ? mas_next_slot+0x133a/0x1a50
[   60.931795]  ? __pfx_lock_release+0x10/0x10
[   60.932200]  ? mlock_drain_local+0x27f/0x4b0
[   60.932610]  exit_mmap+0x19e/0xb10
[   60.932947]  ? __pfx_exit_mmap+0x10/0x10
[   60.933455]  ? debug_smp_processor_id+0x20/0x30
[   60.933932]  ? trace_hardirqs_on+0x51/0x60
[   60.934329]  ? kasan_quarantine_put+0xa2/0x200
[   60.934755]  ? __khugepaged_exit+0x266/0x4c0
[   60.935170]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.935672]  __mmput+0xde/0x3a0
[   60.935989]  mmput+0x74/0x90
[   60.936278]  do_exit+0xa03/0x29f0
[   60.936608]  ? trace_hardirqs_on+0x51/0x60
[   60.937499]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.938124]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.938583]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.939205]  ? __pfx_do_exit+0x10/0x10
[   60.939569]  ? __audit_syscall_entry+0x39c/0x500
[   60.940018]  __x64_sys_exit+0x50/0x60
[   60.940697]  x64_sys_call+0x20c9/0x20d0
[   60.941083]  do_syscall_64+0x6d/0x140
[   60.941446]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.942048] RIP: 0033:0x7f2e1423ee5d
[   60.942388] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.943067] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.943751] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.944455] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.945093] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.945806] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.946447] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.947220]  </TASK>
[   60.947435] Modules linked in:
[   60.947825] ---[ end trace 0000000000000000 ]---
[   60.948159] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#128] PREEMPT SMP KASAN NOPTI
[   60.948337] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.949012] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.949661] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.950076] CPU: 0 UID: 0 PID: 23483 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.950089] Tainted: [D]=DIE, [W]=WARN
[   60.950092] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.951709] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   60.952197] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.952539] 
[   60.953142] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.953726] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   60.954045] RSP: 0018:ffff888028a7f7d8 EFLAGS: 00010202
[   60.954225] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   60.955199] 
[   60.955203] RAX: dffffc0000000000 RBX: ffffea00009883c0 RCX: ffffffff81bc4f39
[   60.956089] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   60.956374] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00009883d0
[   60.957017] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.957094] RBP: ffff888028a7f7f8 R08: 0000000000000000 R09: ffffed1002945dec
[   60.957721] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   60.958105] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.958111] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888014a2ef60
[   60.958116] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.958123] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.958749] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   60.959132] CR2: 00007f548f262ae0 CR3: 0000000028b10004 CR4: 0000000000770ef0
[   60.959768] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.960147] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.960775] CR2: 00007f2f8c4bd000 CR3: 000000000fe3c004 CR4: 0000000000770ef0
[   60.961206] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.961214] PKRU: 55555554
[   60.961217] Call Trace:
[   60.961221]  <TASK>
[   60.961226]  ? show_regs+0x6d/0x80
[   60.961932] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.962278]  ? die_addr+0x45/0xb0
[   60.962293]  ? exc_general_protection+0x1ae/0x340
[   60.963007] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.963402]  ? asm_exc_general_protection+0x2b/0x30
[   60.964096] PKRU: 55555554
[   60.964482]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.965291] note: repro[23427] exited with preempt_count 1
[   60.965687]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.965939] Fixing recursive fault but reboot is needed!
[   60.966079]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.966091]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.966101]  zap_huge_pmd+0x48e/0xd40
[   60.966315] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23427
[   60.966505]  unmap_page_range+0x1ad6/0x4360
[   60.967130] caller is debug_smp_processor_id+0x20/0x30
[   60.967319]  ? update_stack_state+0x2d9/0x610
[   60.967742] CPU: 1 UID: 0 PID: 23427 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   60.968137]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.968571] Tainted: [D]=DIE, [W]=WARN
[   60.968725]  ? __pfx_unmap_page_range+0x10/0x10
[   60.969183] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.969705]  unmap_single_vma+0x1ac/0x2d0
[   60.970165] Call Trace:
[   60.970678]  unmap_vmas+0x210/0x470
[   60.971314]  <TASK>
[   60.971598]  ? __pfx_unmap_vmas+0x10/0x10
[   60.972054]  dump_stack_lvl+0x121/0x150
[   60.972476]  ? __pfx_lock_release+0x10/0x10
[   60.972955]  dump_stack+0x19/0x20
[   60.973232]  ? lock_release+0x592/0x870
[   60.973732]  check_preemption_disabled+0x168/0x180
[   60.974227]  ? mas_next_slot+0x133a/0x1a50
[   60.974931]  debug_smp_processor_id+0x20/0x30
[   60.975140]  ? __pfx_lock_release+0x10/0x10
[   60.975550]  __schedule+0xa0/0x33a0
[   60.976170]  ? mlock_drain_local+0x27f/0x4b0
[   60.976723]  ? do_task_dead+0xa8/0x110
[   60.976868]  exit_mmap+0x19e/0xb10
[   60.977275]  ? debug_smp_processor_id+0x20/0x30
[   60.977398]  ? __pfx_exit_mmap+0x10/0x10
[   60.977753]  ? rcu_is_watching+0x19/0xc0
[   60.977965]  ? debug_smp_processor_id+0x20/0x30
[   60.978343]  ? lock_release+0x592/0x870
[   60.978531]  ? trace_hardirqs_on+0x51/0x60
[   60.978875]  ? __pfx___schedule+0x10/0x10
[   60.979135]  ? kasan_quarantine_put+0xa2/0x200
[   60.979507]  ? debug_smp_processor_id+0x20/0x30
[   60.979746]  ? __khugepaged_exit+0x266/0x4c0
[   60.980124]  ? rcu_is_watching+0x19/0xc0
[   60.980326]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.980716]  ? trace_irq_enable+0xe1/0x120
[   60.980928]  __mmput+0xde/0x3a0
[   60.981244]  ? do_task_dead+0x4a/0x110
[   60.981485]  mmput+0x74/0x90
[   60.981840]  do_task_dead+0xe0/0x110
[   60.982057]  do_exit+0xa03/0x29f0
[   60.982473]  make_task_dead+0x384/0x3c0
[   60.982685]  ? trace_hardirqs_on+0x51/0x60
[   60.983057]  rewind_stack_and_make_dead+0x16/0x20
[   60.983277]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.983676] RIP: 0033:0x7f2e1423ee5d
[   60.983927]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.984316] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.984534]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.985022] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   60.985254]  ? __pfx_do_exit+0x10/0x10
[   60.985543]  ORIG_RAX: 000000000000003c
[   60.985753]  ? __audit_syscall_entry+0x39c/0x500
[   60.986023] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.986227]  __x64_sys_exit+0x50/0x60
[   60.986529] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.986743]  x64_sys_call+0x20c9/0x20d0
[   60.987113] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.987374]  do_syscall_64+0x6d/0x140
[   60.987924] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.988125]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.988559] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.988896] RIP: 0033:0x7f2e1423ee5d
[   60.989348]  </TASK>
[   60.989625] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   60.993969] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.994402] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   60.994953] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.995396] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   60.995790] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   60.996185] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   60.996586]  </TASK>
[   60.996718] Modules linked in:
[   60.996970] ---[ end trace 0000000000000000 ]---
[   60.997239] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.997572] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.998618] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   60.998916] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   60.999315] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   60.999708] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   61.000103] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.000494] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   61.001045] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.001570] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.001892] CR2: 00007f548f262ae0 CR3: 0000000028b10004 CR4: 0000000000770ef0
[   61.002351] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.002750] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.003146] PKRU: 55555554
[   61.003306] note: repro[23483] exited with preempt_count 1
[   61.003615] Fixing recursive fault but reboot is needed!
[   61.003908] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23483
[   61.004338] caller is debug_smp_processor_id+0x20/0x30
[   61.004631] CPU: 0 UID: 0 PID: 23483 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.005140] Tainted: [D]=DIE, [W]=WARN
[   61.005352] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.005969] Call Trace:
[   61.006114]  <TASK>
[   61.006239]  dump_stack_lvl+0x121/0x150
[   61.006466]  dump_stack+0x19/0x20
[   61.006662]  check_preemption_disabled+0x168/0x180
[   61.006933]  debug_smp_processor_id+0x20/0x30
[   61.007182]  __schedule+0xa0/0x33a0
[   61.007389]  ? do_task_dead+0xa8/0x110
[   61.007603]  ? debug_smp_processor_id+0x20/0x30
[   61.007858]  ? rcu_is_watching+0x19/0xc0
[   61.008083]  ? lock_release+0x592/0x870
[   61.008307]  ? __pfx___schedule+0x10/0x10
[   61.008540]  ? debug_smp_processor_id+0x20/0x30
[   61.008802]  ? rcu_is_watching+0x19/0xc0
[   61.009034]  ? trace_irq_enable+0xe1/0x120
[   61.009374]  ? do_task_dead+0x4a/0x110
[   61.009813]  do_task_dead+0xe0/0x110
[   61.010102]  make_task_dead+0x384/0x3c0
[   61.010332]  rewind_stack_and_make_dead+0x16/0x20
[   61.010606] RIP: 0033:0x7f2e1423ee5d
[   61.010815] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.011153] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.011575] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.011964] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.012361] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.012752] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.013142] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.013538]  </TASK>
[   61.013744] BUG: scheduling while atomic: repro/23483/0x00000000
[   61.014146] INFO: lockdep is turned off.
[   61.014372] Modules linked in:
[   61.014551] Preemption disabled at:
[   61.014554] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   61.015045] CPU: 0 UID: 0 PID: 23483 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.015744] Tainted: [D]=DIE, [W]=WARN
[   61.015970] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.016596] Call Trace:
[   61.016741]  <TASK>
[   61.016869]  dump_stack_lvl+0x121/0x150
[   61.017097]  ? do_task_dead+0x28/0x110
[   61.017315]  dump_stack+0x19/0x20
[   61.017509]  __schedule_bug+0x12d/0x180
[   61.017735]  __schedule+0x23fe/0x33a0
[   61.017956]  ? do_task_dead+0xa8/0x110
[   61.018177]  ? rcu_is_watching+0x19/0xc0
[   61.018406]  ? lock_release+0x592/0x870
[   61.018639]  ? __pfx___schedule+0x10/0x10
[   61.018884]  ? debug_smp_processor_id+0x20/0x30
[   61.019137]  ? rcu_is_watching+0x19/0xc0
[   61.019367]  ? trace_irq_enable+0xe1/0x120
[   61.019614]  ? do_task_dead+0x4a/0x110
[   61.019832]  do_task_dead+0xe0/0x110
[   61.020044]  make_task_dead+0x384/0x3c0
[   61.020277]  rewind_stack_and_make_dead+0x16/0x20
[   61.020546] RIP: 0033:0x7f2e1423ee5d
[   61.020754] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.021092] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.021670] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.022151] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.022543] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.022936] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.023329] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.023719]  </TASK>
[   61.290144] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#129] PREEMPT SMP KASAN NOPTI
[   61.291166] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.292033] CPU: 1 UID: 0 PID: 23616 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.292956] Tainted: [D]=DIE, [W]=WARN
[   61.293294] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.294503] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.295120] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.297212] RSP: 0018:ffff88801539f7d8 EFLAGS: 00010202
[   61.297644] RAX: dffffc0000000000 RBX: ffffea0000652d80 RCX: ffffffff81bc4f39
[   61.298202] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000652d90
[   61.298761] RBP: ffff88801539f7f8 R08: 0000000000000000 R09: ffffed1001ddcd38
[   61.299338] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.299902] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800eee69c0
[   61.300483] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.301612] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.302143] CR2: 00007f2e145f3bf0 CR3: 0000000028816001 CR4: 0000000000770ef0
[   61.302732] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.303302] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.303842] PKRU: 55555554
[   61.304057] Call Trace:
[   61.304258]  <TASK>
[   61.304438]  ? show_regs+0x6d/0x80
[   61.304727]  ? die_addr+0x45/0xb0
[   61.305132]  ? exc_general_protection+0x1ae/0x340
[   61.305608]  ? asm_exc_general_protection+0x2b/0x30
[   61.306126]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.306607]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.307028]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.307495]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.307949]  zap_huge_pmd+0x48e/0xd40
[   61.308270]  unmap_page_range+0x1ad6/0x4360
[   61.308610]  ? update_stack_state+0x2d9/0x610
[   61.308976]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.309386]  ? __pfx_unmap_page_range+0x10/0x10
[   61.309766]  unmap_single_vma+0x1ac/0x2d0
[   61.310107]  unmap_vmas+0x210/0x470
[   61.310406]  ? __pfx_unmap_vmas+0x10/0x10
[   61.310862]  ? __pfx_lock_release+0x10/0x10
[   61.311363]  ? lock_release+0x592/0x870
[   61.311707]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.312083]  ? __pfx_lock_release+0x10/0x10
[   61.312409]  ? mlock_drain_local+0x27f/0x4b0
[   61.312759]  exit_mmap+0x19e/0xb10
[   61.313043]  ? __pfx_exit_mmap+0x10/0x10
[   61.313349]  ? debug_smp_processor_id+0x20/0x30
[   61.313702]  ? trace_hardirqs_on+0x51/0x60
[   61.314081]  ? kasan_quarantine_put+0xa2/0x200
[   61.314762]  ? __khugepaged_exit+0x266/0x4c0
[   61.315333]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.315834]  __mmput+0xde/0x3a0
[   61.316155]  mmput+0x74/0x90
[   61.316514]  do_exit+0xa03/0x29f0
[   61.316891]  ? trace_hardirqs_on+0x51/0x60
[   61.317391]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.318124]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.318630]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.319146]  ? __pfx_do_exit+0x10/0x10
[   61.319583]  ? __audit_syscall_entry+0x39c/0x500
[   61.319998]  __x64_sys_exit+0x50/0x60
[   61.320555]  x64_sys_call+0x20c9/0x20d0
[   61.320838]  do_syscall_64+0x6d/0x140
[   61.321115]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.321478] RIP: 0033:0x7f2e1423ee5d
[   61.321741] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.322153] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.322652] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.323120] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.323585] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.324050] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.324513] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.324988]  </TASK>
[   61.325217] Modules linked in:
[   61.325646] ---[ end trace 0000000000000000 ]---
[   61.326044] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.326457] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.327638] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   61.327974] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   61.328435] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   61.328881] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   61.329368] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.329847] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   61.330348] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.330912] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.331312] CR2: 00007f2e145f3bf0 CR3: 0000000028816001 CR4: 0000000000770ef0
[   61.332055] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.332540] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.332970] PKRU: 55555554
[   61.333152] note: repro[23616] exited with preempt_count 1
[   61.333493] Fixing recursive fault but reboot is needed!
[   61.333827] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23616
[   61.334323] caller is debug_smp_processor_id+0x20/0x30
[   61.334662] CPU: 1 UID: 0 PID: 23616 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.335255] Tainted: [D]=DIE, [W]=WARN
[   61.335508] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.336238] Call Trace:
[   61.336410]  <TASK>
[   61.336564]  dump_stack_lvl+0x121/0x150
[   61.336839]  dump_stack+0x19/0x20
[   61.337080]  check_preemption_disabled+0x168/0x180
[   61.337406]  debug_smp_processor_id+0x20/0x30
[   61.337838]  __schedule+0xa0/0x33a0
[   61.338204]  ? do_task_dead+0xa8/0x110
[   61.338474]  ? debug_smp_processor_id+0x20/0x30
[   61.338791]  ? rcu_is_watching+0x19/0xc0
[   61.339063]  ? lock_release+0x592/0x870
[   61.339324]  ? __pfx___schedule+0x10/0x10
[   61.339600]  ? debug_smp_processor_id+0x20/0x30
[   61.339887]  ? rcu_is_watching+0x19/0xc0
[   61.340139]  ? trace_irq_enable+0xe1/0x120
[   61.340401]  ? do_task_dead+0x4a/0x110
[   61.340641]  do_task_dead+0xe0/0x110
[   61.340866]  make_task_dead+0x384/0x3c0
[   61.341113]  rewind_stack_and_make_dead+0x16/0x20
[   61.341423] RIP: 0033:0x7f2e1423ee5d
[   61.341724] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.342214] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.342820] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.343392] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.344213] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.344864] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.345447] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.346018]  </TASK>
[   61.346193] BUG: scheduling while atomic: repro/23616/0x00000000
[   61.346542] INFO: lockdep is turned off.
[   61.346772] Modules linked in:
[   61.346958] Preemption disabled at:
[   61.346962] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   61.347473] CPU: 1 UID: 0 PID: 23616 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.347977] Tainted: [D]=DIE, [W]=WARN
[   61.348190] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.348797] Call Trace:
[   61.348943]  <TASK>
[   61.349073]  dump_stack_lvl+0x121/0x150
[   61.349309]  ? do_task_dead+0x28/0x110
[   61.349543]  dump_stack+0x19/0x20
[   61.349757]  __schedule_bug+0x12d/0x180
[   61.350005]  __schedule+0x23fe/0x33a0
[   61.350335]  ? do_task_dead+0xa8/0x110
[   61.350696]  ? rcu_is_watching+0x19/0xc0
[   61.350946]  ? lock_release+0x592/0x870
[   61.351192]  ? __pfx___schedule+0x10/0x10
[   61.351450]  ? debug_smp_processor_id+0x20/0x30
[   61.351711]  ? rcu_is_watching+0x19/0xc0
[   61.351935]  ? trace_irq_enable+0xe1/0x120
[   61.352175]  ? do_task_dead+0x4a/0x110
[   61.352389]  do_task_dead+0xe0/0x110
[   61.352595]  make_task_dead+0x384/0x3c0
[   61.352818]  rewind_stack_and_make_dead+0x16/0x20
[   61.353083] RIP: 0033:0x7f2e1423ee5d
[   61.353284] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.353612] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.354016] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.354391] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.354757] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.355123] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.355491] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.355863]  </TASK>
[   61.380949] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#130] PREEMPT SMP KASAN NOPTI
[   61.381661] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.382094] CPU: 1 UID: 0 PID: 23691 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.382616] Tainted: [D]=DIE, [W]=WARN
[   61.382843] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.383479] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.383973] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.385117] RSP: 0018:ffff888011d7f7d8 EFLAGS: 00010202
[   61.385468] RAX: dffffc0000000000 RBX: ffffea00007cf4c0 RCX: ffffffff81bc4f39
[   61.385921] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007cf4d0
[   61.386343] RBP: ffff888011d7f7f8 R08: 0000000000000000 R09: ffffed10028c6d68
[   61.386795] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.387220] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888014636b40
[   61.387651] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.388090] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.388410] CR2: 00007f2e143fca50 CR3: 000000002b78c002 CR4: 0000000000770ef0
[   61.388807] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.389241] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.389715] PKRU: 55555554
[   61.389913] Call Trace:
[   61.390095]  <TASK>
[   61.390220]  ? show_regs+0x6d/0x80
[   61.390508]  ? die_addr+0x45/0xb0
[   61.390791]  ? exc_general_protection+0x1ae/0x340
[   61.391189]  ? asm_exc_general_protection+0x2b/0x30
[   61.391471]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.391757]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.392044]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.392339]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.392654]  zap_huge_pmd+0x48e/0xd40
[   61.392900]  unmap_page_range+0x1ad6/0x4360
[   61.393176]  ? update_stack_state+0x2d9/0x610
[   61.393476]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.393808]  ? __pfx_unmap_page_range+0x10/0x10
[   61.394097]  unmap_single_vma+0x1ac/0x2d0
[   61.394338]  unmap_vmas+0x210/0x470
[   61.394594]  ? __pfx_unmap_vmas+0x10/0x10
[   61.394858]  ? __pfx_lock_release+0x10/0x10
[   61.395113]  ? lock_release+0x592/0x870
[   61.395332]  ? mas_next_slot+0x133a/0x1a50
[   61.395575]  ? __pfx_lock_release+0x10/0x10
[   61.395830]  ? mlock_drain_local+0x27f/0x4b0
[   61.396096]  exit_mmap+0x19e/0xb10
[   61.396309]  ? __pfx_exit_mmap+0x10/0x10
[   61.396538]  ? debug_smp_processor_id+0x20/0x30
[   61.396787]  ? trace_hardirqs_on+0x51/0x60
[   61.397022]  ? kasan_quarantine_put+0xa2/0x200
[   61.397269]  ? __khugepaged_exit+0x266/0x4c0
[   61.397503]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.397788]  __mmput+0xde/0x3a0
[   61.397966]  mmput+0x74/0x90
[   61.398133]  do_exit+0xa03/0x29f0
[   61.398322]  ? trace_hardirqs_on+0x51/0x60
[   61.398575]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.399068]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.399432]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.399739]  ? __pfx_do_exit+0x10/0x10
[   61.399958]  ? __audit_syscall_entry+0x39c/0x500
[   61.400221]  __x64_sys_exit+0x50/0x60
[   61.400431]  x64_sys_call+0x20c9/0x20d0
[   61.400636]  do_syscall_64+0x6d/0x140
[   61.400836]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.401103] RIP: 0033:0x7f2e1423ee5d
[   61.401295] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.401598] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.401969] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.402325] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.402683] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.403042] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.403391] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.403742]  </TASK>
[   61.403856] Modules linked in:
[   61.404098] ---[ end trace 0000000000000000 ]---
[   61.404330] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.404619] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.405791] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   61.406080] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   61.406451] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   61.406845] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   61.407260] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.407643] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   61.407995] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.408381] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.408654] CR2: 00007f2e143fca50 CR3: 000000002b78c002 CR4: 0000000000770ef0
[   61.408989] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.409327] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.409666] PKRU: 55555554
[   61.409805] note: repro[23691] exited with preempt_count 1
[   61.410085] Fixing recursive fault but reboot is needed!
[   61.410349] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23691
[   61.410707] caller is debug_smp_processor_id+0x20/0x30
[   61.410948] CPU: 1 UID: 0 PID: 23691 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.411498] Tainted: [D]=DIE, [W]=WARN
[   61.411746] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.412291] Call Trace:
[   61.412418]  <TASK>
[   61.412532]  dump_stack_lvl+0x121/0x150
[   61.412733]  dump_stack+0x19/0x20
[   61.412907]  check_preemption_disabled+0x168/0x180
[   61.413150]  debug_smp_processor_id+0x20/0x30
[   61.413372]  __schedule+0xa0/0x33a0
[   61.413591]  ? do_task_dead+0xa8/0x110
[   61.413835]  ? debug_smp_processor_id+0x20/0x30
[   61.414131]  ? rcu_is_watching+0x19/0xc0
[   61.414391]  ? lock_release+0x592/0x870
[   61.414662]  ? __pfx___schedule+0x10/0x10
[   61.414930]  ? debug_smp_processor_id+0x20/0x30
[   61.415223]  ? rcu_is_watching+0x19/0xc0
[   61.415464]  ? trace_irq_enable+0xe1/0x120
[   61.415686]  ? do_task_dead+0x4a/0x110
[   61.415888]  do_task_dead+0xe0/0x110
[   61.416084]  make_task_dead+0x384/0x3c0
[   61.416293]  rewind_stack_and_make_dead+0x16/0x20
[   61.416591] RIP: 0033:0x7f2e1423ee5d
[   61.416822] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.417203] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.417667] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.418021] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.418337] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.418650] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.419073] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.419494]  </TASK>
[   61.419659] BUG: scheduling while atomic: repro/23691/0x00000000
[   61.420067] INFO: lockdep is turned off.
[   61.420791] Modules linked in:
[   61.421277] Preemption disabled at:
[   61.421294] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   61.422574] CPU: 1 UID: 0 PID: 23691 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.423794] Tainted: [D]=DIE, [W]=WARN
[   61.424317] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.425155] Call Trace:
[   61.425326]  <TASK>
[   61.425474]  dump_stack_lvl+0x121/0x150
[   61.425706]  ? do_task_dead+0x28/0x110
[   61.425932]  dump_stack+0x19/0x20
[   61.426156]  __schedule_bug+0x12d/0x180
[   61.426397]  __schedule+0x23fe/0x33a0
[   61.426611]  ? do_task_dead+0xa8/0x110
[   61.426781]  ? rcu_is_watching+0x19/0xc0
[   61.426991]  ? lock_release+0x592/0x870
[   61.427195]  ? __pfx___schedule+0x10/0x10
[   61.427461]  ? debug_smp_processor_id+0x20/0x30
[   61.427731]  ? rcu_is_watching+0x19/0xc0
[   61.428024]  ? trace_irq_enable+0xe1/0x120
[   61.428301]  ? do_task_dead+0x4a/0x110
[   61.428528]  do_task_dead+0xe0/0x110
[   61.428727]  make_task_dead+0x384/0x3c0
[   61.428975]  rewind_stack_and_make_dead+0x16/0x20
[   61.429268] RIP: 0033:0x7f2e1423ee5d
[   61.429491] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.429859] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.430345] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.430683] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.430993] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.431298] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.431612] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.431937]  </TASK>
[   61.707771] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#131] PREEMPT SMP KASAN NOPTI
[   61.708999] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.709705] CPU: 1 UID: 0 PID: 23854 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.710614] Tainted: [D]=DIE, [W]=WARN
[   61.710974] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.712044] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.712600] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.714256] RSP: 0018:ffff888028bb77d8 EFLAGS: 00010202
[   61.715054] RAX: dffffc0000000000 RBX: ffffea0000adcfc0 RCX: ffffffff81bc4f39
[   61.715729] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000adcfd0
[   61.716566] RBP: ffff888028bb77f8 R08: 0000000000000000 R09: ffffed10024c7ccc
[   61.717376] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.718334] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801263e660
[   61.719176] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.720289] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.721059] CR2: 00007f2e143fca50 CR3: 0000000026100004 CR4: 0000000000770ef0
[   61.721896] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.722811] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.723708] PKRU: 55555554
[   61.724044] Call Trace:
[   61.724453]  <TASK>
[   61.724711]  ? show_regs+0x6d/0x80
[   61.725138]  ? die_addr+0x45/0xb0
[   61.725648]  ? exc_general_protection+0x1ae/0x340
[   61.726213]  ? asm_exc_general_protection+0x2b/0x30
[   61.726858]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.727463]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.728158]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.728766]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.729364]  zap_huge_pmd+0x48e/0xd40
[   61.729806]  unmap_page_range+0x1ad6/0x4360
[   61.730367]  ? update_stack_state+0x2d9/0x610
[   61.730878]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.731364]  ? __pfx_unmap_page_range+0x10/0x10
[   61.731781]  unmap_single_vma+0x1ac/0x2d0
[   61.732168]  unmap_vmas+0x210/0x470
[   61.732516]  ? __pfx_unmap_vmas+0x10/0x10
[   61.732892]  ? __pfx_lock_release+0x10/0x10
[   61.733269]  ? lock_release+0x592/0x870
[   61.733628]  ? mas_next_slot+0x133a/0x1a50
[   61.734012]  ? __pfx_lock_release+0x10/0x10
[   61.734408]  ? mlock_drain_local+0x27f/0x4b0
[   61.734806]  exit_mmap+0x19e/0xb10
[   61.735290]  ? __pfx_exit_mmap+0x10/0x10
[   61.735792]  ? debug_smp_processor_id+0x20/0x30
[   61.736202]  ? trace_hardirqs_on+0x51/0x60
[   61.736578]  ? kasan_quarantine_put+0xa2/0x200
[   61.736978]  ? __khugepaged_exit+0x266/0x4c0
[   61.737371]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.737846]  __mmput+0xde/0x3a0
[   61.738139]  mmput+0x74/0x90
[   61.738416]  do_exit+0xa03/0x29f0
[   61.738721]  ? trace_hardirqs_on+0x51/0x60
[   61.739093]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.739648]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.740077]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.740527]  ? __pfx_do_exit+0x10/0x10
[   61.740862]  ? __audit_syscall_entry+0x39c/0x500
[   61.741264]  __x64_sys_exit+0x50/0x60
[   61.741581]  x64_sys_call+0x20c9/0x20d0
[   61.741913]  do_syscall_64+0x6d/0x140
[   61.742231]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.742660] RIP: 0033:0x7f2e1423ee5d
[   61.742974] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.743469] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.744077] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.744644] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.745298] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.746085] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.746695] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.747289]  </TASK>
[   61.747485] Modules linked in:
[   61.747801] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#132] PREEMPT SMP KASAN NOPTI
[   61.747910] ---[ end trace 0000000000000000 ]---
[   61.749014] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.749371] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.750039] CPU: 0 UID: 0 PID: 23878 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.750492] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.751284] Tainted: [D]=DIE, [W]=WARN
[   61.752630] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   61.752973] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.753351] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   61.754347] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.754873] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   61.755391] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.755888] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   61.757509] RSP: 0018:ffff888014bff7d8 EFLAGS: 00010202
[   61.758010] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.758013] 
[   61.758020] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   61.758487] RAX: dffffc0000000000 RBX: ffffea0000652d00 RCX: ffffffff81bc4f39
[   61.758500] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000652d10
[   61.759004] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.759161] RBP: ffff888014bff7f8 R08: 0000000000000000 R09: ffffed1002135d74
[   61.759656] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.760293] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.760797] CR2: 00007f2e143fca50 CR3: 0000000026100004 CR4: 0000000000770ef0
[   61.761505] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880109aeba0
[   61.761987] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.762509] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.763007] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.763635] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.764112] PKRU: 55555554
[   61.764747] CR2: 00007f548f2a0070 CR3: 000000001fb62002 CR4: 0000000000770ef0
[   61.765284] note: repro[23854] exited with preempt_count 1
[   61.765907] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.766306] Fixing recursive fault but reboot is needed!
[   61.766544] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.767024] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23854
[   61.767506] PKRU: 55555554
[   61.767971] caller is debug_smp_processor_id+0x20/0x30
[   61.768446] Call Trace:
[   61.768899] CPU: 1 UID: 0 PID: 23854 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.769588]  <TASK>
[   61.769772] Tainted: [D]=DIE, [W]=WARN
[   61.770234]  ? show_regs+0x6d/0x80
[   61.770398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.771210]  ? die_addr+0x45/0xb0
[   61.771356] Call Trace:
[   61.771707]  ? exc_general_protection+0x1ae/0x340
[   61.771929]  <TASK>
[   61.772916]  ? asm_exc_general_protection+0x2b/0x30
[   61.773121]  dump_stack_lvl+0x121/0x150
[   61.773352]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.773644]  dump_stack+0x19/0x20
[   61.773830]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.774145]  check_preemption_disabled+0x168/0x180
[   61.774481]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.774799]  debug_smp_processor_id+0x20/0x30
[   61.775087]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.775404]  __schedule+0xa0/0x33a0
[   61.775816]  zap_huge_pmd+0x48e/0xd40
[   61.776140]  ? do_task_dead+0xa8/0x110
[   61.776521]  unmap_page_range+0x1ad6/0x4360
[   61.776834]  ? debug_smp_processor_id+0x20/0x30
[   61.777149]  ? update_stack_state+0x2d9/0x610
[   61.777380]  ? rcu_is_watching+0x19/0xc0
[   61.777720]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.777969]  ? lock_release+0x592/0x870
[   61.778365]  ? __pfx_unmap_page_range+0x10/0x10
[   61.778628]  ? __pfx___schedule+0x10/0x10
[   61.778953]  unmap_single_vma+0x1ac/0x2d0
[   61.779252]  ? debug_smp_processor_id+0x20/0x30
[   61.779570]  unmap_vmas+0x210/0x470
[   61.779850]  ? rcu_is_watching+0x19/0xc0
[   61.780189]  ? __pfx_unmap_vmas+0x10/0x10
[   61.780430]  ? trace_irq_enable+0xe1/0x120
[   61.780795]  ? __pfx_lock_release+0x10/0x10
[   61.781028]  ? do_task_dead+0x4a/0x110
[   61.781359]  ? lock_release+0x592/0x870
[   61.781730]  do_task_dead+0xe0/0x110
[   61.782102]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.782499]  make_task_dead+0x384/0x3c0
[   61.782838]  ? __pfx_lock_release+0x10/0x10
[   61.783202]  rewind_stack_and_make_dead+0x16/0x20
[   61.783534]  ? mlock_drain_local+0x27f/0x4b0
[   61.783967] RIP: 0033:0x7f2e1423ee5d
[   61.784331]  exit_mmap+0x19e/0xb10
[   61.784705] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.785138]  ? __pfx_exit_mmap+0x10/0x10
[   61.785529] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   61.785868]  ? debug_smp_processor_id+0x20/0x30
[   61.786187]  ORIG_RAX: 000000000000003c
[   61.786750]  ? trace_hardirqs_on+0x51/0x60
[   61.787110] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.787576]  ? kasan_quarantine_put+0xa2/0x200
[   61.787994] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.788355]  ? __khugepaged_exit+0x266/0x4c0
[   61.788718] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.789363]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.789773] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.790413]  __mmput+0xde/0x3a0
[   61.790800] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.791452]  mmput+0x74/0x90
[   61.791957]  </TASK>
[   61.792582]  do_exit+0xa03/0x29f0
[   61.794325]  ? trace_hardirqs_on+0x51/0x60
[   61.794730]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.795331]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.795809]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.796271]  ? __pfx_do_exit+0x10/0x10
[   61.796638]  ? __audit_syscall_entry+0x39c/0x500
[   61.797095]  __x64_sys_exit+0x50/0x60
[   61.797452]  x64_sys_call+0x20c9/0x20d0
[   61.797824]  do_syscall_64+0x6d/0x140
[   61.798189]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.798671] RIP: 0033:0x7f2e1423ee5d
[   61.799025] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.799589] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.800321] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.800987] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.801628] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.802274] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.802918] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.803578]  </TASK>
[   61.803799] Modules linked in:
[   61.804298] ---[ end trace 0000000000000000 ]---
[   61.804749] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.805296] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.807033] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   61.807533] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   61.808189] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   61.808852] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   61.809517] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.810267] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   61.810920] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.811651] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.812184] CR2: 00007f548f2a0070 CR3: 000000001fb62002 CR4: 0000000000770ef0
[   61.812906] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.813562] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.814279] PKRU: 55555554
[   61.814551] note: repro[23878] exited with preempt_count 1
[   61.815089] Fixing recursive fault but reboot is needed!
[   61.815640] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23878
[   61.816354] caller is debug_smp_processor_id+0x20/0x30
[   61.816851] CPU: 0 UID: 0 PID: 23878 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.817690] Tainted: [D]=DIE, [W]=WARN
[   61.818058] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.819086] Call Trace:
[   61.819330]  <TASK>
[   61.819539]  dump_stack_lvl+0x121/0x150
[   61.819914]  dump_stack+0x19/0x20
[   61.820245]  check_preemption_disabled+0x168/0x180
[   61.820697]  debug_smp_processor_id+0x20/0x30
[   61.821113]  __schedule+0xa0/0x33a0
[   61.821456]  ? do_task_dead+0xa8/0x110
[   61.821814]  ? debug_smp_processor_id+0x20/0x30
[   61.822258]  ? rcu_is_watching+0x19/0xc0
[   61.822641]  ? lock_release+0x592/0x870
[   61.823016]  ? __pfx___schedule+0x10/0x10
[   61.823405]  ? debug_smp_processor_id+0x20/0x30
[   61.823834]  ? rcu_is_watching+0x19/0xc0
[   61.824227]  ? trace_irq_enable+0xe1/0x120
[   61.824628]  ? do_task_dead+0x4a/0x110
[   61.824997]  do_task_dead+0xe0/0x110
[   61.825348]  make_task_dead+0x384/0x3c0
[   61.825725]  rewind_stack_and_make_dead+0x16/0x20
[   61.826180] RIP: 0033:0x7f2e1423ee5d
[   61.826521] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.827076] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.827762] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.828407] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.829055] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.829709] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.830352] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.831024]  </TASK>
[   61.831301] BUG: scheduling while atomic: repro/23878/0x00000000
[   61.831854] INFO: lockdep is turned off.
[   61.832233] Modules linked in:
[   61.832531] Preemption disabled at:
[   61.832537] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   61.833354] CPU: 0 UID: 0 PID: 23878 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.834197] Tainted: [D]=DIE, [W]=WARN
[   61.834564] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.835595] Call Trace:
[   61.835834]  <TASK>
[   61.836060]  dump_stack_lvl+0x121/0x150
[   61.836433]  ? do_task_dead+0x28/0x110
[   61.836797]  dump_stack+0x19/0x20
[   61.837140]  __schedule_bug+0x12d/0x180
[   61.837525]  __schedule+0x23fe/0x33a0
[   61.837880]  ? do_task_dead+0xa8/0x110
[   61.838253]  ? rcu_is_watching+0x19/0xc0
[   61.838639]  ? lock_release+0x592/0x870
[   61.839019]  ? __pfx___schedule+0x10/0x10
[   61.839416]  ? debug_smp_processor_id+0x20/0x30
[   61.839841]  ? rcu_is_watching+0x19/0xc0
[   61.840231]  ? trace_irq_enable+0xe1/0x120
[   61.840633]  ? do_task_dead+0x4a/0x110
[   61.841002]  do_task_dead+0xe0/0x110
[   61.841355]  make_task_dead+0x384/0x3c0
[   61.841732]  rewind_stack_and_make_dead+0x16/0x20
[   61.842186] RIP: 0033:0x7f2e1423ee5d
[   61.842534] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.843099] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.843782] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.844426] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.845075] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.845715] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.846359] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.846961]  </TASK>
[   61.860335] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#133] PREEMPT SMP KASAN NOPTI
[   61.861173] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.861675] CPU: 0 UID: 0 PID: 23950 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.862296] Tainted: [D]=DIE, [W]=WARN
[   61.862552] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.863296] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.863760] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.865403] RSP: 0018:ffff888028b1f7d8 EFLAGS: 00010202
[   61.865888] RAX: dffffc0000000000 RBX: ffffea0000454700 RCX: ffffffff81bc4f39
[   61.866533] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000454710
[   61.867178] RBP: ffff888028b1f7f8 R08: 0000000000000000 R09: ffffed1001f8049c
[   61.867820] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.868462] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800fc024e0
[   61.869116] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.869854] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.870378] CR2: 00007f2e1429bc20 CR3: 0000000028b3c004 CR4: 0000000000770ef0
[   61.871035] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.871696] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.872347] PKRU: 55555554
[   61.872603] Call Trace:
[   61.872842]  <TASK>
[   61.873062]  ? show_regs+0x6d/0x80
[   61.873405]  ? die_addr+0x45/0xb0
[   61.873733]  ? exc_general_protection+0x1ae/0x340
[   61.874118]  ? asm_exc_general_protection+0x2b/0x30
[   61.874441]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.874768]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.875111]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.875448]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.875781]  zap_huge_pmd+0x48e/0xd40
[   61.876045]  unmap_page_range+0x1ad6/0x4360
[   61.876320]  ? update_stack_state+0x2d9/0x610
[   61.876618]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.876944]  ? __pfx_unmap_page_range+0x10/0x10
[   61.877255]  unmap_single_vma+0x1ac/0x2d0
[   61.877525]  unmap_vmas+0x210/0x470
[   61.877763]  ? __pfx_unmap_vmas+0x10/0x10
[   61.878029]  ? __pfx_lock_release+0x10/0x10
[   61.878308]  ? lock_release+0x592/0x870
[   61.878564]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.878882]  ? __pfx_lock_release+0x10/0x10
[   61.879160]  ? mlock_drain_local+0x27f/0x4b0
[   61.879447]  exit_mmap+0x19e/0xb10
[   61.879736]  ? __pfx_exit_mmap+0x10/0x10
[   61.880068]  ? debug_smp_processor_id+0x20/0x30
[   61.880443]  ? trace_hardirqs_on+0x51/0x60
[   61.880783]  ? kasan_quarantine_put+0xa2/0x200
[   61.881159]  ? __khugepaged_exit+0x266/0x4c0
[   61.881516]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.881955]  __mmput+0xde/0x3a0
[   61.882234]  mmput+0x74/0x90
[   61.882490]  do_exit+0xa03/0x29f0
[   61.882781]  ? trace_hardirqs_on+0x51/0x60
[   61.883129]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.883578]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.883885]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.884191]  ? __pfx_do_exit+0x10/0x10
[   61.884434]  ? __audit_syscall_entry+0x39c/0x500
[   61.884727]  __x64_sys_exit+0x50/0x60
[   61.884967]  x64_sys_call+0x20c9/0x20d0
[   61.885219]  do_syscall_64+0x6d/0x140
[   61.885456]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.885757] RIP: 0033:0x7f2e1423ee5d
[   61.885974] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.886326] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.886759] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.887178] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.887597] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.888058] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.888462] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.888875]  </TASK>
[   61.889017] Modules linked in:
[   61.889303] ---[ end trace 0000000000000000 ]---
[   61.889575] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.890015] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.891750] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   61.892240] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   61.892881] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   61.893521] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   61.894198] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.894844] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   61.895503] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.896219] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.896747] CR2: 00007f2e1429bc20 CR3: 0000000028b3c004 CR4: 0000000000770ef0
[   61.897402] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.898080] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.898625] PKRU: 55555554
[   61.898820] note: repro[23950] exited with preempt_count 1
[   61.899199] Fixing recursive fault but reboot is needed!
[   61.899554] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23950
[   61.900080] caller is debug_smp_processor_id+0x20/0x30
[   61.900435] CPU: 0 UID: 0 PID: 23950 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.901011] Tainted: [D]=DIE, [W]=WARN
[   61.901226] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.901839] Call Trace:
[   61.901978]  <TASK>
[   61.902108]  dump_stack_lvl+0x121/0x150
[   61.902327]  dump_stack+0x19/0x20
[   61.902516]  check_preemption_disabled+0x168/0x180
[   61.902775]  debug_smp_processor_id+0x20/0x30
[   61.903017]  __schedule+0xa0/0x33a0
[   61.903219]  ? do_task_dead+0xa8/0x110
[   61.903434]  ? debug_smp_processor_id+0x20/0x30
[   61.903689]  ? rcu_is_watching+0x19/0xc0
[   61.903914]  ? lock_release+0x592/0x870
[   61.904135]  ? __pfx___schedule+0x10/0x10
[   61.904362]  ? debug_smp_processor_id+0x20/0x30
[   61.904612]  ? rcu_is_watching+0x19/0xc0
[   61.904831]  ? trace_irq_enable+0xe1/0x120
[   61.905062]  ? do_task_dead+0x4a/0x110
[   61.905270]  do_task_dead+0xe0/0x110
[   61.905476]  make_task_dead+0x384/0x3c0
[   61.905691]  rewind_stack_and_make_dead+0x16/0x20
[   61.905945] RIP: 0033:0x7f2e1423ee5d
[   61.906143] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.906453] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.906834] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.907193] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.907549] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.907911] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.908274] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.908640]  </TASK>
[   61.908806] BUG: scheduling while atomic: repro/23950/0x00000000
[   61.909111] INFO: lockdep is turned off.
[   61.909312] Modules linked in:
[   61.909600] Preemption disabled at:
[   61.909606] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   61.910445] CPU: 0 UID: 0 PID: 23950 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   61.911291] Tainted: [D]=DIE, [W]=WARN
[   61.911641] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.912657] Call Trace:
[   61.912894]  <TASK>
[   61.913107]  dump_stack_lvl+0x121/0x150
[   61.913473]  ? do_task_dead+0x28/0x110
[   61.913832]  dump_stack+0x19/0x20
[   61.914166]  __schedule_bug+0x12d/0x180
[   61.914545]  __schedule+0x23fe/0x33a0
[   61.914905]  ? do_task_dead+0xa8/0x110
[   61.915341]  ? rcu_is_watching+0x19/0xc0
[   61.915812]  ? lock_release+0x592/0x870
[   61.916207]  ? __pfx___schedule+0x10/0x10
[   61.916597]  ? debug_smp_processor_id+0x20/0x30
[   61.917029]  ? rcu_is_watching+0x19/0xc0
[   61.917412]  ? trace_irq_enable+0xe1/0x120
[   61.917808]  ? do_task_dead+0x4a/0x110
[   61.918181]  do_task_dead+0xe0/0x110
[   61.918525]  make_task_dead+0x384/0x3c0
[   61.918906]  rewind_stack_and_make_dead+0x16/0x20
[   61.919182] RIP: 0033:0x7f2e1423ee5d
[   61.919367] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   61.919666] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.920036] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   61.920381] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.920724] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   61.921075] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   61.921413] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   61.921761]  </TASK>
[   62.365455] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#134] PREEMPT SMP KASAN NOPTI
[   62.366574] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.367289] CPU: 1 UID: 0 PID: 24212 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   62.368142] Tainted: [D]=DIE, [W]=WARN
[   62.368508] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.369691] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.370283] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.371970] RSP: 0018:ffff88802887f7d8 EFLAGS: 00010202
[   62.372474] RAX: dffffc0000000000 RBX: ffffea0000e16340 RCX: ffffffff81bc4f39
[   62.373133] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e16350
[   62.374192] RBP: ffff88802887f7f8 R08: 0000000000000000 R09: ffffed100370fc9c
[   62.374980] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.375687] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801b87e4e0
[   62.376356] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   62.377114] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.377656] CR2: 00007f2e143fca50 CR3: 000000000fd60003 CR4: 0000000000770ef0
[   62.378312] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.378933] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.379559] PKRU: 55555554
[   62.379811] Call Trace:
[   62.380043]  <TASK>
[   62.380250]  ? show_regs+0x6d/0x80
[   62.380581]  ? die_addr+0x45/0xb0
[   62.380902]  ? exc_general_protection+0x1ae/0x340
[   62.381349]  ? asm_exc_general_protection+0x2b/0x30
[   62.382200]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.382760]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.383256]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.383731]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.384233]  zap_huge_pmd+0x48e/0xd40
[   62.384616]  unmap_page_range+0x1ad6/0x4360
[   62.385040]  ? update_stack_state+0x2d9/0x610
[   62.385492]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.385979]  ? __pfx_unmap_page_range+0x10/0x10
[   62.386445]  unmap_single_vma+0x1ac/0x2d0
[   62.386835]  unmap_vmas+0x210/0x470
[   62.387190]  ? __pfx_unmap_vmas+0x10/0x10
[   62.387576]  ? __pfx_lock_release+0x10/0x10
[   62.388186]  ? lock_release+0x592/0x870
[   62.388689]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   62.389158]  ? __pfx_lock_release+0x10/0x10
[   62.389565]  ? mlock_drain_local+0x27f/0x4b0
[   62.389969]  exit_mmap+0x19e/0xb10
[   62.390307]  ? __pfx_exit_mmap+0x10/0x10
[   62.390660]  ? debug_smp_processor_id+0x20/0x30
[   62.391080]  ? trace_hardirqs_on+0x51/0x60
[   62.391460]  ? kasan_quarantine_put+0xa2/0x200
[   62.391948]  ? __khugepaged_exit+0x266/0x4c0
[   62.392540]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.393062]  __mmput+0xde/0x3a0
[   62.393367]  mmput+0x74/0x90
[   62.393643]  do_exit+0xa03/0x29f0
[   62.393958]  ? trace_hardirqs_on+0x51/0x60
[   62.394341]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.394884]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.395376]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.395869]  ? __pfx_do_exit+0x10/0x10
[   62.396200]  ? __audit_syscall_entry+0x39c/0x500
[   62.396599]  __x64_sys_exit+0x50/0x60
[   62.396920]  x64_sys_call+0x20c9/0x20d0
[   62.397253]  do_syscall_64+0x6d/0x140
[   62.397577]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.398008] RIP: 0033:0x7f2e1423ee5d
[   62.398317] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   62.398810] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.399428] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   62.400027] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.400606] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   62.401178] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   62.401789] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   62.402365]  </TASK>
[   62.402549] Modules linked in:
[   62.402977] ---[ end trace 0000000000000000 ]---
[   62.403354] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.403809] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.405205] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   62.405661] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   62.406264] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   62.406852] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   62.407392] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.407901] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   62.408414] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   62.408988] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.409409] CR2: 00007f2e143fca50 CR3: 000000000fd60003 CR4: 0000000000770ef0
[   62.409934] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.410478] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.410524] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#135] PREEMPT SMP KASAN NOPTI
[   62.411270] PKRU: 55555554
[   62.412352] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.412549] note: repro[24212] exited with preempt_count 1
[   62.413234] CPU: 0 UID: 0 PID: 24224 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   62.413619] Fixing recursive fault but reboot is needed!
[   62.414910] Tainted: [D]=DIE, [W]=WARN
[   62.415299] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.416708] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.417318] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.418976] RSP: 0018:ffff8880263b77d8 EFLAGS: 00010202
[   62.419481] RAX: dffffc0000000000 RBX: ffffea0000e15580 RCX: ffffffff81bc4f39
[   62.420131] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e15590
[   62.420775] RBP: ffff8880263b77f8 R08: 0000000000000000 R09: ffffed1001f905b0
[   62.421452] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.422101] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800fc82d80
[   62.422733] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.423491] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.424028] CR2: 00007f2f8c512008 CR3: 000000002b422005 CR4: 0000000000770ef0
[   62.424693] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.425373] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.426043] PKRU: 55555554
[   62.426302] Call Trace:
[   62.426540]  <TASK>
[   62.426753]  ? show_regs+0x6d/0x80
[   62.427103]  ? die_addr+0x45/0xb0
[   62.427440]  ? exc_general_protection+0x1ae/0x340
[   62.427899]  ? asm_exc_general_protection+0x2b/0x30
[   62.428383]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.428872]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.429444]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.429951]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.430450]  zap_huge_pmd+0x48e/0xd40
[   62.430818]  unmap_page_range+0x1ad6/0x4360
[   62.431243]  ? update_stack_state+0x2d9/0x610
[   62.431689]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.432175]  ? __pfx_unmap_page_range+0x10/0x10
[   62.432629]  unmap_single_vma+0x1ac/0x2d0
[   62.433032]  unmap_vmas+0x210/0x470
[   62.433404]  ? __pfx_unmap_vmas+0x10/0x10
[   62.433821]  ? __pfx_lock_release+0x10/0x10
[   62.434237]  ? lock_release+0x592/0x870
[   62.434615]  ? mas_next_slot+0x133a/0x1a50
[   62.435025]  ? __pfx_lock_release+0x10/0x10
[   62.435442]  ? mlock_drain_local+0x27f/0x4b0
[   62.435862]  exit_mmap+0x19e/0xb10
[   62.436217]  ? __pfx_exit_mmap+0x10/0x10
[   62.436604]  ? debug_smp_processor_id+0x20/0x30
[   62.437050]  ? trace_hardirqs_on+0x51/0x60
[   62.437473]  ? kasan_quarantine_put+0xa2/0x200
[   62.437960]  ? __khugepaged_exit+0x266/0x4c0
[   62.438395]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.438910]  __mmput+0xde/0x3a0
[   62.439235]  mmput+0x74/0x90
[   62.439533]  do_exit+0xa03/0x29f0
[   62.439864]  ? trace_hardirqs_on+0x51/0x60
[   62.440281]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.440882]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.441352]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.441841]  ? __pfx_do_exit+0x10/0x10
[   62.442258]  ? __audit_syscall_entry+0x39c/0x500
[   62.442706]  __x64_sys_exit+0x50/0x60
[   62.443081]  x64_sys_call+0x20c9/0x20d0
[   62.443458]  do_syscall_64+0x6d/0x140
[   62.443832]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.444320] RIP: 0033:0x7f2e1423ee5d
[   62.444676] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   62.445242] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.445963] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   62.446621] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.447266] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   62.447945] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   62.448610] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   62.449241]  </TASK>
[   62.449460] Modules linked in:
[   62.449922] ---[ end trace 0000000000000000 ]---
[   62.450453] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.450999] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.452539] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   62.453221] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   62.453927] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   62.454580] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   62.455185] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.455780] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   62.456372] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.457063] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.457553] CR2: 00007f2f8c512008 CR3: 000000002b422005 CR4: 0000000000770ef0
[   62.458197] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.458822] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.459424] PKRU: 55555554
[   62.459666] note: repro[24224] exited with preempt_count 1
[   62.460142] Fixing recursive fault but reboot is needed!
[   62.460593] BUG: scheduling while atomic: repro/24224/0x00000000
[   62.461103] INFO: lockdep is turned off.
[   62.461435] Modules linked in:
[   62.461709] Preemption disabled at:
[   62.461714] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   62.462324] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#136] PREEMPT SMP KASAN NOPTI
[   62.462498] CPU: 0 UID: 0 PID: 24224 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   62.463580] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.464284] Tainted: [D]=DIE, [W]=WARN
[   62.464953] CPU: 1 UID: 0 PID: 24264 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   62.465249] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.466079] Tainted: [D]=DIE, [W]=WARN
[   62.466932] Call Trace:
[   62.467288] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.467487]  <TASK>
[   62.468509] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.468706]  dump_stack_lvl+0x121/0x150
[   62.469227] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.469564]  ? do_task_dead+0x28/0x110
[   62.471205] RSP: 0018:ffff8880387a77d8 EFLAGS: 00010202
[   62.471531]  dump_stack+0x19/0x20
[   62.472009] RAX: dffffc0000000000 RBX: ffffea00004dee00 RCX: ffffffff81bc4f39
[   62.472300]  __schedule_bug+0x12d/0x180
[   62.472939] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004dee10
[   62.473281]  __schedule+0x23fe/0x33a0
[   62.473913] RBP: ffff8880387a77f8 R08: 0000000000000000 R09: ffffed10023df744
[   62.474236]  ? do_task_dead+0xa8/0x110
[   62.474871] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.475169]  ? rcu_is_watching+0x19/0xc0
[   62.475786] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011efba20
[   62.476085]  ? lock_release+0x592/0x870
[   62.476703] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   62.476994]  ? __pfx___schedule+0x10/0x10
[   62.477680] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.477977]  ? debug_smp_processor_id+0x20/0x30
[   62.478483] CR2: 00007f2e1429bc20 CR3: 00000000262fa003 CR4: 0000000000770ef0
[   62.478824]  ? rcu_is_watching+0x19/0xc0
[   62.479446] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.479740]  ? trace_irq_enable+0xe1/0x120
[   62.480357] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.480644]  ? do_task_dead+0x4a/0x110
[   62.481220] PKRU: 55555554
[   62.481489]  do_task_dead+0xe0/0x110
[   62.481728] Call Trace:
[   62.481988]  make_task_dead+0x384/0x3c0
[   62.482192]  <TASK>
[   62.482460]  rewind_stack_and_make_dead+0x16/0x20
[   62.482642]  ? show_regs+0x6d/0x80
[   62.482973] RIP: 0033:0x7f2e1423ee5d
[   62.483267]  ? die_addr+0x45/0xb0
[   62.483524] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   62.483808]  ? exc_general_protection+0x1ae/0x340
[   62.484230] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.484636]  ? asm_exc_general_protection+0x2b/0x30
[   62.485424] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   62.485836]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.486324] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.486730]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.487197] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   62.487604]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.488068] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   62.488477]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.488939] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   62.489345]  zap_huge_pmd+0x48e/0xd40
[   62.489808]  </TASK>
[   62.490086]  unmap_page_range+0x1ad6/0x4360
[   62.490561]  ? update_stack_state+0x2d9/0x610
[   62.490925]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.491323]  ? __pfx_unmap_page_range+0x10/0x10
[   62.491695]  unmap_single_vma+0x1ac/0x2d0
[   62.492026]  unmap_vmas+0x210/0x470
[   62.492318]  ? __pfx_unmap_vmas+0x10/0x10
[   62.492642]  ? __pfx_lock_release+0x10/0x10
[   62.492977]  ? lock_release+0x592/0x870
[   62.493294]  ? mas_next_slot+0x133a/0x1a50
[   62.493626]  ? __pfx_lock_release+0x10/0x10
[   62.493970]  ? mlock_drain_local+0x27f/0x4b0
[   62.494317]  exit_mmap+0x19e/0xb10
[   62.494610]  ? __pfx_exit_mmap+0x10/0x10
[   62.494928]  ? debug_smp_processor_id+0x20/0x30
[   62.495289]  ? trace_hardirqs_on+0x51/0x60
[   62.495625]  ? kasan_quarantine_put+0xa2/0x200
[   62.495997]  ? __khugepaged_exit+0x266/0x4c0
[   62.496358]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.496790]  __mmput+0xde/0x3a0
[   62.497057]  mmput+0x74/0x90
[   62.497306]  do_exit+0xa03/0x29f0
[   62.497580]  ? trace_hardirqs_on+0x51/0x60
[   62.497909]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.498411]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.498791]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.499157]  ? __pfx_do_exit+0x10/0x10
[   62.499445]  ? __audit_syscall_entry+0x39c/0x500
[   62.499804]  __x64_sys_exit+0x50/0x60
[   62.500096]  x64_sys_call+0x20c9/0x20d0
[   62.500384]  do_syscall_64+0x6d/0x140
[   62.500669]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.501060] RIP: 0033:0x7f2e1423ee5d
[   62.501334] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   62.501775] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.502313] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   62.502809] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.503294] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   62.503781] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   62.504261] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   62.504757]  </TASK>
[   62.504921] Modules linked in:
[   62.505191] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#137] PREEMPT SMP KASAN NOPTI
[   62.505232] ---[ end trace 0000000000000000 ]---
[   62.505241] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.506130] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.506143] CPU: 0 UID: 0 PID: 24288 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   62.506477] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.506897] Tainted: [D]=DIE, [W]=WARN
[   62.507398] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   62.508083] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.509263] 
[   62.509545] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.509879] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   62.510710] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.510724] RSP: 0018:ffff88802884f7d8 EFLAGS: 00010202
[   62.510836] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   62.511253] 
[   62.511709] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   62.512964] RAX: dffffc0000000000 RBX: ffffea000076ae80 RCX: ffffffff81bc4f39
[   62.513304] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.513802] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000076ae90
[   62.513917] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   62.514410] RBP: ffff88802884f7f8 R08: 0000000000000000 R09: ffffed1003e234a8
[   62.514420] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.514876] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   62.515373] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801f11a540
[   62.515383] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.515836] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.516323] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.516764] CR2: 00007f2e1429bc20 CR3: 00000000262fa003 CR4: 0000000000770ef0
[   62.517255] CR2: 00007f2f8c51c000 CR3: 0000000038494003 CR4: 0000000000770ef0
[   62.517753] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.518228] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.518237] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.518717] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.519100] PKRU: 55555554
[   62.519451] PKRU: 55555554
[   62.519917] Call Trace:
[   62.520340] note: repro[24264] exited with preempt_count 1
[   62.520855]  <TASK>
[   62.521333] Fixing recursive fault but reboot is needed!
[   62.521863]  ? show_regs+0x6d/0x80
[   62.524195]  ? die_addr+0x45/0xb0
[   62.524477]  ? exc_general_protection+0x1ae/0x340
[   62.524857]  ? asm_exc_general_protection+0x2b/0x30
[   62.525253]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.525600]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.525947]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.526297]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.526645]  zap_huge_pmd+0x48e/0xd40
[   62.526906]  unmap_page_range+0x1ad6/0x4360
[   62.527200]  ? update_stack_state+0x2d9/0x610
[   62.527519]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.527864]  ? __pfx_unmap_page_range+0x10/0x10
[   62.528187]  unmap_single_vma+0x1ac/0x2d0
[   62.528470]  unmap_vmas+0x210/0x470
[   62.528721]  ? __pfx_unmap_vmas+0x10/0x10
[   62.529002]  ? __pfx_lock_release+0x10/0x10
[   62.529294]  ? lock_release+0x592/0x870
[   62.529556]  ? mas_next_slot+0x133a/0x1a50
[   62.529832]  ? __pfx_lock_release+0x10/0x10
[   62.530116]  ? mlock_drain_local+0x27f/0x4b0
[   62.530402]  exit_mmap+0x19e/0xb10
[   62.530640]  ? __pfx_exit_mmap+0x10/0x10
[   62.530905]  ? debug_smp_processor_id+0x20/0x30
[   62.531210]  ? trace_hardirqs_on+0x51/0x60
[   62.531485]  ? kasan_quarantine_put+0xa2/0x200
[   62.531784]  ? __khugepaged_exit+0x266/0x4c0
[   62.532086]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.532431]  __mmput+0xde/0x3a0
[   62.532647]  mmput+0x74/0x90
[   62.532851]  do_exit+0xa03/0x29f0
[   62.533077]  ? trace_hardirqs_on+0x51/0x60
[   62.533340]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.533735]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.534041]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.534345]  ? __pfx_do_exit+0x10/0x10
[   62.534589]  ? __audit_syscall_entry+0x39c/0x500
[   62.534887]  __x64_sys_exit+0x50/0x60
[   62.535131]  x64_sys_call+0x20c9/0x20d0
[   62.535382]  do_syscall_64+0x6d/0x140
[   62.535627]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.535952] RIP: 0033:0x7f2e1423ee5d
[   62.536186] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   62.536555] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.537015] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   62.537440] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.538071] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   62.538711] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   62.539359] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   62.540017]  </TASK>
[   62.540242] Modules linked in:
[   62.540667] ---[ end trace 0000000000000000 ]---
[   62.541118] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.541656] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.543331] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   62.543818] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   62.544326] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   62.544737] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   62.545151] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.545560] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   62.545955] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.546419] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.546749] CR2: 00007f2f8c51c000 CR3: 0000000038494003 CR4: 0000000000770ef0
[   62.547155] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.547556] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.547954] PKRU: 55555554
[   62.548119] note: repro[24288] exited with preempt_count 1
[   62.548428] Fixing recursive fault but reboot is needed!
[   62.548737] BUG: scheduling while atomic: repro/24288/0x00000000
[   62.549080] INFO: lockdep is turned off.
[   62.549302] Modules linked in:
[   62.549478] Preemption disabled at:
[   62.549482] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   62.549977] CPU: 0 UID: 0 PID: 24288 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   62.550495] Tainted: [D]=DIE, [W]=WARN
[   62.550710] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.551328] Call Trace:
[   62.551471]  <TASK>
[   62.551599]  dump_stack_lvl+0x121/0x150
[   62.551825]  ? do_task_dead+0x28/0x110
[   62.552045]  dump_stack+0x19/0x20
[   62.552242]  __schedule_bug+0x12d/0x180
[   62.552467]  __schedule+0x23fe/0x33a0
[   62.552680]  ? do_task_dead+0xa8/0x110
[   62.552895]  ? rcu_is_watching+0x19/0xc0
[   62.553128]  ? lock_release+0x592/0x870
[   62.553353]  ? __pfx___schedule+0x10/0x10
[   62.553587]  ? debug_smp_processor_id+0x20/0x30
[   62.553839]  ? rcu_is_watching+0x19/0xc0
[   62.554070]  ? trace_irq_enable+0xe1/0x120
[   62.554307]  ? do_task_dead+0x4a/0x110
[   62.554514]  do_task_dead+0xe0/0x110
[   62.554716]  make_task_dead+0x384/0x3c0
[   62.554934]  rewind_stack_and_make_dead+0x16/0x20
[   62.555196] RIP: 0033:0x7f2e1423ee5d
[   62.555395] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   62.555713] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.556110] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   62.556479] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.556851] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   62.557236] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   62.557612] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   62.557995]  </TASK>
[   64.122275] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#138] PREEMPT SMP KASAN NOPTI
[   64.123426] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.124131] CPU: 1 UID: 0 PID: 25447 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   64.124980] Tainted: [D]=DIE, [W]=WARN
[   64.125341] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.126383] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.126939] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.128920] RSP: 0018:ffff8880115df7d8 EFLAGS: 00010202
[   64.129428] RAX: dffffc0000000000 RBX: ffffea0000e163c0 RCX: ffffffff81bc4f39
[   64.130106] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e163d0
[   64.130761] RBP: ffff8880115df7f8 R08: 0000000000000000 R09: ffffed10056bc248
[   64.131419] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.132150] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802b5e1240
[   64.133057] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   64.133814] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.134363] CR2: 00007f2e145f3bf0 CR3: 0000000028a7c002 CR4: 0000000000770ef0
[   64.135017] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.135672] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.136320] PKRU: 55555554
[   64.136578] Call Trace:
[   64.136814]  <TASK>
[   64.137030]  ? show_regs+0x6d/0x80
[   64.137396]  ? die_addr+0x45/0xb0
[   64.137745]  ? exc_general_protection+0x1ae/0x340
[   64.138220]  ? asm_exc_general_protection+0x2b/0x30
[   64.138707]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.139213]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.139728]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.140233]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.140734]  zap_huge_pmd+0x48e/0xd40
[   64.141117]  unmap_page_range+0x1ad6/0x4360
[   64.141529]  ? update_stack_state+0x2d9/0x610
[   64.141992]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.142497]  ? __pfx_unmap_page_range+0x10/0x10
[   64.142950]  unmap_single_vma+0x1ac/0x2d0
[   64.143357]  unmap_vmas+0x210/0x470
[   64.143726]  ? __pfx_unmap_vmas+0x10/0x10
[   64.144126]  ? __pfx_lock_release+0x10/0x10
[   64.144534]  ? lock_release+0x592/0x870
[   64.144908]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.145387]  ? __pfx_lock_release+0x10/0x10
[   64.145804]  ? mlock_drain_local+0x27f/0x4b0
[   64.146238]  exit_mmap+0x19e/0xb10
[   64.146751]  ? __pfx_exit_mmap+0x10/0x10
[   64.147344]  ? debug_smp_processor_id+0x20/0x30
[   64.147793]  ? trace_hardirqs_on+0x51/0x60
[   64.148229]  ? kasan_quarantine_put+0xa2/0x200
[   64.148673]  ? __khugepaged_exit+0x266/0x4c0
[   64.149101]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.149616]  __mmput+0xde/0x3a0
[   64.149949]  mmput+0x74/0x90
[   64.150253]  do_exit+0xa03/0x29f0
[   64.150675]  ? trace_hardirqs_on+0x51/0x60
[   64.151323]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.151970]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.152452]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.152920]  ? __pfx_do_exit+0x10/0x10
[   64.153301]  ? __audit_syscall_entry+0x39c/0x500
[   64.153754]  __x64_sys_exit+0x50/0x60
[   64.154135]  x64_sys_call+0x20c9/0x20d0
[   64.154525]  do_syscall_64+0x6d/0x140
[   64.155101]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.155755] RIP: 0033:0x7f2e1423ee5d
[   64.156117] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   64.156692] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.157396] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   64.158058] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.158726] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   64.159379] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   64.160031] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   64.160716]  </TASK>
[   64.161007] Modules linked in:
[   64.161620] ---[ end trace 0000000000000000 ]---
[   64.162192] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.162753] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.164421] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   64.164916] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   64.165925] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   64.166580] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   64.167226] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.167857] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   64.168493] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   64.169207] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.169729] CR2: 00007f2e145f3bf0 CR3: 0000000028a7c002 CR4: 0000000000770ef0
[   64.170398] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.171046] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.171893] PKRU: 55555554
[   64.172205] note: repro[25447] exited with preempt_count 1
[   64.172716] Fixing recursive fault but reboot is needed!
[   64.173180] BUG: scheduling while atomic: repro/25447/0x00000000
[   64.173701] INFO: lockdep is turned off.
[   64.174081] Modules linked in:
[   64.174372] Preemption disabled at:
[   64.174378] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   64.175152] CPU: 1 UID: 0 PID: 25447 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   64.175936] Tainted: [D]=DIE, [W]=WARN
[   64.176260] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.177201] Call Trace:
[   64.177414]  <TASK>
[   64.177611]  dump_stack_lvl+0x121/0x150
[   64.178349]  ? do_task_dead+0x28/0x110
[   64.178751]  dump_stack+0x19/0x20
[   64.179104]  __schedule_bug+0x12d/0x180
[   64.179513]  __schedule+0x23fe/0x33a0
[   64.179873]  ? do_task_dead+0xa8/0x110
[   64.180232]  ? rcu_is_watching+0x19/0xc0
[   64.180589]  ? lock_release+0x592/0x870
[   64.180938]  ? __pfx___schedule+0x10/0x10
[   64.181298]  ? debug_smp_processor_id+0x20/0x30
[   64.181679]  ? rcu_is_watching+0x19/0xc0
[   64.182023]  ? trace_irq_enable+0xe1/0x120
[   64.182382]  ? do_task_dead+0x4a/0x110
[   64.182705]  do_task_dead+0xe0/0x110
[   64.183033]  make_task_dead+0x384/0x3c0
[   64.183377]  rewind_stack_and_make_dead+0x16/0x20
[   64.183774] RIP: 0033:0x7f2e1423ee5d
[   64.184076] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   64.184570] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.185184] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   64.185746] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.186559] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   64.187107] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   64.187647] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   64.188201]  </TASK>
[   64.354658] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#139] PREEMPT SMP KASAN NOPTI
[   64.355854] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.356602] CPU: 0 UID: 0 PID: 25575 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   64.357496] Tainted: [D]=DIE, [W]=WARN
[   64.357868] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.358951] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.359543] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.361272] RSP: 0018:ffff88800fa1f7d8 EFLAGS: 00010202
[   64.361898] RAX: dffffc0000000000 RBX: ffffea0000985340 RCX: ffffffff81bc4f39
[   64.362560] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000985350
[   64.363216] RBP: ffff88800fa1f7f8 R08: 0000000000000000 R09: ffffed10026ca4d8
[   64.363859] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.364508] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880136526c0
[   64.365149] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   64.365878] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.366424] CR2: 00007f2e145f3bf0 CR3: 000000002896c001 CR4: 0000000000770ef0
[   64.367097] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.367742] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.368385] PKRU: 55555554
[   64.368649] Call Trace:
[   64.368890]  <TASK>
[   64.369107]  ? show_regs+0x6d/0x80
[   64.369456]  ? die_addr+0x45/0xb0
[   64.369791]  ? exc_general_protection+0x1ae/0x340
[   64.370259]  ? asm_exc_general_protection+0x2b/0x30
[   64.370759]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.371259]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.371744]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.372232]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.372747]  zap_huge_pmd+0x48e/0xd40
[   64.373141]  unmap_page_range+0x1ad6/0x4360
[   64.373547]  ? update_stack_state+0x2d9/0x610
[   64.373992]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.374481]  ? __pfx_unmap_page_range+0x10/0x10
[   64.374928]  unmap_single_vma+0x1ac/0x2d0
[   64.375474]  unmap_vmas+0x210/0x470
[   64.376010]  ? __pfx_unmap_vmas+0x10/0x10
[   64.376427]  ? __pfx_lock_release+0x10/0x10
[   64.376831]  ? lock_release+0x592/0x870
[   64.377225]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.377700]  ? __pfx_lock_release+0x10/0x10
[   64.378108]  ? mlock_drain_local+0x27f/0x4b0
[   64.378529]  exit_mmap+0x19e/0xb10
[   64.378876]  ? __pfx_exit_mmap+0x10/0x10
[   64.379261]  ? debug_smp_processor_id+0x20/0x30
[   64.379692]  ? trace_hardirqs_on+0x51/0x60
[   64.380103]  ? kasan_quarantine_put+0xa2/0x200
[   64.380532]  ? __khugepaged_exit+0x266/0x4c0
[   64.380959]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.381493]  __mmput+0xde/0x3a0
[   64.381813]  mmput+0x74/0x90
[   64.382111]  do_exit+0xa03/0x29f0
[   64.382446]  ? trace_hardirqs_on+0x51/0x60
[   64.382851]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.383452]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.383906]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.384366]  ? __pfx_do_exit+0x10/0x10
[   64.384753]  ? __audit_syscall_entry+0x39c/0x500
[   64.385214]  __x64_sys_exit+0x50/0x60
[   64.385591]  x64_sys_call+0x20c9/0x20d0
[   64.385960]  do_syscall_64+0x6d/0x140
[   64.386335]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.386817] RIP: 0033:0x7f2e1423ee5d
[   64.387182] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   64.387753] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.388463] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   64.389111] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.389764] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   64.390410] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   64.391058] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   64.391739]  </TASK>
[   64.391960] Modules linked in:
[   64.392422] ---[ end trace 0000000000000000 ]---
[   64.392854] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.393424] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.395176] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   64.395698] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   64.396366] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   64.397011] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   64.397689] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.398448] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   64.399099] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   64.399822] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.400353] CR2: 00007f2e145f3bf0 CR3: 000000002896c001 CR4: 0000000000770ef0
[   64.401009] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.401690] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.402453] PKRU: 55555554
[   64.402729] note: repro[25575] exited with preempt_count 1
[   64.403236] Fixing recursive fault but reboot is needed!
[   64.403808] BUG: scheduling while atomic: repro/25575/0x00000000
[   64.404386] INFO: lockdep is turned off.
[   64.404758] Modules linked in:
[   64.405060] Preemption disabled at:
[   64.405066] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   64.405885] CPU: 0 UID: 0 PID: 25575 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   64.406721] Tainted: [D]=DIE, [W]=WARN
[   64.407087] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.408106] Call Trace:
[   64.408467]  <TASK>
[   64.408799]  dump_stack_lvl+0x121/0x150
[   64.409317]  ? do_task_dead+0x28/0x110
[   64.409691]  dump_stack+0x19/0x20
[   64.410041]  __schedule_bug+0x12d/0x180
[   64.410441]  __schedule+0x23fe/0x33a0
[   64.410800]  ? do_task_dead+0xa8/0x110
[   64.411165]  ? rcu_is_watching+0x19/0xc0
[   64.411546]  ? lock_release+0x592/0x870
[   64.411921]  ? __pfx___schedule+0x10/0x10
[   64.412318]  ? debug_smp_processor_id+0x20/0x30
[   64.412749]  ? rcu_is_watching+0x19/0xc0
[   64.413146]  ? trace_irq_enable+0xe1/0x120
[   64.413549]  ? do_task_dead+0x4a/0x110
[   64.413940]  do_task_dead+0xe0/0x110
[   64.414305]  make_task_dead+0x384/0x3c0
[   64.414685]  rewind_stack_and_make_dead+0x16/0x20
[   64.415145] RIP: 0033:0x7f2e1423ee5d
[   64.415490] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   64.416078] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.416791] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   64.417437] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.418087] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   64.418732] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   64.419371] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   64.420023]  </TASK>
[   64.881400] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#140] PREEMPT SMP KASAN NOPTI
[   64.882542] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.883250] CPU: 0 UID: 0 PID: 25930 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   64.884109] Tainted: [D]=DIE, [W]=WARN
[   64.884459] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.885486] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.886053] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.887714] RSP: 0018:ffff88802153f7d8 EFLAGS: 00010202
[   64.888230] RAX: dffffc0000000000 RBX: ffffea0000e11140 RCX: ffffffff81bc4f39
[   64.888894] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e11150
[   64.889551] RBP: ffff88802153f7f8 R08: 0000000000000000 R09: ffffed10022f07bc
[   64.890213] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   64.890873] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011783de0
[   64.891529] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   64.892269] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.892808] CR2: 00007fffdaca68b8 CR3: 000000002895a004 CR4: 0000000000770ef0
[   64.893469] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.894128] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.894784] PKRU: 55555554
[   64.895079] Call Trace:
[   64.895322]  <TASK>
[   64.895538]  ? show_regs+0x6d/0x80
[   64.895888]  ? die_addr+0x45/0xb0
[   64.896439]  ? exc_general_protection+0x1ae/0x340
[   64.896900]  ? asm_exc_general_protection+0x2b/0x30
[   64.897386]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.897881]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.898373]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.898869]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.899368]  zap_huge_pmd+0x48e/0xd40
[   64.899744]  unmap_page_range+0x1ad6/0x4360
[   64.900155]  ? __pfx_lock_release+0x10/0x10
[   64.900563]  ? do_raw_spin_trylock+0xbf/0x190
[   64.900995]  ? __kasan_check_read+0x15/0x20
[   64.901410]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.901902]  ? __pfx_unmap_page_range+0x10/0x10
[   64.902362]  unmap_single_vma+0x1ac/0x2d0
[   64.902770]  unmap_vmas+0x210/0x470
[   64.903137]  ? __pfx_unmap_vmas+0x10/0x10
[   64.903529]  ? __pfx_lock_release+0x10/0x10
[   64.903934]  ? lock_release+0x592/0x870
[   64.904316]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.904798]  ? __pfx_lock_release+0x10/0x10
[   64.905224]  ? mlock_drain_local+0x27f/0x4b0
[   64.905658]  exit_mmap+0x19e/0xb10
[   64.906008]  ? __pfx_exit_mmap+0x10/0x10
[   64.906399]  ? debug_smp_processor_id+0x20/0x30
[   64.906845]  ? trace_hardirqs_on+0x51/0x60
[   64.907258]  ? kasan_quarantine_put+0xa2/0x200
[   64.907698]  ? __khugepaged_exit+0x266/0x4c0
[   64.908130]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.908658]  __mmput+0xde/0x3a0
[   64.908978]  mmput+0x74/0x90
[   64.909281]  do_exit+0xa03/0x29f0
[   64.909619]  ? trace_hardirqs_on+0x51/0x60
[   64.910037]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.910639]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.911101]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.911568]  ? __pfx_do_exit+0x10/0x10
[   64.911942]  ? __audit_syscall_entry+0x39c/0x500
[   64.912404]  __x64_sys_exit+0x50/0x60
[   64.912769]  x64_sys_call+0x20c9/0x20d0
[   64.913160]  do_syscall_64+0x6d/0x140
[   64.913535]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.914034] RIP: 0033:0x7f2e1423ee5d
[   64.914391] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   64.914958] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.915666] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   64.916343] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.916992] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   64.917652] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   64.918323] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   64.919000]  </TASK>
[   64.919223] Modules linked in:
[   64.919683] ---[ end trace 0000000000000000 ]---
[   64.920138] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.920697] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.922463] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   64.922963] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   64.923621] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   64.924283] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   64.924938] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.925583] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   64.926335] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   64.927087] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.927623] CR2: 00007fffdaca68b8 CR3: 000000002895a004 CR4: 0000000000770ef0
[   64.928281] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.928926] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.929579] PKRU: 55555554
[   64.929839] note: repro[25930] exited with preempt_count 1
[   64.930424] Fixing recursive fault but reboot is needed!
[   64.930926] BUG: scheduling while atomic: repro/25930/0x00000000
[   64.931483] INFO: lockdep is turned off.
[   64.931855] Modules linked in:
[   64.932158] Preemption disabled at:
[   64.932164] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   64.933000] CPU: 0 UID: 0 PID: 25930 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   64.933848] Tainted: [D]=DIE, [W]=WARN
[   64.934214] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.935242] Call Trace:
[   64.935489]  <TASK>
[   64.935700]  dump_stack_lvl+0x121/0x150
[   64.936084]  ? do_task_dead+0x28/0x110
[   64.936447]  dump_stack+0x19/0x20
[   64.936783]  __schedule_bug+0x12d/0x180
[   64.937175]  __schedule+0x23fe/0x33a0
[   64.937539]  ? do_task_dead+0xa8/0x110
[   64.937906]  ? rcu_is_watching+0x19/0xc0
[   64.938297]  ? lock_release+0x592/0x870
[   64.938675]  ? __pfx___schedule+0x10/0x10
[   64.939082]  ? debug_smp_processor_id+0x20/0x30
[   64.939532]  ? rcu_is_watching+0x19/0xc0
[   64.939917]  ? trace_irq_enable+0xe1/0x120
[   64.940327]  ? do_task_dead+0x4a/0x110
[   64.940695]  do_task_dead+0xe0/0x110
[   64.941050]  make_task_dead+0x384/0x3c0
[   64.941439]  rewind_stack_and_make_dead+0x16/0x20
[   64.941895] RIP: 0033:0x7f2e1423ee5d
[   64.942249] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   64.942815] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.943521] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   64.944188] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.944838] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   64.945491] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   64.946156] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   64.946830]  </TASK>
[   65.023878] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#141] PREEMPT SMP KASAN NOPTI
[   65.025035] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.025745] CPU: 1 UID: 0 PID: 26044 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.026602] Tainted: [D]=DIE, [W]=WARN
[   65.026968] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.028100] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.028655] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.030325] RSP: 0018:ffff8880262377d8 EFLAGS: 00010202
[   65.030835] RAX: dffffc0000000000 RBX: ffffea00007c4080 RCX: ffffffff81bc4f39
[   65.031498] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00007c4090
[   65.032169] RBP: ffff8880262377f8 R08: 0000000000000000 R09: ffffed1002a3dc78
[   65.033257] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.033924] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880151ee3c0
[   65.034585] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.035337] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.035883] CR2: 00007f2e143fca50 CR3: 000000002b6f6003 CR4: 0000000000770ef0
[   65.036547] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.037209] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.037876] PKRU: 55555554
[   65.038157] Call Trace:
[   65.038397]  <TASK>
[   65.038628]  ? show_regs+0x6d/0x80
[   65.038987]  ? die_addr+0x45/0xb0
[   65.039330]  ? exc_general_protection+0x1ae/0x340
[   65.039832]  ? asm_exc_general_protection+0x2b/0x30
[   65.040322]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.040807]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.041305]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.041813]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.042336]  zap_huge_pmd+0x48e/0xd40
[   65.042713]  unmap_page_range+0x1ad6/0x4360
[   65.043132]  ? update_stack_state+0x2d9/0x610
[   65.043578]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.044080]  ? __pfx_unmap_page_range+0x10/0x10
[   65.044542]  unmap_single_vma+0x1ac/0x2d0
[   65.044937]  unmap_vmas+0x210/0x470
[   65.045295]  ? __pfx_unmap_vmas+0x10/0x10
[   65.045687]  ? __pfx_lock_release+0x10/0x10
[   65.046162]  ? lock_release+0x592/0x870
[   65.046576]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.047052]  ? __pfx_lock_release+0x10/0x10
[   65.047464]  ? mlock_drain_local+0x27f/0x4b0
[   65.047901]  exit_mmap+0x19e/0xb10
[   65.048295]  ? __pfx_exit_mmap+0x10/0x10
[   65.048724]  ? debug_smp_processor_id+0x20/0x30
[   65.049164]  ? trace_hardirqs_on+0x51/0x60
[   65.049566]  ? kasan_quarantine_put+0xa2/0x200
[   65.050023]  ? __khugepaged_exit+0x266/0x4c0
[   65.050453]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.050978]  __mmput+0xde/0x3a0
[   65.051306]  mmput+0x74/0x90
[   65.051603]  do_exit+0xa03/0x29f0
[   65.051947]  ? trace_hardirqs_on+0x51/0x60
[   65.052355]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.052965]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.053434]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.053903]  ? __pfx_do_exit+0x10/0x10
[   65.054295]  ? __audit_syscall_entry+0x39c/0x500
[   65.054752]  __x64_sys_exit+0x50/0x60
[   65.055482]  x64_sys_call+0x20c9/0x20d0
[   65.055959]  do_syscall_64+0x6d/0x140
[   65.056344]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.056863] RIP: 0033:0x7f2e1423ee5d
[   65.057220] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.057790] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.058505] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.059177] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.059824] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.060487] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.061259] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.062185]  </TASK>
[   65.062405] Modules linked in:
[   65.062910] ---[ end trace 0000000000000000 ]---
[   65.063373] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.063928] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.065605] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   65.066352] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   65.067040] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   65.067707] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   65.068368] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.069040] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   65.069952] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.070881] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.071443] CR2: 00007f2e143fca50 CR3: 000000002b6f6003 CR4: 0000000000770ef0
[   65.072110] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.072767] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.073550] PKRU: 55555554
[   65.073986] note: repro[26044] exited with preempt_count 1
[   65.074689] Fixing recursive fault but reboot is needed!
[   65.075204] BUG: scheduling while atomic: repro/26044/0x00000000
[   65.075780] INFO: lockdep is turned off.
[   65.076167] Modules linked in:
[   65.076468] Preemption disabled at:
[   65.076474] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   65.077322] CPU: 1 UID: 0 PID: 26044 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.078170] Tainted: [D]=DIE, [W]=WARN
[   65.078535] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.079587] Call Trace:
[   65.079990]  <TASK>
[   65.080336]  dump_stack_lvl+0x121/0x150
[   65.080779]  ? do_task_dead+0x28/0x110
[   65.081172]  dump_stack+0x19/0x20
[   65.081528]  __schedule_bug+0x12d/0x180
[   65.081937]  __schedule+0x23fe/0x33a0
[   65.082349]  ? do_task_dead+0xa8/0x110
[   65.082719]  ? rcu_is_watching+0x19/0xc0
[   65.083122]  ? lock_release+0x592/0x870
[   65.083510]  ? __pfx___schedule+0x10/0x10
[   65.083915]  ? debug_smp_processor_id+0x20/0x30
[   65.084357]  ? rcu_is_watching+0x19/0xc0
[   65.084758]  ? trace_irq_enable+0xe1/0x120
[   65.085188]  ? do_task_dead+0x4a/0x110
[   65.085564]  do_task_dead+0xe0/0x110
[   65.086031]  make_task_dead+0x384/0x3c0
[   65.086644]  rewind_stack_and_make_dead+0x16/0x20
[   65.087114] RIP: 0033:0x7f2e1423ee5d
[   65.087472] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.088055] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.088758] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.089432] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.090128] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.090785] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.091447] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.092129]  </TASK>
[   65.115551] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#142] PREEMPT SMP KASAN NOPTI
[   65.116701] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.117483] CPU: 1 UID: 0 PID: 26064 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.118675] Tainted: [D]=DIE, [W]=WARN
[   65.119051] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.120100] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.120653] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.122315] RSP: 0018:ffff88801fb5f7d8 EFLAGS: 00010202
[   65.122831] RAX: dffffc0000000000 RBX: ffffea00004dc7c0 RCX: ffffffff81bc4f39
[   65.123493] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004dc7d0
[   65.124482] RBP: ffff88801fb5f7f8 R08: 0000000000000000 R09: ffffed1004299b20
[   65.125153] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   65.125808] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880214cd900
[   65.126464] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.127200] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.127762] CR2: 00007fffdaca68b8 CR3: 000000003840e006 CR4: 0000000000770ef0
[   65.128433] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.129107] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.129812] PKRU: 55555554
[   65.130086] Call Trace:
[   65.130333]  <TASK>
[   65.130547]  ? show_regs+0x6d/0x80
[   65.130906]  ? die_addr+0x45/0xb0
[   65.131241]  ? exc_general_protection+0x1ae/0x340
[   65.131692]  ? asm_exc_general_protection+0x2b/0x30
[   65.132189]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.132687]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.133165]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.133648]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.134376]  zap_huge_pmd+0x48e/0xd40
[   65.134849]  unmap_page_range+0x1ad6/0x4360
[   65.135270]  ? __pfx_lock_release+0x10/0x10
[   65.135669]  ? do_raw_spin_trylock+0xbf/0x190
[   65.136085]  ? __kasan_check_read+0x15/0x20
[   65.136485]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.136956]  ? __pfx_unmap_page_range+0x10/0x10
[   65.137402]  unmap_single_vma+0x1ac/0x2d0
[   65.137794]  unmap_vmas+0x210/0x470
[   65.138156]  ? __pfx_unmap_vmas+0x10/0x10
[   65.138545]  ? __pfx_lock_release+0x10/0x10
[   65.138951]  ? lock_release+0x592/0x870
[   65.139318]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.139772]  ? __pfx_lock_release+0x10/0x10
[   65.140355]  ? mlock_drain_local+0x27f/0x4b0
[   65.140944]  exit_mmap+0x19e/0xb10
[   65.141293]  ? __pfx_exit_mmap+0x10/0x10
[   65.141740]  ? debug_smp_processor_id+0x20/0x30
[   65.142154]  ? trace_hardirqs_on+0x51/0x60
[   65.142524]  ? kasan_quarantine_put+0xa2/0x200
[   65.142926]  ? __khugepaged_exit+0x266/0x4c0
[   65.143318]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.143795]  __mmput+0xde/0x3a0
[   65.144091]  mmput+0x74/0x90
[   65.144366]  do_exit+0xa03/0x29f0
[   65.144678]  ? trace_hardirqs_on+0x51/0x60
[   65.145054]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.145628]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.146069]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.146483]  ? __pfx_do_exit+0x10/0x10
[   65.146810]  ? __audit_syscall_entry+0x39c/0x500
[   65.147203]  __x64_sys_exit+0x50/0x60
[   65.147534]  x64_sys_call+0x20c9/0x20d0
[   65.147856]  do_syscall_64+0x6d/0x140
[   65.148189]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.148783] RIP: 0033:0x7f2e1423ee5d
[   65.149201] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.149699] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.150319] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.150883] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.151457] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.152004] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.152535] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.153080]  </TASK>
[   65.153260] Modules linked in:
[   65.153568] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#143] PREEMPT SMP KASAN NOPTI
[   65.153692] ---[ end trace 0000000000000000 ]---
[   65.154720] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.154737] CPU: 0 UID: 0 PID: 26092 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.154762] Tainted: [D]=DIE, [W]=WARN
[   65.154768] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.154779] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.155158] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.155835] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.156524] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.156870] RSP: 0018:ffff888010c2f7d8 EFLAGS: 00010202
[   65.157705] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   65.158229] 
[   65.158234] RAX: dffffc0000000000 RBX: ffffea000098c400 RCX: ffffffff81bc4f39
[   65.158247] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000098c410
[   65.158258] RBP: ffff888010c2f7f8 R08: 0000000000000000 R09: ffffed10025c026c
[   65.158268] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.158278] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012e01360
[   65.158289] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   65.158303] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.158739] 
[   65.160382] CR2: 00007f2e1429bc20 CR3: 000000002049e005 CR4: 0000000000770ef0
[   65.161744] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   65.162230] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.162241] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.162252] PKRU: 55555554
[   65.162259] Call Trace:
[   65.162264]  <TASK>
[   65.162271]  ? show_regs+0x6d/0x80
[   65.162295]  ? die_addr+0x45/0xb0
[   65.162673] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   65.162837]  ? exc_general_protection+0x1ae/0x340
[   65.163331] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   65.163991]  ? asm_exc_general_protection+0x2b/0x30
[   65.164474] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.165118]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.165611] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   65.166352]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.166376]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.166399]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.166810] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.166967]  zap_huge_pmd+0x48e/0xd40
[   65.167450] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.168100]  unmap_page_range+0x1ad6/0x4360
[   65.168569] CR2: 00007fffdaca68b8 CR3: 000000003840e006 CR4: 0000000000770ef0
[   65.169218]  ? update_stack_state+0x2d9/0x610
[   65.169409] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.169657]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.169798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.170124]  ? __pfx_unmap_page_range+0x10/0x10
[   65.170157]  unmap_single_vma+0x1ac/0x2d0
[   65.170183]  unmap_vmas+0x210/0x470
[   65.170419] PKRU: 55555554
[   65.171068]  ? __pfx_unmap_vmas+0x10/0x10
[   65.171380] note: repro[26064] exited with preempt_count 1
[   65.172022]  ? __pfx_lock_release+0x10/0x10
[   65.172340] Fixing recursive fault but reboot is needed!
[   65.172974]  ? lock_release+0x592/0x870
[   65.183580]  ? mas_next_slot+0x133a/0x1a50
[   65.183991]  ? __pfx_lock_release+0x10/0x10
[   65.184762]  ? mlock_drain_local+0x27f/0x4b0
[   65.185206]  exit_mmap+0x19e/0xb10
[   65.185554]  ? __pfx_exit_mmap+0x10/0x10
[   65.185941]  ? debug_smp_processor_id+0x20/0x30
[   65.186385]  ? trace_hardirqs_on+0x51/0x60
[   65.186788]  ? kasan_quarantine_put+0xa2/0x200
[   65.187243]  ? __khugepaged_exit+0x266/0x4c0
[   65.187695]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.188224]  __mmput+0xde/0x3a0
[   65.188550]  mmput+0x74/0x90
[   65.188850]  do_exit+0xa03/0x29f0
[   65.189199]  ? trace_hardirqs_on+0x51/0x60
[   65.189599]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.190204]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.190669]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.191137]  ? __pfx_do_exit+0x10/0x10
[   65.191511]  ? __audit_syscall_entry+0x39c/0x500
[   65.191958]  __x64_sys_exit+0x50/0x60
[   65.192335]  x64_sys_call+0x20c9/0x20d0
[   65.192728]  do_syscall_64+0x6d/0x140
[   65.193098]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.193585] RIP: 0033:0x7f2e1423ee5d
[   65.193933] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.194501] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.195212] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.195872] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.196527] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.197182] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.197837] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.198514]  </TASK>
[   65.198740] Modules linked in:
[   65.199255] ---[ end trace 0000000000000000 ]---
[   65.199703] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.200259] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.201948] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   65.202632] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   65.203300] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   65.203950] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   65.204609] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.205267] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   65.205927] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   65.206748] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.207294] CR2: 00007f2e1429bc20 CR3: 000000002049e005 CR4: 0000000000770ef0
[   65.207954] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.208621] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.209280] PKRU: 55555554
[   65.209549] note: repro[26092] exited with preempt_count 1
[   65.210144] Fixing recursive fault but reboot is needed!
[   65.210646] BUG: scheduling while atomic: repro/26092/0x00000000
[   65.211205] INFO: lockdep is turned off.
[   65.211577] Modules linked in:
[   65.211879] Preemption disabled at:
[   65.211885] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   65.212717] CPU: 0 UID: 0 PID: 26092 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.213556] Tainted: [D]=DIE, [W]=WARN
[   65.213918] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.214945] Call Trace:
[   65.215197]  <TASK>
[   65.215411]  dump_stack_lvl+0x121/0x150
[   65.215790]  ? do_task_dead+0x28/0x110
[   65.216154]  dump_stack+0x19/0x20
[   65.216484]  __schedule_bug+0x12d/0x180
[   65.216865]  __schedule+0x23fe/0x33a0
[   65.217231]  ? do_task_dead+0xa8/0x110
[   65.217602]  ? rcu_is_watching+0x19/0xc0
[   65.218004]  ? lock_release+0x592/0x870
[   65.218389]  ? __pfx___schedule+0x10/0x10
[   65.218787]  ? debug_smp_processor_id+0x20/0x30
[   65.219223]  ? rcu_is_watching+0x19/0xc0
[   65.219608]  ? trace_irq_enable+0xe1/0x120
[   65.220018]  ? do_task_dead+0x4a/0x110
[   65.220390]  do_task_dead+0xe0/0x110
[   65.220743]  make_task_dead+0x384/0x3c0
[   65.221128]  rewind_stack_and_make_dead+0x16/0x20
[   65.221584] RIP: 0033:0x7f2e1423ee5d
[   65.221929] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.222501] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.223196] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.223845] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.224511] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.225164] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.225829] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.226498]  </TASK>
[   65.609769] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#144] PREEMPT SMP KASAN NOPTI
[   65.610908] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.611610] CPU: 1 UID: 0 PID: 26287 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.612464] Tainted: [D]=DIE, [W]=WARN
[   65.612843] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.613916] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.614475] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.616140] RSP: 0018:ffff88800df377d8 EFLAGS: 00010202
[   65.616830] RAX: dffffc0000000000 RBX: ffffea00006e6e40 RCX: ffffffff81bc4f39
[   65.617521] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00006e6e50
[   65.618350] RBP: ffff88800df377f8 R08: 0000000000000000 R09: ffffed1002683f98
[   65.619259] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.620186] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801341fcc0
[   65.621036] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.621997] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.622687] CR2: 00007f2e145f3bf0 CR3: 00000000384bc002 CR4: 0000000000770ef0
[   65.623538] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.624441] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.625291] PKRU: 55555554
[   65.625630] Call Trace:
[   65.625937]  <TASK>
[   65.626212]  ? show_regs+0x6d/0x80
[   65.626654]  ? die_addr+0x45/0xb0
[   65.627116]  ? exc_general_protection+0x1ae/0x340
[   65.627847]  ? asm_exc_general_protection+0x2b/0x30
[   65.628484]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.629121]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.629755]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.630392]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.631032]  zap_huge_pmd+0x48e/0xd40
[   65.631509]  unmap_page_range+0x1ad6/0x4360
[   65.632153]  ? update_stack_state+0x2d9/0x610
[   65.632719]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.633349]  ? __pfx_unmap_page_range+0x10/0x10
[   65.633924]  unmap_single_vma+0x1ac/0x2d0
[   65.634437]  unmap_vmas+0x210/0x470
[   65.634890]  ? __pfx_unmap_vmas+0x10/0x10
[   65.635423]  ? __pfx_lock_release+0x10/0x10
[   65.636068]  ? lock_release+0x592/0x870
[   65.636574]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.637186]  ? __pfx_lock_release+0x10/0x10
[   65.637713]  ? mlock_drain_local+0x27f/0x4b0
[   65.638258]  exit_mmap+0x19e/0xb10
[   65.638705]  ? __pfx_exit_mmap+0x10/0x10
[   65.639206]  ? debug_smp_processor_id+0x20/0x30
[   65.639769]  ? trace_hardirqs_on+0x51/0x60
[   65.640404]  ? kasan_quarantine_put+0xa2/0x200
[   65.640965]  ? __khugepaged_exit+0x266/0x4c0
[   65.641563]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.642225]  __mmput+0xde/0x3a0
[   65.642629]  mmput+0x74/0x90
[   65.643004]  do_exit+0xa03/0x29f0
[   65.643428]  ? trace_hardirqs_on+0x51/0x60
[   65.643938]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.644707]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.645291]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.645854]  ? __pfx_do_exit+0x10/0x10
[   65.646305]  ? __audit_syscall_entry+0x39c/0x500
[   65.646848]  __x64_sys_exit+0x50/0x60
[   65.647295]  x64_sys_call+0x20c9/0x20d0
[   65.647747]  do_syscall_64+0x6d/0x140
[   65.648192]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.648780] RIP: 0033:0x7f2e1423ee5d
[   65.649207] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.649900] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.650753] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.651553] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.652354] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.653147] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.653904] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.654677]  </TASK>
[   65.654929] Modules linked in:
[   65.655454] ---[ end trace 0000000000000000 ]---
[   65.655973] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.656613] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.658661] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   65.659245] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   65.659979] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   65.660804] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   65.661538] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.662359] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   65.663099] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.664204] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.664797] CR2: 00007f2e145f3bf0 CR3: 00000000384bc002 CR4: 0000000000770ef0
[   65.665529] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.666575] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.667311] PKRU: 55555554
[   65.667601] note: repro[26287] exited with preempt_count 1
[   65.668147] Fixing recursive fault but reboot is needed!
[   65.668689] check_preemption_disabled: 10 callbacks suppressed
[   65.668698] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26287
[   65.670183] caller is debug_smp_processor_id+0x20/0x30
[   65.670773] CPU: 1 UID: 0 PID: 26287 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.671751] Tainted: [D]=DIE, [W]=WARN
[   65.672131] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.673370] Call Trace:
[   65.673629]  <TASK>
[   65.673854]  dump_stack_lvl+0x121/0x150
[   65.674257]  dump_stack+0x19/0x20
[   65.674607]  check_preemption_disabled+0x168/0x180
[   65.675208]  debug_smp_processor_id+0x20/0x30
[   65.675670]  __schedule+0xa0/0x33a0
[   65.676065]  ? do_task_dead+0xa8/0x110
[   65.676508]  ? debug_smp_processor_id+0x20/0x30
[   65.676950]  ? rcu_is_watching+0x19/0xc0
[   65.677357]  ? lock_release+0x592/0x870
[   65.677873]  ? __pfx___schedule+0x10/0x10
[   65.678278]  ? debug_smp_processor_id+0x20/0x30
[   65.678718]  ? rcu_is_watching+0x19/0xc0
[   65.679230]  ? trace_irq_enable+0xe1/0x120
[   65.679636]  ? do_task_dead+0x4a/0x110
[   65.680008]  do_task_dead+0xe0/0x110
[   65.680362]  make_task_dead+0x384/0x3c0
[   65.680745]  rewind_stack_and_make_dead+0x16/0x20
[   65.681205] RIP: 0033:0x7f2e1423ee5d
[   65.681540] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.682100] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.682780] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.683429] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.684070] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.684709] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.685352] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.685988]  </TASK>
[   65.686274] BUG: scheduling while atomic: repro/26287/0x00000000
[   65.686802] INFO: lockdep is turned off.
[   65.687151] Modules linked in:
[   65.687430] Preemption disabled at:
[   65.687435] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   65.688214] CPU: 1 UID: 0 PID: 26287 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   65.689012] Tainted: [D]=DIE, [W]=WARN
[   65.689344] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.690318] Call Trace:
[   65.690545]  <TASK>
[   65.690743]  dump_stack_lvl+0x121/0x150
[   65.691104]  ? do_task_dead+0x28/0x110
[   65.691445]  dump_stack+0x19/0x20
[   65.691790]  __schedule_bug+0x12d/0x180
[   65.692237]  __schedule+0x23fe/0x33a0
[   65.692657]  ? do_task_dead+0xa8/0x110
[   65.693085]  ? rcu_is_watching+0x19/0xc0
[   65.693436]  ? lock_release+0x592/0x870
[   65.693773]  ? __pfx___schedule+0x10/0x10
[   65.694133]  ? debug_smp_processor_id+0x20/0x30
[   65.694522]  ? rcu_is_watching+0x19/0xc0
[   65.694866]  ? trace_irq_enable+0xe1/0x120
[   65.695228]  ? do_task_dead+0x4a/0x110
[   65.695555]  do_task_dead+0xe0/0x110
[   65.695868]  make_task_dead+0x384/0x3c0
[   65.696212]  rewind_stack_and_make_dead+0x16/0x20
[   65.696617] RIP: 0033:0x7f2e1423ee5d
[   65.696927] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   65.697437] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.698049] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   65.698619] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.699196] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   65.699766] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   65.700339] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   65.700918]  </TASK>
[   66.052207] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#145] PREEMPT SMP KASAN NOPTI
[   66.053663] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.054667] CPU: 1 UID: 0 PID: 26563 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.055759] Tainted: [D]=DIE, [W]=WARN
[   66.056219] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.057555] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.058423] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.060580] RSP: 0018:ffff8880387cf7d8 EFLAGS: 00010202
[   66.061223] RAX: dffffc0000000000 RBX: ffffea0000e11180 RCX: ffffffff81bc4f39
[   66.062069] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e11190
[   66.063023] RBP: ffff8880387cf7f8 R08: 0000000000000000 R09: ffffed10056981ec
[   66.063866] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.064712] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88802b4c0f60
[   66.065525] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   66.066432] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.067302] CR2: 00007f2e145bee28 CR3: 000000000ecb6004 CR4: 0000000000770ef0
[   66.068320] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.069126] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.069928] PKRU: 55555554
[   66.070268] Call Trace:
[   66.070564]  <TASK>
[   66.070830]  ? show_regs+0x6d/0x80
[   66.071261]  ? die_addr+0x45/0xb0
[   66.071670]  ? exc_general_protection+0x1ae/0x340
[   66.072236]  ? asm_exc_general_protection+0x2b/0x30
[   66.072833]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.073441]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.074037]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.074617]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.075195]  zap_huge_pmd+0x48e/0xd40
[   66.075887]  unmap_page_range+0x1ad6/0x4360
[   66.076437]  ? update_stack_state+0x2d9/0x610
[   66.076947]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.077519]  ? __pfx_unmap_page_range+0x10/0x10
[   66.078045]  unmap_single_vma+0x1ac/0x2d0
[   66.078505]  unmap_vmas+0x210/0x470
[   66.078913]  ? __pfx_unmap_vmas+0x10/0x10
[   66.079375]  ? __pfx_lock_release+0x10/0x10
[   66.080346]  ? lock_release+0x592/0x870
[   66.080783]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.081315]  ? __pfx_lock_release+0x10/0x10
[   66.081767]  ? mlock_drain_local+0x27f/0x4b0
[   66.082237]  exit_mmap+0x19e/0xb10
[   66.082618]  ? __pfx_exit_mmap+0x10/0x10
[   66.083047]  ? debug_smp_processor_id+0x20/0x30
[   66.083531]  ? trace_hardirqs_on+0x51/0x60
[   66.083973]  ? kasan_quarantine_put+0xa2/0x200
[   66.084460]  ? __khugepaged_exit+0x266/0x4c0
[   66.084926]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.085498]  __mmput+0xde/0x3a0
[   66.086020]  mmput+0x74/0x90
[   66.086476]  do_exit+0xa03/0x29f0
[   66.086844]  ? trace_hardirqs_on+0x51/0x60
[   66.087301]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.087935]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.088430]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.088921]  ? __pfx_do_exit+0x10/0x10
[   66.089316]  ? __audit_syscall_entry+0x39c/0x500
[   66.089790]  __x64_sys_exit+0x50/0x60
[   66.090176]  x64_sys_call+0x20c9/0x20d0
[   66.090572]  do_syscall_64+0x6d/0x140
[   66.090950]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.091477] RIP: 0033:0x7f2e1423ee5d
[   66.091844] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.092453] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.093196] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.093886] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.094868] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.095563] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.096239] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.096911]  </TASK>
[   66.097136] Modules linked in:
[   66.097603] ---[ end trace 0000000000000000 ]---
[   66.098106] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.098667] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.100363] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   66.101028] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   66.101667] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   66.102330] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   66.102971] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.103613] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   66.104255] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   66.104972] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.105498] CR2: 00007f2e145bee28 CR3: 000000000ecb6004 CR4: 0000000000770ef0
[   66.106155] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.107054] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.107701] PKRU: 55555554
[   66.107948] note: repro[26563] exited with preempt_count 1
[   66.108431] Fixing recursive fault but reboot is needed!
[   66.108890] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26563
[   66.109581] caller is debug_smp_processor_id+0x20/0x30
[   66.110044] CPU: 1 UID: 0 PID: 26563 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.110825] Tainted: [D]=DIE, [W]=WARN
[   66.111144] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.112076] Call Trace:
[   66.112291]  <TASK>
[   66.112480]  dump_stack_lvl+0x121/0x150
[   66.112962]  dump_stack+0x19/0x20
[   66.113382]  check_preemption_disabled+0x168/0x180
[   66.113795]  debug_smp_processor_id+0x20/0x30
[   66.114177]  __schedule+0xa0/0x33a0
[   66.114490]  ? do_task_dead+0xa8/0x110
[   66.114818]  ? debug_smp_processor_id+0x20/0x30
[   66.115210]  ? rcu_is_watching+0x19/0xc0
[   66.115557]  ? lock_release+0x592/0x870
[   66.115884]  ? __pfx___schedule+0x10/0x10
[   66.116229]  ? debug_smp_processor_id+0x20/0x30
[   66.116604]  ? rcu_is_watching+0x19/0xc0
[   66.116937]  ? trace_irq_enable+0xe1/0x120
[   66.117287]  ? do_task_dead+0x4a/0x110
[   66.117603]  do_task_dead+0xe0/0x110
[   66.117907]  make_task_dead+0x384/0x3c0
[   66.118239]  rewind_stack_and_make_dead+0x16/0x20
[   66.118631] RIP: 0033:0x7f2e1423ee5d
[   66.119063] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.119708] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.120318] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.120884] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.121456] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.122026] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.122576] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.123134]  </TASK>
[   66.123355] BUG: scheduling while atomic: repro/26563/0x00000000
[   66.123826] INFO: lockdep is turned off.
[   66.124137] Modules linked in:
[   66.124388] Preemption disabled at:
[   66.124392] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   66.125068] CPU: 1 UID: 0 PID: 26563 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.125970] Tainted: [D]=DIE, [W]=WARN
[   66.126263] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.127101] Call Trace:
[   66.127296]  <TASK>
[   66.127469]  dump_stack_lvl+0x121/0x150
[   66.127774]  ? do_task_dead+0x28/0x110
[   66.128071]  dump_stack+0x19/0x20
[   66.128338]  __schedule_bug+0x12d/0x180
[   66.128646]  __schedule+0x23fe/0x33a0
[   66.128929]  ? do_task_dead+0xa8/0x110
[   66.129217]  ? rcu_is_watching+0x19/0xc0
[   66.129518]  ? lock_release+0x592/0x870
[   66.129811]  ? __pfx___schedule+0x10/0x10
[   66.130122]  ? debug_smp_processor_id+0x20/0x30
[   66.130462]  ? rcu_is_watching+0x19/0xc0
[   66.130763]  ? trace_irq_enable+0xe1/0x120
[   66.131081]  ? do_task_dead+0x4a/0x110
[   66.131475]  do_task_dead+0xe0/0x110
[   66.131851]  make_task_dead+0x384/0x3c0
[   66.132185]  rewind_stack_and_make_dead+0x16/0x20
[   66.132539] RIP: 0033:0x7f2e1423ee5d
[   66.132811] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.133260] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.133799] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.134299] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.134796] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.135294] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.135791] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.136298]  </TASK>
[   66.163973] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#146] PREEMPT SMP KASAN NOPTI
[   66.165116] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.165798] CPU: 0 UID: 0 PID: 26651 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.167002] Tainted: [D]=DIE, [W]=WARN
[   66.167378] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.168396] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.168941] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.170579] RSP: 0018:ffff8880288e77d8 EFLAGS: 00010202
[   66.171077] RAX: dffffc0000000000 RBX: ffffea0000472f40 RCX: ffffffff81bc4f39
[   66.171744] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000472f50
[   66.172406] RBP: ffff8880288e77f8 R08: 0000000000000000 R09: ffffed10027eab80
[   66.173089] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.174147] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013f55c00
[   66.174999] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.175970] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.176669] CR2: 00007f2e145f3bf0 CR3: 000000001fb38003 CR4: 0000000000770ef0
[   66.177518] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.178492] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.179346] PKRU: 55555554
[   66.179684] Call Trace:
[   66.179996]  <TASK>
[   66.180268]  ? show_regs+0x6d/0x80
[   66.180709]  ? die_addr+0x45/0xb0
[   66.181149]  ? exc_general_protection+0x1ae/0x340
[   66.181744]  ? asm_exc_general_protection+0x2b/0x30
[   66.182475]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.183115]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.183750]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.184390]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.185030]  zap_huge_pmd+0x48e/0xd40
[   66.185505]  unmap_page_range+0x1ad6/0x4360
[   66.186149]  ? update_stack_state+0x2d9/0x610
[   66.186763]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.187391]  ? __pfx_unmap_page_range+0x10/0x10
[   66.187969]  unmap_single_vma+0x1ac/0x2d0
[   66.188488]  unmap_vmas+0x210/0x470
[   66.188941]  ? __pfx_unmap_vmas+0x10/0x10
[   66.189450]  ? __pfx_lock_release+0x10/0x10
[   66.189967]  ? lock_release+0x592/0x870
[   66.190432]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.191041]  ? __pfx_lock_release+0x10/0x10
[   66.191563]  ? mlock_drain_local+0x27f/0x4b0
[   66.192105]  exit_mmap+0x19e/0xb10
[   66.192646]  ? __pfx_exit_mmap+0x10/0x10
[   66.193153]  ? debug_smp_processor_id+0x20/0x30
[   66.193725]  ? trace_hardirqs_on+0x51/0x60
[   66.194251]  ? kasan_quarantine_put+0xa2/0x200
[   66.194811]  ? __khugepaged_exit+0x266/0x4c0
[   66.195354]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.196020]  __mmput+0xde/0x3a0
[   66.196508]  mmput+0x74/0x90
[   66.196938]  do_exit+0xa03/0x29f0
[   66.197374]  ? trace_hardirqs_on+0x51/0x60
[   66.197892]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.198665]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.199266]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.199862]  ? __pfx_do_exit+0x10/0x10
[   66.200345]  ? __audit_syscall_entry+0x39c/0x500
[   66.201035]  __x64_sys_exit+0x50/0x60
[   66.201506]  x64_sys_call+0x20c9/0x20d0
[   66.201994]  do_syscall_64+0x6d/0x140
[   66.202463]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.203095] RIP: 0033:0x7f2e1423ee5d
[   66.203541] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.204279] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.205334] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.206185] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.207033] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.207875] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.209127] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.210008]  </TASK>
[   66.210294] Modules linked in:
[   66.210947] ---[ end trace 0000000000000000 ]---
[   66.211490] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.212073] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.213753] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   66.214685] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   66.215372] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   66.216036] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   66.216698] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.217378] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   66.218042] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.218881] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.219437] CR2: 00007f2e145f3bf0 CR3: 000000001fb38003 CR4: 0000000000770ef0
[   66.220429] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.221189] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.221852] PKRU: 55555554
[   66.222146] note: repro[26651] exited with preempt_count 1
[   66.222660] Fixing recursive fault but reboot is needed!
[   66.223169] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26651
[   66.223895] caller is debug_smp_processor_id+0x20/0x30
[   66.224403] CPU: 0 UID: 0 PID: 26651 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.225445] Tainted: [D]=DIE, [W]=WARN
[   66.225994] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.227344] Call Trace:
[   66.227655]  <TASK>
[   66.227928]  dump_stack_lvl+0x121/0x150
[   66.228423]  dump_stack+0x19/0x20
[   66.228850]  check_preemption_disabled+0x168/0x180
[   66.229447]  debug_smp_processor_id+0x20/0x30
[   66.230103]  __schedule+0xa0/0x33a0
[   66.230552]  ? do_task_dead+0xa8/0x110
[   66.231028]  ? debug_smp_processor_id+0x20/0x30
[   66.231588]  ? rcu_is_watching+0x19/0xc0
[   66.232090]  ? lock_release+0x592/0x870
[   66.232572]  ? __pfx___schedule+0x10/0x10
[   66.233088]  ? debug_smp_processor_id+0x20/0x30
[   66.233790]  ? rcu_is_watching+0x19/0xc0
[   66.234353]  ? trace_irq_enable+0xe1/0x120
[   66.234871]  ? do_task_dead+0x4a/0x110
[   66.235346]  do_task_dead+0xe0/0x110
[   66.235797]  make_task_dead+0x384/0x3c0
[   66.236289]  rewind_stack_and_make_dead+0x16/0x20
[   66.236869] RIP: 0033:0x7f2e1423ee5d
[   66.237319] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.238263] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.239172] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.240021] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.240863] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.241710] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.242699] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.243562]  </TASK>
[   66.243893] BUG: scheduling while atomic: repro/26651/0x00000000
[   66.244628] INFO: lockdep is turned off.
[   66.245107] Modules linked in:
[   66.245491] Preemption disabled at:
[   66.245497] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   66.246822] CPU: 0 UID: 0 PID: 26651 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.247918] Tainted: [D]=DIE, [W]=WARN
[   66.248383] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.249713] Call Trace:
[   66.250026]  <TASK>
[   66.250299]  dump_stack_lvl+0x121/0x150
[   66.250824]  ? do_task_dead+0x28/0x110
[   66.251273]  dump_stack+0x19/0x20
[   66.251678]  __schedule_bug+0x12d/0x180
[   66.252148]  __schedule+0x23fe/0x33a0
[   66.252592]  ? do_task_dead+0xa8/0x110
[   66.253039]  ? rcu_is_watching+0x19/0xc0
[   66.253507]  ? lock_release+0x592/0x870
[   66.253965]  ? __pfx___schedule+0x10/0x10
[   66.254465]  ? debug_smp_processor_id+0x20/0x30
[   66.255010]  ? rcu_is_watching+0x19/0xc0
[   66.255478]  ? trace_irq_enable+0xe1/0x120
[   66.255968]  ? do_task_dead+0x4a/0x110
[   66.256430]  do_task_dead+0xe0/0x110
[   66.256867]  make_task_dead+0x384/0x3c0
[   66.257336]  rewind_stack_and_make_dead+0x16/0x20
[   66.257870] RIP: 0033:0x7f2e1423ee5d
[   66.258277] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.258937] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.260165] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.260931] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.261701] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.262467] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.263237] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.264023]  </TASK>
[   66.449820] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#147] PREEMPT SMP KASAN NOPTI
[   66.451385] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.452117] CPU: 0 UID: 0 PID: 26739 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.453294] Tainted: [D]=DIE, [W]=WARN
[   66.453754] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.455099] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.455888] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.458069] RSP: 0018:ffff88801fb7f7d8 EFLAGS: 00010202
[   66.458739] RAX: dffffc0000000000 RBX: ffffea0000adb0c0 RCX: ffffffff81bc4f39
[   66.459648] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000adb0d0
[   66.460314] RBP: ffff88801fb7f7f8 R08: 0000000000000000 R09: ffffed1002226a54
[   66.460979] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.461770] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880111352a0
[   66.462625] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.463584] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.464305] CR2: 00007f2e145bee28 CR3: 000000000f066004 CR4: 0000000000770ef0
[   66.465159] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.466011] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.466855] PKRU: 55555554
[   66.467280] Call Trace:
[   66.467552]  <TASK>
[   66.467777]  ? show_regs+0x6d/0x80
[   66.468195]  ? die_addr+0x45/0xb0
[   66.468626]  ? exc_general_protection+0x1ae/0x340
[   66.469229]  ? asm_exc_general_protection+0x2b/0x30
[   66.469845]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.470481]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.471121]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.471880]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.472531]  zap_huge_pmd+0x48e/0xd40
[   66.473016]  unmap_page_range+0x1ad6/0x4360
[   66.473544]  ? update_stack_state+0x2d9/0x610
[   66.474113]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.474739]  ? __pfx_unmap_page_range+0x10/0x10
[   66.475327]  unmap_single_vma+0x1ac/0x2d0
[   66.475762]  unmap_vmas+0x210/0x470
[   66.476146]  ? __pfx_unmap_vmas+0x10/0x10
[   66.476549]  ? __pfx_lock_release+0x10/0x10
[   66.476959]  ? lock_release+0x592/0x870
[   66.477354]  ? mas_next_slot+0x133a/0x1a50
[   66.477784]  ? __pfx_lock_release+0x10/0x10
[   66.478223]  ? mlock_drain_local+0x27f/0x4b0
[   66.478654]  exit_mmap+0x19e/0xb10
[   66.479020]  ? __pfx_exit_mmap+0x10/0x10
[   66.479410]  ? debug_smp_processor_id+0x20/0x30
[   66.479854]  ? trace_hardirqs_on+0x51/0x60
[   66.480268]  ? kasan_quarantine_put+0xa2/0x200
[   66.480713]  ? __khugepaged_exit+0x266/0x4c0
[   66.481141]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.481669]  __mmput+0xde/0x3a0
[   66.482034]  mmput+0x74/0x90
[   66.482353]  do_exit+0xa03/0x29f0
[   66.482696]  ? trace_hardirqs_on+0x51/0x60
[   66.483113]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.483731]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.484219]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.484691]  ? __pfx_do_exit+0x10/0x10
[   66.485082]  ? __audit_syscall_entry+0x39c/0x500
[   66.485541]  __x64_sys_exit+0x50/0x60
[   66.485942]  x64_sys_call+0x20c9/0x20d0
[   66.486337]  do_syscall_64+0x6d/0x140
[   66.486705]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.487194] RIP: 0033:0x7f2e1423ee5d
[   66.487528] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.488088] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.488775] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.489408] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.490062] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.490714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.491722] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.492422]  </TASK>
[   66.492649] Modules linked in:
[   66.493243] ---[ end trace 0000000000000000 ]---
[   66.493701] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.494415] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.496093] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   66.496592] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   66.497267] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   66.497921] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   66.498698] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.499374] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   66.500030] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.500801] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.501354] CR2: 00007f2e145bee28 CR3: 000000000f066004 CR4: 0000000000770ef0
[   66.502102] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.502798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.503468] PKRU: 55555554
[   66.503741] note: repro[26739] exited with preempt_count 1
[   66.504255] Fixing recursive fault but reboot is needed!
[   66.504755] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26739
[   66.505474] caller is debug_smp_processor_id+0x20/0x30
[   66.505980] CPU: 0 UID: 0 PID: 26739 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.506841] Tainted: [D]=DIE, [W]=WARN
[   66.507214] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.508651] Call Trace:
[   66.508902]  <TASK>
[   66.509130]  dump_stack_lvl+0x121/0x150
[   66.509530]  dump_stack+0x19/0x20
[   66.509876]  check_preemption_disabled+0x168/0x180
[   66.510347]  debug_smp_processor_id+0x20/0x30
[   66.510767]  __schedule+0xa0/0x33a0
[   66.511123]  ? do_task_dead+0xa8/0x110
[   66.511504]  ? debug_smp_processor_id+0x20/0x30
[   66.511974]  ? rcu_is_watching+0x19/0xc0
[   66.512384]  ? lock_release+0x592/0x870
[   66.512786]  ? __pfx___schedule+0x10/0x10
[   66.513204]  ? debug_smp_processor_id+0x20/0x30
[   66.513651]  ? rcu_is_watching+0x19/0xc0
[   66.514048]  ? trace_irq_enable+0xe1/0x120
[   66.514458]  ? do_task_dead+0x4a/0x110
[   66.514832]  do_task_dead+0xe0/0x110
[   66.515206]  make_task_dead+0x384/0x3c0
[   66.515614]  rewind_stack_and_make_dead+0x16/0x20
[   66.516073] RIP: 0033:0x7f2e1423ee5d
[   66.516425] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.516980] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.517739] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.518651] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.519324] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.519963] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.520591] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.521231]  </TASK>
[   66.521476] BUG: scheduling while atomic: repro/26739/0x00000000
[   66.521944] INFO: lockdep is turned off.
[   66.522268] Modules linked in:
[   66.522523] Preemption disabled at:
[   66.522528] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   66.523234] CPU: 0 UID: 0 PID: 26739 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   66.523969] Tainted: [D]=DIE, [W]=WARN
[   66.524411] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.525467] Call Trace:
[   66.525742]  <TASK>
[   66.525968]  dump_stack_lvl+0x121/0x150
[   66.526358]  ? do_task_dead+0x28/0x110
[   66.526738]  dump_stack+0x19/0x20
[   66.527083]  __schedule_bug+0x12d/0x180
[   66.527466]  __schedule+0x23fe/0x33a0
[   66.527834]  ? do_task_dead+0xa8/0x110
[   66.528214]  ? rcu_is_watching+0x19/0xc0
[   66.528605]  ? lock_release+0x592/0x870
[   66.528993]  ? __pfx___schedule+0x10/0x10
[   66.529409]  ? debug_smp_processor_id+0x20/0x30
[   66.529855]  ? rcu_is_watching+0x19/0xc0
[   66.530279]  ? trace_irq_enable+0xe1/0x120
[   66.530715]  ? do_task_dead+0x4a/0x110
[   66.531057]  do_task_dead+0xe0/0x110
[   66.531357]  make_task_dead+0x384/0x3c0
[   66.531688]  rewind_stack_and_make_dead+0x16/0x20
[   66.532091] RIP: 0033:0x7f2e1423ee5d
[   66.532387] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   66.532851] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.533433] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   66.534004] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.534667] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   66.535313] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   66.535799] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   66.536297]  </TASK>
[   67.570764] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#148] PREEMPT SMP KASAN NOPTI
[   67.571894] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.572597] CPU: 0 UID: 0 PID: 27565 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   67.573447] Tainted: [D]=DIE, [W]=WARN
[   67.573808] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.574853] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.575407] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.577062] RSP: 0018:ffff88801f9ff7d8 EFLAGS: 00010202
[   67.577558] RAX: dffffc0000000000 RBX: ffffea000098f8c0 RCX: ffffffff81bc4f39
[   67.578217] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000098f8d0
[   67.578861] RBP: ffff88801f9ff7f8 R08: 0000000000000000 R09: ffffed1003f45c48
[   67.579514] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.580170] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801fa2e240
[   67.580832] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   67.581566] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.582096] CR2: 00007f2e145e4fa8 CR3: 00000000152b6002 CR4: 0000000000770ef0
[   67.582755] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.583413] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.584068] PKRU: 55555554
[   67.584327] Call Trace:
[   67.584564]  <TASK>
[   67.584778]  ? show_regs+0x6d/0x80
[   67.585127]  ? die_addr+0x45/0xb0
[   67.585466]  ? exc_general_protection+0x1ae/0x340
[   67.585922]  ? asm_exc_general_protection+0x2b/0x30
[   67.586400]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.586886]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.587390]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.587875]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.588369]  zap_huge_pmd+0x48e/0xd40
[   67.588740]  unmap_page_range+0x1ad6/0x4360
[   67.589160]  ? update_stack_state+0x2d9/0x610
[   67.589597]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.590087]  ? __pfx_unmap_page_range+0x10/0x10
[   67.590540]  unmap_single_vma+0x1ac/0x2d0
[   67.590933]  unmap_vmas+0x210/0x470
[   67.591293]  ? __pfx_unmap_vmas+0x10/0x10
[   67.591688]  ? __pfx_lock_release+0x10/0x10
[   67.592098]  ? lock_release+0x592/0x870
[   67.592478]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   67.592956]  ? __pfx_lock_release+0x10/0x10
[   67.593363]  ? mlock_drain_local+0x27f/0x4b0
[   67.593786]  exit_mmap+0x19e/0xb10
[   67.594140]  ? __pfx_exit_mmap+0x10/0x10
[   67.594527]  ? debug_smp_processor_id+0x20/0x30
[   67.594967]  ? trace_hardirqs_on+0x51/0x60
[   67.595385]  ? kasan_quarantine_put+0xa2/0x200
[   67.595822]  ? __khugepaged_exit+0x266/0x4c0
[   67.596251]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.596756]  __mmput+0xde/0x3a0
[   67.597081]  mmput+0x74/0x90
[   67.597375]  do_exit+0xa03/0x29f0
[   67.597709]  ? trace_hardirqs_on+0x51/0x60
[   67.598116]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.598712]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.599185]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.599654]  ? __pfx_do_exit+0x10/0x10
[   67.600025]  ? __audit_syscall_entry+0x39c/0x500
[   67.600476]  __x64_sys_exit+0x50/0x60
[   67.600833]  x64_sys_call+0x20c9/0x20d0
[   67.601211]  do_syscall_64+0x6d/0x140
[   67.601581]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.602074] RIP: 0033:0x7f2e1423ee5d
[   67.602424] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   67.602994] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.603687] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   67.604348] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.605007] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   67.605657] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   67.606313] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   67.606981]  </TASK>
[   67.607203] Modules linked in:
[   67.607658] ---[ end trace 0000000000000000 ]---
[   67.608086] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.608613] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.610336] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   67.610812] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   67.611469] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   67.612130] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   67.612794] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.613463] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   67.614225] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   67.614965] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.615566] CR2: 00007f2e145e4fa8 CR3: 00000000152b6002 CR4: 0000000000770ef0
[   67.616236] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.616887] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.617542] PKRU: 55555554
[   67.617806] note: repro[27565] exited with preempt_count 1
[   67.618402] Fixing recursive fault but reboot is needed!
[   67.618899] BUG: using smp_processor_id() in preemptible [00000000] code: repro/27565
[   67.619628] caller is debug_smp_processor_id+0x20/0x30
[   67.620123] CPU: 0 UID: 0 PID: 27565 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   67.620970] Tainted: [D]=DIE, [W]=WARN
[   67.621328] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.622365] Call Trace:
[   67.622603]  <TASK>
[   67.622815]  dump_stack_lvl+0x121/0x150
[   67.623199]  dump_stack+0x19/0x20
[   67.623532]  check_preemption_disabled+0x168/0x180
[   67.623998]  debug_smp_processor_id+0x20/0x30
[   67.624423]  __schedule+0xa0/0x33a0
[   67.624771]  ? do_task_dead+0xa8/0x110
[   67.625136]  ? debug_smp_processor_id+0x20/0x30
[   67.625574]  ? rcu_is_watching+0x19/0xc0
[   67.625960]  ? lock_release+0x592/0x870
[   67.626343]  ? __pfx___schedule+0x10/0x10
[   67.626745]  ? debug_smp_processor_id+0x20/0x30
[   67.627179]  ? rcu_is_watching+0x19/0xc0
[   67.627572]  ? trace_irq_enable+0xe1/0x120
[   67.627976]  ? do_task_dead+0x4a/0x110
[   67.628348]  do_task_dead+0xe0/0x110
[   67.628697]  make_task_dead+0x384/0x3c0
[   67.629054]  rewind_stack_and_make_dead+0x16/0x20
[   67.629446] RIP: 0033:0x7f2e1423ee5d
[   67.629744] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   67.630244] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.630851] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   67.631431] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.632003] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   67.632578] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   67.633156] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   67.633743]  </TASK>
[   67.634023] BUG: scheduling while atomic: repro/27565/0x00000000
[   67.634641] INFO: lockdep is turned off.
[   67.635026] Modules linked in:
[   67.635328] Preemption disabled at:
[   67.635333] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   67.636166] CPU: 0 UID: 0 PID: 27565 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   67.637020] Tainted: [D]=DIE, [W]=WARN
[   67.637372] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.638402] Call Trace:
[   67.638643]  <TASK>
[   67.638863]  dump_stack_lvl+0x121/0x150
[   67.639246]  ? do_task_dead+0x28/0x110
[   67.639615]  dump_stack+0x19/0x20
[   67.639954]  __schedule_bug+0x12d/0x180
[   67.640342]  __schedule+0x23fe/0x33a0
[   67.640705]  ? do_task_dead+0xa8/0x110
[   67.641076]  ? rcu_is_watching+0x19/0xc0
[   67.641458]  ? lock_release+0x592/0x870
[   67.641839]  ? __pfx___schedule+0x10/0x10
[   67.642239]  ? debug_smp_processor_id+0x20/0x30
[   67.642680]  ? rcu_is_watching+0x19/0xc0
[   67.643069]  ? trace_irq_enable+0xe1/0x120
[   67.643461]  ? do_task_dead+0x4a/0x110
[   67.643791]  do_task_dead+0xe0/0x110
[   67.644111]  make_task_dead+0x384/0x3c0
[   67.644460]  rewind_stack_and_make_dead+0x16/0x20
[   67.644875] RIP: 0033:0x7f2e1423ee5d
[   67.645192] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   67.645708] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.646344] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   67.646949] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.647536] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   67.648141] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   67.648739] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   67.649335]  </TASK>
[   67.861317] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#149] PREEMPT SMP KASAN NOPTI
[   67.862478] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.863176] CPU: 1 UID: 0 PID: 27727 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   67.864032] Tainted: [D]=DIE, [W]=WARN
[   67.864384] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.865400] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.865955] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.867620] RSP: 0018:ffff88803845f7d8 EFLAGS: 00010202
[   67.868115] RAX: dffffc0000000000 RBX: ffffea0000a2a7c0 RCX: ffffffff81bc4f39
[   67.868779] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a2a7d0
[   67.869429] RBP: ffff88803845f7f8 R08: 0000000000000000 R09: ffffed10022c4c48
[   67.870083] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.870726] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888011626240
[   67.871380] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   67.872115] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.872649] CR2: 00007f2e143fca50 CR3: 0000000014dda006 CR4: 0000000000770ef0
[   67.873316] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.873976] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.874633] PKRU: 55555554
[   67.874902] Call Trace:
[   67.875151]  <TASK>
[   67.875365]  ? show_regs+0x6d/0x80
[   67.875722]  ? die_addr+0x45/0xb0
[   67.876081]  ? exc_general_protection+0x1ae/0x340
[   67.876548]  ? asm_exc_general_protection+0x2b/0x30
[   67.877032]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.877521]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.878014]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.878508]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.879007]  zap_huge_pmd+0x48e/0xd40
[   67.879377]  unmap_page_range+0x1ad6/0x4360
[   67.879784]  ? update_stack_state+0x2d9/0x610
[   67.880231]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.880719]  ? __pfx_unmap_page_range+0x10/0x10
[   67.881181]  unmap_single_vma+0x1ac/0x2d0
[   67.881574]  unmap_vmas+0x210/0x470
[   67.881931]  ? __pfx_unmap_vmas+0x10/0x10
[   67.882322]  ? __pfx_lock_release+0x10/0x10
[   67.882730]  ? lock_release+0x592/0x870
[   67.883113]  ? mas_next_slot+0x133a/0x1a50
[   67.883519]  ? __pfx_lock_release+0x10/0x10
[   67.883933]  ? mlock_drain_local+0x27f/0x4b0
[   67.884364]  exit_mmap+0x19e/0xb10
[   67.884717]  ? __pfx_exit_mmap+0x10/0x10
[   67.885103]  ? debug_smp_processor_id+0x20/0x30
[   67.885543]  ? trace_hardirqs_on+0x51/0x60
[   67.885947]  ? kasan_quarantine_put+0xa2/0x200
[   67.886391]  ? __khugepaged_exit+0x266/0x4c0
[   67.886813]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.887322]  __mmput+0xde/0x3a0
[   67.887642]  mmput+0x74/0x90
[   67.887935]  do_exit+0xa03/0x29f0
[   67.888273]  ? trace_hardirqs_on+0x51/0x60
[   67.888684]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.889285]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.889756]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.890240]  ? __pfx_do_exit+0x10/0x10
[   67.890611]  ? __audit_syscall_entry+0x39c/0x500
[   67.891065]  __x64_sys_exit+0x50/0x60
[   67.891436]  x64_sys_call+0x20c9/0x20d0
[   67.891816]  do_syscall_64+0x6d/0x140
[   67.892182]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.892669] RIP: 0033:0x7f2e1423ee5d
[   67.893019] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   67.893590] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.894296] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   67.894956] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.895624] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   67.896278] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   67.896932] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   67.897607]  </TASK>
[   67.897832] Modules linked in:
[   67.898342] ---[ end trace 0000000000000000 ]---
[   67.898797] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.899352] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.901016] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   67.901517] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   67.902282] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   67.902952] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   67.903801] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.904652] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   67.905514] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   67.906551] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.907254] CR2: 00007f2e143fca50 CR3: 0000000014dda006 CR4: 0000000000770ef0
[   67.908106] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.908951] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.909624] PKRU: 55555554
[   67.909896] note: repro[27727] exited with preempt_count 1
[   67.910497] Fixing recursive fault but reboot is needed!
[   67.911007] BUG: using smp_processor_id() in preemptible [00000000] code: repro/27727
[   67.911739] caller is debug_smp_processor_id+0x20/0x30
[   67.912329] CPU: 1 UID: 0 PID: 27727 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   67.913472] Tainted: [D]=DIE, [W]=WARN
[   67.914087] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.915423] Call Trace:
[   67.915737]  <TASK>
[   67.916020]  dump_stack_lvl+0x121/0x150
[   67.916513]  dump_stack+0x19/0x20
[   67.916941]  check_preemption_disabled+0x168/0x180
[   67.917533]  debug_smp_processor_id+0x20/0x30
[   67.918080]  __schedule+0xa0/0x33a0
[   67.918527]  ? do_task_dead+0xa8/0x110
[   67.919002]  ? debug_smp_processor_id+0x20/0x30
[   67.919572]  ? rcu_is_watching+0x19/0xc0
[   67.920074]  ? lock_release+0x592/0x870
[   67.920556]  ? __pfx___schedule+0x10/0x10
[   67.921070]  ? debug_smp_processor_id+0x20/0x30
[   67.921636]  ? rcu_is_watching+0x19/0xc0
[   67.922264]  ? trace_irq_enable+0xe1/0x120
[   67.922686]  ? do_task_dead+0x4a/0x110
[   67.923065]  do_task_dead+0xe0/0x110
[   67.923547]  make_task_dead+0x384/0x3c0
[   67.923925]  rewind_stack_and_make_dead+0x16/0x20
[   67.924399] RIP: 0033:0x7f2e1423ee5d
[   67.924769] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   67.925349] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.926059] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   67.926817] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.927533] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   67.928253] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   67.928914] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   67.929597]  </TASK>
[   67.930018] BUG: scheduling while atomic: repro/27727/0x00000000
[   67.930733] INFO: lockdep is turned off.
[   67.931116] Modules linked in:
[   67.931421] Preemption disabled at:
[   67.931427] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   67.932454] CPU: 1 UID: 0 PID: 27727 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   67.933538] Tainted: [D]=DIE, [W]=WARN
[   67.933892] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.934935] Call Trace:
[   67.935186]  <TASK>
[   67.935428]  dump_stack_lvl+0x121/0x150
[   67.935827]  ? do_task_dead+0x28/0x110
[   67.936198]  dump_stack+0x19/0x20
[   67.936535]  __schedule_bug+0x12d/0x180
[   67.936919]  __schedule+0x23fe/0x33a0
[   67.937289]  ? do_task_dead+0xa8/0x110
[   67.937662]  ? rcu_is_watching+0x19/0xc0
[   67.938076]  ? lock_release+0x592/0x870
[   67.938461]  ? __pfx___schedule+0x10/0x10
[   67.938858]  ? debug_smp_processor_id+0x20/0x30
[   67.939302]  ? rcu_is_watching+0x19/0xc0
[   67.939695]  ? trace_irq_enable+0xe1/0x120
[   67.940110]  ? do_task_dead+0x4a/0x110
[   67.940483]  do_task_dead+0xe0/0x110
[   67.940834]  make_task_dead+0x384/0x3c0
[   67.941227]  rewind_stack_and_make_dead+0x16/0x20
[   67.941688] RIP: 0033:0x7f2e1423ee5d
[   67.942041] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   67.942610] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.943308] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   67.943979] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.944639] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   67.945312] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   67.945970] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   67.946652]  </TASK>
[   68.677640] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#150] PREEMPT SMP KASAN NOPTI
[   68.678757] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.679461] CPU: 1 UID: 0 PID: 28279 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.680345] Tainted: [D]=DIE, [W]=WARN
[   68.680702] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.681737] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.682538] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.684325] RSP: 0018:ffff888028a577d8 EFLAGS: 00010202
[   68.684816] RAX: dffffc0000000000 RBX: ffffea0000a25f80 RCX: ffffffff81bc4f39
[   68.685480] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000a25f90
[   68.686165] RBP: ffff888028a577f8 R08: 0000000000000000 R09: ffffed100258de6c
[   68.686840] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.687509] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012c6f360
[   68.688203] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.688953] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.689497] CR2: 00007f2e145f3bf0 CR3: 0000000038702006 CR4: 0000000000770ef0
[   68.690169] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.691138] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.691831] PKRU: 55555554
[   68.692116] Call Trace:
[   68.692359]  <TASK>
[   68.692575]  ? show_regs+0x6d/0x80
[   68.692925]  ? die_addr+0x45/0xb0
[   68.693273]  ? exc_general_protection+0x1ae/0x340
[   68.693740]  ? asm_exc_general_protection+0x2b/0x30
[   68.694241]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.694741]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.695245]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.695767]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.696276]  zap_huge_pmd+0x48e/0xd40
[   68.696651]  unmap_page_range+0x1ad6/0x4360
[   68.697065]  ? update_stack_state+0x2d9/0x610
[   68.697523]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.698041]  ? __pfx_unmap_page_range+0x10/0x10
[   68.698512]  unmap_single_vma+0x1ac/0x2d0
[   68.698917]  unmap_vmas+0x210/0x470
[   68.699282]  ? __pfx_unmap_vmas+0x10/0x10
[   68.699683]  ? __pfx_lock_release+0x10/0x10
[   68.700098]  ? lock_release+0x592/0x870
[   68.700478]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   68.700957]  ? __pfx_lock_release+0x10/0x10
[   68.701376]  ? mlock_drain_local+0x27f/0x4b0
[   68.701801]  exit_mmap+0x19e/0xb10
[   68.702181]  ? __pfx_exit_mmap+0x10/0x10
[   68.702592]  ? debug_smp_processor_id+0x20/0x30
[   68.703049]  ? trace_hardirqs_on+0x51/0x60
[   68.703455]  ? kasan_quarantine_put+0xa2/0x200
[   68.703916]  ? __khugepaged_exit+0x266/0x4c0
[   68.704354]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.704864]  __mmput+0xde/0x3a0
[   68.705191]  mmput+0x74/0x90
[   68.705491]  do_exit+0xa03/0x29f0
[   68.705831]  ? trace_hardirqs_on+0x51/0x60
[   68.706247]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.706888]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.707428]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.707918]  ? __pfx_do_exit+0x10/0x10
[   68.708299]  ? __audit_syscall_entry+0x39c/0x500
[   68.708760]  __x64_sys_exit+0x50/0x60
[   68.709142]  x64_sys_call+0x20c9/0x20d0
[   68.709533]  do_syscall_64+0x6d/0x140
[   68.709903]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.710410] RIP: 0033:0x7f2e1423ee5d
[   68.710787] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.711360] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.712082] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.712766] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.713421] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.714097] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.714779] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.715474]  </TASK>
[   68.715704] Modules linked in:
[   68.716072] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#151] PREEMPT SMP KASAN NOPTI
[   68.716170] ---[ end trace 0000000000000000 ]---
[   68.717233] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.717672] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.718356] CPU: 0 UID: 0 PID: 28299 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.718903] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.719724] Tainted: [D]=DIE, [W]=WARN
[   68.721378] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   68.721726] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.722266] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   68.723264] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.723930] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   68.724457] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.725127] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   68.726799] RSP: 0018:ffff8880394c77d8 EFLAGS: 00010202
[   68.726820] RAX: dffffc0000000000 RBX: ffffea000053c300 RCX: ffffffff81bc4f39
[   68.727486] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.727968] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea000053c310
[   68.728649] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   68.729290] RBP: ffff8880394c77f8 R08: 0000000000000000 R09: ffffed10026ebab4
[   68.729946] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.730572] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.730586] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88801375d5a0
[   68.730597] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.731249] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.731972] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.732613] CR2: 00007f2e145f3bf0 CR3: 0000000038702006 CR4: 0000000000770ef0
[   68.733263] CR2: 00007f2e1429bc20 CR3: 00000000207a0003 CR4: 0000000000770ef0
[   68.733993] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.734519] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.734531] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.734542] PKRU: 55555554
[   68.735082] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.735774] Call Trace:
[   68.736435] PKRU: 55555554
[   68.737084]  <TASK>
[   68.737778] note: repro[28279] exited with preempt_count 1
[   68.738436]  ? show_regs+0x6d/0x80
[   68.738714] Fixing recursive fault but reboot is needed!
[   68.739358]  ? die_addr+0x45/0xb0
[   68.739598] BUG: using smp_processor_id() in preemptible [00000000] code: repro/28279
[   68.739860]  ? exc_general_protection+0x1ae/0x340
[   68.740067] caller is debug_smp_processor_id+0x20/0x30
[   68.740591]  ? asm_exc_general_protection+0x2b/0x30
[   68.740905] CPU: 1 UID: 0 PID: 28279 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.741401]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.741714] Tainted: [D]=DIE, [W]=WARN
[   68.742420]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.742866] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.743340]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.743787] Call Trace:
[   68.744621]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.745089]  <TASK>
[   68.745443]  zap_huge_pmd+0x48e/0xd40
[   68.745908]  dump_stack_lvl+0x121/0x150
[   68.746925]  unmap_page_range+0x1ad6/0x4360
[   68.747405]  dump_stack+0x19/0x20
[   68.747655]  ? update_stack_state+0x2d9/0x610
[   68.748128]  check_preemption_disabled+0x168/0x180
[   68.748346]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.748675]  debug_smp_processor_id+0x20/0x30
[   68.749031]  ? __pfx_unmap_page_range+0x10/0x10
[   68.749420]  __schedule+0xa0/0x33a0
[   68.749746]  unmap_single_vma+0x1ac/0x2d0
[   68.750139]  ? do_task_dead+0xa8/0x110
[   68.750590]  unmap_vmas+0x210/0x470
[   68.751053]  ? debug_smp_processor_id+0x20/0x30
[   68.751459]  ? __pfx_unmap_vmas+0x10/0x10
[   68.751897]  ? rcu_is_watching+0x19/0xc0
[   68.752232]  ? __pfx_lock_release+0x10/0x10
[   68.752608]  ? lock_release+0x592/0x870
[   68.752952]  ? lock_release+0x592/0x870
[   68.753287]  ? __pfx___schedule+0x10/0x10
[   68.753701]  ? mas_next_slot+0x133a/0x1a50
[   68.754076]  ? debug_smp_processor_id+0x20/0x30
[   68.754435]  ? __pfx_lock_release+0x10/0x10
[   68.754817]  ? rcu_is_watching+0x19/0xc0
[   68.755179]  ? mlock_drain_local+0x27f/0x4b0
[   68.755534]  ? trace_irq_enable+0xe1/0x120
[   68.755914]  exit_mmap+0x19e/0xb10
[   68.756289]  ? do_task_dead+0x4a/0x110
[   68.756710]  ? __pfx_exit_mmap+0x10/0x10
[   68.757092]  do_task_dead+0xe0/0x110
[   68.757458]  ? debug_smp_processor_id+0x20/0x30
[   68.757862]  make_task_dead+0x384/0x3c0
[   68.758247]  ? trace_hardirqs_on+0x51/0x60
[   68.758570]  rewind_stack_and_make_dead+0x16/0x20
[   68.758928]  ? kasan_quarantine_put+0xa2/0x200
[   68.759300] RIP: 0033:0x7f2e1423ee5d
[   68.759651]  ? __khugepaged_exit+0x266/0x4c0
[   68.760077] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.760451]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.760823] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   68.761265]  __mmput+0xde/0x3a0
[   68.761669]  ORIG_RAX: 000000000000003c
[   68.762007]  mmput+0x74/0x90
[   68.762401] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.762964]  do_exit+0xa03/0x29f0
[   68.763450] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.763927]  ? trace_hardirqs_on+0x51/0x60
[   68.764235] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.764599]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.764871] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.765531]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.765840] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.766487]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.766878]  </TASK>
[   68.767512]  ? __pfx_do_exit+0x10/0x10
[   68.770864]  ? __audit_syscall_entry+0x39c/0x500
[   68.771326]  __x64_sys_exit+0x50/0x60
[   68.771704]  x64_sys_call+0x20c9/0x20d0
[   68.772086]  do_syscall_64+0x6d/0x140
[   68.772453]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.772942] RIP: 0033:0x7f2e1423ee5d
[   68.773296] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.773860] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.774563] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.775223] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.775892] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.776546] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.777220] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.777891]  </TASK>
[   68.778119] Modules linked in:
[   68.778532] ---[ end trace 0000000000000000 ]---
[   68.778978] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.779530] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.781222] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   68.781738] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   68.782445] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   68.783103] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   68.783754] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.784419] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   68.785077] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.785815] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.786383] CR2: 00007f2e1429bc20 CR3: 00000000207a0003 CR4: 0000000000770ef0
[   68.787075] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.787730] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.788387] PKRU: 55555554
[   68.788663] note: repro[28299] exited with preempt_count 1
[   68.789180] Fixing recursive fault but reboot is needed!
[   68.789675] BUG: using smp_processor_id() in preemptible [00000000] code: repro/28299
[   68.790417] caller is debug_smp_processor_id+0x20/0x30
[   68.790908] CPU: 0 UID: 0 PID: 28299 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.791769] Tainted: [D]=DIE, [W]=WARN
[   68.792128] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.793170] Call Trace:
[   68.793413]  <TASK>
[   68.793634]  dump_stack_lvl+0x121/0x150
[   68.794017]  dump_stack+0x19/0x20
[   68.794363]  check_preemption_disabled+0x168/0x180
[   68.794834]  debug_smp_processor_id+0x20/0x30
[   68.795259]  __schedule+0xa0/0x33a0
[   68.795620]  ? do_task_dead+0xa8/0x110
[   68.795999]  ? debug_smp_processor_id+0x20/0x30
[   68.796445]  ? rcu_is_watching+0x19/0xc0
[   68.796836]  ? lock_release+0x592/0x870
[   68.797223]  ? __pfx___schedule+0x10/0x10
[   68.797634]  ? debug_smp_processor_id+0x20/0x30
[   68.798081]  ? rcu_is_watching+0x19/0xc0
[   68.798474]  ? trace_irq_enable+0xe1/0x120
[   68.798888]  ? do_task_dead+0x4a/0x110
[   68.799264]  do_task_dead+0xe0/0x110
[   68.799627]  make_task_dead+0x384/0x3c0
[   68.800018]  rewind_stack_and_make_dead+0x16/0x20
[   68.800475] RIP: 0033:0x7f2e1423ee5d
[   68.800828] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.801404] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.802114] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.802771] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.803436] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.804100] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.804767] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.805451]  </TASK>
[   68.805770] BUG: scheduling while atomic: repro/28299/0x00000000
[   68.806459] INFO: lockdep is turned off.
[   68.806836] Modules linked in:
[   68.807146] Preemption disabled at:
[   68.807152] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   68.808000] CPU: 0 UID: 0 PID: 28299 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.808867] Tainted: [D]=DIE, [W]=WARN
[   68.809232] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.810297] Call Trace:
[   68.810549]  <TASK>
[   68.810774]  dump_stack_lvl+0x121/0x150
[   68.811154]  ? do_task_dead+0x28/0x110
[   68.811268] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#152] PREEMPT SMP KASAN NOPTI
[   68.811522]  dump_stack+0x19/0x20
[   68.812629] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.812943]  __schedule_bug+0x12d/0x180
[   68.813966] CPU: 1 UID: 0 PID: 28363 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.814329]  __schedule+0x23fe/0x33a0
[   68.815162] Tainted: [D]=DIE, [W]=WARN
[   68.815507]  ? do_task_dead+0xa8/0x110
[   68.815857] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.816212]  ? rcu_is_watching+0x19/0xc0
[   68.817437] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.817798]  ? lock_release+0x592/0x870
[   68.818389] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.818756]  ? __pfx___schedule+0x10/0x10
[   68.820420] RSP: 0018:ffff888028a6f7d8 EFLAGS: 00010202
[   68.820801]  ? debug_smp_processor_id+0x20/0x30
[   68.821347] RAX: dffffc0000000000 RBX: ffffea0000e11100 RCX: ffffffff81bc4f39
[   68.821774]  ? rcu_is_watching+0x19/0xc0
[   68.822531] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000e11110
[   68.822902]  ? trace_irq_enable+0xe1/0x120
[   68.823545] RBP: ffff888028a6f7f8 R08: 0000000000000000 R09: ffffed100255f454
[   68.823936]  ? do_task_dead+0x4a/0x110
[   68.824585] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.824950]  do_task_dead+0xe0/0x110
[   68.825871] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888012afa2a0
[   68.826208]  make_task_dead+0x384/0x3c0
[   68.826849] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.827213]  rewind_stack_and_make_dead+0x16/0x20
[   68.827928] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.828376] RIP: 0033:0x7f2e1423ee5d
[   68.828924] CR2: 00007fffdaca6938 CR3: 000000002b498004 CR4: 0000000000770ef0
[   68.829265] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.830310] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.830871] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.831514] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.831527] PKRU: 55555554
[   68.832236] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.832895] Call Trace:
[   68.833158] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.834061]  <TASK>
[   68.834299] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.835002]  ? show_regs+0x6d/0x80
[   68.835205] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.835856]  ? die_addr+0x45/0xb0
[   68.836175] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.836815]  ? exc_general_protection+0x1ae/0x340
[   68.837147]  </TASK>
[   68.837975]  ? asm_exc_general_protection+0x2b/0x30
[   68.839168]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.839690]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.840193]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.840694]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.841265]  zap_huge_pmd+0x48e/0xd40
[   68.841644]  unmap_page_range+0x1ad6/0x4360
[   68.842069]  ? update_stack_state+0x2d9/0x610
[   68.842527]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.843020]  ? __pfx_unmap_page_range+0x10/0x10
[   68.843488]  unmap_single_vma+0x1ac/0x2d0
[   68.844075]  unmap_vmas+0x210/0x470
[   68.844646]  ? __pfx_unmap_vmas+0x10/0x10
[   68.845079]  ? __pfx_lock_release+0x10/0x10
[   68.845514]  ? lock_release+0x592/0x870
[   68.845911]  ? mas_next_slot+0x133a/0x1a50
[   68.846327]  ? __pfx_lock_release+0x10/0x10
[   68.846748]  ? mlock_drain_local+0x27f/0x4b0
[   68.847205]  exit_mmap+0x19e/0xb10
[   68.847572]  ? __pfx_exit_mmap+0x10/0x10
[   68.848015]  ? debug_smp_processor_id+0x20/0x30
[   68.848724]  ? trace_hardirqs_on+0x51/0x60
[   68.849185]  ? kasan_quarantine_put+0xa2/0x200
[   68.849637]  ? __khugepaged_exit+0x266/0x4c0
[   68.850075]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.850597]  __mmput+0xde/0x3a0
[   68.850930]  mmput+0x74/0x90
[   68.851253]  do_exit+0xa03/0x29f0
[   68.851612]  ? trace_hardirqs_on+0x51/0x60
[   68.852045]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.852661]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.853009]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.853328]  ? __pfx_do_exit+0x10/0x10
[   68.853588]  ? __audit_syscall_entry+0x39c/0x500
[   68.853912]  __x64_sys_exit+0x50/0x60
[   68.854184]  x64_sys_call+0x20c9/0x20d0
[   68.854585]  do_syscall_64+0x6d/0x140
[   68.854957]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.855301] RIP: 0033:0x7f2e1423ee5d
[   68.855540] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.855924] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.856395] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.856829] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.857264] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.857694] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.858114] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.858547]  </TASK>
[   68.858702] Modules linked in:
[   68.859083] ---[ end trace 0000000000000000 ]---
[   68.859444] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.859880] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.861409] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   68.861915] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   68.862703] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   68.863646] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   68.864334] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.864996] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   68.865666] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.866620] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.867465] CR2: 00007fffdaca6938 CR3: 000000002b498004 CR4: 0000000000770ef0
[   68.868131] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.868788] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.869447] PKRU: 55555554
[   68.869717] note: repro[28363] exited with preempt_count 1
[   68.870346] Fixing recursive fault but reboot is needed!
[   68.870849] BUG: using smp_processor_id() in preemptible [00000000] code: repro/28363
[   68.871574] caller is debug_smp_processor_id+0x20/0x30
[   68.872080] CPU: 1 UID: 0 PID: 28363 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.873179] Tainted: [D]=DIE, [W]=WARN
[   68.873700] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.874781] Call Trace:
[   68.875036]  <TASK>
[   68.875254]  dump_stack_lvl+0x121/0x150
[   68.875658]  dump_stack+0x19/0x20
[   68.876020]  check_preemption_disabled+0x168/0x180
[   68.876484]  debug_smp_processor_id+0x20/0x30
[   68.876912]  __schedule+0xa0/0x33a0
[   68.877271]  ? do_task_dead+0xa8/0x110
[   68.877638]  ? debug_smp_processor_id+0x20/0x30
[   68.878081]  ? rcu_is_watching+0x19/0xc0
[   68.878486]  ? lock_release+0x592/0x870
[   68.878883]  ? __pfx___schedule+0x10/0x10
[   68.879483]  ? debug_smp_processor_id+0x20/0x30
[   68.879857]  ? rcu_is_watching+0x19/0xc0
[   68.880095]  ? trace_irq_enable+0xe1/0x120
[   68.880339]  ? do_task_dead+0x4a/0x110
[   68.880568]  do_task_dead+0xe0/0x110
[   68.880783]  make_task_dead+0x384/0x3c0
[   68.881017]  rewind_stack_and_make_dead+0x16/0x20
[   68.881297] RIP: 0033:0x7f2e1423ee5d
[   68.881525] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.881890] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.882334] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.882715] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.883097] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.883474] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.883851] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.884240]  </TASK>
[   68.884446] BUG: scheduling while atomic: repro/28363/0x00000000
[   68.884778] INFO: lockdep is turned off.
[   68.884998] Modules linked in:
[   68.885394] Preemption disabled at:
[   68.885401] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   68.886539] CPU: 1 UID: 0 PID: 28363 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   68.887476] Tainted: [D]=DIE, [W]=WARN
[   68.887844] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.888889] Call Trace:
[   68.889178]  <TASK>
[   68.889423]  dump_stack_lvl+0x121/0x150
[   68.889845]  ? do_task_dead+0x28/0x110
[   68.890196]  dump_stack+0x19/0x20
[   68.890450]  __schedule_bug+0x12d/0x180
[   68.890740]  __schedule+0x23fe/0x33a0
[   68.891020]  ? do_task_dead+0xa8/0x110
[   68.891299]  ? rcu_is_watching+0x19/0xc0
[   68.891590]  ? lock_release+0x592/0x870
[   68.891874]  ? __pfx___schedule+0x10/0x10
[   68.892176]  ? debug_smp_processor_id+0x20/0x30
[   68.892485]  ? rcu_is_watching+0x19/0xc0
[   68.892702]  ? trace_irq_enable+0xe1/0x120
[   68.892928]  ? do_task_dead+0x4a/0x110
[   68.893131]  do_task_dead+0xe0/0x110
[   68.893325]  make_task_dead+0x384/0x3c0
[   68.893533]  rewind_stack_and_make_dead+0x16/0x20
[   68.893782] RIP: 0033:0x7f2e1423ee5d
[   68.893974] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   68.894286] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.894681] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   68.895033] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.895392] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   68.895749] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   68.896106] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   68.896471]  </TASK>
[   69.393651] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#153] PREEMPT SMP KASAN NOPTI
[   69.394768] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.395494] CPU: 1 UID: 0 PID: 28670 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   69.396341] Tainted: [D]=DIE, [W]=WARN
[   69.396693] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.397724] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.398287] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.399939] RSP: 0018:ffff8880260cf7d8 EFLAGS: 00010202
[   69.400433] RAX: dffffc0000000000 RBX: ffffea00004ea5c0 RCX: ffffffff81bc4f39
[   69.401090] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea00004ea5d0
[   69.401740] RBP: ffff8880260cf7f8 R08: 0000000000000000 R09: ffffed100409f684
[   69.402400] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.403057] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff8880204fb420
[   69.403703] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   69.404423] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.404957] CR2: 0000000000404200 CR3: 00000000386e2003 CR4: 0000000000770ef0
[   69.405611] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.406264] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.406916] PKRU: 55555554
[   69.407185] Call Trace:
[   69.407427]  <TASK>
[   69.407643]  ? show_regs+0x6d/0x80
[   69.407992]  ? die_addr+0x45/0xb0
[   69.408328]  ? exc_general_protection+0x1ae/0x340
[   69.408798]  ? asm_exc_general_protection+0x2b/0x30
[   69.409291]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.409785]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.410278]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.410773]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.411274]  zap_huge_pmd+0x48e/0xd40
[   69.411646]  unmap_page_range+0x1ad6/0x4360
[   69.412066]  ? update_stack_state+0x2d9/0x610
[   69.412512]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.413000]  ? __pfx_unmap_page_range+0x10/0x10
[   69.413452]  unmap_single_vma+0x1ac/0x2d0
[   69.413852]  unmap_vmas+0x210/0x470
[   69.414210]  ? __pfx_unmap_vmas+0x10/0x10
[   69.414602]  ? __pfx_lock_release+0x10/0x10
[   69.415023]  ? lock_release+0x592/0x870
[   69.415396]  ? mas_next_slot+0x133a/0x1a50
[   69.415793]  ? __pfx_lock_release+0x10/0x10
[   69.416215]  ? mlock_drain_local+0x27f/0x4b0
[   69.416633]  exit_mmap+0x19e/0xb10
[   69.416980]  ? __pfx_exit_mmap+0x10/0x10
[   69.417378]  ? debug_smp_processor_id+0x20/0x30
[   69.417816]  ? trace_hardirqs_on+0x51/0x60
[   69.418221]  ? kasan_quarantine_put+0xa2/0x200
[   69.418662]  ? __khugepaged_exit+0x266/0x4c0
[   69.419095]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.419606]  __mmput+0xde/0x3a0
[   69.419921]  mmput+0x74/0x90
[   69.420221]  do_exit+0xa03/0x29f0
[   69.420555]  ? trace_hardirqs_on+0x51/0x60
[   69.420978]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.421590]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.422058]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.422529]  ? __pfx_do_exit+0x10/0x10
[   69.422905]  ? __audit_syscall_entry+0x39c/0x500
[   69.423358]  __x64_sys_exit+0x50/0x60
[   69.423729]  x64_sys_call+0x20c9/0x20d0
[   69.424114]  do_syscall_64+0x6d/0x140
[   69.424485]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.424971] RIP: 0033:0x7f2e1423ee5d
[   69.425321] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   69.425887] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.426589] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   69.427245] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.427899] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   69.428562] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   69.429218] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   69.429883]  </TASK>
[   69.430104] Modules linked in:
[   69.430434] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#154] PREEMPT SMP KASAN NOPTI
[   69.430594] ---[ end trace 0000000000000000 ]---
[   69.431647] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.432078] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.432943] CPU: 0 UID: 0 PID: 28678 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   69.433497] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.434308] Tainted: [D]=DIE, [W]=WARN
[   69.434315] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.434327] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.434355] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.434372] RSP: 0018:ffff8880386b77d8 EFLAGS: 00010202
[   69.434388] RAX: dffffc0000000000 RBX: ffffea0000854000 RCX: ffffffff81bc4f39
[   69.436562] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   69.436801] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000854010
[   69.437825] 
[   69.438355] RBP: ffff8880386b77f8 R08: 0000000000000000 R09: ffffed10027a1030
[   69.438371] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.438381] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff888013d08180
[   69.438393] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   69.438409] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.438423] CR2: 00007f2e143fca50 CR3: 00000000149b8004 CR4: 0000000000770ef0
[   69.438439] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.440115] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   69.440589] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.441242] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   69.441715] PKRU: 55555554
[   69.442473] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   69.442529] Call Trace:
[   69.443180] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.443837]  <TASK>
[   69.444496] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   69.445460]  ? show_regs+0x6d/0x80
[   69.445991] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   69.446757]  ? die_addr+0x45/0xb0
[   69.446784]  ? exc_general_protection+0x1ae/0x340
[   69.446813]  ? asm_exc_general_protection+0x2b/0x30
[   69.446845]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.447510] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.448153]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.448793] CR2: 0000000000404200 CR3: 00000000386e2003 CR4: 0000000000770ef0
[   69.449552]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.449813] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.450464]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.450491]  zap_huge_pmd+0x48e/0xd40
[   69.450519]  unmap_page_range+0x1ad6/0x4360
[   69.450542]  ? update_stack_state+0x2d9/0x610
[   69.450798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.451457]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.451653] PKRU: 55555554
[   69.452300]  ? __pfx_unmap_page_range+0x10/0x10
[   69.452617] note: repro[28670] exited with preempt_count 1
[   69.453355]  unmap_single_vma+0x1ac/0x2d0
[   69.453659] Fixing recursive fault but reboot is needed!
[   69.454102]  unmap_vmas+0x210/0x470
[   69.454132]  ? __pfx_unmap_vmas+0x10/0x10
[   69.454153]  ? __pfx_lock_release+0x10/0x10
[   69.454618] BUG: using smp_processor_id() in preemptible [00000000] code: repro/28670
[   69.455230]  ? lock_release+0x592/0x870
[   69.455755] caller is debug_smp_processor_id+0x20/0x30
[   69.456322]  ? mas_next_slot+0x133a/0x1a50
[   69.456976] CPU: 1 UID: 0 PID: 28670 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   69.457535]  ? __pfx_lock_release+0x10/0x10
[   69.458191] Tainted: [D]=DIE, [W]=WARN
[   69.458668]  ? mlock_drain_local+0x27f/0x4b0
[   69.459014] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.459409]  exit_mmap+0x19e/0xb10
[   69.459816] Call Trace:
[   69.460554]  ? __pfx_exit_mmap+0x10/0x10
[   69.461020]  <TASK>
[   69.461282]  ? debug_smp_processor_id+0x20/0x30
[   69.461696]  dump_stack_lvl+0x121/0x150
[   69.462328]  ? trace_hardirqs_on+0x51/0x60
[   69.462694]  dump_stack+0x19/0x20
[   69.463287]  ? kasan_quarantine_put+0xa2/0x200
[   69.463619]  check_preemption_disabled+0x168/0x180
[   69.464013]  ? __khugepaged_exit+0x266/0x4c0
[   69.464402]  debug_smp_processor_id+0x20/0x30
[   69.465106]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.465462]  __schedule+0xa0/0x33a0
[   69.465933]  __mmput+0xde/0x3a0
[   69.466309]  ? do_task_dead+0xa8/0x110
[   69.467142]  mmput+0x74/0x90
[   69.467529]  ? debug_smp_processor_id+0x20/0x30
[   69.467882]  do_exit+0xa03/0x29f0
[   69.468287]  ? rcu_is_watching+0x19/0xc0
[   69.469632]  ? trace_hardirqs_on+0x51/0x60
[   69.469964]  ? lock_release+0x592/0x870
[   69.470255]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.470626]  ? __pfx___schedule+0x10/0x10
[   69.470878]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.471332]  ? debug_smp_processor_id+0x20/0x30
[   69.471751]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.472134]  ? rcu_is_watching+0x19/0xc0
[   69.472507]  ? __pfx_do_exit+0x10/0x10
[   69.472926]  ? trace_irq_enable+0xe1/0x120
[   69.473454]  ? __audit_syscall_entry+0x39c/0x500
[   69.473858]  ? do_task_dead+0x4a/0x110
[   69.474266]  __x64_sys_exit+0x50/0x60
[   69.474762]  do_task_dead+0xe0/0x110
[   69.475110]  x64_sys_call+0x20c9/0x20d0
[   69.475417]  make_task_dead+0x384/0x3c0
[   69.475762]  do_syscall_64+0x6d/0x140
[   69.476042]  rewind_stack_and_make_dead+0x16/0x20
[   69.476461]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.476782] RIP: 0033:0x7f2e1423ee5d
[   69.477163] RIP: 0033:0x7f2e1423ee5d
[   69.477538] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   69.477893] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   69.478464] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   69.478931] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202
[   69.479384]  ORIG_RAX: 000000000000003c
[   69.479900]  ORIG_RAX: 000000000000003c
[   69.480347] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   69.480787] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   69.481142] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.481517] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.481951] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   69.482302] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   69.482643] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   69.482987] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   69.483344] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   69.483699] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   69.484079]  </TASK>
[   69.484517]  </TASK>
[   69.495415] Modules linked in:
[   69.495889] ---[ end trace 0000000000000000 ]---
[   69.496341] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.496896] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.498589] RSP: 0018:ffff88801f1277d8 EFLAGS: 00010202
[   69.499111] RAX: dffffc0000000000 RBX: ffffea0000810b40 RCX: ffffffff81bc4f39
[   69.499770] RDX: 0000000000000001 RSI: ffffffff81bc504e RDI: ffffea0000810b50
[   69.500428] RBP: ffff88801f1277f8 R08: 0000000000000000 R09: ffffed1001fe609c
[   69.501108] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.501774] R13: 1ffffffff0d890b5 R14: 0000000000000008 R15: ffff88800ff304e0
[   69.502474] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   69.503226] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.503767] CR2: 00007f2e143fca50 CR3: 00000000149b8004 CR4: 0000000000770ef0
[   69.504432] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.505102] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.505761] PKRU: 55555554
[   69.506030] note: repro[28678] exited with preempt_count 1
[   69.506632] Fixing recursive fault but reboot is needed!
[   69.507146] BUG: scheduling while atomic: repro/28678/0x00000000
[   69.507706] INFO: lockdep is turned off.
[   69.508081] Modules linked in:
[   69.508385] Preemption disabled at:
[   69.508391] [<ffffffff81353cd8>] do_task_dead+0x28/0x110
[   69.509232] CPU: 0 UID: 0 PID: 28678 Comm: repro Tainted: G      D W          6.11.0-673a5009cf2f+ #1
[   69.510101] Tainted: [D]=DIE, [W]=WARN
[   69.510469] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.511505] Call Trace:
[   69.511750]  <TASK>
[   69.511968]  dump_stack_lvl+0x121/0x150
[   69.512360]  ? do_task_dead+0x28/0x110
[   69.512731]  dump_stack+0x19/0x20
[   69.513071]  __schedule_bug+0x12d/0x180
[   69.513452]  __schedule+0x23fe/0x33a0
[   69.513820]  ? do_task_dead+0xa8/0x110
[   69.514195]  ? rcu_is_watching+0x19/0xc0
[   69.514589]  ? lock_release+0x592/0x870
[   69.514968]  ? __pfx___schedule+0x10/0x10
[   69.515381]  ? debug_smp_processor_id+0x20/0x30
[   69.515829]  ? rcu_is_watching+0x19/0xc0
[   69.516220]  ? trace_irq_enable+0xe1/0x120
[   69.516631]  ? do_task_dead+0x4a/0x110
[   69.517005]  do_task_dead+0xe0/0x110
[   69.517366]  make_task_dead+0x384/0x3c0
[   69.517758]  rewind_stack_and_make_dead+0x16/0x20
[   69.518220] RIP: 0033:0x7f2e1423ee5d
[   69.518568] Code: Unable to access opcode bytes at 0x7f2e1423ee33.
[   69.519138] RSP: 002b:00007f2e145dfd98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.519832] RAX: ffffffffffffffda RBX: 00007f2e145e0640 RCX: 00007f2e1423ee5d
[   69.520485] RDX: 00007f2e14313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.521140] RBP: 00007f2e145dfdb0 R08: 0000000000000000 R09: 0000000000000000
[   69.521792] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f2e145e0640
[   69.522447] R13: 0000000000000000 R14: 00007f2e1429f560 R15: 0000000000000000
[   69.523126]  </TASK>

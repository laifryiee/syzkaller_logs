Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#1] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 872 Comm: syz-executor611 Tainted: G        W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b247e38 CR3: 0000000011b50004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b247e38 CR3: 0000000011b50004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[872] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/872
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 872 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/872/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 872 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#2] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 956 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801555f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000053ae80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000053ae90
RBP: ffff88801555f7f8 R08: 0000000000000000 R09: ffffed1004c748f0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880263a4780
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 00000000207ac002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 00000000207ac002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[956] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/956
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 956 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/956/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 956 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#3] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 984 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801b2577d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00008c6a80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00008c6a90
RBP: ffff88801b2577f8 R08: 0000000000000000 R09: ffffed1004c28b2c
R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888026145960
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 000000000fcea004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 000000000fcea004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[984] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/984
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 984 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/984/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 984 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#4] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 1020 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880144477d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00007c4d40 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00007c4d50
RBP: ffff8880144477f8 R08: 0000000000000000 R09: ffffed10028503b0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014281d80
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 0000000010e38006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 0000000010e38006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1020] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1020
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 1020 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/1020/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 1020 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#5] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 1116 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888012e1f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000811c80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000811c90
RBP: ffff888012e1f7f8 R08: 0000000000000000 R09: ffffed1003e68c54
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f3462a0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000012f50006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000012f50006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1116] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1116
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 1116 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/1116/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 1116 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#6] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 1337 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880206c77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000052d7c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000052d7d0
RBP: ffff8880206c77f8 R08: 0000000000000000 R09: ffffed1004413f38
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88802209f9c0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b04e1f0 CR3: 00000000103f2003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b04e1f0 CR3: 00000000103f2003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1337] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1337
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 1337 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#7] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 1341 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
Tainted: [D]=DIE, [W]=WARN
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RIP: 0033:0x7f1d0b03ee5d
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 0018:ffff888014de77d8 EFLAGS: 00010202
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: dffffc0000000000 RBX: ffffea00006c1380 RCX: ffffffff81bd4249
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00006c1390
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: ffff888014de77f8 R08: 0000000000000000 R09: ffffed1004413efc
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88802209f7e0
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
 </TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 000000001f31e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 000000001f31e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1341] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1341
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 1341 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/1341/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 1341 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#8] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 1501 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880233577d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000984180 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000984190
RBP: ffff8880233577f8 R08: 0000000000000000 R09: ffffed1004c096cc
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88802604b660
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000001e1b6002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000001e1b6002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1501] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1501
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 1501 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/1501/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 1501 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#9] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 1557 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888014dff7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000986040 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000986050
RBP: ffff888014dff7f8 R08: 0000000000000000 R09: ffffed10028f4bc8
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880147a5e40
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 000000001b1f4002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 000000001b1f4002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1557] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1557
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 1557 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/1557/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 1557 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#10] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 1849 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880260677d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00003b3040 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00003b3050
RBP: ffff8880260677f8 R08: 0000000000000000 R09: ffffed10021a1824
R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888010d0c120
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000011332002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000011332002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#11] PREEMPT SMP KASAN NOPTI
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
PKRU: 55555554
CPU: 1 UID: 0 PID: 1880 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
note: syz-executor611[1849] exited with preempt_count 1
Tainted: [D]=DIE, [W]=WARN
Fixing recursive fault but reboot is needed!
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/1849
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880230d77d8 EFLAGS: 00010202
CPU: 0 UID: 0 PID: 1849 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
RAX: dffffc0000000000 RBX: ffffea0000788200 RCX: ffffffff81bd4249
Tainted: [D]=DIE, [W]=WARN
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000788210
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RBP: ffff8880230d77f8 R08: 0000000000000000 R09: ffffed1003e22e78
Call Trace:
 <TASK>
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f1173c0
 dump_stack+0x19/0x20 lib/dump_stack.c:129
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CR2: 00007ffa8acdf000 CR3: 000000001b28a001 CR4: 0000000000770ef0
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
 unmap_vmas+0x210/0x470 mm/memory.c:1900
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8acdf000 CR3: 000000001b28a001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1880] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/1880/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 1880 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#12] PREEMPT SMP KASAN NOPTI
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
CPU: 0 UID: 0 PID: 1928 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
RIP: 0033:0x7f1d0b03ee5d
Tainted: [D]=DIE, [W]=WARN
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
 ORIG_RAX: 000000000000003c
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RSP: 0018:ffff88800ff677d8 EFLAGS: 00010202
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000

RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
RAX: dffffc0000000000 RBX: ffffea0000524540 RCX: ffffffff81bd4249
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000524550
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
RBP: ffff88800ff677f8 R08: 0000000000000000 R09: ffffed10024c7a90
 </TASK>
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801263d480
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8ace8000 CR3: 000000002614c002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#13] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 1924 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014

RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RSP: 0018:ffff88801b00f7d8 EFLAGS: 00010202
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c

RAX: dffffc0000000000 RBX: ffffea000088cdc0 RCX: ffffffff81bd4249
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000088cdd0
RBP: ffff88801b00f7f8 R08: 0000000000000000 R09: ffffed10026ba860
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880135d4300
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8acdf000 CR3: 000000001f3f6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8ace8000 CR3: 000000002614c002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1928] exited with preempt_count 1
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
Fixing recursive fault but reboot is needed!
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8acdf000 CR3: 000000001f3f6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1924] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/1924/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 1924 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#14] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 1964 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880129ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004ae280 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004ae290
RBP: ffff8880129ef7f8 R08: 0000000000000000 R09: ffffed100260cd38
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880130669c0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 000000001c5ac004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#15] PREEMPT SMP KASAN NOPTI
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
CPU: 0 UID: 0 PID: 1976 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801500f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000500080 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000500090
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff88801500f7f8 R08: 0000000000000000 R09: ffffed1003e39e54
CR2: 00007f1d0b1fca50 CR3: 000000001c5ac004 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f1cf2a0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8acfa000 CR3: 000000001e2a4005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
PKRU: 55555554
note: syz-executor611[1964] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8acfa000 CR3: 000000001e2a4005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[1976] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/1976/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 1976 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#16] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 2200 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880230cf7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00008c4d00 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00008c4d10
RBP: ffff8880230cf7f8 R08: 0000000000000000 R09: ffffed1003661bec
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801b30df60
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 0000000026118003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 0000000026118003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2200] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2200/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 2200 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#17] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 2272 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880154a77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000048cd40 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000048cd50
RBP: ffff8880154a77f8 R08: 0000000000000000 R09: ffffed1003e16e54
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f0b72a0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 00000000146fe001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 00000000146fe001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2272] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2272/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 2272 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#18] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 2319 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88802069f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000496a80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000496a90
RBP: ffff88802069f7f8 R08: 0000000000000000 R09: ffffed10025c67bc
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012e33de0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007fec74082278 CR3: 000000000fbe8002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007fec74082278 CR3: 000000000fbe8002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2319] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2319/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 2319 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#19] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 2434 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888014ed77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000527400 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000527410
RBP: ffff888014ed77f8 R08: 0000000000000000 R09: ffffed1001f68eb4
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88800fb475a0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 000000001e1d4006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 000000001e1d4006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2434] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2434/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 2434 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#20] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 2566 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888013b077d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00009b8c80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009b8c90
RBP: ffff888013b077f8 R08: 0000000000000000 R09: ffffed1004c485bc
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888026242de0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000010902003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#21] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 2570 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Tainted: [D]=DIE, [W]=WARN
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00

RSP: 0018:ffff888026e5f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249

RAX: dffffc0000000000 RBX: ffffea00009b92c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009b92d0
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RBP: ffff888026e5f7f8 R08: 0000000000000000 R09: ffffed10025c2fe0
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012e17f00
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000010902003 CR4: 0000000000770ef0
CR2: 00007f1d0b247e38 CR3: 0000000010906005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
PKRU: 55555554
note: syz-executor611[2566] exited with preempt_count 1
Call Trace:
 <TASK>
Fixing recursive fault but reboot is needed!
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#22] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 0 UID: 0 PID: 2586 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RSP: 0018:ffff888026e477d8 EFLAGS: 00010202
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000

R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RAX: dffffc0000000000 RBX: ffffea000053e2c0 RCX: ffffffff81bd4249
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000053e2d0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff888026e477f8 R08: 0000000000000000 R09: ffffed10040f52cc
CR2: 00007f1d0b247e38 CR3: 0000000010906005 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880207a9660
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
note: syz-executor611[2570] exited with preempt_count 1
CR2: 00007f1d0b24cfa8 CR3: 0000000026e3e006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Fixing recursive fault but reboot is needed!
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 0000000026e3e006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2586] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2586/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 2586 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#23] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 2622 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880147977d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00005245c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00005245d0
RBP: ffff8880147977f8 R08: 0000000000000000 R09: ffffed1004c6edb0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888026376d80
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000001473e001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#24] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 0 UID: 0 PID: 2640 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880103277d8 EFLAGS: 00010202
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000714f80 RCX: ffffffff81bd4249

RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000714f90
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RBP: ffff8880103277f8 R08: 0000000000000000 R09: ffffed10025fe72c
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012ff3960
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CR2: 00007f1d0afff5b8 CR3: 00000000153c8004 CR4: 0000000000770ef0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
CR2: 00007ffc236c3878 CR3: 000000001473e001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2622] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#25] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 2652 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888012dcf7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004dd380 RCX: ffffffff81bd4249
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004dd390
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RBP: ffff888012dcf7f8 R08: 0000000000000000 R09: ffffed1002270efc
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880113877e0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CR2: 00007f1d0afff5b8 CR3: 00000000153c8004 CR4: 0000000000770ef0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CR2: 00007f1d0b24cfa8 CR3: 0000000010900001 CR4: 0000000000770ef0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
note: syz-executor611[2640] exited with preempt_count 1
PKRU: 55555554
Fixing recursive fault but reboot is needed!
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 0000000010900001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2652] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2652/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 2652 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#26] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 2696 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880126af7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004bd6c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004bd6d0
RBP: ffff8880126af7f8 R08: 0000000000000000 R09: ffffed10025c2ed8
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012e176c0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 000000001c684002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 000000001c684002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2696] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2696/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 2696 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#27] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 2889 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880263c77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000052b1c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000052b1d0
RBP: ffff8880263c77f8 R08: 0000000000000000 R09: ffffed1003e22f50
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f117a80
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 00000000126d6002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 00000000126d6002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2889] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2889/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 2889 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#28] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 2941 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880204f77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000781c80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000781c90
RBP: ffff8880204f77f8 R08: 0000000000000000 R09: ffffed1003e39fe0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f1cff00
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 0000000015184006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 0000000015184006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[2941] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/2941/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 2941 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#29] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 3001 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ff7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004c0800 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004c0810
RBP: ffff8880262ff7f8 R08: 0000000000000000 R09: ffffed100366f5c8
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801b37ae40
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 00000000103d0001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 00000000103d0001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3001] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3001/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 3001 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#30] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 3264 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801f05f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004bc380 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004bc390
RBP: ffff88801f05f7f8 R08: 0000000000000000 R09: ffffed100444c798
R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888022263cc0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000001e086001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000001e086001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#31] PREEMPT SMP KASAN NOPTI
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
PKRU: 55555554
CPU: 1 UID: 0 PID: 3276 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
note: syz-executor611[3264] exited with preempt_count 1
Tainted: [D]=DIE, [W]=WARN
Fixing recursive fault but reboot is needed!
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801e2877d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000081ca00 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000081ca10
RBP: ffff88801e2877f8 R08: 0000000000000000 R09: ffffed1001a8e200
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88800d471000
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 0000000026084006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 0000000026084006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3276] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3276/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 3276 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#32] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 3328 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880151577d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004e5e80 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004e5e90
RBP: ffff8880151577f8 R08: 0000000000000000 R09: ffffed10021ded80
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888010ef6c00
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 00000000134fe002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#33] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 3332 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888014ee77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000055b640 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000055b650
RBP: ffff888014ee77f8 R08: 0000000000000000 R09: ffffed10024b455c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880125a2ae0

FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
CR2: 00007f1d0b25bbf0 CR3: 0000000010ea0004 CR4: 0000000000770ef0
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
PKRU: 55555554
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
Call Trace:
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
 <TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 00000000134fe002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3328] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000010ea0004 CR4: 0000000000770ef0
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#34] PREEMPT SMP KASAN NOPTI
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CPU: 0 UID: 0 PID: 3380 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
PKRU: 55555554
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
note: syz-executor611[3332] exited with preempt_count 1
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Fixing recursive fault but reboot is needed!
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801c7d77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000088ecc0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000088ecd0
RBP: ffff88801c7d77f8 R08: 0000000000000000 R09: ffffed100248bf2c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801245f960
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3998 CR3: 0000000026172003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3998 CR3: 0000000026172003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3380] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3380/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 3380 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#35] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 3634 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880207877d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00009896c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009896d0
RBP: ffff8880207877f8 R08: 0000000000000000 R09: ffffed10028502cc
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014281660
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 00000000153e4001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 00000000153e4001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3634] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3634/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 3634 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#36] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 3674 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880156877d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00008c0a00 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00008c0a10
RBP: ffff8880156877f8 R08: 0000000000000000 R09: ffffed100299eab4
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014cf55a0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000012234005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#37] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 3686 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00

RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RSP: 0018:ffff888026f777d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000043e580 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000043e590
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RBP: ffff888026f777f8 R08: 0000000000000000 R09: ffffed1002850320
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014281900
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000012234005 CR4: 0000000000770ef0
CR2: 00007fec784d0000 CR3: 0000000014f5c002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3674] exited with preempt_count 1
PKRU: 55555554
Fixing recursive fault but reboot is needed!
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007fec784d0000 CR3: 0000000014f5c002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3686] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3686/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 3686 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#38] PREEMPT SMP KASAN NOPTI
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
CPU: 1 UID: 0 PID: 3746 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
 </TASK>
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801e1077d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000819e00 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000819e10
RBP: ffff88801e1077f8 R08: 0000000000000000 R09: ffffed100467578c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880233abc60
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8a8b2000 CR3: 000000002200e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8a8b2000 CR3: 000000002200e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3746] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3746/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 3746 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#39] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 3889 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801455f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000037a9c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000037a9d0
RBP: ffff88801455f7f8 R08: 0000000000000000 R09: ffffed10025cd09c
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012e684e0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000015072001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000015072001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[3889] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/3889/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 3889 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#40] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 4053 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880128977d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000408200 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000408210
RBP: ffff8880128977f8 R08: 0000000000000000 R09: ffffed1004629f68
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88802314fb40
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 000000001b258003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#41] PREEMPT SMP KASAN NOPTI
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 4061 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880221ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000088eec0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000088eed0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff8880221ef7f8 R08: 0000000000000000 R09: ffffed10040ec6cc
CR2: 00007f1d0b09bc20 CR3: 000000001b258003 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888020763660
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
note: syz-executor611[4053] exited with preempt_count 1
CR2: 00007ffa8a8c7018 CR3: 0000000014c7e002 CR4: 0000000000770ef0
Fixing recursive fault but reboot is needed!
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8a8c7018 CR3: 0000000014c7e002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[4061] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/4061/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 4061 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#42] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 4653 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801e32f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00007c9b00 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00007c9b10
RBP: ffff88801e32f7f8 R08: 0000000000000000 R09: ffffed1003c1eb44
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801e0f5a20
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000000ebae002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 000000000ebae002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[4653] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
check_preemption_disabled: 31 callbacks suppressed
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/4653
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 4653 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/4653/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 4653 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#43] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 4717 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88802338f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00005374c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00005374d0
RBP: ffff88802338f7f8 R08: 0000000000000000 R09: ffffed1003e6e2f0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f371780
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 000000001e22a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 000000001e22a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[4717] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/4717
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 4717 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/4717/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 4717 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#44] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 4769 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888026f777d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00009be580 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009be590
RBP: ffff888026f777f8 R08: 0000000000000000 R09: ffffed1001f8623c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88800fc311e0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000026012002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#45] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 4781 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RSP: 0018:ffff88801c4af7d8 EFLAGS: 00010202
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000

R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RAX: dffffc0000000000 RBX: ffffea00009b0180 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009b0190
RBP: ffff88801c4af7f8 R08: 0000000000000000 R09: ffffed1001f863bc
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88800fc31de0
CR2: 00007f1d0affeef8 CR3: 0000000026012002 CR4: 0000000000770ef0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007f1d0b24cfa8 CR3: 000000001f0a6002 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
note: syz-executor611[4769] exited with preempt_count 1
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Fixing recursive fault but reboot is needed!
PKRU: 55555554
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/4769
Call Trace:
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 <TASK>
CPU: 0 UID: 0 PID: 4769 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
 __mmput+0xde/0x3a0 kernel/fork.c:1347
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
 mmput+0x74/0x90 kernel/fork.c:1369
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24cfa8 CR3: 000000001f0a6002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[4781] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/4781
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 4781 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
BUG: scheduling while atomic: syz-executor611/4781/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 4781 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#46] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 5005 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880103277d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00008c5dc0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00008c5dd0
RBP: ffff8880103277f8 R08: 0000000000000000 R09: ffffed1003e02854
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f0142a0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 0000000026f58005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#47] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 0 UID: 0 PID: 5017 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801c6cf7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000985dc0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000985dd0
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RBP: ffff88801c6cf7f8 R08: 0000000000000000 R09: ffffed10025013ec

R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012809f60
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
CR2: 00007fec78510078 CR3: 00000000142e8003 CR4: 0000000000770ef0
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
PKRU: 55555554
CR2: 00007f1d0afff658 CR3: 0000000026f58005 CR4: 0000000000770ef0
Call Trace:
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
 <TASK>
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5005] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/5005
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 5005 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
Call Trace:
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
 mmput+0x74/0x90 kernel/fork.c:1369
RIP: 0033:0x7f1d0b03ee5d
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 </TASK>
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#48] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 5021 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189

Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RSP: 0018:ffff88801e2e77d8 EFLAGS: 00010202
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750

RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RAX: dffffc0000000000 RBX: ffffea00007c3640 RCX: ffffffff81bd4249
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00007c3650
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RBP: ffff88801e2e77f8 R08: 0000000000000000 R09: ffffed10025cd000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012e68000
CR2: 00007fec78510078 CR3: 00000000142e8003 CR4: 0000000000770ef0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007f1d0afff658 CR3: 0000000026e7e002 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
note: syz-executor611[5017] exited with preempt_count 1
PKRU: 55555554
Fixing recursive fault but reboot is needed!
Call Trace:
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/5017
 <TASK>
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 5017 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
 ORIG_RAX: 000000000000003c
 __mmput+0xde/0x3a0 kernel/fork.c:1347
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
 mmput+0x74/0x90 kernel/fork.c:1369
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 0000000026e7e002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5021] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/5021
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 1 UID: 0 PID: 5021 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#49] PREEMPT SMP KASAN NOPTI
Call Trace:
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
 <TASK>
CPU: 0 UID: 0 PID: 5089 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
Tainted: [D]=DIE, [W]=WARN
 dump_stack+0x19/0x20 lib/dump_stack.c:129
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
RSP: 0018:ffff888012ddf7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000052a000 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000052a010
RBP: ffff888012ddf7f8 R08: 0000000000000000 R09: ffffed10029d4e9c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014ea74e0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8a93b008 CR3: 0000000026f7e002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
PKRU: 55555554
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
Call Trace:
RIP: 0033:0x7f1d0b03ee5d
 <TASK>
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#50] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 5045 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RSP: 0018:ffff8880262f77d8 EFLAGS: 00010202
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000

R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RAX: dffffc0000000000 RBX: ffffea00004e8200 RCX: ffffffff81bd4249
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004e8210
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff8880262f77f8 R08: 0000000000000000 R09: ffffed10044102f0
CR2: 00007ffa8a93b008 CR3: 0000000026f7e002 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888022081780
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 000000001c738001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Call Trace:
PKRU: 55555554
 <TASK>
note: syz-executor611[5089] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/5089
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
CPU: 0 UID: 0 PID: 5089 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
 __mmput+0xde/0x3a0 kernel/fork.c:1347
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
 mmput+0x74/0x90 kernel/fork.c:1369
 ORIG_RAX: 000000000000003c
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 000000001c738001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5045] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/5045
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#51] PREEMPT SMP KASAN NOPTI
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 5045 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
CPU: 0 UID: 0 PID: 5157 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
 <TASK>
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
RSP: 0018:ffff8880140ef7d8 EFLAGS: 00010202
 dump_stack+0x19/0x20 lib/dump_stack.c:129
RAX: dffffc0000000000 RBX: ffffea00008c8ec0 RCX: ffffffff81bd4249
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00008c8ed0
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
RBP: ffff8880140ef7f8 R08: 0000000000000000 R09: ffffed1002a1a98c
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880150d4c60
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 00000000222f4001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#52] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 5093 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RSP: 0018:ffff888033c7f7d8 EFLAGS: 00010202
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c

R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RAX: dffffc0000000000 RBX: ffffea0000cf1640 RCX: ffffffff81bd4249
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000cf1650
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
RBP: ffff888033c7f7f8 R08: 0000000000000000 R09: ffffed10029d4f08
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
CR2: 00007f1d0b24b3f4 CR3: 00000000222f4001 CR4: 0000000000770ef0
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014ea7840
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
PKRU: 55555554
CR2: 00007f1d0afff658 CR3: 0000000026254001 CR4: 0000000000770ef0
note: syz-executor611[5157] exited with preempt_count 1
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Fixing recursive fault but reboot is needed!
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
BUG: using smp_processor_id() in preemptible [00000000] code: syz-executor611/5157
PKRU: 55555554
caller is debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
Call Trace:
CPU: 0 UID: 0 PID: 5157 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
 <TASK>
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 check_preemption_disabled+0x168/0x180 lib/smp_processor_id.c:49
 debug_smp_processor_id+0x20/0x30 lib/smp_processor_id.c:60
 __schedule+0xa0/0x33a0 kernel/sched/core.c:6546
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246
 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
 __mmput+0xde/0x3a0 kernel/fork.c:1347
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
 mmput+0x74/0x90 kernel/fork.c:1369
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 0000000026254001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5093] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/5093/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 5093 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#53] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 5077 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888014a477d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000524680 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000524690
RBP: ffff888014a477f8 R08: 0000000000000000 R09: ffffed1004603e30
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88802301f180
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 0000000022270001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff658 CR3: 0000000022270001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5077] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/5077/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 5077 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#54] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 5644 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00009b7600 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009b7610
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10029d689c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014eb44e0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000033c5c003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000033c5c003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5644] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/5644/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 5644 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#55] PREEMPT SMP KASAN NOPTI
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
CPU: 1 UID: 0 PID: 5648 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
Tainted: [D]=DIE, [W]=WARN
 </TASK>
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888012fcf7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000054e3c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000054e3d0
RBP: ffff888012fcf7f8 R08: 0000000000000000 R09: ffffed10038a35b0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801c51ad80
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff5b8 CR3: 000000002227e001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#56] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 0 UID: 0 PID: 5676 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014

RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RSP: 0018:ffff88802051f7d8 EFLAGS: 00010202
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c

RAX: dffffc0000000000 RBX: ffffea0000985f40 RCX: ffffffff81bd4249
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000985f50
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RBP: ffff88802051f7f8 R08: 0000000000000000 R09: ffffed1002a30e54
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880151872a0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8a966000 CR3: 000000002306e001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff5b8 CR3: 000000002227e001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5648] exited with preempt_count 1
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
Fixing recursive fault but reboot is needed!
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#57] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 5692 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88802052f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000505800 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000505810
RBP: ffff88802052f7f8 R08: 0000000000000000 R09: ffffed10040ee63c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880207731e0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff5b8 CR3: 0000000023144005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8a966000 CR3: 000000002306e001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
PKRU: 55555554
note: syz-executor611[5676] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff5b8 CR3: 0000000023144005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5692] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/5692/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 5692 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#58] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 5708 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888026d1f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00009be800 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009be810
RBP: ffff888026d1f7f8 R08: 0000000000000000 R09: ffffed1002889c0c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801444e060
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8abee000 CR3: 0000000020520006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8abee000 CR3: 0000000020520006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5708] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/5708/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 5708 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#59] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 5809 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801325f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004b0ec0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004b0ed0
RBP: ffff88801325f7f8 R08: 0000000000000000 R09: ffffed1003661bb0
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801b30dd80
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 0000000026f50002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b1fca50 CR3: 0000000026f50002 CR4: 0000000000770ef0
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#60] PREEMPT SMP KASAN NOPTI
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CPU: 0 UID: 0 PID: 5813 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
PKRU: 55555554
Tainted: [D]=DIE, [W]=WARN
note: syz-executor611[5809] exited with preempt_count 1
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Fixing recursive fault but reboot is needed!
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888011ae77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004b7ac0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004b7ad0
RBP: ffff888011ae77f8 R08: 0000000000000000 R09: ffffed1003661b98
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801b30dcc0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 0000000014092003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 0000000014092003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[5813] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/5813/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 5813 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#61] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 6025 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801035f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000556340 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000556350
RBP: ffff88801035f7f8 R08: 0000000000000000 R09: ffffed10024cc0a8
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012660540
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 0000000012b6a001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b09bc20 CR3: 0000000012b6a001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6025] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6025/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 6025 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#62] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 6153 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880231df7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00007c2840 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00007c2850
RBP: ffff8880231df7f8 R08: 0000000000000000 R09: ffffed1004d8dc6c
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888026c6e360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affee38 CR3: 0000000013898003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#63] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 0 UID: 0 PID: 6157 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RSP: 0018:ffff8880263477d8 EFLAGS: 00010202
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RAX: dffffc0000000000 RBX: ffffea00007c6d40 RCX: ffffffff81bd4249
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00007c6d50
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
RBP: ffff8880263477f8 R08: 0000000000000000 R09: ffffed10040af738
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
CR2: 00007f1d0affee38 CR3: 0000000013898003 CR4: 0000000000770ef0
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88802057b9c0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
PKRU: 55555554
CR2: 00007f1d0afff5b8 CR3: 000000002627a003 CR4: 0000000000770ef0
note: syz-executor611[6153] exited with preempt_count 1
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Fixing recursive fault but reboot is needed!
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0afff5b8 CR3: 000000002627a003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6157] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6157/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 6157 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#64] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 6441 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801104f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004d8280 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004d8290
RBP: ffff88801104f7f8 R08: 0000000000000000 R09: ffffed10021246f0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888010923780
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 0000000026faa005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 0000000026faa005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6441] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6441/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 6441 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#65] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 6497 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888014d677d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000055b600 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000055b610
RBP: ffff888014d677f8 R08: 0000000000000000 R09: ffffed1004675c30
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880233ae180
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affee30 CR3: 0000000022296006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affee30 CR3: 0000000022296006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6497] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6497/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 6497 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#66] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 6663 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888033cb77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000cfbec0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000cfbed0
RBP: ffff888033cb77f8 R08: 0000000000000000 R09: ffffed10038a4490
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801c522480
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 000000001f3a0001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 000000001f3a0001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6663] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6663/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 6663 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#67] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 6835 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801e2c77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00009805c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009805d0
RBP: ffff88801e2c77f8 R08: 0000000000000000 R09: ffffed10025c6768
R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012e33b40
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000026ddc005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#68] PREEMPT SMP KASAN NOPTI
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CPU: 0 UID: 0 PID: 6839 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888014d677d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004a2280 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004a2290
RBP: ffff888014d677f8 R08: 0000000000000000 R09: ffffed1004c749d4
CR2: 00007f1d0b25bbf0 CR3: 0000000026ddc005 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880263a4ea0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8ac4a000 CR3: 000000001389a006 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
note: syz-executor611[6835] exited with preempt_count 1
PKRU: 55555554
Fixing recursive fault but reboot is needed!
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#69] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 6863 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RSP: 0018:ffff88800efa77d8 EFLAGS: 00010202
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RAX: dffffc0000000000 RBX: ffffea0000880140 RCX: ffffffff81bd4249
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000880150
RBP: ffff88800efa77f8 R08: 0000000000000000 R09: ffffed10040ecd20
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888020766900
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 00000000152ee005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffa8ac4a000 CR3: 000000001389a006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6839] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#70] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 6891 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Tainted: [D]=DIE, [W]=WARN
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189

Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RSP: 0018:ffff8880230d77d8 EFLAGS: 00010202
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750

RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
RAX: dffffc0000000000 RBX: ffffea00009bddc0 RCX: ffffffff81bd4249
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00009bddd0
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RBP: ffff8880230d77f8 R08: 0000000000000000 R09: ffffed10027341a4
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880139a0d20
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 00000000152ee005 CR4: 0000000000770ef0
CR2: 00007f1d0b1fca50 CR3: 0000000011d46005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
PKRU: 55555554
note: syz-executor611[6863] exited with preempt_count 1
Call Trace:
Fixing recursive fault but reboot is needed!
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#71] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
CPU: 1 UID: 0 PID: 6883 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
Tainted: [D]=DIE, [W]=WARN
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189

RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RSP: 0018:ffff888012ddf7d8 EFLAGS: 00010202
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c

R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
RAX: dffffc0000000000 RBX: ffffea000081c3c0 RCX: ffffffff81bd4249
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000081c3d0
RBP: ffff888012ddf7f8 R08: 0000000000000000 R09: ffffed10029eb4c0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014f5a600
CR2: 00007f1d0b1fca50 CR3: 0000000011d46005 CR4: 0000000000770ef0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007f1d0b25bbf0 CR3: 0000000013738006 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
note: syz-executor611[6891] exited with preempt_count 1
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Fixing recursive fault but reboot is needed!
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000013738006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6883] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6883/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 6883 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#72] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 6995 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801b3a77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004ee300 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004ee310
RBP: ffff88801b3a77f8 R08: 0000000000000000 R09: ffffed10038de8a8
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801c6f4540
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 0000000033eb2002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b24b3f4 CR3: 0000000033eb2002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[6995] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/6995/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 6995 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#73] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 7111 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff888026fdf7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004c1e40 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004c1e50
RBP: ffff888026fdf7f8 R08: 0000000000000000 R09: ffffed10040ec648
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888020763240
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 000000001354a005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000006e82003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[7111] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/7111/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 7111 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#74] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 7350 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880260b77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004cf980 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004cf990
RBP: ffff8880260b77f8 R08: 0000000000000000 R09: ffffed10025a05a4
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888012d02d20
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000033e40005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0b25bbf0 CR3: 0000000033e40005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[7350] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/7350/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 7350 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#75] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 7470 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88801e2877d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004d5180 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004d5190
RBP: ffff88801e2877f8 R08: 0000000000000000 R09: ffffed1003e6e2fc
R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801f3717e0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000033eac001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000033eac001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[7470] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/7470/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 7470 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#76] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 1 UID: 0 PID: 7518 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff88802049f7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea000088a500 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea000088a510
RBP: ffff88802049f7f8 R08: 0000000000000000 R09: ffffed10028f4b38
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff8880147a59c0
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000026d5e003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f1d0affeef8 CR3: 0000000026d5e003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[7518] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/7518/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 1 UID: 0 PID: 7518 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#77] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 7894 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880221f77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00004c89c0 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00004c89d0
RBP: ffff8880221f77f8 R08: 0000000000000000 R09: ffffed1004dac9d4
R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888026d64ea0
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000026f9e004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000026f9e004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[7894] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/7894/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 7894 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#78] PREEMPT SMP KASAN NOPTI
KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
CPU: 0 UID: 0 PID: 8021 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880134c77d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea00008c4d40 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea00008c4d50
RBP: ffff8880134c77f8 R08: 0000000000000000 R09: ffffed1002923dec
R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff88801491ef60
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000026c3a002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 zap_deposited_table mm/huge_memory.c:2049 [inline]
 zap_huge_pmd+0x48e/0xd40 mm/huge_memory.c:2104
 zap_pmd_range mm/memory.c:1719 [inline]
 zap_pud_range mm/memory.c:1768 [inline]
 zap_p4d_range mm/memory.c:1789 [inline]
 unmap_page_range+0x1ad7/0x4320 mm/memory.c:1810
 unmap_single_vma+0x1ac/0x2d0 mm/memory.c:1856
 unmap_vmas+0x210/0x470 mm/memory.c:1900
 exit_mmap+0x19e/0xb10 mm/mmap.c:1864
 __mmput+0xde/0x3a0 kernel/fork.c:1347
 mmput+0x74/0x90 kernel/fork.c:1369
 exit_mm kernel/exit.c:571 [inline]
 do_exit+0xa03/0x2a30 kernel/exit.c:926
 __do_sys_exit kernel/exit.c:1055 [inline]
 __se_sys_exit kernel/exit.c:1053 [inline]
 __x64_sys_exit+0x50/0x60 kernel/exit.c:1053
 x64_sys_call+0x20c9/0x20d0 arch/x86/include/generated/asm/syscalls_64.h:61
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410 mm/pgtable-generic.c:189
Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
RSP: 0018:ffff8880262ef7d8 EFLAGS: 00010202
RAX: dffffc0000000000 RBX: ffffea0000468740 RCX: ffffffff81bd4249
RDX: 0000000000000001 RSI: ffffffff81bd435e RDI: ffffea0000468750
RBP: ffff8880262ef7f8 R08: 0000000000000000 R09: ffffed10028a846c
R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
R13: 1ffffffff0d89eb5 R14: 0000000000000008 R15: ffff888014542360
FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc236c3878 CR3: 0000000026c3a002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
note: syz-executor611[8021] exited with preempt_count 1
Fixing recursive fault but reboot is needed!
BUG: scheduling while atomic: syz-executor611/8021/0x00000000
INFO: lockdep is turned off.
Modules linked in:
Preemption disabled at:
[<ffffffff81357af8>] do_task_dead+0x28/0x110 kernel/sched/core.c:6686
CPU: 0 UID: 0 PID: 8021 Comm: syz-executor611 Tainted: G      D W          6.12.0-rc1-2024-09-30-intel-next-7fd71eb2fc90+ #1
Tainted: [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0x121/0x150 lib/dump_stack.c:120
 dump_stack+0x19/0x20 lib/dump_stack.c:129
 __schedule_bug+0x12d/0x180 kernel/sched/core.c:5864
 schedule_debug kernel/sched/core.c:5891 [inline]
 __schedule+0x23fe/0x33a0 kernel/sched/core.c:6550
 do_task_dead+0xe0/0x110 kernel/sched/core.c:6691
 make_task_dead+0x384/0x3c0 kernel/exit.c:1047
 rewind_stack_and_make_dead+0x16/0x20 arch/x86/entry/entry_64.S:1492
RIP: 0033:0x7f1d0b03ee5d
Code: Unable to access opcode bytes at 0x7f1d0b03ee33.
RSP: 002b:00007f1d0b247e38 EFLAGS: 00000246 ORIG_RAX: 000000000000003c
RAX: ffffffffffffffda RBX: 0000000000404128 RCX: 00007f1d0b03ee5d
RDX: 00007f1d0b113945 RSI: 0000000000000000 RDI: 0000000000000000
RBP: 0000000000404120 R08: 00007f1d0b248640 R09: 00007f1d0b248640
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000040412c
R13: 0000000000000000 R14: 00007f1d0b09f560 R15: 0000000000000000
 </TASK>
----------------
Code disassembly (best guess):
   0:	89 fa                	mov    %edi,%edx
   2:	48 c1 ea 03          	shr    $0x3,%rdx
   6:	80 3c 02 00          	cmpb   $0x0,(%rdx,%rax,1)
   a:	0f 85 51 01 00 00    	jne    0x161
  10:	48 b8 00 00 00 00 00 	movabs $0xdffffc0000000000,%rax
  17:	fc ff df
  1a:	4c 8b 63 10          	mov    0x10(%rbx),%r12
  1e:	4d 8d 74 24 08       	lea    0x8(%r12),%r14
  23:	4c 89 f2             	mov    %r14,%rdx
  26:	48 c1 ea 03          	shr    $0x3,%rdx
* 2a:	80 3c 02 00          	cmpb   $0x0,(%rdx,%rax,1) <-- trapping instruction
  2e:	0f 85 37 01 00 00    	jne    0x16b
  34:	4d 8b 6c 24 08       	mov    0x8(%r12),%r13
  39:	4d 39 ee             	cmp    %r13,%r14
  3c:	0f                   	.byte 0xf
  3d:	84                   	.byte 0x84
  3e:	b0 00                	mov    $0x0,%al

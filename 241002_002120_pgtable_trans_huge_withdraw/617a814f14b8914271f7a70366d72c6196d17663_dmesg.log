c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.11.0-617a814f14b8+ (root@p-mtlsx) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-2), GNU ld version 2.35.2-54.el9) #1 SMP PREEMPT_DYNAMIC Wed Oct  2 04:19:18 CST 2024
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000003] kvm-clock: using sched offset of 953155708 cycles
[    0.000413] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001685] tsc: Detected 2380.800 MHz processor
[    0.008624] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.009083] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.009794] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.019139] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.019659] Using GB pages for direct mapping
[    0.022406] ACPI: Early table checksum verification disabled
[    0.022873] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.023345] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024040] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024732] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025566] ACPI: FACS 0x000000007FFE0000 000040
[    0.025945] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.026621] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.027302] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.027977] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.028526] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.029073] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.029618] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.030166] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.030714] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.031809] No NUMA configuration found
[    0.032219] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.032861] NODE_DATA(0) allocated [mem 0x7ffb5180-0x7ffdfdff]
[    0.034810] Zone ranges:
[    0.035014]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.035495]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.035981]   Normal   empty
[    0.036316]   Device   empty
[    0.036547] Movable zone start for each node
[    0.036885] Early memory node ranges
[    0.037169]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.037660]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.038151] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.039402] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.040158] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.118634] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.473068] kasan: KernelAddressSanitizer initialized
[    0.473884] ACPI: PM-Timer IO Port: 0x608
[    0.474314] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.474939] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.475608] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.476207] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.476823] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.477716] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.478380] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.479041] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.479644] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.480142] TSC deadline timer available
[    0.480518] CPU topo: Max. logical packages:   1
[    0.480949] CPU topo: Max. logical dies:       1
[    0.481378] CPU topo: Max. dies per package:   1
[    0.481806] CPU topo: Max. threads per core:   1
[    0.482300] CPU topo: Num. cores per package:     2
[    0.482843] CPU topo: Num. threads per package:   2
[    0.483382] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.484116] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.485187] kvm-guest: KVM setup pv remote TLB flush
[    0.485729] kvm-guest: setup PV sched yield
[    0.486262] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.487081] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
[    0.487891] PM: hibernation: Registered nosave memory: [mem 0x000a0000-0x000effff]
[    0.488675] PM: hibernation: Registered nosave memory: [mem 0x000f0000-0x000fffff]
[    0.489461] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.490105] Booting paravirtualized kernel on KVM
[    0.490599] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.491730] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.494041] percpu: Embedded 85 pages/cpu s311296 r8192 d28672 u1048576
[    0.494914] kvm-guest: PV spinlocks enabled
[    0.495356] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.496112] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.497888] random: crng init done
[    0.499566] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.500893] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.501959] Fallback order for Node 0: 0 
[    0.501977] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.502985] Policy zone: DMA32
[    0.503403] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.504079] stackdepot: allocating hash table via alloc_large_system_hash
[    0.504728] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.575629] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.576159] kmemleak: Kernel memory leak detector disabled
[    0.576830] ftrace: allocating 72360 entries in 283 pages
[    0.611236] ftrace: allocated 283 pages with 5 groups
[    0.615107] Dynamic Preempt: voluntary
[    0.615848] Running RCU self tests
[    0.616113] Running RCU synchronous self tests
[    0.616500] rcu: Preemptible hierarchical RCU implementation.
[    0.617027] rcu: 	RCU lockdep checking is enabled.
[    0.617385] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.617901] 	Trampoline variant of Tasks RCU enabled.
[    0.618281] 	Rude variant of Tasks RCU enabled.
[    0.618622] 	Tracing variant of Tasks RCU enabled.
[    0.618986] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.619553] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.620127] Running RCU synchronous self tests
[    0.620469] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.621123] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.621812] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=2.
[    0.651713] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.652735] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.659087] Console: colour VGA+ 80x25
[    0.659468] printk: legacy console [ttyS0] enabled
[    0.659468] printk: legacy console [ttyS0] enabled
[    0.660263] printk: legacy bootconsole [earlyser0] disabled
[    0.660263] printk: legacy bootconsole [earlyser0] disabled
[    0.661197] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.661790] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.662112] ... MAX_LOCK_DEPTH:          48
[    0.662439] ... MAX_LOCKDEP_KEYS:        8192
[    0.662784] ... CLASSHASH_SIZE:          4096
[    0.663124] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.663475] ... MAX_LOCKDEP_CHAINS:      524288
[    0.663830] ... CHAINHASH_SIZE:          262144
[    0.664182]  memory used by lock dependency info: 54145 kB
[    0.664603]  memory used for stack traces: 4224 kB
[    0.664977]  per task-struct memory footprint: 1920 bytes
[    0.665490] ACPI: Core revision 20240827
[    0.666237] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.667249] APIC: Switch to symmetric I/O mode setup
[    0.667793] x2apic enabled
[    0.668366] APIC: Switched APIC routing to: physical x2apic
[    0.668812] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.669385] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.670095] kvm-guest: setup PV IPIs
[    0.671346] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.671841] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    0.672674] Calibrating delay loop (skipped) preset value.. 4761.60 BogoMIPS (lpj=9523200)
[    0.680834] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.681862] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.682329] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.682873] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.683541] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.684401] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.684671] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.685111] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    0.685715] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.686284] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.686920] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.687559] MMIO Stale Data: Unknown: No mitigations
[    0.687978] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.688664] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.689151] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.689642] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.690236] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.690716] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.691189] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.839598] Freeing SMP alternatives memory: 56K
[    0.839999] pid_max: default: 32768 minimum: 301
[    0.840771] LSM: initializing lsm=capability,yama,ima,evm
[    0.841361] Yama: becoming mindful.
[    0.842244] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.842827] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.846033] Running RCU synchronous self tests
[    0.846394] Running RCU synchronous self tests
[    0.847255] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xac, stepping: 0x0)
[    0.848660] Running RCU Tasks wait API self tests
[    0.948830] Running RCU Tasks Rude wait API self tests
[    0.949989] Running RCU Tasks Trace wait API self tests
[    0.950880] Performance Events: Meteorlake Hybrid events, full-width counters, Intel PMU driver.
[    0.953269] ------------[ cut here ]------------
[    0.953990] WARNING: CPU: 0 PID: 1 at arch/x86/events/intel/core.c:4948 intel_pmu_cpu_starting+0x1366/0x1c30
[    0.955596] Modules linked in:
[    0.956004] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-617a814f14b8+ #1
[    0.956688] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.958443] RIP: 0010:intel_pmu_cpu_starting+0x1366/0x1c30
[    0.959136] Code: 00 00 e8 4d d4 0b 02 e9 4d ef ff ff e8 f3 31 63 00 be 0e 00 00 00 bf d9 01 00 00 e8 a4 d5 0b 02 e9 34 ef ff ff e8 da 31 63 00 <0f> 0b 48 8b 85 08 ff ff ff 48 8d b8 48 14 00 00 48 b8 00 00 00 00
[    0.960672] RSP: 0000:ffff88800dc5fa50 EFLAGS: 00010293
[    0.961720] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8103f601
[    0.962557] RDX: ffff88800dc52500 RSI: ffffffff810404e6 RDI: 0000000000000001
[    0.963412] RBP: ffff88800dc5fb80 R08: 0000000000000000 R09: fffffbfff0f92df0
[    0.964251] R10: 0000000000000000 R11: 0000000000000001 R12: 0000000000000000
[    0.964670] R13: 000000000000006b R14: ffffffff810125e0 R15: 0000000000000000
[    0.965484] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[    0.966424] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[    0.967316] CR2: ffff88800d001000 CR3: 0000000006e82001 CR4: 0000000000770ef0
[    0.968210] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[    0.968670] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[    0.969492] PKRU: 55555554
[    0.969823] Call Trace:
[    0.970124]  <TASK>
[    0.970388]  ? show_regs+0x6d/0x80
[    0.970821]  ? __warn+0xf3/0x380
[    0.971249]  ? report_bug+0x25e/0x4b0
[    0.971814]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.972508]  ? report_bug+0x2cb/0x4b0
[    0.972677]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.973359]  ? intel_pmu_cpu_starting+0x1367/0x1c30
[    0.974028]  ? handle_bug+0xf1/0x190
[    0.974547]  ? exc_invalid_op+0x3c/0x80
[    0.975095]  ? asm_exc_invalid_op+0x1f/0x30
[    0.975694]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    0.976378]  ? intel_pmu_cpu_starting+0x481/0x1c30
[    0.976672]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.977345]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.978018]  ? __pfx___lock_acquire+0x10/0x10
[    0.978794]  ? __pfx___lock_acquire+0x10/0x10
[    0.979393]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    0.980061]  ? debug_smp_processor_id+0x20/0x30
[    0.980671]  ? rcu_is_watching+0x19/0xc0
[    0.981205]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    0.981870]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    0.982761]  x86_pmu_starting_cpu+0x2e/0x50
[    0.983326]  cpuhp_invoke_callback+0x3cf/0x9d0
[    0.983925]  cpuhp_issue_call+0x1a8/0x8b0
[    0.984461]  ? __pfx_lock_acquire+0x10/0x10
[    0.984672]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[    0.985398]  ? cpuhp_issue_call+0x1fa/0x8b0
[    0.985978]  __cpuhp_setup_state_cpuslocked+0x3ac/0x800
[    0.986632]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    0.987226]  ? x86_pmu_prepare_cpu+0x83/0xf0
[    0.987767]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    0.988354]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    0.988672]  __cpuhp_setup_state+0x105/0x310
[    0.989122]  init_hw_perf_events+0x65e/0xab0
[    0.989597]  ? __pfx_init_hw_perf_events+0x10/0x10
[    0.990117]  do_one_initcall+0x114/0x5d0
[    0.990599]  ? __this_cpu_preempt_check+0x21/0x30
[    0.991201]  ? __pfx_do_one_initcall+0x10/0x10
[    0.991782]  ? debug_smp_processor_id+0x20/0x30
[    0.992356]  ? rcu_is_watching+0x19/0xc0
[    0.992677]  kernel_init_freeable+0x8e4/0xeb0
[    0.993239]  ? __pfx_kernel_init+0x10/0x10
[    0.993764]  kernel_init+0x28/0x2f0
[    0.994207]  ? __pfx_kernel_init+0x10/0x10
[    0.994726]  ret_from_fork+0x56/0x90
[    0.995175]  ? __pfx_kernel_init+0x10/0x10
[    0.995677]  ret_from_fork_asm+0x1a/0x30
[    0.996172]  </TASK>
[    0.996446] irq event stamp: 2515
[    0.996668] hardirqs last  enabled at (2533): [<ffffffff81457bc5>] __up_console_sem+0x95/0xb0
[    0.997685] hardirqs last disabled at (2540): [<ffffffff81457baa>] __up_console_sem+0x7a/0xb0
[    0.998696] softirqs last  enabled at (2530): [<ffffffff81289009>] __irq_exit_rcu+0xa9/0x120
[    0.999691] softirqs last disabled at (2523): [<ffffffff81289009>] __irq_exit_rcu+0xa9/0x120
[    1.000674] ---[ end trace 0000000000000000 ]---
[    1.001269] Callback from call_rcu_tasks_trace() invoked.
[    1.002093] signal: max sigframe size: 3632
[    1.002979] rcu: Hierarchical SRCU implementation.
[    1.003543] rcu: 	Max phase no-delay instances is 1000.
[    1.004581] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    1.008420] NMI watchdog: Perf NMI watchdog permanently disabled
[    1.012703] smp: Bringing up secondary CPUs ...
[    1.017031] smpboot: x86: Booting SMP configuration:
[    1.017654] .... node  #0, CPUs:      #1
[    1.018124] smp: Brought up 1 node, 2 CPUs
[    1.021162] smpboot: Total of 2 processors activated (9523.20 BogoMIPS)
[    1.022997] Memory: 1552200K/2096632K available (77824K kernel code, 14985K rwdata, 17752K rodata, 15436K init, 69632K bss, 537212K reserved, 0K cma-reserved)
[    1.029141] devtmpfs: initialized
[    1.029633] x86/mm: Memory block size: 128MB
[    1.057742] Running RCU synchronous self tests
[    1.058365] Running RCU synchronous self tests
[    1.058985] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    1.060696] futex hash table entries: 512 (order: 4, 65536 bytes, linear)
[    1.062531] pinctrl core: initialized pinctrl subsystem
[    1.064693] 
[    1.064906] *************************************************************
[    1.065754] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.066596] **                                                         **
[    1.067437] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    1.068283] **                                                         **
[    1.068671] ** This means that this kernel is built to expose internal **
[    1.069489] ** IOMMU data structures, which may compromise security on **
[    1.070309] ** your system.                                            **
[    1.071128] **                                                         **
[    1.071947] ** If you see this message and you are not debugging the   **
[    1.072670] ** kernel, report this immediately to your vendor!         **
[    1.073489] **                                                         **
[    1.074315] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.075125] *************************************************************
[    1.076047] PM: RTC time: 20:23:19, date: 2024-10-01
[    1.084895] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    1.088742] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    1.089768] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.090841] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.092120] audit: initializing netlink subsys (disabled)
[    1.092911] audit: type=2000 audit(1727814199.425:1): state=initialized audit_enabled=0 res=1
[    1.096533] thermal_sys: Registered thermal governor 'fair_share'
[    1.096555] thermal_sys: Registered thermal governor 'bang_bang'
[    1.096660] thermal_sys: Registered thermal governor 'step_wise'
[    1.096686] thermal_sys: Registered thermal governor 'user_space'
[    1.097691] cpuidle: using governor ladder
[    1.100731] cpuidle: using governor menu
[    1.101937] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.102195] PCI: Using configuration type 1 for base access
[    1.105052] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    1.161324] Callback from call_rcu_tasks() invoked.
[    1.404660] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.404660] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.404660] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.404660] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.416391] ACPI: Added _OSI(Module Device)
[    1.416692] ACPI: Added _OSI(Processor Device)
[    1.417083] ACPI: Added _OSI(3.0 _SCP Extensions)
[    1.417567] ACPI: Added _OSI(Processor Aggregator Device)
[    1.432006] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.443180] ACPI: Interpreter enabled
[    1.444707] ACPI: PM: (supports S0 S3 S4 S5)
[    1.445011] ACPI: Using IOAPIC for interrupt routing
[    1.445475] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.446118] PCI: Using E820 reservations for host bridge windows
[    1.447683] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.480984] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.481435] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.481948] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.482706] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.487889] acpiphp: Slot [3] registered
[    1.488260] acpiphp: Slot [4] registered
[    1.488647] acpiphp: Slot [5] registered
[    1.488786] acpiphp: Slot [6] registered
[    1.489145] acpiphp: Slot [7] registered
[    1.489523] acpiphp: Slot [8] registered
[    1.489903] acpiphp: Slot [9] registered
[    1.490268] acpiphp: Slot [10] registered
[    1.490641] acpiphp: Slot [11] registered
[    1.491006] acpiphp: Slot [12] registered
[    1.491390] acpiphp: Slot [13] registered
[    1.491753] acpiphp: Slot [14] registered
[    1.492123] acpiphp: Slot [15] registered
[    1.492493] acpiphp: Slot [16] registered
[    1.492801] acpiphp: Slot [17] registered
[    1.493168] acpiphp: Slot [18] registered
[    1.493539] acpiphp: Slot [19] registered
[    1.493901] acpiphp: Slot [20] registered
[    1.494296] acpiphp: Slot [21] registered
[    1.494666] acpiphp: Slot [22] registered
[    1.495042] acpiphp: Slot [23] registered
[    1.495417] acpiphp: Slot [24] registered
[    1.495824] acpiphp: Slot [25] registered
[    1.496195] acpiphp: Slot [26] registered
[    1.496558] acpiphp: Slot [27] registered
[    1.496783] acpiphp: Slot [28] registered
[    1.497190] acpiphp: Slot [29] registered
[    1.497559] acpiphp: Slot [30] registered
[    1.497937] acpiphp: Slot [31] registered
[    1.498264] PCI host bridge to bus 0000:00
[    1.498595] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.499035] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.499467] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.499948] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.500424] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.500671] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.501145] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.509582] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.511399] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.513220] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.514092] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.514521] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.514918] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.515345] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.516109] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.516907] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.517376] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.518205] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.525153] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.528321] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.534121] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.535072] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.543800] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.544668] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.545549] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.547815] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.564506] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.565516] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.566670] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.567813] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.568516] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.572660] iommu: Default domain type: Translated
[    1.572660] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.575124] SCSI subsystem initialized
[    1.575937] ACPI: bus type USB registered
[    1.576390] usbcore: registered new interface driver usbfs
[    1.576739] usbcore: registered new interface driver hub
[    1.577141] usbcore: registered new device driver usb
[    1.577740] pps_core: LinuxPPS API ver. 1 registered
[    1.578059] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.578655] PTP clock support registered
[    1.579403] EDAC MC: Ver: 3.0.0
[    1.582832] NetLabel: Initializing
[    1.583068] NetLabel:  domain hash size = 128
[    1.583350] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.583845] NetLabel:  unlabeled traffic allowed by default
[    1.584895] PCI: Using ACPI for IRQ routing
[    1.585525] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.585924] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.586289] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.586826] vgaarb: loaded
[    1.587777] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.588115] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.596746] clocksource: Switched to clocksource kvm-clock
[    1.599109] VFS: Disk quotas dquot_6.6.0
[    1.599533] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.603761] pnp: PnP ACPI init
[    1.607205] pnp: PnP ACPI: found 6 devices
[    1.624014] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.625039] NET: Registered PF_INET protocol family
[    1.625632] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.627592] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.628202] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.628755] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.629754] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.632457] TCP: Hash tables configured (established 16384 bind 16384)
[    1.633060] UDP hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.633622] UDP-Lite hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.634520] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.635964] RPC: Registered named UNIX socket transport module.
[    1.636382] RPC: Registered udp transport module.
[    1.636681] RPC: Registered tcp transport module.
[    1.636979] RPC: Registered tcp-with-tls transport module.
[    1.637327] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.637763] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.638168] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.638566] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.638999] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.639453] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.640321] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.640703] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.641163] PCI: CLS 0 bytes, default 64
[    1.642106] ACPI: bus type thunderbolt registered
[    1.642767] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    3.386161] Initialise system trusted keyrings
[    3.387146] Key type blacklist registered
[    3.388556] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.389809] zbud: loaded
[    3.394492] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.398755] NFS: Registering the id_resolver key type
[    3.399708] Key type id_resolver registered
[    3.400423] Key type id_legacy registered
[    3.401190] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.402390] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.404199] fuse: init (API version 7.40)
[    3.406102] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.410429] 9p: Installing v9fs 9p2000 file system support
[    3.436867] Key type asymmetric registered
[    3.437632] Asymmetric key parser 'x509' registered
[    3.438808] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 243)
[    3.440521] io scheduler mq-deadline registered
[    3.441511] io scheduler bfq registered
[    3.444106] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4
[    3.446957] IPMI message handler: version 39.2
[    3.447918] ipmi device interface
[    3.453150] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.455491] ACPI: button: Power Button [PWRF]
[    3.459515] ERST DBG: ERST support is disabled.
[    3.462576] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.466789] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.514811] Linux agpgart interface v0.103
[    3.520098] ACPI: bus type drm_connector registered
[    3.557184] brd: module loaded
[    3.583441] loop: module loaded
[    3.601489] scsi host0: ata_piix
[    3.604157] scsi host1: ata_piix
[    3.605396] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.606455] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.611975] tun: Universal TUN/TAP device driver, 1.6
[    3.613484] e100: Intel(R) PRO/100 Network Driver
[    3.614207] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.615173] e1000: Intel(R) PRO/1000 Network Driver
[    3.615933] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    3.763878] ata1: found unknown device (class 0)
[    3.765422] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    3.766202] ata1.00: 17196647 sectors, multi 16: LBA48 
[    3.767584] ata2: found unknown device (class 0)
[    3.769159] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    3.770664] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    3.775852] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    3.777256] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    3.778770] sd 0:0:0:0: [sda] Write Protect is off
[    3.779658] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.781197] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    3.783504] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    3.816091] sd 0:0:0:0: [sda] Attached SCSI disk
[    3.817022] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    4.381402] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    4.687247] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    4.687997] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    4.688598] e1000e: Intel(R) PRO/1000 Network Driver
[    4.688921] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.689398] igb: Intel(R) Gigabit Ethernet Network Driver
[    4.689748] igb: Copyright (c) 2007-2014 Intel Corporation.
[    4.690286] PPP generic driver version 2.4.2
[    4.692019] VFIO - User Level meta-driver version: 0.3
[    4.694380] usbcore: registered new interface driver uas
[    4.694796] usbcore: registered new interface driver usb-storage
[    4.695489] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    4.697046] serio: i8042 KBD port at 0x60,0x64 irq 1
[    4.697443] serio: i8042 AUX port at 0x60,0x64 irq 12
[    4.699054] mousedev: PS/2 mouse device common for all mice
[    4.701042] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    4.701988] rtc_cmos 00:05: RTC can wake from S4
[    4.704400] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    4.704975] rtc_cmos 00:05: registered as rtc0
[    4.705821] rtc_cmos 00:05: setting system clock to 2024-10-01T20:23:22 UTC (1727814202)
[    4.706140] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    4.708253] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    4.709457] i2c_dev: i2c /dev entries driver
[    4.710273] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    4.711980] device-mapper: uevent: version 1.0.3
[    4.713460] device-mapper: ioctl: 4.48.0-ioctl (2023-03-01) initialised: dm-devel@lists.linux.dev
[    4.714676] intel_pstate: CPU model not supported
[    4.715779] sdhci: Secure Digital Host Controller Interface driver
[    4.716616] sdhci: Copyright(c) Pierre Ossman
[    4.717485] sdhci-pltfm: SDHCI platform and OF driver helper
[    4.718518] ledtrig-cpu: registered to indicate activity on CPUs
[    4.720445] drop_monitor: Initializing network drop monitor service
[    4.722320] NET: Registered PF_INET6 protocol family
[    4.730244] Segment Routing with IPv6
[    4.730896] In-situ OAM (IOAM) with IPv6
[    4.731614] NET: Registered PF_PACKET protocol family
[    4.732716] 9pnet: Installing 9P2000 support
[    4.733149] Key type dns_resolver registered
[    4.735506] IPI shorthand broadcast: enabled
[    4.770509] sched_clock: Marking stable (4752009793, 15397191)->(4825754958, -58347974)
[    4.772301] registered taskstats version 1
[    4.773199] Loading compiled-in X.509 certificates
[    4.811539] Demotion targets for Node 0: null
[    4.813495] Key type .fscrypt registered
[    4.814067] Key type fscrypt-provisioning registered
[    4.818646] Key type encrypted registered
[    4.819036] ima: No TPM chip found, activating TPM-bypass!
[    4.819511] ima: Allocated hash algorithm: sha1
[    4.820002] ima: No architecture policies found
[    4.820628] evm: Initialising EVM extended attributes:
[    4.821033] evm: security.selinux
[    4.821302] evm: security.SMACK64
[    4.821567] evm: security.SMACK64EXEC
[    4.821857] evm: security.SMACK64TRANSMUTE
[    4.822178] evm: security.SMACK64MMAP
[    4.822473] evm: security.apparmor
[    4.822748] evm: security.ima
[    4.822985] evm: security.capability
[    4.823269] evm: HMAC attrs: 0x1
[    4.825681] PM:   Magic number: 12:45:396
[    4.827473] RAS: Correctable Errors collector initialized.
[    4.829208] clk: Disabling unused clocks
[    4.829890] PM: genpd: Disabling unused power domains
[    4.831827] md: Waiting for all devices to be available before autodetect
[    4.832493] md: If you don't use raid, use raid=noautodetect
[    4.833047] md: Autodetecting RAID arrays.
[    4.833462] md: autorun ...
[    4.833753] md: ... autorun DONE.
[    4.855518] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    4.856291] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    4.859819] devtmpfs: mounted
[    4.875338] Freeing unused decrypted memory: 2028K
[    4.883460] Freeing unused kernel image (initmem) memory: 15436K
[    4.883929] Write protecting the kernel read-only data: 96256k
[    4.886085] Freeing unused kernel image (rodata/data gap) memory: 680K
[    4.948692] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    4.949031] Run /sbin/init as init process
[    5.221349] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    5.224581] systemd[1]: Detected virtualization kvm.
[    5.225106] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    5.234494] systemd[1]: Hostname set to <test>.
[    5.654409] systemd-rc-local-generator[129]: /etc/rc.d/rc.local is not marked executable, skipping.
[    6.115451] systemd[1]: Queued start job for default target Multi-User System.
[    6.161412] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    6.171786] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    6.177017] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    6.182960] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    6.188563] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    6.193325] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    6.195833] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password Râ€¦uests to Wall Directory Watch[0m.
[    6.200088] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitraryâ€¦s File System Automount Point[0m.
[    6.202761] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    6.205069] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    6.206696] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    6.208217] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    6.210865] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    6.214581] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    6.217051] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    6.328015] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    6.330242] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    6.336943] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    6.339585] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    6.342831] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    6.345820] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    6.348802] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    6.351149] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    6.400159] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    6.416528] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    6.440250] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    6.456319] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    6.464239] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    6.465900] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.11.0-617a814f14b8+/modules.devname).
[    6.496693] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVMâ€¦meventd or progress polling[0m...
[    6.511115] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    6.527176] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    6.584885] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    6.610672] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS â€¦from /etc/sysconfig/network[0m...
[    6.652667] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    6.680743] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    6.704581] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network â€¦ts from Kernel command line[0m...
[    6.740784] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    6.743194] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    6.800199] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    6.821948] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    6.823569] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    6.827905] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    6.829301] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    6.835761] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVMâ€¦ dmeventd or progress polling[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS â€¦e from /etc/sysconfig/network[0m.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    6.860317] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w. Quota mode: none.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
         Mounting [0;1;39mFUSE Control File System[0m...
         Mounting [0;1;39mKernel Configuration File System[0m...
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mApply Kernel Variables[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
[    7.032236] systemd-journald[147]: Received client request to flush runtime journal.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manageâ€¦for Device Events and Files[0m...
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
         Starting [0;1;39mWait for udev To â€¦plete Device Initialization[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
         Starting [0;1;39mAuto-connect to sâ€¦E devices found during boot[0m...
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password â€¦ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to sâ€¦VME devices found during boot[0m.
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF â€¦itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberosâ€¦ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine aâ€¦tainer Registration Service[0m...
         Starting [0;1;39mupdate of the rooâ€¦NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine anâ€¦ontainer Registration Service[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the rooâ€¦ DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[   11.008475] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.11.0-617a814f14b8+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   23.980502] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#1] PREEMPT SMP KASAN NOPTI
[   23.981609] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   23.982285] CPU: 1 UID: 0 PID: 749 Comm: repro Tainted: G        W          6.11.0-617a814f14b8+ #1
[   23.983084] Tainted: [W]=WARN
[   23.983381] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   23.984416] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   23.984989] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   23.986655] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   23.987152] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   23.987813] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   23.988474] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   23.989124] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   23.989776] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   23.990428] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   23.991163] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   23.991705] CR2: 00007f17bd5fca50 CR3: 000000000ecd4003 CR4: 0000000000770ef0
[   23.992362] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   23.993020] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   23.993677] PKRU: 55555554
[   23.993938] Call Trace:
[   23.994179]  <TASK>
[   23.994392]  ? show_regs+0x6d/0x80
[   23.994746]  ? die_addr+0x45/0xb0
[   23.995087]  ? exc_general_protection+0x1ae/0x340
[   23.995565]  ? asm_exc_general_protection+0x2b/0x30
[   23.996056]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   23.996541]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   23.997034]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   23.997535]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   23.998028]  zap_huge_pmd+0x48e/0xd40
[   23.998405]  unmap_page_range+0x1ad6/0x4360
[   23.998834]  ? __pfx_unmap_page_range+0x10/0x10
[   23.999284]  ? __this_cpu_preempt_check+0x21/0x30
[   23.999755]  unmap_single_vma+0x1ac/0x2d0
[   24.000157]  unmap_vmas+0x210/0x470
[   24.000515]  ? __pfx_unmap_vmas+0x10/0x10
[   24.000911]  ? __pfx_lock_release+0x10/0x10
[   24.001326]  ? lock_release+0x441/0x870
[   24.001707]  ? __pfx_lock_release+0x10/0x10
[   24.002126]  ? mlock_drain_local+0x27f/0x4b0
[   24.002563]  exit_mmap+0x19e/0xb10
[   24.002907]  ? __pfx_exit_mmap+0x10/0x10
[   24.003299]  ? trace_hardirqs_on+0x51/0x60
[   24.003712]  ? kasan_quarantine_put+0xa2/0x200
[   24.004155]  ? __khugepaged_exit+0x266/0x4c0
[   24.004581]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.005101]  __mmput+0xde/0x3a0
[   24.005435]  mmput+0x74/0x90
[   24.005735]  do_exit+0xa03/0x29f0
[   24.006072]  ? lockdep_hardirqs_on+0x89/0x110
[   24.006503]  ? trace_hardirqs_on+0x51/0x60
[   24.006901]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   24.007510]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   24.007972]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   24.008454]  ? __pfx_do_exit+0x10/0x10
[   24.008843]  ? __audit_syscall_entry+0x39c/0x500
[   24.009297]  __x64_sys_exit+0x50/0x60
[   24.009663]  x64_sys_call+0x20c9/0x20d0
[   24.010041]  do_syscall_64+0x6d/0x140
[   24.010410]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.010892] RIP: 0033:0x7f17bd43ee5d
[   24.011238] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.011805] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.012513] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.013162] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.013807] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.014468] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.015125] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.015791]  </TASK>
[   24.016008] Modules linked in:
[   24.016478] ---[ end trace 0000000000000000 ]---
[   24.016946] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.017512] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.019187] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   24.019706] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   24.020369] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   24.021018] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   24.021693] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   24.022356] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   24.023010] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   24.023774] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.024315] CR2: 00007f17bd5fca50 CR3: 000000000ecd4003 CR4: 0000000000770ef0
[   24.024987] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.025646] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.026305] PKRU: 55555554
[   24.026571] note: repro[749] exited with preempt_count 1
[   24.027064] Fixing recursive fault but reboot is needed!
[   24.027591] BUG: using smp_processor_id() in preemptible [00000000] code: repro/749
[   24.028308] caller is debug_smp_processor_id+0x20/0x30
[   24.028812] CPU: 1 UID: 0 PID: 749 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.029659] Tainted: [D]=DIE, [W]=WARN
[   24.030019] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.031044] Call Trace:
[   24.031289]  <TASK>
[   24.031506]  dump_stack_lvl+0x121/0x150
[   24.031897]  dump_stack+0x19/0x20
[   24.032231]  check_preemption_disabled+0x168/0x180
[   24.032703]  debug_smp_processor_id+0x20/0x30
[   24.033133]  __schedule+0xa0/0x33a0
[   24.033486]  ? do_task_dead+0xa8/0x110
[   24.033856]  ? debug_smp_processor_id+0x20/0x30
[   24.034307]  ? rcu_is_watching+0x19/0xc0
[   24.034702]  ? lock_release+0x592/0x870
[   24.035078]  ? __pfx___schedule+0x10/0x10
[   24.035482]  ? debug_smp_processor_id+0x20/0x30
[   24.035933]  ? rcu_is_watching+0x19/0xc0
[   24.036327]  ? trace_irq_enable+0xe1/0x120
[   24.036729]  ? do_task_dead+0x4a/0x110
[   24.037092]  do_task_dead+0xe0/0x110
[   24.037442]  make_task_dead+0x384/0x3c0
[   24.037832]  rewind_stack_and_make_dead+0x16/0x20
[   24.038293] RIP: 0033:0x7f17bd43ee5d
[   24.038641] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.039211] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.039914] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.040569] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.041215] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.041866] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.042529] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.043190]  </TASK>
[   24.043468] BUG: scheduling while atomic: repro/749/0x00000000
[   24.044020] INFO: lockdep is turned off.
[   24.044404] Modules linked in:
[   24.044701] Preemption disabled at:
[   24.044707] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   24.045542] CPU: 1 UID: 0 PID: 749 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.046390] Tainted: [D]=DIE, [W]=WARN
[   24.046747] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.047771] Call Trace:
[   24.048011]  <TASK>
[   24.048223]  dump_stack_lvl+0x121/0x150
[   24.048608]  ? do_task_dead+0x28/0x110
[   24.048968]  dump_stack+0x19/0x20
[   24.049306]  __schedule_bug+0x12d/0x180
[   24.049699]  __schedule+0x2401/0x33a0
[   24.050068]  ? do_task_dead+0xa8/0x110
[   24.050438]  ? rcu_is_watching+0x19/0xc0
[   24.050820]  ? lock_release+0x592/0x870
[   24.051202]  ? __pfx___schedule+0x10/0x10
[   24.051603]  ? debug_smp_processor_id+0x20/0x30
[   24.052053]  ? rcu_is_watching+0x19/0xc0
[   24.052447]  ? trace_irq_enable+0xe1/0x120
[   24.052851]  ? do_task_dead+0x4a/0x110
[   24.053216]  do_task_dead+0xe0/0x110
[   24.053568]  make_task_dead+0x384/0x3c0
[   24.053954]  rewind_stack_and_make_dead+0x16/0x20
[   24.054406] RIP: 0033:0x7f17bd43ee5d
[   24.054754] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.055320] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.056016] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.056669] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.057321] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.057969] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.058625] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.059294]  </TASK>
[   24.287737] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#2] PREEMPT SMP KASAN NOPTI
[   24.288855] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   24.289595] CPU: 0 UID: 0 PID: 876 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.290803] Tainted: [D]=DIE, [W]=WARN
[   24.291153] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.292169] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.292719] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.294348] RSP: 0018:ffff8880261977d8 EFLAGS: 00010202
[   24.294943] RAX: dffffc0000000000 RBX: ffffea000059b8c0 RCX: ffffffff81bbb789
[   24.295591] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000059b8d0
[   24.296231] RBP: ffff8880261977f8 R08: 0000000000000000 R09: ffffed100310a8f0
[   24.297055] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   24.297698] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888018854780
[   24.298343] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.299073] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.299604] CR2: 00007f17bd71ebf0 CR3: 00000000146c8005 CR4: 0000000000770ef0
[   24.300244] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.301119] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.301763] PKRU: 55555554
[   24.302024] Call Trace:
[   24.302264]  <TASK>
[   24.302479]  ? show_regs+0x6d/0x80
[   24.302826]  ? die_addr+0x45/0xb0
[   24.303164]  ? exc_general_protection+0x1ae/0x340
[   24.303638]  ? asm_exc_general_protection+0x2b/0x30
[   24.304147]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   24.305108]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.305626]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   24.306137]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.306648]  zap_huge_pmd+0x48e/0xd40
[   24.307033]  unmap_page_range+0x1ad6/0x4360
[   24.307459]  ? __pfx_lock_release+0x10/0x10
[   24.307865]  ? do_raw_spin_trylock+0xbf/0x190
[   24.308297]  ? __kasan_check_read+0x15/0x20
[   24.308714]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   24.309217]  ? __pfx_unmap_page_range+0x10/0x10
[   24.309713]  unmap_single_vma+0x1ac/0x2d0
[   24.310135]  unmap_vmas+0x210/0x470
[   24.310690]  ? __pfx_unmap_vmas+0x10/0x10
[   24.311260]  ? __pfx_lock_release+0x10/0x10
[   24.311669]  ? lock_release+0x592/0x870
[   24.312046]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   24.312533]  ? __pfx_lock_release+0x10/0x10
[   24.312940]  ? mlock_drain_local+0x27f/0x4b0
[   24.313358]  exit_mmap+0x19e/0xb10
[   24.313704]  ? __pfx_exit_mmap+0x10/0x10
[   24.314090]  ? debug_smp_processor_id+0x20/0x30
[   24.314546]  ? trace_hardirqs_on+0x51/0x60
[   24.315183]  ? kasan_quarantine_put+0xa2/0x200
[   24.315659]  ? __khugepaged_exit+0x266/0x4c0
[   24.316093]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.316604]  __mmput+0xde/0x3a0
[   24.316920]  mmput+0x74/0x90
[   24.317213]  do_exit+0xa03/0x29f0
[   24.317551]  ? trace_hardirqs_on+0x51/0x60
[   24.317949]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   24.318544]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   24.319471]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   24.320036]  ? __pfx_do_exit+0x10/0x10
[   24.320483]  ? __audit_syscall_entry+0x39c/0x500
[   24.320982]  __x64_sys_exit+0x50/0x60
[   24.321397]  x64_sys_call+0x20c9/0x20d0
[   24.321812]  do_syscall_64+0x6d/0x140
[   24.322185]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.322698] RIP: 0033:0x7f17bd43ee5d
[   24.323053] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.323614] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.324321] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.324979] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.326008] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.326692] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.327352] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.328016]  </TASK>
[   24.328245] Modules linked in:
[   24.328814] ---[ end trace 0000000000000000 ]---
[   24.329283] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.329894] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.331803] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   24.332361] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   24.333016] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   24.333673] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   24.334358] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   24.335019] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   24.336081] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.336819] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.337372] CR2: 00007f17bd71ebf0 CR3: 00000000146c8005 CR4: 0000000000770ef0
[   24.338036] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.338705] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.339428] PKRU: 55555554
[   24.339857] note: repro[876] exited with preempt_count 1
[   24.340459] Fixing recursive fault but reboot is needed!
[   24.340939] BUG: using smp_processor_id() in preemptible [00000000] code: repro/876
[   24.341666] caller is debug_smp_processor_id+0x20/0x30
[   24.342166] CPU: 0 UID: 0 PID: 876 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.342986] Tainted: [D]=DIE, [W]=WARN
[   24.343386] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.344929] Call Trace:
[   24.345173]  <TASK>
[   24.345394]  dump_stack_lvl+0x121/0x150
[   24.345774]  dump_stack+0x19/0x20
[   24.346105]  check_preemption_disabled+0x168/0x180
[   24.346576]  debug_smp_processor_id+0x20/0x30
[   24.347008]  __schedule+0xa0/0x33a0
[   24.347367]  ? do_task_dead+0xa8/0x110
[   24.347732]  ? debug_smp_processor_id+0x20/0x30
[   24.348440]  ? rcu_is_watching+0x19/0xc0
[   24.348827]  ? lock_release+0x592/0x870
[   24.349209]  ? __pfx___schedule+0x10/0x10
[   24.349616]  ? debug_smp_processor_id+0x20/0x30
[   24.350061]  ? rcu_is_watching+0x19/0xc0
[   24.350450]  ? trace_irq_enable+0xe1/0x120
[   24.350861]  ? do_task_dead+0x4a/0x110
[   24.351227]  do_task_dead+0xe0/0x110
[   24.351583]  make_task_dead+0x384/0x3c0
[   24.352159]  rewind_stack_and_make_dead+0x16/0x20
[   24.352745] RIP: 0033:0x7f17bd43ee5d
[   24.353107] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.353717] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.354407] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.355051] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.355702] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.356344] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.356980] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.357643]  </TASK>
[   24.357996] BUG: scheduling while atomic: repro/876/0x00000000
[   24.358823] INFO: lockdep is turned off.
[   24.359186] Modules linked in:
[   24.359572] Preemption disabled at:
[   24.359580] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   24.360418] CPU: 0 UID: 0 PID: 876 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.361238] Tainted: [D]=DIE, [W]=WARN
[   24.361593] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.362810] Call Trace:
[   24.363073]  <TASK>
[   24.363293]  dump_stack_lvl+0x121/0x150
[   24.363676]  ? do_task_dead+0x28/0x110
[   24.364041]  dump_stack+0x19/0x20
[   24.364381]  __schedule_bug+0x12d/0x180
[   24.364765]  __schedule+0x2401/0x33a0
[   24.365130]  ? do_task_dead+0xa8/0x110
[   24.365516]  ? rcu_is_watching+0x19/0xc0
[   24.365923]  ? lock_release+0x592/0x870
[   24.366351]  ? __pfx___schedule+0x10/0x10
[   24.367006]  ? debug_smp_processor_id+0x20/0x30
[   24.367470]  ? rcu_is_watching+0x19/0xc0
[   24.367857]  ? trace_irq_enable+0xe1/0x120
[   24.368268]  ? do_task_dead+0x4a/0x110
[   24.368660]  do_task_dead+0xe0/0x110
[   24.369014]  make_task_dead+0x384/0x3c0
[   24.369404]  rewind_stack_and_make_dead+0x16/0x20
[   24.369854] RIP: 0033:0x7f17bd43ee5d
[   24.370200] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.371085] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.371819] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.372478] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.373124] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.373771] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.374436] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.375110]  </TASK>
[   24.712718] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#3] PREEMPT SMP KASAN NOPTI
[   24.713820] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   24.714511] CPU: 0 UID: 0 PID: 1092 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.715345] Tainted: [D]=DIE, [W]=WARN
[   24.715697] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.716701] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.717241] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.718864] RSP: 0018:ffff88802a87f7d8 EFLAGS: 00010202
[   24.719348] RAX: dffffc0000000000 RBX: ffffea0000778600 RCX: ffffffff81bbb789
[   24.719991] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000778610
[   24.720635] RBP: ffff88802a87f7f8 R08: 0000000000000000 R09: ffffed1003b844d8
[   24.721276] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   24.721916] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801dc226c0
[   24.722558] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.723275] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.723805] CR2: 00007fffef6677b8 CR3: 000000001898e001 CR4: 0000000000770ef0
[   24.724457] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.725102] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.725743] PKRU: 55555554
[   24.726002] Call Trace:
[   24.726237]  <TASK>
[   24.726447]  ? show_regs+0x6d/0x80
[   24.726785]  ? die_addr+0x45/0xb0
[   24.727115]  ? exc_general_protection+0x1ae/0x340
[   24.727569]  ? asm_exc_general_protection+0x2b/0x30
[   24.728052]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   24.728539]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.729075]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   24.729583]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   24.730069]  zap_huge_pmd+0x48e/0xd40
[   24.730434]  unmap_page_range+0x1ad6/0x4360
[   24.730900]  ? update_stack_state+0x2d9/0x610
[   24.731447]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   24.731924]  ? __pfx_unmap_page_range+0x10/0x10
[   24.732374]  unmap_single_vma+0x1ac/0x2d0
[   24.732764]  unmap_vmas+0x210/0x470
[   24.733112]  ? __pfx_unmap_vmas+0x10/0x10
[   24.733500]  ? __pfx_lock_release+0x10/0x10
[   24.733940]  ? lock_release+0x592/0x870
[   24.734443]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   24.735080]  ? __pfx_lock_release+0x10/0x10
[   24.735562]  ? mlock_drain_local+0x27f/0x4b0
[   24.735976]  exit_mmap+0x19e/0xb10
[   24.736325]  ? __pfx_exit_mmap+0x10/0x10
[   24.736706]  ? debug_smp_processor_id+0x20/0x30
[   24.737145]  ? trace_hardirqs_on+0x51/0x60
[   24.737546]  ? kasan_quarantine_put+0xa2/0x200
[   24.737972]  ? __khugepaged_exit+0x266/0x4c0
[   24.738390]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   24.738893]  __mmput+0xde/0x3a0
[   24.739208]  mmput+0x74/0x90
[   24.739503]  do_exit+0xa03/0x29f0
[   24.739834]  ? trace_hardirqs_on+0x51/0x60
[   24.740231]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   24.740823]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   24.741286]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   24.741754]  ? __pfx_do_exit+0x10/0x10
[   24.742121]  ? __audit_syscall_entry+0x39c/0x500
[   24.742578]  __x64_sys_exit+0x50/0x60
[   24.742937]  x64_sys_call+0x20c9/0x20d0
[   24.743313]  do_syscall_64+0x6d/0x140
[   24.743747]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   24.744227] RIP: 0033:0x7f17bd43ee5d
[   24.744574] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.745142] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.745997] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.746647] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.747291] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.747929] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.748576] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.749233]  </TASK>
[   24.749453] Modules linked in:
[   24.749920] ---[ end trace 0000000000000000 ]---
[   24.750360] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.750901] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.752717] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   24.753207] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   24.753856] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   24.754503] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   24.755149] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   24.755961] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   24.756726] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   24.757462] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   24.757990] CR2: 00007fffef6677b8 CR3: 000000001898e001 CR4: 0000000000770ef0
[   24.758661] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   24.759316] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   24.760049] PKRU: 55555554
[   24.760396] note: repro[1092] exited with preempt_count 1
[   24.761117] Fixing recursive fault but reboot is needed!
[   24.761612] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1092
[   24.762312] caller is debug_smp_processor_id+0x20/0x30
[   24.763041] CPU: 0 UID: 0 PID: 1092 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.763948] Tainted: [D]=DIE, [W]=WARN
[   24.764331] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.765383] Call Trace:
[   24.765623]  <TASK>
[   24.765834]  dump_stack_lvl+0x121/0x150
[   24.766210]  dump_stack+0x19/0x20
[   24.766556]  check_preemption_disabled+0x168/0x180
[   24.767023]  debug_smp_processor_id+0x20/0x30
[   24.767453]  __schedule+0xa0/0x33a0
[   24.767800]  ? do_task_dead+0xa8/0x110
[   24.768161]  ? debug_smp_processor_id+0x20/0x30
[   24.768604]  ? rcu_is_watching+0x19/0xc0
[   24.768986]  ? lock_release+0x592/0x870
[   24.769365]  ? __pfx___schedule+0x10/0x10
[   24.769758]  ? debug_smp_processor_id+0x20/0x30
[   24.770234]  ? rcu_is_watching+0x19/0xc0
[   24.770742]  ? trace_irq_enable+0xe1/0x120
[   24.771144]  ? do_task_dead+0x4a/0x110
[   24.771565]  do_task_dead+0xe0/0x110
[   24.771950]  make_task_dead+0x384/0x3c0
[   24.772415]  rewind_stack_and_make_dead+0x16/0x20
[   24.772995] RIP: 0033:0x7f17bd43ee5d
[   24.773344] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.773902] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.774596] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.775332] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.776124] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.776777] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.777426] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.778123]  </TASK>
[   24.778597] BUG: scheduling while atomic: repro/1092/0x00000000
[   24.779152] INFO: lockdep is turned off.
[   24.779654] Modules linked in:
[   24.779958] Preemption disabled at:
[   24.779964] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   24.780790] CPU: 0 UID: 0 PID: 1092 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.781621] Tainted: [D]=DIE, [W]=WARN
[   24.781970] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.782989] Call Trace:
[   24.783230]  <TASK>
[   24.783447]  dump_stack_lvl+0x121/0x150
[   24.783822]  ? do_task_dead+0x28/0x110
[   24.784185]  dump_stack+0x19/0x20
[   24.784517]  __schedule_bug+0x12d/0x180
[   24.784896]  __schedule+0x2401/0x33a0
[   24.785257]  ? do_task_dead+0xa8/0x110
[   24.785622]  ? rcu_is_watching+0x19/0xc0
[   24.786005]  ? lock_release+0x592/0x870
[   24.786382]  ? __pfx___schedule+0x10/0x10
[   24.786775]  ? debug_smp_processor_id+0x20/0x30
[   24.787214]  ? rcu_is_watching+0x19/0xc0
[   24.787600]  ? trace_irq_enable+0xe1/0x120
[   24.788000]  ? do_task_dead+0x4a/0x110
[   24.788366]  do_task_dead+0xe0/0x110
[   24.788713]  make_task_dead+0x384/0x3c0
[   24.789121]  rewind_stack_and_make_dead+0x16/0x20
[   24.789627] RIP: 0033:0x7f17bd43ee5d
[   24.789973] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   24.790582] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   24.791302] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   24.791950] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   24.792599] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   24.793244] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   24.793891] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   24.794554]  </TASK>
[   24.992484] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#4] PREEMPT SMP KASAN NOPTI
[   24.993733] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   24.994493] CPU: 1 UID: 0 PID: 1234 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   24.995323] Tainted: [D]=DIE, [W]=WARN
[   24.995674] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   24.996676] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   24.997221] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   24.998854] RSP: 0018:ffff88801a8077d8 EFLAGS: 00010202
[   24.999382] RAX: dffffc0000000000 RBX: ffffea0000598f80 RCX: ffffffff81bbb789
[   25.000313] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000598f90
[   25.000956] RBP: ffff88801a8077f8 R08: 0000000000000000 R09: ffffed10026d9c9c
[   25.001617] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   25.002256] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880136ce4e0
[   25.002897] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   25.003619] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.004139] CR2: 00007fffef6677b8 CR3: 000000001311e004 CR4: 0000000000770ef0
[   25.004784] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.005449] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.006090] PKRU: 55555554
[   25.006353] Call Trace:
[   25.006592]  <TASK>
[   25.006803]  ? show_regs+0x6d/0x80
[   25.007151]  ? die_addr+0x45/0xb0
[   25.007493]  ? exc_general_protection+0x1ae/0x340
[   25.008178]  ? asm_exc_general_protection+0x2b/0x30
[   25.008738]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.009223]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.009712]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.010193]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.010681]  zap_huge_pmd+0x48e/0xd40
[   25.011048]  unmap_page_range+0x1ad6/0x4360
[   25.011452]  ? __pfx_lock_release+0x10/0x10
[   25.011851]  ? do_raw_spin_trylock+0xbf/0x190
[   25.012272]  ? __kasan_check_read+0x15/0x20
[   25.012687]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.013165]  ? __pfx_unmap_page_range+0x10/0x10
[   25.013621]  unmap_single_vma+0x1ac/0x2d0
[   25.014215]  unmap_vmas+0x210/0x470
[   25.014711]  ? __pfx_unmap_vmas+0x10/0x10
[   25.015102]  ? __pfx_lock_release+0x10/0x10
[   25.015509]  ? lock_release+0x592/0x870
[   25.015884]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   25.016355]  ? __pfx_lock_release+0x10/0x10
[   25.016761]  ? mlock_drain_local+0x27f/0x4b0
[   25.017177]  exit_mmap+0x19e/0xb10
[   25.017525]  ? __pfx_exit_mmap+0x10/0x10
[   25.017908]  ? debug_smp_processor_id+0x20/0x30
[   25.018358]  ? trace_hardirqs_on+0x51/0x60
[   25.018759]  ? kasan_quarantine_put+0xa2/0x200
[   25.019204]  ? __khugepaged_exit+0x266/0x4c0
[   25.019632]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.020140]  __mmput+0xde/0x3a0
[   25.020461]  mmput+0x74/0x90
[   25.020754]  do_exit+0xa03/0x29f0
[   25.021089]  ? trace_hardirqs_on+0x51/0x60
[   25.021494]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.022085]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.022776]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.023275]  ? __pfx_do_exit+0x10/0x10
[   25.023652]  ? __audit_syscall_entry+0x39c/0x500
[   25.024100]  __x64_sys_exit+0x50/0x60
[   25.024469]  x64_sys_call+0x20c9/0x20d0
[   25.024840]  do_syscall_64+0x6d/0x140
[   25.025202]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.025683] RIP: 0033:0x7f17bd43ee5d
[   25.026026] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.026576] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.027258] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.027898] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.028537] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.029379] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.030020] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.030677]  </TASK>
[   25.030894] Modules linked in:
[   25.031236] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#5] PREEMPT SMP KASAN NOPTI
[   25.031381] ---[ end trace 0000000000000000 ]---
[   25.032391] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   25.032408] CPU: 0 UID: 0 PID: 1246 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.032434] Tainted: [D]=DIE, [W]=WARN
[   25.032440] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.032450] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.032476] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.032900] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.033568] RSP: 0018:ffff88801dd7f7d8 EFLAGS: 00010202
[   25.034496] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.034759] 
[   25.034764] RAX: dffffc0000000000 RBX: ffffea00006a1800 RCX: ffffffff81bbb789
[   25.035949] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   25.036448] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006a1810
[   25.038072] 
[   25.038078] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   25.038787] RBP: ffff88801dd7f7f8 R08: 0000000000000000 R09: ffffed1002c951b0
[   25.039264] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   25.040859] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   25.040871] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880164a8d80
[   25.041027] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   25.041657] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.042123] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.042749] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.042901] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   25.043533] CR2: 00007f17bd49bc20 CR3: 000000001c128005 CR4: 0000000000770ef0
[   25.043549] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.044189] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   25.044822] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.045451] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.046073] PKRU: 55555554
[   25.046728] CR2: 00007fffef6677b8 CR3: 000000001311e004 CR4: 0000000000770ef0
[   25.047437] Call Trace:
[   25.047443]  <TASK>
[   25.047452]  ? show_regs+0x6d/0x80
[   25.048083] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.048599]  ? die_addr+0x45/0xb0
[   25.049255] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.049941]  ? exc_general_protection+0x1ae/0x340
[   25.050571] PKRU: 55555554
[   25.051415]  ? asm_exc_general_protection+0x2b/0x30
[   25.052059] note: repro[1234] exited with preempt_count 1
[   25.052577]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.052837] Fixing recursive fault but reboot is needed!
[   25.053529]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.053768] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1234
[   25.053971]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.054282] caller is debug_smp_processor_id+0x20/0x30
[   25.054907]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.055215] CPU: 1 UID: 0 PID: 1234 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.055845]  zap_huge_pmd+0x48e/0xd40
[   25.056271] Tainted: [D]=DIE, [W]=WARN
[   25.056530]  unmap_page_range+0x1ad6/0x4360
[   25.056957] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.057442]  ? update_stack_state+0x2d9/0x610
[   25.057894] Call Trace:
[   25.058381]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.058827]  <TASK>
[   25.059514]  ? __pfx_unmap_page_range+0x10/0x10
[   25.059968]  dump_stack_lvl+0x121/0x150
[   25.060569]  unmap_single_vma+0x1ac/0x2d0
[   25.061014]  dump_stack+0x19/0x20
[   25.061825]  unmap_vmas+0x210/0x470
[   25.062140]  check_preemption_disabled+0x168/0x180
[   25.062491]  ? __pfx_unmap_vmas+0x10/0x10
[   25.062845]  debug_smp_processor_id+0x20/0x30
[   25.063838]  ? __pfx_lock_release+0x10/0x10
[   25.064214]  __schedule+0xa0/0x33a0
[   25.064447]  ? lock_release+0x592/0x870
[   25.064875]  ? do_task_dead+0xa8/0x110
[   25.065078]  ? mas_next_slot+0x133a/0x1a50
[   25.065474]  ? debug_smp_processor_id+0x20/0x30
[   25.065821]  ? __pfx_lock_release+0x10/0x10
[   25.066162]  ? rcu_is_watching+0x19/0xc0
[   25.066476]  ? mlock_drain_local+0x27f/0x4b0
[   25.066777]  ? lock_release+0x592/0x870
[   25.067210]  exit_mmap+0x19e/0xb10
[   25.067551]  ? __pfx___schedule+0x10/0x10
[   25.067949]  ? __pfx_exit_mmap+0x10/0x10
[   25.068298]  ? debug_smp_processor_id+0x20/0x30
[   25.068614]  ? debug_smp_processor_id+0x20/0x30
[   25.068926]  ? rcu_is_watching+0x19/0xc0
[   25.069272]  ? trace_hardirqs_on+0x51/0x60
[   25.069602]  ? trace_irq_enable+0xe1/0x120
[   25.070007]  ? kasan_quarantine_put+0xa2/0x200
[   25.070351]  ? do_task_dead+0x4a/0x110
[   25.070710]  ? __khugepaged_exit+0x266/0x4c0
[   25.071052]  do_task_dead+0xe0/0x110
[   25.071404]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.071681]  make_task_dead+0x384/0x3c0
[   25.072049]  __mmput+0xde/0x3a0
[   25.072371]  rewind_stack_and_make_dead+0x16/0x20
[   25.072778]  mmput+0x74/0x90
[   25.073144] RIP: 0033:0x7f17bd43ee5d
[   25.073504]  do_exit+0xa03/0x29f0
[   25.073835] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.074205]  ? trace_hardirqs_on+0x51/0x60
[   25.074566] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   25.074907]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.075256]  ORIG_RAX: 000000000000003c
[   25.075586]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.076003] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.076355]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.076606] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.077138]  ? __pfx_do_exit+0x10/0x10
[   25.077372] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.077747]  ? __audit_syscall_entry+0x39c/0x500
[   25.078006] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.078724]  __x64_sys_exit+0x50/0x60
[   25.079033] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.079576]  x64_sys_call+0x20c9/0x20d0
[   25.080060]  </TASK>
[   25.080496]  do_syscall_64+0x6d/0x140
[   25.086424]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.086909] RIP: 0033:0x7f17bd43ee5d
[   25.087252] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.087811] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.088504] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.089143] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.089789] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.090434] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.091595] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.092436]  </TASK>
[   25.092715] Modules linked in:
[   25.093229] ---[ end trace 0000000000000000 ]---
[   25.093671] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.094219] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.096054] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   25.096646] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   25.097522] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   25.098190] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   25.098920] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.099616] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   25.100340] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.101223] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.101889] CR2: 00007f17bd49bc20 CR3: 000000001c128005 CR4: 0000000000770ef0
[   25.102594] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.103244] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.103918] PKRU: 55555554
[   25.104194] note: repro[1246] exited with preempt_count 1
[   25.104693] Fixing recursive fault but reboot is needed!
[   25.105173] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1246
[   25.105880] caller is debug_smp_processor_id+0x20/0x30
[   25.106376] CPU: 0 UID: 0 PID: 1246 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.107201] Tainted: [D]=DIE, [W]=WARN
[   25.107563] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.108578] Call Trace:
[   25.108819]  <TASK>
[   25.109031]  dump_stack_lvl+0x121/0x150
[   25.109411]  dump_stack+0x19/0x20
[   25.109738]  check_preemption_disabled+0x168/0x180
[   25.110238]  debug_smp_processor_id+0x20/0x30
[   25.110750]  __schedule+0xa0/0x33a0
[   25.111202]  ? do_task_dead+0xa8/0x110
[   25.111569]  ? debug_smp_processor_id+0x20/0x30
[   25.112008]  ? rcu_is_watching+0x19/0xc0
[   25.112394]  ? lock_release+0x592/0x870
[   25.112766]  ? __pfx___schedule+0x10/0x10
[   25.113161]  ? debug_smp_processor_id+0x20/0x30
[   25.113603]  ? rcu_is_watching+0x19/0xc0
[   25.113983]  ? trace_irq_enable+0xe1/0x120
[   25.114389]  ? do_task_dead+0x4a/0x110
[   25.114750]  do_task_dead+0xe0/0x110
[   25.115097]  make_task_dead+0x384/0x3c0
[   25.115478]  rewind_stack_and_make_dead+0x16/0x20
[   25.115924] RIP: 0033:0x7f17bd43ee5d
[   25.116269] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.116832] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.117577] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.118237] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.119010] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.119694] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.120342] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.121003]  </TASK>
[   25.121283] BUG: scheduling while atomic: repro/1246/0x00000000
[   25.121832] INFO: lockdep is turned off.
[   25.122194] Modules linked in:
[   25.122492] Preemption disabled at:
[   25.122497] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   25.123329] CPU: 0 UID: 0 PID: 1246 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.124159] Tainted: [D]=DIE, [W]=WARN
[   25.124511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.125519] Call Trace:
[   25.125757]  <TASK>
[   25.125968]  dump_stack_lvl+0x121/0x150
[   25.126344]  ? do_task_dead+0x28/0x110
[   25.126703]  dump_stack+0x19/0x20
[   25.127032]  __schedule_bug+0x12d/0x180
[   25.127414]  __schedule+0x2401/0x33a0
[   25.127774]  ? do_task_dead+0xa8/0x110
[   25.128137]  ? rcu_is_watching+0x19/0xc0
[   25.128520]  ? lock_release+0x592/0x870
[   25.128892]  ? __pfx___schedule+0x10/0x10
[   25.129288]  ? debug_smp_processor_id+0x20/0x30
[   25.129723]  ? rcu_is_watching+0x19/0xc0
[   25.130102]  ? trace_irq_enable+0xe1/0x120
[   25.130502]  ? do_task_dead+0x4a/0x110
[   25.130863]  do_task_dead+0xe0/0x110
[   25.131210]  make_task_dead+0x384/0x3c0
[   25.131591]  rewind_stack_and_make_dead+0x16/0x20
[   25.132039] RIP: 0033:0x7f17bd43ee5d
[   25.132382] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.132940] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.133630] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.134275] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.134924] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.135571] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.136213] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.136935]  </TASK>
[   25.293457] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#6] PREEMPT SMP KASAN NOPTI
[   25.294982] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   25.295898] CPU: 1 UID: 0 PID: 1362 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.297012] Tainted: [D]=DIE, [W]=WARN
[   25.297479] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.299023] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.299747] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.301943] RSP: 0018:ffff888012a9f7d8 EFLAGS: 00010202
[   25.302586] RAX: dffffc0000000000 RBX: ffffea000047c900 RCX: ffffffff81bbb789
[   25.303439] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000047c910
[   25.304292] RBP: ffff888012a9f7f8 R08: 0000000000000000 R09: ffffed1003bbe708
[   25.305249] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   25.306100] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ddf3840
[   25.306958] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   25.307915] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.308778] CR2: 00007f17bd70e3f4 CR3: 00000000204e0001 CR4: 0000000000770ef0
[   25.309633] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.310461] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.311266] PKRU: 55555554
[   25.311605] Call Trace:
[   25.311901]  <TASK>
[   25.312170]  ? show_regs+0x6d/0x80
[   25.312631]  ? die_addr+0x45/0xb0
[   25.313061]  ? exc_general_protection+0x1ae/0x340
[   25.313637]  ? asm_exc_general_protection+0x2b/0x30
[   25.314229]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.314840]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.315449]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.316052]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.316681]  zap_huge_pmd+0x48e/0xd40
[   25.317139]  unmap_page_range+0x1ad6/0x4360
[   25.317646]  ? update_stack_state+0x2d9/0x610
[   25.318188]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.318764]  ? __pfx_unmap_page_range+0x10/0x10
[   25.319291]  unmap_single_vma+0x1ac/0x2d0
[   25.319757]  unmap_vmas+0x210/0x470
[   25.320171]  ? __pfx_unmap_vmas+0x10/0x10
[   25.320648]  ? __pfx_lock_release+0x10/0x10
[   25.321130]  ? lock_release+0x592/0x870
[   25.321576]  ? mas_next_slot+0x133a/0x1a50
[   25.322044]  ? __pfx_lock_release+0x10/0x10
[   25.322526]  ? mlock_drain_local+0x27f/0x4b0
[   25.323027]  exit_mmap+0x19e/0xb10
[   25.323452]  ? __pfx_exit_mmap+0x10/0x10
[   25.323912]  ? debug_smp_processor_id+0x20/0x30
[   25.324443]  ? trace_hardirqs_on+0x51/0x60
[   25.324923]  ? kasan_quarantine_put+0xa2/0x200
[   25.325452]  ? __khugepaged_exit+0x266/0x4c0
[   25.325945]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.326541]  __mmput+0xde/0x3a0
[   25.326898]  mmput+0x74/0x90
[   25.327227]  do_exit+0xa03/0x29f0
[   25.327614]  ? trace_hardirqs_on+0x51/0x60
[   25.328075]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.328744]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.329262]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.329804]  ? __pfx_do_exit+0x10/0x10
[   25.330506]  ? __audit_syscall_entry+0x39c/0x500
[   25.331010]  __x64_sys_exit+0x50/0x60
[   25.331426]  x64_sys_call+0x20c9/0x20d0
[   25.331848]  do_syscall_64+0x6d/0x140
[   25.332256]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.332805] RIP: 0033:0x7f17bd43ee5d
[   25.333190] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.333822] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.334600] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.335328] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.336024] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.336972] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.337672] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.338382]  </TASK>
[   25.338615] Modules linked in:
[   25.339103] ---[ end trace 0000000000000000 ]---
[   25.339664] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.340255] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.341928] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   25.342707] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   25.343358] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   25.343894] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   25.344419] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.344950] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   25.345467] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   25.346043] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.346458] CR2: 00007f17bd70e3f4 CR3: 00000000204e0001 CR4: 0000000000770ef0
[   25.347024] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.347706] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.348357] PKRU: 55555554
[   25.348746] note: repro[1362] exited with preempt_count 1
[   25.349346] Fixing recursive fault but reboot is needed!
[   25.349827] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1362
[   25.350525] caller is debug_smp_processor_id+0x20/0x30
[   25.350925] CPU: 1 UID: 0 PID: 1362 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.351557] Tainted: [D]=DIE, [W]=WARN
[   25.351825] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.352766] Call Trace:
[   25.353040]  <TASK>
[   25.353235]  dump_stack_lvl+0x121/0x150
[   25.353527]  dump_stack+0x19/0x20
[   25.354019]  check_preemption_disabled+0x168/0x180
[   25.354473]  debug_smp_processor_id+0x20/0x30
[   25.354792]  __schedule+0xa0/0x33a0
[   25.355049]  ? do_task_dead+0xa8/0x110
[   25.355374]  ? debug_smp_processor_id+0x20/0x30
[   25.355740]  ? rcu_is_watching+0x19/0xc0
[   25.356020]  ? lock_release+0x592/0x870
[   25.356296]  ? __pfx___schedule+0x10/0x10
[   25.356646]  ? debug_smp_processor_id+0x20/0x30
[   25.357021]  ? rcu_is_watching+0x19/0xc0
[   25.357301]  ? trace_irq_enable+0xe1/0x120
[   25.357611]  ? do_task_dead+0x4a/0x110
[   25.358073]  do_task_dead+0xe0/0x110
[   25.358367]  make_task_dead+0x384/0x3c0
[   25.358684]  rewind_stack_and_make_dead+0x16/0x20
[   25.359024] RIP: 0033:0x7f17bd43ee5d
[   25.359302] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.359817] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.360325] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.360878] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.361556] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.362361] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.362819] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.363286]  </TASK>
[   25.363542] BUG: scheduling while atomic: repro/1362/0x00000000
[   25.363929] INFO: lockdep is turned off.
[   25.364183] Modules linked in:
[   25.364392] Preemption disabled at:
[   25.364396] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   25.365073] CPU: 1 UID: 0 PID: 1362 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.365676] Tainted: [D]=DIE, [W]=WARN
[   25.365923] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.366638] Call Trace:
[   25.366808]  <TASK>
[   25.366958]  dump_stack_lvl+0x121/0x150
[   25.367223]  ? do_task_dead+0x28/0x110
[   25.367477]  dump_stack+0x19/0x20
[   25.367700]  __schedule_bug+0x12d/0x180
[   25.367958]  __schedule+0x2401/0x33a0
[   25.368205]  ? do_task_dead+0xa8/0x110
[   25.368453]  ? rcu_is_watching+0x19/0xc0
[   25.368712]  ? lock_release+0x592/0x870
[   25.369101]  ? __pfx___schedule+0x10/0x10
[   25.369629]  ? debug_smp_processor_id+0x20/0x30
[   25.369967]  ? rcu_is_watching+0x19/0xc0
[   25.370227]  ? trace_irq_enable+0xe1/0x120
[   25.370564]  ? do_task_dead+0x4a/0x110
[   25.370910]  do_task_dead+0xe0/0x110
[   25.371251]  make_task_dead+0x384/0x3c0
[   25.371621]  rewind_stack_and_make_dead+0x16/0x20
[   25.372053] RIP: 0033:0x7f17bd43ee5d
[   25.372385] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.372772] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.373213] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.373635] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.374046] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.374617] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.375257] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.376116]  </TASK>
[   25.691288] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#7] PREEMPT SMP KASAN NOPTI
[   25.692385] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   25.693065] CPU: 0 UID: 0 PID: 1630 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.693907] Tainted: [D]=DIE, [W]=WARN
[   25.694260] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.695271] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.695815] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.697446] RSP: 0018:ffff8880215577d8 EFLAGS: 00010202
[   25.697928] RAX: dffffc0000000000 RBX: ffffea0000590980 RCX: ffffffff81bbb789
[   25.698568] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000590990
[   25.699206] RBP: ffff8880215577f8 R08: 0000000000000000 R09: ffffed1004c0218c
[   25.699846] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   25.700487] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888026010c60
[   25.701137] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.701873] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.702403] CR2: 00007fffef6677b8 CR3: 0000000017132004 CR4: 0000000000770ef0
[   25.703055] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.703712] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.704370] PKRU: 55555554
[   25.704632] Call Trace:
[   25.704874]  <TASK>
[   25.705090]  ? show_regs+0x6d/0x80
[   25.705437]  ? die_addr+0x45/0xb0
[   25.705770]  ? exc_general_protection+0x1ae/0x340
[   25.706232]  ? asm_exc_general_protection+0x2b/0x30
[   25.706711]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   25.707203]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.707690]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   25.708185]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   25.708676]  zap_huge_pmd+0x48e/0xd40
[   25.709041]  unmap_page_range+0x1ad6/0x4360
[   25.709467]  ? update_stack_state+0x2d9/0x610
[   25.709921]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   25.710418]  ? __pfx_unmap_page_range+0x10/0x10
[   25.710874]  unmap_single_vma+0x1ac/0x2d0
[   25.711282]  unmap_vmas+0x210/0x470
[   25.711636]  ? __pfx_unmap_vmas+0x10/0x10
[   25.712030]  ? __pfx_lock_release+0x10/0x10
[   25.712448]  ? lock_release+0x592/0x870
[   25.712829]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   25.713306]  ? __pfx_lock_release+0x10/0x10
[   25.713720]  ? mlock_drain_local+0x27f/0x4b0
[   25.714142]  exit_mmap+0x19e/0xb10
[   25.714488]  ? __pfx_exit_mmap+0x10/0x10
[   25.714882]  ? debug_smp_processor_id+0x20/0x30
[   25.715335]  ? trace_hardirqs_on+0x51/0x60
[   25.715737]  ? kasan_quarantine_put+0xa2/0x200
[   25.716177]  ? __khugepaged_exit+0x266/0x4c0
[   25.716601]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   25.717119]  __mmput+0xde/0x3a0
[   25.717437]  mmput+0x74/0x90
[   25.717724]  do_exit+0xa03/0x29f0
[   25.718057]  ? trace_hardirqs_on+0x51/0x60
[   25.718460]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   25.719057]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   25.719518]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   25.719990]  ? __pfx_do_exit+0x10/0x10
[   25.720364]  ? __audit_syscall_entry+0x39c/0x500
[   25.720820]  __x64_sys_exit+0x50/0x60
[   25.721185]  x64_sys_call+0x20c9/0x20d0
[   25.721563]  do_syscall_64+0x6d/0x140
[   25.721928]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   25.722417] RIP: 0033:0x7f17bd43ee5d
[   25.722764] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.723332] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.724028] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.724681] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.725340] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.725984] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.726640] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.727305]  </TASK>
[   25.727524] Modules linked in:
[   25.727926] ---[ end trace 0000000000000000 ]---
[   25.728380] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   25.728925] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   25.730609] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   25.731178] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   25.731936] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   25.732615] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   25.733273] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   25.733940] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   25.734602] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   25.735366] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   25.736009] CR2: 00007fffef6677b8 CR3: 0000000017132004 CR4: 0000000000770ef0
[   25.736969] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   25.737645] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   25.738319] PKRU: 55555554
[   25.738773] note: repro[1630] exited with preempt_count 1
[   25.739296] Fixing recursive fault but reboot is needed!
[   25.739869] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1630
[   25.740779] caller is debug_smp_processor_id+0x20/0x30
[   25.741352] CPU: 0 UID: 0 PID: 1630 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.742271] Tainted: [D]=DIE, [W]=WARN
[   25.742638] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.743703] Call Trace:
[   25.743949]  <TASK>
[   25.744161]  dump_stack_lvl+0x121/0x150
[   25.744545]  dump_stack+0x19/0x20
[   25.744877]  check_preemption_disabled+0x168/0x180
[   25.745352]  debug_smp_processor_id+0x20/0x30
[   25.745794]  __schedule+0xa0/0x33a0
[   25.746151]  ? do_task_dead+0xa8/0x110
[   25.746526]  ? debug_smp_processor_id+0x20/0x30
[   25.746972]  ? rcu_is_watching+0x19/0xc0
[   25.747365]  ? lock_release+0x592/0x870
[   25.747754]  ? __pfx___schedule+0x10/0x10
[   25.748152]  ? debug_smp_processor_id+0x20/0x30
[   25.748606]  ? rcu_is_watching+0x19/0xc0
[   25.748995]  ? trace_irq_enable+0xe1/0x120
[   25.749404]  ? do_task_dead+0x4a/0x110
[   25.749776]  do_task_dead+0xe0/0x110
[   25.750133]  make_task_dead+0x384/0x3c0
[   25.750517]  rewind_stack_and_make_dead+0x16/0x20
[   25.750973] RIP: 0033:0x7f17bd43ee5d
[   25.751325] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.751913] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.752616] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.753272] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.753931] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.754596] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.755253] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.755921]  </TASK>
[   25.756239] BUG: scheduling while atomic: repro/1630/0x00000000
[   25.756806] INFO: lockdep is turned off.
[   25.757175] Modules linked in:
[   25.757481] Preemption disabled at:
[   25.757486] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   25.758331] CPU: 0 UID: 0 PID: 1630 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   25.759164] Tainted: [D]=DIE, [W]=WARN
[   25.759534] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   25.760576] Call Trace:
[   25.760816]  <TASK>
[   25.761029]  dump_stack_lvl+0x121/0x150
[   25.761415]  ? do_task_dead+0x28/0x110
[   25.761792]  dump_stack+0x19/0x20
[   25.762129]  __schedule_bug+0x12d/0x180
[   25.762516]  __schedule+0x2401/0x33a0
[   25.762869]  ? do_task_dead+0xa8/0x110
[   25.763227]  ? rcu_is_watching+0x19/0xc0
[   25.763600]  ? lock_release+0x592/0x870
[   25.763966]  ? __pfx___schedule+0x10/0x10
[   25.764351]  ? debug_smp_processor_id+0x20/0x30
[   25.764783]  ? rcu_is_watching+0x19/0xc0
[   25.765148]  ? trace_irq_enable+0xe1/0x120
[   25.765545]  ? do_task_dead+0x4a/0x110
[   25.765898]  do_task_dead+0xe0/0x110
[   25.766239]  make_task_dead+0x384/0x3c0
[   25.766610]  rewind_stack_and_make_dead+0x16/0x20
[   25.767047] RIP: 0033:0x7f17bd43ee5d
[   25.767381] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   25.767911] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   25.768567] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   25.769178] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   25.769789] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   25.770379] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   25.770959] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   25.771553]  </TASK>
[   26.358715] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#8] PREEMPT SMP KASAN NOPTI
[   26.359809] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   26.360492] CPU: 1 UID: 0 PID: 2048 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.361549] Tainted: [D]=DIE, [W]=WARN
[   26.361902] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.362930] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.363481] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.365503] RSP: 0018:ffff88801342f7d8 EFLAGS: 00010202
[   26.365986] RAX: dffffc0000000000 RBX: ffffea00006a4d00 RCX: ffffffff81bbb789
[   26.366628] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006a4d10
[   26.367260] RBP: ffff88801342f7f8 R08: 0000000000000000 R09: ffffed10042e4f14
[   26.367910] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   26.368614] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880217278a0
[   26.369558] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   26.370326] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.370860] CR2: 00007f17bd49bc20 CR3: 000000001f4f2001 CR4: 0000000000770ef0
[   26.371519] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.372178] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.372851] PKRU: 55555554
[   26.373115] Call Trace:
[   26.373357]  <TASK>
[   26.373576]  ? show_regs+0x6d/0x80
[   26.373925]  ? die_addr+0x45/0xb0
[   26.374262]  ? exc_general_protection+0x1ae/0x340
[   26.374867]  ? asm_exc_general_protection+0x2b/0x30
[   26.375606]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   26.376089]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.376579]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   26.377071]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.377565]  zap_huge_pmd+0x48e/0xd40
[   26.377938]  unmap_page_range+0x1ad6/0x4360
[   26.378356]  ? update_stack_state+0x2d9/0x610
[   26.378802]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   26.379569]  ? __pfx_unmap_page_range+0x10/0x10
[   26.380050]  unmap_single_vma+0x1ac/0x2d0
[   26.380474]  unmap_vmas+0x210/0x470
[   26.380837]  ? __pfx_unmap_vmas+0x10/0x10
[   26.381236]  ? __pfx_lock_release+0x10/0x10
[   26.381653]  ? lock_release+0x592/0x870
[   26.382030]  ? mas_next_slot+0x133a/0x1a50
[   26.382446]  ? __pfx_lock_release+0x10/0x10
[   26.382848]  ? mlock_drain_local+0x27f/0x4b0
[   26.383523]  exit_mmap+0x19e/0xb10
[   26.383968]  ? __pfx_exit_mmap+0x10/0x10
[   26.384364]  ? debug_smp_processor_id+0x20/0x30
[   26.384832]  ? trace_hardirqs_on+0x51/0x60
[   26.385243]  ? kasan_quarantine_put+0xa2/0x200
[   26.385689]  ? __khugepaged_exit+0x266/0x4c0
[   26.386109]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.386654]  __mmput+0xde/0x3a0
[   26.386973]  mmput+0x74/0x90
[   26.387444]  do_exit+0xa03/0x29f0
[   26.387954]  ? trace_hardirqs_on+0x51/0x60
[   26.388382]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   26.388975]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   26.389439]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   26.389927]  ? __pfx_do_exit+0x10/0x10
[   26.390330]  ? __audit_syscall_entry+0x39c/0x500
[   26.390788]  __x64_sys_exit+0x50/0x60
[   26.391194]  x64_sys_call+0x20c9/0x20d0
[   26.391792]  do_syscall_64+0x6d/0x140
[   26.392241]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.392743] RIP: 0033:0x7f17bd43ee5d
[   26.393094] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.393664] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.394373] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.395042] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.396007] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.396721] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.397383] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.398048]  </TASK>
[   26.398269] Modules linked in:
[   26.398747] ---[ end trace 0000000000000000 ]---
[   26.399216] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.399864] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.401552] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   26.402350] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   26.403006] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   26.403784] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   26.404459] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   26.405142] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   26.405980] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   26.406922] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.407580] CR2: 00007f17bd49bc20 CR3: 000000001f4f2001 CR4: 0000000000770ef0
[   26.408250] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.408906] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.409676] PKRU: 55555554
[   26.409951] note: repro[2048] exited with preempt_count 1
[   26.410464] Fixing recursive fault but reboot is needed!
[   26.410948] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2048
[   26.411764] caller is debug_smp_processor_id+0x20/0x30
[   26.412574] CPU: 1 UID: 0 PID: 2048 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.413445] Tainted: [D]=DIE, [W]=WARN
[   26.413695] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#9] PREEMPT SMP KASAN NOPTI
[   26.413804] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.414943] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   26.416040] Call Trace:
[   26.416779] CPU: 0 UID: 0 PID: 2088 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.417010]  <TASK>
[   26.418184] Tainted: [D]=DIE, [W]=WARN
[   26.418388]  dump_stack_lvl+0x121/0x150
[   26.418751] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.419110]  dump_stack+0x19/0x20
[   26.420129] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.420439]  check_preemption_disabled+0x168/0x180
[   26.420988] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.421430]  debug_smp_processor_id+0x20/0x30
[   26.423114] RSP: 0018:ffff8880142777d8 EFLAGS: 00010202
[   26.423524]  __schedule+0xa0/0x33a0
[   26.424295] RAX: dffffc0000000000 RBX: ffffea00004eb040 RCX: ffffffff81bbb789
[   26.424619]  ? do_task_dead+0xa8/0x110
[   26.425295] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004eb050
[   26.425641]  ? debug_smp_processor_id+0x20/0x30
[   26.426283] RBP: ffff8880142777f8 R08: 0000000000000000 R09: ffffed10028eed14
[   26.426696]  ? rcu_is_watching+0x19/0xc0
[   26.427377] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   26.427742]  ? lock_release+0x592/0x870
[   26.428390] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880147768a0
[   26.428745]  ? __pfx___schedule+0x10/0x10
[   26.429421] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   26.429791]  ? debug_smp_processor_id+0x20/0x30
[   26.430520] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.430942]  ? rcu_is_watching+0x19/0xc0
[   26.431504] CR2: 00007fffef667838 CR3: 0000000012f34005 CR4: 0000000000770ef0
[   26.431867]  ? trace_irq_enable+0xe1/0x120
[   26.432517] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.432895]  ? do_task_dead+0x4a/0x110
[   26.433548] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.433901]  do_task_dead+0xe0/0x110
[   26.434890] PKRU: 55555554
[   26.435221]  make_task_dead+0x384/0x3c0
[   26.435484] Call Trace:
[   26.435841]  rewind_stack_and_make_dead+0x16/0x20
[   26.436078]  <TASK>
[   26.436512] RIP: 0033:0x7f17bd43ee5d
[   26.436722]  ? show_regs+0x6d/0x80
[   26.437056] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.437393]  ? die_addr+0x45/0xb0
[   26.437937] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.438256]  ? exc_general_protection+0x1ae/0x340
[   26.438936] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.439381]  ? asm_exc_general_protection+0x2b/0x30
[   26.440345] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.440803]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   26.441424] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.441892]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.442498] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.442969]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   26.443588] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.444058]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.444883]  </TASK>
[   26.445346]  zap_huge_pmd+0x48e/0xd40
[   26.445897]  unmap_page_range+0x1ad6/0x4360
[   26.446312]  ? update_stack_state+0x2d9/0x610
[   26.446756]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   26.447262]  ? __pfx_unmap_page_range+0x10/0x10
[   26.447721]  unmap_single_vma+0x1ac/0x2d0
[   26.448123]  unmap_vmas+0x210/0x470
[   26.448488]  ? __pfx_unmap_vmas+0x10/0x10
[   26.448893]  ? __pfx_lock_release+0x10/0x10
[   26.449322]  ? lock_release+0x592/0x870
[   26.449701]  ? mas_next_slot+0x133a/0x1a50
[   26.450131]  ? __pfx_lock_release+0x10/0x10
[   26.450564]  ? mlock_drain_local+0x27f/0x4b0
[   26.451014]  exit_mmap+0x19e/0xb10
[   26.451384]  ? __pfx_exit_mmap+0x10/0x10
[   26.451783]  ? debug_smp_processor_id+0x20/0x30
[   26.452239]  ? trace_hardirqs_on+0x51/0x60
[   26.452651]  ? kasan_quarantine_put+0xa2/0x200
[   26.453125]  ? __khugepaged_exit+0x266/0x4c0
[   26.453567]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.454393]  __mmput+0xde/0x3a0
[   26.454768]  mmput+0x74/0x90
[   26.455086]  do_exit+0xa03/0x29f0
[   26.455441]  ? trace_hardirqs_on+0x51/0x60
[   26.455846]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   26.456482]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   26.456989]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   26.457496]  ? __pfx_do_exit+0x10/0x10
[   26.457874]  ? __audit_syscall_entry+0x39c/0x500
[   26.458335]  __x64_sys_exit+0x50/0x60
[   26.458706]  x64_sys_call+0x20c9/0x20d0
[   26.459103]  do_syscall_64+0x6d/0x140
[   26.459503]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.459996] RIP: 0033:0x7f17bd43ee5d
[   26.460359] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.460958] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.461666] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.462346] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.463014] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.463696] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.464364] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.465034]  </TASK>
[   26.465271] Modules linked in:
[   26.465765] ---[ end trace 0000000000000000 ]---
[   26.466257] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.466834] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.468668] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   26.469177] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   26.469847] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   26.470630] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   26.471319] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   26.472105] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   26.473168] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   26.473941] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.474509] CR2: 00007fffef667838 CR3: 0000000012f34005 CR4: 0000000000770ef0
[   26.475193] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.475973] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.476674] PKRU: 55555554
[   26.476951] note: repro[2088] exited with preempt_count 1
[   26.477482] Fixing recursive fault but reboot is needed!
[   26.477978] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2088
[   26.478973] caller is debug_smp_processor_id+0x20/0x30
[   26.479594] CPU: 0 UID: 0 PID: 2088 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.480493] Tainted: [D]=DIE, [W]=WARN
[   26.480857] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.481900] Call Trace:
[   26.482155]  <TASK>
[   26.482374]  dump_stack_lvl+0x121/0x150
[   26.482757]  dump_stack+0x19/0x20
[   26.483102]  check_preemption_disabled+0x168/0x180
[   26.483579]  debug_smp_processor_id+0x20/0x30
[   26.484088]  __schedule+0xa0/0x33a0
[   26.484468]  ? do_task_dead+0xa8/0x110
[   26.484839]  ? debug_smp_processor_id+0x20/0x30
[   26.485294]  ? rcu_is_watching+0x19/0xc0
[   26.485688]  ? lock_release+0x592/0x870
[   26.486071]  ? __pfx___schedule+0x10/0x10
[   26.486476]  ? debug_smp_processor_id+0x20/0x30
[   26.486924]  ? rcu_is_watching+0x19/0xc0
[   26.487326]  ? trace_irq_enable+0xe1/0x120
[   26.487737]  ? do_task_dead+0x4a/0x110
[   26.488129]  do_task_dead+0xe0/0x110
[   26.488498]  make_task_dead+0x384/0x3c0
[   26.488894]  rewind_stack_and_make_dead+0x16/0x20
[   26.489357] RIP: 0033:0x7f17bd43ee5d
[   26.489708] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.490303] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.491020] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.491683] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.492386] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.493068] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.493735] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.494425]  </TASK>
[   26.494720] BUG: scheduling while atomic: repro/2088/0x00000000
[   26.495319] INFO: lockdep is turned off.
[   26.495751] Modules linked in:
[   26.496064] Preemption disabled at:
[   26.496070] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   26.497220] CPU: 0 UID: 0 PID: 2088 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.498083] Tainted: [D]=DIE, [W]=WARN
[   26.498463] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.499338] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#10] PREEMPT SMP KASAN NOPTI
[   26.499521] Call Trace:
[   26.499528]  <TASK>
[   26.500617] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   26.500850]  dump_stack_lvl+0x121/0x150
[   26.501059] CPU: 1 UID: 0 PID: 2151 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.501749]  ? do_task_dead+0x28/0x110
[   26.502108] Tainted: [D]=DIE, [W]=WARN
[   26.502919]  dump_stack+0x19/0x20
[   26.503270] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.503820]  __schedule_bug+0x12d/0x180
[   26.504135] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.505197]  __schedule+0x2401/0x33a0
[   26.505547] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.506081]  ? do_task_dead+0xa8/0x110
[   26.506421] RSP: 0018:ffff888011e177d8 EFLAGS: 00010202
[   26.508072]  ? rcu_is_watching+0x19/0xc0
[   26.508421] 
[   26.508936]  ? lock_release+0x592/0x870
[   26.509291] RAX: dffffc0000000000 RBX: ffffea0000852d00 RCX: ffffffff81bbb789
[   26.509460]  ? __pfx___schedule+0x10/0x10
[   26.509810] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000852d10
[   26.510500]  ? debug_smp_processor_id+0x20/0x30
[   26.510860] RBP: ffff888011e177f8 R08: 0000000000000000 R09: ffffed1003560448
[   26.511713]  ? rcu_is_watching+0x19/0xc0
[   26.512106] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   26.512787]  ? trace_irq_enable+0xe1/0x120
[   26.513130] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ab02240
[   26.513804]  ? do_task_dead+0x4a/0x110
[   26.514179] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   26.514850]  do_task_dead+0xe0/0x110
[   26.515193] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.516332]  make_task_dead+0x384/0x3c0
[   26.516654] CR2: 00007f469c6df008 CR3: 0000000012f82004 CR4: 0000000000770ef0
[   26.517190]  rewind_stack_and_make_dead+0x16/0x20
[   26.517522] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.518186] RIP: 0033:0x7f17bd43ee5d
[   26.518590] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.519236] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.519541] PKRU: 55555554
[   26.520184] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   26.520708] Call Trace:
[   26.520970]  ORIG_RAX: 000000000000003c
[   26.521405]  <TASK>
[   26.521639] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.521963]  ? show_regs+0x6d/0x80
[   26.522170] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.522750]  ? die_addr+0x45/0xb0
[   26.523085] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.523667]  ? exc_general_protection+0x1ae/0x340
[   26.523975] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.524570]  ? asm_exc_general_protection+0x2b/0x30
[   26.524996] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.525699]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   26.526156]  </TASK>
[   26.526730]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.527865]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   26.528409]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   26.528842]  zap_huge_pmd+0x48e/0xd40
[   26.529289]  unmap_page_range+0x1ad6/0x4360
[   26.529645]  ? update_stack_state+0x2d9/0x610
[   26.530162]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   26.530582]  ? __pfx_unmap_page_range+0x10/0x10
[   26.530952]  unmap_single_vma+0x1ac/0x2d0
[   26.531275]  unmap_vmas+0x210/0x470
[   26.531572]  ? __pfx_unmap_vmas+0x10/0x10
[   26.531887]  ? __pfx_lock_release+0x10/0x10
[   26.532214]  ? lock_release+0x592/0x870
[   26.532525]  ? mas_next_slot+0x133a/0x1a50
[   26.532852]  ? __pfx_lock_release+0x10/0x10
[   26.533307]  ? mlock_drain_local+0x27f/0x4b0
[   26.533757]  exit_mmap+0x19e/0xb10
[   26.534037]  ? __pfx_exit_mmap+0x10/0x10
[   26.534357]  ? debug_smp_processor_id+0x20/0x30
[   26.534722]  ? trace_hardirqs_on+0x51/0x60
[   26.535047]  ? kasan_quarantine_put+0xa2/0x200
[   26.535410]  ? __khugepaged_exit+0x266/0x4c0
[   26.535729]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   26.536148]  __mmput+0xde/0x3a0
[   26.536419]  mmput+0x74/0x90
[   26.536665]  do_exit+0xa03/0x29f0
[   26.536947]  ? trace_hardirqs_on+0x51/0x60
[   26.537314]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   26.537808]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   26.538183]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   26.538577]  ? __pfx_do_exit+0x10/0x10
[   26.538879]  ? __audit_syscall_entry+0x39c/0x500
[   26.539402]  __x64_sys_exit+0x50/0x60
[   26.539815]  x64_sys_call+0x20c9/0x20d0
[   26.540119]  do_syscall_64+0x6d/0x140
[   26.540410]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   26.540792] RIP: 0033:0x7f17bd43ee5d
[   26.541071] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.541518] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.542071] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.542579] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.543084] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.543591] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.544096] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.544608]  </TASK>
[   26.544770] Modules linked in:
[   26.545176] ---[ end trace 0000000000000000 ]---
[   26.545655] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.546180] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.547481] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   26.547848] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   26.548327] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   26.548797] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   26.549262] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   26.549726] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   26.550197] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   26.550726] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   26.551109] CR2: 00007f469c6df008 CR3: 0000000012f82004 CR4: 0000000000770ef0
[   26.551629] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   26.552341] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   26.552808] PKRU: 55555554
[   26.552999] note: repro[2151] exited with preempt_count 1
[   26.553361] Fixing recursive fault but reboot is needed!
[   26.553712] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2151
[   26.554213] caller is debug_smp_processor_id+0x20/0x30
[   26.554564] CPU: 1 UID: 0 PID: 2151 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.555146] Tainted: [D]=DIE, [W]=WARN
[   26.555394] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.556098] Call Trace:
[   26.556310]  <TASK>
[   26.556496]  dump_stack_lvl+0x121/0x150
[   26.556896]  dump_stack+0x19/0x20
[   26.557144]  check_preemption_disabled+0x168/0x180
[   26.557475]  debug_smp_processor_id+0x20/0x30
[   26.557776]  __schedule+0xa0/0x33a0
[   26.558021]  ? do_task_dead+0xa8/0x110
[   26.558286]  ? debug_smp_processor_id+0x20/0x30
[   26.558595]  ? rcu_is_watching+0x19/0xc0
[   26.558864]  ? lock_release+0x592/0x870
[   26.559126]  ? __pfx___schedule+0x10/0x10
[   26.559416]  ? debug_smp_processor_id+0x20/0x30
[   26.559866]  ? rcu_is_watching+0x19/0xc0
[   26.560266]  ? trace_irq_enable+0xe1/0x120
[   26.560616]  ? do_task_dead+0x4a/0x110
[   26.560867]  do_task_dead+0xe0/0x110
[   26.561103]  make_task_dead+0x384/0x3c0
[   26.561361]  rewind_stack_and_make_dead+0x16/0x20
[   26.561672] RIP: 0033:0x7f17bd43ee5d
[   26.561909] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.562294] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.562764] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.563200] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.563647] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.564073] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.564489] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.564913]  </TASK>
[   26.565110] BUG: scheduling while atomic: repro/2151/0x00000000
[   26.565560] INFO: lockdep is turned off.
[   26.565807] Modules linked in:
[   26.566001] Preemption disabled at:
[   26.566004] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   26.566543] CPU: 1 UID: 0 PID: 2151 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.567087] Tainted: [D]=DIE, [W]=WARN
[   26.567314] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.567946] Call Trace:
[   26.568168]  <TASK>
[   26.568371]  dump_stack_lvl+0x121/0x150
[   26.568706]  ? do_task_dead+0x28/0x110
[   26.568936]  dump_stack+0x19/0x20
[   26.569150]  __schedule_bug+0x12d/0x180
[   26.569391]  __schedule+0x2401/0x33a0
[   26.569620]  ? do_task_dead+0xa8/0x110
[   26.569847]  ? rcu_is_watching+0x19/0xc0
[   26.570088]  ? lock_release+0x592/0x870
[   26.570324]  ? __pfx___schedule+0x10/0x10
[   26.570572]  ? debug_smp_processor_id+0x20/0x30
[   26.570847]  ? rcu_is_watching+0x19/0xc0
[   26.571091]  ? trace_irq_enable+0xe1/0x120
[   26.571345]  ? do_task_dead+0x4a/0x110
[   26.571571]  do_task_dead+0xe0/0x110
[   26.571780]  make_task_dead+0x384/0x3c0
[   26.572011]  rewind_stack_and_make_dead+0x16/0x20
[   26.572285] RIP: 0033:0x7f17bd43ee5d
[   26.572496] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   26.572834] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   26.573253] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   26.573646] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   26.574042] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   26.574629] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   26.575107] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   26.575508]  </TASK>
[   26.988709] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#11] PREEMPT SMP KASAN NOPTI
[   26.989861] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   26.990564] CPU: 0 UID: 0 PID: 2394 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   26.991416] Tainted: [D]=DIE, [W]=WARN
[   26.991775] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   26.993128] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   26.993703] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   26.995397] RSP: 0018:ffff88801edcf7d8 EFLAGS: 00010202
[   26.995897] RAX: dffffc0000000000 RBX: ffffea00007bc980 RCX: ffffffff81bbb789
[   26.996558] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007bc990
[   26.997213] RBP: ffff88801edcf7f8 R08: 0000000000000000 R09: ffffed10025b60d8
[   26.997896] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   26.998572] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012db06c0
[   26.999244] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   26.999984] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.000526] CR2: 0000000000404200 CR3: 00000000119a4002 CR4: 0000000000770ef0
[   27.001191] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.001859] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.002514] PKRU: 55555554
[   27.002781] Call Trace:
[   27.003022]  <TASK>
[   27.003234]  ? show_regs+0x6d/0x80
[   27.003613]  ? die_addr+0x45/0xb0
[   27.003961]  ? exc_general_protection+0x1ae/0x340
[   27.004442]  ? asm_exc_general_protection+0x2b/0x30
[   27.004924]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   27.005440]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.005948]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   27.006458]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.006947]  zap_huge_pmd+0x48e/0xd40
[   27.007323]  unmap_page_range+0x1ad6/0x4360
[   27.007765]  ? update_stack_state+0x2d9/0x610
[   27.008238]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   27.008736]  ? __pfx_unmap_page_range+0x10/0x10
[   27.009192]  unmap_single_vma+0x1ac/0x2d0
[   27.009599]  unmap_vmas+0x210/0x470
[   27.009953]  ? __pfx_unmap_vmas+0x10/0x10
[   27.010352]  ? __pfx_lock_release+0x10/0x10
[   27.010756]  ? lock_release+0x592/0x870
[   27.011131]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   27.011612]  ? __pfx_lock_release+0x10/0x10
[   27.012045]  ? mlock_drain_local+0x27f/0x4b0
[   27.012508]  exit_mmap+0x19e/0xb10
[   27.012863]  ? __pfx_exit_mmap+0x10/0x10
[   27.013251]  ? debug_smp_processor_id+0x20/0x30
[   27.013718]  ? trace_hardirqs_on+0x51/0x60
[   27.014134]  ? kasan_quarantine_put+0xa2/0x200
[   27.014573]  ? __khugepaged_exit+0x266/0x4c0
[   27.014994]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.015543]  __mmput+0xde/0x3a0
[   27.015956]  mmput+0x74/0x90
[   27.016441]  do_exit+0xa03/0x29f0
[   27.016918]  ? trace_hardirqs_on+0x51/0x60
[   27.017446]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   27.018215]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   27.018861]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   27.019474]  ? __pfx_do_exit+0x10/0x10
[   27.019948]  ? __audit_syscall_entry+0x39c/0x500
[   27.020530]  __x64_sys_exit+0x50/0x60
[   27.020993]  x64_sys_call+0x20c9/0x20d0
[   27.021479]  do_syscall_64+0x6d/0x140
[   27.021941]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.022563] RIP: 0033:0x7f17bd43ee5d
[   27.023007] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   27.023743] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.024647] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   27.025499] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.026350] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   27.027194] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   27.028046] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   27.028912]  </TASK>
[   27.029194] Modules linked in:
[   27.029775] ---[ end trace 0000000000000000 ]---
[   27.030354] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.031056] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.033323] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   27.033965] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   27.034818] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   27.035780] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   27.036644] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   27.037497] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   27.038428] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   27.039394] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.040183] CR2: 0000000000404200 CR3: 00000000119a4002 CR4: 0000000000770ef0
[   27.041119] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.041972] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.042828] PKRU: 55555554
[   27.043168] note: repro[2394] exited with preempt_count 1
[   27.043900] Fixing recursive fault but reboot is needed!
[   27.044548] BUG: scheduling while atomic: repro/2394/0x00000000
[   27.045260] INFO: lockdep is turned off.
[   27.045756] Modules linked in:
[   27.046150] Preemption disabled at:
[   27.046156] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   27.047236] CPU: 0 UID: 0 PID: 2394 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   27.048344] Tainted: [D]=DIE, [W]=WARN
[   27.048802] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.050151] Call Trace:
[   27.050467]  <TASK>
[   27.050741]  dump_stack_lvl+0x121/0x150
[   27.051228]  ? do_task_dead+0x28/0x110
[   27.051701]  dump_stack+0x19/0x20
[   27.052127]  __schedule_bug+0x12d/0x180
[   27.052623]  __schedule+0x2401/0x33a0
[   27.053088]  ? do_task_dead+0xa8/0x110
[   27.053564]  ? rcu_is_watching+0x19/0xc0
[   27.054059]  ? lock_release+0x592/0x870
[   27.054546]  ? __pfx___schedule+0x10/0x10
[   27.055057]  ? debug_smp_processor_id+0x20/0x30
[   27.055632]  ? rcu_is_watching+0x19/0xc0
[   27.056127]  ? trace_irq_enable+0xe1/0x120
[   27.056648]  ? do_task_dead+0x4a/0x110
[   27.057116]  do_task_dead+0xe0/0x110
[   27.057571]  make_task_dead+0x384/0x3c0
[   27.058061]  rewind_stack_and_make_dead+0x16/0x20
[   27.058650] RIP: 0033:0x7f17bd43ee5d
[   27.059096] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   27.059837] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.060746] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   27.061597] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.062459] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   27.063313] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   27.064162] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   27.065034]  </TASK>
[   27.435637] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#12] PREEMPT SMP KASAN NOPTI
[   27.436760] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   27.437458] CPU: 1 UID: 0 PID: 2676 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   27.438311] Tainted: [D]=DIE, [W]=WARN
[   27.438661] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.439697] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.440253] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.441909] RSP: 0018:ffff88801113f7d8 EFLAGS: 00010202
[   27.442396] RAX: dffffc0000000000 RBX: ffffea0000813dc0 RCX: ffffffff81bbb789
[   27.443041] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000813dd0
[   27.443694] RBP: ffff88801113f7f8 R08: 0000000000000000 R09: ffffed100259a0b4
[   27.444342] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   27.444993] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012cd05a0
[   27.445638] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   27.446369] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.446909] CR2: 00007fffef6677b8 CR3: 00000000217a8005 CR4: 0000000000770ef0
[   27.447560] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.448217] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.448865] PKRU: 55555554
[   27.449125] Call Trace:
[   27.449364]  <TASK>
[   27.449578]  ? show_regs+0x6d/0x80
[   27.449922]  ? die_addr+0x45/0xb0
[   27.450262]  ? exc_general_protection+0x1ae/0x340
[   27.450727]  ? asm_exc_general_protection+0x2b/0x30
[   27.451219]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   27.451710]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.452200]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   27.452689]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.453177]  zap_huge_pmd+0x48e/0xd40
[   27.453549]  unmap_page_range+0x1ad6/0x4360
[   27.453965]  ? update_stack_state+0x2d9/0x610
[   27.454409]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   27.454903]  ? __pfx_unmap_page_range+0x10/0x10
[   27.455354]  unmap_single_vma+0x1ac/0x2d0
[   27.455765]  unmap_vmas+0x210/0x470
[   27.456123]  ? __pfx_unmap_vmas+0x10/0x10
[   27.456519]  ? __pfx_lock_release+0x10/0x10
[   27.456924]  ? lock_release+0x592/0x870
[   27.457304]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   27.457773]  ? __pfx_lock_release+0x10/0x10
[   27.458184]  ? mlock_drain_local+0x27f/0x4b0
[   27.458610]  exit_mmap+0x19e/0xb10
[   27.458963]  ? __pfx_exit_mmap+0x10/0x10
[   27.459355]  ? debug_smp_processor_id+0x20/0x30
[   27.459805]  ? trace_hardirqs_on+0x51/0x60
[   27.460202]  ? kasan_quarantine_put+0xa2/0x200
[   27.460635]  ? __khugepaged_exit+0x266/0x4c0
[   27.461055]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.461567]  __mmput+0xde/0x3a0
[   27.461882]  mmput+0x74/0x90
[   27.462171]  do_exit+0xa03/0x29f0
[   27.462514]  ? trace_hardirqs_on+0x51/0x60
[   27.462920]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   27.463519]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   27.463980]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   27.464458]  ? __pfx_do_exit+0x10/0x10
[   27.464832]  ? __audit_syscall_entry+0x39c/0x500
[   27.465287]  __x64_sys_exit+0x50/0x60
[   27.465661]  x64_sys_call+0x20c9/0x20d0
[   27.466036]  do_syscall_64+0x6d/0x140
[   27.466411]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.466905] RIP: 0033:0x7f17bd43ee5d
[   27.467251] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   27.467818] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.468517] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   27.469171] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.469829] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   27.470487] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   27.471131] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   27.471793]  </TASK>
[   27.472010] Modules linked in:
[   27.472484] ---[ end trace 0000000000000000 ]---
[   27.472934] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.473490] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.475162] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   27.475767] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   27.476436] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   27.477103] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   27.477766] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   27.478427] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   27.479105] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   27.479924] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.480468] CR2: 00007fffef6677b8 CR3: 00000000217a8005 CR4: 0000000000770ef0
[   27.481130] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.481790] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.482447] PKRU: 55555554
[   27.482767] note: repro[2676] exited with preempt_count 1
[   27.483815] Fixing recursive fault but reboot is needed!
[   27.484330] BUG: scheduling while atomic: repro/2676/0x00000000
[   27.484878] INFO: lockdep is turned off.
[   27.485244] Modules linked in:
[   27.485549] Preemption disabled at:
[   27.485554] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   27.486393] CPU: 1 UID: 0 PID: 2676 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   27.487241] Tainted: [D]=DIE, [W]=WARN
[   27.487666] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.488779] Call Trace:
[   27.489025]  <TASK>
[   27.489236]  dump_stack_lvl+0x121/0x150
[   27.489627]  ? do_task_dead+0x28/0x110
[   27.490004]  dump_stack+0x19/0x20
[   27.490339]  __schedule_bug+0x12d/0x180
[   27.490719]  __schedule+0x2401/0x33a0
[   27.491081]  ? do_task_dead+0xa8/0x110
[   27.491449]  ? rcu_is_watching+0x19/0xc0
[   27.491836]  ? lock_release+0x592/0x870
[   27.492210]  ? __pfx___schedule+0x10/0x10
[   27.492625]  ? debug_smp_processor_id+0x20/0x30
[   27.493078]  ? rcu_is_watching+0x19/0xc0
[   27.493468]  ? trace_irq_enable+0xe1/0x120
[   27.493877]  ? do_task_dead+0x4a/0x110
[   27.494247]  do_task_dead+0xe0/0x110
[   27.494634]  make_task_dead+0x384/0x3c0
[   27.495130]  rewind_stack_and_make_dead+0x16/0x20
[   27.495589] RIP: 0033:0x7f17bd43ee5d
[   27.495942] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   27.496525] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.497228] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   27.498020] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.498681] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   27.499338] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   27.500127] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   27.500800]  </TASK>
[   27.517085] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#13] PREEMPT SMP KASAN NOPTI
[   27.518329] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   27.519090] CPU: 1 UID: 0 PID: 2744 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   27.519938] Tainted: [D]=DIE, [W]=WARN
[   27.520295] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.521446] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.521998] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.523802] RSP: 0018:ffff88801242f7d8 EFLAGS: 00010202
[   27.524359] RAX: dffffc0000000000 RBX: ffffea00004e6980 RCX: ffffffff81bbb789
[   27.525021] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004e6990
[   27.525749] RBP: ffff88801242f7f8 R08: 0000000000000000 R09: ffffed1002364e78
[   27.526407] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   27.527079] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011b273c0
[   27.527794] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   27.528536] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.529150] CR2: 00007f17bd49bc20 CR3: 000000001c2f4006 CR4: 0000000000770ef0
[   27.529806] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.530526] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.531181] PKRU: 55555554
[   27.531445] Call Trace:
[   27.531686]  <TASK>
[   27.531972]  ? show_regs+0x6d/0x80
[   27.532329]  ? die_addr+0x45/0xb0
[   27.532671]  ? exc_general_protection+0x1ae/0x340
[   27.533140]  ? asm_exc_general_protection+0x2b/0x30
[   27.533692]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   27.534189]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.534685]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   27.535293]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   27.535788]  zap_huge_pmd+0x48e/0xd40
[   27.536163]  unmap_page_range+0x1ad6/0x4360
[   27.536582]  ? update_stack_state+0x2d9/0x610
[   27.537023]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   27.537521]  ? __pfx_unmap_page_range+0x10/0x10
[   27.537970]  unmap_single_vma+0x1ac/0x2d0
[   27.538368]  unmap_vmas+0x210/0x470
[   27.538718]  ? __pfx_unmap_vmas+0x10/0x10
[   27.539120]  ? __pfx_lock_release+0x10/0x10
[   27.539529]  ? lock_release+0x592/0x870
[   27.539903]  ? mas_next_slot+0x133a/0x1a50
[   27.540310]  ? __pfx_lock_release+0x10/0x10
[   27.540717]  ? mlock_drain_local+0x27f/0x4b0
[   27.541138]  exit_mmap+0x19e/0xb10
[   27.541493]  ? __pfx_exit_mmap+0x10/0x10
[   27.541876]  ? debug_smp_processor_id+0x20/0x30
[   27.542324]  ? trace_hardirqs_on+0x51/0x60
[   27.542724]  ? kasan_quarantine_put+0xa2/0x200
[   27.543156]  ? __khugepaged_exit+0x266/0x4c0
[   27.543589]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   27.544106]  __mmput+0xde/0x3a0
[   27.544426]  mmput+0x74/0x90
[   27.544722]  do_exit+0xa03/0x29f0
[   27.545055]  ? trace_hardirqs_on+0x51/0x60
[   27.545461]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   27.546054]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   27.546528]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   27.547005]  ? __pfx_do_exit+0x10/0x10
[   27.547383]  ? __audit_syscall_entry+0x39c/0x500
[   27.547835]  __x64_sys_exit+0x50/0x60
[   27.548205]  x64_sys_call+0x20c9/0x20d0
[   27.548586]  do_syscall_64+0x6d/0x140
[   27.548945]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   27.549441] RIP: 0033:0x7f17bd43ee5d
[   27.549781] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   27.550346] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.551042] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   27.551696] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.552348] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   27.553003] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   27.553660] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   27.554320]  </TASK>
[   27.554536] Modules linked in:
[   27.555028] ---[ end trace 0000000000000000 ]---
[   27.555552] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   27.556107] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   27.557795] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   27.558300] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   27.558970] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   27.559713] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   27.560389] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   27.561051] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   27.561783] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   27.562520] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   27.563063] CR2: 00007f17bd49bc20 CR3: 000000001c2f4006 CR4: 0000000000770ef0
[   27.563824] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   27.564495] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   27.565148] PKRU: 55555554
[   27.565415] note: repro[2744] exited with preempt_count 1
[   27.565966] Fixing recursive fault but reboot is needed!
[   27.566454] BUG: scheduling while atomic: repro/2744/0x00000000
[   27.567000] INFO: lockdep is turned off.
[   27.567371] Modules linked in:
[   27.567754] Preemption disabled at:
[   27.567761] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   27.568610] CPU: 1 UID: 0 PID: 2744 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   27.569456] Tainted: [D]=DIE, [W]=WARN
[   27.569815] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   27.570853] Call Trace:
[   27.571094]  <TASK>
[   27.571317]  dump_stack_lvl+0x121/0x150
[   27.571704]  ? do_task_dead+0x28/0x110
[   27.572068]  dump_stack+0x19/0x20
[   27.572405]  __schedule_bug+0x12d/0x180
[   27.572794]  __schedule+0x2401/0x33a0
[   27.573166]  ? do_task_dead+0xa8/0x110
[   27.573533]  ? rcu_is_watching+0x19/0xc0
[   27.573929]  ? lock_release+0x592/0x870
[   27.574303]  ? __pfx___schedule+0x10/0x10
[   27.574692]  ? debug_smp_processor_id+0x20/0x30
[   27.575135]  ? rcu_is_watching+0x19/0xc0
[   27.575534]  ? trace_irq_enable+0xe1/0x120
[   27.575946]  ? do_task_dead+0x4a/0x110
[   27.576313]  do_task_dead+0xe0/0x110
[   27.576667]  make_task_dead+0x384/0x3c0
[   27.577051]  rewind_stack_and_make_dead+0x16/0x20
[   27.577506] RIP: 0033:0x7f17bd43ee5d
[   27.577849] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   27.578430] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   27.579124] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   27.579789] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   27.580455] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   27.581118] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   27.581781] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   27.582455]  </TASK>
[   28.085557] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#14] PREEMPT SMP KASAN NOPTI
[   28.086727] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.087500] CPU: 1 UID: 0 PID: 3092 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.088471] Tainted: [D]=DIE, [W]=WARN
[   28.088828] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.089934] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.090676] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.092605] RSP: 0018:ffff88801aa2f7d8 EFLAGS: 00010202
[   28.093144] RAX: dffffc0000000000 RBX: ffffea00008597c0 RCX: ffffffff81bbb789
[   28.093829] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00008597d0
[   28.094499] RBP: ffff88801aa2f7f8 R08: 0000000000000000 R09: ffffed10035605d4
[   28.095146] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.095884] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ab02ea0
[   28.096618] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   28.097406] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.097954] CR2: 00007f17bd6ea658 CR3: 0000000018b1a004 CR4: 0000000000770ef0
[   28.098612] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.099270] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.099925] PKRU: 55555554
[   28.100191] Call Trace:
[   28.100435]  <TASK>
[   28.100649]  ? show_regs+0x6d/0x80
[   28.100999]  ? die_addr+0x45/0xb0
[   28.101339]  ? exc_general_protection+0x1ae/0x340
[   28.101795]  ? asm_exc_general_protection+0x2b/0x30
[   28.102283]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.102770]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.103266]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.103760]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.104255]  zap_huge_pmd+0x48e/0xd40
[   28.104756]  unmap_page_range+0x1ad6/0x4360
[   28.105192]  ? update_stack_state+0x2d9/0x610
[   28.105643]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.106129]  ? __pfx_unmap_page_range+0x10/0x10
[   28.106582]  unmap_single_vma+0x1ac/0x2d0
[   28.106980]  unmap_vmas+0x210/0x470
[   28.107341]  ? __pfx_unmap_vmas+0x10/0x10
[   28.107734]  ? __pfx_lock_release+0x10/0x10
[   28.108139]  ? lock_release+0x592/0x870
[   28.108511]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   28.108974]  ? __pfx_lock_release+0x10/0x10
[   28.109383]  ? mlock_drain_local+0x27f/0x4b0
[   28.109800]  exit_mmap+0x19e/0xb10
[   28.110149]  ? __pfx_exit_mmap+0x10/0x10
[   28.110537]  ? debug_smp_processor_id+0x20/0x30
[   28.110987]  ? trace_hardirqs_on+0x51/0x60
[   28.111406]  ? kasan_quarantine_put+0xa2/0x200
[   28.111847]  ? __khugepaged_exit+0x266/0x4c0
[   28.112271]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.112779]  __mmput+0xde/0x3a0
[   28.113101]  mmput+0x74/0x90
[   28.113399]  do_exit+0xa03/0x29f0
[   28.113735]  ? trace_hardirqs_on+0x51/0x60
[   28.114141]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.114733]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.115200]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.115691]  ? __pfx_do_exit+0x10/0x10
[   28.116067]  ? __audit_syscall_entry+0x39c/0x500
[   28.116523]  __x64_sys_exit+0x50/0x60
[   28.116888]  x64_sys_call+0x20c9/0x20d0
[   28.117265]  do_syscall_64+0x6d/0x140
[   28.117640]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.118126] RIP: 0033:0x7f17bd43ee5d
[   28.118546] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.119116] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.119836] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.120501] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.121159] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.121810] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.122617] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.123441]  </TASK>
[   28.123678] Modules linked in:
[   28.124216] ---[ end trace 0000000000000000 ]---
[   28.124784] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.125393] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.127294] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   28.127898] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   28.128582] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   28.129246] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   28.129944] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.130777] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   28.131564] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   28.132481] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.133165] CR2: 00007f17bd6ea658 CR3: 0000000018b1a004 CR4: 0000000000770ef0
[   28.133873] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.134535] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.135200] PKRU: 55555554
[   28.135567] note: repro[3092] exited with preempt_count 1
[   28.136085] Fixing recursive fault but reboot is needed!
[   28.136588] BUG: scheduling while atomic: repro/3092/0x00000000
[   28.137205] INFO: lockdep is turned off.
[   28.137594] Modules linked in:
[   28.137904] Preemption disabled at:
[   28.137913] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   28.138785] CPU: 1 UID: 0 PID: 3092 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.139649] Tainted: [D]=DIE, [W]=WARN
[   28.140008] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.141050] Call Trace:
[   28.141295]  <TASK>
[   28.141507]  dump_stack_lvl+0x121/0x150
[   28.141893]  ? do_task_dead+0x28/0x110
[   28.142261]  dump_stack+0x19/0x20
[   28.142598]  __schedule_bug+0x12d/0x180
[   28.142984]  __schedule+0x2401/0x33a0
[   28.143361]  ? do_task_dead+0xa8/0x110
[   28.143735]  ? rcu_is_watching+0x19/0xc0
[   28.144130]  ? lock_release+0x592/0x870
[   28.144516]  ? __pfx___schedule+0x10/0x10
[   28.144926]  ? debug_smp_processor_id+0x20/0x30
[   28.145385]  ? rcu_is_watching+0x19/0xc0
[   28.145776]  ? trace_irq_enable+0xe1/0x120
[   28.146183]  ? do_task_dead+0x4a/0x110
[   28.146559]  do_task_dead+0xe0/0x110
[   28.146925]  make_task_dead+0x384/0x3c0
[   28.147324]  rewind_stack_and_make_dead+0x16/0x20
[   28.147796] RIP: 0033:0x7f17bd43ee5d
[   28.148148] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.148730] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.149461] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.150134] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.150807] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.151475] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.152136] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.152846]  </TASK>
[   28.321538] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#15] PREEMPT SMP KASAN NOPTI
[   28.322721] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.323690] CPU: 1 UID: 0 PID: 3214 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.324782] Tainted: [D]=DIE, [W]=WARN
[   28.325238] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.326580] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.327465] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.329659] RSP: 0018:ffff88801dd2f7d8 EFLAGS: 00010202
[   28.330297] RAX: dffffc0000000000 RBX: ffffea0000aa4500 RCX: ffffffff81bbb789
[   28.331142] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aa4510
[   28.332114] RBP: ffff88801dd2f7f8 R08: 0000000000000000 R09: ffffed1003de2d98
[   28.332963] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.333821] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ef16cc0
[   28.334667] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   28.335625] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.336362] CR2: 00007f17bd6e9ef8 CR3: 00000000171b2005 CR4: 0000000000770ef0
[   28.337209] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.338124] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.338973] PKRU: 55555554
[   28.339313] Call Trace:
[   28.339620]  <TASK>
[   28.339890]  ? show_regs+0x6d/0x80
[   28.340332]  ? die_addr+0x45/0xb0
[   28.340758]  ? exc_general_protection+0x1ae/0x340
[   28.341350]  ? asm_exc_general_protection+0x2b/0x30
[   28.341959]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.342591]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.343217]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.343849]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.344481]  zap_huge_pmd+0x48e/0xd40
[   28.344949]  unmap_page_range+0x1ad6/0x4360
[   28.345473]  ? update_stack_state+0x2d9/0x610
[   28.346032]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.346656]  ? __pfx_unmap_page_range+0x10/0x10
[   28.347226]  unmap_single_vma+0x1ac/0x2d0
[   28.347734]  unmap_vmas+0x210/0x470
[   28.348181]  ? __pfx_unmap_vmas+0x10/0x10
[   28.348684]  ? __pfx_lock_release+0x10/0x10
[   28.349203]  ? lock_release+0x592/0x870
[   28.349686]  ? mas_next_slot+0x133a/0x1a50
[   28.350193]  ? __pfx_lock_release+0x10/0x10
[   28.350719]  ? mlock_drain_local+0x27f/0x4b0
[   28.351253]  exit_mmap+0x19e/0xb10
[   28.351699]  ? __pfx_exit_mmap+0x10/0x10
[   28.352190]  ? debug_smp_processor_id+0x20/0x30
[   28.352767]  ? trace_hardirqs_on+0x51/0x60
[   28.353283]  ? kasan_quarantine_put+0xa2/0x200
[   28.353841]  ? __khugepaged_exit+0x266/0x4c0
[   28.354382]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.355036]  __mmput+0xde/0x3a0
[   28.355444]  mmput+0x74/0x90
[   28.355816]  do_exit+0xa03/0x29f0
[   28.356243]  ? trace_hardirqs_on+0x51/0x60
[   28.356764]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.357530]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.358125]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.358735]  ? __pfx_do_exit+0x10/0x10
[   28.359208]  ? __audit_syscall_entry+0x39c/0x500
[   28.359787]  __x64_sys_exit+0x50/0x60
[   28.360251]  x64_sys_call+0x20c9/0x20d0
[   28.360737]  do_syscall_64+0x6d/0x140
[   28.361200]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.361830] RIP: 0033:0x7f17bd43ee5d
[   28.362275] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.363010] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.363910] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.364755] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.365601] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.366447] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.367244] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.367920]  </TASK>
[   28.368138] Modules linked in:
[   28.368588] ---[ end trace 0000000000000000 ]---
[   28.369042] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.369606] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.370212] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#16] PREEMPT SMP KASAN NOPTI
[   28.371248] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   28.372337] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.372354] CPU: 0 UID: 0 PID: 3250 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.372379] Tainted: [D]=DIE, [W]=WARN
[   28.372384] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.372394] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.372420] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.372911] 
[   28.373588] RSP: 0018:ffff8880189af7d8 EFLAGS: 00010202
[   28.374407] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   28.374753] 
[   28.375836] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   28.376292] RAX: dffffc0000000000 RBX: ffffea0000420cc0 RCX: ffffffff81bbb789
[   28.377931] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   28.378088] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000420cd0
[   28.378566] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.379200] RBP: ffff8880189af7f8 R08: 0000000000000000 R09: ffffed10020ba460
[   28.379352] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   28.379993] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.380005] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880105d2300
[   28.380016] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.380030] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.380042] CR2: 00007fffef6677b8 CR3: 000000001edb4004 CR4: 0000000000770ef0
[   28.380055] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.380066] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.380076] PKRU: 55555554
[   28.380728] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   28.381369] Call Trace:
[   28.382009] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.382644]  <TASK>
[   28.383297] CR2: 00007f17bd6e9ef8 CR3: 00000000171b2005 CR4: 0000000000770ef0
[   28.383934]  ? show_regs+0x6d/0x80
[   28.383963]  ? die_addr+0x45/0xb0
[   28.383987]  ? exc_general_protection+0x1ae/0x340
[   28.384014]  ? asm_exc_general_protection+0x2b/0x30
[   28.384680] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.385320]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.386035] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.386561]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.387194] PKRU: 55555554
[   28.387832]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.388647] note: repro[3214] exited with preempt_count 1
[   28.388900]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.389840] Fixing recursive fault but reboot is needed!
[   28.390074]  zap_huge_pmd+0x48e/0xd40
[   28.397655]  unmap_page_range+0x1ad6/0x4360
[   28.398059]  ? update_stack_state+0x2d9/0x610
[   28.398494]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.398968]  ? __pfx_unmap_page_range+0x10/0x10
[   28.399410]  unmap_single_vma+0x1ac/0x2d0
[   28.399796]  unmap_vmas+0x210/0x470
[   28.400140]  ? __pfx_unmap_vmas+0x10/0x10
[   28.400332] systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   28.400527]  ? __pfx_lock_release+0x10/0x10
[   28.403107] systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   28.403468]  ? lock_release+0x592/0x870
[   28.403489]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   28.405980]  ? __pfx_lock_release+0x10/0x10
[   28.406385]  ? mlock_drain_local+0x27f/0x4b0
[   28.406798]  exit_mmap+0x19e/0xb10
[   28.407144]  ? __pfx_exit_mmap+0x10/0x10
[   28.407529]  ? debug_smp_processor_id+0x20/0x30
[   28.407966]  ? trace_hardirqs_on+0x51/0x60
[   28.408361]  ? kasan_quarantine_put+0xa2/0x200
[   28.408783]  ? __khugepaged_exit+0x266/0x4c0
[   28.409193]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.409694]  __mmput+0xde/0x3a0
[   28.410005]  mmput+0x74/0x90
[   28.410295]  do_exit+0xa03/0x29f0
[   28.410624]  ? trace_hardirqs_on+0x51/0x60
[   28.411015]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.411595]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.412045]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.412515]  ? __pfx_do_exit+0x10/0x10
[   28.412876]  ? __audit_syscall_entry+0x39c/0x500
[   28.413315]  __x64_sys_exit+0x50/0x60
[   28.413668]  x64_sys_call+0x20c9/0x20d0
[   28.414034]  do_syscall_64+0x6d/0x140
[   28.414392]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.414868] RIP: 0033:0x7f17bd43ee5d
[   28.415204] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.415753] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.416432] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.417064] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.417699] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.418335] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.418967] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.419612]  </TASK>
[   28.419825] Modules linked in:
[   28.420203] ---[ end trace 0000000000000000 ]---
[   28.420640] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.421174] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.422799] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   28.423303] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   28.423957] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   28.424603] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   28.425242] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.425886] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   28.426531] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.427249] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.427789] CR2: 00007fffef6677b8 CR3: 000000001edb4004 CR4: 0000000000770ef0
[   28.428452] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.429088] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.429724] PKRU: 55555554
[   28.429982] note: repro[3250] exited with preempt_count 1
[   28.430473] Fixing recursive fault but reboot is needed!
[   28.430945] BUG: scheduling while atomic: repro/3250/0x00000000
[   28.431495] INFO: lockdep is turned off.
[   28.431856] Modules linked in:
[   28.432148] Preemption disabled at:
[   28.432153] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   28.432973] CPU: 0 UID: 0 PID: 3250 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.433792] Tainted: [D]=DIE, [W]=WARN
[   28.434137] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.435138] Call Trace:
[   28.435378]  <TASK>
[   28.435589]  dump_stack_lvl+0x121/0x150
[   28.435962]  ? do_task_dead+0x28/0x110
[   28.436322]  dump_stack+0x19/0x20
[   28.436648]  __schedule_bug+0x12d/0x180
[   28.437022]  __schedule+0x2401/0x33a0
[   28.437381]  ? do_task_dead+0xa8/0x110
[   28.437737]  ? rcu_is_watching+0x19/0xc0
[   28.438111]  ? lock_release+0x592/0x870
[   28.438478]  ? __pfx___schedule+0x10/0x10
[   28.438863]  ? debug_smp_processor_id+0x20/0x30
[   28.439303]  ? rcu_is_watching+0x19/0xc0
[   28.439682]  ? trace_irq_enable+0xe1/0x120
[   28.440077]  ? do_task_dead+0x4a/0x110
[   28.440445]  do_task_dead+0xe0/0x110
[   28.440786]  make_task_dead+0x384/0x3c0
[   28.441165]  rewind_stack_and_make_dead+0x16/0x20
[   28.441607] RIP: 0033:0x7f17bd43ee5d
[   28.441944] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.442492] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.443167] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.443805] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.444441] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.445076] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.445709] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.446358]  </TASK>
[   28.625408] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#17] PREEMPT SMP KASAN NOPTI
[   28.626874] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.627880] CPU: 1 UID: 0 PID: 3343 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.628982] Tainted: [D]=DIE, [W]=WARN
[   28.629449] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.630793] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.631634] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.633796] RSP: 0018:ffff8880262477d8 EFLAGS: 00010202
[   28.634435] RAX: dffffc0000000000 RBX: ffffea0000702840 RCX: ffffffff81bbb789
[   28.635284] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000702850
[   28.636194] RBP: ffff8880262477f8 R08: 0000000000000000 R09: ffffed100266a86c
[   28.637043] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   28.637979] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013354360
[   28.638826] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   28.639781] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.640475] CR2: 00007f17bd49bc20 CR3: 00000000145b8005 CR4: 0000000000770ef0
[   28.641325] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.642251] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.643102] PKRU: 55555554
[   28.643445] Call Trace:
[   28.643752]  <TASK>
[   28.644021]  ? show_regs+0x6d/0x80
[   28.644467]  ? die_addr+0x45/0xb0
[   28.644898]  ? exc_general_protection+0x1ae/0x340
[   28.645618]  ? asm_exc_general_protection+0x2b/0x30
[   28.646285]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.646919]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.647524]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.648122]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.648724]  zap_huge_pmd+0x48e/0xd40
[   28.649171]  unmap_page_range+0x1ad6/0x4360
[   28.649693]  ? __pfx_lock_release+0x10/0x10
[   28.650189]  ? do_raw_spin_trylock+0xbf/0x190
[   28.650712]  ? __kasan_check_read+0x15/0x20
[   28.651211]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.651815]  ? __pfx_unmap_page_range+0x10/0x10
[   28.652370]  unmap_single_vma+0x1ac/0x2d0
[   28.652852]  unmap_vmas+0x210/0x470
[   28.653286]  ? __pfx_unmap_vmas+0x10/0x10
[   28.653771]  ? __pfx_lock_release+0x10/0x10
[   28.654271]  ? lock_release+0x592/0x870
[   28.654733]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   28.655309]  ? __pfx_lock_release+0x10/0x10
[   28.655815]  ? mlock_drain_local+0x27f/0x4b0
[   28.656342]  exit_mmap+0x19e/0xb10
[   28.656761]  ? __pfx_exit_mmap+0x10/0x10
[   28.657230]  ? debug_smp_processor_id+0x20/0x30
[   28.657763]  ? trace_hardirqs_on+0x51/0x60
[   28.658231]  ? kasan_quarantine_put+0xa2/0x200
[   28.658744]  ? __khugepaged_exit+0x266/0x4c0
[   28.659230]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.659827]  __mmput+0xde/0x3a0
[   28.660197]  mmput+0x74/0x90
[   28.660547]  do_exit+0xa03/0x29f0
[   28.661179]  ? trace_hardirqs_on+0x51/0x60
[   28.661742]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.662444]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.662981]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.663508]  ? __pfx_do_exit+0x10/0x10
[   28.663916]  ? __audit_syscall_entry+0x39c/0x500
[   28.664423]  __x64_sys_exit+0x50/0x60
[   28.664824]  x64_sys_call+0x20c9/0x20d0
[   28.665239]  do_syscall_64+0x6d/0x140
[   28.665644]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.666180] RIP: 0033:0x7f17bd43ee5d
[   28.666566] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.667203] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.667989] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.668714] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.669414] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.670105] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.670804] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.671509]  </TASK>
[   28.671739] Modules linked in:
[   28.672177] ---[ end trace 0000000000000000 ]---
[   28.672696] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.673275] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.675062] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   28.675610] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   28.676281] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   28.676947] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   28.677626] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.678300] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   28.678967] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   28.679946] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.680500] CR2: 00007f17bd49bc20 CR3: 00000000145b8005 CR4: 0000000000770ef0
[   28.681167] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.681821] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.682544] PKRU: 55555554
[   28.682801] note: repro[3343] exited with preempt_count 1
[   28.683297] Fixing recursive fault but reboot is needed!
[   28.683287] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#18] PREEMPT SMP KASAN NOPTI
[   28.684852] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.685542] CPU: 0 UID: 0 PID: 3347 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.686378] Tainted: [D]=DIE, [W]=WARN
[   28.686729] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.687735] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.688273] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.689905] RSP: 0018:ffff8880125c77d8 EFLAGS: 00010202
[   28.690392] RAX: dffffc0000000000 RBX: ffffea00006ac300 RCX: ffffffff81bbb789
[   28.691034] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006ac310
[   28.691678] RBP: ffff8880125c77f8 R08: 0000000000000000 R09: ffffed1002c93598
[   28.692319] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.692955] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801649acc0
[   28.693754] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.694478] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.695004] CR2: 00007f52130502f0 CR3: 00000000207e2004 CR4: 0000000000770ef0
[   28.695644] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.696283] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.696919] PKRU: 55555554
[   28.697177] Call Trace:
[   28.697416]  <TASK>
[   28.697628]  ? show_regs+0x6d/0x80
[   28.697968]  ? die_addr+0x45/0xb0
[   28.698304]  ? exc_general_protection+0x1ae/0x340
[   28.698760]  ? asm_exc_general_protection+0x2b/0x30
[   28.699236]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.699721]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.700203]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.700689]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.701170]  zap_huge_pmd+0x48e/0xd40
[   28.701539]  unmap_page_range+0x1ad6/0x4360
[   28.701939]  ? update_stack_state+0x2d9/0x610
[   28.702376]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.702866]  ? __pfx_unmap_page_range+0x10/0x10
[   28.703308]  unmap_single_vma+0x1ac/0x2d0
[   28.703699]  unmap_vmas+0x210/0x470
[   28.704069]  ? __pfx_unmap_vmas+0x10/0x10
[   28.704458]  ? __pfx_lock_release+0x10/0x10
[   28.704863]  ? lock_release+0x592/0x870
[   28.705237]  ? mas_next_slot+0x133a/0x1a50
[   28.705644]  ? __pfx_lock_release+0x10/0x10
[   28.706069]  ? mlock_drain_local+0x27f/0x4b0
[   28.706498]  exit_mmap+0x19e/0xb10
[   28.706849]  ? __pfx_exit_mmap+0x10/0x10
[   28.707239]  ? debug_smp_processor_id+0x20/0x30
[   28.707697]  ? trace_hardirqs_on+0x51/0x60
[   28.708106]  ? kasan_quarantine_put+0xa2/0x200
[   28.708558]  ? __khugepaged_exit+0x266/0x4c0
[   28.708984]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.709515]  __mmput+0xde/0x3a0
[   28.709840]  mmput+0x74/0x90
[   28.710141]  do_exit+0xa03/0x29f0
[   28.710485]  ? trace_hardirqs_on+0x51/0x60
[   28.710885]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.711502]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.711976]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.712467]  ? __pfx_do_exit+0x10/0x10
[   28.712840]  ? __audit_syscall_entry+0x39c/0x500
[   28.713307]  __x64_sys_exit+0x50/0x60
[   28.713681]  x64_sys_call+0x20c9/0x20d0
[   28.714062]  do_syscall_64+0x6d/0x140
[   28.714429]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.714919] RIP: 0033:0x7f17bd43ee5d
[   28.715284] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.715852] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.716551] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.717201] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.717869] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.718531] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.719185] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.719995]  </TASK>
[   28.720282] Modules linked in:
[   28.720918] ---[ end trace 0000000000000000 ]---
[   28.721491] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.722198] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.724539] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   28.725187] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   28.726042] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   28.726897] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   28.727854] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.728729] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   28.729590] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   28.730556] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.731253] CR2: 00007f52130502f0 CR3: 00000000207e2004 CR4: 0000000000770ef0
[   28.732255] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.733119] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.733976] PKRU: 55555554
[   28.734323] note: repro[3347] exited with preempt_count 1
[   28.734970] Fixing recursive fault but reboot is needed!
[   28.735648] BUG: scheduling while atomic: repro/3347/0x00000000
[   28.736364] INFO: lockdep is turned off.
[   28.736852] Modules linked in:
[   28.737237] Preemption disabled at:
[   28.737243] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   28.738322] CPU: 0 UID: 0 PID: 3347 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   28.739414] Tainted: [D]=DIE, [W]=WARN
[   28.739871] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.741205] Call Trace:
[   28.741519]  <TASK>
[   28.741791]  dump_stack_lvl+0x121/0x150
[   28.742275]  ? do_task_dead+0x28/0x110
[   28.742748]  dump_stack+0x19/0x20
[   28.743173]  __schedule_bug+0x12d/0x180
[   28.743665]  __schedule+0x2401/0x33a0
[   28.744130]  ? do_task_dead+0xa8/0x110
[   28.744602]  ? rcu_is_watching+0x19/0xc0
[   28.745095]  ? lock_release+0x592/0x870
[   28.745584]  ? __pfx___schedule+0x10/0x10
[   28.746091]  ? debug_smp_processor_id+0x20/0x30
[   28.746662]  ? rcu_is_watching+0x19/0xc0
[   28.747152]  ? trace_irq_enable+0xe1/0x120
[   28.747672]  ? do_task_dead+0x4a/0x110
[   28.748140]  do_task_dead+0xe0/0x110
[   28.748593]  make_task_dead+0x384/0x3c0
[   28.749090]  rewind_stack_and_make_dead+0x16/0x20
[   28.749674] RIP: 0033:0x7f17bd43ee5d
[   28.750118] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   28.750854] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.751758] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   28.752607] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.753455] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   28.754303] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   28.755146] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   28.756010]  </TASK>
[   29.191787] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#19] PREEMPT SMP KASAN NOPTI
[   29.192895] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.193595] CPU: 1 UID: 0 PID: 3704 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.194457] Tainted: [D]=DIE, [W]=WARN
[   29.194819] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.195824] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.196427] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.198333] RSP: 0018:ffff88801efb77d8 EFLAGS: 00010202
[   29.198830] RAX: dffffc0000000000 RBX: ffffea00003ffa80 RCX: ffffffff81bbb789
[   29.199473] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003ffa90
[   29.200108] RBP: ffff88801efb77f8 R08: 0000000000000000 R09: ffffed10023e7f38
[   29.201039] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   29.201764] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011f3f9c0
[   29.202419] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   29.203152] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.203683] CR2: 00007f17bd5fca50 CR3: 00000000206f2001 CR4: 0000000000770ef0
[   29.204325] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.204962] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.205766] PKRU: 55555554
[   29.206043] Call Trace:
[   29.206289]  <TASK>
[   29.206507]  ? show_regs+0x6d/0x80
[   29.206853]  ? die_addr+0x45/0xb0
[   29.207201]  ? exc_general_protection+0x1ae/0x340
[   29.207658]  ? asm_exc_general_protection+0x2b/0x30
[   29.208149]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.208663]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.209631]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.210503]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.211141]  zap_huge_pmd+0x48e/0xd40
[   29.211619]  unmap_page_range+0x1ad6/0x4360
[   29.212143]  ? __pfx_lock_release+0x10/0x10
[   29.212672]  ? do_raw_spin_trylock+0xbf/0x190
[   29.213219]  ? __kasan_check_read+0x15/0x20
[   29.213753]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.214539]  ? __pfx_unmap_page_range+0x10/0x10
[   29.215142]  unmap_single_vma+0x1ac/0x2d0
[   29.215656]  unmap_vmas+0x210/0x470
[   29.216110]  ? __pfx_unmap_vmas+0x10/0x10
[   29.216644]  ? __pfx_lock_release+0x10/0x10
[   29.217170]  ? lock_release+0x592/0x870
[   29.217651]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.218253]  ? __pfx_lock_release+0x10/0x10
[   29.218782]  ? mlock_drain_local+0x27f/0x4b0
[   29.219324]  exit_mmap+0x19e/0xb10
[   29.219772]  ? __pfx_exit_mmap+0x10/0x10
[   29.220266]  ? debug_smp_processor_id+0x20/0x30
[   29.220849]  ? trace_hardirqs_on+0x51/0x60
[   29.221369]  ? kasan_quarantine_put+0xa2/0x200
[   29.221931]  ? __khugepaged_exit+0x266/0x4c0
[   29.222473]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.223127]  __mmput+0xde/0x3a0
[   29.223536]  mmput+0x74/0x90
[   29.223908]  do_exit+0xa03/0x29f0
[   29.224338]  ? trace_hardirqs_on+0x51/0x60
[   29.224849]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.225613]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.226207]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.226816]  ? __pfx_do_exit+0x10/0x10
[   29.227298]  ? __audit_syscall_entry+0x39c/0x500
[   29.227874]  __x64_sys_exit+0x50/0x60
[   29.228341]  x64_sys_call+0x20c9/0x20d0
[   29.228820]  do_syscall_64+0x6d/0x140
[   29.229288]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.229909] RIP: 0033:0x7f17bd43ee5d
[   29.230357] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.231084] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.231988] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.232834] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.233683] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.234529] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.235374] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.236226]  </TASK>
[   29.236508] Modules linked in:
[   29.236999] ---[ end trace 0000000000000000 ]---
[   29.237568] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.238269] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.240568] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   29.241206] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   29.242057] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   29.242906] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   29.243840] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.244696] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   29.245547] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   29.246504] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.247192] CR2: 00007f17bd5fca50 CR3: 00000000206f2001 CR4: 0000000000770ef0
[   29.248147] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.249007] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.249859] PKRU: 55555554
[   29.250199] note: repro[3704] exited with preempt_count 1
[   29.250849] Fixing recursive fault but reboot is needed!
[   29.251543] check_preemption_disabled: 8 callbacks suppressed
[   29.251554] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3704
[   29.253156] caller is debug_smp_processor_id+0x20/0x30
[   29.253802] CPU: 1 UID: 0 PID: 3704 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.254904] Tainted: [D]=DIE, [W]=WARN
[   29.255366] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.256706] Call Trace:
[   29.257015]  <TASK>
[   29.257292]  dump_stack_lvl+0x121/0x150
[   29.257778]  dump_stack+0x19/0x20
[   29.258203]  check_preemption_disabled+0x168/0x180
[   29.258807]  debug_smp_processor_id+0x20/0x30
[   29.259360]  __schedule+0xa0/0x33a0
[   29.259807]  ? do_task_dead+0xa8/0x110
[   29.260276]  ? debug_smp_processor_id+0x20/0x30
[   29.260852]  ? rcu_is_watching+0x19/0xc0
[   29.261351]  ? lock_release+0x592/0x870
[   29.261834]  ? __pfx___schedule+0x10/0x10
[   29.262346]  ? debug_smp_processor_id+0x20/0x30
[   29.262915]  ? rcu_is_watching+0x19/0xc0
[   29.263413]  ? trace_irq_enable+0xe1/0x120
[   29.263930]  ? do_task_dead+0x4a/0x110
[   29.264405]  do_task_dead+0xe0/0x110
[   29.264855]  make_task_dead+0x384/0x3c0
[   29.265348]  rewind_stack_and_make_dead+0x16/0x20
[   29.265933] RIP: 0033:0x7f17bd43ee5d
[   29.266383] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.267116] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.268021] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.268870] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.269723] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.270575] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.271428] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.272295]  </TASK>
[   29.272644] BUG: scheduling while atomic: repro/3704/0x00000000
[   29.273373] INFO: lockdep is turned off.
[   29.273849] Modules linked in:
[   29.274233] Preemption disabled at:
[   29.274239] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   29.275320] CPU: 1 UID: 0 PID: 3704 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.276410] Tainted: [D]=DIE, [W]=WARN
[   29.276868] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.278209] Call Trace:
[   29.278522]  <TASK>
[   29.278793]  dump_stack_lvl+0x121/0x150
[   29.279281]  ? do_task_dead+0x28/0x110
[   29.279752]  dump_stack+0x19/0x20
[   29.280175]  __schedule_bug+0x12d/0x180
[   29.280667]  __schedule+0x2401/0x33a0
[   29.281132]  ? do_task_dead+0xa8/0x110
[   29.281605]  ? rcu_is_watching+0x19/0xc0
[   29.282108]  ? lock_release+0x592/0x870
[   29.282594]  ? __pfx___schedule+0x10/0x10
[   29.283100]  ? debug_smp_processor_id+0x20/0x30
[   29.283672]  ? rcu_is_watching+0x19/0xc0
[   29.284165]  ? trace_irq_enable+0xe1/0x120
[   29.284687]  ? do_task_dead+0x4a/0x110
[   29.285156]  do_task_dead+0xe0/0x110
[   29.285609]  make_task_dead+0x384/0x3c0
[   29.286098]  rewind_stack_and_make_dead+0x16/0x20
[   29.286684] RIP: 0033:0x7f17bd43ee5d
[   29.287129] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.287869] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.288778] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.289631] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.290483] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.291334] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.292179] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.293040]  </TASK>
[   29.674463] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#20] PREEMPT SMP KASAN NOPTI
[   29.675912] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.676816] CPU: 0 UID: 0 PID: 4001 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.677903] Tainted: [D]=DIE, [W]=WARN
[   29.678362] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.679698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.680411] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.682576] RSP: 0018:ffff8880260077d8 EFLAGS: 00010202
[   29.683206] RAX: dffffc0000000000 RBX: ffffea00004548c0 RCX: ffffffff81bbb789
[   29.684055] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004548d0
[   29.684903] RBP: ffff8880260077f8 R08: 0000000000000000 R09: ffffed1001cf44d8
[   29.685750] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.686596] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800e7a26c0
[   29.687449] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   29.688403] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.689090] CR2: 00007f17bd70adf0 CR3: 0000000012026002 CR4: 0000000000770ef0
[   29.689945] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.690793] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.691641] PKRU: 55555554
[   29.691979] Call Trace:
[   29.692290]  <TASK>
[   29.692563]  ? show_regs+0x6d/0x80
[   29.693002]  ? die_addr+0x45/0xb0
[   29.693434]  ? exc_general_protection+0x1ae/0x340
[   29.694023]  ? asm_exc_general_protection+0x2b/0x30
[   29.694638]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.695265]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.695903]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.696549]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.697178]  zap_huge_pmd+0x48e/0xd40
[   29.697650]  unmap_page_range+0x1ad6/0x4360
[   29.698173]  ? update_stack_state+0x2d9/0x610
[   29.698736]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.699362]  ? __pfx_unmap_page_range+0x10/0x10
[   29.699936]  unmap_single_vma+0x1ac/0x2d0
[   29.700445]  unmap_vmas+0x210/0x470
[   29.700893]  ? __pfx_unmap_vmas+0x10/0x10
[   29.701396]  ? __pfx_lock_release+0x10/0x10
[   29.701913]  ? lock_release+0x592/0x870
[   29.702396]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.703003]  ? __pfx_lock_release+0x10/0x10
[   29.703530]  ? mlock_drain_local+0x27f/0x4b0
[   29.704067]  exit_mmap+0x19e/0xb10
[   29.704508]  ? __pfx_exit_mmap+0x10/0x10
[   29.705000]  ? debug_smp_processor_id+0x20/0x30
[   29.705574]  ? trace_hardirqs_on+0x51/0x60
[   29.706087]  ? kasan_quarantine_put+0xa2/0x200
[   29.706647]  ? __khugepaged_exit+0x266/0x4c0
[   29.707184]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.707845]  __mmput+0xde/0x3a0
[   29.708248]  mmput+0x74/0x90
[   29.708627]  do_exit+0xa03/0x29f0
[   29.709054]  ? trace_hardirqs_on+0x51/0x60
[   29.709569]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.710335]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.710929]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.711542]  ? __pfx_do_exit+0x10/0x10
[   29.712014]  ? __audit_syscall_entry+0x39c/0x500
[   29.712592]  __x64_sys_exit+0x50/0x60
[   29.713055]  x64_sys_call+0x20c9/0x20d0
[   29.713539]  do_syscall_64+0x6d/0x140
[   29.714000]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.714624] RIP: 0033:0x7f17bd43ee5d
[   29.715067] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.715799] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.716699] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.717546] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.718392] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.719238] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.720081] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.720936]  </TASK>
[   29.721214] Modules linked in:
[   29.721783] ---[ end trace 0000000000000000 ]---
[   29.722357] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.723061] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.725316] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   29.725951] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   29.726799] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   29.727669] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   29.728535] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.729384] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   29.730228] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   29.731184] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.731905] CR2: 00007f17bd70adf0 CR3: 0000000012026002 CR4: 0000000000770ef0
[   29.732775] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.733628] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.734475] PKRU: 55555554
[   29.734814] note: repro[4001] exited with preempt_count 1
[   29.735487] Fixing recursive fault but reboot is needed!
[   29.736124] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4001
[   29.737052] caller is debug_smp_processor_id+0x20/0x30
[   29.737693] CPU: 0 UID: 0 PID: 4001 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.738778] Tainted: [D]=DIE, [W]=WARN
[   29.739232] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.740572] Call Trace:
[   29.740879]  <TASK>
[   29.741151]  dump_stack_lvl+0x121/0x150
[   29.741640]  dump_stack+0x19/0x20
[   29.742064]  check_preemption_disabled+0x168/0x180
[   29.742666]  debug_smp_processor_id+0x20/0x30
[   29.743214]  __schedule+0xa0/0x33a0
[   29.743662]  ? do_task_dead+0xa8/0x110
[   29.744130]  ? debug_smp_processor_id+0x20/0x30
[   29.744701]  ? rcu_is_watching+0x19/0xc0
[   29.745194]  ? lock_release+0x592/0x870
[   29.745678]  ? __pfx___schedule+0x10/0x10
[   29.746190]  ? debug_smp_processor_id+0x20/0x30
[   29.746758]  ? rcu_is_watching+0x19/0xc0
[   29.747250]  ? trace_irq_enable+0xe1/0x120
[   29.747773]  ? do_task_dead+0x4a/0x110
[   29.748240]  do_task_dead+0xe0/0x110
[   29.748694]  make_task_dead+0x384/0x3c0
[   29.749180]  rewind_stack_and_make_dead+0x16/0x20
[   29.749763] RIP: 0033:0x7f17bd43ee5d
[   29.750205] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.750941] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.751847] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.752694] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.753543] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.754388] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.755232] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.756091]  </TASK>
[   29.756424] BUG: scheduling while atomic: repro/4001/0x00000000
[   29.757135] INFO: lockdep is turned off.
[   29.757613] Modules linked in:
[   29.757996] Preemption disabled at:
[   29.758002] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   29.759084] CPU: 0 UID: 0 PID: 4001 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.760169] Tainted: [D]=DIE, [W]=WARN
[   29.760628] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.761961] Call Trace:
[   29.762269]  <TASK>
[   29.762549]  dump_stack_lvl+0x121/0x150
[   29.763033]  ? do_task_dead+0x28/0x110
[   29.763502]  dump_stack+0x19/0x20
[   29.763926]  __schedule_bug+0x12d/0x180
[   29.764416]  __schedule+0x2401/0x33a0
[   29.764879]  ? do_task_dead+0xa8/0x110
[   29.765353]  ? rcu_is_watching+0x19/0xc0
[   29.765844]  ? lock_release+0x592/0x870
[   29.766328]  ? __pfx___schedule+0x10/0x10
[   29.766834]  ? debug_smp_processor_id+0x20/0x30
[   29.767405]  ? rcu_is_watching+0x19/0xc0
[   29.767898]  ? trace_irq_enable+0xe1/0x120
[   29.768417]  ? do_task_dead+0x4a/0x110
[   29.768882]  do_task_dead+0xe0/0x110
[   29.769334]  make_task_dead+0x384/0x3c0
[   29.769821]  rewind_stack_and_make_dead+0x16/0x20
[   29.770402] RIP: 0033:0x7f17bd43ee5d
[   29.770845] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.771566] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.772423] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.773223] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.774029] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.774830] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.775634] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.776447]  </TASK>
[   29.796704] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#21] PREEMPT SMP KASAN NOPTI
[   29.798151] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.799054] CPU: 0 UID: 0 PID: 4093 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.800140] Tainted: [D]=DIE, [W]=WARN
[   29.800599] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.801932] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.802643] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.804743] RSP: 0018:ffff8880132df7d8 EFLAGS: 00010202
[   29.805346] RAX: dffffc0000000000 RBX: ffffea00007d3dc0 RCX: ffffffff81bbb789
[   29.806147] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007d3dd0
[   29.806949] RBP: ffff8880132df7f8 R08: 0000000000000000 R09: ffffed1003b84598
[   29.807760] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.808561] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801dc22cc0
[   29.809367] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   29.810267] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.810910] CR2: 00007fffef6677b8 CR3: 000000001abe6003 CR4: 0000000000770ef0
[   29.811675] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.812436] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.813192] PKRU: 55555554
[   29.813500] Call Trace:
[   29.813777]  <TASK>
[   29.814021]  ? show_regs+0x6d/0x80
[   29.814418]  ? die_addr+0x45/0xb0
[   29.814804]  ? exc_general_protection+0x1ae/0x340
[   29.815336]  ? asm_exc_general_protection+0x2b/0x30
[   29.815885]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.816452]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.817019]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.817589]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.818150]  zap_huge_pmd+0x48e/0xd40
[   29.818557]  unmap_page_range+0x1ad6/0x4360
[   29.819004]  ? update_stack_state+0x2d9/0x610
[   29.819488]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.820019]  ? __pfx_unmap_page_range+0x10/0x10
[   29.820514]  unmap_single_vma+0x1ac/0x2d0
[   29.820948]  unmap_vmas+0x210/0x470
[   29.821336]  ? __pfx_unmap_vmas+0x10/0x10
[   29.821765]  ? __pfx_lock_release+0x10/0x10
[   29.822208]  ? lock_release+0x592/0x870
[   29.822622]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.823141]  ? __pfx_lock_release+0x10/0x10
[   29.823594]  ? mlock_drain_local+0x27f/0x4b0
[   29.824055]  exit_mmap+0x19e/0xb10
[   29.824434]  ? __pfx_exit_mmap+0x10/0x10
[   29.824839]  ? debug_smp_processor_id+0x20/0x30
[   29.825311]  ? trace_hardirqs_on+0x51/0x60
[   29.825731]  ? kasan_quarantine_put+0xa2/0x200
[   29.826191]  ? __khugepaged_exit+0x266/0x4c0
[   29.826635]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.827172]  __mmput+0xde/0x3a0
[   29.827503]  mmput+0x74/0x90
[   29.827810]  do_exit+0xa03/0x29f0
[   29.828160]  ? trace_hardirqs_on+0x51/0x60
[   29.828582]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.829208]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.829696]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.830171]  ? __pfx_do_exit+0x10/0x10
[   29.830546]  ? __audit_syscall_entry+0x39c/0x500
[   29.831003]  __x64_sys_exit+0x50/0x60
[   29.831372]  x64_sys_call+0x20c9/0x20d0
[   29.831749]  do_syscall_64+0x6d/0x140
[   29.832113]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.832606] RIP: 0033:0x7f17bd43ee5d
[   29.832954] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.833532] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.834236] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.834902] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.835570] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.836215] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.836852] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.837502]  </TASK>
[   29.837713] Modules linked in:
[   29.838158] ---[ end trace 0000000000000000 ]---
[   29.838591] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.839123] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.840808] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   29.841293] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   29.841933] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   29.842439] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   29.842954] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.843646] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   29.844266] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   29.844967] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.845472] CR2: 00007fffef6677b8 CR3: 000000001abe6003 CR4: 0000000000770ef0
[   29.846089] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.846703] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.847297] PKRU: 55555554
[   29.847611] note: repro[4093] exited with preempt_count 1
[   29.848068] Fixing recursive fault but reboot is needed!
[   29.848516] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4093
[   29.849157] caller is debug_smp_processor_id+0x20/0x30
[   29.849607] CPU: 0 UID: 0 PID: 4093 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.850368] Tainted: [D]=DIE, [W]=WARN
[   29.850686] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.851623] Call Trace:
[   29.851831]  <TASK>
[   29.852014]  dump_stack_lvl+0x121/0x150
[   29.852345]  dump_stack+0x19/0x20
[   29.852632]  check_preemption_disabled+0x168/0x180
[   29.853037]  debug_smp_processor_id+0x20/0x30
[   29.853410]  __schedule+0xa0/0x33a0
[   29.853711]  ? do_task_dead+0xa8/0x110
[   29.854027]  ? debug_smp_processor_id+0x20/0x30
[   29.854411]  ? rcu_is_watching+0x19/0xc0
[   29.854746]  ? lock_release+0x592/0x870
[   29.855072]  ? __pfx___schedule+0x10/0x10
[   29.855418]  ? debug_smp_processor_id+0x20/0x30
[   29.855800]  ? rcu_is_watching+0x19/0xc0
[   29.856132]  ? trace_irq_enable+0xe1/0x120
[   29.856482]  ? do_task_dead+0x4a/0x110
[   29.856797]  do_task_dead+0xe0/0x110
[   29.857097]  make_task_dead+0x384/0x3c0
[   29.857419]  rewind_stack_and_make_dead+0x16/0x20
[   29.857797] RIP: 0033:0x7f17bd43ee5d
[   29.858086] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.858566] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.859151] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.859704] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.860252] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.860805] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.861357] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.861917]  </TASK>
[   29.862151] BUG: scheduling while atomic: repro/4093/0x00000000
[   29.862607] INFO: lockdep is turned off.
[   29.862906] Modules linked in:
[   29.863148] Preemption disabled at:
[   29.863151] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   29.863869] CPU: 0 UID: 0 PID: 4093 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   29.864557] Tainted: [D]=DIE, [W]=WARN
[   29.864842] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.865683] Call Trace:
[   29.865876]  <TASK>
[   29.866048]  dump_stack_lvl+0x121/0x150
[   29.866345]  ? do_task_dead+0x28/0x110
[   29.866630]  dump_stack+0x19/0x20
[   29.866887]  __schedule_bug+0x12d/0x180
[   29.867184]  __schedule+0x2401/0x33a0
[   29.867470]  ? do_task_dead+0xa8/0x110
[   29.867755]  ? rcu_is_watching+0x19/0xc0
[   29.868054]  ? lock_release+0x592/0x870
[   29.868349]  ? __pfx___schedule+0x10/0x10
[   29.868654]  ? debug_smp_processor_id+0x20/0x30
[   29.868988]  ? rcu_is_watching+0x19/0xc0
[   29.869281]  ? trace_irq_enable+0xe1/0x120
[   29.869586]  ? do_task_dead+0x4a/0x110
[   29.869862]  do_task_dead+0xe0/0x110
[   29.870127]  make_task_dead+0x384/0x3c0
[   29.870416]  rewind_stack_and_make_dead+0x16/0x20
[   29.870758] RIP: 0033:0x7f17bd43ee5d
[   29.871020] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   29.871444] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.871963] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   29.872447] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.872930] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   29.873414] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   29.873897] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   29.874390]  </TASK>
[   30.516457] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#22] PREEMPT SMP KASAN NOPTI
[   30.517581] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.518291] CPU: 1 UID: 0 PID: 4530 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.519153] Tainted: [D]=DIE, [W]=WARN
[   30.519618] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.520817] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.521377] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.523034] RSP: 0018:ffff88800fbdf7d8 EFLAGS: 00010202
[   30.523528] RAX: dffffc0000000000 RBX: ffffea000043fe80 RCX: ffffffff81bbb789
[   30.524185] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000043fe90
[   30.524838] RBP: ffff88800fbdf7f8 R08: 0000000000000000 R09: ffffed10028dbf2c
[   30.525493] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.526140] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880146df960
[   30.526797] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   30.527533] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.528066] CR2: 00007f17bd6ea5b8 CR3: 000000001a9ec001 CR4: 0000000000770ef0
[   30.528713] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.529363] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.530006] PKRU: 55555554
[   30.530271] Call Trace:
[   30.530518]  <TASK>
[   30.530735]  ? show_regs+0x6d/0x80
[   30.531086]  ? die_addr+0x45/0xb0
[   30.531427]  ? exc_general_protection+0x1ae/0x340
[   30.531891]  ? asm_exc_general_protection+0x2b/0x30
[   30.532367]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.532864]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.533359]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.533861]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.534355]  zap_huge_pmd+0x48e/0xd40
[   30.534732]  unmap_page_range+0x1ad6/0x4360
[   30.535144]  ? update_stack_state+0x2d9/0x610
[   30.535589]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.536080]  ? __pfx_unmap_page_range+0x10/0x10
[   30.536535]  unmap_single_vma+0x1ac/0x2d0
[   30.536939]  unmap_vmas+0x210/0x470
[   30.537305]  ? __pfx_unmap_vmas+0x10/0x10
[   30.537711]  ? __pfx_lock_release+0x10/0x10
[   30.538114]  ? lock_release+0x592/0x870
[   30.538494]  ? mas_next_slot+0x133a/0x1a50
[   30.538902]  ? __pfx_lock_release+0x10/0x10
[   30.539319]  ? mlock_drain_local+0x27f/0x4b0
[   30.539750]  exit_mmap+0x19e/0xb10
[   30.540099]  ? __pfx_exit_mmap+0x10/0x10
[   30.540485]  ? debug_smp_processor_id+0x20/0x30
[   30.540945]  ? trace_hardirqs_on+0x51/0x60
[   30.541359]  ? kasan_quarantine_put+0xa2/0x200
[   30.541791]  ? __khugepaged_exit+0x266/0x4c0
[   30.542209]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.542728]  __mmput+0xde/0x3a0
[   30.543047]  mmput+0x74/0x90
[   30.543346]  do_exit+0xa03/0x29f0
[   30.543686]  ? trace_hardirqs_on+0x51/0x60
[   30.544099]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.544714]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.545175]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.545666]  ? __pfx_do_exit+0x10/0x10
[   30.546035]  ? __audit_syscall_entry+0x39c/0x500
[   30.546499]  __x64_sys_exit+0x50/0x60
[   30.546864]  x64_sys_call+0x20c9/0x20d0
[   30.547241]  do_syscall_64+0x6d/0x140
[   30.547607]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.548093] RIP: 0033:0x7f17bd43ee5d
[   30.548448] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.549018] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.549833] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.550550] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.551216] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.551869] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.552527] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.553187]  </TASK>
[   30.553413] Modules linked in:
[   30.553802] ---[ end trace 0000000000000000 ]---
[   30.554241] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.554798] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.556885] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   30.557404] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   30.558060] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   30.558741] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   30.559417] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.560070] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   30.560731] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   30.561479] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.562031] CR2: 00007f17bd6ea5b8 CR3: 000000001a9ec001 CR4: 0000000000770ef0
[   30.562683] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.563346] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.564015] PKRU: 55555554
[   30.564286] note: repro[4530] exited with preempt_count 1
[   30.564781] Fixing recursive fault but reboot is needed!
[   30.565268] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4530
[   30.565981] caller is debug_smp_processor_id+0x20/0x30
[   30.566480] CPU: 1 UID: 0 PID: 4530 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.567313] Tainted: [D]=DIE, [W]=WARN
[   30.567671] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.568707] Call Trace:
[   30.568951]  <TASK>
[   30.569166]  dump_stack_lvl+0x121/0x150
[   30.569547]  dump_stack+0x19/0x20
[   30.569873]  check_preemption_disabled+0x168/0x180
[   30.570352]  debug_smp_processor_id+0x20/0x30
[   30.570794]  __schedule+0xa0/0x33a0
[   30.571148]  ? do_task_dead+0xa8/0x110
[   30.571511]  ? debug_smp_processor_id+0x20/0x30
[   30.571947]  ? rcu_is_watching+0x19/0xc0
[   30.572340]  ? lock_release+0x592/0x870
[   30.572725]  ? __pfx___schedule+0x10/0x10
[   30.573124]  ? debug_smp_processor_id+0x20/0x30
[   30.573571]  ? rcu_is_watching+0x19/0xc0
[   30.573966]  ? trace_irq_enable+0xe1/0x120
[   30.574386]  ? do_task_dead+0x4a/0x110
[   30.574751]  do_task_dead+0xe0/0x110
[   30.575108]  make_task_dead+0x384/0x3c0
[   30.575490]  rewind_stack_and_make_dead+0x16/0x20
[   30.575940] RIP: 0033:0x7f17bd43ee5d
[   30.576287] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.576855] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.577564] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.578210] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.578866] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.579517] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.580175] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.580847]  </TASK>
[   30.581162] BUG: scheduling while atomic: repro/4530/0x00000000
[   30.581723] INFO: lockdep is turned off.
[   30.582099] Modules linked in:
[   30.582410] Preemption disabled at:
[   30.582416] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   30.583243] CPU: 1 UID: 0 PID: 4530 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.584099] Tainted: [D]=DIE, [W]=WARN
[   30.584455] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.585487] Call Trace:
[   30.585726]  <TASK>
[   30.585940]  dump_stack_lvl+0x121/0x150
[   30.586334]  ? do_task_dead+0x28/0x110
[   30.586694]  dump_stack+0x19/0x20
[   30.587033]  __schedule_bug+0x12d/0x180
[   30.587420]  __schedule+0x2401/0x33a0
[   30.587782]  ? do_task_dead+0xa8/0x110
[   30.588150]  ? rcu_is_watching+0x19/0xc0
[   30.588537]  ? lock_release+0x592/0x870
[   30.588920]  ? __pfx___schedule+0x10/0x10
[   30.589319]  ? debug_smp_processor_id+0x20/0x30
[   30.589763]  ? rcu_is_watching+0x19/0xc0
[   30.590148]  ? trace_irq_enable+0xe1/0x120
[   30.590550]  ? do_task_dead+0x4a/0x110
[   30.590918]  do_task_dead+0xe0/0x110
[   30.591283]  make_task_dead+0x384/0x3c0
[   30.591668]  rewind_stack_and_make_dead+0x16/0x20
[   30.592124] RIP: 0033:0x7f17bd43ee5d
[   30.592476] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.593044] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.593742] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.594390] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.595043] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.595708] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.596372] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.597038]  </TASK>
[   30.598955] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#23] PREEMPT SMP KASAN NOPTI
[   30.599666] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.600119] CPU: 0 UID: 0 PID: 4593 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.600661] Tainted: [D]=DIE, [W]=WARN
[   30.600892] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.601549] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.601905] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.602944] RSP: 0018:ffff88800fee77d8 EFLAGS: 00010202
[   30.603298] RAX: dffffc0000000000 RBX: ffffea00005927c0 RCX: ffffffff81bbb789
[   30.603729] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00005927d0
[   30.604127] RBP: ffff88800fee77f8 R08: 0000000000000000 R09: ffffed10025e5938
[   30.604544] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.604955] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012f2c9c0
[   30.605366] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.605823] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.606174] CR2: 00007f469c257000 CR3: 000000002071a004 CR4: 0000000000770ef0
[   30.606593] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.607157] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.607684] PKRU: 55555554
[   30.607857] Call Trace:
[   30.608018]  <TASK>
[   30.608151]  ? show_regs+0x6d/0x80
[   30.608376]  ? die_addr+0x45/0xb0
[   30.608595]  ? exc_general_protection+0x1ae/0x340
[   30.608888]  ? asm_exc_general_protection+0x2b/0x30
[   30.609202]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.609517]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.609826]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.610139]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.610457]  zap_huge_pmd+0x48e/0xd40
[   30.610694]  unmap_page_range+0x1ad6/0x4360
[   30.610954]  ? update_stack_state+0x2d9/0x610
[   30.611248]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.611568]  ? __pfx_unmap_page_range+0x10/0x10
[   30.611856]  unmap_single_vma+0x1ac/0x2d0
[   30.612119]  unmap_vmas+0x210/0x470
[   30.612348]  ? __pfx_unmap_vmas+0x10/0x10
[   30.612609]  ? __pfx_lock_release+0x10/0x10
[   30.612875]  ? lock_release+0x592/0x870
[   30.613205]  ? mas_next_slot+0x133a/0x1a50
[   30.613580]  ? __pfx_lock_release+0x10/0x10
[   30.613882]  ? mlock_drain_local+0x27f/0x4b0
[   30.614148]  exit_mmap+0x19e/0xb10
[   30.614388]  ? __pfx_exit_mmap+0x10/0x10
[   30.614643]  ? debug_smp_processor_id+0x20/0x30
[   30.614940]  ? trace_hardirqs_on+0x51/0x60
[   30.615204]  ? kasan_quarantine_put+0xa2/0x200
[   30.615494]  ? __khugepaged_exit+0x266/0x4c0
[   30.615771]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.616104]  __mmput+0xde/0x3a0
[   30.616313]  mmput+0x74/0x90
[   30.616502]  do_exit+0xa03/0x29f0
[   30.616715]  ? trace_hardirqs_on+0x51/0x60
[   30.616967]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.617346]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.617651]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.617962]  ? __pfx_do_exit+0x10/0x10
[   30.618216]  ? __audit_syscall_entry+0x39c/0x500
[   30.618520]  __x64_sys_exit+0x50/0x60
[   30.618756]  x64_sys_call+0x20c9/0x20d0
[   30.619010]  do_syscall_64+0x6d/0x140
[   30.619253]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.619577] RIP: 0033:0x7f17bd43ee5d
[   30.619806] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.620170] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.620640] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.621063] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.621602] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.622127] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.622556] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.622982]  </TASK>
[   30.623128] Modules linked in:
[   30.623483] ---[ end trace 0000000000000000 ]---
[   30.623689] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.623956] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.624749] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   30.624984] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   30.625295] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   30.625601] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   30.625915] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.626223] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   30.626534] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.626879] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.627129] CR2: 00007f469c257000 CR3: 000000002071a004 CR4: 0000000000770ef0
[   30.627497] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.627903] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.628271] PKRU: 55555554
[   30.628403] note: repro[4593] exited with preempt_count 1
[   30.628642] Fixing recursive fault but reboot is needed!
[   30.628875] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4593
[   30.629217] caller is debug_smp_processor_id+0x20/0x30
[   30.629457] CPU: 0 UID: 0 PID: 4593 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.629850] Tainted: [D]=DIE, [W]=WARN
[   30.630019] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.630506] Call Trace:
[   30.630622]  <TASK>
[   30.630723]  dump_stack_lvl+0x121/0x150
[   30.630914]  dump_stack+0x19/0x20
[   30.631071]  check_preemption_disabled+0x168/0x180
[   30.631296]  debug_smp_processor_id+0x20/0x30
[   30.631503]  __schedule+0xa0/0x33a0
[   30.631694]  ? do_task_dead+0xa8/0x110
[   30.631867]  ? debug_smp_processor_id+0x20/0x30
[   30.632079]  ? rcu_is_watching+0x19/0xc0
[   30.632262]  ? lock_release+0x592/0x870
[   30.632444]  ? __pfx___schedule+0x10/0x10
[   30.632634]  ? debug_smp_processor_id+0x20/0x30
[   30.632842]  ? rcu_is_watching+0x19/0xc0
[   30.633023]  ? trace_irq_enable+0xe1/0x120
[   30.633216]  ? do_task_dead+0x4a/0x110
[   30.633393]  do_task_dead+0xe0/0x110
[   30.633559]  make_task_dead+0x384/0x3c0
[   30.633738]  rewind_stack_and_make_dead+0x16/0x20
[   30.633950] RIP: 0033:0x7f17bd43ee5d
[   30.634116] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.634382] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.634714] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.635034] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.635346] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.635655] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.635964] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.636281]  </TASK>
[   30.636416] BUG: scheduling while atomic: repro/4593/0x00000000
[   30.636692] INFO: lockdep is turned off.
[   30.636869] Modules linked in:
[   30.637013] Preemption disabled at:
[   30.637015] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   30.637415] CPU: 0 UID: 0 PID: 4593 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.637812] Tainted: [D]=DIE, [W]=WARN
[   30.638019] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.638630] Call Trace:
[   30.638746]  <TASK>
[   30.638849]  dump_stack_lvl+0x121/0x150
[   30.639028]  ? do_task_dead+0x28/0x110
[   30.639203]  dump_stack+0x19/0x20
[   30.639364]  __schedule_bug+0x12d/0x180
[   30.639548]  __schedule+0x2401/0x33a0
[   30.639721]  ? do_task_dead+0xa8/0x110
[   30.639895]  ? rcu_is_watching+0x19/0xc0
[   30.640076]  ? lock_release+0x592/0x870
[   30.640256]  ? __pfx___schedule+0x10/0x10
[   30.640443]  ? debug_smp_processor_id+0x20/0x30
[   30.640657]  ? rcu_is_watching+0x19/0xc0
[   30.640842]  ? trace_irq_enable+0xe1/0x120
[   30.641031]  ? do_task_dead+0x4a/0x110
[   30.641207]  do_task_dead+0xe0/0x110
[   30.641373]  make_task_dead+0x384/0x3c0
[   30.641555]  rewind_stack_and_make_dead+0x16/0x20
[   30.641768] RIP: 0033:0x7f17bd43ee5d
[   30.641933] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.642205] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.642532] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.642836] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.643147] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.643455] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.643765] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.644077]  </TASK>
[   30.647428] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#24] PREEMPT SMP KASAN NOPTI
[   30.647956] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.648287] CPU: 0 UID: 0 PID: 4632 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.648682] Tainted: [D]=DIE, [W]=WARN
[   30.648850] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.649334] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.649602] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.650385] RSP: 0018:ffff88802055f7d8 EFLAGS: 00010202
[   30.650688] RAX: dffffc0000000000 RBX: ffffea0000420d40 RCX: ffffffff81bbb789
[   30.651054] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000420d50
[   30.651373] RBP: ffff88802055f7f8 R08: 0000000000000000 R09: ffffed1001a8e374
[   30.651684] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.651992] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800d471ba0
[   30.652303] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.652653] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.652904] CR2: 00007fffef6677b8 CR3: 000000001ec64001 CR4: 0000000000770ef0
[   30.653214] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.653527] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.653832] PKRU: 55555554
[   30.653954] Call Trace:
[   30.654066]  <TASK>
[   30.654169]  ? show_regs+0x6d/0x80
[   30.654336]  ? die_addr+0x45/0xb0
[   30.654494]  ? exc_general_protection+0x1ae/0x340
[   30.654709]  ? asm_exc_general_protection+0x2b/0x30
[   30.654936]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.655173]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.655417]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.655653]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.655887]  zap_huge_pmd+0x48e/0xd40
[   30.656067]  unmap_page_range+0x1ad6/0x4360
[   30.656296]  ? update_stack_state+0x2d9/0x610
[   30.656573]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.656864]  ? __pfx_unmap_page_range+0x10/0x10
[   30.657135]  unmap_single_vma+0x1ac/0x2d0
[   30.657331]  unmap_vmas+0x210/0x470
[   30.657504]  ? __pfx_unmap_vmas+0x10/0x10
[   30.657690]  ? __pfx_lock_release+0x10/0x10
[   30.657886]  ? lock_release+0x592/0x870
[   30.658066]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   30.658296]  ? __pfx_lock_release+0x10/0x10
[   30.658494]  ? mlock_drain_local+0x27f/0x4b0
[   30.658695]  exit_mmap+0x19e/0xb10
[   30.658862]  ? __pfx_exit_mmap+0x10/0x10
[   30.659053]  ? debug_smp_processor_id+0x20/0x30
[   30.659270]  ? trace_hardirqs_on+0x51/0x60
[   30.659465]  ? kasan_quarantine_put+0xa2/0x200
[   30.659674]  ? __khugepaged_exit+0x266/0x4c0
[   30.659877]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.660118]  __mmput+0xde/0x3a0
[   30.660270]  mmput+0x74/0x90
[   30.660414]  do_exit+0xa03/0x29f0
[   30.660577]  ? trace_hardirqs_on+0x51/0x60
[   30.660764]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.661045]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.661266]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.661492]  ? __pfx_do_exit+0x10/0x10
[   30.661669]  ? __audit_syscall_entry+0x39c/0x500
[   30.661882]  __x64_sys_exit+0x50/0x60
[   30.662055]  x64_sys_call+0x20c9/0x20d0
[   30.662233]  do_syscall_64+0x6d/0x140
[   30.662409]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.662640] RIP: 0033:0x7f17bd43ee5d
[   30.662805] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.663071] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.663403] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.663712] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.664020] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.664335] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.664644] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.664958]  </TASK>
[   30.665063] Modules linked in:
[   30.665298] ---[ end trace 0000000000000000 ]---
[   30.665573] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.665894] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.666802] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   30.667036] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   30.667354] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   30.667685] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   30.667998] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.668308] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   30.668618] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   30.668971] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.669226] CR2: 00007fffef6677b8 CR3: 000000001ec64001 CR4: 0000000000770ef0
[   30.669537] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.669847] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.670152] PKRU: 55555554
[   30.670280] note: repro[4632] exited with preempt_count 1
[   30.670518] Fixing recursive fault but reboot is needed!
[   30.670754] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4632
[   30.671097] caller is debug_smp_processor_id+0x20/0x30
[   30.671335] CPU: 0 UID: 0 PID: 4632 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.671757] Tainted: [D]=DIE, [W]=WARN
[   30.671983] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.672591] Call Trace:
[   30.672708]  <TASK>
[   30.672814]  dump_stack_lvl+0x121/0x150
[   30.673003]  dump_stack+0x19/0x20
[   30.673164]  check_preemption_disabled+0x168/0x180
[   30.673393]  debug_smp_processor_id+0x20/0x30
[   30.673596]  __schedule+0xa0/0x33a0
[   30.673766]  ? do_task_dead+0xa8/0x110
[   30.673941]  ? debug_smp_processor_id+0x20/0x30
[   30.674153]  ? rcu_is_watching+0x19/0xc0
[   30.674342]  ? lock_release+0x592/0x870
[   30.674524]  ? __pfx___schedule+0x10/0x10
[   30.674717]  ? debug_smp_processor_id+0x20/0x30
[   30.674932]  ? rcu_is_watching+0x19/0xc0
[   30.675114]  ? trace_irq_enable+0xe1/0x120
[   30.675308]  ? do_task_dead+0x4a/0x110
[   30.675481]  do_task_dead+0xe0/0x110
[   30.675649]  make_task_dead+0x384/0x3c0
[   30.675831]  rewind_stack_and_make_dead+0x16/0x20
[   30.676043] RIP: 0033:0x7f17bd43ee5d
[   30.676208] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.676477] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.676806] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.677113] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.677430] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.677738] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.678045] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.678356]  </TASK>
[   30.678487] BUG: scheduling while atomic: repro/4632/0x00000000
[   30.678815] INFO: lockdep is turned off.
[   30.678991] Modules linked in:
[   30.679135] Preemption disabled at:
[   30.679138] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   30.679541] CPU: 0 UID: 0 PID: 4632 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   30.679940] Tainted: [D]=DIE, [W]=WARN
[   30.680110] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.680599] Call Trace:
[   30.680718]  <TASK>
[   30.680822]  dump_stack_lvl+0x121/0x150
[   30.681012]  ? do_task_dead+0x28/0x110
[   30.681186]  dump_stack+0x19/0x20
[   30.681359]  __schedule_bug+0x12d/0x180
[   30.681543]  __schedule+0x2401/0x33a0
[   30.681719]  ? do_task_dead+0xa8/0x110
[   30.681894]  ? rcu_is_watching+0x19/0xc0
[   30.682126]  ? lock_release+0x592/0x870
[   30.682357]  ? __pfx___schedule+0x10/0x10
[   30.682607]  ? debug_smp_processor_id+0x20/0x30
[   30.682888]  ? rcu_is_watching+0x19/0xc0
[   30.683075]  ? trace_irq_enable+0xe1/0x120
[   30.683270]  ? do_task_dead+0x4a/0x110
[   30.683451]  do_task_dead+0xe0/0x110
[   30.683619]  make_task_dead+0x384/0x3c0
[   30.683802]  rewind_stack_and_make_dead+0x16/0x20
[   30.684019] RIP: 0033:0x7f17bd43ee5d
[   30.684187] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   30.684457] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.684787] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   30.685095] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.685409] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   30.685712] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   30.686018] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   30.686338]  </TASK>
[   31.160346] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#25] PREEMPT SMP KASAN NOPTI
[   31.161355] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.161994] CPU: 0 UID: 0 PID: 4936 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.162777] Tainted: [D]=DIE, [W]=WARN
[   31.163098] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.164042] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.164565] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.166122] RSP: 0018:ffff88801de6f7d8 EFLAGS: 00010202
[   31.166582] RAX: dffffc0000000000 RBX: ffffea00004bf740 RCX: ffffffff81bbb789
[   31.167183] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004bf750
[   31.167783] RBP: ffff88801de6f7f8 R08: 0000000000000000 R09: ffffed1003ec8e00
[   31.168435] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.169038] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f647000
[   31.169645] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.170334] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.170829] CR2: 00007fffef6677b8 CR3: 000000001445c004 CR4: 0000000000770ef0
[   31.171431] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.172024] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.172713] PKRU: 55555554
[   31.172981] Call Trace:
[   31.173188]  <TASK>
[   31.173384]  ? show_regs+0x6d/0x80
[   31.173692]  ? die_addr+0x45/0xb0
[   31.173996]  ? exc_general_protection+0x1ae/0x340
[   31.174400]  ? asm_exc_general_protection+0x2b/0x30
[   31.174820]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.175252]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.175690]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.176118]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.176575]  zap_huge_pmd+0x48e/0xd40
[   31.176922]  unmap_page_range+0x1ad6/0x4360
[   31.177297]  ? update_stack_state+0x2d9/0x610
[   31.177687]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.178112]  ? __pfx_unmap_page_range+0x10/0x10
[   31.178518]  unmap_single_vma+0x1ac/0x2d0
[   31.178864]  unmap_vmas+0x210/0x470
[   31.179158]  ? __pfx_unmap_vmas+0x10/0x10
[   31.179494]  ? __pfx_lock_release+0x10/0x10
[   31.179840]  ? lock_release+0x592/0x870
[   31.180153]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.180563]  ? __pfx_lock_release+0x10/0x10
[   31.180935]  ? mlock_drain_local+0x27f/0x4b0
[   31.181290]  exit_mmap+0x19e/0xb10
[   31.181583]  ? __pfx_exit_mmap+0x10/0x10
[   31.181906]  ? debug_smp_processor_id+0x20/0x30
[   31.182288]  ? trace_hardirqs_on+0x51/0x60
[   31.182631]  ? kasan_quarantine_put+0xa2/0x200
[   31.182998]  ? __khugepaged_exit+0x266/0x4c0
[   31.183387]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.184045]  __mmput+0xde/0x3a0
[   31.184401]  mmput+0x74/0x90
[   31.184662]  do_exit+0xa03/0x29f0
[   31.184948]  ? trace_hardirqs_on+0x51/0x60
[   31.185296]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.185795]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.186195]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.186603]  ? __pfx_do_exit+0x10/0x10
[   31.186918]  ? __audit_syscall_entry+0x39c/0x500
[   31.187300]  __x64_sys_exit+0x50/0x60
[   31.187608]  x64_sys_call+0x20c9/0x20d0
[   31.187923]  do_syscall_64+0x6d/0x140
[   31.188216]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.188602] RIP: 0033:0x7f17bd43ee5d
[   31.188880] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.189338] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.189893] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.190621] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.191128] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.191657] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.192168] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.192686]  </TASK>
[   31.192861] Modules linked in:
[   31.193187] ---[ end trace 0000000000000000 ]---
[   31.193538] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.193980] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.195312] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   31.195727] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   31.196493] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   31.197050] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   31.197543] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.198032] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   31.198530] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.199082] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.199578] CR2: 00007fffef6677b8 CR3: 000000001445c004 CR4: 0000000000770ef0
[   31.200081] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.200579] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.201067] PKRU: 55555554
[   31.201266] note: repro[4936] exited with preempt_count 1
[   31.201646] Fixing recursive fault but reboot is needed!
[   31.202012] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4936
[   31.202545] caller is debug_smp_processor_id+0x20/0x30
[   31.203036] CPU: 0 UID: 0 PID: 4936 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.203688] Tainted: [D]=DIE, [W]=WARN
[   31.203965] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.204736] Call Trace:
[   31.204922]  <TASK>
[   31.205085]  dump_stack_lvl+0x121/0x150
[   31.205379]  dump_stack+0x19/0x20
[   31.205634]  check_preemption_disabled+0x168/0x180
[   31.206036]  debug_smp_processor_id+0x20/0x30
[   31.206677]  __schedule+0xa0/0x33a0
[   31.207124]  ? do_task_dead+0xa8/0x110
[   31.207517]  ? debug_smp_processor_id+0x20/0x30
[   31.207958]  ? rcu_is_watching+0x19/0xc0
[   31.208337]  ? lock_release+0x592/0x870
[   31.208716]  ? __pfx___schedule+0x10/0x10
[   31.209101]  ? debug_smp_processor_id+0x20/0x30
[   31.209542]  ? rcu_is_watching+0x19/0xc0
[   31.209924]  ? trace_irq_enable+0xe1/0x120
[   31.210322]  ? do_task_dead+0x4a/0x110
[   31.210684]  do_task_dead+0xe0/0x110
[   31.211029]  make_task_dead+0x384/0x3c0
[   31.211360]  rewind_stack_and_make_dead+0x16/0x20
[   31.211680] RIP: 0033:0x7f17bd43ee5d
[   31.211927] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.212324] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.213079] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.213570] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.214022] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.214487] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.214945] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.215413]  </TASK>
[   31.215598] BUG: scheduling while atomic: repro/4936/0x00000000
[   31.215984] INFO: lockdep is turned off.
[   31.216251] Modules linked in:
[   31.216467] Preemption disabled at:
[   31.216472] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   31.217052] CPU: 0 UID: 0 PID: 4936 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.217622] Tainted: [D]=DIE, [W]=WARN
[   31.217864] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.218563] Call Trace:
[   31.218811]  <TASK>
[   31.219029]  dump_stack_lvl+0x121/0x150
[   31.219398]  ? do_task_dead+0x28/0x110
[   31.219650]  dump_stack+0x19/0x20
[   31.219875]  __schedule_bug+0x12d/0x180
[   31.220136]  __schedule+0x2401/0x33a0
[   31.220394]  ? do_task_dead+0xa8/0x110
[   31.220650]  ? rcu_is_watching+0x19/0xc0
[   31.220914]  ? lock_release+0x592/0x870
[   31.221171]  ? __pfx___schedule+0x10/0x10
[   31.221444]  ? debug_smp_processor_id+0x20/0x30
[   31.221756]  ? rcu_is_watching+0x19/0xc0
[   31.222034]  ? trace_irq_enable+0xe1/0x120
[   31.222313]  ? do_task_dead+0x4a/0x110
[   31.222559]  do_task_dead+0xe0/0x110
[   31.222794]  make_task_dead+0x384/0x3c0
[   31.223053]  rewind_stack_and_make_dead+0x16/0x20
[   31.223412] RIP: 0033:0x7f17bd43ee5d
[   31.223717] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.224232] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.224854] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.225447] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.226027] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.226614] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.227504] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.228129]  </TASK>
[   31.601199] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#26] PREEMPT SMP KASAN NOPTI
[   31.602624] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.603398] CPU: 0 UID: 0 PID: 5263 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.604270] Tainted: [D]=DIE, [W]=WARN
[   31.604636] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.605815] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.606376] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.608067] RSP: 0018:ffff8880261477d8 EFLAGS: 00010202
[   31.608847] RAX: dffffc0000000000 RBX: ffffea00004a1300 RCX: ffffffff81bbb789
[   31.609550] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004a1310
[   31.610231] RBP: ffff8880261477f8 R08: 0000000000000000 R09: ffffed10025bf720
[   31.610911] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.611584] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012dfb900
[   31.612236] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.612975] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.613512] CR2: 0000000000404200 CR3: 000000000fd84003 CR4: 0000000000770ef0
[   31.614184] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.614851] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.615511] PKRU: 55555554
[   31.615786] Call Trace:
[   31.616048]  <TASK>
[   31.616273]  ? show_regs+0x6d/0x80
[   31.616630]  ? die_addr+0x45/0xb0
[   31.616971]  ? exc_general_protection+0x1ae/0x340
[   31.617437]  ? asm_exc_general_protection+0x2b/0x30
[   31.617917]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.618409]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.618899]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.619393]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.619911]  zap_huge_pmd+0x48e/0xd40
[   31.620311]  unmap_page_range+0x1ad6/0x4360
[   31.620727]  ? update_stack_state+0x2d9/0x610
[   31.621183]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.621676]  ? __pfx_unmap_page_range+0x10/0x10
[   31.622160]  unmap_single_vma+0x1ac/0x2d0
[   31.622584]  unmap_vmas+0x210/0x470
[   31.622940]  ? __pfx_unmap_vmas+0x10/0x10
[   31.623342]  ? __pfx_lock_release+0x10/0x10
[   31.623757]  ? lock_release+0x592/0x870
[   31.624138]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.624617]  ? __pfx_lock_release+0x10/0x10
[   31.625028]  ? mlock_drain_local+0x27f/0x4b0
[   31.625465]  exit_mmap+0x19e/0xb10
[   31.625816]  ? __pfx_exit_mmap+0x10/0x10
[   31.626213]  ? debug_smp_processor_id+0x20/0x30
[   31.626688]  ? trace_hardirqs_on+0x51/0x60
[   31.627103]  ? kasan_quarantine_put+0xa2/0x200
[   31.627556]  ? __khugepaged_exit+0x266/0x4c0
[   31.628018]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.628578]  __mmput+0xde/0x3a0
[   31.628907]  mmput+0x74/0x90
[   31.629207]  do_exit+0xa03/0x29f0
[   31.629565]  ? trace_hardirqs_on+0x51/0x60
[   31.629975]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.630580]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.631045]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.631531]  ? __pfx_do_exit+0x10/0x10
[   31.631911]  ? __audit_syscall_entry+0x39c/0x500
[   31.632378]  __x64_sys_exit+0x50/0x60
[   31.632759]  x64_sys_call+0x20c9/0x20d0
[   31.633144]  do_syscall_64+0x6d/0x140
[   31.633515]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.634000] RIP: 0033:0x7f17bd43ee5d
[   31.634352] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.634915] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.635585] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.636232] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.636870] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.637517] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.638149] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.638832]  </TASK>
[   31.639061] Modules linked in:
[   31.639519] ---[ end trace 0000000000000000 ]---
[   31.639936] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.640441] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.641967] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   31.642420] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   31.643029] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   31.643903] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   31.644603] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.645229] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   31.645841] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.646530] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.647026] CR2: 0000000000404200 CR3: 000000000fd84003 CR4: 0000000000770ef0
[   31.647660] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.648263] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.648866] PKRU: 55555554
[   31.649116] note: repro[5263] exited with preempt_count 1
[   31.649572] Fixing recursive fault but reboot is needed!
[   31.649996] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5263
[   31.650630] caller is debug_smp_processor_id+0x20/0x30
[   31.651077] CPU: 0 UID: 0 PID: 5263 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.651839] Tainted: [D]=DIE, [W]=WARN
[   31.652158] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.653067] Call Trace:
[   31.653289]  <TASK>
[   31.653477]  dump_stack_lvl+0x121/0x150
[   31.653947]  dump_stack+0x19/0x20
[   31.654360]  check_preemption_disabled+0x168/0x180
[   31.654787]  debug_smp_processor_id+0x20/0x30
[   31.655175]  __schedule+0xa0/0x33a0
[   31.655528]  ? do_task_dead+0xa8/0x110
[   31.655876]  ? debug_smp_processor_id+0x20/0x30
[   31.656271]  ? rcu_is_watching+0x19/0xc0
[   31.656621]  ? lock_release+0x592/0x870
[   31.656956]  ? __pfx___schedule+0x10/0x10
[   31.657308]  ? debug_smp_processor_id+0x20/0x30
[   31.657693]  ? rcu_is_watching+0x19/0xc0
[   31.658027]  ? trace_irq_enable+0xe1/0x120
[   31.658379]  ? do_task_dead+0x4a/0x110
[   31.658696]  do_task_dead+0xe0/0x110
[   31.659010]  make_task_dead+0x384/0x3c0
[   31.659358]  rewind_stack_and_make_dead+0x16/0x20
[   31.659765] RIP: 0033:0x7f17bd43ee5d
[   31.660063] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.660544] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.661130] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.661683] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.662486] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.663083] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.663658] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.664213]  </TASK>
[   31.664516] BUG: scheduling while atomic: repro/5263/0x00000000
[   31.664975] INFO: lockdep is turned off.
[   31.665283] Modules linked in:
[   31.665537] Preemption disabled at:
[   31.665541] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   31.666217] CPU: 0 UID: 0 PID: 5263 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.666878] Tainted: [D]=DIE, [W]=WARN
[   31.667155] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.667984] Call Trace:
[   31.668174]  <TASK>
[   31.668347]  dump_stack_lvl+0x121/0x150
[   31.668646]  ? do_task_dead+0x28/0x110
[   31.668941]  dump_stack+0x19/0x20
[   31.669201]  __schedule_bug+0x12d/0x180
[   31.669509]  __schedule+0x2401/0x33a0
[   31.669811]  ? do_task_dead+0xa8/0x110
[   31.670116]  ? rcu_is_watching+0x19/0xc0
[   31.670423]  ? lock_release+0x592/0x870
[   31.670727]  ? __pfx___schedule+0x10/0x10
[   31.671030]  ? debug_smp_processor_id+0x20/0x30
[   31.671373]  ? rcu_is_watching+0x19/0xc0
[   31.671665]  ? trace_irq_enable+0xe1/0x120
[   31.671971]  ? do_task_dead+0x4a/0x110
[   31.672247]  do_task_dead+0xe0/0x110
[   31.672639]  make_task_dead+0x384/0x3c0
[   31.673060]  rewind_stack_and_make_dead+0x16/0x20
[   31.673403] RIP: 0033:0x7f17bd43ee5d
[   31.673663] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.674092] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.674619] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.675088] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.675555] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.676029] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.676499] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.676974]  </TASK>
[   31.717252] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#27] PREEMPT SMP KASAN NOPTI
[   31.718186] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.718761] CPU: 0 UID: 0 PID: 5347 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.719454] Tainted: [D]=DIE, [W]=WARN
[   31.719925] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.720990] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.721476] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.722862] RSP: 0018:ffff88801704f7d8 EFLAGS: 00010202
[   31.723274] RAX: dffffc0000000000 RBX: ffffea000085ea80 RCX: ffffffff81bbb789
[   31.723826] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000085ea90
[   31.724367] RBP: ffff88801704f7f8 R08: 0000000000000000 R09: ffffed100223f520
[   31.724875] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   31.725384] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880111fa900
[   31.725892] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.726465] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.726888] CR2: 00007f17bd44e1f0 CR3: 000000001df02002 CR4: 0000000000770ef0
[   31.727412] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.727914] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.728427] PKRU: 55555554
[   31.728646] Call Trace:
[   31.728836]  <TASK>
[   31.729008]  ? show_regs+0x6d/0x80
[   31.729424]  ? die_addr+0x45/0xb0
[   31.729817]  ? exc_general_protection+0x1ae/0x340
[   31.730187]  ? asm_exc_general_protection+0x2b/0x30
[   31.730598]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.731001]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.731394]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.731781]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.732175]  zap_huge_pmd+0x48e/0xd40
[   31.732471]  unmap_page_range+0x1ad6/0x4360
[   31.732793]  ? __pfx_lock_release+0x10/0x10
[   31.733114]  ? do_raw_spin_trylock+0xbf/0x190
[   31.733444]  ? __kasan_check_read+0x15/0x20
[   31.733755]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.734117]  ? __pfx_unmap_page_range+0x10/0x10
[   31.734457]  unmap_single_vma+0x1ac/0x2d0
[   31.734759]  unmap_vmas+0x210/0x470
[   31.735030]  ? __pfx_unmap_vmas+0x10/0x10
[   31.735485]  ? __pfx_lock_release+0x10/0x10
[   31.735949]  ? lock_release+0x592/0x870
[   31.736226]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.736572]  ? __pfx_lock_release+0x10/0x10
[   31.736875]  ? mlock_drain_local+0x27f/0x4b0
[   31.737182]  exit_mmap+0x19e/0xb10
[   31.737435]  ? __pfx_exit_mmap+0x10/0x10
[   31.737715]  ? debug_smp_processor_id+0x20/0x30
[   31.738053]  ? trace_hardirqs_on+0x51/0x60
[   31.738350]  ? kasan_quarantine_put+0xa2/0x200
[   31.738664]  ? __khugepaged_exit+0x266/0x4c0
[   31.738967]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.739338]  __mmput+0xde/0x3a0
[   31.739567]  mmput+0x74/0x90
[   31.739780]  do_exit+0xa03/0x29f0
[   31.740022]  ? trace_hardirqs_on+0x51/0x60
[   31.740320]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.740749]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.741083]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.741516]  ? __pfx_do_exit+0x10/0x10
[   31.741926]  ? __audit_syscall_entry+0x39c/0x500
[   31.742343]  __x64_sys_exit+0x50/0x60
[   31.742618]  x64_sys_call+0x20c9/0x20d0
[   31.742922]  do_syscall_64+0x6d/0x140
[   31.743197]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.743546] RIP: 0033:0x7f17bd43ee5d
[   31.743797] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.744199] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.744694] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.745147] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.745607] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.746056] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.746505] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.746963]  </TASK>
[   31.747117] Modules linked in:
[   31.747480] ---[ end trace 0000000000000000 ]---
[   31.747937] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.748469] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.749608] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   31.749944] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   31.750385] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   31.750827] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   31.751274] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.751802] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   31.752240] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.752722] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.753068] CR2: 00007f17bd44e1f0 CR3: 000000001df02002 CR4: 0000000000770ef0
[   31.753494] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.753922] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.754584] PKRU: 55555554
[   31.754759] note: repro[5347] exited with preempt_count 1
[   31.755088] Fixing recursive fault but reboot is needed!
[   31.755473] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5347
[   31.755934] caller is debug_smp_processor_id+0x20/0x30
[   31.756255] CPU: 0 UID: 0 PID: 5347 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.756782] Tainted: [D]=DIE, [W]=WARN
[   31.757004] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.757648] Call Trace:
[   31.757797]  <TASK>
[   31.757930]  dump_stack_lvl+0x121/0x150
[   31.758170]  dump_stack+0x19/0x20
[   31.758384]  check_preemption_disabled+0x168/0x180
[   31.758680]  debug_smp_processor_id+0x20/0x30
[   31.758950]  __schedule+0xa0/0x33a0
[   31.759173]  ? do_task_dead+0xa8/0x110
[   31.759415]  ? debug_smp_processor_id+0x20/0x30
[   31.759754]  ? rcu_is_watching+0x19/0xc0
[   31.760050]  ? lock_release+0x592/0x870
[   31.760339]  ? __pfx___schedule+0x10/0x10
[   31.760640]  ? debug_smp_processor_id+0x20/0x30
[   31.760977]  ? rcu_is_watching+0x19/0xc0
[   31.761228]  ? trace_irq_enable+0xe1/0x120
[   31.761479]  ? do_task_dead+0x4a/0x110
[   31.761702]  do_task_dead+0xe0/0x110
[   31.761922]  make_task_dead+0x384/0x3c0
[   31.762290]  rewind_stack_and_make_dead+0x16/0x20
[   31.762738] RIP: 0033:0x7f17bd43ee5d
[   31.762986] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.763331] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.763753] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.764151] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.764548] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.764943] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.765339] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.765730]  </TASK>
[   31.765923] BUG: scheduling while atomic: repro/5347/0x00000000
[   31.766252] INFO: lockdep is turned off.
[   31.766471] Modules linked in:
[   31.766650] Preemption disabled at:
[   31.766653] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   31.767142] CPU: 0 UID: 0 PID: 5347 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.767637] Tainted: [D]=DIE, [W]=WARN
[   31.767848] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.768452] Call Trace:
[   31.768664]  <TASK>
[   31.768845]  dump_stack_lvl+0x121/0x150
[   31.769135]  ? do_task_dead+0x28/0x110
[   31.769353]  dump_stack+0x19/0x20
[   31.769553]  __schedule_bug+0x12d/0x180
[   31.769783]  __schedule+0x2401/0x33a0
[   31.770004]  ? do_task_dead+0xa8/0x110
[   31.770224]  ? rcu_is_watching+0x19/0xc0
[   31.770451]  ? lock_release+0x592/0x870
[   31.770668]  ? __pfx___schedule+0x10/0x10
[   31.770898]  ? debug_smp_processor_id+0x20/0x30
[   31.771155]  ? rcu_is_watching+0x19/0xc0
[   31.771383]  ? trace_irq_enable+0xe1/0x120
[   31.771613]  ? do_task_dead+0x4a/0x110
[   31.771821]  do_task_dead+0xe0/0x110
[   31.772021]  make_task_dead+0x384/0x3c0
[   31.772239]  rewind_stack_and_make_dead+0x16/0x20
[   31.772498] RIP: 0033:0x7f17bd43ee5d
[   31.772695] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.773022] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.773419] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.773782] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.774142] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.774503] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.774862] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.775227]  </TASK>
[   31.834593] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#28] PREEMPT SMP KASAN NOPTI
[   31.835494] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.835971] CPU: 0 UID: 0 PID: 5383 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.836894] Tainted: [D]=DIE, [W]=WARN
[   31.837223] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.838394] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.838987] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.840607] RSP: 0018:ffff8880261477d8 EFLAGS: 00010202
[   31.840929] RAX: dffffc0000000000 RBX: ffffea000081b640 RCX: ffffffff81bbb789
[   31.841513] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000081b650
[   31.842842] RBP: ffff8880261477f8 R08: 0000000000000000 R09: ffffed1002c93574
[   31.843857] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.844571] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801649aba0
[   31.845461] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.846526] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.847345] CR2: 00007fffef6677b8 CR3: 000000000e8da005 CR4: 0000000000770ef0
[   31.848336] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.848989] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.849541] PKRU: 55555554
[   31.849752] Call Trace:
[   31.849902]  <TASK>
[   31.850033]  ? show_regs+0x6d/0x80
[   31.850250]  ? die_addr+0x45/0xb0
[   31.850514]  ? exc_general_protection+0x1ae/0x340
[   31.850802]  ? asm_exc_general_protection+0x2b/0x30
[   31.851135]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.851503]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.851803]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.852099]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.852394]  zap_huge_pmd+0x48e/0xd40
[   31.852651]  unmap_page_range+0x1ad6/0x4360
[   31.852899]  ? update_stack_state+0x2d9/0x610
[   31.853167]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.853462]  ? __pfx_unmap_page_range+0x10/0x10
[   31.853879]  unmap_single_vma+0x1ac/0x2d0
[   31.854246]  unmap_vmas+0x210/0x470
[   31.854545]  ? __pfx_unmap_vmas+0x10/0x10
[   31.854782]  ? __pfx_lock_release+0x10/0x10
[   31.855036]  ? lock_release+0x592/0x870
[   31.855263]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.855553]  ? __pfx_lock_release+0x10/0x10
[   31.855801]  ? mlock_drain_local+0x27f/0x4b0
[   31.856055]  exit_mmap+0x19e/0xb10
[   31.856262]  ? __pfx_exit_mmap+0x10/0x10
[   31.856491]  ? debug_smp_processor_id+0x20/0x30
[   31.856750]  ? trace_hardirqs_on+0x51/0x60
[   31.856988]  ? kasan_quarantine_put+0xa2/0x200
[   31.857244]  ? __khugepaged_exit+0x266/0x4c0
[   31.857493]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.857789]  __mmput+0xde/0x3a0
[   31.857973]  mmput+0x74/0x90
[   31.858144]  do_exit+0xa03/0x29f0
[   31.858340]  ? trace_hardirqs_on+0x51/0x60
[   31.858575]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.858922]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.859192]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.859473]  ? __pfx_do_exit+0x10/0x10
[   31.859691]  ? __audit_syscall_entry+0x39c/0x500
[   31.860081]  __x64_sys_exit+0x50/0x60
[   31.860386]  x64_sys_call+0x20c9/0x20d0
[   31.860699]  do_syscall_64+0x6d/0x140
[   31.860909]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.861189] RIP: 0033:0x7f17bd43ee5d
[   31.861390] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.861709] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.862101] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.862472] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.862855] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.863225] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.863592] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.863964]  </TASK>
[   31.864086] Modules linked in:
[   31.864394] ---[ end trace 0000000000000000 ]---
[   31.864641] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.864948] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.865872] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   31.866148] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   31.866671] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   31.867098] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   31.867515] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.867869] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   31.868220] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   31.868619] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.868909] CR2: 00007fffef6677b8 CR3: 000000000e8da005 CR4: 0000000000770ef0
[   31.869261] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.869617] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.869967] PKRU: 55555554
[   31.870107] note: repro[5383] exited with preempt_count 1
[   31.870380] Fixing recursive fault but reboot is needed!
[   31.870642] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5383
[   31.871018] caller is debug_smp_processor_id+0x20/0x30
[   31.871276] CPU: 0 UID: 0 PID: 5383 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.871717] Tainted: [D]=DIE, [W]=WARN
[   31.871904] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.872439] Call Trace:
[   31.872565]  <TASK>
[   31.872679]  dump_stack_lvl+0x121/0x150
[   31.872879]  dump_stack+0x19/0x20
[   31.873057]  check_preemption_disabled+0x168/0x180
[   31.873307]  debug_smp_processor_id+0x20/0x30
[   31.873536]  __schedule+0xa0/0x33a0
[   31.873726]  ? do_task_dead+0xa8/0x110
[   31.873918]  ? debug_smp_processor_id+0x20/0x30
[   31.874153]  ? rcu_is_watching+0x19/0xc0
[   31.874361]  ? lock_release+0x592/0x870
[   31.874557]  ? __pfx___schedule+0x10/0x10
[   31.874765]  ? debug_smp_processor_id+0x20/0x30
[   31.875095]  ? rcu_is_watching+0x19/0xc0
[   31.875325]  ? trace_irq_enable+0xe1/0x120
[   31.875542]  ? do_task_dead+0x4a/0x110
[   31.875735]  do_task_dead+0xe0/0x110
[   31.875924]  make_task_dead+0x384/0x3c0
[   31.876128]  rewind_stack_and_make_dead+0x16/0x20
[   31.876371] RIP: 0033:0x7f17bd43ee5d
[   31.876553] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.876843] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.877206] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.877545] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.877871] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.878196] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.878529] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.878866]  </TASK>
[   31.879059] BUG: scheduling while atomic: repro/5383/0x00000000
[   31.879336] INFO: lockdep is turned off.
[   31.879557] Modules linked in:
[   31.879712] Preemption disabled at:
[   31.879715] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   31.880134] CPU: 0 UID: 0 PID: 5383 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   31.880560] Tainted: [D]=DIE, [W]=WARN
[   31.880806] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.881471] Call Trace:
[   31.881592]  <TASK>
[   31.881698]  dump_stack_lvl+0x121/0x150
[   31.881887]  ? do_task_dead+0x28/0x110
[   31.882070]  dump_stack+0x19/0x20
[   31.882235]  __schedule_bug+0x12d/0x180
[   31.882421]  __schedule+0x2401/0x33a0
[   31.882599]  ? do_task_dead+0xa8/0x110
[   31.882779]  ? rcu_is_watching+0x19/0xc0
[   31.882968]  ? lock_release+0x592/0x870
[   31.883156]  ? __pfx___schedule+0x10/0x10
[   31.883354]  ? debug_smp_processor_id+0x20/0x30
[   31.883572]  ? rcu_is_watching+0x19/0xc0
[   31.883761]  ? trace_irq_enable+0xe1/0x120
[   31.883955]  ? do_task_dead+0x4a/0x110
[   31.884132]  do_task_dead+0xe0/0x110
[   31.884303]  make_task_dead+0x384/0x3c0
[   31.884493]  rewind_stack_and_make_dead+0x16/0x20
[   31.884714] RIP: 0033:0x7f17bd43ee5d
[   31.884880] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   31.885152] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.885483] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   31.885794] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.886106] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   31.886426] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   31.886739] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   31.887057]  </TASK>
[   32.223140] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#29] PREEMPT SMP KASAN NOPTI
[   32.224469] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.225223] CPU: 1 UID: 0 PID: 5624 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.226092] Tainted: [D]=DIE, [W]=WARN
[   32.226459] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.227511] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.228096] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.229826] RSP: 0018:ffff888010f7f7d8 EFLAGS: 00010202
[   32.230611] RAX: dffffc0000000000 RBX: ffffea0000984c80 RCX: ffffffff81bbb789
[   32.231288] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000984c90
[   32.231972] RBP: ffff888010f7f7f8 R08: 0000000000000000 R09: ffffed100278be90
[   32.232646] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.233385] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013c5f480
[   32.234059] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.234798] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.235359] CR2: 00007fffef6677b8 CR3: 0000000012848004 CR4: 0000000000770ef0
[   32.236230] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.237101] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.237788] PKRU: 55555554
[   32.238053] Call Trace:
[   32.238318]  <TASK>
[   32.238548]  ? show_regs+0x6d/0x80
[   32.238936]  ? die_addr+0x45/0xb0
[   32.239290]  ? exc_general_protection+0x1ae/0x340
[   32.239773]  ? asm_exc_general_protection+0x2b/0x30
[   32.240495]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.241126]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.241647]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.242152]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.242667]  zap_huge_pmd+0x48e/0xd40
[   32.243041]  unmap_page_range+0x1ad6/0x4360
[   32.243491]  ? update_stack_state+0x2d9/0x610
[   32.244009]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.244513]  ? __pfx_unmap_page_range+0x10/0x10
[   32.244986]  unmap_single_vma+0x1ac/0x2d0
[   32.245418]  unmap_vmas+0x210/0x470
[   32.245783]  ? __pfx_unmap_vmas+0x10/0x10
[   32.246190]  ? __pfx_lock_release+0x10/0x10
[   32.246607]  ? lock_release+0x592/0x870
[   32.246998]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.247490]  ? __pfx_lock_release+0x10/0x10
[   32.247929]  ? mlock_drain_local+0x27f/0x4b0
[   32.248445]  exit_mmap+0x19e/0xb10
[   32.248987]  ? __pfx_exit_mmap+0x10/0x10
[   32.249444]  ? debug_smp_processor_id+0x20/0x30
[   32.249899]  ? trace_hardirqs_on+0x51/0x60
[   32.250301]  ? kasan_quarantine_put+0xa2/0x200
[   32.250736]  ? __khugepaged_exit+0x266/0x4c0
[   32.251147]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.251650]  __mmput+0xde/0x3a0
[   32.251970]  mmput+0x74/0x90
[   32.252253]  do_exit+0xa03/0x29f0
[   32.252754]  ? trace_hardirqs_on+0x51/0x60
[   32.253334]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.253930]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.254398]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.254890]  ? __pfx_do_exit+0x10/0x10
[   32.255269]  ? __audit_syscall_entry+0x39c/0x500
[   32.255744]  __x64_sys_exit+0x50/0x60
[   32.256149]  x64_sys_call+0x20c9/0x20d0
[   32.256622]  do_syscall_64+0x6d/0x140
[   32.257255]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.257842] RIP: 0033:0x7f17bd43ee5d
[   32.258207] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.258777] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.259430] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.260035] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.260706] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.261637] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.262234] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.262882]  </TASK>
[   32.263085] Modules linked in:
[   32.263534] ---[ end trace 0000000000000000 ]---
[   32.264054] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.264699] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.266608] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   32.267157] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   32.268198] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   32.269046] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   32.269905] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.270625] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   32.271295] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.272038] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.272541] CR2: 00007fffef6677b8 CR3: 0000000012848004 CR4: 0000000000770ef0
[   32.273146] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.273746] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.274415] PKRU: 55555554
[   32.274683] note: repro[5624] exited with preempt_count 1
[   32.275288] Fixing recursive fault but reboot is needed!
[   32.276181] BUG: scheduling while atomic: repro/5624/0x00000000
[   32.276768] INFO: lockdep is turned off.
[   32.277177] Modules linked in:
[   32.277486] Preemption disabled at:
[   32.277492] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   32.278327] CPU: 1 UID: 0 PID: 5624 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.279057] Tainted: [D]=DIE, [W]=WARN
[   32.279372] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.280275] Call Trace:
[   32.280487]  <TASK>
[   32.280672]  dump_stack_lvl+0x121/0x150
[   32.281006]  ? do_task_dead+0x28/0x110
[   32.281350]  dump_stack+0x19/0x20
[   32.281774]  __schedule_bug+0x12d/0x180
[   32.282260]  __schedule+0x2401/0x33a0
[   32.282587]  ? do_task_dead+0xa8/0x110
[   32.282915]  ? rcu_is_watching+0x19/0xc0
[   32.283238]  ? lock_release+0x592/0x870
[   32.283544]  ? __pfx___schedule+0x10/0x10
[   32.283865]  ? debug_smp_processor_id+0x20/0x30
[   32.284221]  ? rcu_is_watching+0x19/0xc0
[   32.284527]  ? trace_irq_enable+0xe1/0x120
[   32.284854]  ? do_task_dead+0x4a/0x110
[   32.285155]  do_task_dead+0xe0/0x110
[   32.285446]  make_task_dead+0x384/0x3c0
[   32.285756]  rewind_stack_and_make_dead+0x16/0x20
[   32.286115] RIP: 0033:0x7f17bd43ee5d
[   32.286402] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.286852] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.287577] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.288246] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.289063] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.289927] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.290574] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.291228]  </TASK>
[   32.300961] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#30] PREEMPT SMP KASAN NOPTI
[   32.302066] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.302755] CPU: 1 UID: 0 PID: 5688 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.303561] Tainted: [D]=DIE, [W]=WARN
[   32.304046] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.305024] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.305550] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.307127] RSP: 0018:ffff888010bef7d8 EFLAGS: 00010202
[   32.307596] RAX: dffffc0000000000 RBX: ffffea0000851a80 RCX: ffffffff81bbb789
[   32.308411] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000851a90
[   32.309024] RBP: ffff888010bef7f8 R08: 0000000000000000 R09: ffffed100278f538
[   32.309627] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.310223] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013c7a9c0
[   32.310822] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.311496] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.311980] CR2: 00007f17bd71ebf0 CR3: 000000001357e006 CR4: 0000000000770ef0
[   32.312578] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.313169] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.313744] PKRU: 55555554
[   32.313973] Call Trace:
[   32.314183]  <TASK>
[   32.314371]  ? show_regs+0x6d/0x80
[   32.314782]  ? die_addr+0x45/0xb0
[   32.315180]  ? exc_general_protection+0x1ae/0x340
[   32.315651]  ? asm_exc_general_protection+0x2b/0x30
[   32.316079]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.316507]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.316923]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.317340]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.317754]  zap_huge_pmd+0x48e/0xd40
[   32.318063]  unmap_page_range+0x1ad6/0x4360
[   32.318414]  ? update_stack_state+0x2d9/0x610
[   32.318786]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.319195]  ? __pfx_unmap_page_range+0x10/0x10
[   32.319576]  unmap_single_vma+0x1ac/0x2d0
[   32.319909]  unmap_vmas+0x210/0x470
[   32.320204]  ? __pfx_unmap_vmas+0x10/0x10
[   32.320536]  ? __pfx_lock_release+0x10/0x10
[   32.320873]  ? lock_release+0x592/0x870
[   32.321308]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.321783]  ? __pfx_lock_release+0x10/0x10
[   32.322117]  ? mlock_drain_local+0x27f/0x4b0
[   32.322463]  exit_mmap+0x19e/0xb10
[   32.322743]  ? __pfx_exit_mmap+0x10/0x10
[   32.323056]  ? debug_smp_processor_id+0x20/0x30
[   32.323418]  ? trace_hardirqs_on+0x51/0x60
[   32.323747]  ? kasan_quarantine_put+0xa2/0x200
[   32.324102]  ? __khugepaged_exit+0x266/0x4c0
[   32.324447]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.324867]  __mmput+0xde/0x3a0
[   32.325126]  mmput+0x74/0x90
[   32.325369]  do_exit+0xa03/0x29f0
[   32.325642]  ? trace_hardirqs_on+0x51/0x60
[   32.325964]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.326441]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.326807]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.327349]  ? __pfx_do_exit+0x10/0x10
[   32.327764]  ? __audit_syscall_entry+0x39c/0x500
[   32.328142]  __x64_sys_exit+0x50/0x60
[   32.328429]  x64_sys_call+0x20c9/0x20d0
[   32.328725]  do_syscall_64+0x6d/0x140
[   32.329011]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.329396] RIP: 0033:0x7f17bd43ee5d
[   32.329670] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.330110] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.330648] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.331148] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.331648] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.332147] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.332649] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.333152]  </TASK>
[   32.333316] Modules linked in:
[   32.333593] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#31] PREEMPT SMP KASAN NOPTI
[   32.333697] ---[ end trace 0000000000000000 ]---
[   32.334712] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.335031] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.335703] CPU: 0 UID: 0 PID: 5696 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.335731] Tainted: [D]=DIE, [W]=WARN
[   32.335737] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.335747] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.336142] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.336939] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.337190] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   32.338178] RSP: 0018:ffff888012d877d8 EFLAGS: 00010202
[   32.338559] 
[   32.338563] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   32.340231] 
[   32.340237] RAX: dffffc0000000000 RBX: ffffea000085be40 RCX: ffffffff81bbb789
[   32.340251] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000085be50
[   32.340264] RBP: ffff888012d877f8 R08: 0000000000000000 R09: ffffed1001e3e344
[   32.340275] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.340294] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800f1f1a20
[   32.341473] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   32.341975] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   32.342379] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   32.342473] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.343104] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.343257] CR2: 00007f17bd49bc20 CR3: 000000001c07e003 CR4: 0000000000770ef0
[   32.343805] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   32.344383] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.344822] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.345451] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.345880] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.346507] PKRU: 55555554
[   32.346990] CR2: 00007f17bd71ebf0 CR3: 000000001357e006 CR4: 0000000000770ef0
[   32.347619] Call Trace:
[   32.347625]  <TASK>
[   32.347633]  ? show_regs+0x6d/0x80
[   32.347659]  ? die_addr+0x45/0xb0
[   32.348010] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.348681]  ? exc_general_protection+0x1ae/0x340
[   32.349104] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.349748]  ? asm_exc_general_protection+0x2b/0x30
[   32.350159] PKRU: 55555554
[   32.350875]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.351291] note: repro[5688] exited with preempt_count 1
[   32.351822]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.351851]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.352031] Fixing recursive fault but reboot is needed!
[   32.352686]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.358980]  zap_huge_pmd+0x48e/0xd40
[   32.359353]  unmap_page_range+0x1ad6/0x4360
[   32.359768]  ? update_stack_state+0x2d9/0x610
[   32.360222]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.360730]  ? __pfx_unmap_page_range+0x10/0x10
[   32.361174]  unmap_single_vma+0x1ac/0x2d0
[   32.361568]  unmap_vmas+0x210/0x470
[   32.361924]  ? __pfx_unmap_vmas+0x10/0x10
[   32.362316]  ? __pfx_lock_release+0x10/0x10
[   32.362716]  ? lock_release+0x592/0x870
[   32.363099]  ? mas_next_slot+0x133a/0x1a50
[   32.363497]  ? __pfx_lock_release+0x10/0x10
[   32.363925]  ? mlock_drain_local+0x27f/0x4b0
[   32.364349]  exit_mmap+0x19e/0xb10
[   32.364688]  ? __pfx_exit_mmap+0x10/0x10
[   32.365067]  ? debug_smp_processor_id+0x20/0x30
[   32.365530]  ? trace_hardirqs_on+0x51/0x60
[   32.365937]  ? kasan_quarantine_put+0xa2/0x200
[   32.366382]  ? __khugepaged_exit+0x266/0x4c0
[   32.366802]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.367319]  __mmput+0xde/0x3a0
[   32.367634]  mmput+0x74/0x90
[   32.367934]  do_exit+0xa03/0x29f0
[   32.368265]  ? trace_hardirqs_on+0x51/0x60
[   32.368676]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.369284]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.369751]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.370233]  ? __pfx_do_exit+0x10/0x10
[   32.370615]  ? __audit_syscall_entry+0x39c/0x500
[   32.371071]  __x64_sys_exit+0x50/0x60
[   32.371446]  x64_sys_call+0x20c9/0x20d0
[   32.371827]  do_syscall_64+0x6d/0x140
[   32.372204]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.372695] RIP: 0033:0x7f17bd43ee5d
[   32.373065] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.373658] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.374403] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.375089] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.375781] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.376465] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.377124] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.377826]  </TASK>
[   32.378071] Modules linked in:
[   32.378574] ---[ end trace 0000000000000000 ]---
[   32.379018] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.379658] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.381369] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   32.381870] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   32.382537] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   32.383207] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   32.383978] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.384667] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   32.385333] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   32.386082] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.386630] CR2: 00007f17bd49bc20 CR3: 000000001c07e003 CR4: 0000000000770ef0
[   32.387314] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.388083] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.388856] PKRU: 55555554
[   32.389139] note: repro[5696] exited with preempt_count 1
[   32.389673] Fixing recursive fault but reboot is needed!
[   32.390179] BUG: scheduling while atomic: repro/5696/0x00000000
[   32.390736] INFO: lockdep is turned off.
[   32.391105] Modules linked in:
[   32.391490] Preemption disabled at:
[   32.391497] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   32.392352] CPU: 0 UID: 0 PID: 5696 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.393228] Tainted: [D]=DIE, [W]=WARN
[   32.393609] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.394664] Call Trace:
[   32.394908]  <TASK>
[   32.395124]  dump_stack_lvl+0x121/0x150
[   32.395518]  ? do_task_dead+0x28/0x110
[   32.395882]  dump_stack+0x19/0x20
[   32.396218]  __schedule_bug+0x12d/0x180
[   32.396613]  __schedule+0x2401/0x33a0
[   32.396997]  ? do_task_dead+0xa8/0x110
[   32.397390]  ? rcu_is_watching+0x19/0xc0
[   32.397823]  ? lock_release+0x592/0x870
[   32.398226]  ? __pfx___schedule+0x10/0x10
[   32.398643]  ? debug_smp_processor_id+0x20/0x30
[   32.399097]  ? rcu_is_watching+0x19/0xc0
[   32.399501]  ? trace_irq_enable+0xe1/0x120
[   32.399919]  ? do_task_dead+0x4a/0x110
[   32.400294]  do_task_dead+0xe0/0x110
[   32.400646]  make_task_dead+0x384/0x3c0
[   32.401034]  rewind_stack_and_make_dead+0x16/0x20
[   32.401493] RIP: 0033:0x7f17bd43ee5d
[   32.401843] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.402422] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.403139] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.403806] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.404465] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.405137] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.405804] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.406482]  </TASK>
[   32.821543] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#32] PREEMPT SMP KASAN NOPTI
[   32.822668] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.823380] CPU: 1 UID: 0 PID: 5960 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.824287] Tainted: [D]=DIE, [W]=WARN
[   32.824649] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.825680] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.826565] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.828394] RSP: 0018:ffff888011c377d8 EFLAGS: 00010202
[   32.828889] RAX: dffffc0000000000 RBX: ffffea0000776380 RCX: ffffffff81bbb789
[   32.829556] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000776390
[   32.830215] RBP: ffff888011c377f8 R08: 0000000000000000 R09: ffffed1003ec8fd4
[   32.831142] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.831781] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f647ea0
[   32.832438] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.833176] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.833721] CR2: 00007f17bd71ebf0 CR3: 00000000134ba004 CR4: 0000000000770ef0
[   32.834557] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.835408] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.836063] PKRU: 55555554
[   32.836334] Call Trace:
[   32.836568]  <TASK>
[   32.836779]  ? show_regs+0x6d/0x80
[   32.837136]  ? die_addr+0x45/0xb0
[   32.837475]  ? exc_general_protection+0x1ae/0x340
[   32.837951]  ? asm_exc_general_protection+0x2b/0x30
[   32.838629]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.839385]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.839885]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.840376]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.840854]  zap_huge_pmd+0x48e/0xd40
[   32.841207]  unmap_page_range+0x1ad6/0x4360
[   32.841608]  ? update_stack_state+0x2d9/0x610
[   32.842057]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.842548]  ? __pfx_unmap_page_range+0x10/0x10
[   32.842980]  unmap_single_vma+0x1ac/0x2d0
[   32.843380]  unmap_vmas+0x210/0x470
[   32.843739]  ? __pfx_unmap_vmas+0x10/0x10
[   32.844117]  ? __pfx_lock_release+0x10/0x10
[   32.844502]  ? lock_release+0x592/0x870
[   32.844852]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.845303]  ? __pfx_lock_release+0x10/0x10
[   32.845702]  ? mlock_drain_local+0x27f/0x4b0
[   32.846132]  exit_mmap+0x19e/0xb10
[   32.846528]  ? __pfx_exit_mmap+0x10/0x10
[   32.846896]  ? debug_smp_processor_id+0x20/0x30
[   32.847321]  ? trace_hardirqs_on+0x51/0x60
[   32.847695]  ? kasan_quarantine_put+0xa2/0x200
[   32.848107]  ? __khugepaged_exit+0x266/0x4c0
[   32.848498]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.848955]  __mmput+0xde/0x3a0
[   32.849252]  mmput+0x74/0x90
[   32.849513]  do_exit+0xa03/0x29f0
[   32.849808]  ? trace_hardirqs_on+0x51/0x60
[   32.850175]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.850697]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.851107]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.851538]  ? __pfx_do_exit+0x10/0x10
[   32.851871]  ? __audit_syscall_entry+0x39c/0x500
[   32.852300]  __x64_sys_exit+0x50/0x60
[   32.852645]  x64_sys_call+0x20c9/0x20d0
[   32.852985]  do_syscall_64+0x6d/0x140
[   32.853314]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.853740] RIP: 0033:0x7f17bd43ee5d
[   32.854051] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.854553] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.855145] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.855685] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.856223] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.856804] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.857360] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.857912]  </TASK>
[   32.858104] Modules linked in:
[   32.858475] ---[ end trace 0000000000000000 ]---
[   32.858834] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.859320] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.860647] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   32.861059] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   32.861584] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   32.862107] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   32.862666] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.863193] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   32.863738] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   32.864105] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#33] PREEMPT SMP KASAN NOPTI
[   32.864327] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.865428] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.865842] CR2: 00007f17bd71ebf0 CR3: 00000000134ba004 CR4: 0000000000770ef0
[   32.866524] CPU: 0 UID: 0 PID: 5964 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.867065] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.867887] Tainted: [D]=DIE, [W]=WARN
[   32.867895] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.868389] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.868913] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.869696] PKRU: 55555554
[   32.870339] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.870733] note: repro[5960] exited with preempt_count 1
[   32.870983] RSP: 0018:ffff8880216bf7d8 EFLAGS: 00010202
[   32.872268] Fixing recursive fault but reboot is needed!
[   32.872743] 
[   32.873922] RAX: dffffc0000000000 RBX: ffffea00007b6f40 RCX: ffffffff81bbb789
[   32.874902] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007b6f50
[   32.875628] RBP: ffff8880216bf7f8 R08: 0000000000000000 R09: ffffed100278f5b0
[   32.876293] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.876949] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013c7ad80
[   32.877595] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   32.878345] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.878882] CR2: 00007f469c2b9000 CR3: 000000000fab4002 CR4: 0000000000770ef0
[   32.879541] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.880215] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.881239] PKRU: 55555554
[   32.881512] Call Trace:
[   32.881754]  <TASK>
[   32.881979]  ? show_regs+0x6d/0x80
[   32.882334]  ? die_addr+0x45/0xb0
[   32.882678]  ? exc_general_protection+0x1ae/0x340
[   32.883143]  ? asm_exc_general_protection+0x2b/0x30
[   32.883623]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.884122]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.884635]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.885385]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.885896]  zap_huge_pmd+0x48e/0xd40
[   32.886287]  unmap_page_range+0x1ad6/0x4360
[   32.886705]  ? update_stack_state+0x2d9/0x610
[   32.887155]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.887644]  ? __pfx_unmap_page_range+0x10/0x10
[   32.888104]  unmap_single_vma+0x1ac/0x2d0
[   32.888503]  unmap_vmas+0x210/0x470
[   32.888844]  ? __pfx_unmap_vmas+0x10/0x10
[   32.889239]  ? __pfx_lock_release+0x10/0x10
[   32.889649]  ? lock_release+0x592/0x870
[   32.890044]  ? mas_next_slot+0x133a/0x1a50
[   32.890463]  ? __pfx_lock_release+0x10/0x10
[   32.890885]  ? mlock_drain_local+0x27f/0x4b0
[   32.891311]  exit_mmap+0x19e/0xb10
[   32.891665]  ? __pfx_exit_mmap+0x10/0x10
[   32.892057]  ? debug_smp_processor_id+0x20/0x30
[   32.892525]  ? trace_hardirqs_on+0x51/0x60
[   32.893163]  ? kasan_quarantine_put+0xa2/0x200
[   32.893757]  ? __khugepaged_exit+0x266/0x4c0
[   32.894191]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.894727]  __mmput+0xde/0x3a0
[   32.895049]  mmput+0x74/0x90
[   32.895349]  do_exit+0xa03/0x29f0
[   32.895688]  ? trace_hardirqs_on+0x51/0x60
[   32.896086]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.896682]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.897145]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.897633]  ? __pfx_do_exit+0x10/0x10
[   32.898011]  ? __audit_syscall_entry+0x39c/0x500
[   32.898477]  __x64_sys_exit+0x50/0x60
[   32.898866]  x64_sys_call+0x20c9/0x20d0
[   32.899246]  do_syscall_64+0x6d/0x140
[   32.899617]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.900108] RIP: 0033:0x7f17bd43ee5d
[   32.900457] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.901020] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.901720] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.902383] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.903265] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.904121] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.904971] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.905830]  </TASK>
[   32.906112] Modules linked in:
[   32.906788] ---[ end trace 0000000000000000 ]---
[   32.907498] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.908220] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.910407] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   32.911170] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   32.912118] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   32.912984] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   32.913720] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.914394] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   32.915089] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   32.915999] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.916562] CR2: 00007f469c2b9000 CR3: 000000000fab4002 CR4: 0000000000770ef0
[   32.917275] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.917947] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.918616] PKRU: 55555554
[   32.918893] note: repro[5964] exited with preempt_count 1
[   32.919471] Fixing recursive fault but reboot is needed!
[   32.919985] BUG: scheduling while atomic: repro/5964/0x00000000
[   32.920556] INFO: lockdep is turned off.
[   32.920946] Modules linked in:
[   32.921269] Preemption disabled at:
[   32.921283] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   32.922142] CPU: 0 UID: 0 PID: 5964 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   32.922989] Tainted: [D]=DIE, [W]=WARN
[   32.923347] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.924374] Call Trace:
[   32.924682]  <TASK>
[   32.924957]  dump_stack_lvl+0x121/0x150
[   32.925544]  ? do_task_dead+0x28/0x110
[   32.926016]  dump_stack+0x19/0x20
[   32.926450]  __schedule_bug+0x12d/0x180
[   32.926944]  __schedule+0x2401/0x33a0
[   32.927418]  ? do_task_dead+0xa8/0x110
[   32.927890]  ? rcu_is_watching+0x19/0xc0
[   32.928393]  ? lock_release+0x592/0x870
[   32.928878]  ? __pfx___schedule+0x10/0x10
[   32.929493]  ? debug_smp_processor_id+0x20/0x30
[   32.930094]  ? rcu_is_watching+0x19/0xc0
[   32.930596]  ? trace_irq_enable+0xe1/0x120
[   32.931118]  ? do_task_dead+0x4a/0x110
[   32.931596]  do_task_dead+0xe0/0x110
[   32.932049]  make_task_dead+0x384/0x3c0
[   32.932546]  rewind_stack_and_make_dead+0x16/0x20
[   32.933131] RIP: 0033:0x7f17bd43ee5d
[   32.933669] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   32.934437] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.935344] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   32.936191] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.937038] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   32.938034] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   32.938882] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   32.939749]  </TASK>
[   33.187215] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#34] PREEMPT SMP KASAN NOPTI
[   33.188754] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.189661] CPU: 0 UID: 0 PID: 6147 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.190751] Tainted: [D]=DIE, [W]=WARN
[   33.191207] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.192551] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.193321] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.195587] RSP: 0018:ffff88801dd277d8 EFLAGS: 00010202
[   33.196224] RAX: dffffc0000000000 RBX: ffffea0000463340 RCX: ffffffff81bbb789
[   33.197073] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000463350
[   33.197920] RBP: ffff88801dd277f8 R08: 0000000000000000 R09: ffffed10031311ec
[   33.198771] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   33.199652] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888018988f60
[   33.200502] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.201463] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.202171] CR2: 00007f17bd6ea658 CR3: 0000000017130004 CR4: 0000000000770ef0
[   33.203207] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.204063] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.204920] PKRU: 55555554
[   33.205264] Call Trace:
[   33.205577]  <TASK>
[   33.205851]  ? show_regs+0x6d/0x80
[   33.206297]  ? die_addr+0x45/0xb0
[   33.206820]  ? exc_general_protection+0x1ae/0x340
[   33.207485]  ? asm_exc_general_protection+0x2b/0x30
[   33.208102]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.208737]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.209381]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.210020]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.210659]  zap_huge_pmd+0x48e/0xd40
[   33.211224]  unmap_page_range+0x1ad6/0x4360
[   33.211783]  ? __pfx_lock_release+0x10/0x10
[   33.212311]  ? do_raw_spin_trylock+0xbf/0x190
[   33.212860]  ? __kasan_check_read+0x15/0x20
[   33.213393]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.214016]  ? __pfx_unmap_page_range+0x10/0x10
[   33.214595]  unmap_single_vma+0x1ac/0x2d0
[   33.215211]  unmap_vmas+0x210/0x470
[   33.215721]  ? __pfx_unmap_vmas+0x10/0x10
[   33.216224]  ? __pfx_lock_release+0x10/0x10
[   33.216748]  ? lock_release+0x592/0x870
[   33.217230]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.217843]  ? __pfx_lock_release+0x10/0x10
[   33.218376]  ? mlock_drain_local+0x27f/0x4b0
[   33.218919]  exit_mmap+0x19e/0xb10
[   33.219502]  ? __pfx_exit_mmap+0x10/0x10
[   33.220025]  ? debug_smp_processor_id+0x20/0x30
[   33.220613]  ? trace_hardirqs_on+0x51/0x60
[   33.221131]  ? kasan_quarantine_put+0xa2/0x200
[   33.221694]  ? __khugepaged_exit+0x266/0x4c0
[   33.222155]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.222821]  __mmput+0xde/0x3a0
[   33.223323]  mmput+0x74/0x90
[   33.223782]  do_exit+0xa03/0x29f0
[   33.224212]  ? trace_hardirqs_on+0x51/0x60
[   33.224733]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.225509]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.226114]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.226730]  ? __pfx_do_exit+0x10/0x10
[   33.227207]  ? __audit_syscall_entry+0x39c/0x500
[   33.227902]  __x64_sys_exit+0x50/0x60
[   33.228376]  x64_sys_call+0x20c9/0x20d0
[   33.228866]  do_syscall_64+0x6d/0x140
[   33.229338]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.229962] RIP: 0033:0x7f17bd43ee5d
[   33.230413] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.231144] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.232239] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.233088] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.233937] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.234781] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.235627] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.236570]  </TASK>
[   33.236853] Modules linked in:
[   33.237434] ---[ end trace 0000000000000000 ]---
[   33.238004] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.238715] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.240916] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   33.241682] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   33.242508] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   33.243362] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   33.244516] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.245337] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   33.246148] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.247079] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.247869] CR2: 00007f17bd6ea658 CR3: 0000000017130004 CR4: 0000000000770ef0
[   33.248663] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.249437] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.250203] PKRU: 55555554
[   33.250519] note: repro[6147] exited with preempt_count 1
[   33.251187] Fixing recursive fault but reboot is needed!
[   33.252022] BUG: scheduling while atomic: repro/6147/0x00000000
[   33.252877] INFO: lockdep is turned off.
[   33.253362] Modules linked in:
[   33.253750] Preemption disabled at:
[   33.253756] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   33.254841] CPU: 0 UID: 0 PID: 6147 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.255941] Tainted: [D]=DIE, [W]=WARN
[   33.256516] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.257910] Call Trace:
[   33.258221]  <TASK>
[   33.258498]  dump_stack_lvl+0x121/0x150
[   33.258987]  ? do_task_dead+0x28/0x110
[   33.259459]  dump_stack+0x19/0x20
[   33.259894]  __schedule_bug+0x12d/0x180
[   33.260493]  __schedule+0x2401/0x33a0
[   33.261049]  ? do_task_dead+0xa8/0x110
[   33.261530]  ? rcu_is_watching+0x19/0xc0
[   33.262039]  ? lock_release+0x592/0x870
[   33.262538]  ? __pfx___schedule+0x10/0x10
[   33.262968]  ? debug_smp_processor_id+0x20/0x30
[   33.263445]  ? rcu_is_watching+0x19/0xc0
[   33.263854]  ? trace_irq_enable+0xe1/0x120
[   33.264285]  ? do_task_dead+0x4a/0x110
[   33.264673]  do_task_dead+0xe0/0x110
[   33.265044]  make_task_dead+0x384/0x3c0
[   33.265450]  rewind_stack_and_make_dead+0x16/0x20
[   33.265928] RIP: 0033:0x7f17bd43ee5d
[   33.266299] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.266903] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.267649] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.268350] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.269046] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.269741] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.270412] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.271090]  </TASK>
[   33.443879] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#35] PREEMPT SMP KASAN NOPTI
[   33.445334] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.446231] CPU: 0 UID: 0 PID: 6274 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.447320] Tainted: [D]=DIE, [W]=WARN
[   33.447777] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.449112] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.449821] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.451984] RSP: 0018:ffff888013ddf7d8 EFLAGS: 00010202
[   33.452619] RAX: dffffc0000000000 RBX: ffffea00004ffc80 RCX: ffffffff81bbb789
[   33.453469] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004ffc90
[   33.454330] RBP: ffff888013ddf7f8 R08: 0000000000000000 R09: ffffed1003be0acc
[   33.455173] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   33.456017] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801df05660
[   33.456863] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.457817] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.458510] CR2: 00007f17bd5fca50 CR3: 000000001ef14004 CR4: 0000000000770ef0
[   33.459358] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.460201] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.461048] PKRU: 55555554
[   33.461388] Call Trace:
[   33.461697]  <TASK>
[   33.461967]  ? show_regs+0x6d/0x80
[   33.462409]  ? die_addr+0x45/0xb0
[   33.462835]  ? exc_general_protection+0x1ae/0x340
[   33.463429]  ? asm_exc_general_protection+0x2b/0x30
[   33.464037]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.464657]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.465254]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.465862]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.466469]  zap_huge_pmd+0x48e/0xd40
[   33.466914]  unmap_page_range+0x1ad6/0x4360
[   33.467407]  ? __pfx_lock_release+0x10/0x10
[   33.467898]  ? do_raw_spin_trylock+0xbf/0x190
[   33.468419]  ? __kasan_check_read+0x15/0x20
[   33.468915]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.469508]  ? __pfx_unmap_page_range+0x10/0x10
[   33.470048]  unmap_single_vma+0x1ac/0x2d0
[   33.470530]  unmap_vmas+0x210/0x470
[   33.470955]  ? __pfx_unmap_vmas+0x10/0x10
[   33.471432]  ? __pfx_lock_release+0x10/0x10
[   33.471920]  ? lock_release+0x592/0x870
[   33.472377]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.472944]  ? __pfx_lock_release+0x10/0x10
[   33.473416]  ? mlock_drain_local+0x27f/0x4b0
[   33.473899]  exit_mmap+0x19e/0xb10
[   33.474297]  ? __pfx_exit_mmap+0x10/0x10
[   33.474739]  ? debug_smp_processor_id+0x20/0x30
[   33.475254]  ? trace_hardirqs_on+0x51/0x60
[   33.475722]  ? kasan_quarantine_put+0xa2/0x200
[   33.476223]  ? __khugepaged_exit+0x266/0x4c0
[   33.476709]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.477305]  __mmput+0xde/0x3a0
[   33.477669]  mmput+0x74/0x90
[   33.478004]  do_exit+0xa03/0x29f0
[   33.478394]  ? trace_hardirqs_on+0x51/0x60
[   33.478855]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.479546]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.480080]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.480629]  ? __pfx_do_exit+0x10/0x10
[   33.481055]  ? __audit_syscall_entry+0x39c/0x500
[   33.481558]  __x64_sys_exit+0x50/0x60
[   33.481957]  x64_sys_call+0x20c9/0x20d0
[   33.482375]  do_syscall_64+0x6d/0x140
[   33.482773]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.483311] RIP: 0033:0x7f17bd43ee5d
[   33.483690] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.484319] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.485089] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.485816] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.486542] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.487264] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.487992] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.488731]  </TASK>
[   33.488971] Modules linked in:
[   33.489410] ---[ end trace 0000000000000000 ]---
[   33.489878] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.490462] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.492275] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   33.492806] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   33.493507] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   33.494202] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   33.494874] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.495560] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   33.496231] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.497012] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.497815] CR2: 00007f17bd5fca50 CR3: 000000001ef14004 CR4: 0000000000770ef0
[   33.498494] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.499155] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.500018] PKRU: 55555554
[   33.500283] note: repro[6274] exited with preempt_count 1
[   33.500778] Fixing recursive fault but reboot is needed!
[   33.501381] BUG: scheduling while atomic: repro/6274/0x00000000
[   33.501921] INFO: lockdep is turned off.
[   33.502327] Modules linked in:
[   33.502702] Preemption disabled at:
[   33.502707] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   33.503751] CPU: 0 UID: 0 PID: 6274 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.504582] Tainted: [D]=DIE, [W]=WARN
[   33.504927] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.505919] Call Trace:
[   33.506143]  <TASK>
[   33.506344]  dump_stack_lvl+0x121/0x150
[   33.506696]  ? do_task_dead+0x28/0x110
[   33.507034]  dump_stack+0x19/0x20
[   33.507345]  __schedule_bug+0x12d/0x180
[   33.507700]  __schedule+0x2401/0x33a0
[   33.508036]  ? do_task_dead+0xa8/0x110
[   33.508379]  ? rcu_is_watching+0x19/0xc0
[   33.508739]  ? lock_release+0x592/0x870
[   33.509088]  ? __pfx___schedule+0x10/0x10
[   33.509460]  ? debug_smp_processor_id+0x20/0x30
[   33.509871]  ? rcu_is_watching+0x19/0xc0
[   33.510228]  ? trace_irq_enable+0xe1/0x120
[   33.510595]  ? do_task_dead+0x4a/0x110
[   33.510921]  do_task_dead+0xe0/0x110
[   33.511236]  make_task_dead+0x384/0x3c0
[   33.511582]  rewind_stack_and_make_dead+0x16/0x20
[   33.511989] RIP: 0033:0x7f17bd43ee5d
[   33.512303] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.512816] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.513451] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.514041] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.514638] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.515227] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.515821] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.516405]  </TASK>
[   33.676149] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#36] PREEMPT SMP KASAN NOPTI
[   33.677297] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.678004] CPU: 1 UID: 0 PID: 6405 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.678878] Tainted: [D]=DIE, [W]=WARN
[   33.679235] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.680261] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.681002] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.682821] RSP: 0018:ffff888011d8f7d8 EFLAGS: 00010202
[   33.683314] RAX: dffffc0000000000 RBX: ffffea00003f6ec0 RCX: ffffffff81bbb789
[   33.683970] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003f6ed0
[   33.684630] RBP: ffff888011d8f7f8 R08: 0000000000000000 R09: ffffed1001d50c78
[   33.685285] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.685935] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800ea863c0
[   33.686619] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   33.687354] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.687892] CR2: 00007fffef6678a8 CR3: 000000002073a006 CR4: 0000000000770ef0
[   33.688556] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.689456] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.690209] PKRU: 55555554
[   33.690501] Call Trace:
[   33.690740]  <TASK>
[   33.690954]  ? show_regs+0x6d/0x80
[   33.691313]  ? die_addr+0x45/0xb0
[   33.691654]  ? exc_general_protection+0x1ae/0x340
[   33.692136]  ? asm_exc_general_protection+0x2b/0x30
[   33.692621]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.693119]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.693624]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.694113]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.694628]  zap_huge_pmd+0x48e/0xd40
[   33.695026]  unmap_page_range+0x1ad6/0x4360
[   33.695466]  ? update_stack_state+0x2d9/0x610
[   33.695915]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.696407]  ? __pfx_unmap_page_range+0x10/0x10
[   33.696867]  unmap_single_vma+0x1ac/0x2d0
[   33.697263]  unmap_vmas+0x210/0x470
[   33.697620]  ? __pfx_unmap_vmas+0x10/0x10
[   33.698014]  ? __pfx_lock_release+0x10/0x10
[   33.698430]  ? lock_release+0x592/0x870
[   33.698816]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.699305]  ? __pfx_lock_release+0x10/0x10
[   33.699718]  ? mlock_drain_local+0x27f/0x4b0
[   33.700156]  exit_mmap+0x19e/0xb10
[   33.700523]  ? __pfx_exit_mmap+0x10/0x10
[   33.700922]  ? debug_smp_processor_id+0x20/0x30
[   33.701379]  ? trace_hardirqs_on+0x51/0x60
[   33.701792]  ? kasan_quarantine_put+0xa2/0x200
[   33.702226]  ? __khugepaged_exit+0x266/0x4c0
[   33.702671]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.703198]  __mmput+0xde/0x3a0
[   33.703523]  mmput+0x74/0x90
[   33.703827]  do_exit+0xa03/0x29f0
[   33.704166]  ? trace_hardirqs_on+0x51/0x60
[   33.704579]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.705197]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.705667]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.706143]  ? __pfx_do_exit+0x10/0x10
[   33.706522]  ? __audit_syscall_entry+0x39c/0x500
[   33.707006]  __x64_sys_exit+0x50/0x60
[   33.707403]  x64_sys_call+0x20c9/0x20d0
[   33.707786]  do_syscall_64+0x6d/0x140
[   33.708158]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.708652] RIP: 0033:0x7f17bd43ee5d
[   33.709006] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.709572] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.710267] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.710934] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.711638] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.712566] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.713254] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.713957]  </TASK>
[   33.714177] Modules linked in:
[   33.714548] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#37] PREEMPT SMP KASAN NOPTI
[   33.714695] ---[ end trace 0000000000000000 ]---
[   33.715700] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.715717] CPU: 0 UID: 0 PID: 6417 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.716155] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.716833] Tainted: [D]=DIE, [W]=WARN
[   33.717663] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.718175] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.718538] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   33.720194] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.720224] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.721260] 
[   33.721733] RSP: 0018:ffff8880217bf7d8 EFLAGS: 00010202
[   33.721749] RAX: dffffc0000000000 RBX: ffffea0000475c40 RCX: ffffffff81bbb789
[   33.722595] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   33.724257] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000475c50
[   33.724270] RBP: ffff8880217bf7f8 R08: 0000000000000000 R09: ffffed10026668a8
[   33.724431] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   33.724918] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.725563] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   33.726206] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013334540
[   33.726860] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.727506] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.727521] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.728222] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   33.728869] CR2: 00007f17bd70adf0 CR3: 000000000ea4c002 CR4: 0000000000770ef0
[   33.729507] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   33.730149] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.730791] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.731520] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.731532] PKRU: 55555554
[   33.731538] Call Trace:
[   33.732073] CR2: 00007fffef6678a8 CR3: 000000002073a006 CR4: 0000000000770ef0
[   33.732714]  <TASK>
[   33.733376] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.734094]  ? show_regs+0x6d/0x80
[   33.734740] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.735260]  ? die_addr+0x45/0xb0
[   33.735930] PKRU: 55555554
[   33.736171]  ? exc_general_protection+0x1ae/0x340
[   33.736413] note: repro[6405] exited with preempt_count 1
[   33.737060]  ? asm_exc_general_protection+0x2b/0x30
[   33.737258] Fixing recursive fault but reboot is needed!
[   33.737903]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.741725]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.742216]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.742718]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.743207]  zap_huge_pmd+0x48e/0xd40
[   33.743583]  unmap_page_range+0x1ad6/0x4360
[   33.743989]  ? update_stack_state+0x2d9/0x610
[   33.744432]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.744918]  ? __pfx_unmap_page_range+0x10/0x10
[   33.745372]  unmap_single_vma+0x1ac/0x2d0
[   33.745773]  unmap_vmas+0x210/0x470
[   33.746134]  ? __pfx_unmap_vmas+0x10/0x10
[   33.746536]  ? __pfx_lock_release+0x10/0x10
[   33.746942]  ? lock_release+0x592/0x870
[   33.747333]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.747812]  ? __pfx_lock_release+0x10/0x10
[   33.748223]  ? mlock_drain_local+0x27f/0x4b0
[   33.748649]  exit_mmap+0x19e/0xb10
[   33.748997]  ? __pfx_exit_mmap+0x10/0x10
[   33.749387]  ? debug_smp_processor_id+0x20/0x30
[   33.749840]  ? trace_hardirqs_on+0x51/0x60
[   33.750255]  ? kasan_quarantine_put+0xa2/0x200
[   33.750699]  ? __khugepaged_exit+0x266/0x4c0
[   33.751122]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.751637]  __mmput+0xde/0x3a0
[   33.751955]  mmput+0x74/0x90
[   33.752259]  do_exit+0xa03/0x29f0
[   33.752604]  ? trace_hardirqs_on+0x51/0x60
[   33.753005]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.753605]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.754063]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.754540]  ? __pfx_do_exit+0x10/0x10
[   33.754918]  ? __audit_syscall_entry+0x39c/0x500
[   33.755376]  __x64_sys_exit+0x50/0x60
[   33.755751]  x64_sys_call+0x20c9/0x20d0
[   33.756130]  do_syscall_64+0x6d/0x140
[   33.756501]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.756995] RIP: 0033:0x7f17bd43ee5d
[   33.757395] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.758273] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.758986] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.759643] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.760305] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.760963] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.761621] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.762289]  </TASK>
[   33.762511] Modules linked in:
[   33.763087] ---[ end trace 0000000000000000 ]---
[   33.763632] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.764197] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.765863] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   33.766359] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   33.767033] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   33.767721] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   33.768386] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.769048] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   33.769711] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   33.770462] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.771000] CR2: 00007f17bd70adf0 CR3: 000000000ea4c002 CR4: 0000000000770ef0
[   33.771691] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.772360] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.773008] PKRU: 55555554
[   33.773274] note: repro[6417] exited with preempt_count 1
[   33.773774] Fixing recursive fault but reboot is needed!
[   33.774284] BUG: scheduling while atomic: repro/6417/0x00000000
[   33.774838] INFO: lockdep is turned off.
[   33.775209] Modules linked in:
[   33.775552] Preemption disabled at:
[   33.775559] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   33.776399] CPU: 0 UID: 0 PID: 6417 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   33.777250] Tainted: [D]=DIE, [W]=WARN
[   33.777609] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.778648] Call Trace:
[   33.778893]  <TASK>
[   33.779112]  dump_stack_lvl+0x121/0x150
[   33.779495]  ? do_task_dead+0x28/0x110
[   33.779862]  dump_stack+0x19/0x20
[   33.780196]  __schedule_bug+0x12d/0x180
[   33.780586]  __schedule+0x2401/0x33a0
[   33.780961]  ? do_task_dead+0xa8/0x110
[   33.781333]  ? rcu_is_watching+0x19/0xc0
[   33.781723]  ? lock_release+0x592/0x870
[   33.782116]  ? __pfx___schedule+0x10/0x10
[   33.782519]  ? debug_smp_processor_id+0x20/0x30
[   33.782966]  ? rcu_is_watching+0x19/0xc0
[   33.783362]  ? trace_irq_enable+0xe1/0x120
[   33.783770]  ? do_task_dead+0x4a/0x110
[   33.784143]  do_task_dead+0xe0/0x110
[   33.784497]  make_task_dead+0x384/0x3c0
[   33.784872]  rewind_stack_and_make_dead+0x16/0x20
[   33.785328] RIP: 0033:0x7f17bd43ee5d
[   33.785681] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   33.786253] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.786950] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   33.787615] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.788274] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   33.788927] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   33.789579] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   33.790242]  </TASK>
[   34.146993] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#38] PREEMPT SMP KASAN NOPTI
[   34.148120] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.148818] CPU: 0 UID: 0 PID: 6684 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.149656] Tainted: [D]=DIE, [W]=WARN
[   34.150007] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.151039] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.151597] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.153258] RSP: 0018:ffff88801dd1f7d8 EFLAGS: 00010202
[   34.153892] RAX: dffffc0000000000 RBX: ffffea0000776a40 RCX: ffffffff81bbb789
[   34.154751] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000776a50
[   34.155600] RBP: ffff88801dd1f7f8 R08: 0000000000000000 R09: ffffed1003513c0c
[   34.156458] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.157306] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801a89e060
[   34.158147] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.159102] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.159799] CR2: 00007f17bd70e3f4 CR3: 000000002073e001 CR4: 0000000000770ef0
[   34.160548] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.161199] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.161857] PKRU: 55555554
[   34.162118] Call Trace:
[   34.162369]  <TASK>
[   34.162583]  ? show_regs+0x6d/0x80
[   34.162927]  ? die_addr+0x45/0xb0
[   34.163269]  ? exc_general_protection+0x1ae/0x340
[   34.163743]  ? asm_exc_general_protection+0x2b/0x30
[   34.164227]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.164725]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.165223]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.165724]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.166211]  zap_huge_pmd+0x48e/0xd40
[   34.166590]  unmap_page_range+0x1ad6/0x4360
[   34.167050]  ? update_stack_state+0x2d9/0x610
[   34.167539]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.168026]  ? __pfx_unmap_page_range+0x10/0x10
[   34.168477]  unmap_single_vma+0x1ac/0x2d0
[   34.168929]  unmap_vmas+0x210/0x470
[   34.169390]  ? __pfx_unmap_vmas+0x10/0x10
[   34.169906]  ? __pfx_lock_release+0x10/0x10
[   34.170488]  ? lock_release+0x592/0x870
[   34.170944]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.171538]  ? __pfx_lock_release+0x10/0x10
[   34.172068]  ? mlock_drain_local+0x27f/0x4b0
[   34.172622]  exit_mmap+0x19e/0xb10
[   34.173013]  ? __pfx_exit_mmap+0x10/0x10
[   34.173543]  ? debug_smp_processor_id+0x20/0x30
[   34.173998]  ? trace_hardirqs_on+0x51/0x60
[   34.174518]  ? kasan_quarantine_put+0xa2/0x200
[   34.174999]  ? __khugepaged_exit+0x266/0x4c0
[   34.175431]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.175947]  __mmput+0xde/0x3a0
[   34.176272]  mmput+0x74/0x90
[   34.176569]  do_exit+0xa03/0x29f0
[   34.176907]  ? trace_hardirqs_on+0x51/0x60
[   34.177317]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.177919]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.178383]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.178864]  ? __pfx_do_exit+0x10/0x10
[   34.179248]  ? __audit_syscall_entry+0x39c/0x500
[   34.179706]  __x64_sys_exit+0x50/0x60
[   34.180069]  x64_sys_call+0x20c9/0x20d0
[   34.180447]  do_syscall_64+0x6d/0x140
[   34.180887]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.181533] RIP: 0033:0x7f17bd43ee5d
[   34.181887] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.182466] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.183163] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.183891] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.184554] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.185290] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.186021] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.186687]  </TASK>
[   34.186910] Modules linked in:
[   34.187271] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#39] PREEMPT SMP KASAN NOPTI
[   34.187374] ---[ end trace 0000000000000000 ]---
[   34.188410] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.188427] CPU: 1 UID: 0 PID: 6688 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.188454] Tainted: [D]=DIE, [W]=WARN
[   34.188460] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.188470] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.188921] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.189602] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.190599] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.190941] RSP: 0018:ffff88802a8b77d8 EFLAGS: 00010202
[   34.192435] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   34.192759] 
[   34.193449] 
[   34.195061] RAX: dffffc0000000000 RBX: ffffea0000351f00 RCX: ffffffff81bbb789
[   34.197360] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   34.197688] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000351f10
[   34.198316] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   34.198467] RBP: ffff88802a8b77f8 R08: 0000000000000000 R09: ffffed1002e0292c
[   34.198666] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   34.199297] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.200158] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.200771] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888017014960
[   34.201618] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   34.202247] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.203093] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.203726] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.203739] CR2: 00007f17bd6e9ef8 CR3: 00000000216f0003 CR4: 0000000000770ef0
[   34.203753] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.203764] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.203775] PKRU: 55555554
[   34.203781] Call Trace:
[   34.203786]  <TASK>
[   34.204637] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.205271]  ? show_regs+0x6d/0x80
[   34.206115] CR2: 00007f17bd70e3f4 CR3: 000000002073e001 CR4: 0000000000770ef0
[   34.206829]  ? die_addr+0x45/0xb0
[   34.207800] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.208301]  ? exc_general_protection+0x1ae/0x340
[   34.209154] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.209792]  ? asm_exc_general_protection+0x2b/0x30
[   34.210628] PKRU: 55555554
[   34.210885]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.211184] note: repro[6684] exited with preempt_count 1
[   34.211387]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.212087] Fixing recursive fault but reboot is needed!
[   34.212390]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.219289]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.219924]  zap_huge_pmd+0x48e/0xd40
[   34.220397]  unmap_page_range+0x1ad6/0x4360
[   34.220921]  ? update_stack_state+0x2d9/0x610
[   34.221570]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.222194]  ? __pfx_unmap_page_range+0x10/0x10
[   34.222886]  unmap_single_vma+0x1ac/0x2d0
[   34.223399]  unmap_vmas+0x210/0x470
[   34.223849]  ? __pfx_unmap_vmas+0x10/0x10
[   34.224356]  ? __pfx_lock_release+0x10/0x10
[   34.224876]  ? lock_release+0x592/0x870
[   34.225360]  ? mas_next_slot+0x133a/0x1a50
[   34.225871]  ? __pfx_lock_release+0x10/0x10
[   34.226398]  ? mlock_drain_local+0x27f/0x4b0
[   34.226937]  exit_mmap+0x19e/0xb10
[   34.227381]  ? __pfx_exit_mmap+0x10/0x10
[   34.227875]  ? debug_smp_processor_id+0x20/0x30
[   34.228458]  ? trace_hardirqs_on+0x51/0x60
[   34.228975]  ? kasan_quarantine_put+0xa2/0x200
[   34.229536]  ? __khugepaged_exit+0x266/0x4c0
[   34.230073]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.230735]  __mmput+0xde/0x3a0
[   34.231140]  mmput+0x74/0x90
[   34.231518]  do_exit+0xa03/0x29f0
[   34.231944]  ? trace_hardirqs_on+0x51/0x60
[   34.232463]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.233229]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.233828]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.234450]  ? __pfx_do_exit+0x10/0x10
[   34.235046]  ? __audit_syscall_entry+0x39c/0x500
[   34.235629]  __x64_sys_exit+0x50/0x60
[   34.236193]  x64_sys_call+0x20c9/0x20d0
[   34.236678]  do_syscall_64+0x6d/0x140
[   34.237141]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.237777] RIP: 0033:0x7f17bd43ee5d
[   34.238319] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.239049] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.240013] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.240860] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.241872] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.242742] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.243617] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.244758]  </TASK>
[   34.245099] Modules linked in:
[   34.245590] ---[ end trace 0000000000000000 ]---
[   34.246163] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.246871] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.249136] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   34.249774] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   34.250627] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   34.251521] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   34.252376] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#40] PREEMPT SMP KASAN NOPTI
[   34.252403] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.253323] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.254155] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   34.254734] CPU: 0 UID: 0 PID: 6764 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.255597] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.256261] Tainted: [D]=DIE, [W]=WARN
[   34.257209] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.257482] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.258159] CR2: 00007f17bd6e9ef8 CR3: 00000000216f0003 CR4: 0000000000770ef0
[   34.258975] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.259838] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.260236] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.261071] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.262397] RSP: 0018:ffff8880215cf7d8 EFLAGS: 00010202
[   34.263237] PKRU: 55555554
[   34.263246] note: repro[6688] exited with preempt_count 1
[   34.263631] RAX: dffffc0000000000 RBX: ffffea00004a6d00 RCX: ffffffff81bbb789
[   34.263642] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004a6d10
[   34.263652] RBP: ffff8880215cf7f8 R08: 0000000000000000 R09: ffffed10023a31bc
[   34.263985] Fixing recursive fault but reboot is needed!
[   34.264362] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.265196] check_preemption_disabled: 10 callbacks suppressed
[   34.265206] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6688
[   34.265689] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011d18de0
[   34.266529] caller is debug_smp_processor_id+0x20/0x30
[   34.266902] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.267768] CPU: 1 UID: 0 PID: 6688 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.268150] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.269389] Tainted: [D]=DIE, [W]=WARN
[   34.269880] CR2: 00007f520c082038 CR3: 000000001c33a002 CR4: 0000000000770ef0
[   34.270489] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.271023] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.272086] Call Trace:
[   34.272474] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.272927]  <TASK>
[   34.273402] PKRU: 55555554
[   34.273409] Call Trace:
[   34.274742]  dump_stack_lvl+0x121/0x150
[   34.275212]  <TASK>
[   34.275219]  ? show_regs+0x6d/0x80
[   34.275523]  dump_stack+0x19/0x20
[   34.275977]  ? die_addr+0x45/0xb0
[   34.276243]  check_preemption_disabled+0x168/0x180
[   34.276428]  ? exc_general_protection+0x1ae/0x340
[   34.276734]  debug_smp_processor_id+0x20/0x30
[   34.276991]  ? asm_exc_general_protection+0x2b/0x30
[   34.277251]  __schedule+0xa0/0x33a0
[   34.277483]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.277882]  ? do_task_dead+0xa8/0x110
[   34.278104]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.278677]  ? debug_smp_processor_id+0x20/0x30
[   34.278985]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.279509]  ? rcu_is_watching+0x19/0xc0
[   34.279814]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.280242]  ? lock_release+0x592/0x870
[   34.280563]  zap_huge_pmd+0x48e/0xd40
[   34.281014]  ? __pfx___schedule+0x10/0x10
[   34.281338]  unmap_page_range+0x1ad6/0x4360
[   34.281880]  ? debug_smp_processor_id+0x20/0x30
[   34.282203]  ? update_stack_state+0x2d9/0x610
[   34.282679]  ? rcu_is_watching+0x19/0xc0
[   34.283012]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.283631]  ? trace_irq_enable+0xe1/0x120
[   34.283868]  ? __pfx_unmap_page_range+0x10/0x10
[   34.284374]  ? do_task_dead+0x4a/0x110
[   34.284639]  unmap_single_vma+0x1ac/0x2d0
[   34.285182]  do_task_dead+0xe0/0x110
[   34.285452]  unmap_vmas+0x210/0x470
[   34.285930]  make_task_dead+0x384/0x3c0
[   34.286242]  ? __pfx_unmap_vmas+0x10/0x10
[   34.286745]  rewind_stack_and_make_dead+0x16/0x20
[   34.287021]  ? __pfx_lock_release+0x10/0x10
[   34.287485] RIP: 0033:0x7f17bd43ee5d
[   34.287732]  ? lock_release+0x592/0x870
[   34.288293] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.288505]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.288974] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   34.289227]  ? __pfx_lock_release+0x10/0x10
[   34.289788]  ORIG_RAX: 000000000000003c
[   34.290042]  ? mlock_drain_local+0x27f/0x4b0
[   34.290476] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.290715]  exit_mmap+0x19e/0xb10
[   34.291442] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.291734]  ? __pfx_exit_mmap+0x10/0x10
[   34.292442] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.292701]  ? debug_smp_processor_id+0x20/0x30
[   34.293168] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.293425]  ? trace_hardirqs_on+0x51/0x60
[   34.294262] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.294467]  ? kasan_quarantine_put+0xa2/0x200
[   34.295328]  </TASK>
[   34.295553]  ? __khugepaged_exit+0x266/0x4c0
[   34.298497]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.298812]  __mmput+0xde/0x3a0
[   34.299006]  mmput+0x74/0x90
[   34.299184]  do_exit+0xa03/0x29f0
[   34.299386]  ? trace_hardirqs_on+0x51/0x60
[   34.299630]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.299999]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.300288]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.300585]  ? __pfx_do_exit+0x10/0x10
[   34.300808]  ? __audit_syscall_entry+0x39c/0x500
[   34.301075]  __x64_sys_exit+0x50/0x60
[   34.301291]  x64_sys_call+0x20c9/0x20d0
[   34.301514]  do_syscall_64+0x6d/0x140
[   34.301732]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.302018] RIP: 0033:0x7f17bd43ee5d
[   34.302232] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.302564] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.302984] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.303377] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.303761] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.304130] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.304492] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.304866]  </TASK>
[   34.304989] Modules linked in:
[   34.305251] ---[ end trace 0000000000000000 ]---
[   34.305506] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.305822] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.306770] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   34.307146] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   34.307730] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   34.308093] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   34.308453] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.308805] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   34.309161] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.309761] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.310053] CR2: 00007f520c082038 CR3: 000000001c33a002 CR4: 0000000000770ef0
[   34.310409] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.310765] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.311120] PKRU: 55555554
[   34.311265] note: repro[6764] exited with preempt_count 1
[   34.311696] Fixing recursive fault but reboot is needed!
[   34.311967] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6764
[   34.312345] caller is debug_smp_processor_id+0x20/0x30
[   34.312618] CPU: 0 UID: 0 PID: 6764 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.313055] Tainted: [D]=DIE, [W]=WARN
[   34.313240] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.313979] Call Trace:
[   34.314106]  <TASK>
[   34.314221]  dump_stack_lvl+0x121/0x150
[   34.314425]  dump_stack+0x19/0x20
[   34.314602]  check_preemption_disabled+0x168/0x180
[   34.314847]  debug_smp_processor_id+0x20/0x30
[   34.315071]  __schedule+0xa0/0x33a0
[   34.315250]  ? do_task_dead+0xa8/0x110
[   34.315443]  ? debug_smp_processor_id+0x20/0x30
[   34.315669]  ? rcu_is_watching+0x19/0xc0
[   34.315866]  ? lock_release+0x592/0x870
[   34.316057]  ? __pfx___schedule+0x10/0x10
[   34.316259]  ? debug_smp_processor_id+0x20/0x30
[   34.316484]  ? rcu_is_watching+0x19/0xc0
[   34.316685]  ? trace_irq_enable+0xe1/0x120
[   34.316893]  ? do_task_dead+0x4a/0x110
[   34.317080]  do_task_dead+0xe0/0x110
[   34.317260]  make_task_dead+0x384/0x3c0
[   34.317457]  rewind_stack_and_make_dead+0x16/0x20
[   34.317681] RIP: 0033:0x7f17bd43ee5d
[   34.317853] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.318133] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.318482] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.318805] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.319126] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.319451] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.319772] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.320104]  </TASK>
[   34.320270] BUG: scheduling while atomic: repro/6764/0x00000000
[   34.320551] INFO: lockdep is turned off.
[   34.320731] Modules linked in:
[   34.320878] Preemption disabled at:
[   34.320885] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   34.321299] CPU: 0 UID: 0 PID: 6764 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.321714] Tainted: [D]=DIE, [W]=WARN
[   34.321884] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.322383] Call Trace:
[   34.322500]  <TASK>
[   34.322604]  dump_stack_lvl+0x121/0x150
[   34.322788]  ? do_task_dead+0x28/0x110
[   34.322964]  dump_stack+0x19/0x20
[   34.323125]  __schedule_bug+0x12d/0x180
[   34.323314]  __schedule+0x2401/0x33a0
[   34.323494]  ? do_task_dead+0xa8/0x110
[   34.323675]  ? rcu_is_watching+0x19/0xc0
[   34.323864]  ? lock_release+0x592/0x870
[   34.324047]  ? __pfx___schedule+0x10/0x10
[   34.324239]  ? debug_smp_processor_id+0x20/0x30
[   34.324455]  ? rcu_is_watching+0x19/0xc0
[   34.324642]  ? trace_irq_enable+0xe1/0x120
[   34.324837]  ? do_task_dead+0x4a/0x110
[   34.325016]  do_task_dead+0xe0/0x110
[   34.325186]  make_task_dead+0x384/0x3c0
[   34.325371]  rewind_stack_and_make_dead+0x16/0x20
[   34.325588] RIP: 0033:0x7f17bd43ee5d
[   34.325759] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.326032] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.326361] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.326678] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.326988] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.327299] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.327605] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.327915]  </TASK>
[   34.485404] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#41] PREEMPT SMP KASAN NOPTI
[   34.486515] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.487195] CPU: 0 UID: 0 PID: 6804 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.488016] Tainted: [D]=DIE, [W]=WARN
[   34.488368] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.489371] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.489904] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.491535] RSP: 0018:ffff88802a8b77d8 EFLAGS: 00010202
[   34.492033] RAX: dffffc0000000000 RBX: ffffea0000442e80 RCX: ffffffff81bbb789
[   34.492682] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000442e90
[   34.493339] RBP: ffff88802a8b77f8 R08: 0000000000000000 R09: ffffed10023a306c
[   34.493994] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.494649] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011d18360
[   34.495307] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.496047] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.496601] CR2: 00007f17bd6e9e28 CR3: 0000000018ad0002 CR4: 0000000000770ef0
[   34.497264] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.497928] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.498585] PKRU: 55555554
[   34.498852] Call Trace:
[   34.499089]  <TASK>
[   34.499304]  ? show_regs+0x6d/0x80
[   34.499655]  ? die_addr+0x45/0xb0
[   34.499996]  ? exc_general_protection+0x1ae/0x340
[   34.500457]  ? asm_exc_general_protection+0x2b/0x30
[   34.500935]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.501436]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.501932]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.502432]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.502923]  zap_huge_pmd+0x48e/0xd40
[   34.503293]  unmap_page_range+0x1ad6/0x4360
[   34.503739]  ? update_stack_state+0x2d9/0x610
[   34.504187]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.504674]  ? __pfx_unmap_page_range+0x10/0x10
[   34.505122]  unmap_single_vma+0x1ac/0x2d0
[   34.505526]  unmap_vmas+0x210/0x470
[   34.505883]  ? __pfx_unmap_vmas+0x10/0x10
[   34.506283]  ? __pfx_lock_release+0x10/0x10
[   34.506681]  ? lock_release+0x592/0x870
[   34.507054]  ? mas_next_slot+0x133a/0x1a50
[   34.507455]  ? __pfx_lock_release+0x10/0x10
[   34.507868]  ? mlock_drain_local+0x27f/0x4b0
[   34.508290]  exit_mmap+0x19e/0xb10
[   34.508645]  ? __pfx_exit_mmap+0x10/0x10
[   34.509034]  ? debug_smp_processor_id+0x20/0x30
[   34.509490]  ? trace_hardirqs_on+0x51/0x60
[   34.509892]  ? kasan_quarantine_put+0xa2/0x200
[   34.510339]  ? __khugepaged_exit+0x266/0x4c0
[   34.510758]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.511267]  __mmput+0xde/0x3a0
[   34.511588]  mmput+0x74/0x90
[   34.511880]  do_exit+0xa03/0x29f0
[   34.512223]  ? trace_hardirqs_on+0x51/0x60
[   34.512629]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.513233]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.513702]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.514180]  ? __pfx_do_exit+0x10/0x10
[   34.514556]  ? __audit_syscall_entry+0x39c/0x500
[   34.515003]  __x64_sys_exit+0x50/0x60
[   34.515371]  x64_sys_call+0x20c9/0x20d0
[   34.515752]  do_syscall_64+0x6d/0x140
[   34.516116]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.516618] RIP: 0033:0x7f17bd43ee5d
[   34.516965] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.517542] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.518242] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.518898] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.519555] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.520208] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.520957] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.521772]  </TASK>
[   34.522036] Modules linked in:
[   34.522558] ---[ end trace 0000000000000000 ]---
[   34.523100] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.523840] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.525910] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   34.526397] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   34.527161] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   34.527947] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   34.528718] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.529487] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   34.530251] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   34.531118] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.531761] CR2: 00007f17bd6e9e28 CR3: 0000000018ad0002 CR4: 0000000000770ef0
[   34.532536] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.533304] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.534306] PKRU: 55555554
[   34.534622] note: repro[6804] exited with preempt_count 1
[   34.535207] Fixing recursive fault but reboot is needed!
[   34.535810] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6804
[   34.536607] caller is debug_smp_processor_id+0x20/0x30
[   34.537156] CPU: 0 UID: 0 PID: 6804 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.538204] Tainted: [D]=DIE, [W]=WARN
[   34.538603] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.539761] Call Trace:
[   34.540028]  <TASK>
[   34.540261]  dump_stack_lvl+0x121/0x150
[   34.540687]  dump_stack+0x19/0x20
[   34.541053]  check_preemption_disabled+0x168/0x180
[   34.541574]  debug_smp_processor_id+0x20/0x30
[   34.542030]  __schedule+0xa0/0x33a0
[   34.542401]  ? do_task_dead+0xa8/0x110
[   34.542787]  ? debug_smp_processor_id+0x20/0x30
[   34.543254]  ? rcu_is_watching+0x19/0xc0
[   34.543664]  ? lock_release+0x592/0x870
[   34.543882] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#42] PREEMPT SMP KASAN NOPTI
[   34.544061]  ? __pfx___schedule+0x10/0x10
[   34.545187] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.545586]  ? debug_smp_processor_id+0x20/0x30
[   34.546291] CPU: 1 UID: 0 PID: 6819 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.546731]  ? rcu_is_watching+0x19/0xc0
[   34.547581] Tainted: [D]=DIE, [W]=WARN
[   34.547961]  ? trace_irq_enable+0xe1/0x120
[   34.548320] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.548724]  ? do_task_dead+0x4a/0x110
[   34.549800] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.550155]  do_task_dead+0xe0/0x110
[   34.550716] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.551057]  make_task_dead+0x384/0x3c0
[   34.552853] RSP: 0018:ffff88801ee877d8 EFLAGS: 00010202
[   34.553218]  rewind_stack_and_make_dead+0x16/0x20
[   34.553767] RAX: dffffc0000000000 RBX: ffffea00004ddf80 RCX: ffffffff81bbb789
[   34.554207] RIP: 0033:0x7f17bd43ee5d
[   34.554916] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004ddf90
[   34.555256] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.555967] RBP: ffff88801ee877f8 R08: 0000000000000000 R09: ffffed10023a3198
[   34.556518] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.557223] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.557903] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.558603] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011d18cc0
[   34.559233] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.559882] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.560516] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.561307] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.561918] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.562554] CR2: 00007fffef667838 CR3: 000000002169e001 CR4: 0000000000770ef0
[   34.563162] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.563909] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.564383]  </TASK>
[   34.565113] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.566009] PKRU: 55555554
[   34.566294] Call Trace:
[   34.566539]  <TASK>
[   34.566800]  ? show_regs+0x6d/0x80
[   34.567191]  ? die_addr+0x45/0xb0
[   34.567542]  ? exc_general_protection+0x1ae/0x340
[   34.568087]  ? asm_exc_general_protection+0x2b/0x30
[   34.568576]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.569141]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.569737]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.570367]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.570884]  zap_huge_pmd+0x48e/0xd40
[   34.571391]  unmap_page_range+0x1ad6/0x4360
[   34.571804]  ? update_stack_state+0x2d9/0x610
[   34.572351]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.572874]  ? __pfx_unmap_page_range+0x10/0x10
[   34.573442]  unmap_single_vma+0x1ac/0x2d0
[   34.573878]  unmap_vmas+0x210/0x470
[   34.574320]  ? __pfx_unmap_vmas+0x10/0x10
[   34.574771]  ? __pfx_lock_release+0x10/0x10
[   34.575235]  ? lock_release+0x592/0x870
[   34.575649]  ? mas_next_slot+0x133a/0x1a50
[   34.576081]  ? __pfx_lock_release+0x10/0x10
[   34.576518]  ? mlock_drain_local+0x27f/0x4b0
[   34.577131]  exit_mmap+0x19e/0xb10
[   34.577505]  ? __pfx_exit_mmap+0x10/0x10
[   34.577948]  ? debug_smp_processor_id+0x20/0x30
[   34.578496]  ? trace_hardirqs_on+0x51/0x60
[   34.578965]  ? kasan_quarantine_put+0xa2/0x200
[   34.579521]  ? __khugepaged_exit+0x266/0x4c0
[   34.579962]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.580552]  __mmput+0xde/0x3a0
[   34.580907]  mmput+0x74/0x90
[   34.581288]  do_exit+0xa03/0x29f0
[   34.581697]  ? trace_hardirqs_on+0x51/0x60
[   34.582112]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.582807]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.583301]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.583837]  ? __pfx_do_exit+0x10/0x10
[   34.584243]  ? __audit_syscall_entry+0x39c/0x500
[   34.584753]  __x64_sys_exit+0x50/0x60
[   34.585155]  x64_sys_call+0x20c9/0x20d0
[   34.585546]  do_syscall_64+0x6d/0x140
[   34.585971]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.586506] RIP: 0033:0x7f17bd43ee5d
[   34.586882] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.587508] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.588269] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.588977] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.589764] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.590489] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.591203] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.591993]  </TASK>
[   34.592221] Modules linked in:
[   34.592793] ---[ end trace 0000000000000000 ]---
[   34.593260] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.593922] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.595732] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   34.596333] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   34.597036] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   34.597754] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   34.598502] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.599186] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   34.599928] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.600742] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.601293] CR2: 00007fffef667838 CR3: 000000002169e001 CR4: 0000000000770ef0
[   34.602057] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.602808] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.603528] PKRU: 55555554
[   34.603864] note: repro[6819] exited with preempt_count 1
[   34.604406] Fixing recursive fault but reboot is needed!
[   34.604959] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6819
[   34.605727] caller is debug_smp_processor_id+0x20/0x30
[   34.606360] CPU: 1 UID: 0 PID: 6819 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.607302] Tainted: [D]=DIE, [W]=WARN
[   34.607694] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.608849] Call Trace:
[   34.609102]  <TASK>
[   34.609377]  dump_stack_lvl+0x121/0x150
[   34.609824]  dump_stack+0x19/0x20
[   34.610156]  check_preemption_disabled+0x168/0x180
[   34.610744]  debug_smp_processor_id+0x20/0x30
[   34.611180]  __schedule+0xa0/0x33a0
[   34.611593]  ? do_task_dead+0xa8/0x110
[   34.612021]  ? debug_smp_processor_id+0x20/0x30
[   34.612465]  ? rcu_is_watching+0x19/0xc0
[   34.612962]  ? lock_release+0x592/0x870
[   34.613350]  ? __pfx___schedule+0x10/0x10
[   34.613805]  ? debug_smp_processor_id+0x20/0x30
[   34.614303]  ? rcu_is_watching+0x19/0xc0
[   34.614688]  ? trace_irq_enable+0xe1/0x120
[   34.615204]  ? do_task_dead+0x4a/0x110
[   34.615593]  do_task_dead+0xe0/0x110
[   34.615991]  make_task_dead+0x384/0x3c0
[   34.616432]  rewind_stack_and_make_dead+0x16/0x20
[   34.616887] RIP: 0033:0x7f17bd43ee5d
[   34.617340] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.617923] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.618708] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.619435] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.620114] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.620857] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.621574] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.622299]  </TASK>
[   34.622612] BUG: scheduling while atomic: repro/6819/0x00000000
[   34.623216] INFO: lockdep is turned off.
[   34.623622] Modules linked in:
[   34.623998] Preemption disabled at:
[   34.624013] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   34.624877] CPU: 1 UID: 0 PID: 6819 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.625759] Tainted: [D]=DIE, [W]=WARN
[   34.626183] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.627340] Call Trace:
[   34.627598]  <TASK>
[   34.627815]  dump_stack_lvl+0x121/0x150
[   34.628230]  ? do_task_dead+0x28/0x110
[   34.628663]  dump_stack+0x19/0x20
[   34.629003]  __schedule_bug+0x12d/0x180
[   34.629449]  __schedule+0x2401/0x33a0
[   34.629853]  ? do_task_dead+0xa8/0x110
[   34.630223]  ? rcu_is_watching+0x19/0xc0
[   34.630690]  ? lock_release+0x592/0x870
[   34.631078]  ? __pfx___schedule+0x10/0x10
[   34.631521]  ? debug_smp_processor_id+0x20/0x30
[   34.632030]  ? rcu_is_watching+0x19/0xc0
[   34.632426]  ? trace_irq_enable+0xe1/0x120
[   34.632909]  ? do_task_dead+0x4a/0x110
[   34.633295]  do_task_dead+0xe0/0x110
[   34.633678]  make_task_dead+0x384/0x3c0
[   34.634131]  rewind_stack_and_make_dead+0x16/0x20
[   34.634599] RIP: 0033:0x7f17bd43ee5d
[   34.635005] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.635604] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.636411] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.637108] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.637857] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.638605] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.639307] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.640061]  </TASK>
[   34.952863] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#43] PREEMPT SMP KASAN NOPTI
[   34.953980] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.954677] CPU: 1 UID: 0 PID: 7051 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   34.955510] Tainted: [D]=DIE, [W]=WARN
[   34.955858] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.956889] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.957436] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.959089] RSP: 0018:ffff88801642f7d8 EFLAGS: 00010202
[   34.959582] RAX: dffffc0000000000 RBX: ffffea00004cd180 RCX: ffffffff81bbb789
[   34.960231] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004cd190
[   34.960885] RBP: ffff88801642f7f8 R08: 0000000000000000 R09: ffffed1003ef540c
[   34.961529] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   34.962183] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f7aa060
[   34.962828] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.963569] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.964112] CR2: 00007f17bd5fca50 CR3: 00000000260b4006 CR4: 0000000000770ef0
[   34.964773] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.965426] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.966075] PKRU: 55555554
[   34.966344] Call Trace:
[   34.966583]  <TASK>
[   34.966797]  ? show_regs+0x6d/0x80
[   34.967142]  ? die_addr+0x45/0xb0
[   34.967484]  ? exc_general_protection+0x1ae/0x340
[   34.967940]  ? asm_exc_general_protection+0x2b/0x30
[   34.968416]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.968900]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.969392]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.969882]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.970374]  zap_huge_pmd+0x48e/0xd40
[   34.970741]  unmap_page_range+0x1ad6/0x4360
[   34.971146]  ? __pfx_lock_release+0x10/0x10
[   34.971552]  ? do_raw_spin_trylock+0xbf/0x190
[   34.971982]  ? __kasan_check_read+0x15/0x20
[   34.972392]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.972866]  ? __pfx_unmap_page_range+0x10/0x10
[   34.973314]  unmap_single_vma+0x1ac/0x2d0
[   34.973704]  unmap_vmas+0x210/0x470
[   34.974050]  ? __pfx_unmap_vmas+0x10/0x10
[   34.974444]  ? __pfx_lock_release+0x10/0x10
[   34.974841]  ? lock_release+0x592/0x870
[   34.975222]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.975698]  ? __pfx_lock_release+0x10/0x10
[   34.976110]  ? mlock_drain_local+0x27f/0x4b0
[   34.976535]  exit_mmap+0x19e/0xb10
[   34.976878]  ? __pfx_exit_mmap+0x10/0x10
[   34.977261]  ? debug_smp_processor_id+0x20/0x30
[   34.977714]  ? trace_hardirqs_on+0x51/0x60
[   34.978119]  ? kasan_quarantine_put+0xa2/0x200
[   34.978558]  ? __khugepaged_exit+0x266/0x4c0
[   34.978973]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.979486]  __mmput+0xde/0x3a0
[   34.979800]  mmput+0x74/0x90
[   34.980090]  do_exit+0xa03/0x29f0
[   34.980428]  ? trace_hardirqs_on+0x51/0x60
[   34.980829]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.981426]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.981886]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.982360]  ? __pfx_do_exit+0x10/0x10
[   34.982735]  ? __audit_syscall_entry+0x39c/0x500
[   34.983178]  __x64_sys_exit+0x50/0x60
[   34.983542]  x64_sys_call+0x20c9/0x20d0
[   34.983917]  do_syscall_64+0x6d/0x140
[   34.984293]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.984781] RIP: 0033:0x7f17bd43ee5d
[   34.985127] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   34.985696] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.986398] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   34.987050] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.987705] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   34.988354] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   34.988996] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   34.989648]  </TASK>
[   34.989864] Modules linked in:
[   34.990304] ---[ end trace 0000000000000000 ]---
[   34.990745] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.991294] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.993039] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   34.993557] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   34.994205] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   34.994855] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   34.995874] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.996540] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   34.997193] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   34.997934] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.998601] CR2: 00007f17bd5fca50 CR3: 00000000260b4006 CR4: 0000000000770ef0
[   34.999285] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.000033] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.000706] PKRU: 55555554
[   35.000990] note: repro[7051] exited with preempt_count 1
[   35.001549] Fixing recursive fault but reboot is needed!
[   35.002116] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7051
[   35.002942] caller is debug_smp_processor_id+0x20/0x30
[   35.003506] CPU: 1 UID: 0 PID: 7051 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.004361] Tainted: [D]=DIE, [W]=WARN
[   35.004743] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.005812] Call Trace:
[   35.006052]  <TASK>
[   35.006319]  dump_stack_lvl+0x121/0x150
[   35.006729]  dump_stack+0x19/0x20
[   35.007061]  check_preemption_disabled+0x168/0x180
[   35.007616]  debug_smp_processor_id+0x20/0x30
[   35.008054]  __schedule+0xa0/0x33a0
[   35.008407]  ? do_task_dead+0xa8/0x110
[   35.008774]  ? debug_smp_processor_id+0x20/0x30
[   35.009348]  ? rcu_is_watching+0x19/0xc0
[   35.009740]  ? lock_release+0x592/0x870
[   35.010120]  ? __pfx___schedule+0x10/0x10
[   35.010538]  ? debug_smp_processor_id+0x20/0x30
[   35.011029]  ? rcu_is_watching+0x19/0xc0
[   35.011421]  ? trace_irq_enable+0xe1/0x120
[   35.011831]  ? do_task_dead+0x4a/0x110
[   35.012229]  do_task_dead+0xe0/0x110
[   35.012718]  make_task_dead+0x384/0x3c0
[   35.013209]  rewind_stack_and_make_dead+0x16/0x20
[   35.013856] RIP: 0033:0x7f17bd43ee5d
[   35.014307] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.015125] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.016106] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.016960] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.017812] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.018681] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.019635] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.020514]  </TASK>
[   35.020937] BUG: scheduling while atomic: repro/7051/0x00000000
[   35.021662] INFO: lockdep is turned off.
[   35.022137] Modules linked in:
[   35.022526] Preemption disabled at:
[   35.022532] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   35.023796] CPU: 1 UID: 0 PID: 7051 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.024890] Tainted: [D]=DIE, [W]=WARN
[   35.025460] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.026890] Call Trace:
[   35.027240]  <TASK>
[   35.027523]  dump_stack_lvl+0x121/0x150
[   35.028009]  ? do_task_dead+0x28/0x110
[   35.028537]  dump_stack+0x19/0x20
[   35.028962]  __schedule_bug+0x12d/0x180
[   35.029455]  __schedule+0x2401/0x33a0
[   35.029943]  ? do_task_dead+0xa8/0x110
[   35.030452]  ? rcu_is_watching+0x19/0xc0
[   35.030947]  ? lock_release+0x592/0x870
[   35.031432]  ? __pfx___schedule+0x10/0x10
[   35.031940]  ? debug_smp_processor_id+0x20/0x30
[   35.032574]  ? rcu_is_watching+0x19/0xc0
[   35.033112]  ? trace_irq_enable+0xe1/0x120
[   35.033633]  ? do_task_dead+0x4a/0x110
[   35.034112]  do_task_dead+0xe0/0x110
[   35.034753]  make_task_dead+0x384/0x3c0
[   35.035242]  rewind_stack_and_make_dead+0x16/0x20
[   35.035834] RIP: 0033:0x7f17bd43ee5d
[   35.036355] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.037089] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.037995] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.038936] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.039844] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.040700] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.041645] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.042511]  </TASK>
[   35.050880] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#44] PREEMPT SMP KASAN NOPTI
[   35.052331] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.053230] CPU: 1 UID: 0 PID: 7090 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.054329] Tainted: [D]=DIE, [W]=WARN
[   35.054804] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.056208] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.056922] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.059098] RSP: 0018:ffff88801aa4f7d8 EFLAGS: 00010202
[   35.059736] RAX: dffffc0000000000 RBX: ffffea0000aa44c0 RCX: ffffffff81bbb789
[   35.060585] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aa44d0
[   35.061560] RBP: ffff88801aa4f7f8 R08: 0000000000000000 R09: ffffed100260b1ec
[   35.062413] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.063259] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013058f60
[   35.064114] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   35.065188] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.065888] CR2: 00007f17bd71ebf0 CR3: 00000000217ae002 CR4: 0000000000770ef0
[   35.066835] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.067692] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.068550] PKRU: 55555554
[   35.068891] Call Trace:
[   35.069199]  <TASK>
[   35.069478]  ? show_regs+0x6d/0x80
[   35.069920]  ? die_addr+0x45/0xb0
[   35.070356]  ? exc_general_protection+0x1ae/0x340
[   35.070948]  ? asm_exc_general_protection+0x2b/0x30
[   35.071565]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.072198]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.072837]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.073475]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.074100]  zap_huge_pmd+0x48e/0xd40
[   35.074551]  unmap_page_range+0x1ad6/0x4360
[   35.075050]  ? update_stack_state+0x2d9/0x610
[   35.075590]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.076183]  ? __pfx_unmap_page_range+0x10/0x10
[   35.076731]  unmap_single_vma+0x1ac/0x2d0
[   35.077214]  unmap_vmas+0x210/0x470
[   35.077647]  ? __pfx_unmap_vmas+0x10/0x10
[   35.078123]  ? __pfx_lock_release+0x10/0x10
[   35.078621]  ? lock_release+0x592/0x870
[   35.079068]  ? mas_next_slot+0x133a/0x1a50
[   35.079538]  ? __pfx_lock_release+0x10/0x10
[   35.080012]  ? mlock_drain_local+0x27f/0x4b0
[   35.080503]  exit_mmap+0x19e/0xb10
[   35.080913]  ? __pfx_exit_mmap+0x10/0x10
[   35.081365]  ? debug_smp_processor_id+0x20/0x30
[   35.081883]  ? trace_hardirqs_on+0x51/0x60
[   35.082351]  ? kasan_quarantine_put+0xa2/0x200
[   35.082856]  ? __khugepaged_exit+0x266/0x4c0
[   35.083347]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.083941]  __mmput+0xde/0x3a0
[   35.084312]  mmput+0x74/0x90
[   35.084653]  do_exit+0xa03/0x29f0
[   35.085040]  ? trace_hardirqs_on+0x51/0x60
[   35.085510]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.086203]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.086751]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.087304]  ? __pfx_do_exit+0x10/0x10
[   35.087735]  ? __audit_syscall_entry+0x39c/0x500
[   35.088236]  __x64_sys_exit+0x50/0x60
[   35.088639]  x64_sys_call+0x20c9/0x20d0
[   35.089053]  do_syscall_64+0x6d/0x140
[   35.089463]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.090000] RIP: 0033:0x7f17bd43ee5d
[   35.090388] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.091019] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.091798] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.092530] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.093255] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.093989] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.094719] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.095456]  </TASK>
[   35.095687] Modules linked in:
[   35.096135] ---[ end trace 0000000000000000 ]---
[   35.096609] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.097189] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.098980] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   35.099557] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   35.100228] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   35.100901] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   35.101572] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.102239] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   35.102911] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   35.103739] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.104290] CR2: 00007f17bd71ebf0 CR3: 00000000217ae002 CR4: 0000000000770ef0
[   35.104961] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.105616] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.106257] PKRU: 55555554
[   35.106518] note: repro[7090] exited with preempt_count 1
[   35.107006] Fixing recursive fault but reboot is needed!
[   35.107513] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7090
[   35.108209] caller is debug_smp_processor_id+0x20/0x30
[   35.108697] CPU: 1 UID: 0 PID: 7090 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.109521] Tainted: [D]=DIE, [W]=WARN
[   35.109865] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.110877] Call Trace:
[   35.111111]  <TASK>
[   35.111311]  dump_stack_lvl+0x121/0x150
[   35.111666]  dump_stack+0x19/0x20
[   35.111974]  check_preemption_disabled+0x168/0x180
[   35.112413]  debug_smp_processor_id+0x20/0x30
[   35.112812]  __schedule+0xa0/0x33a0
[   35.113135]  ? do_task_dead+0xa8/0x110
[   35.113480]  ? debug_smp_processor_id+0x20/0x30
[   35.113893]  ? rcu_is_watching+0x19/0xc0
[   35.114251]  ? lock_release+0x592/0x870
[   35.114606]  ? __pfx___schedule+0x10/0x10
[   35.114969]  ? debug_smp_processor_id+0x20/0x30
[   35.115368]  ? rcu_is_watching+0x19/0xc0
[   35.115714]  ? trace_irq_enable+0xe1/0x120
[   35.116075]  ? do_task_dead+0x4a/0x110
[   35.116406]  do_task_dead+0xe0/0x110
[   35.116720]  make_task_dead+0x384/0x3c0
[   35.117060]  rewind_stack_and_make_dead+0x16/0x20
[   35.117470] RIP: 0033:0x7f17bd43ee5d
[   35.117782] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.118298] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.118929] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.119525] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.120118] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.120712] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.121303] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.121883]  </TASK>
[   35.122133] BUG: scheduling while atomic: repro/7090/0x00000000
[   35.122618] INFO: lockdep is turned off.
[   35.122939] Modules linked in:
[   35.123197] Preemption disabled at:
[   35.123201] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   35.123978] CPU: 1 UID: 0 PID: 7090 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.124713] Tainted: [D]=DIE, [W]=WARN
[   35.125013] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.125886] Call Trace:
[   35.126087]  <TASK>
[   35.126264]  dump_stack_lvl+0x121/0x150
[   35.126583]  ? do_task_dead+0x28/0x110
[   35.126892]  dump_stack+0x19/0x20
[   35.127167]  __schedule_bug+0x12d/0x180
[   35.127494]  __schedule+0x2401/0x33a0
[   35.127797]  ? do_task_dead+0xa8/0x110
[   35.128101]  ? rcu_is_watching+0x19/0xc0
[   35.128418]  ? lock_release+0x592/0x870
[   35.128722]  ? __pfx___schedule+0x10/0x10
[   35.129041]  ? debug_smp_processor_id+0x20/0x30
[   35.129401]  ? rcu_is_watching+0x19/0xc0
[   35.129713]  ? trace_irq_enable+0xe1/0x120
[   35.130037]  ? do_task_dead+0x4a/0x110
[   35.130335]  do_task_dead+0xe0/0x110
[   35.130619]  make_task_dead+0x384/0x3c0
[   35.130926]  rewind_stack_and_make_dead+0x16/0x20
[   35.131292] RIP: 0033:0x7f17bd43ee5d
[   35.131578] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.132041] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.132611] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.133144] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.133678] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.134194] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.134710] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.135235]  </TASK>
[   35.810251] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#45] PREEMPT SMP KASAN NOPTI
[   35.811350] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.812071] CPU: 1 UID: 0 PID: 7590 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.812915] Tainted: [D]=DIE, [W]=WARN
[   35.813290] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.814329] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.814891] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.816581] RSP: 0018:ffff8880214d77d8 EFLAGS: 00010202
[   35.817077] RAX: dffffc0000000000 RBX: ffffea00005903c0 RCX: ffffffff81bbb789
[   35.817754] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00005903d0
[   35.818419] RBP: ffff8880214d77f8 R08: 0000000000000000 R09: ffffed100277d3d4
[   35.819063] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.819730] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013be9ea0
[   35.820390] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   35.821122] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.821683] CR2: 00007f17bd70e3f4 CR3: 0000000016662001 CR4: 0000000000770ef0
[   35.822336] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.822985] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.823628] PKRU: 55555554
[   35.823903] Call Trace:
[   35.824155]  <TASK>
[   35.824378]  ? show_regs+0x6d/0x80
[   35.824725]  ? die_addr+0x45/0xb0
[   35.825065]  ? exc_general_protection+0x1ae/0x340
[   35.825531]  ? asm_exc_general_protection+0x2b/0x30
[   35.826037]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.826541]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.827043]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.827552]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.828068]  zap_huge_pmd+0x48e/0xd40
[   35.828472]  unmap_page_range+0x1ad6/0x4360
[   35.828888]  ? update_stack_state+0x2d9/0x610
[   35.829344]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.829864]  ? __pfx_unmap_page_range+0x10/0x10
[   35.830331]  unmap_single_vma+0x1ac/0x2d0
[   35.830734]  unmap_vmas+0x210/0x470
[   35.831087]  ? __pfx_unmap_vmas+0x10/0x10
[   35.831488]  ? __pfx_lock_release+0x10/0x10
[   35.831913]  ? lock_release+0x592/0x870
[   35.832297]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   35.832779]  ? __pfx_lock_release+0x10/0x10
[   35.833193]  ? mlock_drain_local+0x27f/0x4b0
[   35.833633]  exit_mmap+0x19e/0xb10
[   35.834001]  ? __pfx_exit_mmap+0x10/0x10
[   35.834421]  ? debug_smp_processor_id+0x20/0x30
[   35.834891]  ? trace_hardirqs_on+0x51/0x60
[   35.835304]  ? kasan_quarantine_put+0xa2/0x200
[   35.835745]  ? __khugepaged_exit+0x266/0x4c0
[   35.836168]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.836685]  __mmput+0xde/0x3a0
[   35.837002]  mmput+0x74/0x90
[   35.837302]  do_exit+0xa03/0x29f0
[   35.837645]  ? trace_hardirqs_on+0x51/0x60
[   35.838089]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.838710]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.839176]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.839659]  ? __pfx_do_exit+0x10/0x10
[   35.840054]  ? __audit_syscall_entry+0x39c/0x500
[   35.840518]  __x64_sys_exit+0x50/0x60
[   35.840884]  x64_sys_call+0x20c9/0x20d0
[   35.841261]  do_syscall_64+0x6d/0x140
[   35.841633]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.842122] RIP: 0033:0x7f17bd43ee5d
[   35.842478] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.843038] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.843743] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.844400] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.845086] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.845752] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.846404] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.847082]  </TASK>
[   35.847307] Modules linked in:
[   35.847770] ---[ end trace 0000000000000000 ]---
[   35.848247] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.848802] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.850485] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   35.850991] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   35.851773] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   35.852450] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   35.853131] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.853808] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   35.854479] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   35.855300] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.855939] CR2: 00007f17bd70e3f4 CR3: 0000000016662001 CR4: 0000000000770ef0
[   35.856622] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.857286] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.857943] PKRU: 55555554
[   35.858211] note: repro[7590] exited with preempt_count 1
[   35.858729] Fixing recursive fault but reboot is needed!
[   35.859226] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7590
[   35.860015] caller is debug_smp_processor_id+0x20/0x30
[   35.860601] CPU: 1 UID: 0 PID: 7590 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.861456] Tainted: [D]=DIE, [W]=WARN
[   35.861814] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.862859] Call Trace:
[   35.863103]  <TASK>
[   35.863319]  dump_stack_lvl+0x121/0x150
[   35.863705]  dump_stack+0x19/0x20
[   35.864036]  check_preemption_disabled+0x168/0x180
[   35.864515]  debug_smp_processor_id+0x20/0x30
[   35.864945]  __schedule+0xa0/0x33a0
[   35.865294]  ? do_task_dead+0xa8/0x110
[   35.865660]  ? debug_smp_processor_id+0x20/0x30
[   35.866111]  ? rcu_is_watching+0x19/0xc0
[   35.866500]  ? lock_release+0x592/0x870
[   35.866886]  ? __pfx___schedule+0x10/0x10
[   35.867295]  ? debug_smp_processor_id+0x20/0x30
[   35.867735]  ? rcu_is_watching+0x19/0xc0
[   35.868119]  ? trace_irq_enable+0xe1/0x120
[   35.868540]  ? do_task_dead+0x4a/0x110
[   35.868915]  do_task_dead+0xe0/0x110
[   35.869265]  make_task_dead+0x384/0x3c0
[   35.869657]  rewind_stack_and_make_dead+0x16/0x20
[   35.870105] RIP: 0033:0x7f17bd43ee5d
[   35.870460] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.871025] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.871739] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.872397] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.873066] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.873723] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.874380] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.875047]  </TASK>
[   35.875359] BUG: scheduling while atomic: repro/7590/0x00000000
[   35.875988] INFO: lockdep is turned off.
[   35.876363] Modules linked in:
[   35.876662] Preemption disabled at:
[   35.876667] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   35.877507] CPU: 1 UID: 0 PID: 7590 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   35.878360] Tainted: [D]=DIE, [W]=WARN
[   35.878717] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.879748] Call Trace:
[   35.879988]  <TASK>
[   35.880201]  dump_stack_lvl+0x121/0x150
[   35.880588]  ? do_task_dead+0x28/0x110
[   35.880954]  dump_stack+0x19/0x20
[   35.881290]  __schedule_bug+0x12d/0x180
[   35.881673]  __schedule+0x2401/0x33a0
[   35.882044]  ? do_task_dead+0xa8/0x110
[   35.882414]  ? rcu_is_watching+0x19/0xc0
[   35.882796]  ? lock_release+0x592/0x870
[   35.883177]  ? __pfx___schedule+0x10/0x10
[   35.883563]  ? debug_smp_processor_id+0x20/0x30
[   35.883990]  ? rcu_is_watching+0x19/0xc0
[   35.884374]  ? trace_irq_enable+0xe1/0x120
[   35.884765]  ? do_task_dead+0x4a/0x110
[   35.885122]  do_task_dead+0xe0/0x110
[   35.885462]  make_task_dead+0x384/0x3c0
[   35.885830]  rewind_stack_and_make_dead+0x16/0x20
[   35.886268] RIP: 0033:0x7f17bd43ee5d
[   35.886619] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   35.887158] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.887833] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   35.888480] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.889115] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   35.889743] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   35.890335] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   35.890950]  </TASK>
[   36.084976] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#46] PREEMPT SMP KASAN NOPTI
[   36.086112] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.086830] CPU: 0 UID: 0 PID: 7748 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   36.087682] Tainted: [D]=DIE, [W]=WARN
[   36.088044] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.089468] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.090042] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.091722] RSP: 0018:ffff88802a8cf7d8 EFLAGS: 00010202
[   36.092244] RAX: dffffc0000000000 RBX: ffffea000070a040 RCX: ffffffff81bbb789
[   36.093094] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000070a050
[   36.093866] RBP: ffff88802a8cf7f8 R08: 0000000000000000 R09: ffffed1003805d14
[   36.094542] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.095197] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801c02e8a0
[   36.095856] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   36.096720] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.097558] CR2: 00007fffef6677b8 CR3: 000000001662e003 CR4: 0000000000770ef0
[   36.098240] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.098914] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.099583] PKRU: 55555554
[   36.099848] Call Trace:
[   36.100090]  <TASK>
[   36.100307]  ? show_regs+0x6d/0x80
[   36.100750]  ? die_addr+0x45/0xb0
[   36.101184]  ? exc_general_protection+0x1ae/0x340
[   36.101786]  ? asm_exc_general_protection+0x2b/0x30
[   36.102578]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.103225]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.103867]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.104508]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.105162]  zap_huge_pmd+0x48e/0xd40
[   36.105680]  unmap_page_range+0x1ad6/0x4360
[   36.106202]  ? update_stack_state+0x2d9/0x610
[   36.106768]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.107392]  ? __pfx_unmap_page_range+0x10/0x10
[   36.107965]  unmap_single_vma+0x1ac/0x2d0
[   36.108476]  unmap_vmas+0x210/0x470
[   36.108923]  ? __pfx_unmap_vmas+0x10/0x10
[   36.109428]  ? __pfx_lock_release+0x10/0x10
[   36.109949]  ? lock_release+0x592/0x870
[   36.110432]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.111035]  ? __pfx_lock_release+0x10/0x10
[   36.111564]  ? mlock_drain_local+0x27f/0x4b0
[   36.112104]  exit_mmap+0x19e/0xb10
[   36.112549]  ? __pfx_exit_mmap+0x10/0x10
[   36.113042]  ? debug_smp_processor_id+0x20/0x30
[   36.113619]  ? trace_hardirqs_on+0x51/0x60
[   36.114133]  ? kasan_quarantine_put+0xa2/0x200
[   36.114651]  ? __khugepaged_exit+0x266/0x4c0
[   36.115078]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.115606]  __mmput+0xde/0x3a0
[   36.115932]  mmput+0x74/0x90
[   36.116225]  do_exit+0xa03/0x29f0
[   36.116569]  ? trace_hardirqs_on+0x51/0x60
[   36.116975]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.117581]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.118053]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.118554]  ? __pfx_do_exit+0x10/0x10
[   36.118936]  ? __audit_syscall_entry+0x39c/0x500
[   36.119402]  __x64_sys_exit+0x50/0x60
[   36.119777]  x64_sys_call+0x20c9/0x20d0
[   36.120153]  do_syscall_64+0x6d/0x140
[   36.120523]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.121024] RIP: 0033:0x7f17bd43ee5d
[   36.121371] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   36.121942] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.122647] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   36.123310] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.123970] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   36.124631] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   36.125290] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   36.125957]  </TASK>
[   36.126178] Modules linked in:
[   36.126674] ---[ end trace 0000000000000000 ]---
[   36.127128] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.127764] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.129477] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   36.129977] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   36.130637] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   36.131302] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   36.132016] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.132698] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   36.133505] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   36.134679] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.135423] CR2: 00007fffef6677b8 CR3: 000000001662e003 CR4: 0000000000770ef0
[   36.136382] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.137251] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.138112] PKRU: 55555554
[   36.138459] note: repro[7748] exited with preempt_count 1
[   36.139107] Fixing recursive fault but reboot is needed!
[   36.139779] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7748
[   36.140708] caller is debug_smp_processor_id+0x20/0x30
[   36.141354] CPU: 0 UID: 0 PID: 7748 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   36.142448] Tainted: [D]=DIE, [W]=WARN
[   36.142905] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.144250] Call Trace:
[   36.144566]  <TASK>
[   36.144838]  dump_stack_lvl+0x121/0x150
[   36.145371]  dump_stack+0x19/0x20
[   36.145822]  check_preemption_disabled+0x168/0x180
[   36.146428]  debug_smp_processor_id+0x20/0x30
[   36.146980]  __schedule+0xa0/0x33a0
[   36.147437]  ? do_task_dead+0xa8/0x110
[   36.147908]  ? debug_smp_processor_id+0x20/0x30
[   36.148482]  ? rcu_is_watching+0x19/0xc0
[   36.148979]  ? lock_release+0x592/0x870
[   36.149467]  ? __pfx___schedule+0x10/0x10
[   36.149977]  ? debug_smp_processor_id+0x20/0x30
[   36.150552]  ? rcu_is_watching+0x19/0xc0
[   36.151047]  ? trace_irq_enable+0xe1/0x120
[   36.151573]  ? do_task_dead+0x4a/0x110
[   36.152044]  do_task_dead+0xe0/0x110
[   36.152500]  make_task_dead+0x384/0x3c0
[   36.152990]  rewind_stack_and_make_dead+0x16/0x20
[   36.153579] RIP: 0033:0x7f17bd43ee5d
[   36.154026] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   36.154766] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.155677] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   36.156536] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.157392] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   36.158239] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   36.159090] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   36.159959]  </TASK>
[   36.160379] BUG: scheduling while atomic: repro/7748/0x00000000
[   36.161103] INFO: lockdep is turned off.
[   36.161602] Modules linked in:
[   36.161991] Preemption disabled at:
[   36.161997] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   36.163076] CPU: 0 UID: 0 PID: 7748 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   36.164173] Tainted: [D]=DIE, [W]=WARN
[   36.164636] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.165979] Call Trace:
[   36.166293]  <TASK>
[   36.166567]  dump_stack_lvl+0x121/0x150
[   36.167052]  ? do_task_dead+0x28/0x110
[   36.167527]  dump_stack+0x19/0x20
[   36.167952]  __schedule_bug+0x12d/0x180
[   36.168447]  __schedule+0x2401/0x33a0
[   36.168916]  ? do_task_dead+0xa8/0x110
[   36.169393]  ? rcu_is_watching+0x19/0xc0
[   36.169890]  ? lock_release+0x592/0x870
[   36.170381]  ? __pfx___schedule+0x10/0x10
[   36.170890]  ? debug_smp_processor_id+0x20/0x30
[   36.171467]  ? rcu_is_watching+0x19/0xc0
[   36.171993]  ? trace_irq_enable+0xe1/0x120
[   36.172518]  ? do_task_dead+0x4a/0x110
[   36.172989]  do_task_dead+0xe0/0x110
[   36.173444]  make_task_dead+0x384/0x3c0
[   36.173940]  rewind_stack_and_make_dead+0x16/0x20
[   36.174538] RIP: 0033:0x7f17bd43ee5d
[   36.174984] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   36.175725] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.176635] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   36.177491] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.178346] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   36.179196] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   36.180049] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   36.180915]  </TASK>
[   36.381404] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#47] PREEMPT SMP KASAN NOPTI
[   36.382526] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.383204] CPU: 1 UID: 0 PID: 7899 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   36.384033] Tainted: [D]=DIE, [W]=WARN
[   36.384389] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.385402] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.385941] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.387787] RSP: 0018:ffff88801c2e77d8 EFLAGS: 00010202
[   36.388298] RAX: dffffc0000000000 RBX: ffffea0000988ac0 RCX: ffffffff81bbb789
[   36.388964] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000988ad0
[   36.389621] RBP: ffff88801c2e77f8 R08: 0000000000000000 R09: ffffed1003ec6a84
[   36.390283] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.390938] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f635420
[   36.391599] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.392352] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.392887] CR2: 00007f17bd6e9e28 CR3: 000000001efbc001 CR4: 0000000000770ef0
[   36.393553] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.394208] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.394871] PKRU: 55555554
[   36.395140] Call Trace:
[   36.395398]  <TASK>
[   36.395613]  ? show_regs+0x6d/0x80
[   36.396007]  ? die_addr+0x45/0xb0
[   36.396360]  ? exc_general_protection+0x1ae/0x340
[   36.396831]  ? asm_exc_general_protection+0x2b/0x30
[   36.397319]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.397812]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.398300]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.398797]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.399287]  zap_huge_pmd+0x48e/0xd40
[   36.399660]  unmap_page_range+0x1ad6/0x4360
[   36.400091]  ? update_stack_state+0x2d9/0x610
[   36.400547]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.401034]  ? __pfx_unmap_page_range+0x10/0x10
[   36.401497]  unmap_single_vma+0x1ac/0x2d0
[   36.401901]  unmap_vmas+0x210/0x470
[   36.402262]  ? __pfx_unmap_vmas+0x10/0x10
[   36.402847]  ? __pfx_lock_release+0x10/0x10
[   36.403351]  ? lock_release+0x592/0x870
[   36.403749]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.404253]  ? __pfx_lock_release+0x10/0x10
[   36.404675]  ? mlock_drain_local+0x27f/0x4b0
[   36.405107]  exit_mmap+0x19e/0xb10
[   36.405462]  ? __pfx_exit_mmap+0x10/0x10
[   36.405851]  ? debug_smp_processor_id+0x20/0x30
[   36.406302]  ? trace_hardirqs_on+0x51/0x60
[   36.406703]  ? kasan_quarantine_put+0xa2/0x200
[   36.407143]  ? __khugepaged_exit+0x266/0x4c0
[   36.407568]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.408116]  __mmput+0xde/0x3a0
[   36.408449]  mmput+0x74/0x90
[   36.408748]  do_exit+0xa03/0x29f0
[   36.409091]  ? trace_hardirqs_on+0x51/0x60
[   36.409501]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.410137]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.410616]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.411096]  ? __pfx_do_exit+0x10/0x10
[   36.411481]  ? __audit_syscall_entry+0x39c/0x500
[   36.411965]  __x64_sys_exit+0x50/0x60
[   36.412341]  x64_sys_call+0x20c9/0x20d0
[   36.412726]  do_syscall_64+0x6d/0x140
[   36.413097]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.413597] RIP: 0033:0x7f17bd43ee5d
[   36.413948] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   36.414532] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.415619] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   36.416686] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.417540] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   36.418397] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   36.419245] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   36.420112]  </TASK>
[   36.420397] Modules linked in:
[   36.420917] ---[ end trace 0000000000000000 ]---
[   36.421493] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.422203] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.424607] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   36.425250] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   36.426104] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   36.427114] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   36.428072] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.429037] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   36.429898] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   36.430840] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.431939] CR2: 00007f17bd6e9e28 CR3: 000000001efbc001 CR4: 0000000000770ef0
[   36.432876] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.433732] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.434587] PKRU: 55555554
[   36.434999] note: repro[7899] exited with preempt_count 1
[   36.435743] Fixing recursive fault but reboot is needed!
[   36.436359] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7899
[   36.437234] caller is debug_smp_processor_id+0x20/0x30
[   36.437852] CPU: 1 UID: 0 PID: 7899 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   36.438892] Tainted: [D]=DIE, [W]=WARN
[   36.439365] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.440641] Call Trace:
[   36.440949]  <TASK>
[   36.441237]  dump_stack_lvl+0x121/0x150
[   36.441746]  dump_stack+0x19/0x20
[   36.442179]  check_preemption_disabled+0x168/0x180
[   36.442796]  debug_smp_processor_id+0x20/0x30
[   36.443311]  __schedule+0xa0/0x33a0
[   36.443717]  ? do_task_dead+0xa8/0x110
[   36.444146]  ? debug_smp_processor_id+0x20/0x30
[   36.444664]  ? rcu_is_watching+0x19/0xc0
[   36.445112]  ? lock_release+0x592/0x870
[   36.445552]  ? __pfx___schedule+0x10/0x10
[   36.446012]  ? debug_smp_processor_id+0x20/0x30
[   36.446530]  ? rcu_is_watching+0x19/0xc0
[   36.447070]  ? trace_irq_enable+0xe1/0x120
[   36.447708]  ? do_task_dead+0x4a/0x110
[   36.448139]  do_task_dead+0xe0/0x110
[   36.448555]  make_task_dead+0x384/0x3c0
[   36.449007]  rewind_stack_and_make_dead+0x16/0x20
[   36.449522] RIP: 0033:0x7f17bd43ee5d
[   36.449908] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   36.450706] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.451518] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   36.452496] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.453293] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   36.453929] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   36.454811] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   36.455489]  </TASK>
[   36.455883] BUG: scheduling while atomic: repro/7899/0x00000000
[   36.456427] INFO: lockdep is turned off.
[   36.456805] Modules linked in:
[   36.457111] Preemption disabled at:
[   36.457116] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   36.458009] CPU: 1 UID: 0 PID: 7899 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   36.458865] Tainted: [D]=DIE, [W]=WARN
[   36.459225] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.460449] Call Trace:
[   36.460693]  <TASK>
[   36.460912]  dump_stack_lvl+0x121/0x150
[   36.461303]  ? do_task_dead+0x28/0x110
[   36.461674]  dump_stack+0x19/0x20
[   36.462013]  __schedule_bug+0x12d/0x180
[   36.462403]  __schedule+0x2401/0x33a0
[   36.462838]  ? do_task_dead+0xa8/0x110
[   36.463210]  ? rcu_is_watching+0x19/0xc0
[   36.463610]  ? lock_release+0x592/0x870
[   36.464011]  ? __pfx___schedule+0x10/0x10
[   36.464470]  ? debug_smp_processor_id+0x20/0x30
[   36.465011]  ? rcu_is_watching+0x19/0xc0
[   36.465512]  ? trace_irq_enable+0xe1/0x120
[   36.466039]  ? do_task_dead+0x4a/0x110
[   36.466518]  do_task_dead+0xe0/0x110
[   36.466975]  make_task_dead+0x384/0x3c0
[   36.467476]  rewind_stack_and_make_dead+0x16/0x20
[   36.468183] RIP: 0033:0x7f17bd43ee5d
[   36.468645] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   36.469270] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.469992] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   36.470663] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.471334] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   36.472001] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   36.472678] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   36.473357]  </TASK>
[   37.347642] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#48] PREEMPT SMP KASAN NOPTI
[   37.349087] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.349992] CPU: 1 UID: 0 PID: 8623 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.351079] Tainted: [D]=DIE, [W]=WARN
[   37.351540] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.352721] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.353288] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.354949] RSP: 0018:ffff8880116877d8 EFLAGS: 00010202
[   37.355445] RAX: dffffc0000000000 RBX: ffffea0000624f40 RCX: ffffffff81bbb789
[   37.356098] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000624f50
[   37.356755] RBP: ffff8880116877f8 R08: 0000000000000000 R09: ffffed10025ecf74
[   37.357477] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.358252] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012f67ba0
[   37.358922] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   37.359661] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.360202] CR2: 00007fffef6677b8 CR3: 0000000026136005 CR4: 0000000000770ef0
[   37.360907] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.361730] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.362544] PKRU: 55555554
[   37.362814] Call Trace:
[   37.363066]  <TASK>
[   37.363283]  ? show_regs+0x6d/0x80
[   37.363715]  ? die_addr+0x45/0xb0
[   37.364133]  ? exc_general_protection+0x1ae/0x340
[   37.364610]  ? asm_exc_general_protection+0x2b/0x30
[   37.365088]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.365589]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.366089]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.366588]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.367085]  zap_huge_pmd+0x48e/0xd40
[   37.367499]  unmap_page_range+0x1ad6/0x4360
[   37.368025]  ? update_stack_state+0x2d9/0x610
[   37.368589]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.369207]  ? __pfx_unmap_page_range+0x10/0x10
[   37.369783]  unmap_single_vma+0x1ac/0x2d0
[   37.370292]  unmap_vmas+0x210/0x470
[   37.370742]  ? __pfx_unmap_vmas+0x10/0x10
[   37.371240]  ? __pfx_lock_release+0x10/0x10
[   37.371764]  ? lock_release+0x592/0x870
[   37.372242]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.372852]  ? __pfx_lock_release+0x10/0x10
[   37.373381]  ? mlock_drain_local+0x27f/0x4b0
[   37.373918]  exit_mmap+0x19e/0xb10
[   37.374360]  ? __pfx_exit_mmap+0x10/0x10
[   37.374850]  ? debug_smp_processor_id+0x20/0x30
[   37.375432]  ? trace_hardirqs_on+0x51/0x60
[   37.375945]  ? kasan_quarantine_put+0xa2/0x200
[   37.376506]  ? __khugepaged_exit+0x266/0x4c0
[   37.377042]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.377703]  __mmput+0xde/0x3a0
[   37.378108]  mmput+0x74/0x90
[   37.378488]  do_exit+0xa03/0x29f0
[   37.378917]  ? trace_hardirqs_on+0x51/0x60
[   37.379435]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.380200]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.380795]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.381406]  ? __pfx_do_exit+0x10/0x10
[   37.381884]  ? __audit_syscall_entry+0x39c/0x500
[   37.382464]  __x64_sys_exit+0x50/0x60
[   37.382914]  x64_sys_call+0x20c9/0x20d0
[   37.383373]  do_syscall_64+0x6d/0x140
[   37.383815]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.384408] RIP: 0033:0x7f17bd43ee5d
[   37.384830] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.385526] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.386384] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.387193] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.388002] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.388806] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.389610] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.390425]  </TASK>
[   37.390689] Modules linked in:
[   37.391245] ---[ end trace 0000000000000000 ]---
[   37.391864] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.392514] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.394637] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   37.395270] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   37.396180] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   37.397038] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   37.397893] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.398748] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   37.399525] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   37.400356] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.400953] CR2: 00007fffef6677b8 CR3: 0000000026136005 CR4: 0000000000770ef0
[   37.401692] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.402428] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.403160] PKRU: 55555554
[   37.403482] note: repro[8623] exited with preempt_count 1
[   37.404055] Fixing recursive fault but reboot is needed!
[   37.404607] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8623
[   37.405402] caller is debug_smp_processor_id+0x20/0x30
[   37.405957] CPU: 1 UID: 0 PID: 8623 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.406873] Tainted: [D]=DIE, [W]=WARN
[   37.407250] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.408368] Call Trace:
[   37.408623]  <TASK>
[   37.408686] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#49] PREEMPT SMP KASAN NOPTI
[   37.408846]  dump_stack_lvl+0x121/0x150
[   37.409932] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.410544]  dump_stack+0x19/0x20
[   37.411208] CPU: 0 UID: 0 PID: 8667 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.411611]  check_preemption_disabled+0x168/0x180
[   37.412430] Tainted: [D]=DIE, [W]=WARN
[   37.412971]  debug_smp_processor_id+0x20/0x30
[   37.413321] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.413815]  __schedule+0xa0/0x33a0
[   37.414837] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.415383]  ? do_task_dead+0xa8/0x110
[   37.415901] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.416360]  ? debug_smp_processor_id+0x20/0x30
[   37.417989] RSP: 0018:ffff88801478f7d8 EFLAGS: 00010202
[   37.418562]  ? rcu_is_watching+0x19/0xc0
[   37.419043] RAX: dffffc0000000000 RBX: ffffea000098d3c0 RCX: ffffffff81bbb789
[   37.419506]  ? lock_release+0x592/0x870
[   37.420163] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000098d3d0
[   37.420584]  ? __pfx___schedule+0x10/0x10
[   37.421215] RBP: ffff88801478f7f8 R08: 0000000000000000 R09: ffffed1002626fd4
[   37.421727]  ? debug_smp_processor_id+0x20/0x30
[   37.422387] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.423015]  ? rcu_is_watching+0x19/0xc0
[   37.423655] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013137ea0
[   37.424128]  ? trace_irq_enable+0xe1/0x120
[   37.424772] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   37.425446]  ? do_task_dead+0x4a/0x110
[   37.426177] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.426776]  do_task_dead+0xe0/0x110
[   37.427296] CR2: 00007f469c369000 CR3: 000000002aa8e003 CR4: 0000000000770ef0
[   37.427816]  make_task_dead+0x384/0x3c0
[   37.428454] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.428916]  rewind_stack_and_make_dead+0x16/0x20
[   37.429551] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.430012] RIP: 0033:0x7f17bd43ee5d
[   37.430646] PKRU: 55555554
[   37.431001] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.431255] Call Trace:
[   37.431930] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   37.432169]  <TASK>
[   37.432170]  ORIG_RAX: 000000000000003c
[   37.432177] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.432658]  ? show_regs+0x6d/0x80
[   37.432873] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.433222]  ? die_addr+0x45/0xb0
[   37.433892] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.434209]  ? exc_general_protection+0x1ae/0x340
[   37.434792] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.435109]  ? asm_exc_general_protection+0x2b/0x30
[   37.435686] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.436136]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.436723]  </TASK>
[   37.437155]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.439247]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.439748]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.440262]  zap_huge_pmd+0x48e/0xd40
[   37.440638]  unmap_page_range+0x1ad6/0x4360
[   37.441046]  ? update_stack_state+0x2d9/0x610
[   37.441491]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.441969]  ? __pfx_unmap_page_range+0x10/0x10
[   37.442419]  unmap_single_vma+0x1ac/0x2d0
[   37.442814]  unmap_vmas+0x210/0x470
[   37.443171]  ? __pfx_unmap_vmas+0x10/0x10
[   37.443563]  ? __pfx_lock_release+0x10/0x10
[   37.443965]  ? lock_release+0x592/0x870
[   37.444342]  ? mas_next_slot+0x133a/0x1a50
[   37.444737]  ? __pfx_lock_release+0x10/0x10
[   37.445166]  ? mlock_drain_local+0x27f/0x4b0
[   37.445614]  exit_mmap+0x19e/0xb10
[   37.445984]  ? __pfx_exit_mmap+0x10/0x10
[   37.446486]  ? debug_smp_processor_id+0x20/0x30
[   37.447063]  ? trace_hardirqs_on+0x51/0x60
[   37.447583]  ? kasan_quarantine_put+0xa2/0x200
[   37.448141]  ? __khugepaged_exit+0x266/0x4c0
[   37.448686]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.449350]  __mmput+0xde/0x3a0
[   37.449756]  mmput+0x74/0x90
[   37.450131]  do_exit+0xa03/0x29f0
[   37.450551]  ? trace_hardirqs_on+0x51/0x60
[   37.450964]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.451581]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.452056]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.452540]  ? __pfx_do_exit+0x10/0x10
[   37.452919]  ? __audit_syscall_entry+0x39c/0x500
[   37.453381]  __x64_sys_exit+0x50/0x60
[   37.453762]  x64_sys_call+0x20c9/0x20d0
[   37.454148]  do_syscall_64+0x6d/0x140
[   37.454526]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.455027] RIP: 0033:0x7f17bd43ee5d
[   37.455382] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.455954] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.456665] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.457335] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.458009] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.458674] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.459346] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.460037]  </TASK>
[   37.460270] Modules linked in:
[   37.460810] ---[ end trace 0000000000000000 ]---
[   37.461271] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.461841] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.463612] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   37.464114] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   37.464785] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   37.465443] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   37.466185] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.466907] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   37.467706] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   37.468469] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.469017] CR2: 00007f469c369000 CR3: 000000002aa8e003 CR4: 0000000000770ef0
[   37.469682] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.470355] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.471030] PKRU: 55555554
[   37.471314] note: repro[8667] exited with preempt_count 1
[   37.471948] Fixing recursive fault but reboot is needed!
[   37.472455] BUG: scheduling while atomic: repro/8667/0x00000000
[   37.472511] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#50] PREEMPT SMP KASAN NOPTI
[   37.473020] INFO: lockdep is turned off.
[   37.474108] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.474125] CPU: 1 UID: 0 PID: 8703 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.474151] Tainted: [D]=DIE, [W]=WARN
[   37.474157] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.474168] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.474547] Modules linked in:
[   37.475219] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.476092] 
[   37.476417] RSP: 0018:ffff88802056f7d8 EFLAGS: 00010202
[   37.477515] Preemption disabled at:
[   37.478041] 
[   37.478334] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   37.479964] RAX: dffffc0000000000 RBX: ffffea00003ffec0 RCX: ffffffff81bbb789
[   37.479979] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003ffed0
[   37.479990] RBP: ffff88802056f7f8 R08: 0000000000000000 R09: ffffed10028dbf8c
[   37.480157] CPU: 0 UID: 0 PID: 8667 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.480634] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.480982] Tainted: [D]=DIE, [W]=WARN
[   37.481130] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880146dfc60
[   37.481620] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.482272] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   37.482938] Call Trace:
[   37.483580] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.484417]  <TASK>
[   37.485057] CR2: 00007f469c2fe000 CR3: 000000001c12c001 CR4: 0000000000770ef0
[   37.485435]  dump_stack_lvl+0x121/0x150
[   37.486078] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.487131]  ? do_task_dead+0x28/0x110
[   37.487849] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.488095]  dump_stack+0x19/0x20
[   37.488626] PKRU: 55555554
[   37.488835]  __schedule_bug+0x12d/0x180
[   37.489476] Call Trace:
[   37.489483]  <TASK>
[   37.489848]  __schedule+0x2401/0x33a0
[   37.490491]  ? show_regs+0x6d/0x80
[   37.490859]  ? do_task_dead+0xa8/0x110
[   37.491509]  ? die_addr+0x45/0xb0
[   37.491830]  ? rcu_is_watching+0x19/0xc0
[   37.492089]  ? exc_general_protection+0x1ae/0x340
[   37.492456]  ? lock_release+0x592/0x870
[   37.492701]  ? asm_exc_general_protection+0x2b/0x30
[   37.492898]  ? __pfx___schedule+0x10/0x10
[   37.493244]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.493573]  ? debug_smp_processor_id+0x20/0x30
[   37.493923]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.494249]  ? rcu_is_watching+0x19/0xc0
[   37.494619]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.495056]  ? trace_irq_enable+0xe1/0x120
[   37.495414]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.495875]  ? do_task_dead+0x4a/0x110
[   37.496244]  zap_huge_pmd+0x48e/0xd40
[   37.496742]  do_task_dead+0xe0/0x110
[   37.497163]  unmap_page_range+0x1ad6/0x4360
[   37.497643]  make_task_dead+0x384/0x3c0
[   37.498013]  ? update_stack_state+0x2d9/0x610
[   37.498510]  rewind_stack_and_make_dead+0x16/0x20
[   37.498892]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.499366] RIP: 0033:0x7f17bd43ee5d
[   37.499716]  ? __pfx_unmap_page_range+0x10/0x10
[   37.500065] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.500409]  unmap_single_vma+0x1ac/0x2d0
[   37.500792] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   37.501155]  unmap_vmas+0x210/0x470
[   37.501571]  ORIG_RAX: 000000000000003c
[   37.502014]  ? __pfx_unmap_vmas+0x10/0x10
[   37.502495] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.502822]  ? __pfx_lock_release+0x10/0x10
[   37.503268] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.503837]  ? lock_release+0x592/0x870
[   37.504206] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.504686]  ? mas_next_slot+0x133a/0x1a50
[   37.505029] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.505482]  ? __pfx_lock_release+0x10/0x10
[   37.505864] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.506709]  ? mlock_drain_local+0x27f/0x4b0
[   37.507102]  </TASK>
[   37.507932]  exit_mmap+0x19e/0xb10
[   37.511554]  ? __pfx_exit_mmap+0x10/0x10
[   37.511901]  ? debug_smp_processor_id+0x20/0x30
[   37.512366]  ? trace_hardirqs_on+0x51/0x60
[   37.512789]  ? kasan_quarantine_put+0xa2/0x200
[   37.513247]  ? __khugepaged_exit+0x266/0x4c0
[   37.513692]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.514242]  __mmput+0xde/0x3a0
[   37.514558]  mmput+0x74/0x90
[   37.514810]  do_exit+0xa03/0x29f0
[   37.515098]  ? trace_hardirqs_on+0x51/0x60
[   37.515446]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.515962]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.516365]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.516773]  ? __pfx_do_exit+0x10/0x10
[   37.517091]  ? __audit_syscall_entry+0x39c/0x500
[   37.517482]  __x64_sys_exit+0x50/0x60
[   37.517794]  x64_sys_call+0x20c9/0x20d0
[   37.518118]  do_syscall_64+0x6d/0x140
[   37.518433]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.518852] RIP: 0033:0x7f17bd43ee5d
[   37.519143] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.519620] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.520203] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.520752] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.521302] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.521845] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.522375] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.522911]  </TASK>
[   37.523086] Modules linked in:
[   37.523436] ---[ end trace 0000000000000000 ]---
[   37.523795] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.524239] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.525605] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   37.525995] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   37.526512] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   37.527025] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   37.527568] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.528082] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   37.528600] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   37.529181] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.529603] CR2: 00007f469c2fe000 CR3: 000000001c12c001 CR4: 0000000000770ef0
[   37.530121] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.530638] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.531152] PKRU: 55555554
[   37.531360] note: repro[8703] exited with preempt_count 1
[   37.531762] Fixing recursive fault but reboot is needed!
[   37.532140] BUG: scheduling while atomic: repro/8703/0x00000000
[   37.532559] INFO: lockdep is turned off.
[   37.532839] Modules linked in:
[   37.533064] Preemption disabled at:
[   37.533068] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   37.533703] CPU: 1 UID: 0 PID: 8703 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.534325] Tainted: [D]=DIE, [W]=WARN
[   37.534592] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.535355] Call Trace:
[   37.535532]  <TASK>
[   37.535689]  dump_stack_lvl+0x121/0x150
[   37.535966]  ? do_task_dead+0x28/0x110
[   37.536233]  dump_stack+0x19/0x20
[   37.536476]  __schedule_bug+0x12d/0x180
[   37.536755]  __schedule+0x2401/0x33a0
[   37.537020]  ? do_task_dead+0xa8/0x110
[   37.537289]  ? rcu_is_watching+0x19/0xc0
[   37.537569]  ? lock_release+0x592/0x870
[   37.537844]  ? __pfx___schedule+0x10/0x10
[   37.538132]  ? debug_smp_processor_id+0x20/0x30
[   37.538448]  ? rcu_is_watching+0x19/0xc0
[   37.538719]  ? trace_irq_enable+0xe1/0x120
[   37.539006]  ? do_task_dead+0x4a/0x110
[   37.539264]  do_task_dead+0xe0/0x110
[   37.539516]  make_task_dead+0x384/0x3c0
[   37.539786]  rewind_stack_and_make_dead+0x16/0x20
[   37.540109] RIP: 0033:0x7f17bd43ee5d
[   37.540357] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.540764] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.541250] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.541709] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.542164] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.542621] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.543077] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.543541]  </TASK>
[   37.722417] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#51] PREEMPT SMP KASAN NOPTI
[   37.723727] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.724525] CPU: 1 UID: 0 PID: 8771 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.725571] Tainted: [D]=DIE, [W]=WARN
[   37.725963] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.727244] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.728057] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.730026] RSP: 0018:ffff88801ef1f7d8 EFLAGS: 00010202
[   37.730532] RAX: dffffc0000000000 RBX: ffffea00003bff80 RCX: ffffffff81bbb789
[   37.731240] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003bff90
[   37.731997] RBP: ffff88801ef1f7f8 R08: 0000000000000000 R09: ffffed10022dc12c
[   37.732601] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.733365] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880116e0960
[   37.734304] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   37.735085] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.735619] CR2: 00007f17bd6e9ef8 CR3: 0000000011e70001 CR4: 0000000000770ef0
[   37.736432] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.737088] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.737935] PKRU: 55555554
[   37.738213] Call Trace:
[   37.738466]  <TASK>
[   37.738698]  ? show_regs+0x6d/0x80
[   37.739078]  ? die_addr+0x45/0xb0
[   37.739436]  ? exc_general_protection+0x1ae/0x340
[   37.739940]  ? asm_exc_general_protection+0x2b/0x30
[   37.740598]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.741230]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.741737]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.742233]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.742968]  zap_huge_pmd+0x48e/0xd40
[   37.743444]  unmap_page_range+0x1ad6/0x4360
[   37.743966]  ? update_stack_state+0x2d9/0x610
[   37.744664]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.745289]  ? __pfx_unmap_page_range+0x10/0x10
[   37.745865]  unmap_single_vma+0x1ac/0x2d0
[   37.746378]  unmap_vmas+0x210/0x470
[   37.746825]  ? __pfx_unmap_vmas+0x10/0x10
[   37.747437]  ? __pfx_lock_release+0x10/0x10
[   37.747955]  ? lock_release+0x592/0x870
[   37.748442]  ? mas_next_slot+0x133a/0x1a50
[   37.748956]  ? __pfx_lock_release+0x10/0x10
[   37.749483]  ? mlock_drain_local+0x27f/0x4b0
[   37.750152]  exit_mmap+0x19e/0xb10
[   37.750596]  ? __pfx_exit_mmap+0x10/0x10
[   37.751087]  ? debug_smp_processor_id+0x20/0x30
[   37.751662]  ? trace_hardirqs_on+0x51/0x60
[   37.752179]  ? kasan_quarantine_put+0xa2/0x200
[   37.752897]  ? __khugepaged_exit+0x266/0x4c0
[   37.753439]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.754097]  __mmput+0xde/0x3a0
[   37.754506]  mmput+0x74/0x90
[   37.754889]  do_exit+0xa03/0x29f0
[   37.755464]  ? trace_hardirqs_on+0x51/0x60
[   37.755976]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.756744]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.757343]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.757949]  ? __pfx_do_exit+0x10/0x10
[   37.758426]  ? __audit_syscall_entry+0x39c/0x500
[   37.759000]  __x64_sys_exit+0x50/0x60
[   37.759468]  x64_sys_call+0x20c9/0x20d0
[   37.759949]  do_syscall_64+0x6d/0x140
[   37.760418]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.761039] RIP: 0033:0x7f17bd43ee5d
[   37.761487] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.762217] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.763130] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.763977] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.764822] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.765667] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.766513] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.767371]  </TASK>
[   37.767651] Modules linked in:
[   37.768270] ---[ end trace 0000000000000000 ]---
[   37.768850] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.769567] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.770797] systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   37.771865] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   37.773735] systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   37.774344] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   37.776631] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   37.777488] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   37.778342] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.779190] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   37.780135] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   37.781102] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.781800] CR2: 00007f17bd6e9ef8 CR3: 0000000011e70001 CR4: 0000000000770ef0
[   37.782663] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.783597] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.784456] PKRU: 55555554
[   37.784797] note: repro[8771] exited with preempt_count 1
[   37.785449] Fixing recursive fault but reboot is needed!
[   37.786089] BUG: scheduling while atomic: repro/8771/0x00000000
[   37.786807] INFO: lockdep is turned off.
[   37.787289] Modules linked in:
[   37.787759] Preemption disabled at:
[   37.787766] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   37.788864] CPU: 1 UID: 0 PID: 8771 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   37.789959] Tainted: [D]=DIE, [W]=WARN
[   37.790421] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.791767] Call Trace:
[   37.792076]  <TASK>
[   37.792353]  dump_stack_lvl+0x121/0x150
[   37.792841]  ? do_task_dead+0x28/0x110
[   37.793315]  dump_stack+0x19/0x20
[   37.793742]  __schedule_bug+0x12d/0x180
[   37.794231]  __schedule+0x2401/0x33a0
[   37.794700]  ? do_task_dead+0xa8/0x110
[   37.795169]  ? rcu_is_watching+0x19/0xc0
[   37.795671]  ? lock_release+0x592/0x870
[   37.796156]  ? __pfx___schedule+0x10/0x10
[   37.796672]  ? debug_smp_processor_id+0x20/0x30
[   37.797246]  ? rcu_is_watching+0x19/0xc0
[   37.797745]  ? trace_irq_enable+0xe1/0x120
[   37.798263]  ? do_task_dead+0x4a/0x110
[   37.798739]  do_task_dead+0xe0/0x110
[   37.799189]  make_task_dead+0x384/0x3c0
[   37.799684]  rewind_stack_and_make_dead+0x16/0x20
[   37.800267] RIP: 0033:0x7f17bd43ee5d
[   37.800720] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   37.801459] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.802365] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   37.803217] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.804066] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   37.804917] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   37.805766] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   37.806630]  </TASK>
[   38.138070] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#52] PREEMPT SMP KASAN NOPTI
[   38.139692] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.140801] CPU: 1 UID: 0 PID: 9024 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   38.142026] Tainted: [D]=DIE, [W]=WARN
[   38.142545] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.144229] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.144987] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.147325] RSP: 0018:ffff8880167a77d8 EFLAGS: 00010202
[   38.148058] RAX: dffffc0000000000 RBX: ffffea00003ac580 RCX: ffffffff81bbb789
[   38.148954] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003ac590
[   38.149828] RBP: ffff8880167a77f8 R08: 0000000000000000 R09: ffffed10028eec0c
[   38.150674] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.151519] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888014776060
[   38.152363] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.153315] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.154002] CR2: 00007f17bd71ebf0 CR3: 000000002aa1c003 CR4: 0000000000770ef0
[   38.154854] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.155703] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.156549] PKRU: 55555554
[   38.156885] Call Trace:
[   38.157191]  <TASK>
[   38.157465]  ? show_regs+0x6d/0x80
[   38.157901]  ? die_addr+0x45/0xb0
[   38.158332]  ? exc_general_protection+0x1ae/0x340
[   38.158919]  ? asm_exc_general_protection+0x2b/0x30
[   38.159531]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.160156]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.160786]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.161417]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.162042]  zap_huge_pmd+0x48e/0xd40
[   38.162519]  unmap_page_range+0x1ad6/0x4360
[   38.163038]  ? update_stack_state+0x2d9/0x610
[   38.163608]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.164226]  ? __pfx_unmap_page_range+0x10/0x10
[   38.164800]  unmap_single_vma+0x1ac/0x2d0
[   38.165307]  unmap_vmas+0x210/0x470
[   38.165753]  ? __pfx_unmap_vmas+0x10/0x10
[   38.166250]  ? __pfx_lock_release+0x10/0x10
[   38.166772]  ? lock_release+0x592/0x870
[   38.167247]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.167852]  ? __pfx_lock_release+0x10/0x10
[   38.168376]  ? mlock_drain_local+0x27f/0x4b0
[   38.168909]  exit_mmap+0x19e/0xb10
[   38.169351]  ? __pfx_exit_mmap+0x10/0x10
[   38.169841]  ? debug_smp_processor_id+0x20/0x30
[   38.170419]  ? trace_hardirqs_on+0x51/0x60
[   38.170931]  ? kasan_quarantine_put+0xa2/0x200
[   38.171491]  ? __khugepaged_exit+0x266/0x4c0
[   38.172026]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.172681]  __mmput+0xde/0x3a0
[   38.173085]  mmput+0x74/0x90
[   38.173462]  do_exit+0xa03/0x29f0
[   38.173887]  ? trace_hardirqs_on+0x51/0x60
[   38.174403]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.175163]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.175760]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.176370]  ? __pfx_do_exit+0x10/0x10
[   38.176843]  ? __audit_syscall_entry+0x39c/0x500
[   38.177420]  __x64_sys_exit+0x50/0x60
[   38.177882]  x64_sys_call+0x20c9/0x20d0
[   38.178369]  do_syscall_64+0x6d/0x140
[   38.178831]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.179456] RIP: 0033:0x7f17bd43ee5d
[   38.179898] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   38.180632] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.181530] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   38.182374] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.183212] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   38.184055] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   38.184898] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   38.185753]  </TASK>
[   38.186032] Modules linked in:
[   38.186573] ---[ end trace 0000000000000000 ]---
[   38.187140] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.187936] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.190114] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   38.190753] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   38.191687] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   38.192546] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   38.193396] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.194240] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   38.195224] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   38.196221] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.196921] CR2: 00007f17bd71ebf0 CR3: 000000002aa1c003 CR4: 0000000000770ef0
[   38.197776] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.198855] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.199771] PKRU: 55555554
[   38.200110] note: repro[9024] exited with preempt_count 1
[   38.200729] Fixing recursive fault but reboot is needed!
[   38.201335] BUG: scheduling while atomic: repro/9024/0x00000000
[   38.202034] INFO: lockdep is turned off.
[   38.202610] Modules linked in:
[   38.202973] Preemption disabled at:
[   38.202979] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   38.204034] CPU: 1 UID: 0 PID: 9024 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   38.205069] Tainted: [D]=DIE, [W]=WARN
[   38.205506] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.206911] Call Trace:
[   38.207193]  <TASK>
[   38.207446]  dump_stack_lvl+0x121/0x150
[   38.207884]  ? do_task_dead+0x28/0x110
[   38.208334]  dump_stack+0x19/0x20
[   38.208777]  __schedule_bug+0x12d/0x180
[   38.209217]  __schedule+0x2401/0x33a0
[   38.209641]  ? do_task_dead+0xa8/0x110
[   38.210062]  ? rcu_is_watching+0x19/0xc0
[   38.210512]  ? lock_release+0x592/0x870
[   38.210947]  ? __pfx___schedule+0x10/0x10
[   38.211416]  ? debug_smp_processor_id+0x20/0x30
[   38.212078]  ? rcu_is_watching+0x19/0xc0
[   38.212528]  ? trace_irq_enable+0xe1/0x120
[   38.213041]  ? do_task_dead+0x4a/0x110
[   38.213467]  do_task_dead+0xe0/0x110
[   38.213871]  make_task_dead+0x384/0x3c0
[   38.214313]  rewind_stack_and_make_dead+0x16/0x20
[   38.214994] RIP: 0033:0x7f17bd43ee5d
[   38.215385] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   38.216013] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.216888] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   38.217618] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.218484] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   38.219214] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   38.219997] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   38.220736]  </TASK>
[   38.883957] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#53] PREEMPT SMP KASAN NOPTI
[   38.885301] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.886108] CPU: 0 UID: 0 PID: 9550 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   38.886958] Tainted: [D]=DIE, [W]=WARN
[   38.887324] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.888358] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.888911] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.890583] RSP: 0018:ffff88801883f7d8 EFLAGS: 00010202
[   38.891126] RAX: dffffc0000000000 RBX: ffffea0000aa6b80 RCX: ffffffff81bbb789
[   38.892041] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aa6b90
[   38.892710] RBP: ffff88801883f7f8 R08: 0000000000000000 R09: ffffed10027a0e18
[   38.893373] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   38.894041] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013d070c0
[   38.894692] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.895433] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.895967] CR2: 00007fffef6677b8 CR3: 000000001a922004 CR4: 0000000000770ef0
[   38.896645] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.897299] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.897953] PKRU: 55555554
[   38.898221] Call Trace:
[   38.898469]  <TASK>
[   38.898687]  ? show_regs+0x6d/0x80
[   38.899039]  ? die_addr+0x45/0xb0
[   38.899385]  ? exc_general_protection+0x1ae/0x340
[   38.899863]  ? asm_exc_general_protection+0x2b/0x30
[   38.900358]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.900861]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.901363]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.901864]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.902365]  zap_huge_pmd+0x48e/0xd40
[   38.902745]  unmap_page_range+0x1ad6/0x4360
[   38.903166]  ? __pfx_lock_release+0x10/0x10
[   38.903580]  ? do_raw_spin_trylock+0xbf/0x190
[   38.904017]  ? __kasan_check_read+0x15/0x20
[   38.904439]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.904953]  ? __pfx_unmap_page_range+0x10/0x10
[   38.905413]  unmap_single_vma+0x1ac/0x2d0
[   38.905821]  unmap_vmas+0x210/0x470
[   38.906177]  ? __pfx_unmap_vmas+0x10/0x10
[   38.906568]  ? __pfx_lock_release+0x10/0x10
[   38.906991]  ? lock_release+0x592/0x870
[   38.907387]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.907864]  ? __pfx_lock_release+0x10/0x10
[   38.908289]  ? mlock_drain_local+0x27f/0x4b0
[   38.908728]  exit_mmap+0x19e/0xb10
[   38.909093]  ? __pfx_exit_mmap+0x10/0x10
[   38.909501]  ? debug_smp_processor_id+0x20/0x30
[   38.909963]  ? trace_hardirqs_on+0x51/0x60
[   38.910382]  ? kasan_quarantine_put+0xa2/0x200
[   38.910816]  ? __khugepaged_exit+0x266/0x4c0
[   38.911235]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.911746]  __mmput+0xde/0x3a0
[   38.912067]  mmput+0x74/0x90
[   38.912368]  do_exit+0xa03/0x29f0
[   38.912710]  ? trace_hardirqs_on+0x51/0x60
[   38.913120]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.913735]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.914202]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.914678]  ? __pfx_do_exit+0x10/0x10
[   38.915057]  ? __audit_syscall_entry+0x39c/0x500
[   38.915532]  __x64_sys_exit+0x50/0x60
[   38.915904]  x64_sys_call+0x20c9/0x20d0
[   38.916285]  do_syscall_64+0x6d/0x140
[   38.916649]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.917138] RIP: 0033:0x7f17bd43ee5d
[   38.917506] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   38.918077] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.918779] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   38.919444] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.920092] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   38.920741] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   38.921412] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   38.922082]  </TASK>
[   38.922309] Modules linked in:
[   38.922757] ---[ end trace 0000000000000000 ]---
[   38.923226] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.923928] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.925645] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   38.926143] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   38.926806] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   38.927569] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   38.928251] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.928894] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   38.929531] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   38.930385] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.931192] CR2: 00007fffef6677b8 CR3: 000000001a922004 CR4: 0000000000770ef0
[   38.931962] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.932612] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.933244] PKRU: 55555554
[   38.933507] note: repro[9550] exited with preempt_count 1
[   38.933992] Fixing recursive fault but reboot is needed!
[   38.934534] BUG: scheduling while atomic: repro/9550/0x00000000
[   38.935070] INFO: lockdep is turned off.
[   38.935542] Modules linked in:
[   38.935861] Preemption disabled at:
[   38.935867] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   38.936936] CPU: 0 UID: 0 PID: 9550 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   38.937838] Tainted: [D]=DIE, [W]=WARN
[   38.938192] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.939151] Call Trace:
[   38.939379]  <TASK>
[   38.939581]  dump_stack_lvl+0x121/0x150
[   38.939936]  ? do_task_dead+0x28/0x110
[   38.940272]  dump_stack+0x19/0x20
[   38.940587]  __schedule_bug+0x12d/0x180
[   38.940939]  __schedule+0x2401/0x33a0
[   38.941287]  ? do_task_dead+0xa8/0x110
[   38.941628]  ? rcu_is_watching+0x19/0xc0
[   38.942004]  ? lock_release+0x592/0x870
[   38.942365]  ? __pfx___schedule+0x10/0x10
[   38.942741]  ? debug_smp_processor_id+0x20/0x30
[   38.943154]  ? rcu_is_watching+0x19/0xc0
[   38.943512]  ? trace_irq_enable+0xe1/0x120
[   38.943896]  ? do_task_dead+0x4a/0x110
[   38.944246]  do_task_dead+0xe0/0x110
[   38.944583]  make_task_dead+0x384/0x3c0
[   38.944938]  rewind_stack_and_make_dead+0x16/0x20
[   38.945362] RIP: 0033:0x7f17bd43ee5d
[   38.945664] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   38.946170] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.946793] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   38.947368] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.947950] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   38.948549] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   38.949136] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   38.949725]  </TASK>
[   39.371607] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#54] PREEMPT SMP KASAN NOPTI
[   39.372737] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.373445] CPU: 1 UID: 0 PID: 9898 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   39.374288] Tainted: [D]=DIE, [W]=WARN
[   39.374655] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.375988] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.376573] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.378384] RSP: 0018:ffff88801dd277d8 EFLAGS: 00010202
[   39.378889] RAX: dffffc0000000000 RBX: ffffea0000774540 RCX: ffffffff81bbb789
[   39.379705] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000774550
[   39.380361] RBP: ffff88801dd277f8 R08: 0000000000000000 R09: ffffed1001fa1f50
[   39.381010] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   39.381666] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fd0fa80
[   39.382318] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   39.383070] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.383607] CR2: 00007fffef6677b8 CR3: 000000001c008004 CR4: 0000000000770ef0
[   39.384259] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.384909] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.385654] PKRU: 55555554
[   39.385980] Call Trace:
[   39.386223]  <TASK>
[   39.386446]  ? show_regs+0x6d/0x80
[   39.386789]  ? die_addr+0x45/0xb0
[   39.387121]  ? exc_general_protection+0x1ae/0x340
[   39.387599]  ? asm_exc_general_protection+0x2b/0x30
[   39.388078]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.388566]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.389059]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.389561]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.390054]  zap_huge_pmd+0x48e/0xd40
[   39.390425]  unmap_page_range+0x1ad6/0x4360
[   39.390833]  ? __pfx_lock_release+0x10/0x10
[   39.391245]  ? do_raw_spin_trylock+0xbf/0x190
[   39.391670]  ? __kasan_check_read+0x15/0x20
[   39.392085]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.392567]  ? __pfx_unmap_page_range+0x10/0x10
[   39.393018]  unmap_single_vma+0x1ac/0x2d0
[   39.393416]  unmap_vmas+0x210/0x470
[   39.393765]  ? __pfx_unmap_vmas+0x10/0x10
[   39.394156]  ? __pfx_lock_release+0x10/0x10
[   39.394560]  ? lock_release+0x592/0x870
[   39.394934]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   39.395403]  ? __pfx_lock_release+0x10/0x10
[   39.395818]  ? mlock_drain_local+0x27f/0x4b0
[   39.396240]  exit_mmap+0x19e/0xb10
[   39.396588]  ? __pfx_exit_mmap+0x10/0x10
[   39.396972]  ? debug_smp_processor_id+0x20/0x30
[   39.397471]  ? trace_hardirqs_on+0x51/0x60
[   39.397903]  ? kasan_quarantine_put+0xa2/0x200
[   39.398346]  ? __khugepaged_exit+0x266/0x4c0
[   39.398771]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.399285]  __mmput+0xde/0x3a0
[   39.399604]  mmput+0x74/0x90
[   39.399899]  do_exit+0xa03/0x29f0
[   39.400237]  ? trace_hardirqs_on+0x51/0x60
[   39.400644]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.401239]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.401708]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.402188]  ? __pfx_do_exit+0x10/0x10
[   39.402558]  ? __audit_syscall_entry+0x39c/0x500
[   39.403015]  __x64_sys_exit+0x50/0x60
[   39.403382]  x64_sys_call+0x20c9/0x20d0
[   39.403765]  do_syscall_64+0x6d/0x140
[   39.404124]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.404610] RIP: 0033:0x7f17bd43ee5d
[   39.404960] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   39.405522] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.406215] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   39.406875] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.407529] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   39.408178] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   39.408830] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   39.409497]  </TASK>
[   39.409725] Modules linked in:
[   39.410176] ---[ end trace 0000000000000000 ]---
[   39.410635] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.411229] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.413175] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   39.413684] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   39.414348] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   39.415003] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   39.415761] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.416429] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   39.417088] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   39.417836] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.418391] CR2: 00007fffef6677b8 CR3: 000000001c008004 CR4: 0000000000770ef0
[   39.419044] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.419762] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.420422] PKRU: 55555554
[   39.420690] note: repro[9898] exited with preempt_count 1
[   39.421193] Fixing recursive fault but reboot is needed!
[   39.421688] check_preemption_disabled: 5 callbacks suppressed
[   39.421697] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9898
[   39.422938] caller is debug_smp_processor_id+0x20/0x30
[   39.423478] CPU: 1 UID: 0 PID: 9898 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   39.424335] Tainted: [D]=DIE, [W]=WARN
[   39.424692] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.425736] Call Trace:
[   39.425991]  <TASK>
[   39.426205]  dump_stack_lvl+0x121/0x150
[   39.426585]  dump_stack+0x19/0x20
[   39.426924]  check_preemption_disabled+0x168/0x180
[   39.427398]  debug_smp_processor_id+0x20/0x30
[   39.427807]  __schedule+0xa0/0x33a0
[   39.428138]  ? do_task_dead+0xa8/0x110
[   39.428497]  ? debug_smp_processor_id+0x20/0x30
[   39.428930]  ? rcu_is_watching+0x19/0xc0
[   39.429308]  ? lock_release+0x592/0x870
[   39.429681]  ? __pfx___schedule+0x10/0x10
[   39.430058]  ? debug_smp_processor_id+0x20/0x30
[   39.430476]  ? rcu_is_watching+0x19/0xc0
[   39.430840]  ? trace_irq_enable+0xe1/0x120
[   39.431230]  ? do_task_dead+0x4a/0x110
[   39.431639]  do_task_dead+0xe0/0x110
[   39.431980]  make_task_dead+0x384/0x3c0
[   39.432352]  rewind_stack_and_make_dead+0x16/0x20
[   39.432786] RIP: 0033:0x7f17bd43ee5d
[   39.433103] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   39.433623] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.434260] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   39.434866] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.435471] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   39.436073] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   39.436678] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   39.437296]  </TASK>
[   39.437559] BUG: scheduling while atomic: repro/9898/0x00000000
[   39.438062] INFO: lockdep is turned off.
[   39.438384] Modules linked in:
[   39.438651] Preemption disabled at:
[   39.438656] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   39.439392] CPU: 1 UID: 0 PID: 9898 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   39.440140] Tainted: [D]=DIE, [W]=WARN
[   39.440454] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.441357] Call Trace:
[   39.441571]  <TASK>
[   39.441756]  dump_stack_lvl+0x121/0x150
[   39.442082]  ? do_task_dead+0x28/0x110
[   39.442403]  dump_stack+0x19/0x20
[   39.442690]  __schedule_bug+0x12d/0x180
[   39.443017]  __schedule+0x2401/0x33a0
[   39.443339]  ? do_task_dead+0xa8/0x110
[   39.443659]  ? rcu_is_watching+0x19/0xc0
[   39.443997]  ? lock_release+0x592/0x870
[   39.444328]  ? __pfx___schedule+0x10/0x10
[   39.444672]  ? debug_smp_processor_id+0x20/0x30
[   39.445058]  ? rcu_is_watching+0x19/0xc0
[   39.445399]  ? trace_irq_enable+0xe1/0x120
[   39.445763]  ? do_task_dead+0x4a/0x110
[   39.446082]  do_task_dead+0xe0/0x110
[   39.446391]  make_task_dead+0x384/0x3c0
[   39.446725]  rewind_stack_and_make_dead+0x16/0x20
[   39.447117] RIP: 0033:0x7f17bd43ee5d
[   39.447420] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   39.447907] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.448528] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   39.449088] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.449771] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   39.450315] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   39.450861] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   39.451425]  </TASK>
[   39.607101] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#55] PREEMPT SMP KASAN NOPTI
[   39.608232] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.608940] CPU: 0 UID: 0 PID: 10016 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   39.609822] Tainted: [D]=DIE, [W]=WARN
[   39.610182] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.611237] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.611797] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.613464] RSP: 0018:ffff88802ab3f7d8 EFLAGS: 00010202
[   39.614240] RAX: dffffc0000000000 RBX: ffffea00004b7a80 RCX: ffffffff81bbb789
[   39.614914] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004b7a90
[   39.615578] RBP: ffff88802ab3f7f8 R08: 0000000000000000 R09: ffffed10025e4f8c
[   39.616235] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.616894] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012f27c60
[   39.617605] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   39.618629] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.619180] CR2: 00007fffef6678a8 CR3: 00000000214ce001 CR4: 0000000000770ef0
[   39.619856] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.620511] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.621176] PKRU: 55555554
[   39.621452] Call Trace:
[   39.621836]  <TASK>
[   39.622182]  ? show_regs+0x6d/0x80
[   39.622636]  ? die_addr+0x45/0xb0
[   39.622993]  ? exc_general_protection+0x1ae/0x340
[   39.623455]  ? asm_exc_general_protection+0x2b/0x30
[   39.623929]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.624418]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.624914]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.625425]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.625922]  zap_huge_pmd+0x48e/0xd40
[   39.626301]  unmap_page_range+0x1ad6/0x4360
[   39.626713]  ? update_stack_state+0x2d9/0x610
[   39.627165]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.627655]  ? __pfx_unmap_page_range+0x10/0x10
[   39.628110]  unmap_single_vma+0x1ac/0x2d0
[   39.628512]  unmap_vmas+0x210/0x470
[   39.628863]  ? __pfx_unmap_vmas+0x10/0x10
[   39.629268]  ? __pfx_lock_release+0x10/0x10
[   39.629691]  ? lock_release+0x592/0x870
[   39.630283]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   39.630910]  ? __pfx_lock_release+0x10/0x10
[   39.631361]  ? mlock_drain_local+0x27f/0x4b0
[   39.631805]  exit_mmap+0x19e/0xb10
[   39.632155]  ? __pfx_exit_mmap+0x10/0x10
[   39.632547]  ? debug_smp_processor_id+0x20/0x30
[   39.633002]  ? trace_hardirqs_on+0x51/0x60
[   39.633434]  ? kasan_quarantine_put+0xa2/0x200
[   39.633901]  ? __khugepaged_exit+0x266/0x4c0
[   39.634339]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.634859]  __mmput+0xde/0x3a0
[   39.635222]  mmput+0x74/0x90
[   39.635547]  do_exit+0xa03/0x29f0
[   39.635893]  ? trace_hardirqs_on+0x51/0x60
[   39.636302]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.636907]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.637386]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.637875]  ? __pfx_do_exit+0x10/0x10
[   39.638454]  ? __audit_syscall_entry+0x39c/0x500
[   39.639090]  __x64_sys_exit+0x50/0x60
[   39.639485]  x64_sys_call+0x20c9/0x20d0
[   39.639875]  do_syscall_64+0x6d/0x140
[   39.640249]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.640744] RIP: 0033:0x7f17bd43ee5d
[   39.641093] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   39.641658] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.642374] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   39.643042] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.643696] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   39.644447] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   39.645380] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   39.646045]  </TASK>
[   39.646287] Modules linked in:
[   39.646699] ---[ end trace 0000000000000000 ]---
[   39.647147] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.647727] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.649825] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   39.650325] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   39.650989] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   39.651765] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   39.652442] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.653117] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   39.653780] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   39.654662] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.655574] CR2: 00007fffef6678a8 CR3: 00000000214ce001 CR4: 0000000000770ef0
[   39.656262] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.656948] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.657650] PKRU: 55555554
[   39.657938] note: repro[10016] exited with preempt_count 1
[   39.658462] Fixing recursive fault but reboot is needed!
[   39.658962] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10016
[   39.659723] caller is debug_smp_processor_id+0x20/0x30
[   39.660251] CPU: 0 UID: 0 PID: 10016 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   39.661141] Tainted: [D]=DIE, [W]=WARN
[   39.661503] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.662542] Call Trace:
[   39.662790]  <TASK>
[   39.663136]  dump_stack_lvl+0x121/0x150
[   39.663729]  dump_stack+0x19/0x20
[   39.664101]  check_preemption_disabled+0x168/0x180
[   39.664610]  debug_smp_processor_id+0x20/0x30
[   39.665061]  __schedule+0xa0/0x33a0
[   39.665427]  ? do_task_dead+0xa8/0x110
[   39.665799]  ? debug_smp_processor_id+0x20/0x30
[   39.666299]  ? rcu_is_watching+0x19/0xc0
[   39.666708]  ? lock_release+0x592/0x870
[   39.667098]  ? __pfx___schedule+0x10/0x10
[   39.667501]  ? debug_smp_processor_id+0x20/0x30
[   39.667953]  ? rcu_is_watching+0x19/0xc0
[   39.668367]  ? trace_irq_enable+0xe1/0x120
[   39.668777]  ? do_task_dead+0x4a/0x110
[   39.669144]  do_task_dead+0xe0/0x110
[   39.669506]  make_task_dead+0x384/0x3c0
[   39.669898]  rewind_stack_and_make_dead+0x16/0x20
[   39.670373] RIP: 0033:0x7f17bd43ee5d
[   39.670729] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   39.671318] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.672026] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   39.672705] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.673378] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   39.674047] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   39.674734] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   39.675412]  </TASK>
[   39.675684] BUG: scheduling while atomic: repro/10016/0x00000000
[   39.676256] INFO: lockdep is turned off.
[   39.676650] Modules linked in:
[   39.676967] Preemption disabled at:
[   39.676973] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   39.677860] CPU: 0 UID: 0 PID: 10016 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   39.678723] Tainted: [D]=DIE, [W]=WARN
[   39.679104] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.680142] Call Trace:
[   39.680395]  <TASK>
[   39.680615]  dump_stack_lvl+0x121/0x150
[   39.681020]  ? do_task_dead+0x28/0x110
[   39.681395]  dump_stack+0x19/0x20
[   39.681731]  __schedule_bug+0x12d/0x180
[   39.682121]  __schedule+0x2401/0x33a0
[   39.682501]  ? do_task_dead+0xa8/0x110
[   39.682889]  ? rcu_is_watching+0x19/0xc0
[   39.683294]  ? lock_release+0x592/0x870
[   39.683684]  ? __pfx___schedule+0x10/0x10
[   39.684084]  ? debug_smp_processor_id+0x20/0x30
[   39.684548]  ? rcu_is_watching+0x19/0xc0
[   39.684957]  ? trace_irq_enable+0xe1/0x120
[   39.685377]  ? do_task_dead+0x4a/0x110
[   39.685748]  do_task_dead+0xe0/0x110
[   39.686345]  make_task_dead+0x384/0x3c0
[   39.686736]  rewind_stack_and_make_dead+0x16/0x20
[   39.687203] RIP: 0033:0x7f17bd43ee5d
[   39.687552] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   39.688117] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.688824] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   39.689504] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.690174] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   39.690837] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   39.691523] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   39.692598]  </TASK>
[   40.315807] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#56] PREEMPT SMP KASAN NOPTI
[   40.316946] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.317640] CPU: 0 UID: 0 PID: 10508 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.318487] Tainted: [D]=DIE, [W]=WARN
[   40.318835] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.319896] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.320459] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.322134] RSP: 0018:ffff8880137f77d8 EFLAGS: 00010202
[   40.322625] RAX: dffffc0000000000 RBX: ffffea000045a2c0 RCX: ffffffff81bbb789
[   40.323282] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000045a2d0
[   40.323936] RBP: ffff8880137f77f8 R08: 0000000000000000 R09: ffffed1004c020e4
[   40.324593] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.325247] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888026010720
[   40.325906] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   40.326643] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.327182] CR2: 00007f17bd49bc20 CR3: 000000002a872006 CR4: 0000000000770ef0
[   40.327843] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.328504] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.329165] PKRU: 55555554
[   40.329433] Call Trace:
[   40.329690]  <TASK>
[   40.329923]  ? show_regs+0x6d/0x80
[   40.330301]  ? die_addr+0x45/0xb0
[   40.330660]  ? exc_general_protection+0x1ae/0x340
[   40.331122]  ? asm_exc_general_protection+0x2b/0x30
[   40.331605]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.332101]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.332592]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.333082]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.333579]  zap_huge_pmd+0x48e/0xd40
[   40.333960]  unmap_page_range+0x1ad6/0x4360
[   40.334370]  ? update_stack_state+0x2d9/0x610
[   40.334818]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.335301]  ? __pfx_unmap_page_range+0x10/0x10
[   40.335749]  unmap_single_vma+0x1ac/0x2d0
[   40.336139]  unmap_vmas+0x210/0x470
[   40.336490]  ? __pfx_unmap_vmas+0x10/0x10
[   40.336873]  ? __pfx_lock_release+0x10/0x10
[   40.337293]  ? lock_release+0x592/0x870
[   40.337665]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.338147]  ? __pfx_lock_release+0x10/0x10
[   40.338584]  ? mlock_drain_local+0x27f/0x4b0
[   40.339007]  exit_mmap+0x19e/0xb10
[   40.339362]  ? __pfx_exit_mmap+0x10/0x10
[   40.339747]  ? debug_smp_processor_id+0x20/0x30
[   40.340186]  ? trace_hardirqs_on+0x51/0x60
[   40.340585]  ? kasan_quarantine_put+0xa2/0x200
[   40.341013]  ? __khugepaged_exit+0x266/0x4c0
[   40.341425]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.341924]  __mmput+0xde/0x3a0
[   40.342244]  mmput+0x74/0x90
[   40.342540]  do_exit+0xa03/0x29f0
[   40.342875]  ? trace_hardirqs_on+0x51/0x60
[   40.343284]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.343898]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.344382]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.344886]  ? __pfx_do_exit+0x10/0x10
[   40.345292]  ? __audit_syscall_entry+0x39c/0x500
[   40.345763]  __x64_sys_exit+0x50/0x60
[   40.346146]  x64_sys_call+0x20c9/0x20d0
[   40.346548]  do_syscall_64+0x6d/0x140
[   40.346937]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.347460] RIP: 0033:0x7f17bd43ee5d
[   40.347825] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.348387] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.349082] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.349741] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.350389] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.351043] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.351705] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.352411]  </TASK>
[   40.352642] Modules linked in:
[   40.353097] ---[ end trace 0000000000000000 ]---
[   40.353566] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.354123] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.355936] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   40.356436] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   40.357099] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   40.357753] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   40.358414] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.359062] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   40.359813] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   40.360627] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.361171] CR2: 00007f17bd49bc20 CR3: 000000002a872006 CR4: 0000000000770ef0
[   40.361829] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.362496] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.363156] PKRU: 55555554
[   40.363570] note: repro[10508] exited with preempt_count 1
[   40.364100] Fixing recursive fault but reboot is needed!
[   40.364619] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10508
[   40.365348] caller is debug_smp_processor_id+0x20/0x30
[   40.365854] CPU: 0 UID: 0 PID: 10508 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.366722] Tainted: [D]=DIE, [W]=WARN
[   40.367076] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.368121] Call Trace:
[   40.368374]  <TASK>
[   40.368589]  dump_stack_lvl+0x121/0x150
[   40.368972]  dump_stack+0x19/0x20
[   40.369320]  check_preemption_disabled+0x168/0x180
[   40.369823]  debug_smp_processor_id+0x20/0x30
[   40.370288]  __schedule+0xa0/0x33a0
[   40.370652]  ? do_task_dead+0xa8/0x110
[   40.371026]  ? debug_smp_processor_id+0x20/0x30
[   40.371498]  ? rcu_is_watching+0x19/0xc0
[   40.371885]  ? lock_release+0x592/0x870
[   40.372268]  ? __pfx___schedule+0x10/0x10
[   40.372683]  ? debug_smp_processor_id+0x20/0x30
[   40.373123]  ? rcu_is_watching+0x19/0xc0
[   40.373524]  ? trace_irq_enable+0xe1/0x120
[   40.373930]  ? do_task_dead+0x4a/0x110
[   40.374319]  do_task_dead+0xe0/0x110
[   40.374675]  make_task_dead+0x384/0x3c0
[   40.375067]  rewind_stack_and_make_dead+0x16/0x20
[   40.375528] RIP: 0033:0x7f17bd43ee5d
[   40.375882] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.376459] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.377181] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.377839] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.378505] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.379190] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.379870] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.380563]  </TASK>
[   40.380822] BUG: scheduling while atomic: repro/10508/0x00000000
[   40.381424] INFO: lockdep is turned off.
[   40.381822] Modules linked in:
[   40.382143] Preemption disabled at:
[   40.382149] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   40.383005] CPU: 0 UID: 0 PID: 10508 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.383879] Tainted: [D]=DIE, [W]=WARN
[   40.384246] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.385510] Call Trace:
[   40.385822]  <TASK>
[   40.386094]  dump_stack_lvl+0x121/0x150
[   40.386585]  ? do_task_dead+0x28/0x110
[   40.387054]  dump_stack+0x19/0x20
[   40.387485]  __schedule_bug+0x12d/0x180
[   40.387975]  __schedule+0x2401/0x33a0
[   40.388447]  ? do_task_dead+0xa8/0x110
[   40.388918]  ? rcu_is_watching+0x19/0xc0
[   40.389421]  ? lock_release+0x592/0x870
[   40.389906]  ? __pfx___schedule+0x10/0x10
[   40.390391]  ? debug_smp_processor_id+0x20/0x30
[   40.390843]  ? rcu_is_watching+0x19/0xc0
[   40.391239]  ? trace_irq_enable+0xe1/0x120
[   40.391679]  ? do_task_dead+0x4a/0x110
[   40.392079]  do_task_dead+0xe0/0x110
[   40.392434]  make_task_dead+0x384/0x3c0
[   40.392820]  rewind_stack_and_make_dead+0x16/0x20
[   40.393288] RIP: 0033:0x7f17bd43ee5d
[   40.393638] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.394208] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.394944] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.395612] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.396308] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.396966] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.397633] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.398314]  </TASK>
[   40.742613] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#57] PREEMPT SMP KASAN NOPTI
[   40.743917] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.744826] CPU: 0 UID: 0 PID: 10782 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.745924] Tainted: [D]=DIE, [W]=WARN
[   40.746386] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.747768] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.748491] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.750657] RSP: 0018:ffff8880216e77d8 EFLAGS: 00010202
[   40.751265] RAX: dffffc0000000000 RBX: ffffea0000aab680 RCX: ffffffff81bbb789
[   40.751937] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aab690
[   40.752595] RBP: ffff8880216e77f8 R08: 0000000000000000 R09: ffffed1002626e90
[   40.753251] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.753905] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013137480
[   40.754796] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   40.755544] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.756106] CR2: 00007f17bd6e9ef8 CR3: 0000000013d1a006 CR4: 0000000000770ef0
[   40.756824] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.757530] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.758181] PKRU: 55555554
[   40.758443] Call Trace:
[   40.758685]  <TASK>
[   40.758897]  ? show_regs+0x6d/0x80
[   40.759244]  ? die_addr+0x45/0xb0
[   40.759602]  ? exc_general_protection+0x1ae/0x340
[   40.760088]  ? asm_exc_general_protection+0x2b/0x30
[   40.760623]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.761124]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.761649]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.762184]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.762708]  zap_huge_pmd+0x48e/0xd40
[   40.763089]  unmap_page_range+0x1ad6/0x4360
[   40.763506]  ? update_stack_state+0x2d9/0x610
[   40.763953]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.764440]  ? __pfx_unmap_page_range+0x10/0x10
[   40.764893]  unmap_single_vma+0x1ac/0x2d0
[   40.765301]  unmap_vmas+0x210/0x470
[   40.765665]  ? __pfx_unmap_vmas+0x10/0x10
[   40.766060]  ? __pfx_lock_release+0x10/0x10
[   40.766482]  ? lock_release+0x592/0x870
[   40.766854]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.767340]  ? __pfx_lock_release+0x10/0x10
[   40.767752]  ? mlock_drain_local+0x27f/0x4b0
[   40.768181]  exit_mmap+0x19e/0xb10
[   40.768532]  ? __pfx_exit_mmap+0x10/0x10
[   40.768922]  ? debug_smp_processor_id+0x20/0x30
[   40.769375]  ? trace_hardirqs_on+0x51/0x60
[   40.769782]  ? kasan_quarantine_put+0xa2/0x200
[   40.770227]  ? __khugepaged_exit+0x266/0x4c0
[   40.770649]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.771162]  __mmput+0xde/0x3a0
[   40.771491]  mmput+0x74/0x90
[   40.771789]  do_exit+0xa03/0x29f0
[   40.772128]  ? trace_hardirqs_on+0x51/0x60
[   40.772538]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.773137]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.773607]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.774083]  ? __pfx_do_exit+0x10/0x10
[   40.774467]  ? __audit_syscall_entry+0x39c/0x500
[   40.774918]  __x64_sys_exit+0x50/0x60
[   40.775283]  x64_sys_call+0x20c9/0x20d0
[   40.775666]  do_syscall_64+0x6d/0x140
[   40.776029]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.776528] RIP: 0033:0x7f17bd43ee5d
[   40.776874] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.777444] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.778170] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.778875] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.779540] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.780204] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.780870] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.781537]  </TASK>
[   40.781756] Modules linked in:
[   40.782245] ---[ end trace 0000000000000000 ]---
[   40.782698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.783255] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.785080] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   40.785618] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   40.786316] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   40.786993] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   40.787550] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#58] PREEMPT SMP KASAN NOPTI
[   40.787737] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.788809] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.789471] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   40.790150] CPU: 1 UID: 0 PID: 10814 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.790826] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   40.791657] Tainted: [D]=DIE, [W]=WARN
[   40.791664] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.792424] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.792769] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.794035] CR2: 00007f17bd6e9ef8 CR3: 0000000013d1a006 CR4: 0000000000770ef0
[   40.794557] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.795238] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.795873] RSP: 0018:ffff88801c25f7d8 EFLAGS: 00010202
[   40.795893] RAX: dffffc0000000000 RBX: ffffea0000986800 RCX: ffffffff81bbb789
[   40.798065] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.798690] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000986810
[   40.799312] PKRU: 55555554
[   40.799940] RBP: ffff88801c25f7f8 R08: 0000000000000000 R09: ffffed1004c3469c
[   40.799956] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.800797] note: repro[10782] exited with preempt_count 1
[   40.801431] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880261a34e0
[   40.801764] Fixing recursive fault but reboot is needed!
[   40.802396] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   40.803232] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10782
[   40.803720] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.803734] CR2: 00007f17bd602638 CR3: 000000001f5ea003 CR4: 0000000000770ef0
[   40.804581] caller is debug_smp_processor_id+0x20/0x30
[   40.805052] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.806004] CPU: 0 UID: 0 PID: 10782 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.806694] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.807380] Tainted: [D]=DIE, [W]=WARN
[   40.808001] PKRU: 55555554
[   40.808611] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.809240] Call Trace:
[   40.810314] Call Trace:
[   40.810941]  <TASK>
[   40.811371]  <TASK>
[   40.811766]  ? show_regs+0x6d/0x80
[   40.813023]  dump_stack_lvl+0x121/0x150
[   40.813253]  ? die_addr+0x45/0xb0
[   40.813545]  dump_stack+0x19/0x20
[   40.813746]  ? exc_general_protection+0x1ae/0x340
[   40.813995]  check_preemption_disabled+0x168/0x180
[   40.814319]  ? asm_exc_general_protection+0x2b/0x30
[   40.814746]  debug_smp_processor_id+0x20/0x30
[   40.815052]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.815432]  __schedule+0xa0/0x33a0
[   40.815853]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.816396]  ? do_task_dead+0xa8/0x110
[   40.816835]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.817332]  ? debug_smp_processor_id+0x20/0x30
[   40.817789]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.818187]  ? rcu_is_watching+0x19/0xc0
[   40.818650]  zap_huge_pmd+0x48e/0xd40
[   40.819073]  ? lock_release+0x592/0x870
[   40.819542]  unmap_page_range+0x1ad6/0x4360
[   40.820028]  ? __pfx___schedule+0x10/0x10
[   40.820488]  ? update_stack_state+0x2d9/0x610
[   40.820913]  ? debug_smp_processor_id+0x20/0x30
[   40.821252]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.821658]  ? rcu_is_watching+0x19/0xc0
[   40.822035]  ? __pfx_unmap_page_range+0x10/0x10
[   40.822467]  ? trace_irq_enable+0xe1/0x120
[   40.822875]  unmap_single_vma+0x1ac/0x2d0
[   40.823358]  ? do_task_dead+0x4a/0x110
[   40.823811]  unmap_vmas+0x210/0x470
[   40.824231]  do_task_dead+0xe0/0x110
[   40.824644]  ? __pfx_unmap_vmas+0x10/0x10
[   40.825079]  make_task_dead+0x384/0x3c0
[   40.825444]  ? __pfx_lock_release+0x10/0x10
[   40.825853]  rewind_stack_and_make_dead+0x16/0x20
[   40.826165]  ? lock_release+0x592/0x870
[   40.826558] RIP: 0033:0x7f17bd43ee5d
[   40.826920]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.827337] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.827717]  ? __pfx_lock_release+0x10/0x10
[   40.828200] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   40.828559]  ? mlock_drain_local+0x27f/0x4b0
[   40.828922]  ORIG_RAX: 000000000000003c
[   40.829372]  exit_mmap+0x19e/0xb10
[   40.829986] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.830371]  ? __pfx_exit_mmap+0x10/0x10
[   40.830894] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.831285]  ? debug_smp_processor_id+0x20/0x30
[   40.831679] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.832002]  ? trace_hardirqs_on+0x51/0x60
[   40.832683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.833041]  ? kasan_quarantine_put+0xa2/0x200
[   40.833728] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.834144]  ? __khugepaged_exit+0x266/0x4c0
[   40.834838]  </TASK>
[   40.835203]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.838561]  __mmput+0xde/0x3a0
[   40.838915]  mmput+0x74/0x90
[   40.839224]  do_exit+0xa03/0x29f0
[   40.839741]  ? trace_hardirqs_on+0x51/0x60
[   40.840270]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.840872]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.841342]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.841828]  ? __pfx_do_exit+0x10/0x10
[   40.842214]  ? __audit_syscall_entry+0x39c/0x500
[   40.842671]  __x64_sys_exit+0x50/0x60
[   40.843043]  x64_sys_call+0x20c9/0x20d0
[   40.843427]  do_syscall_64+0x6d/0x140
[   40.843800]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.844293] RIP: 0033:0x7f17bd43ee5d
[   40.844669] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.845285] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.846015] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.846685] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.847386] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.848414] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.849094] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.849776]  </TASK>
[   40.850004] Modules linked in:
[   40.850560] ---[ end trace 0000000000000000 ]---
[   40.851010] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.852313] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.854105] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   40.854747] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   40.855518] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   40.856179] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   40.856830] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.857482] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   40.858206] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   40.859103] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.859755] CR2: 00007f17bd602638 CR3: 000000001f5ea003 CR4: 0000000000770ef0
[   40.860444] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.861120] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.861790] PKRU: 55555554
[   40.862206] note: repro[10814] exited with preempt_count 1
[   40.863037] Fixing recursive fault but reboot is needed!
[   40.863634] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10814
[   40.864384] caller is debug_smp_processor_id+0x20/0x30
[   40.865046] CPU: 1 UID: 0 PID: 10814 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.865889] Tainted: [D]=DIE, [W]=WARN
[   40.866478] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.868265] Call Trace:
[   40.868652]  <TASK>
[   40.868926]  dump_stack_lvl+0x121/0x150
[   40.869428]  dump_stack+0x19/0x20
[   40.869857]  check_preemption_disabled+0x168/0x180
[   40.870477]  debug_smp_processor_id+0x20/0x30
[   40.871077]  __schedule+0xa0/0x33a0
[   40.871679]  ? do_task_dead+0xa8/0x110
[   40.872187]  ? debug_smp_processor_id+0x20/0x30
[   40.872822]  ? rcu_is_watching+0x19/0xc0
[   40.873329]  ? lock_release+0x592/0x870
[   40.873940]  ? __pfx___schedule+0x10/0x10
[   40.874467]  ? debug_smp_processor_id+0x20/0x30
[   40.875119]  ? rcu_is_watching+0x19/0xc0
[   40.875625]  ? trace_irq_enable+0xe1/0x120
[   40.876254]  ? do_task_dead+0x4a/0x110
[   40.876837]  do_task_dead+0xe0/0x110
[   40.877218]  make_task_dead+0x384/0x3c0
[   40.877643]  rewind_stack_and_make_dead+0x16/0x20
[   40.878202] RIP: 0033:0x7f17bd43ee5d
[   40.878552] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.879226] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.879910] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.880668] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.881312] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.881950] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.882729] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.883412]  </TASK>
[   40.883764] BUG: scheduling while atomic: repro/10814/0x00000000
[   40.884408] INFO: lockdep is turned off.
[   40.885006] Modules linked in:
[   40.885439] Preemption disabled at:
[   40.885446] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   40.886483] CPU: 1 UID: 0 PID: 10814 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.887421] Tainted: [D]=DIE, [W]=WARN
[   40.887860] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.888883] Call Trace:
[   40.889130]  <TASK>
[   40.889358]  dump_stack_lvl+0x121/0x150
[   40.889766]  ? do_task_dead+0x28/0x110
[   40.890208]  dump_stack+0x19/0x20
[   40.890552]  __schedule_bug+0x12d/0x180
[   40.890940]  __schedule+0x2401/0x33a0
[   40.891311]  ? do_task_dead+0xa8/0x110
[   40.891676]  ? rcu_is_watching+0x19/0xc0
[   40.892078]  ? lock_release+0x592/0x870
[   40.892535]  ? __pfx___schedule+0x10/0x10
[   40.892939]  ? debug_smp_processor_id+0x20/0x30
[   40.893590]  ? rcu_is_watching+0x19/0xc0
[   40.894086]  ? trace_irq_enable+0xe1/0x120
[   40.894541]  ? do_task_dead+0x4a/0x110
[   40.894909]  do_task_dead+0xe0/0x110
[   40.895267]  make_task_dead+0x384/0x3c0
[   40.895734]  rewind_stack_and_make_dead+0x16/0x20
[   40.896200] RIP: 0033:0x7f17bd43ee5d
[   40.896548] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.897121] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.897876] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.898184] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.898491] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.898798] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.899104] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.899421]  </TASK>
[   40.913506] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#59] PREEMPT SMP KASAN NOPTI
[   40.914259] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.914782] CPU: 1 UID: 0 PID: 10790 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.915315] Tainted: [D]=DIE, [W]=WARN
[   40.915605] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.916252] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.916616] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.917755] RSP: 0018:ffff88802a94f7d8 EFLAGS: 00010202
[   40.918140] RAX: dffffc0000000000 RBX: ffffea00004ed380 RCX: ffffffff81bbb789
[   40.918570] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004ed390
[   40.919039] RBP: ffff88802a94f7f8 R08: 0000000000000000 R09: ffffed10040aaab4
[   40.919556] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.919954] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880205555a0
[   40.920511] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   40.921002] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.921331] CR2: 0000559e815f4550 CR3: 0000000026124003 CR4: 0000000000770ef0
[   40.921727] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.922126] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.922528] PKRU: 55555554
[   40.922687] Call Trace:
[   40.922832]  <TASK>
[   40.922961]  ? show_regs+0x6d/0x80
[   40.923172]  ? die_addr+0x45/0xb0
[   40.923375]  ? exc_general_protection+0x1ae/0x340
[   40.923649]  ? asm_exc_general_protection+0x2b/0x30
[   40.923938]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.924233]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.924533]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.924831]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.925126]  zap_huge_pmd+0x48e/0xd40
[   40.925356]  unmap_page_range+0x1ad6/0x4360
[   40.925605]  ? update_stack_state+0x2d9/0x610
[   40.925869]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.926163]  ? __pfx_unmap_page_range+0x10/0x10
[   40.926433]  unmap_single_vma+0x1ac/0x2d0
[   40.926672]  unmap_vmas+0x210/0x470
[   40.926884]  ? __pfx_unmap_vmas+0x10/0x10
[   40.927119]  ? __pfx_lock_release+0x10/0x10
[   40.927367]  ? lock_release+0x592/0x870
[   40.927594]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.927880]  ? __pfx_lock_release+0x10/0x10
[   40.928128]  ? mlock_drain_local+0x27f/0x4b0
[   40.928383]  exit_mmap+0x19e/0xb10
[   40.928590]  ? __pfx_exit_mmap+0x10/0x10
[   40.928823]  ? debug_smp_processor_id+0x20/0x30
[   40.929101]  ? trace_hardirqs_on+0x51/0x60
[   40.929342]  ? kasan_quarantine_put+0xa2/0x200
[   40.929612]  ? __khugepaged_exit+0x266/0x4c0
[   40.929861]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.930171]  __mmput+0xde/0x3a0
[   40.930362]  mmput+0x74/0x90
[   40.930539]  do_exit+0xa03/0x29f0
[   40.930740]  ? trace_hardirqs_on+0x51/0x60
[   40.930982]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.931345]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.931626]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.931911]  ? __pfx_do_exit+0x10/0x10
[   40.932134]  ? __audit_syscall_entry+0x39c/0x500
[   40.932403]  __x64_sys_exit+0x50/0x60
[   40.932622]  x64_sys_call+0x20c9/0x20d0
[   40.932849]  do_syscall_64+0x6d/0x140
[   40.933067]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.933363] RIP: 0033:0x7f17bd43ee5d
[   40.933573] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.933916] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.934340] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.934739] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.935137] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.935536] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.935933] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.936338]  </TASK>
[   40.936469] Modules linked in:
[   40.936743] ---[ end trace 0000000000000000 ]---
[   40.937010] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.937346] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.938366] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   40.938665] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   40.939063] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   40.939511] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   40.939912] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.940314] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   40.940715] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   40.941165] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.941495] CR2: 0000559e815f4550 CR3: 0000000026124003 CR4: 0000000000770ef0
[   40.941894] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.942296] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.942695] PKRU: 55555554
[   40.942858] note: repro[10790] exited with preempt_count 1
[   40.943166] Fixing recursive fault but reboot is needed!
[   40.943515] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10790
[   40.943951] caller is debug_smp_processor_id+0x20/0x30
[   40.944253] CPU: 1 UID: 0 PID: 10790 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.944771] Tainted: [D]=DIE, [W]=WARN
[   40.944986] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.945616] Call Trace:
[   40.945762]  <TASK>
[   40.945889]  dump_stack_lvl+0x121/0x150
[   40.946117]  dump_stack+0x19/0x20
[   40.946321]  check_preemption_disabled+0x168/0x180
[   40.946605]  debug_smp_processor_id+0x20/0x30
[   40.946864]  __schedule+0xa0/0x33a0
[   40.947073]  ? do_task_dead+0xa8/0x110
[   40.947297]  ? debug_smp_processor_id+0x20/0x30
[   40.947566]  ? rcu_is_watching+0x19/0xc0
[   40.947800]  ? lock_release+0x592/0x870
[   40.948027]  ? __pfx___schedule+0x10/0x10
[   40.948266]  ? debug_smp_processor_id+0x20/0x30
[   40.948537]  ? rcu_is_watching+0x19/0xc0
[   40.948771]  ? trace_irq_enable+0xe1/0x120
[   40.949014]  ? do_task_dead+0x4a/0x110
[   40.949235]  do_task_dead+0xe0/0x110
[   40.949450]  make_task_dead+0x384/0x3c0
[   40.949679]  rewind_stack_and_make_dead+0x16/0x20
[   40.949954] RIP: 0033:0x7f17bd43ee5d
[   40.950162] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.950506] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.950932] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.951331] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.951729] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.952128] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.952527] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.952933]  </TASK>
[   40.953117] BUG: scheduling while atomic: repro/10790/0x00000000
[   40.953459] INFO: lockdep is turned off.
[   40.953683] Modules linked in:
[   40.953864] Preemption disabled at:
[   40.953867] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   40.954370] CPU: 1 UID: 0 PID: 10790 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   40.954887] Tainted: [D]=DIE, [W]=WARN
[   40.955102] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.955730] Call Trace:
[   40.955877]  <TASK>
[   40.956006]  dump_stack_lvl+0x121/0x150
[   40.956234]  ? do_task_dead+0x28/0x110
[   40.956455]  dump_stack+0x19/0x20
[   40.956655]  __schedule_bug+0x12d/0x180
[   40.956884]  __schedule+0x2401/0x33a0
[   40.957098]  ? do_task_dead+0xa8/0x110
[   40.957323]  ? rcu_is_watching+0x19/0xc0
[   40.957560]  ? lock_release+0x592/0x870
[   40.957789]  ? __pfx___schedule+0x10/0x10
[   40.958028]  ? debug_smp_processor_id+0x20/0x30
[   40.958299]  ? rcu_is_watching+0x19/0xc0
[   40.958532]  ? trace_irq_enable+0xe1/0x120
[   40.958774]  ? do_task_dead+0x4a/0x110
[   40.958994]  do_task_dead+0xe0/0x110
[   40.959210]  make_task_dead+0x384/0x3c0
[   40.959441]  rewind_stack_and_make_dead+0x16/0x20
[   40.959715] RIP: 0033:0x7f17bd43ee5d
[   40.959925] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   40.960270] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.960700] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   40.961101] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.961503] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   40.961901] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   40.962304] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   40.962710]  </TASK>
[   41.146560] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#60] PREEMPT SMP KASAN NOPTI
[   41.147272] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.147715] CPU: 1 UID: 0 PID: 10949 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.148243] Tainted: [D]=DIE, [W]=WARN
[   41.148463] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.149106] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.149454] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.150499] RSP: 0018:ffff88801ec077d8 EFLAGS: 00010202
[   41.150804] RAX: dffffc0000000000 RBX: ffffea0000811a40 RCX: ffffffff81bbb789
[   41.151212] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000811a50
[   41.151621] RBP: ffff88801ec077f8 R08: 0000000000000000 R09: ffffed10040ff63c
[   41.152029] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   41.152438] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880207fb1e0
[   41.152845] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.153306] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.153642] CR2: 00007f17bd70b910 CR3: 00000000111a0006 CR4: 0000000000770ef0
[   41.154051] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.154461] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.154868] PKRU: 55555554
[   41.155031] Call Trace:
[   41.155179]  <TASK>
[   41.155312]  ? show_regs+0x6d/0x80
[   41.155524]  ? die_addr+0x45/0xb0
[   41.155731]  ? exc_general_protection+0x1ae/0x340
[   41.156011]  ? asm_exc_general_protection+0x2b/0x30
[   41.156302]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.156597]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.156892]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.157189]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.157485]  zap_huge_pmd+0x48e/0xd40
[   41.157706]  unmap_page_range+0x1ad6/0x4360
[   41.157950]  ? __pfx_lock_release+0x10/0x10
[   41.158194]  ? do_raw_spin_trylock+0xbf/0x190
[   41.158453]  ? __kasan_check_read+0x15/0x20
[   41.158701]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.158994]  ? __pfx_unmap_page_range+0x10/0x10
[   41.159266]  unmap_single_vma+0x1ac/0x2d0
[   41.159508]  unmap_vmas+0x210/0x470
[   41.159720]  ? __pfx_unmap_vmas+0x10/0x10
[   41.159955]  ? __pfx_lock_release+0x10/0x10
[   41.160197]  ? lock_release+0x592/0x870
[   41.160422]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.160708]  ? __pfx_lock_release+0x10/0x10
[   41.160954]  ? mlock_drain_local+0x27f/0x4b0
[   41.161207]  exit_mmap+0x19e/0xb10
[   41.161412]  ? __pfx_exit_mmap+0x10/0x10
[   41.161639]  ? debug_smp_processor_id+0x20/0x30
[   41.161909]  ? trace_hardirqs_on+0x51/0x60
[   41.162150]  ? kasan_quarantine_put+0xa2/0x200
[   41.162414]  ? __khugepaged_exit+0x266/0x4c0
[   41.162667]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.162976]  __mmput+0xde/0x3a0
[   41.163168]  mmput+0x74/0x90
[   41.163346]  do_exit+0xa03/0x29f0
[   41.163547]  ? trace_hardirqs_on+0x51/0x60
[   41.163789]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.164150]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.164430]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.164717]  ? __pfx_do_exit+0x10/0x10
[   41.164941]  ? __audit_syscall_entry+0x39c/0x500
[   41.165212]  __x64_sys_exit+0x50/0x60
[   41.165434]  x64_sys_call+0x20c9/0x20d0
[   41.165661]  do_syscall_64+0x6d/0x140
[   41.165879]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.166172] RIP: 0033:0x7f17bd43ee5d
[   41.166381] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.166724] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.167147] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.167545] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.167940] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.168339] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.168736] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.169139]  </TASK>
[   41.169271] Modules linked in:
[   41.169538] ---[ end trace 0000000000000000 ]---
[   41.169803] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.170134] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.171152] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.171490] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.171888] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.172327] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.172727] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.173125] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.173526] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.173975] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.174301] CR2: 00007f17bd70b910 CR3: 00000000111a0006 CR4: 0000000000770ef0
[   41.174701] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.175099] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.175541] PKRU: 55555554
[   41.175703] note: repro[10949] exited with preempt_count 1
[   41.176007] Fixing recursive fault but reboot is needed!
[   41.176306] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10949
[   41.176743] caller is debug_smp_processor_id+0x20/0x30
[   41.177042] CPU: 1 UID: 0 PID: 10949 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.177561] Tainted: [D]=DIE, [W]=WARN
[   41.177775] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.178495] Call Trace:
[   41.178723]  <TASK>
[   41.178909]  dump_stack_lvl+0x121/0x150
[   41.179138]  dump_stack+0x19/0x20
[   41.179339]  check_preemption_disabled+0x168/0x180
[   41.179621]  debug_smp_processor_id+0x20/0x30
[   41.179879]  __schedule+0xa0/0x33a0
[   41.180088]  ? do_task_dead+0xa8/0x110
[   41.180313]  ? debug_smp_processor_id+0x20/0x30
[   41.180580]  ? rcu_is_watching+0x19/0xc0
[   41.180812]  ? lock_release+0x592/0x870
[   41.181038]  ? __pfx___schedule+0x10/0x10
[   41.181276]  ? debug_smp_processor_id+0x20/0x30
[   41.181593]  ? rcu_is_watching+0x19/0xc0
[   41.181848]  ? trace_irq_enable+0xe1/0x120
[   41.182089]  ? do_task_dead+0x4a/0x110
[   41.182312]  do_task_dead+0xe0/0x110
[   41.182526]  make_task_dead+0x384/0x3c0
[   41.182756]  rewind_stack_and_make_dead+0x16/0x20
[   41.183028] RIP: 0033:0x7f17bd43ee5d
[   41.183237] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.183581] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.184004] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.184466] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.184864] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.185261] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.185656] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.186059]  </TASK>
[   41.186247] BUG: scheduling while atomic: repro/10949/0x00000000
[   41.186590] INFO: lockdep is turned off.
[   41.186814] Modules linked in:
[   41.186996] Preemption disabled at:
[   41.186999] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   41.187609] CPU: 1 UID: 0 PID: 10949 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.188128] Tainted: [D]=DIE, [W]=WARN
[   41.188344] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.188976] Call Trace:
[   41.189121]  <TASK>
[   41.189250]  dump_stack_lvl+0x121/0x150
[   41.189480]  ? do_task_dead+0x28/0x110
[   41.189699]  dump_stack+0x19/0x20
[   41.189899]  __schedule_bug+0x12d/0x180
[   41.190129]  __schedule+0x2401/0x33a0
[   41.190349]  ? do_task_dead+0xa8/0x110
[   41.190570]  ? rcu_is_watching+0x19/0xc0
[   41.190803]  ? lock_release+0x592/0x870
[   41.191060]  ? __pfx___schedule+0x10/0x10
[   41.191388]  ? debug_smp_processor_id+0x20/0x30
[   41.191659]  ? rcu_is_watching+0x19/0xc0
[   41.191892]  ? trace_irq_enable+0xe1/0x120
[   41.192136]  ? do_task_dead+0x4a/0x110
[   41.192357]  do_task_dead+0xe0/0x110
[   41.192570]  make_task_dead+0x384/0x3c0
[   41.192801]  rewind_stack_and_make_dead+0x16/0x20
[   41.193076] RIP: 0033:0x7f17bd43ee5d
[   41.193289] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.193637] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.194207] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.194609] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.195009] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.195407] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.195806] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.196252]  </TASK>
[   41.291909] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#61] PREEMPT SMP KASAN NOPTI
[   41.292883] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.293349] CPU: 1 UID: 0 PID: 11093 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.293908] Tainted: [D]=DIE, [W]=WARN
[   41.294143] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.294827] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.295186] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.296262] RSP: 0018:ffff8880261577d8 EFLAGS: 00010202
[   41.296579] RAX: dffffc0000000000 RBX: ffffea0000514b80 RCX: ffffffff81bbb789
[   41.297004] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000514b90
[   41.297421] RBP: ffff8880261577f8 R08: 0000000000000000 R09: ffffed10025900e4
[   41.297839] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.298256] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012c80720
[   41.298676] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.299147] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.299488] CR2: 00007fffef6677b8 CR3: 000000001c3ac004 CR4: 0000000000770ef0
[   41.299908] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.300329] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.300746] PKRU: 55555554
[   41.300913] Call Trace:
[   41.301065]  <TASK>
[   41.301200]  ? show_regs+0x6d/0x80
[   41.301415]  ? die_addr+0x45/0xb0
[   41.301622]  ? exc_general_protection+0x1ae/0x340
[   41.301907]  ? asm_exc_general_protection+0x2b/0x30
[   41.302273]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.302583]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.302889]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.303195]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.303504]  zap_huge_pmd+0x48e/0xd40
[   41.303732]  unmap_page_range+0x1ad6/0x4360
[   41.303987]  ? update_stack_state+0x2d9/0x610
[   41.304252]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.304549]  ? __pfx_unmap_page_range+0x10/0x10
[   41.304820]  unmap_single_vma+0x1ac/0x2d0
[   41.305059]  unmap_vmas+0x210/0x470
[   41.305271]  ? __pfx_unmap_vmas+0x10/0x10
[   41.305600]  ? __pfx_lock_release+0x10/0x10
[   41.305938]  ? lock_release+0x592/0x870
[   41.306255]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.306561]  ? __pfx_lock_release+0x10/0x10
[   41.306810]  ? mlock_drain_local+0x27f/0x4b0
[   41.307064]  exit_mmap+0x19e/0xb10
[   41.307272]  ? __pfx_exit_mmap+0x10/0x10
[   41.307511]  ? debug_smp_processor_id+0x20/0x30
[   41.307783]  ? trace_hardirqs_on+0x51/0x60
[   41.308027]  ? kasan_quarantine_put+0xa2/0x200
[   41.308294]  ? __khugepaged_exit+0x266/0x4c0
[   41.308548]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.308859]  __mmput+0xde/0x3a0
[   41.309049]  mmput+0x74/0x90
[   41.309224]  do_exit+0xa03/0x29f0
[   41.309424]  ? trace_hardirqs_on+0x51/0x60
[   41.309666]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.310027]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.310313]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.310600]  ? __pfx_do_exit+0x10/0x10
[   41.310824]  ? __audit_syscall_entry+0x39c/0x500
[   41.311097]  __x64_sys_exit+0x50/0x60
[   41.311321]  x64_sys_call+0x20c9/0x20d0
[   41.311555]  do_syscall_64+0x6d/0x140
[   41.311856]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.312265] RIP: 0033:0x7f17bd43ee5d
[   41.312554] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.312900] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.313328] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.313728] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.314126] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.314532] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.314931] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.315334]  </TASK>
[   41.315466] Modules linked in:
[   41.315752] ---[ end trace 0000000000000000 ]---
[   41.316024] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.316362] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.317392] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.317694] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.318257] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.318792] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.319193] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.319642] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.320047] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.320498] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.320828] CR2: 00007fffef6677b8 CR3: 000000001c3ac004 CR4: 0000000000770ef0
[   41.321230] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.321628] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.322030] PKRU: 55555554
[   41.322190] note: repro[11093] exited with preempt_count 1
[   41.322501] Fixing recursive fault but reboot is needed!
[   41.322800] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11093
[   41.323239] caller is debug_smp_processor_id+0x20/0x30
[   41.323596] CPU: 1 UID: 0 PID: 11093 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.324114] Tainted: [D]=DIE, [W]=WARN
[   41.324420] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.325201] Call Trace:
[   41.325350]  <TASK>
[   41.325480]  dump_stack_lvl+0x121/0x150
[   41.325711]  dump_stack+0x19/0x20
[   41.325913]  check_preemption_disabled+0x168/0x180
[   41.326199]  debug_smp_processor_id+0x20/0x30
[   41.326460]  __schedule+0xa0/0x33a0
[   41.326673]  ? do_task_dead+0xa8/0x110
[   41.326896]  ? debug_smp_processor_id+0x20/0x30
[   41.327165]  ? rcu_is_watching+0x19/0xc0
[   41.327402]  ? lock_release+0x592/0x870
[   41.327630]  ? __pfx___schedule+0x10/0x10
[   41.327869]  ? debug_smp_processor_id+0x20/0x30
[   41.328137]  ? rcu_is_watching+0x19/0xc0
[   41.328370]  ? trace_irq_enable+0xe1/0x120
[   41.328614]  ? do_task_dead+0x4a/0x110
[   41.328835]  do_task_dead+0xe0/0x110
[   41.329047]  make_task_dead+0x384/0x3c0
[   41.329282]  rewind_stack_and_make_dead+0x16/0x20
[   41.329559] RIP: 0033:0x7f17bd43ee5d
[   41.329770] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.330118] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.330550] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.331111] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.331532] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.331938] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.332340] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.332747]  </TASK>
[   41.332909] BUG: scheduling while atomic: repro/11093/0x00000000
[   41.333254] INFO: lockdep is turned off.
[   41.333481] Modules linked in:
[   41.333664] Preemption disabled at:
[   41.333667] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   41.334174] CPU: 1 UID: 0 PID: 11093 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.334693] Tainted: [D]=DIE, [W]=WARN
[   41.334909] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.335545] Call Trace:
[   41.335691]  <TASK>
[   41.335820]  dump_stack_lvl+0x121/0x150
[   41.336049]  ? do_task_dead+0x28/0x110
[   41.336269]  dump_stack+0x19/0x20
[   41.336474]  __schedule_bug+0x12d/0x180
[   41.336705]  __schedule+0x2401/0x33a0
[   41.336925]  ? do_task_dead+0xa8/0x110
[   41.337146]  ? rcu_is_watching+0x19/0xc0
[   41.337378]  ? lock_release+0x592/0x870
[   41.337605]  ? __pfx___schedule+0x10/0x10
[   41.337845]  ? debug_smp_processor_id+0x20/0x30
[   41.338115]  ? rcu_is_watching+0x19/0xc0
[   41.338353]  ? trace_irq_enable+0xe1/0x120
[   41.338597]  ? do_task_dead+0x4a/0x110
[   41.338818]  do_task_dead+0xe0/0x110
[   41.339027]  make_task_dead+0x384/0x3c0
[   41.339258]  rewind_stack_and_make_dead+0x16/0x20
[   41.339537] RIP: 0033:0x7f17bd43ee5d
[   41.339748] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.340095] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.340522] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.340924] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.341324] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.341724] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.342124] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.342533]  </TASK>
[   41.372334] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#62] PREEMPT SMP KASAN NOPTI
[   41.373428] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.374109] CPU: 0 UID: 0 PID: 11113 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.374958] Tainted: [D]=DIE, [W]=WARN
[   41.375315] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.376335] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.376874] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.378543] RSP: 0018:ffff888011e8f7d8 EFLAGS: 00010202
[   41.379033] RAX: dffffc0000000000 RBX: ffffea000077a9c0 RCX: ffffffff81bbb789
[   41.379687] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000077a9d0
[   41.380353] RBP: ffff888011e8f7f8 R08: 0000000000000000 R09: ffffed10025901d4
[   41.381005] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   41.381657] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012c80ea0
[   41.382312] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   41.383047] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.383582] CR2: 00007f17bd70e3f4 CR3: 000000002aaf4003 CR4: 0000000000770ef0
[   41.384237] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.384907] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.385563] PKRU: 55555554
[   41.385827] Call Trace:
[   41.386072]  <TASK>
[   41.386289]  ? show_regs+0x6d/0x80
[   41.386636]  ? die_addr+0x45/0xb0
[   41.386968]  ? exc_general_protection+0x1ae/0x340
[   41.387433]  ? asm_exc_general_protection+0x2b/0x30
[   41.387915]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.388403]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.388898]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.389393]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.389873]  zap_huge_pmd+0x48e/0xd40
[   41.390236]  unmap_page_range+0x1ad6/0x4360
[   41.390647]  ? __pfx_lock_release+0x10/0x10
[   41.391056]  ? do_raw_spin_trylock+0xbf/0x190
[   41.391480]  ? __kasan_check_read+0x15/0x20
[   41.391894]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.392385]  ? __pfx_unmap_page_range+0x10/0x10
[   41.392840]  unmap_single_vma+0x1ac/0x2d0
[   41.393245]  unmap_vmas+0x210/0x470
[   41.393601]  ? __pfx_unmap_vmas+0x10/0x10
[   41.393987]  ? __pfx_lock_release+0x10/0x10
[   41.394387]  ? lock_release+0x592/0x870
[   41.394755]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.395219]  ? __pfx_lock_release+0x10/0x10
[   41.395618]  ? mlock_drain_local+0x27f/0x4b0
[   41.396041]  exit_mmap+0x19e/0xb10
[   41.396389]  ? __pfx_exit_mmap+0x10/0x10
[   41.396777]  ? debug_smp_processor_id+0x20/0x30
[   41.397231]  ? trace_hardirqs_on+0x51/0x60
[   41.397633]  ? kasan_quarantine_put+0xa2/0x200
[   41.398069]  ? __khugepaged_exit+0x266/0x4c0
[   41.398496]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.399017]  __mmput+0xde/0x3a0
[   41.399348]  mmput+0x74/0x90
[   41.399639]  do_exit+0xa03/0x29f0
[   41.399978]  ? trace_hardirqs_on+0x51/0x60
[   41.400389]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.400983]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.401454]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.401932]  ? __pfx_do_exit+0x10/0x10
[   41.402311]  ? __audit_syscall_entry+0x39c/0x500
[   41.402761]  __x64_sys_exit+0x50/0x60
[   41.403133]  x64_sys_call+0x20c9/0x20d0
[   41.403517]  do_syscall_64+0x6d/0x140
[   41.403887]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.404375] RIP: 0033:0x7f17bd43ee5d
[   41.404722] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.405292] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.405982] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.406639] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.407301] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.407957] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.408615] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.409289]  </TASK>
[   41.409513] Modules linked in:
[   41.409925] ---[ end trace 0000000000000000 ]---
[   41.410383] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.410937] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.412635] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.413136] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.413811] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.414192] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#63] PREEMPT SMP KASAN NOPTI
[   41.414455] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.415054] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.415731] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.416081] CPU: 1 UID: 0 PID: 11124 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.416741] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.417191] Tainted: [D]=DIE, [W]=WARN
[   41.417195] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.417201] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.417850] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   41.418038] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.419061] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.419346] RSP: 0018:ffff8880131077d8 EFLAGS: 00010202
[   41.420093] CR2: 00007f17bd70e3f4 CR3: 000000002aaf4003 CR4: 0000000000770ef0
[   41.420956] 
[   41.420959] RAX: dffffc0000000000 RBX: ffffea00004de340 RCX: ffffffff81bbb789
[   41.421494] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.421744] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004de350
[   41.422383] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.422465] RBP: ffff8880131077f8 R08: 0000000000000000 R09: ffffed1002ce2720
[   41.423112] PKRU: 55555554
[   41.423455] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.423461] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888016713900
[   41.423468] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.424121] note: repro[11113] exited with preempt_count 1
[   41.424463] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.425109] Fixing recursive fault but reboot is needed!
[   41.425245] CR2: 00007f469c66c000 CR3: 000000002606e001 CR4: 0000000000770ef0
[   41.425901] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11113
[   41.426237] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.426975] caller is debug_smp_processor_id+0x20/0x30
[   41.427238] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.427786] CPU: 0 UID: 0 PID: 11113 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.428023] PKRU: 55555554
[   41.428684] Tainted: [D]=DIE, [W]=WARN
[   41.429052] Call Trace:
[   41.429056]  <TASK>
[   41.429696] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.429939]  ? show_regs+0x6d/0x80
[   41.430584] Call Trace:
[   41.431003]  ? die_addr+0x45/0xb0
[   41.431261]  <TASK>
[   41.431441]  ? exc_general_protection+0x1ae/0x340
[   41.431683]  dump_stack_lvl+0x121/0x150
[   41.431793]  ? asm_exc_general_protection+0x2b/0x30
[   41.432821]  dump_stack+0x19/0x20
[   41.432981]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.433214]  check_preemption_disabled+0x168/0x180
[   41.433370]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.433582]  debug_smp_processor_id+0x20/0x30
[   41.433800]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.434152]  __schedule+0xa0/0x33a0
[   41.434379]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.434687]  ? do_task_dead+0xa8/0x110
[   41.434924]  zap_huge_pmd+0x48e/0xd40
[   41.435382]  ? debug_smp_processor_id+0x20/0x30
[   41.435617]  unmap_page_range+0x1ad6/0x4360
[   41.436022]  ? rcu_is_watching+0x19/0xc0
[   41.436243]  ? update_stack_state+0x2d9/0x610
[   41.436571]  ? lock_release+0x592/0x870
[   41.436800]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.437142]  ? __pfx___schedule+0x10/0x10
[   41.437316]  ? __pfx_unmap_page_range+0x10/0x10
[   41.437738]  ? debug_smp_processor_id+0x20/0x30
[   41.437923]  unmap_single_vma+0x1ac/0x2d0
[   41.438288]  ? rcu_is_watching+0x19/0xc0
[   41.438485]  unmap_vmas+0x210/0x470
[   41.438842]  ? trace_irq_enable+0xe1/0x120
[   41.439077]  ? __pfx_unmap_vmas+0x10/0x10
[   41.439449]  ? do_task_dead+0x4a/0x110
[   41.439661]  ? __pfx_lock_release+0x10/0x10
[   41.440090]  do_task_dead+0xe0/0x110
[   41.440273]  ? lock_release+0x592/0x870
[   41.440640]  make_task_dead+0x384/0x3c0
[   41.440807]  ? mas_next_slot+0x133a/0x1a50
[   41.441191]  rewind_stack_and_make_dead+0x16/0x20
[   41.441379]  ? __pfx_lock_release+0x10/0x10
[   41.441730] RIP: 0033:0x7f17bd43ee5d
[   41.441925]  ? mlock_drain_local+0x27f/0x4b0
[   41.442238] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.442417]  exit_mmap+0x19e/0xb10
[   41.442763] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   41.442941]  ? __pfx_exit_mmap+0x10/0x10
[   41.443359]  ORIG_RAX: 000000000000003c
[   41.443545]  ? debug_smp_processor_id+0x20/0x30
[   41.443859] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.444050]  ? trace_hardirqs_on+0x51/0x60
[   41.444588] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.444739]  ? kasan_quarantine_put+0xa2/0x200
[   41.445197] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.445379]  ? __khugepaged_exit+0x266/0x4c0
[   41.445713] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.445908]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.446532] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.446712]  __mmput+0xde/0x3a0
[   41.447338]  </TASK>
[   41.447521]  mmput+0x74/0x90
[   41.449817]  do_exit+0xa03/0x29f0
[   41.449985]  ? trace_hardirqs_on+0x51/0x60
[   41.450175]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.450460]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.450682]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.450913]  ? __pfx_do_exit+0x10/0x10
[   41.451090]  ? __audit_syscall_entry+0x39c/0x500
[   41.451309]  __x64_sys_exit+0x50/0x60
[   41.451478]  x64_sys_call+0x20c9/0x20d0
[   41.451651]  do_syscall_64+0x6d/0x140
[   41.451825]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.452054] RIP: 0033:0x7f17bd43ee5d
[   41.452222] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.452496] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.452823] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.453131] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.453445] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.453764] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.454099] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.454441]  </TASK>
[   41.454556] Modules linked in:
[   41.454802] ---[ end trace 0000000000000000 ]---
[   41.455027] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.455316] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.456228] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.456474] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.456783] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.457092] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.457402] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.457709] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.458021] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.458384] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.458644] CR2: 00007f469c66c000 CR3: 000000002606e001 CR4: 0000000000770ef0
[   41.458959] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.459275] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.459611] PKRU: 55555554
[   41.459744] note: repro[11124] exited with preempt_count 1
[   41.459990] Fixing recursive fault but reboot is needed!
[   41.460220] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11124
[   41.460564] caller is debug_smp_processor_id+0x20/0x30
[   41.460804] CPU: 1 UID: 0 PID: 11124 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.461204] Tainted: [D]=DIE, [W]=WARN
[   41.461374] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.461855] Call Trace:
[   41.461970]  <TASK>
[   41.462072]  dump_stack_lvl+0x121/0x150
[   41.462254]  dump_stack+0x19/0x20
[   41.462415]  check_preemption_disabled+0x168/0x180
[   41.462636]  debug_smp_processor_id+0x20/0x30
[   41.462842]  __schedule+0xa0/0x33a0
[   41.463009]  ? do_task_dead+0xa8/0x110
[   41.463184]  ? debug_smp_processor_id+0x20/0x30
[   41.463401]  ? rcu_is_watching+0x19/0xc0
[   41.463587]  ? lock_release+0x592/0x870
[   41.463765]  ? __pfx___schedule+0x10/0x10
[   41.463954]  ? debug_smp_processor_id+0x20/0x30
[   41.464167]  ? rcu_is_watching+0x19/0xc0
[   41.464353]  ? trace_irq_enable+0xe1/0x120
[   41.464547]  ? do_task_dead+0x4a/0x110
[   41.464721]  do_task_dead+0xe0/0x110
[   41.464887]  make_task_dead+0x384/0x3c0
[   41.465069]  rewind_stack_and_make_dead+0x16/0x20
[   41.465290] RIP: 0033:0x7f17bd43ee5d
[   41.465454] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.465717] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.466046] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.466367] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.466677] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.466988] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.467303] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.467623]  </TASK>
[   41.467788] BUG: scheduling while atomic: repro/11124/0x00000000
[   41.468057] INFO: lockdep is turned off.
[   41.468232] Modules linked in:
[   41.468380] Preemption disabled at:
[   41.468383] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   41.468776] CPU: 1 UID: 0 PID: 11124 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.469177] Tainted: [D]=DIE, [W]=WARN
[   41.469360] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.469846] Call Trace:
[   41.469962]  <TASK>
[   41.470061]  dump_stack_lvl+0x121/0x150
[   41.470239]  ? do_task_dead+0x28/0x110
[   41.470531]  dump_stack+0x19/0x20
[   41.470795]  __schedule_bug+0x12d/0x180
[   41.470978]  __schedule+0x2401/0x33a0
[   41.471149]  ? do_task_dead+0xa8/0x110
[   41.471324]  ? rcu_is_watching+0x19/0xc0
[   41.471509]  ? lock_release+0x592/0x870
[   41.471691]  ? __pfx___schedule+0x10/0x10
[   41.471881]  ? debug_smp_processor_id+0x20/0x30
[   41.472250]  ? rcu_is_watching+0x19/0xc0
[   41.472482]  ? trace_irq_enable+0xe1/0x120
[   41.472675]  ? do_task_dead+0x4a/0x110
[   41.472849]  do_task_dead+0xe0/0x110
[   41.473016]  make_task_dead+0x384/0x3c0
[   41.473198]  rewind_stack_and_make_dead+0x16/0x20
[   41.473422] RIP: 0033:0x7f17bd43ee5d
[   41.473777] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.474362] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.475145] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.475806] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.476505] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.477183] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.477857] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.478601]  </TASK>
[   41.499550] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#64] PREEMPT SMP KASAN NOPTI
[   41.500830] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.501709] CPU: 1 UID: 0 PID: 11184 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.503205] Tainted: [D]=DIE, [W]=WARN
[   41.503666] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.505259] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.505975] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.508331] RSP: 0018:ffff8880260277d8 EFLAGS: 00010202
[   41.509097] RAX: dffffc0000000000 RBX: ffffea00004cf7c0 RCX: ffffffff81bbb789
[   41.510012] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004cf7d0
[   41.511034] RBP: ffff8880260277f8 R08: 0000000000000000 R09: ffffed10042e4f8c
[   41.512012] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.512967] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888021727c60
[   41.514050] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.515130] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.515952] CR2: 00007f17bd5fca50 CR3: 000000000fb9c006 CR4: 0000000000770ef0
[   41.517020] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.518103] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.518954] PKRU: 55555554
[   41.519300] Call Trace:
[   41.519633]  <TASK>
[   41.520045]  ? show_regs+0x6d/0x80
[   41.520494]  ? die_addr+0x45/0xb0
[   41.520927]  ? exc_general_protection+0x1ae/0x340
[   41.521759]  ? asm_exc_general_protection+0x2b/0x30
[   41.522403]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.523093]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.523876]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.524514]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.525356]  zap_huge_pmd+0x48e/0xd40
[   41.525946]  unmap_page_range+0x1ad6/0x4360
[   41.526512]  ? update_stack_state+0x2d9/0x610
[   41.527076]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.527709]  ? __pfx_unmap_page_range+0x10/0x10
[   41.528290]  unmap_single_vma+0x1ac/0x2d0
[   41.528802]  unmap_vmas+0x210/0x470
[   41.529255]  ? __pfx_unmap_vmas+0x10/0x10
[   41.529851]  ? __pfx_lock_release+0x10/0x10
[   41.530397]  ? lock_release+0x592/0x870
[   41.530881]  ? mas_next_slot+0x133a/0x1a50
[   41.531399]  ? __pfx_lock_release+0x10/0x10
[   41.531926]  ? mlock_drain_local+0x27f/0x4b0
[   41.532474]  exit_mmap+0x19e/0xb10
[   41.532916]  ? __pfx_exit_mmap+0x10/0x10
[   41.533417]  ? debug_smp_processor_id+0x20/0x30
[   41.534095]  ? trace_hardirqs_on+0x51/0x60
[   41.534618]  ? kasan_quarantine_put+0xa2/0x200
[   41.535183]  ? __khugepaged_exit+0x266/0x4c0
[   41.535791]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.536452]  __mmput+0xde/0x3a0
[   41.536856]  mmput+0x74/0x90
[   41.537227]  do_exit+0xa03/0x29f0
[   41.537658]  ? trace_hardirqs_on+0x51/0x60
[   41.538168]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.538933]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.539519]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.540003]  ? __pfx_do_exit+0x10/0x10
[   41.540382]  ? __audit_syscall_entry+0x39c/0x500
[   41.540843]  __x64_sys_exit+0x50/0x60
[   41.541209]  x64_sys_call+0x20c9/0x20d0
[   41.541588]  do_syscall_64+0x6d/0x140
[   41.541956]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.542510] RIP: 0033:0x7f17bd43ee5d
[   41.542954] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.543686] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.544590] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.545435] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.546274] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.547121] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.547965] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.548823]  </TASK>
[   41.549102] Modules linked in:
[   41.549637] ---[ end trace 0000000000000000 ]---
[   41.550206] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.550917] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.553195] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.553843] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.554699] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.555656] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.556516] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.557369] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.558217] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.559180] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.559921] CR2: 00007f17bd5fca50 CR3: 000000000fb9c006 CR4: 0000000000770ef0
[   41.560782] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.561643] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.562497] PKRU: 55555554
[   41.562838] note: repro[11184] exited with preempt_count 1
[   41.563528] Fixing recursive fault but reboot is needed!
[   41.564168] BUG: scheduling while atomic: repro/11184/0x00000000
[   41.564896] INFO: lockdep is turned off.
[   41.565380] Modules linked in:
[   41.565765] Preemption disabled at:
[   41.565771] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   41.566848] CPU: 1 UID: 0 PID: 11184 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.567816] Tainted: [D]=DIE, [W]=WARN
[   41.568174] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.569208] Call Trace:
[   41.569451]  <TASK>
[   41.569669]  dump_stack_lvl+0x121/0x150
[   41.570047]  ? do_task_dead+0x28/0x110
[   41.570417]  dump_stack+0x19/0x20
[   41.570756]  __schedule_bug+0x12d/0x180
[   41.571143]  __schedule+0x2401/0x33a0
[   41.571508]  ? do_task_dead+0xa8/0x110
[   41.571873]  ? rcu_is_watching+0x19/0xc0
[   41.572260]  ? lock_release+0x592/0x870
[   41.572643]  ? __pfx___schedule+0x10/0x10
[   41.573043]  ? debug_smp_processor_id+0x20/0x30
[   41.573488]  ? rcu_is_watching+0x19/0xc0
[   41.573876]  ? trace_irq_enable+0xe1/0x120
[   41.574281]  ? do_task_dead+0x4a/0x110
[   41.574640]  do_task_dead+0xe0/0x110
[   41.574995]  make_task_dead+0x384/0x3c0
[   41.575383]  rewind_stack_and_make_dead+0x16/0x20
[   41.575834] RIP: 0033:0x7f17bd43ee5d
[   41.576179] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.576747] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.577451] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.578137] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.578993] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.579847] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.580746] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.581641]  </TASK>
[   41.796579] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#65] PREEMPT SMP KASAN NOPTI
[   41.797680] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.798369] CPU: 0 UID: 0 PID: 11280 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.799203] Tainted: [D]=DIE, [W]=WARN
[   41.799707] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.800709] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.801243] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.802916] RSP: 0018:ffff88802624f7d8 EFLAGS: 00010202
[   41.803645] RAX: dffffc0000000000 RBX: ffffea00007b1f00 RCX: ffffffff81bbb789
[   41.804309] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007b1f10
[   41.804975] RBP: ffff88802624f7f8 R08: 0000000000000000 R09: ffffed10025fc89c
[   41.805620] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.806269] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012fe44e0
[   41.807111] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   41.808042] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.808568] CR2: 00007f17bd44e1f0 CR3: 000000002ab70006 CR4: 0000000000770ef0
[   41.809225] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.809880] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.810548] PKRU: 55555554
[   41.810819] Call Trace:
[   41.811059]  <TASK>
[   41.811287]  ? show_regs+0x6d/0x80
[   41.811665]  ? die_addr+0x45/0xb0
[   41.812001]  ? exc_general_protection+0x1ae/0x340
[   41.812462]  ? asm_exc_general_protection+0x2b/0x30
[   41.812952]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.813452]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.813946]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.814431]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.814907]  zap_huge_pmd+0x48e/0xd40
[   41.815503]  unmap_page_range+0x1ad6/0x4360
[   41.816065]  ? update_stack_state+0x2d9/0x610
[   41.816511]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.817015]  ? __pfx_unmap_page_range+0x10/0x10
[   41.817467]  unmap_single_vma+0x1ac/0x2d0
[   41.817870]  unmap_vmas+0x210/0x470
[   41.818230]  ? __pfx_unmap_vmas+0x10/0x10
[   41.818652]  ? __pfx_lock_release+0x10/0x10
[   41.819070]  ? lock_release+0x592/0x870
[   41.819449]  ? mas_next_slot+0x133a/0x1a50
[   41.819850]  ? __pfx_lock_release+0x10/0x10
[   41.820263]  ? mlock_drain_local+0x27f/0x4b0
[   41.820700]  exit_mmap+0x19e/0xb10
[   41.821061]  ? __pfx_exit_mmap+0x10/0x10
[   41.821460]  ? debug_smp_processor_id+0x20/0x30
[   41.821907]  ? trace_hardirqs_on+0x51/0x60
[   41.822322]  ? kasan_quarantine_put+0xa2/0x200
[   41.822762]  ? __khugepaged_exit+0x266/0x4c0
[   41.823199]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.824018]  __mmput+0xde/0x3a0
[   41.824404]  mmput+0x74/0x90
[   41.824694]  do_exit+0xa03/0x29f0
[   41.825047]  ? trace_hardirqs_on+0x51/0x60
[   41.825466]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.826069]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.826526]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.827027]  ? __pfx_do_exit+0x10/0x10
[   41.827407]  ? __audit_syscall_entry+0x39c/0x500
[   41.827859]  __x64_sys_exit+0x50/0x60
[   41.828227]  x64_sys_call+0x20c9/0x20d0
[   41.828626]  do_syscall_64+0x6d/0x140
[   41.829024]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.829532] RIP: 0033:0x7f17bd43ee5d
[   41.829882] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.830454] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.831159] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.831836] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.832495] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.833155] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.833827] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.834493]  </TASK>
[   41.834720] Modules linked in:
[   41.835259] ---[ end trace 0000000000000000 ]---
[   41.835868] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.836447] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.838139] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.838825] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.839560] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.840220] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.840874] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.841523] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.842173] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   41.842896] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.843478] CR2: 00007f17bd44e1f0 CR3: 000000002ab70006 CR4: 0000000000770ef0
[   41.844165] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.844854] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.845517] PKRU: 55555554
[   41.845797] note: repro[11280] exited with preempt_count 1
[   41.846311] Fixing recursive fault but reboot is needed!
[   41.846781] BUG: scheduling while atomic: repro/11280/0x00000000
[   41.847346] INFO: lockdep is turned off.
[   41.847735] Modules linked in:
[   41.848036] Preemption disabled at:
[   41.848042] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   41.848881] CPU: 0 UID: 0 PID: 11280 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.849717] Tainted: [D]=DIE, [W]=WARN
[   41.850106] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.851491] Call Trace:
[   41.851738]  <TASK>
[   41.851967]  dump_stack_lvl+0x121/0x150
[   41.852371]  ? do_task_dead+0x28/0x110
[   41.852735]  dump_stack+0x19/0x20
[   41.853064]  __schedule_bug+0x12d/0x180
[   41.853457]  __schedule+0x2401/0x33a0
[   41.853826]  ? do_task_dead+0xa8/0x110
[   41.854187]  ? rcu_is_watching+0x19/0xc0
[   41.854582]  ? lock_release+0x592/0x870
[   41.854956]  ? __pfx___schedule+0x10/0x10
[   41.855362]  ? debug_smp_processor_id+0x20/0x30
[   41.855830]  ? rcu_is_watching+0x19/0xc0
[   41.856233]  ? trace_irq_enable+0xe1/0x120
[   41.856648]  ? do_task_dead+0x4a/0x110
[   41.857015]  do_task_dead+0xe0/0x110
[   41.857370]  make_task_dead+0x384/0x3c0
[   41.857760]  rewind_stack_and_make_dead+0x16/0x20
[   41.858206] RIP: 0033:0x7f17bd43ee5d
[   41.858553] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.859101] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.859800] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.860462] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.861447] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.862117] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.862767] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.863422]  </TASK>
[   41.923359] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#66] PREEMPT SMP KASAN NOPTI
[   41.924483] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.925188] CPU: 1 UID: 0 PID: 11384 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.926055] Tainted: [D]=DIE, [W]=WARN
[   41.926433] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.927451] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.928088] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.930027] RSP: 0018:ffff8880271977d8 EFLAGS: 00010202
[   41.930526] RAX: dffffc0000000000 RBX: ffffea00003f5780 RCX: ffffffff81bbb789
[   41.931177] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003f5790
[   41.931861] RBP: ffff8880271977f8 R08: 0000000000000000 R09: ffffed1001d50c00
[   41.932863] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.933565] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800ea86000
[   41.934230] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.934954] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.935513] CR2: 00007f17bd5fca50 CR3: 0000000011772005 CR4: 0000000000770ef0
[   41.936180] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.937179] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.937865] PKRU: 55555554
[   41.938133] Call Trace:
[   41.938378]  <TASK>
[   41.938599]  ? show_regs+0x6d/0x80
[   41.938957]  ? die_addr+0x45/0xb0
[   41.939303]  ? exc_general_protection+0x1ae/0x340
[   41.939777]  ? asm_exc_general_protection+0x2b/0x30
[   41.940275]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.941070]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.941604]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.942115]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.942615]  zap_huge_pmd+0x48e/0xd40
[   41.942986]  unmap_page_range+0x1ad6/0x4360
[   41.943405]  ? update_stack_state+0x2d9/0x610
[   41.943861]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.944441]  ? __pfx_unmap_page_range+0x10/0x10
[   41.945149]  unmap_single_vma+0x1ac/0x2d0
[   41.945607]  unmap_vmas+0x210/0x470
[   41.945978]  ? __pfx_unmap_vmas+0x10/0x10
[   41.946379]  ? __pfx_lock_release+0x10/0x10
[   41.946789]  ? lock_release+0x592/0x870
[   41.947163]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.947644]  ? __pfx_lock_release+0x10/0x10
[   41.948059]  ? mlock_drain_local+0x27f/0x4b0
[   41.948483]  exit_mmap+0x19e/0xb10
[   41.948833]  ? __pfx_exit_mmap+0x10/0x10
[   41.949224]  ? debug_smp_processor_id+0x20/0x30
[   41.949769]  ? trace_hardirqs_on+0x51/0x60
[   41.950396]  ? kasan_quarantine_put+0xa2/0x200
[   41.950957]  ? __khugepaged_exit+0x266/0x4c0
[   41.951501]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.952159]  __mmput+0xde/0x3a0
[   41.952570]  mmput+0x74/0x90
[   41.952946]  do_exit+0xa03/0x29f0
[   41.953381]  ? trace_hardirqs_on+0x51/0x60
[   41.953896]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.954781]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.955383]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.955993]  ? __pfx_do_exit+0x10/0x10
[   41.956479]  ? __audit_syscall_entry+0x39c/0x500
[   41.957056]  __x64_sys_exit+0x50/0x60
[   41.957529]  x64_sys_call+0x20c9/0x20d0
[   41.958013]  do_syscall_64+0x6d/0x140
[   41.958577]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.959218] RIP: 0033:0x7f17bd43ee5d
[   41.959670] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.960405] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.961306] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.962146] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.963126] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.963977] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.964828] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   41.965685]  </TASK>
[   41.965969] Modules linked in:
[   41.966598] ---[ end trace 0000000000000000 ]---
[   41.967243] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.968083] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.970263] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   41.971054] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   41.971986] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   41.972799] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   41.973608] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.974415] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   41.975216] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   41.976642] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.977329] CR2: 00007f17bd5fca50 CR3: 0000000011772005 CR4: 0000000000770ef0
[   41.978226] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.979044] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.979959] PKRU: 55555554
[   41.980275] note: repro[11384] exited with preempt_count 1
[   41.980879] Fixing recursive fault but reboot is needed!
[   41.981465] BUG: scheduling while atomic: repro/11384/0x00000000
[   41.982519] INFO: lockdep is turned off.
[   41.982950] Modules linked in:
[   41.983309] Preemption disabled at:
[   41.983316] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   41.984412] CPU: 1 UID: 0 PID: 11384 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   41.985406] Tainted: [D]=DIE, [W]=WARN
[   41.985819] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.987312] Call Trace:
[   41.987582]  <TASK>
[   41.987818]  dump_stack_lvl+0x121/0x150
[   41.988237]  ? do_task_dead+0x28/0x110
[   41.988645]  dump_stack+0x19/0x20
[   41.989013]  __schedule_bug+0x12d/0x180
[   41.989445]  __schedule+0x2401/0x33a0
[   41.989848]  ? do_task_dead+0xa8/0x110
[   41.990456]  ? rcu_is_watching+0x19/0xc0
[   41.990952]  ? lock_release+0x592/0x870
[   41.991376]  ? __pfx___schedule+0x10/0x10
[   41.991815]  ? debug_smp_processor_id+0x20/0x30
[   41.992312]  ? rcu_is_watching+0x19/0xc0
[   41.992740]  ? trace_irq_enable+0xe1/0x120
[   41.993185]  ? do_task_dead+0x4a/0x110
[   41.993597]  do_task_dead+0xe0/0x110
[   41.993986]  make_task_dead+0x384/0x3c0
[   41.994615]  rewind_stack_and_make_dead+0x16/0x20
[   41.995171] RIP: 0033:0x7f17bd43ee5d
[   41.995543] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   41.996148] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.996895] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   41.997596] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.998301] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   41.999207] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   41.999908] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   42.000619]  </TASK>
[   42.064543] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#67] PREEMPT SMP KASAN NOPTI
[   42.065669] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   42.066386] CPU: 0 UID: 0 PID: 11430 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   42.067229] Tainted: [D]=DIE, [W]=WARN
[   42.067584] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.068758] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.069535] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.071212] RSP: 0018:ffff88801c1cf7d8 EFLAGS: 00010202
[   42.071713] RAX: dffffc0000000000 RBX: ffffea000042c100 RCX: ffffffff81bbb789
[   42.072384] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000042c110
[   42.073400] RBP: ffff88801c1cf7f8 R08: 0000000000000000 R09: ffffed10040988e4
[   42.074068] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   42.074739] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880204c4720
[   42.075390] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   42.076129] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.076665] CR2: 00007f17bd5fca50 CR3: 000000001452c005 CR4: 0000000000770ef0
[   42.077317] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.077974] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.078631] PKRU: 55555554
[   42.079055] Call Trace:
[   42.079442]  <TASK>
[   42.079729]  ? show_regs+0x6d/0x80
[   42.080084]  ? die_addr+0x45/0xb0
[   42.080433]  ? exc_general_protection+0x1ae/0x340
[   42.080909]  ? asm_exc_general_protection+0x2b/0x30
[   42.081390]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   42.081884]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.082386]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   42.082870]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.083669]  zap_huge_pmd+0x48e/0xd40
[   42.084069]  unmap_page_range+0x1ad6/0x4360
[   42.084517]  ? update_stack_state+0x2d9/0x610
[   42.084973]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   42.085459]  ? __pfx_unmap_page_range+0x10/0x10
[   42.085911]  unmap_single_vma+0x1ac/0x2d0
[   42.086324]  unmap_vmas+0x210/0x470
[   42.086683]  ? __pfx_unmap_vmas+0x10/0x10
[   42.087088]  ? __pfx_lock_release+0x10/0x10
[   42.087503]  ? lock_release+0x592/0x870
[   42.087884]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   42.088376]  ? __pfx_lock_release+0x10/0x10
[   42.088805]  ? mlock_drain_local+0x27f/0x4b0
[   42.089420]  exit_mmap+0x19e/0xb10
[   42.089945]  ? __pfx_exit_mmap+0x10/0x10
[   42.090355]  ? debug_smp_processor_id+0x20/0x30
[   42.090814]  ? trace_hardirqs_on+0x51/0x60
[   42.091223]  ? kasan_quarantine_put+0xa2/0x200
[   42.091677]  ? __khugepaged_exit+0x266/0x4c0
[   42.092098]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.092617]  __mmput+0xde/0x3a0
[   42.092944]  mmput+0x74/0x90
[   42.093352]  do_exit+0xa03/0x29f0
[   42.093869]  ? trace_hardirqs_on+0x51/0x60
[   42.094327]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   42.094959]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   42.095430]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   42.095897]  ? __pfx_do_exit+0x10/0x10
[   42.096266]  ? __audit_syscall_entry+0x39c/0x500
[   42.096715]  __x64_sys_exit+0x50/0x60
[   42.097086]  x64_sys_call+0x20c9/0x20d0
[   42.097471]  do_syscall_64+0x6d/0x140
[   42.097837]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.098329] RIP: 0033:0x7f17bd43ee5d
[   42.098686] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   42.099287] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.100318] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   42.100963] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.101623] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   42.102271] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   42.102924] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   42.103582]  </TASK>
[   42.103799] Modules linked in:
[   42.104266] ---[ end trace 0000000000000000 ]---
[   42.104724] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.105298] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.106987] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   42.107608] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   42.108603] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   42.109280] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   42.109953] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   42.110611] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   42.111306] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   42.112223] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.112793] CR2: 00007f17bd5fca50 CR3: 000000001452c005 CR4: 0000000000770ef0
[   42.113492] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.114160] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.114814] PKRU: 55555554
[   42.115091] note: repro[11430] exited with preempt_count 1
[   42.115708] Fixing recursive fault but reboot is needed!
[   42.116212] BUG: scheduling while atomic: repro/11430/0x00000000
[   42.117145] INFO: lockdep is turned off.
[   42.117542] Modules linked in:
[   42.117897] Preemption disabled at:
[   42.117904] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   42.118923] CPU: 0 UID: 0 PID: 11430 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   42.119794] Tainted: [D]=DIE, [W]=WARN
[   42.120323] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.121579] Call Trace:
[   42.121825]  <TASK>
[   42.122048]  dump_stack_lvl+0x121/0x150
[   42.122434]  ? do_task_dead+0x28/0x110
[   42.122817]  dump_stack+0x19/0x20
[   42.123157]  __schedule_bug+0x12d/0x180
[   42.123574]  __schedule+0x2401/0x33a0
[   42.123970]  ? do_task_dead+0xa8/0x110
[   42.124355]  ? rcu_is_watching+0x19/0xc0
[   42.124756]  ? lock_release+0x592/0x870
[   42.125140]  ? __pfx___schedule+0x10/0x10
[   42.125573]  ? debug_smp_processor_id+0x20/0x30
[   42.126049]  ? rcu_is_watching+0x19/0xc0
[   42.126454]  ? trace_irq_enable+0xe1/0x120
[   42.126867]  ? do_task_dead+0x4a/0x110
[   42.127242]  do_task_dead+0xe0/0x110
[   42.127612]  make_task_dead+0x384/0x3c0
[   42.128009]  rewind_stack_and_make_dead+0x16/0x20
[   42.128703] RIP: 0033:0x7f17bd43ee5d
[   42.129226] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   42.129819] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.130535] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   42.131204] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.131880] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   42.132543] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   42.133185] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   42.133864]  </TASK>
[   42.669023] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#68] PREEMPT SMP KASAN NOPTI
[   42.670223] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   42.670938] CPU: 1 UID: 0 PID: 11804 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   42.671788] Tainted: [D]=DIE, [W]=WARN
[   42.672143] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.673172] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.673762] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.675465] RSP: 0018:ffff8880205777d8 EFLAGS: 00010202
[   42.676000] RAX: dffffc0000000000 RBX: ffffea000050af40 RCX: ffffffff81bbb789
[   42.676666] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000050af50
[   42.677336] RBP: ffff8880205777f8 R08: 0000000000000000 R09: ffffed1002584950
[   42.677999] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   42.678649] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012c24a80
[   42.679302] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   42.680083] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.680626] CR2: 00007f17bd5fca50 CR3: 0000000020726003 CR4: 0000000000770ef0
[   42.681286] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.681945] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.682594] PKRU: 55555554
[   42.682860] Call Trace:
[   42.683101]  <TASK>
[   42.683316]  ? show_regs+0x6d/0x80
[   42.683661]  ? die_addr+0x45/0xb0
[   42.683999]  ? exc_general_protection+0x1ae/0x340
[   42.684468]  ? asm_exc_general_protection+0x2b/0x30
[   42.684944]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   42.685434]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.685919]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   42.686407]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.686906]  zap_huge_pmd+0x48e/0xd40
[   42.687283]  unmap_page_range+0x1ad6/0x4360
[   42.687702]  ? __pfx_lock_release+0x10/0x10
[   42.688110]  ? do_raw_spin_trylock+0xbf/0x190
[   42.688540]  ? __kasan_check_read+0x15/0x20
[   42.688953]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   42.689439]  ? __pfx_unmap_page_range+0x10/0x10
[   42.689891]  unmap_single_vma+0x1ac/0x2d0
[   42.690291]  unmap_vmas+0x210/0x470
[   42.690647]  ? __pfx_unmap_vmas+0x10/0x10
[   42.691046]  ? __pfx_lock_release+0x10/0x10
[   42.691453]  ? lock_release+0x592/0x870
[   42.691840]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   42.692316]  ? __pfx_lock_release+0x10/0x10
[   42.692724]  ? mlock_drain_local+0x27f/0x4b0
[   42.693150]  exit_mmap+0x19e/0xb10
[   42.693500]  ? __pfx_exit_mmap+0x10/0x10
[   42.693882]  ? debug_smp_processor_id+0x20/0x30
[   42.694340]  ? trace_hardirqs_on+0x51/0x60
[   42.694741]  ? kasan_quarantine_put+0xa2/0x200
[   42.695181]  ? __khugepaged_exit+0x266/0x4c0
[   42.695599]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.696112]  __mmput+0xde/0x3a0
[   42.696433]  mmput+0x74/0x90
[   42.696724]  do_exit+0xa03/0x29f0
[   42.697063]  ? trace_hardirqs_on+0x51/0x60
[   42.697475]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   42.698073]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   42.698539]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   42.699019]  ? __pfx_do_exit+0x10/0x10
[   42.699395]  ? __audit_syscall_entry+0x39c/0x500
[   42.699847]  __x64_sys_exit+0x50/0x60
[   42.700214]  x64_sys_call+0x20c9/0x20d0
[   42.700586]  do_syscall_64+0x6d/0x140
[   42.700949]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.701439] RIP: 0033:0x7f17bd43ee5d
[   42.701782] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   42.702348] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.703039] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   42.703695] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.704335] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   42.704992] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   42.705659] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   42.706380]  </TASK>
[   42.706604] Modules linked in:
[   42.707095] ---[ end trace 0000000000000000 ]---
[   42.707635] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.708200] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.709971] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   42.710498] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   42.711200] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   42.711963] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   42.712634] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   42.713292] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   42.713946] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   42.714797] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.715369] CR2: 00007f17bd5fca50 CR3: 0000000020726003 CR4: 0000000000770ef0
[   42.716170] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.716866] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.717579] PKRU: 55555554
[   42.717867] note: repro[11804] exited with preempt_count 1
[   42.718394] Fixing recursive fault but reboot is needed!
[   42.718917] BUG: scheduling while atomic: repro/11804/0x00000000
[   42.719573] INFO: lockdep is turned off.
[   42.719948] Modules linked in:
[   42.720248] Preemption disabled at:
[   42.720254] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   42.721099] CPU: 1 UID: 0 PID: 11804 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   42.722004] Tainted: [D]=DIE, [W]=WARN
[   42.722372] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.723433] Call Trace:
[   42.723673]  <TASK>
[   42.723884]  dump_stack_lvl+0x121/0x150
[   42.724270]  ? do_task_dead+0x28/0x110
[   42.724634]  dump_stack+0x19/0x20
[   42.724976]  __schedule_bug+0x12d/0x180
[   42.725381]  __schedule+0x2401/0x33a0
[   42.725772]  ? do_task_dead+0xa8/0x110
[   42.726179]  ? rcu_is_watching+0x19/0xc0
[   42.726579]  ? lock_release+0x592/0x870
[   42.726956]  ? __pfx___schedule+0x10/0x10
[   42.727357]  ? debug_smp_processor_id+0x20/0x30
[   42.727804]  ? rcu_is_watching+0x19/0xc0
[   42.728192]  ? trace_irq_enable+0xe1/0x120
[   42.728598]  ? do_task_dead+0x4a/0x110
[   42.728966]  do_task_dead+0xe0/0x110
[   42.729324]  make_task_dead+0x384/0x3c0
[   42.729716]  rewind_stack_and_make_dead+0x16/0x20
[   42.730174] RIP: 0033:0x7f17bd43ee5d
[   42.730523] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   42.731107] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.731813] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   42.732503] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.733152] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   42.733799] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   42.734438] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   42.735088]  </TASK>
[   43.238301] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#69] PREEMPT SMP KASAN NOPTI
[   43.239420] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.240121] CPU: 1 UID: 0 PID: 12191 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   43.240972] Tainted: [D]=DIE, [W]=WARN
[   43.241352] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.242505] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.243315] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.244996] RSP: 0018:ffff88802ab1f7d8 EFLAGS: 00010202
[   43.245492] RAX: dffffc0000000000 RBX: ffffea00004ab000 RCX: ffffffff81bbb789
[   43.246173] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004ab010
[   43.246831] RBP: ffff88802ab1f7f8 R08: 0000000000000000 R09: ffffed1003131168
[   43.247492] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.248153] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888018988b40
[   43.248804] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   43.249539] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.250093] CR2: 00007f17bd6e9ef8 CR3: 0000000020604002 CR4: 0000000000770ef0
[   43.250776] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.251427] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.252078] PKRU: 55555554
[   43.252358] Call Trace:
[   43.252642]  <TASK>
[   43.252978]  ? show_regs+0x6d/0x80
[   43.253519]  ? die_addr+0x45/0xb0
[   43.253875]  ? exc_general_protection+0x1ae/0x340
[   43.254356]  ? asm_exc_general_protection+0x2b/0x30
[   43.254851]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.255343]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.255837]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.256357]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.256868]  zap_huge_pmd+0x48e/0xd40
[   43.257244]  unmap_page_range+0x1ad6/0x4360
[   43.257663]  ? update_stack_state+0x2d9/0x610
[   43.258110]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.258603]  ? __pfx_unmap_page_range+0x10/0x10
[   43.259061]  unmap_single_vma+0x1ac/0x2d0
[   43.259468]  unmap_vmas+0x210/0x470
[   43.259824]  ? __pfx_unmap_vmas+0x10/0x10
[   43.260227]  ? __pfx_lock_release+0x10/0x10
[   43.260644]  ? lock_release+0x592/0x870
[   43.261184]  ? mas_next_slot+0x133a/0x1a50
[   43.261803]  ? __pfx_lock_release+0x10/0x10
[   43.262212]  ? mlock_drain_local+0x27f/0x4b0
[   43.262650]  exit_mmap+0x19e/0xb10
[   43.262999]  ? __pfx_exit_mmap+0x10/0x10
[   43.263403]  ? debug_smp_processor_id+0x20/0x30
[   43.263856]  ? trace_hardirqs_on+0x51/0x60
[   43.264305]  ? kasan_quarantine_put+0xa2/0x200
[   43.264758]  ? __khugepaged_exit+0x266/0x4c0
[   43.265180]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.265709]  __mmput+0xde/0x3a0
[   43.266032]  mmput+0x74/0x90
[   43.266328]  do_exit+0xa03/0x29f0
[   43.266662]  ? trace_hardirqs_on+0x51/0x60
[   43.267070]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.267670]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.268134]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.268634]  ? __pfx_do_exit+0x10/0x10
[   43.269020]  ? __audit_syscall_entry+0x39c/0x500
[   43.269476]  __x64_sys_exit+0x50/0x60
[   43.269844]  x64_sys_call+0x20c9/0x20d0
[   43.270223]  do_syscall_64+0x6d/0x140
[   43.270594]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.271092] RIP: 0033:0x7f17bd43ee5d
[   43.271645] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   43.272405] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.273114] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   43.273766] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.274415] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   43.275084] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   43.276082] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   43.277193]  </TASK>
[   43.277505] Modules linked in:
[   43.277999] ---[ end trace 0000000000000000 ]---
[   43.278574] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.279290] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.281481] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   43.282532] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   43.283702] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   43.284560] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   43.285411] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.286670] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   43.287756] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   43.288723] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.289386] CR2: 00007f17bd6e9ef8 CR3: 0000000020604002 CR4: 0000000000770ef0
[   43.290193] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.291002] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.291837] PKRU: 55555554
[   43.292177] note: repro[12191] exited with preempt_count 1
[   43.292806] Fixing recursive fault but reboot is needed!
[   43.293416] BUG: scheduling while atomic: repro/12191/0x00000000
[   43.294097] INFO: lockdep is turned off.
[   43.294552] Modules linked in:
[   43.294917] Preemption disabled at:
[   43.294923] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   43.295984] CPU: 1 UID: 0 PID: 12191 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   43.297032] Tainted: [D]=DIE, [W]=WARN
[   43.297455] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.298672] Call Trace:
[   43.298952]  <TASK>
[   43.299199]  dump_stack_lvl+0x121/0x150
[   43.299645]  ? do_task_dead+0x28/0x110
[   43.300067]  dump_stack+0x19/0x20
[   43.300455]  __schedule_bug+0x12d/0x180
[   43.300895]  __schedule+0x2401/0x33a0
[   43.301321]  ? do_task_dead+0xa8/0x110
[   43.301744]  ? rcu_is_watching+0x19/0xc0
[   43.302191]  ? lock_release+0x592/0x870
[   43.302631]  ? __pfx___schedule+0x10/0x10
[   43.303073]  ? debug_smp_processor_id+0x20/0x30
[   43.303565]  ? rcu_is_watching+0x19/0xc0
[   43.303991]  ? trace_irq_enable+0xe1/0x120
[   43.304441]  ? do_task_dead+0x4a/0x110
[   43.304844]  do_task_dead+0xe0/0x110
[   43.305231]  make_task_dead+0x384/0x3c0
[   43.305654]  rewind_stack_and_make_dead+0x16/0x20
[   43.306156] RIP: 0033:0x7f17bd43ee5d
[   43.306545] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   43.307175] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.307955] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   43.308689] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.309420] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   43.310148] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   43.310880] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   43.311623]  </TASK>
[   43.380630] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#70] PREEMPT SMP KASAN NOPTI
[   43.381819] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.382570] CPU: 0 UID: 0 PID: 12305 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   43.383422] Tainted: [D]=DIE, [W]=WARN
[   43.383778] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.384811] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.385372] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.387034] RSP: 0018:ffff88802708f7d8 EFLAGS: 00010202
[   43.387539] RAX: dffffc0000000000 RBX: ffffea000045f800 RCX: ffffffff81bbb789
[   43.388195] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000045f810
[   43.388856] RBP: ffff88802708f7f8 R08: 0000000000000000 R09: ffffed1001d50d5c
[   43.389550] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.390249] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800ea86ae0
[   43.390922] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   43.391693] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.392222] CR2: 00007f17bd6ea658 CR3: 0000000010986001 CR4: 0000000000770ef0
[   43.392901] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.393563] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.394266] PKRU: 55555554
[   43.394537] Call Trace:
[   43.394798]  <TASK>
[   43.395017]  ? show_regs+0x6d/0x80
[   43.395366]  ? die_addr+0x45/0xb0
[   43.395705]  ? exc_general_protection+0x1ae/0x340
[   43.396166]  ? asm_exc_general_protection+0x2b/0x30
[   43.396651]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.397145]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.397647]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.398142]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.398634]  zap_huge_pmd+0x48e/0xd40
[   43.399022]  unmap_page_range+0x1ad6/0x4360
[   43.399468]  ? update_stack_state+0x2d9/0x610
[   43.399919]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.400405]  ? __pfx_unmap_page_range+0x10/0x10
[   43.400862]  unmap_single_vma+0x1ac/0x2d0
[   43.401258]  unmap_vmas+0x210/0x470
[   43.401616]  ? __pfx_unmap_vmas+0x10/0x10
[   43.402011]  ? __pfx_lock_release+0x10/0x10
[   43.402418]  ? lock_release+0x592/0x870
[   43.402796]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.403276]  ? __pfx_lock_release+0x10/0x10
[   43.403698]  ? mlock_drain_local+0x27f/0x4b0
[   43.404118]  exit_mmap+0x19e/0xb10
[   43.404468]  ? __pfx_exit_mmap+0x10/0x10
[   43.404858]  ? debug_smp_processor_id+0x20/0x30
[   43.405312]  ? trace_hardirqs_on+0x51/0x60
[   43.405716]  ? kasan_quarantine_put+0xa2/0x200
[   43.406153]  ? __khugepaged_exit+0x266/0x4c0
[   43.406577]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.407092]  __mmput+0xde/0x3a0
[   43.407414]  mmput+0x74/0x90
[   43.407707]  do_exit+0xa03/0x29f0
[   43.408055]  ? trace_hardirqs_on+0x51/0x60
[   43.408474]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.409075]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.409543]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.410024]  ? __pfx_do_exit+0x10/0x10
[   43.410398]  ? __audit_syscall_entry+0x39c/0x500
[   43.410846]  __x64_sys_exit+0x50/0x60
[   43.411209]  x64_sys_call+0x20c9/0x20d0
[   43.411598]  do_syscall_64+0x6d/0x140
[   43.411966]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.412458] RIP: 0033:0x7f17bd43ee5d
[   43.412802] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   43.413368] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.414098] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   43.414754] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.415410] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   43.416075] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   43.416752] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   43.417422]  </TASK>
[   43.417640] Modules linked in:
[   43.418162] ---[ end trace 0000000000000000 ]---
[   43.418644] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.419204] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.420985] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   43.421504] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   43.422164] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   43.422829] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   43.423593] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.424270] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   43.424940] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   43.425678] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.426224] CR2: 00007f17bd6ea658 CR3: 0000000010986001 CR4: 0000000000770ef0
[   43.426933] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.427687] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.428365] PKRU: 55555554
[   43.428631] note: repro[12305] exited with preempt_count 1
[   43.429143] Fixing recursive fault but reboot is needed!
[   43.429649] BUG: scheduling while atomic: repro/12305/0x00000000
[   43.430216] INFO: lockdep is turned off.
[   43.430656] Modules linked in:
[   43.430966] Preemption disabled at:
[   43.430971] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   43.431903] CPU: 0 UID: 0 PID: 12305 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   43.432775] Tainted: [D]=DIE, [W]=WARN
[   43.433133] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.434180] Call Trace:
[   43.434426]  <TASK>
[   43.434642]  dump_stack_lvl+0x121/0x150
[   43.435022]  ? do_task_dead+0x28/0x110
[   43.435393]  dump_stack+0x19/0x20
[   43.435744]  __schedule_bug+0x12d/0x180
[   43.436145]  __schedule+0x2401/0x33a0
[   43.436522]  ? do_task_dead+0xa8/0x110
[   43.436907]  ? rcu_is_watching+0x19/0xc0
[   43.437312]  ? lock_release+0x592/0x870
[   43.437692]  ? __pfx___schedule+0x10/0x10
[   43.438094]  ? debug_smp_processor_id+0x20/0x30
[   43.438549]  ? rcu_is_watching+0x19/0xc0
[   43.438939]  ? trace_irq_enable+0xe1/0x120
[   43.439350]  ? do_task_dead+0x4a/0x110
[   43.439724]  do_task_dead+0xe0/0x110
[   43.440092]  make_task_dead+0x384/0x3c0
[   43.440487]  rewind_stack_and_make_dead+0x16/0x20
[   43.440963] RIP: 0033:0x7f17bd43ee5d
[   43.441327] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   43.441909] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.442650] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   43.443343] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.444019] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   43.444712] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   43.445424] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   43.446147]  </TASK>
[   43.603769] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#71] PREEMPT SMP KASAN NOPTI
[   43.605216] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.606124] CPU: 1 UID: 0 PID: 12373 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   43.607219] Tainted: [D]=DIE, [W]=WARN
[   43.607681] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.609022] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.609730] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.611898] RSP: 0018:ffff8880170b77d8 EFLAGS: 00010202
[   43.612534] RAX: dffffc0000000000 RBX: ffffea0000463d40 RCX: ffffffff81bbb789
[   43.613382] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000463d50
[   43.614224] RBP: ffff8880170b77f8 R08: 0000000000000000 R09: ffffed1002626f14
[   43.615072] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.615921] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880131378a0
[   43.616770] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   43.617726] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.618424] CR2: 00007f17bd70ffa8 CR3: 000000001f4a8004 CR4: 0000000000770ef0
[   43.619269] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.620117] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.620963] PKRU: 55555554
[   43.621303] Call Trace:
[   43.621611]  <TASK>
[   43.621883]  ? show_regs+0x6d/0x80
[   43.622325]  ? die_addr+0x45/0xb0
[   43.622754]  ? exc_general_protection+0x1ae/0x340
[   43.623346]  ? asm_exc_general_protection+0x2b/0x30
[   43.623954]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.624586]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.625215]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.625844]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.626479]  zap_huge_pmd+0x48e/0xd40
[   43.626947]  unmap_page_range+0x1ad6/0x4360
[   43.627476]  ? update_stack_state+0x2d9/0x610
[   43.628037]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.628661]  ? __pfx_unmap_page_range+0x10/0x10
[   43.629233]  unmap_single_vma+0x1ac/0x2d0
[   43.629744]  unmap_vmas+0x210/0x470
[   43.630192]  ? __pfx_unmap_vmas+0x10/0x10
[   43.630695]  ? __pfx_lock_release+0x10/0x10
[   43.631212]  ? lock_release+0x592/0x870
[   43.631692]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.632299]  ? __pfx_lock_release+0x10/0x10
[   43.632821]  ? mlock_drain_local+0x27f/0x4b0
[   43.633360]  exit_mmap+0x19e/0xb10
[   43.633799]  ? __pfx_exit_mmap+0x10/0x10
[   43.634294]  ? debug_smp_processor_id+0x20/0x30
[   43.634870]  ? trace_hardirqs_on+0x51/0x60
[   43.635389]  ? kasan_quarantine_put+0xa2/0x200
[   43.635945]  ? __khugepaged_exit+0x266/0x4c0
[   43.636486]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.637141]  __mmput+0xde/0x3a0
[   43.637551]  mmput+0x74/0x90
[   43.637924]  do_exit+0xa03/0x29f0
[   43.638357]  ? trace_hardirqs_on+0x51/0x60
[   43.638870]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.639637]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.640232]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.640842]  ? __pfx_do_exit+0x10/0x10
[   43.641321]  ? __audit_syscall_entry+0x39c/0x500
[   43.641894]  __x64_sys_exit+0x50/0x60
[   43.642362]  x64_sys_call+0x20c9/0x20d0
[   43.642839]  do_syscall_64+0x6d/0x140
[   43.643306]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.643927] RIP: 0033:0x7f17bd43ee5d
[   43.644376] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   43.645104] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.646004] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   43.646849] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.647694] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   43.648538] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   43.649384] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   43.650234]  </TASK>
[   43.650516] Modules linked in:
[   43.651080] ---[ end trace 0000000000000000 ]---
[   43.651733] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.652450] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.654626] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   43.655262] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   43.656221] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   43.657077] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   43.657928] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.658779] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   43.659797] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   43.660878] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.661574] CR2: 00007f17bd70ffa8 CR3: 000000001f4a8004 CR4: 0000000000770ef0
[   43.662428] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.663287] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.664246] PKRU: 55555554
[   43.664596] note: repro[12373] exited with preempt_count 1
[   43.665254] Fixing recursive fault but reboot is needed!
[   43.665972] BUG: scheduling while atomic: repro/12373/0x00000000
[   43.666694] INFO: lockdep is turned off.
[   43.667166] Modules linked in:
[   43.667594] Preemption disabled at:
[   43.667601] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   43.668746] CPU: 1 UID: 0 PID: 12373 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   43.669898] Tainted: [D]=DIE, [W]=WARN
[   43.670358] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.671752] Call Trace:
[   43.672060]  <TASK>
[   43.672336]  dump_stack_lvl+0x121/0x150
[   43.672899]  ? do_task_dead+0x28/0x110
[   43.673371]  dump_stack+0x19/0x20
[   43.673792]  __schedule_bug+0x12d/0x180
[   43.674380]  __schedule+0x2401/0x33a0
[   43.674882]  ? do_task_dead+0xa8/0x110
[   43.675354]  ? rcu_is_watching+0x19/0xc0
[   43.676020]  ? lock_release+0x592/0x870
[   43.676555]  ? __pfx___schedule+0x10/0x10
[   43.677060]  ? debug_smp_processor_id+0x20/0x30
[   43.677653]  ? rcu_is_watching+0x19/0xc0
[   43.678217]  ? trace_irq_enable+0xe1/0x120
[   43.678736]  ? do_task_dead+0x4a/0x110
[   43.679202]  do_task_dead+0xe0/0x110
[   43.679724]  make_task_dead+0x384/0x3c0
[   43.680211]  rewind_stack_and_make_dead+0x16/0x20
[   43.680798] RIP: 0033:0x7f17bd43ee5d
[   43.681273] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   43.682037] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.682975] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   43.683827] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.684684] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   43.685542] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   43.686323] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   43.687201]  </TASK>
[   44.037052] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#72] PREEMPT SMP KASAN NOPTI
[   44.038170] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.038908] CPU: 1 UID: 0 PID: 12652 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.040362] Tainted: [D]=DIE, [W]=WARN
[   44.040872] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.042213] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.042928] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.045094] RSP: 0018:ffff88801110f7d8 EFLAGS: 00010202
[   44.046060] RAX: dffffc0000000000 RBX: ffffea0000980340 RCX: ffffffff81bbb789
[   44.047059] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000980350
[   44.047910] RBP: ffff88801110f7f8 R08: 0000000000000000 R09: ffffed10027692c0
[   44.048758] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   44.049607] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013b49600
[   44.050459] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   44.051447] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.052108] CR2: 00007fffef6677b8 CR3: 000000001dd98006 CR4: 0000000000770ef0
[   44.052916] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.053724] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.054528] PKRU: 55555554
[   44.054852] Call Trace:
[   44.055155]  <TASK>
[   44.055590]  ? show_regs+0x6d/0x80
[   44.056226]  ? die_addr+0x45/0xb0
[   44.056645]  ? exc_general_protection+0x1ae/0x340
[   44.057210]  ? asm_exc_general_protection+0x2b/0x30
[   44.057797]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.058400]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.058984]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.059745]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.060496]  zap_huge_pmd+0x48e/0xd40
[   44.060926]  unmap_page_range+0x1ad6/0x4360
[   44.061404]  ? __pfx_lock_release+0x10/0x10
[   44.061874]  ? do_raw_spin_trylock+0xbf/0x190
[   44.062372]  ? __kasan_check_read+0x15/0x20
[   44.062851]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.063415]  ? __pfx_unmap_page_range+0x10/0x10
[   44.063933]  unmap_single_vma+0x1ac/0x2d0
[   44.064399]  unmap_vmas+0x210/0x470
[   44.064807]  ? __pfx_unmap_vmas+0x10/0x10
[   44.065241]  ? __pfx_lock_release+0x10/0x10
[   44.065694]  ? lock_release+0x592/0x870
[   44.066304]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.066862]  ? __pfx_lock_release+0x10/0x10
[   44.067324]  ? mlock_drain_local+0x27f/0x4b0
[   44.067790]  exit_mmap+0x19e/0xb10
[   44.068171]  ? __pfx_exit_mmap+0x10/0x10
[   44.068607]  ? debug_smp_processor_id+0x20/0x30
[   44.069106]  ? trace_hardirqs_on+0x51/0x60
[   44.069558]  ? kasan_quarantine_put+0xa2/0x200
[   44.070039]  ? __khugepaged_exit+0x266/0x4c0
[   44.070508]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.071073]  __mmput+0xde/0x3a0
[   44.071431]  mmput+0x74/0x90
[   44.071756]  do_exit+0xa03/0x29f0
[   44.072274]  ? trace_hardirqs_on+0x51/0x60
[   44.072812]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.073449]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.073942]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.074448]  ? __pfx_do_exit+0x10/0x10
[   44.074843]  ? __audit_syscall_entry+0x39c/0x500
[   44.075322]  __x64_sys_exit+0x50/0x60
[   44.075709]  x64_sys_call+0x20c9/0x20d0
[   44.076106]  do_syscall_64+0x6d/0x140
[   44.076494]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.077008] RIP: 0033:0x7f17bd43ee5d
[   44.077381] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.077963] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.078940] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.079613] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.080283] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.080949] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.081619] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.082294]  </TASK>
[   44.082517] Modules linked in:
[   44.082929] ---[ end trace 0000000000000000 ]---
[   44.083384] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.083957] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.085919] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   44.086402] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   44.087041] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   44.087792] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   44.088503] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.089137] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   44.089777] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   44.090468] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.090966] CR2: 00007fffef6677b8 CR3: 000000001dd98006 CR4: 0000000000770ef0
[   44.091602] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.092417] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.093031] PKRU: 55555554
[   44.093284] note: repro[12652] exited with preempt_count 1
[   44.093763] Fixing recursive fault but reboot is needed!
[   44.094223] BUG: scheduling while atomic: repro/12652/0x00000000
[   44.094744] INFO: lockdep is turned off.
[   44.095077] Modules linked in:
[   44.095346] Preemption disabled at:
[   44.095351] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   44.096127] CPU: 1 UID: 0 PID: 12652 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.096895] Tainted: [D]=DIE, [W]=WARN
[   44.097213] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.098145] Call Trace:
[   44.098462]  <TASK>
[   44.098655]  dump_stack_lvl+0x121/0x150
[   44.098996]  ? do_task_dead+0x28/0x110
[   44.099337]  dump_stack+0x19/0x20
[   44.099635]  __schedule_bug+0x12d/0x180
[   44.099977]  __schedule+0x2401/0x33a0
[   44.100306]  ? do_task_dead+0xa8/0x110
[   44.100623]  ? rcu_is_watching+0x19/0xc0
[   44.100957]  ? lock_release+0x592/0x870
[   44.101286]  ? __pfx___schedule+0x10/0x10
[   44.101630]  ? debug_smp_processor_id+0x20/0x30
[   44.102174]  ? rcu_is_watching+0x19/0xc0
[   44.102643]  ? trace_irq_enable+0xe1/0x120
[   44.102999]  ? do_task_dead+0x4a/0x110
[   44.103323]  do_task_dead+0xe0/0x110
[   44.103629]  make_task_dead+0x384/0x3c0
[   44.103959]  rewind_stack_and_make_dead+0x16/0x20
[   44.104350] RIP: 0033:0x7f17bd43ee5d
[   44.104639] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.105114] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.105699] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.106246] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.106795] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.107344] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.107894] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.108451]  </TASK>
[   44.160310] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#73] PREEMPT SMP KASAN NOPTI
[   44.161415] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.162099] CPU: 0 UID: 0 PID: 12748 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.163206] Tainted: [D]=DIE, [W]=WARN
[   44.163564] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.164586] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.165141] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.167243] RSP: 0018:ffff8880166377d8 EFLAGS: 00010202
[   44.167760] RAX: dffffc0000000000 RBX: ffffea000050ad00 RCX: ffffffff81bbb789
[   44.168429] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000050ad10
[   44.169083] RBP: ffff8880166377f8 R08: 0000000000000000 R09: ffffed100259a18c
[   44.169756] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   44.170588] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012cd0c60
[   44.171420] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   44.172145] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.172672] CR2: 00007fffef6677b8 CR3: 000000001f5d0005 CR4: 0000000000770ef0
[   44.173329] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.173996] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.174949] PKRU: 55555554
[   44.175297] Call Trace:
[   44.175528]  <TASK>
[   44.175753]  ? show_regs+0x6d/0x80
[   44.176127]  ? die_addr+0x45/0xb0
[   44.176475]  ? exc_general_protection+0x1ae/0x340
[   44.176938]  ? asm_exc_general_protection+0x2b/0x30
[   44.177426]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.177930]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.178430]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.178918]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.179426]  zap_huge_pmd+0x48e/0xd40
[   44.179812]  unmap_page_range+0x1ad6/0x4360
[   44.180228]  ? __pfx_lock_release+0x10/0x10
[   44.180840]  ? do_raw_spin_trylock+0xbf/0x190
[   44.181456]  ? __kasan_check_read+0x15/0x20
[   44.181897]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.182402]  ? __pfx_unmap_page_range+0x10/0x10
[   44.182860]  unmap_single_vma+0x1ac/0x2d0
[   44.183263]  unmap_vmas+0x210/0x470
[   44.183633]  ? __pfx_unmap_vmas+0x10/0x10
[   44.184046]  ? __pfx_lock_release+0x10/0x10
[   44.184508]  ? lock_release+0x592/0x870
[   44.185097]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.185702]  ? __pfx_lock_release+0x10/0x10
[   44.186137]  ? mlock_drain_local+0x27f/0x4b0
[   44.186568]  exit_mmap+0x19e/0xb10
[   44.186918]  ? __pfx_exit_mmap+0x10/0x10
[   44.187302]  ? debug_smp_processor_id+0x20/0x30
[   44.187753]  ? trace_hardirqs_on+0x51/0x60
[   44.188168]  ? kasan_quarantine_put+0xa2/0x200
[   44.188613]  ? __khugepaged_exit+0x266/0x4c0
[   44.189268]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.189901]  __mmput+0xde/0x3a0
[   44.190229]  mmput+0x74/0x90
[   44.190543]  do_exit+0xa03/0x29f0
[   44.190894]  ? trace_hardirqs_on+0x51/0x60
[   44.191305]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.191905]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.192379]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.192855]  ? __pfx_do_exit+0x10/0x10
[   44.193450]  ? __audit_syscall_entry+0x39c/0x500
[   44.194001]  __x64_sys_exit+0x50/0x60
[   44.194374]  x64_sys_call+0x20c9/0x20d0
[   44.194762]  do_syscall_64+0x6d/0x140
[   44.195132]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.195622] RIP: 0033:0x7f17bd43ee5d
[   44.195967] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.196548] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.197249] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.197909] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.198639] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.199319] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.199984] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.200681]  </TASK>
[   44.200911] Modules linked in:
[   44.201402] ---[ end trace 0000000000000000 ]---
[   44.201860] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.202421] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.204622] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   44.205135] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   44.205806] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   44.206477] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   44.207145] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.208302] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   44.208986] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   44.209737] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.210282] CR2: 00007fffef6677b8 CR3: 000000001f5d0005 CR4: 0000000000770ef0
[   44.210942] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.211674] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.212344] PKRU: 55555554
[   44.212618] note: repro[12748] exited with preempt_count 1
[   44.213137] Fixing recursive fault but reboot is needed!
[   44.213645] BUG: scheduling while atomic: repro/12748/0x00000000
[   44.214206] INFO: lockdep is turned off.
[   44.214576] Modules linked in:
[   44.214892] Preemption disabled at:
[   44.214898] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   44.215969] CPU: 0 UID: 0 PID: 12748 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.216999] Tainted: [D]=DIE, [W]=WARN
[   44.217368] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.218419] Call Trace:
[   44.218665]  <TASK>
[   44.218895]  dump_stack_lvl+0x121/0x150
[   44.219305]  ? do_task_dead+0x28/0x110
[   44.219689]  dump_stack+0x19/0x20
[   44.220038]  __schedule_bug+0x12d/0x180
[   44.220428]  __schedule+0x2401/0x33a0
[   44.220803]  ? do_task_dead+0xa8/0x110
[   44.221192]  ? rcu_is_watching+0x19/0xc0
[   44.221602]  ? lock_release+0x592/0x870
[   44.221990]  ? __pfx___schedule+0x10/0x10
[   44.222401]  ? debug_smp_processor_id+0x20/0x30
[   44.222850]  ? rcu_is_watching+0x19/0xc0
[   44.223255]  ? trace_irq_enable+0xe1/0x120
[   44.223678]  ? do_task_dead+0x4a/0x110
[   44.224336]  do_task_dead+0xe0/0x110
[   44.224815]  make_task_dead+0x384/0x3c0
[   44.225214]  rewind_stack_and_make_dead+0x16/0x20
[   44.225683] RIP: 0033:0x7f17bd43ee5d
[   44.226039] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.226618] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.227322] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.228180] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.229110] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.229793] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.230462] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.231154]  </TASK>
[   44.629627] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#74] PREEMPT SMP KASAN NOPTI
[   44.630753] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.631483] CPU: 1 UID: 0 PID: 13021 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.632582] Tainted: [D]=DIE, [W]=WARN
[   44.633042] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.634381] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.635088] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.637254] RSP: 0018:ffff8880140df7d8 EFLAGS: 00010202
[   44.637894] RAX: dffffc0000000000 RBX: ffffea0000859dc0 RCX: ffffffff81bbb789
[   44.638745] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000859dd0
[   44.639594] RBP: ffff8880140df7f8 R08: 0000000000000000 R09: ffffed100356043c
[   44.640442] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   44.641289] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ab021e0
[   44.642132] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   44.643089] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.643785] CR2: 00007fffef6677b8 CR3: 000000001abd0003 CR4: 0000000000770ef0
[   44.644638] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.645485] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.646336] PKRU: 55555554
[   44.646672] Call Trace:
[   44.646979]  <TASK>
[   44.647250]  ? show_regs+0x6d/0x80
[   44.647698]  ? die_addr+0x45/0xb0
[   44.648082]  ? exc_general_protection+0x1ae/0x340
[   44.648689]  ? asm_exc_general_protection+0x2b/0x30
[   44.649303]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.649931]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.650563]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.651194]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.651828]  zap_huge_pmd+0x48e/0xd40
[   44.652306]  unmap_page_range+0x1ad6/0x4360
[   44.652825]  ? __pfx_lock_release+0x10/0x10
[   44.653349]  ? do_raw_spin_trylock+0xbf/0x190
[   44.653895]  ? __kasan_check_read+0x15/0x20
[   44.654426]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.655046]  ? __pfx_unmap_page_range+0x10/0x10
[   44.655624]  unmap_single_vma+0x1ac/0x2d0
[   44.656129]  unmap_vmas+0x210/0x470
[   44.656582]  ? __pfx_unmap_vmas+0x10/0x10
[   44.657082]  ? __pfx_lock_release+0x10/0x10
[   44.657604]  ? lock_release+0x592/0x870
[   44.658084]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.658693]  ? __pfx_lock_release+0x10/0x10
[   44.659217]  ? mlock_drain_local+0x27f/0x4b0
[   44.659760]  exit_mmap+0x19e/0xb10
[   44.660201]  ? __pfx_exit_mmap+0x10/0x10
[   44.660699]  ? debug_smp_processor_id+0x20/0x30
[   44.661270]  ? trace_hardirqs_on+0x51/0x60
[   44.661791]  ? kasan_quarantine_put+0xa2/0x200
[   44.662352]  ? __khugepaged_exit+0x266/0x4c0
[   44.662889]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.663553]  __mmput+0xde/0x3a0
[   44.663959]  mmput+0x74/0x90
[   44.664337]  do_exit+0xa03/0x29f0
[   44.664760]  ? trace_hardirqs_on+0x51/0x60
[   44.665274]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.666046]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.666648]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.667256]  ? __pfx_do_exit+0x10/0x10
[   44.667740]  ? __audit_syscall_entry+0x39c/0x500
[   44.668322]  __x64_sys_exit+0x50/0x60
[   44.668788]  x64_sys_call+0x20c9/0x20d0
[   44.669267]  do_syscall_64+0x6d/0x140
[   44.669740]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.670375] RIP: 0033:0x7f17bd43ee5d
[   44.670818] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.671554] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.672457] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.673306] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.674152] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.674999] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.675847] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.676708]  </TASK>
[   44.676989] Modules linked in:
[   44.677568] ---[ end trace 0000000000000000 ]---
[   44.678141] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.678855] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.681127] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   44.681774] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   44.682634] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   44.683587] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   44.684448] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.685306] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   44.686163] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   44.687125] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.687916] CR2: 00007fffef6677b8 CR3: 000000001abd0003 CR4: 0000000000770ef0
[   44.688784] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.689644] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.690499] PKRU: 55555554
[   44.690839] note: repro[13021] exited with preempt_count 1
[   44.691563] Fixing recursive fault but reboot is needed!
[   44.692171] check_preemption_disabled: 10 callbacks suppressed
[   44.692181] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13021
[   44.693720] caller is debug_smp_processor_id+0x20/0x30
[   44.694331] CPU: 1 UID: 0 PID: 13021 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.695378] Tainted: [D]=DIE, [W]=WARN
[   44.695814] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.697089] Call Trace:
[   44.697389]  <TASK>
[   44.697648]  dump_stack_lvl+0x121/0x150
[   44.698110]  dump_stack+0x19/0x20
[   44.698517]  check_preemption_disabled+0x168/0x180
[   44.699068]  debug_smp_processor_id+0x20/0x30
[   44.699565]  __schedule+0xa0/0x33a0
[   44.699969]  ? do_task_dead+0xa8/0x110
[   44.700399]  ? debug_smp_processor_id+0x20/0x30
[   44.700915]  ? rcu_is_watching+0x19/0xc0
[   44.701366]  ? lock_release+0x592/0x870
[   44.701802]  ? __pfx___schedule+0x10/0x10
[   44.702262]  ? debug_smp_processor_id+0x20/0x30
[   44.702780]  ? rcu_is_watching+0x19/0xc0
[   44.703228]  ? trace_irq_enable+0xe1/0x120
[   44.703698]  ? do_task_dead+0x4a/0x110
[   44.704123]  do_task_dead+0xe0/0x110
[   44.704537]  make_task_dead+0x384/0x3c0
[   44.704979]  rewind_stack_and_make_dead+0x16/0x20
[   44.705508] RIP: 0033:0x7f17bd43ee5d
[   44.705911] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.706577] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.707370] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.708103] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.708837] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.709569] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.710302] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.711045]  </TASK>
[   44.711390] BUG: scheduling while atomic: repro/13021/0x00000000
[   44.712039] INFO: lockdep is turned off.
[   44.712469] Modules linked in:
[   44.712792] Preemption disabled at:
[   44.712798] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   44.713684] CPU: 1 UID: 0 PID: 13021 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.714593] Tainted: [D]=DIE, [W]=WARN
[   44.714969] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.716076] Call Trace:
[   44.716336]  <TASK>
[   44.716562]  dump_stack_lvl+0x121/0x150
[   44.716962]  ? do_task_dead+0x28/0x110
[   44.717353]  dump_stack+0x19/0x20
[   44.717712]  __schedule_bug+0x12d/0x180
[   44.718119]  __schedule+0x2401/0x33a0
[   44.718504]  ? do_task_dead+0xa8/0x110
[   44.718875]  ? rcu_is_watching+0x19/0xc0
[   44.719265]  ? lock_release+0x592/0x870
[   44.719651]  ? __pfx___schedule+0x10/0x10
[   44.720051]  ? debug_smp_processor_id+0x20/0x30
[   44.720503]  ? rcu_is_watching+0x19/0xc0
[   44.720892]  ? trace_irq_enable+0xe1/0x120
[   44.721185] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#75] PREEMPT SMP KASAN NOPTI
[   44.721303]  ? do_task_dead+0x4a/0x110
[   44.722462] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.722817]  do_task_dead+0xe0/0x110
[   44.723528] CPU: 0 UID: 0 PID: 13073 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.723865]  make_task_dead+0x384/0x3c0
[   44.725095] Tainted: [D]=DIE, [W]=WARN
[   44.725458]  rewind_stack_and_make_dead+0x16/0x20
[   44.725815] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.726237] RIP: 0033:0x7f17bd43ee5d
[   44.727235] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.727564] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.728077] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.728628] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.730251] RSP: 0018:ffff88802a94f7d8 EFLAGS: 00010202
[   44.730929] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.730940] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.731408] RAX: dffffc0000000000 RBX: ffffea00009c5fc0 RCX: ffffffff81bbb789
[   44.732014] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.732643] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c5fd0
[   44.733250] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.733891] RBP: ffff88802a94f7f8 R08: 0000000000000000 R09: ffffed10025fc5ec
[   44.734501] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.735237] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.735858]  </TASK>
[   44.736493] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012fe2f60
[   44.737965] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   44.738697] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.739248] CR2: 00007f17bd6e9e28 CR3: 00000000216a0005 CR4: 0000000000770ef0
[   44.739916] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.740568] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.741212] PKRU: 55555554
[   44.741484] Call Trace:
[   44.741875]  <TASK>
[   44.742207]  ? show_regs+0x6d/0x80
[   44.742656]  ? die_addr+0x45/0xb0
[   44.743002]  ? exc_general_protection+0x1ae/0x340
[   44.743471]  ? asm_exc_general_protection+0x2b/0x30
[   44.743955]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.744449]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.744941]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.745437]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.745976]  zap_huge_pmd+0x48e/0xd40
[   44.746553]  unmap_page_range+0x1ad6/0x4360
[   44.746996]  ? update_stack_state+0x2d9/0x610
[   44.747461]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.747947]  ? __pfx_unmap_page_range+0x10/0x10
[   44.748405]  unmap_single_vma+0x1ac/0x2d0
[   44.748805]  unmap_vmas+0x210/0x470
[   44.749161]  ? __pfx_unmap_vmas+0x10/0x10
[   44.749564]  ? __pfx_lock_release+0x10/0x10
[   44.749971]  ? lock_release+0x592/0x870
[   44.750586]  ? mas_next_slot+0x133a/0x1a50
[   44.751077]  ? __pfx_lock_release+0x10/0x10
[   44.751538]  ? mlock_drain_local+0x27f/0x4b0
[   44.751992]  exit_mmap+0x19e/0xb10
[   44.752367]  ? __pfx_exit_mmap+0x10/0x10
[   44.752767]  ? debug_smp_processor_id+0x20/0x30
[   44.753234]  ? trace_hardirqs_on+0x51/0x60
[   44.753654]  ? kasan_quarantine_put+0xa2/0x200
[   44.754109]  ? __khugepaged_exit+0x266/0x4c0
[   44.754552]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.755071]  __mmput+0xde/0x3a0
[   44.755414]  mmput+0x74/0x90
[   44.755715]  do_exit+0xa03/0x29f0
[   44.756107]  ? trace_hardirqs_on+0x51/0x60
[   44.756775]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.757467]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.757930]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.758415]  ? __pfx_do_exit+0x10/0x10
[   44.758797]  ? __audit_syscall_entry+0x39c/0x500
[   44.759262]  __x64_sys_exit+0x50/0x60
[   44.759644]  x64_sys_call+0x20c9/0x20d0
[   44.760034]  do_syscall_64+0x6d/0x140
[   44.760423]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.760918] RIP: 0033:0x7f17bd43ee5d
[   44.761281] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.761874] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.762705] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.763370] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.764065] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.764741] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.765398] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.766061]  </TASK>
[   44.766283] Modules linked in:
[   44.766745] ---[ end trace 0000000000000000 ]---
[   44.767190] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.767839] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.769713] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   44.770225] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   44.770891] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   44.771672] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   44.772369] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.773049] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   44.773718] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   44.774557] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.775128] CR2: 00007f17bd6e9e28 CR3: 00000000216a0005 CR4: 0000000000770ef0
[   44.775919] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.776608] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.777459] PKRU: 55555554
[   44.777831] note: repro[13073] exited with preempt_count 1
[   44.778356] Fixing recursive fault but reboot is needed!
[   44.778861] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13073
[   44.779647] caller is debug_smp_processor_id+0x20/0x30
[   44.780157] CPU: 0 UID: 0 PID: 13073 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.781131] Tainted: [D]=DIE, [W]=WARN
[   44.781716] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.782822] Call Trace:
[   44.783068]  <TASK>
[   44.783291]  dump_stack_lvl+0x121/0x150
[   44.783681]  dump_stack+0x19/0x20
[   44.784026]  check_preemption_disabled+0x168/0x180
[   44.784510]  debug_smp_processor_id+0x20/0x30
[   44.784947]  __schedule+0xa0/0x33a0
[   44.785308]  ? do_task_dead+0xa8/0x110
[   44.785679]  ? debug_smp_processor_id+0x20/0x30
[   44.786130]  ? rcu_is_watching+0x19/0xc0
[   44.786538]  ? lock_release+0x592/0x870
[   44.786933]  ? __pfx___schedule+0x10/0x10
[   44.787346]  ? debug_smp_processor_id+0x20/0x30
[   44.787808]  ? rcu_is_watching+0x19/0xc0
[   44.788204]  ? trace_irq_enable+0xe1/0x120
[   44.788636]  ? do_task_dead+0x4a/0x110
[   44.789016]  do_task_dead+0xe0/0x110
[   44.789378]  make_task_dead+0x384/0x3c0
[   44.789767]  rewind_stack_and_make_dead+0x16/0x20
[   44.790221] RIP: 0033:0x7f17bd43ee5d
[   44.790595] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.791189] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.791890] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.792554] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.793250] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.794066] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.794735] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.795490]  </TASK>
[   44.795895] BUG: scheduling while atomic: repro/13073/0x00000000
[   44.796624] INFO: lockdep is turned off.
[   44.797004] Modules linked in:
[   44.797329] Preemption disabled at:
[   44.797335] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   44.798170] CPU: 0 UID: 0 PID: 13073 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   44.799027] Tainted: [D]=DIE, [W]=WARN
[   44.799398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.800870] Call Trace:
[   44.801160]  <TASK>
[   44.801464]  dump_stack_lvl+0x121/0x150
[   44.801886]  ? do_task_dead+0x28/0x110
[   44.802274]  dump_stack+0x19/0x20
[   44.802619]  __schedule_bug+0x12d/0x180
[   44.803011]  __schedule+0x2401/0x33a0
[   44.803418]  ? do_task_dead+0xa8/0x110
[   44.803892]  ? rcu_is_watching+0x19/0xc0
[   44.804385]  ? lock_release+0x592/0x870
[   44.804833]  ? __pfx___schedule+0x10/0x10
[   44.805250]  ? debug_smp_processor_id+0x20/0x30
[   44.805732]  ? rcu_is_watching+0x19/0xc0
[   44.806416]  ? trace_irq_enable+0xe1/0x120
[   44.806932]  ? do_task_dead+0x4a/0x110
[   44.807323]  do_task_dead+0xe0/0x110
[   44.807689]  make_task_dead+0x384/0x3c0
[   44.808080]  rewind_stack_and_make_dead+0x16/0x20
[   44.808543] RIP: 0033:0x7f17bd43ee5d
[   44.808894] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   44.809480] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.810190] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   44.810856] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.811549] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   44.812299] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   44.812964] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   44.813756]  </TASK>
[   45.230803] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#76] PREEMPT SMP KASAN NOPTI
[   45.231935] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.232629] CPU: 0 UID: 0 PID: 13332 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   45.233602] Tainted: [D]=DIE, [W]=WARN
[   45.234031] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.235064] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.235618] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.237295] RSP: 0018:ffff88800fc1f7d8 EFLAGS: 00010202
[   45.238028] RAX: dffffc0000000000 RBX: ffffea0000709700 RCX: ffffffff81bbb789
[   45.238695] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000709710
[   45.239366] RBP: ffff88800fc1f7f8 R08: 0000000000000000 R09: ffffed1001fcca0c
[   45.240021] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.240681] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fe65060
[   45.241524] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   45.242480] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.243035] CR2: 00007f17bd71ebf0 CR3: 00000000105e8002 CR4: 0000000000770ef0
[   45.243702] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.244360] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.245020] PKRU: 55555554
[   45.245298] Call Trace:
[   45.245539]  <TASK>
[   45.245754]  ? show_regs+0x6d/0x80
[   45.246107]  ? die_addr+0x45/0xb0
[   45.246457]  ? exc_general_protection+0x1ae/0x340
[   45.246937]  ? asm_exc_general_protection+0x2b/0x30
[   45.247440]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.247947]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.248442]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.248943]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.249458]  zap_huge_pmd+0x48e/0xd40
[   45.249838]  unmap_page_range+0x1ad6/0x4360
[   45.250257]  ? update_stack_state+0x2d9/0x610
[   45.250710]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.251207]  ? __pfx_unmap_page_range+0x10/0x10
[   45.251826]  unmap_single_vma+0x1ac/0x2d0
[   45.252450]  unmap_vmas+0x210/0x470
[   45.252815]  ? __pfx_unmap_vmas+0x10/0x10
[   45.253209]  ? __pfx_lock_release+0x10/0x10
[   45.253627]  ? lock_release+0x592/0x870
[   45.254008]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.254492]  ? __pfx_lock_release+0x10/0x10
[   45.254929]  ? mlock_drain_local+0x27f/0x4b0
[   45.255374]  exit_mmap+0x19e/0xb10
[   45.255729]  ? __pfx_exit_mmap+0x10/0x10
[   45.256117]  ? debug_smp_processor_id+0x20/0x30
[   45.256572]  ? trace_hardirqs_on+0x51/0x60
[   45.256999]  ? kasan_quarantine_put+0xa2/0x200
[   45.257455]  ? __khugepaged_exit+0x266/0x4c0
[   45.257889]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.258406]  __mmput+0xde/0x3a0
[   45.258728]  mmput+0x74/0x90
[   45.259027]  do_exit+0xa03/0x29f0
[   45.259389]  ? trace_hardirqs_on+0x51/0x60
[   45.259880]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.260779]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.261248]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.261737]  ? __pfx_do_exit+0x10/0x10
[   45.262116]  ? __audit_syscall_entry+0x39c/0x500
[   45.262581]  __x64_sys_exit+0x50/0x60
[   45.262950]  x64_sys_call+0x20c9/0x20d0
[   45.263350]  do_syscall_64+0x6d/0x140
[   45.263728]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.264220] RIP: 0033:0x7f17bd43ee5d
[   45.264573] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   45.265157] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.265887] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   45.266555] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.267221] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   45.267900] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   45.268555] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   45.269219]  </TASK>
[   45.269456] Modules linked in:
[   45.269922] ---[ end trace 0000000000000000 ]---
[   45.270380] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.270943] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.272708] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   45.273340] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   45.274041] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   45.274712] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   45.275638] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.276565] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   45.277470] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   45.278247] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.278796] CR2: 00007f17bd71ebf0 CR3: 00000000105e8002 CR4: 0000000000770ef0
[   45.279492] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.280195] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.280881] PKRU: 55555554
[   45.281154] note: repro[13332] exited with preempt_count 1
[   45.281679] Fixing recursive fault but reboot is needed!
[   45.282200] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13332
[   45.283250] caller is debug_smp_processor_id+0x20/0x30
[   45.283843] CPU: 0 UID: 0 PID: 13332 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   45.284731] Tainted: [D]=DIE, [W]=WARN
[   45.285097] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.286149] Call Trace:
[   45.286413]  <TASK>
[   45.286712]  dump_stack_lvl+0x121/0x150
[   45.287335]  dump_stack+0x19/0x20
[   45.287734]  check_preemption_disabled+0x168/0x180
[   45.288215]  debug_smp_processor_id+0x20/0x30
[   45.288668]  __schedule+0xa0/0x33a0
[   45.289025]  ? do_task_dead+0xa8/0x110
[   45.289403]  ? debug_smp_processor_id+0x20/0x30
[   45.289857]  ? rcu_is_watching+0x19/0xc0
[   45.290261]  ? lock_release+0x592/0x870
[   45.290661]  ? __pfx___schedule+0x10/0x10
[   45.291071]  ? debug_smp_processor_id+0x20/0x30
[   45.291526]  ? rcu_is_watching+0x19/0xc0
[   45.291922]  ? trace_irq_enable+0xe1/0x120
[   45.292352]  ? do_task_dead+0x4a/0x110
[   45.292733]  do_task_dead+0xe0/0x110
[   45.293099]  make_task_dead+0x384/0x3c0
[   45.293500]  rewind_stack_and_make_dead+0x16/0x20
[   45.293971] RIP: 0033:0x7f17bd43ee5d
[   45.294338] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   45.295051] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.296029] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   45.296701] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.297384] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   45.298049] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   45.298730] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   45.299716]  </TASK>
[   45.300135] BUG: scheduling while atomic: repro/13332/0x00000000
[   45.300770] INFO: lockdep is turned off.
[   45.301155] Modules linked in:
[   45.301575] Preemption disabled at:
[   45.301585] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   45.302476] CPU: 0 UID: 0 PID: 13332 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   45.303351] Tainted: [D]=DIE, [W]=WARN
[   45.303708] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.305136] Call Trace:
[   45.305403]  <TASK>
[   45.305622]  dump_stack_lvl+0x121/0x150
[   45.306014]  ? do_task_dead+0x28/0x110
[   45.306390]  dump_stack+0x19/0x20
[   45.306840]  __schedule_bug+0x12d/0x180
[   45.307283]  __schedule+0x2401/0x33a0
[   45.307972]  ? do_task_dead+0xa8/0x110
[   45.308440]  ? rcu_is_watching+0x19/0xc0
[   45.308908]  ? lock_release+0x592/0x870
[   45.309361]  ? __pfx___schedule+0x10/0x10
[   45.309764]  ? debug_smp_processor_id+0x20/0x30
[   45.310216]  ? rcu_is_watching+0x19/0xc0
[   45.310615]  ? trace_irq_enable+0xe1/0x120
[   45.311039]  ? do_task_dead+0x4a/0x110
[   45.311435]  do_task_dead+0xe0/0x110
[   45.311796]  make_task_dead+0x384/0x3c0
[   45.312187]  rewind_stack_and_make_dead+0x16/0x20
[   45.312649] RIP: 0033:0x7f17bd43ee5d
[   45.313040] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   45.313704] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.314440] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   45.315115] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.315773] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   45.316454] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   45.317189] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   45.318032]  </TASK>
[   46.188791] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#77] PREEMPT SMP KASAN NOPTI
[   46.189926] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.190629] CPU: 0 UID: 0 PID: 14005 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.191494] Tainted: [D]=DIE, [W]=WARN
[   46.191848] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.192880] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.193448] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.195271] RSP: 0018:ffff888011c377d8 EFLAGS: 00010202
[   46.195773] RAX: dffffc0000000000 RBX: ffffea00004c5ec0 RCX: ffffffff81bbb789
[   46.196601] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004c5ed0
[   46.197396] RBP: ffff888011c377f8 R08: 0000000000000000 R09: ffffed1002698218
[   46.198055] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.198741] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c10c0
[   46.199432] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   46.200173] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.200702] CR2: 00007fffef6677b8 CR3: 000000000eb10003 CR4: 0000000000770ef0
[   46.201379] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.202051] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.202718] PKRU: 55555554
[   46.202989] Call Trace:
[   46.203235]  <TASK>
[   46.203460]  ? show_regs+0x6d/0x80
[   46.203819]  ? die_addr+0x45/0xb0
[   46.204160]  ? exc_general_protection+0x1ae/0x340
[   46.204687]  ? asm_exc_general_protection+0x2b/0x30
[   46.205174]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.205680]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.206189]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.206785]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.207334]  zap_huge_pmd+0x48e/0xd40
[   46.207707]  unmap_page_range+0x1ad6/0x4360
[   46.208120]  ? update_stack_state+0x2d9/0x610
[   46.208566]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.209112]  ? __pfx_unmap_page_range+0x10/0x10
[   46.209567]  unmap_single_vma+0x1ac/0x2d0
[   46.209965]  unmap_vmas+0x210/0x470
[   46.210325]  ? __pfx_unmap_vmas+0x10/0x10
[   46.210717]  ? __pfx_lock_release+0x10/0x10
[   46.211127]  ? lock_release+0x592/0x870
[   46.211502]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   46.211996]  ? __pfx_lock_release+0x10/0x10
[   46.212408]  ? mlock_drain_local+0x27f/0x4b0
[   46.212831]  exit_mmap+0x19e/0xb10
[   46.213178]  ? __pfx_exit_mmap+0x10/0x10
[   46.213578]  ? debug_smp_processor_id+0x20/0x30
[   46.214026]  ? trace_hardirqs_on+0x51/0x60
[   46.214437]  ? kasan_quarantine_put+0xa2/0x200
[   46.214882]  ? __khugepaged_exit+0x266/0x4c0
[   46.215300]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.215814]  __mmput+0xde/0x3a0
[   46.216133]  mmput+0x74/0x90
[   46.216436]  do_exit+0xa03/0x29f0
[   46.216775]  ? trace_hardirqs_on+0x51/0x60
[   46.217179]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.217774]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.218239]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.218716]  ? __pfx_do_exit+0x10/0x10
[   46.219093]  ? __audit_syscall_entry+0x39c/0x500
[   46.219550]  __x64_sys_exit+0x50/0x60
[   46.219918]  x64_sys_call+0x20c9/0x20d0
[   46.220299]  do_syscall_64+0x6d/0x140
[   46.220672]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.221159] RIP: 0033:0x7f17bd43ee5d
[   46.221514] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.222087] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.222790] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.223450] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.224103] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.224766] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.225427] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.226103]  </TASK>
[   46.226327] Modules linked in:
[   46.226775] ---[ end trace 0000000000000000 ]---
[   46.227237] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.227816] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.229524] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   46.230030] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   46.230746] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   46.231494] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   46.232175] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.232847] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   46.233662] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   46.234423] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.234963] CR2: 00007fffef6677b8 CR3: 000000000eb10003 CR4: 0000000000770ef0
[   46.235648] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.236322] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.236979] PKRU: 55555554
[   46.237247] note: repro[14005] exited with preempt_count 1
[   46.237772] Fixing recursive fault but reboot is needed!
[   46.238272] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14005
[   46.239004] caller is debug_smp_processor_id+0x20/0x30
[   46.239548] CPU: 0 UID: 0 PID: 14005 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.240426] Tainted: [D]=DIE, [W]=WARN
[   46.240782] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.241828] Call Trace:
[   46.242071]  <TASK>
[   46.242296]  dump_stack_lvl+0x121/0x150
[   46.242688]  dump_stack+0x19/0x20
[   46.243031]  check_preemption_disabled+0x168/0x180
[   46.243520]  debug_smp_processor_id+0x20/0x30
[   46.243988]  __schedule+0xa0/0x33a0
[   46.244437]  ? do_task_dead+0xa8/0x110
[   46.244907]  ? debug_smp_processor_id+0x20/0x30
[   46.245477]  ? rcu_is_watching+0x19/0xc0
[   46.245892]  ? lock_release+0x592/0x870
[   46.246411]  ? __pfx___schedule+0x10/0x10
[   46.246827]  ? debug_smp_processor_id+0x20/0x30
[   46.247271]  ? rcu_is_watching+0x19/0xc0
[   46.247678]  ? trace_irq_enable+0xe1/0x120
[   46.248087]  ? do_task_dead+0x4a/0x110
[   46.248467]  do_task_dead+0xe0/0x110
[   46.248820]  make_task_dead+0x384/0x3c0
[   46.249215]  rewind_stack_and_make_dead+0x16/0x20
[   46.249674] RIP: 0033:0x7f17bd43ee5d
[   46.250034] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.250611] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.251321] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.252049] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.252714] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.253411] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.254106] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.254790]  </TASK>
[   46.255052] BUG: scheduling while atomic: repro/14005/0x00000000
[   46.255630] INFO: lockdep is turned off.
[   46.255998] Modules linked in:
[   46.256305] Preemption disabled at:
[   46.256311] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   46.257147] CPU: 0 UID: 0 PID: 14005 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.258006] Tainted: [D]=DIE, [W]=WARN
[   46.258373] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.259404] Call Trace:
[   46.259644]  <TASK>
[   46.259856]  dump_stack_lvl+0x121/0x150
[   46.260240]  ? do_task_dead+0x28/0x110
[   46.260610]  dump_stack+0x19/0x20
[   46.260953]  __schedule_bug+0x12d/0x180
[   46.261340]  __schedule+0x2401/0x33a0
[   46.261709]  ? do_task_dead+0xa8/0x110
[   46.262081]  ? rcu_is_watching+0x19/0xc0
[   46.262472]  ? lock_release+0x592/0x870
[   46.262855]  ? __pfx___schedule+0x10/0x10
[   46.263258]  ? debug_smp_processor_id+0x20/0x30
[   46.263717]  ? rcu_is_watching+0x19/0xc0
[   46.264104]  ? trace_irq_enable+0xe1/0x120
[   46.264525]  ? do_task_dead+0x4a/0x110
[   46.264893]  do_task_dead+0xe0/0x110
[   46.265252]  make_task_dead+0x384/0x3c0
[   46.265642]  rewind_stack_and_make_dead+0x16/0x20
[   46.266095] RIP: 0033:0x7f17bd43ee5d
[   46.266444] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.267010] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.267720] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.268385] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.269040] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.269700] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.270355] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.271026]  </TASK>
[   46.806852] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#78] PREEMPT SMP KASAN NOPTI
[   46.807988] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.808746] CPU: 1 UID: 0 PID: 14430 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.809612] Tainted: [D]=DIE, [W]=WARN
[   46.809968] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.810989] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.811574] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.813268] RSP: 0018:ffff888010ca77d8 EFLAGS: 00010202
[   46.813791] RAX: dffffc0000000000 RBX: ffffea0000469940 RCX: ffffffff81bbb789
[   46.814516] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000469950
[   46.815176] RBP: ffff888010ca77f8 R08: 0000000000000000 R09: ffffed100252d6b4
[   46.815840] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.816502] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801296b5a0
[   46.817155] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.817906] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.818486] CR2: 00007f17bd5fca50 CR3: 0000000026118006 CR4: 0000000000770ef0
[   46.819160] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.819836] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.820491] PKRU: 55555554
[   46.820752] Call Trace:
[   46.820991]  <TASK>
[   46.821206]  ? show_regs+0x6d/0x80
[   46.821566]  ? die_addr+0x45/0xb0
[   46.821916]  ? exc_general_protection+0x1ae/0x340
[   46.822430]  ? asm_exc_general_protection+0x2b/0x30
[   46.822944]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.823447]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.823945]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.824526]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.825043]  zap_huge_pmd+0x48e/0xd40
[   46.825432]  unmap_page_range+0x1ad6/0x4360
[   46.825849]  ? update_stack_state+0x2d9/0x610
[   46.826301]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.826786]  ? __pfx_unmap_page_range+0x10/0x10
[   46.827239]  unmap_single_vma+0x1ac/0x2d0
[   46.827651]  unmap_vmas+0x210/0x470
[   46.828020]  ? __pfx_unmap_vmas+0x10/0x10
[   46.828434]  ? __pfx_lock_release+0x10/0x10
[   46.828860]  ? lock_release+0x592/0x870
[   46.829264]  ? mas_next_slot+0x133a/0x1a50
[   46.829673]  ? __pfx_lock_release+0x10/0x10
[   46.830094]  ? mlock_drain_local+0x27f/0x4b0
[   46.830526]  exit_mmap+0x19e/0xb10
[   46.830881]  ? __pfx_exit_mmap+0x10/0x10
[   46.831283]  ? debug_smp_processor_id+0x20/0x30
[   46.831742]  ? trace_hardirqs_on+0x51/0x60
[   46.832164]  ? kasan_quarantine_put+0xa2/0x200
[   46.832627]  ? __khugepaged_exit+0x266/0x4c0
[   46.833068]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.833592]  __mmput+0xde/0x3a0
[   46.833916]  mmput+0x74/0x90
[   46.834221]  do_exit+0xa03/0x29f0
[   46.834581]  ? trace_hardirqs_on+0x51/0x60
[   46.835006]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.835897]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.836490]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.836998]  ? __pfx_do_exit+0x10/0x10
[   46.837387]  ? __audit_syscall_entry+0x39c/0x500
[   46.837845]  __x64_sys_exit+0x50/0x60
[   46.838217]  x64_sys_call+0x20c9/0x20d0
[   46.838608]  do_syscall_64+0x6d/0x140
[   46.838979]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.839483] RIP: 0033:0x7f17bd43ee5d
[   46.839840] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.840408] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.841137] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.841808] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.842466] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.843110] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.843799] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.844469]  </TASK>
[   46.844700] Modules linked in:
[   46.845198] ---[ end trace 0000000000000000 ]---
[   46.845674] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.846235] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.848009] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   46.848759] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   46.849454] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   46.850135] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   46.850796] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.851565] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   46.852258] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.853106] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.853727] CR2: 00007f17bd5fca50 CR3: 0000000026118006 CR4: 0000000000770ef0
[   46.854398] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.855059] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.855848] PKRU: 55555554
[   46.856134] note: repro[14430] exited with preempt_count 1
[   46.856651] Fixing recursive fault but reboot is needed!
[   46.857147] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14430
[   46.857891] caller is debug_smp_processor_id+0x20/0x30
[   46.858403] CPU: 1 UID: 0 PID: 14430 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.859264] Tainted: [D]=DIE, [W]=WARN
[   46.859633] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.860719] Call Trace:
[   46.860966]  <TASK>
[   46.861186]  dump_stack_lvl+0x121/0x150
[   46.861579]  dump_stack+0x19/0x20
[   46.861920]  check_preemption_disabled+0x168/0x180
[   46.862406]  debug_smp_processor_id+0x20/0x30
[   46.862844]  __schedule+0xa0/0x33a0
[   46.863196]  ? do_task_dead+0xa8/0x110
[   46.863592]  ? debug_smp_processor_id+0x20/0x30
[   46.864078]  ? rcu_is_watching+0x19/0xc0
[   46.864485]  ? lock_release+0x592/0x870
[   46.864873]  ? __pfx___schedule+0x10/0x10
[   46.865300]  ? debug_smp_processor_id+0x20/0x30
[   46.865763]  ? rcu_is_watching+0x19/0xc0
[   46.866155]  ? trace_irq_enable+0xe1/0x120
[   46.866571]  ? do_task_dead+0x4a/0x110
[   46.866946]  do_task_dead+0xe0/0x110
[   46.867315]  make_task_dead+0x384/0x3c0
[   46.867723]  rewind_stack_and_make_dead+0x16/0x20
[   46.868225] RIP: 0033:0x7f17bd43ee5d
[   46.868581] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.869154] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.869870] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.870585] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.871243] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.871904] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.872599] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.873274]  </TASK>
[   46.873661] BUG: scheduling while atomic: repro/14430/0x00000000
[   46.874223] INFO: lockdep is turned off.
[   46.874675] Modules linked in:
[   46.874983] Preemption disabled at:
[   46.874989] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   46.875898] CPU: 1 UID: 0 PID: 14430 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.876825] Tainted: [D]=DIE, [W]=WARN
[   46.877182] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.878210] Call Trace:
[   46.878464]  <TASK>
[   46.878679]  dump_stack_lvl+0x121/0x150
[   46.879068]  ? do_task_dead+0x28/0x110
[   46.879447]  dump_stack+0x19/0x20
[   46.879790]  __schedule_bug+0x12d/0x180
[   46.880193]  __schedule+0x2401/0x33a0
[   46.880570]  ? do_task_dead+0xa8/0x110
[   46.880957]  ? rcu_is_watching+0x19/0xc0
[   46.881367]  ? lock_release+0x592/0x870
[   46.881761]  ? __pfx___schedule+0x10/0x10
[   46.882174]  ? debug_smp_processor_id+0x20/0x30
[   46.882630]  ? rcu_is_watching+0x19/0xc0
[   46.883026]  ? trace_irq_enable+0xe1/0x120
[   46.883449]  ? do_task_dead+0x4a/0x110
[   46.883822]  do_task_dead+0xe0/0x110
[   46.884210]  make_task_dead+0x384/0x3c0
[   46.884665]  rewind_stack_and_make_dead+0x16/0x20
[   46.885138] RIP: 0033:0x7f17bd43ee5d
[   46.885498] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.886070] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.886779] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.887440] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.888088] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.888782] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.889450] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.890126]  </TASK>
[   46.894596] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#79] PREEMPT SMP KASAN NOPTI
[   46.895726] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.896429] CPU: 0 UID: 0 PID: 14498 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.897285] Tainted: [D]=DIE, [W]=WARN
[   46.897643] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.898689] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.899250] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.900934] RSP: 0018:ffff88802727f7d8 EFLAGS: 00010202
[   46.901442] RAX: dffffc0000000000 RBX: ffffea00009c1580 RCX: ffffffff81bbb789
[   46.902129] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c1590
[   46.902809] RBP: ffff88802727f7f8 R08: 0000000000000000 R09: ffffed10022dc150
[   46.903474] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.904138] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880116e0a80
[   46.904802] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   46.905539] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.906081] CR2: 00007f469c725030 CR3: 0000000014664005 CR4: 0000000000770ef0
[   46.906752] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.907418] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.908107] PKRU: 55555554
[   46.908404] Call Trace:
[   46.908654]  <TASK>
[   46.908874]  ? show_regs+0x6d/0x80
[   46.909226]  ? die_addr+0x45/0xb0
[   46.909590]  ? exc_general_protection+0x1ae/0x340
[   46.910083]  ? asm_exc_general_protection+0x2b/0x30
[   46.910578]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.911076]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.911586]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.912088]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.912595]  zap_huge_pmd+0x48e/0xd40
[   46.912982]  unmap_page_range+0x1ad6/0x4360
[   46.913403]  ? update_stack_state+0x2d9/0x610
[   46.913851]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.914371]  ? __pfx_unmap_page_range+0x10/0x10
[   46.914827]  unmap_single_vma+0x1ac/0x2d0
[   46.915236]  unmap_vmas+0x210/0x470
[   46.915607]  ? __pfx_unmap_vmas+0x10/0x10
[   46.915998]  ? __pfx_lock_release+0x10/0x10
[   46.916407]  ? lock_release+0x592/0x870
[   46.916792]  ? mas_next_slot+0x133a/0x1a50
[   46.917197]  ? __pfx_lock_release+0x10/0x10
[   46.917616]  ? mlock_drain_local+0x27f/0x4b0
[   46.918042]  exit_mmap+0x19e/0xb10
[   46.918463]  ? __pfx_exit_mmap+0x10/0x10
[   46.918885]  ? debug_smp_processor_id+0x20/0x30
[   46.919358]  ? trace_hardirqs_on+0x51/0x60
[   46.919880]  ? kasan_quarantine_put+0xa2/0x200
[   46.920445]  ? __khugepaged_exit+0x266/0x4c0
[   46.920987]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.921654]  __mmput+0xde/0x3a0
[   46.922064]  mmput+0x74/0x90
[   46.922448]  do_exit+0xa03/0x29f0
[   46.922881]  ? trace_hardirqs_on+0x51/0x60
[   46.923403]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.924174]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.924781]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.925399]  ? __pfx_do_exit+0x10/0x10
[   46.925881]  ? __audit_syscall_entry+0x39c/0x500
[   46.926467]  __x64_sys_exit+0x50/0x60
[   46.926935]  x64_sys_call+0x20c9/0x20d0
[   46.927424]  do_syscall_64+0x6d/0x140
[   46.927894]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.928529] RIP: 0033:0x7f17bd43ee5d
[   46.928977] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.929714] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.930624] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.931477] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.932327] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.933170] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.934021] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.934883]  </TASK>
[   46.935164] Modules linked in:
[   46.935767] ---[ end trace 0000000000000000 ]---
[   46.936347] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.937053] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.939234] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   46.939966] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   46.940827] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   46.941681] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   46.942537] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.943389] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   46.944351] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   46.945381] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.946079] CR2: 00007f469c725030 CR3: 0000000014664005 CR4: 0000000000770ef0
[   46.946941] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.947908] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.948768] PKRU: 55555554
[   46.949110] note: repro[14498] exited with preempt_count 1
[   46.949804] Fixing recursive fault but reboot is needed!
[   46.949917] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#80] PREEMPT SMP KASAN NOPTI
[   46.950402] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14498
[   46.951653] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.951689] CPU: 1 UID: 0 PID: 14541 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.951737] Tainted: [D]=DIE, [W]=WARN
[   46.952550] caller is debug_smp_processor_id+0x20/0x30
[   46.953233] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.954148] CPU: 0 UID: 0 PID: 14498 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   46.954498] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.954981] Tainted: [D]=DIE, [W]=WARN
[   46.955993] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.956991] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.957508] RSP: 0018:ffff8880166377d8 EFLAGS: 00010202
[   46.957962] Call Trace:
[   46.959659] 
[   46.961065]  <TASK>
[   46.961543] RAX: dffffc0000000000 RBX: ffffea00006a7bc0 RCX: ffffffff81bbb789
[   46.961850]  dump_stack_lvl+0x121/0x150
[   46.961999] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006a7bd0
[   46.962267]  dump_stack+0x19/0x20
[   46.962902] RBP: ffff8880166377f8 R08: 0000000000000000 R09: ffffed10042e4f38
[   46.963553]  check_preemption_disabled+0x168/0x180
[   46.964182] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.964677]  debug_smp_processor_id+0x20/0x30
[   46.965330] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880217279c0
[   46.965973]  __schedule+0xa0/0x33a0
[   46.966619] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   46.967139]  ? do_task_dead+0xa8/0x110
[   46.967771] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.968323]  ? debug_smp_processor_id+0x20/0x30
[   46.969061] CR2: 00007f469c72a000 CR3: 000000001df80006 CR4: 0000000000770ef0
[   46.969573]  ? rcu_is_watching+0x19/0xc0
[   46.970090] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.970638]  ? lock_release+0x592/0x870
[   46.971283] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.971803]  ? __pfx___schedule+0x10/0x10
[   46.972439] PKRU: 55555554
[   46.972990]  ? debug_smp_processor_id+0x20/0x30
[   46.973619] Call Trace:
[   46.974099]  ? rcu_is_watching+0x19/0xc0
[   46.974473]  <TASK>
[   46.975015]  ? trace_irq_enable+0xe1/0x120
[   46.975248]  ? show_regs+0x6d/0x80
[   46.975724]  ? do_task_dead+0x4a/0x110
[   46.975924]  ? die_addr+0x45/0xb0
[   46.976429]  do_task_dead+0xe0/0x110
[   46.976744]  ? exc_general_protection+0x1ae/0x340
[   46.977194]  make_task_dead+0x384/0x3c0
[   46.977522]  ? asm_exc_general_protection+0x2b/0x30
[   46.977949]  rewind_stack_and_make_dead+0x16/0x20
[   46.978525]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.979150] RIP: 0033:0x7f17bd43ee5d
[   46.979632]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.980303] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   46.980764]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.981192] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   46.981659]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.982385]  ORIG_RAX: 000000000000003c
[   46.982850]  zap_huge_pmd+0x48e/0xd40
[   46.983453] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   46.983920]  unmap_page_range+0x1ad6/0x4360
[   46.984355] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.984691]  ? update_stack_state+0x2d9/0x610
[   46.985487] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   46.985878]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.986665] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   46.987063]  ? __pfx_unmap_page_range+0x10/0x10
[   46.987862] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   46.988327]  unmap_single_vma+0x1ac/0x2d0
[   46.989457]  </TASK>
[   46.989860]  unmap_vmas+0x210/0x470
[   46.991907]  ? __pfx_unmap_vmas+0x10/0x10
[   46.992461]  ? __pfx_lock_release+0x10/0x10
[   46.992870]  ? lock_release+0x592/0x870
[   46.993246]  ? mas_next_slot+0x133a/0x1a50
[   46.993649]  ? __pfx_lock_release+0x10/0x10
[   46.994063]  ? mlock_drain_local+0x27f/0x4b0
[   46.994494]  exit_mmap+0x19e/0xb10
[   46.994846]  ? __pfx_exit_mmap+0x10/0x10
[   46.995233]  ? debug_smp_processor_id+0x20/0x30
[   46.995902]  ? trace_hardirqs_on+0x51/0x60
[   46.996514]  ? kasan_quarantine_put+0xa2/0x200
[   46.996967]  ? __khugepaged_exit+0x266/0x4c0
[   46.997539]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.998054]  __mmput+0xde/0x3a0
[   46.998379]  mmput+0x74/0x90
[   46.998677]  do_exit+0xa03/0x29f0
[   46.999013]  ? trace_hardirqs_on+0x51/0x60
[   46.999431]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.000026]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.000690]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.001163]  ? __pfx_do_exit+0x10/0x10
[   47.001539]  ? __audit_syscall_entry+0x39c/0x500
[   47.002002]  __x64_sys_exit+0x50/0x60
[   47.002374]  x64_sys_call+0x20c9/0x20d0
[   47.002749]  do_syscall_64+0x6d/0x140
[   47.003114]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.003607] RIP: 0033:0x7f17bd43ee5d
[   47.003955] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   47.004814] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.005509] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   47.006168] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.006820] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   47.007503] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   47.008170] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   47.008857]  </TASK>
[   47.009101] Modules linked in:
[   47.009621] ---[ end trace 0000000000000000 ]---
[   47.010091] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.010658] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.012501] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   47.013010] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   47.013697] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   47.014370] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   47.015027] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.015974] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   47.016861] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   47.017829] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.018571] CR2: 00007f469c72a000 CR3: 000000001df80006 CR4: 0000000000770ef0
[   47.019395] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.020329] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.021140] PKRU: 55555554
[   47.021471] note: repro[14541] exited with preempt_count 1
[   47.022143] Fixing recursive fault but reboot is needed!
[   47.022793] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14541
[   47.023629] caller is debug_smp_processor_id+0x20/0x30
[   47.024434] CPU: 1 UID: 0 PID: 14541 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   47.025400] Tainted: [D]=DIE, [W]=WARN
[   47.025766] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.026806] Call Trace:
[   47.027050]  <TASK>
[   47.027262]  dump_stack_lvl+0x121/0x150
[   47.027660]  dump_stack+0x19/0x20
[   47.027996]  check_preemption_disabled+0x168/0x180
[   47.028466]  debug_smp_processor_id+0x20/0x30
[   47.028903]  __schedule+0xa0/0x33a0
[   47.029258]  ? do_task_dead+0xa8/0x110
[   47.029656]  ? debug_smp_processor_id+0x20/0x30
[   47.030112]  ? rcu_is_watching+0x19/0xc0
[   47.030501]  ? lock_release+0x592/0x870
[   47.030882]  ? __pfx___schedule+0x10/0x10
[   47.031307]  ? debug_smp_processor_id+0x20/0x30
[   47.031758]  ? rcu_is_watching+0x19/0xc0
[   47.032148]  ? trace_irq_enable+0xe1/0x120
[   47.032575]  ? do_task_dead+0x4a/0x110
[   47.032939]  do_task_dead+0xe0/0x110
[   47.033303]  make_task_dead+0x384/0x3c0
[   47.033702]  rewind_stack_and_make_dead+0x16/0x20
[   47.034174] RIP: 0033:0x7f17bd43ee5d
[   47.034530] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   47.035108] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.035833] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   47.036762] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.037568] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   47.038382] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   47.039044] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   47.039731]  </TASK>
[   47.040044] BUG: scheduling while atomic: repro/14541/0x00000000
[   47.040623] INFO: lockdep is turned off.
[   47.041000] Modules linked in:
[   47.041319] Preemption disabled at:
[   47.041325] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   47.042200] CPU: 1 UID: 0 PID: 14541 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   47.043057] Tainted: [D]=DIE, [W]=WARN
[   47.043421] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.044521] Call Trace:
[   47.044910]  <TASK>
[   47.045252]  dump_stack_lvl+0x121/0x150
[   47.045677]  ? do_task_dead+0x28/0x110
[   47.046052]  dump_stack+0x19/0x20
[   47.046414]  __schedule_bug+0x12d/0x180
[   47.046800]  __schedule+0x2401/0x33a0
[   47.047172]  ? do_task_dead+0xa8/0x110
[   47.047548]  ? rcu_is_watching+0x19/0xc0
[   47.047938]  ? lock_release+0x592/0x870
[   47.048321]  ? __pfx___schedule+0x10/0x10
[   47.048723]  ? debug_smp_processor_id+0x20/0x30
[   47.049179]  ? rcu_is_watching+0x19/0xc0
[   47.049588]  ? trace_irq_enable+0xe1/0x120
[   47.050001]  ? do_task_dead+0x4a/0x110
[   47.050394]  do_task_dead+0xe0/0x110
[   47.050773]  make_task_dead+0x384/0x3c0
[   47.051198]  rewind_stack_and_make_dead+0x16/0x20
[   47.051686] RIP: 0033:0x7f17bd43ee5d
[   47.052081] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   47.052742] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.053476] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   47.054134] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.054802] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   47.055464] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   47.056121] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   47.056901]  </TASK>
[   47.392354] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#81] PREEMPT SMP KASAN NOPTI
[   47.393475] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.394174] CPU: 1 UID: 0 PID: 14708 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   47.395032] Tainted: [D]=DIE, [W]=WARN
[   47.395392] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.396422] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.396993] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.398654] RSP: 0018:ffff8880145cf7d8 EFLAGS: 00010202
[   47.399430] RAX: dffffc0000000000 RBX: ffffea000049c5c0 RCX: ffffffff81bbb789
[   47.400182] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000049c5d0
[   47.400852] RBP: ffff8880145cf7f8 R08: 0000000000000000 R09: ffffed1003b84574
[   47.401509] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.402164] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801dc22ba0
[   47.402825] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   47.403562] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.404103] CR2: 00007f17bd70b910 CR3: 000000001dc5e005 CR4: 0000000000770ef0
[   47.404794] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.405807] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.406489] PKRU: 55555554
[   47.406758] Call Trace:
[   47.407004]  <TASK>
[   47.407218]  ? show_regs+0x6d/0x80
[   47.407574]  ? die_addr+0x45/0xb0
[   47.407908]  ? exc_general_protection+0x1ae/0x340
[   47.408391]  ? asm_exc_general_protection+0x2b/0x30
[   47.408881]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.409516]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.410180]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.410701]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.411205]  zap_huge_pmd+0x48e/0xd40
[   47.411585]  unmap_page_range+0x1ad6/0x4360
[   47.412002]  ? update_stack_state+0x2d9/0x610
[   47.412474]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.412973]  ? __pfx_unmap_page_range+0x10/0x10
[   47.413439]  unmap_single_vma+0x1ac/0x2d0
[   47.413845]  unmap_vmas+0x210/0x470
[   47.414207]  ? __pfx_unmap_vmas+0x10/0x10
[   47.414600]  ? __pfx_lock_release+0x10/0x10
[   47.415013]  ? lock_release+0x592/0x870
[   47.415391]  ? mas_next_slot+0x133a/0x1a50
[   47.415799]  ? __pfx_lock_release+0x10/0x10
[   47.416212]  ? mlock_drain_local+0x27f/0x4b0
[   47.416649]  exit_mmap+0x19e/0xb10
[   47.417015]  ? __pfx_exit_mmap+0x10/0x10
[   47.417418]  ? debug_smp_processor_id+0x20/0x30
[   47.417873]  ? trace_hardirqs_on+0x51/0x60
[   47.418286]  ? kasan_quarantine_put+0xa2/0x200
[   47.418734]  ? __khugepaged_exit+0x266/0x4c0
[   47.419162]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.419936]  __mmput+0xde/0x3a0
[   47.420382]  mmput+0x74/0x90
[   47.420678]  do_exit+0xa03/0x29f0
[   47.421032]  ? trace_hardirqs_on+0x51/0x60
[   47.421448]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.422046]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.422511]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.423004]  ? __pfx_do_exit+0x10/0x10
[   47.423392]  ? __audit_syscall_entry+0x39c/0x500
[   47.424104]  __x64_sys_exit+0x50/0x60
[   47.424586]  x64_sys_call+0x20c9/0x20d0
[   47.424970]  do_syscall_64+0x6d/0x140
[   47.425351]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.425840] RIP: 0033:0x7f17bd43ee5d
[   47.426193] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   47.426757] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.427466] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   47.428378] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.429089] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   47.429766] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   47.430427] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   47.431100]  </TASK>
[   47.431332] Modules linked in:
[   47.431836] ---[ end trace 0000000000000000 ]---
[   47.432300] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.432869] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.434549] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   47.435046] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   47.435843] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   47.436527] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   47.437203] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.437893] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   47.438556] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   47.439309] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.440112] CR2: 00007f17bd70b910 CR3: 000000001dc5e005 CR4: 0000000000770ef0
[   47.440802] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.441480] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.442254] PKRU: 55555554
[   47.442534] note: repro[14708] exited with preempt_count 1
[   47.443053] Fixing recursive fault but reboot is needed!
[   47.443636] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14708
[   47.444377] caller is debug_smp_processor_id+0x20/0x30
[   47.444875] CPU: 1 UID: 0 PID: 14708 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   47.445726] Tainted: [D]=DIE, [W]=WARN
[   47.446093] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.447533] Call Trace:
[   47.447787]  <TASK>
[   47.448007]  dump_stack_lvl+0x121/0x150
[   47.448401]  dump_stack+0x19/0x20
[   47.448748]  check_preemption_disabled+0x168/0x180
[   47.449223]  debug_smp_processor_id+0x20/0x30
[   47.449676]  __schedule+0xa0/0x33a0
[   47.450027]  ? do_task_dead+0xa8/0x110
[   47.450404]  ? debug_smp_processor_id+0x20/0x30
[   47.450849]  ? rcu_is_watching+0x19/0xc0
[   47.451237]  ? lock_release+0x592/0x870
[   47.451646]  ? __pfx___schedule+0x10/0x10
[   47.452056]  ? debug_smp_processor_id+0x20/0x30
[   47.452703]  ? rcu_is_watching+0x19/0xc0
[   47.453323]  ? trace_irq_enable+0xe1/0x120
[   47.453744]  ? do_task_dead+0x4a/0x110
[   47.454270]  do_task_dead+0xe0/0x110
[   47.454659]  make_task_dead+0x384/0x3c0
[   47.455073]  rewind_stack_and_make_dead+0x16/0x20
[   47.455565] RIP: 0033:0x7f17bd43ee5d
[   47.455927] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   47.456493] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.457200] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   47.457871] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.458613] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   47.459289] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   47.459963] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   47.460641]  </TASK>
[   47.461017] BUG: scheduling while atomic: repro/14708/0x00000000
[   47.461617] INFO: lockdep is turned off.
[   47.461987] Modules linked in:
[   47.462364] Preemption disabled at:
[   47.462374] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   47.463274] CPU: 1 UID: 0 PID: 14708 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   47.464150] Tainted: [D]=DIE, [W]=WARN
[   47.464516] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.465546] Call Trace:
[   47.465784]  <TASK>
[   47.465998]  dump_stack_lvl+0x121/0x150
[   47.466418]  ? do_task_dead+0x28/0x110
[   47.466881]  dump_stack+0x19/0x20
[   47.467237]  __schedule_bug+0x12d/0x180
[   47.467660]  __schedule+0x2401/0x33a0
[   47.468065]  ? do_task_dead+0xa8/0x110
[   47.468460]  ? rcu_is_watching+0x19/0xc0
[   47.468862]  ? lock_release+0x592/0x870
[   47.469247]  ? __pfx___schedule+0x10/0x10
[   47.469676]  ? debug_smp_processor_id+0x20/0x30
[   47.470149]  ? rcu_is_watching+0x19/0xc0
[   47.470641]  ? trace_irq_enable+0xe1/0x120
[   47.471107]  ? do_task_dead+0x4a/0x110
[   47.471497]  do_task_dead+0xe0/0x110
[   47.471865]  make_task_dead+0x384/0x3c0
[   47.472270]  rewind_stack_and_make_dead+0x16/0x20
[   47.472749] RIP: 0033:0x7f17bd43ee5d
[   47.473099] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   47.473666] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.474381] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   47.475063] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.476095] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   47.476772] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   47.477438] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   47.478114]  </TASK>
[   48.097659] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#82] PREEMPT SMP KASAN NOPTI
[   48.098774] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.099499] CPU: 0 UID: 0 PID: 15165 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.100362] Tainted: [D]=DIE, [W]=WARN
[   48.100714] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.101735] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.102538] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.104324] RSP: 0018:ffff8880172177d8 EFLAGS: 00010202
[   48.104823] RAX: dffffc0000000000 RBX: ffffea000070e540 RCX: ffffffff81bbb789
[   48.105481] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000070e550
[   48.106125] RBP: ffff8880172177f8 R08: 0000000000000000 R09: ffffed1003151bc8
[   48.106774] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.107420] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888018a8de40
[   48.108107] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   48.108836] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.109392] CR2: 00007f17bd6e9e28 CR3: 000000000e92e002 CR4: 0000000000770ef0
[   48.110083] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.110737] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.111389] PKRU: 55555554
[   48.111664] Call Trace:
[   48.111910]  <TASK>
[   48.112129]  ? show_regs+0x6d/0x80
[   48.112482]  ? die_addr+0x45/0xb0
[   48.112817]  ? exc_general_protection+0x1ae/0x340
[   48.113282]  ? asm_exc_general_protection+0x2b/0x30
[   48.113793]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.114290]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.114777]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.115269]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.115783]  zap_huge_pmd+0x48e/0xd40
[   48.116171]  unmap_page_range+0x1ad6/0x4360
[   48.116587]  ? update_stack_state+0x2d9/0x610
[   48.117038]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.117519]  ? __pfx_unmap_page_range+0x10/0x10
[   48.117983]  unmap_single_vma+0x1ac/0x2d0
[   48.118394]  unmap_vmas+0x210/0x470
[   48.118746]  ? __pfx_unmap_vmas+0x10/0x10
[   48.119128]  ? __pfx_lock_release+0x10/0x10
[   48.119534]  ? lock_release+0x592/0x870
[   48.119914]  ? mas_next_slot+0x133a/0x1a50
[   48.120315]  ? __pfx_lock_release+0x10/0x10
[   48.120720]  ? mlock_drain_local+0x27f/0x4b0
[   48.121136]  exit_mmap+0x19e/0xb10
[   48.121487]  ? __pfx_exit_mmap+0x10/0x10
[   48.121903]  ? debug_smp_processor_id+0x20/0x30
[   48.122360]  ? trace_hardirqs_on+0x51/0x60
[   48.122771]  ? kasan_quarantine_put+0xa2/0x200
[   48.123210]  ? __khugepaged_exit+0x266/0x4c0
[   48.123641]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.124172]  __mmput+0xde/0x3a0
[   48.124499]  mmput+0x74/0x90
[   48.124792]  do_exit+0xa03/0x29f0
[   48.125131]  ? trace_hardirqs_on+0x51/0x60
[   48.125538]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.126157]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.126642]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.127115]  ? __pfx_do_exit+0x10/0x10
[   48.127497]  ? __audit_syscall_entry+0x39c/0x500
[   48.127947]  __x64_sys_exit+0x50/0x60
[   48.128318]  x64_sys_call+0x20c9/0x20d0
[   48.128693]  do_syscall_64+0x6d/0x140
[   48.129050]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.129542] RIP: 0033:0x7f17bd43ee5d
[   48.129888] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.130473] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.131177] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.131816] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.132502] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.133158] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.133805] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.134497]  </TASK>
[   48.134724] Modules linked in:
[   48.135189] ---[ end trace 0000000000000000 ]---
[   48.135727] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.136294] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.138050] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   48.138570] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   48.139227] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   48.140000] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   48.140681] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.141346] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   48.141991] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   48.142713] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.143249] CR2: 00007f17bd6e9e28 CR3: 000000000e92e002 CR4: 0000000000770ef0
[   48.144345] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.145033] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.145686] PKRU: 55555554
[   48.145947] note: repro[15165] exited with preempt_count 1
[   48.146453] Fixing recursive fault but reboot is needed!
[   48.146934] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15165
[   48.147716] caller is debug_smp_processor_id+0x20/0x30
[   48.148211] CPU: 0 UID: 0 PID: 15165 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.149061] Tainted: [D]=DIE, [W]=WARN
[   48.149485] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.150834] Call Trace:
[   48.151082]  <TASK>
[   48.151304]  dump_stack_lvl+0x121/0x150
[   48.151703]  dump_stack+0x19/0x20
[   48.152034]  check_preemption_disabled+0x168/0x180
[   48.152513]  debug_smp_processor_id+0x20/0x30
[   48.152946]  __schedule+0xa0/0x33a0
[   48.153299]  ? do_task_dead+0xa8/0x110
[   48.153669]  ? debug_smp_processor_id+0x20/0x30
[   48.154117]  ? rcu_is_watching+0x19/0xc0
[   48.154504]  ? lock_release+0x592/0x870
[   48.154895]  ? __pfx___schedule+0x10/0x10
[   48.155314]  ? debug_smp_processor_id+0x20/0x30
[   48.155771]  ? rcu_is_watching+0x19/0xc0
[   48.156152]  ? trace_irq_enable+0xe1/0x120
[   48.156563]  ? do_task_dead+0x4a/0x110
[   48.156938]  do_task_dead+0xe0/0x110
[   48.157306]  make_task_dead+0x384/0x3c0
[   48.157711]  rewind_stack_and_make_dead+0x16/0x20
[   48.158161] RIP: 0033:0x7f17bd43ee5d
[   48.158508] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.159069] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.159768] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.160419] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.161053] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.161707] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.162329] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.162956]  </TASK>
[   48.163267] BUG: scheduling while atomic: repro/15165/0x00000000
[   48.164048] INFO: lockdep is turned off.
[   48.164504] Modules linked in:
[   48.164939] Preemption disabled at:
[   48.164947] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   48.165995] CPU: 0 UID: 0 PID: 15165 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.167022] Tainted: [D]=DIE, [W]=WARN
[   48.167477] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.168729] Call Trace:
[   48.169006]  <TASK>
[   48.169248]  dump_stack_lvl+0x121/0x150
[   48.169686]  ? do_task_dead+0x28/0x110
[   48.170103]  dump_stack+0x19/0x20
[   48.170488]  __schedule_bug+0x12d/0x180
[   48.170926]  __schedule+0x2401/0x33a0
[   48.171346]  ? do_task_dead+0xa8/0x110
[   48.171769]  ? rcu_is_watching+0x19/0xc0
[   48.172214]  ? lock_release+0x592/0x870
[   48.172937]  ? __pfx___schedule+0x10/0x10
[   48.173448]  ? debug_smp_processor_id+0x20/0x30
[   48.173954]  ? rcu_is_watching+0x19/0xc0
[   48.174383]  ? trace_irq_enable+0xe1/0x120
[   48.174824]  ? do_task_dead+0x4a/0x110
[   48.175224]  do_task_dead+0xe0/0x110
[   48.175618]  make_task_dead+0x384/0x3c0
[   48.176036]  rewind_stack_and_make_dead+0x16/0x20
[   48.176669] RIP: 0033:0x7f17bd43ee5d
[   48.177227] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.177860] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.178634] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.179357] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.180076] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.180796] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.181517] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.182232]  </TASK>
[   48.202025] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#83] PREEMPT SMP KASAN NOPTI
[   48.203146] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.204061] CPU: 1 UID: 0 PID: 15249 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.204964] Tainted: [D]=DIE, [W]=WARN
[   48.205360] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.206452] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.207033] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.208789] RSP: 0018:ffff8880260ef7d8 EFLAGS: 00010202
[   48.209560] RAX: dffffc0000000000 RBX: ffffea00008126c0 RCX: ffffffff81bbb789
[   48.210392] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00008126d0
[   48.211061] RBP: ffff8880260ef7f8 R08: 0000000000000000 R09: ffffed100236b508
[   48.211720] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.212382] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011b5a840
[   48.213032] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   48.213764] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.214305] CR2: 00007f17bd6e9ef8 CR3: 000000001a890003 CR4: 0000000000770ef0
[   48.214968] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.215935] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.216645] PKRU: 55555554
[   48.216915] Call Trace:
[   48.217164]  <TASK>
[   48.217380]  ? show_regs+0x6d/0x80
[   48.217732]  ? die_addr+0x45/0xb0
[   48.218069]  ? exc_general_protection+0x1ae/0x340
[   48.218537]  ? asm_exc_general_protection+0x2b/0x30
[   48.219024]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.219520]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.220017]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.220513]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.221008]  zap_huge_pmd+0x48e/0xd40
[   48.221437]  unmap_page_range+0x1ad6/0x4360
[   48.222076]  ? update_stack_state+0x2d9/0x610
[   48.222590]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.223085]  ? __pfx_unmap_page_range+0x10/0x10
[   48.223548]  unmap_single_vma+0x1ac/0x2d0
[   48.223950]  unmap_vmas+0x210/0x470
[   48.224314]  ? __pfx_unmap_vmas+0x10/0x10
[   48.224711]  ? __pfx_lock_release+0x10/0x10
[   48.225125]  ? lock_release+0x592/0x870
[   48.225526]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   48.226000]  ? __pfx_lock_release+0x10/0x10
[   48.226413]  ? mlock_drain_local+0x27f/0x4b0
[   48.226841]  exit_mmap+0x19e/0xb10
[   48.227209]  ? __pfx_exit_mmap+0x10/0x10
[   48.227601]  ? debug_smp_processor_id+0x20/0x30
[   48.228053]  ? trace_hardirqs_on+0x51/0x60
[   48.228456]  ? kasan_quarantine_put+0xa2/0x200
[   48.228896]  ? __khugepaged_exit+0x266/0x4c0
[   48.229336]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.229988]  __mmput+0xde/0x3a0
[   48.230491]  mmput+0x74/0x90
[   48.230808]  do_exit+0xa03/0x29f0
[   48.231164]  ? trace_hardirqs_on+0x51/0x60
[   48.231585]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.232191]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.232733]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.233490]  ? __pfx_do_exit+0x10/0x10
[   48.233987]  ? __audit_syscall_entry+0x39c/0x500
[   48.234576]  __x64_sys_exit+0x50/0x60
[   48.235046]  x64_sys_call+0x20c9/0x20d0
[   48.235584]  do_syscall_64+0x6d/0x140
[   48.236060]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.236688] RIP: 0033:0x7f17bd43ee5d
[   48.237132] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.237866] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.238770] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.239619] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.240463] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.241307] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.242147] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.243003]  </TASK>
[   48.243288] Modules linked in:
[   48.243828] ---[ end trace 0000000000000000 ]---
[   48.244403] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.245111] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.247383] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   48.248106] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   48.248959] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   48.249811] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   48.250663] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.251600] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   48.252446] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   48.253245] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.254054] CR2: 00007f17bd6e9ef8 CR3: 000000001a890003 CR4: 0000000000770ef0
[   48.254912] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.255846] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.256706] PKRU: 55555554
[   48.257047] note: repro[15249] exited with preempt_count 1
[   48.257710] Fixing recursive fault but reboot is needed!
[   48.258347] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15249
[   48.259270] caller is debug_smp_processor_id+0x20/0x30
[   48.260002] CPU: 1 UID: 0 PID: 15249 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.261106] Tainted: [D]=DIE, [W]=WARN
[   48.261568] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.262905] Call Trace:
[   48.263215]  <TASK>
[   48.263495]  dump_stack_lvl+0x121/0x150
[   48.263980]  dump_stack+0x19/0x20
[   48.264412]  check_preemption_disabled+0x168/0x180
[   48.265014]  debug_smp_processor_id+0x20/0x30
[   48.265571]  __schedule+0xa0/0x33a0
[   48.266016]  ? do_task_dead+0xa8/0x110
[   48.266490]  ? debug_smp_processor_id+0x20/0x30
[   48.267064]  ? rcu_is_watching+0x19/0xc0
[   48.267564]  ? lock_release+0x592/0x870
[   48.268046]  ? __pfx___schedule+0x10/0x10
[   48.268558]  ? debug_smp_processor_id+0x20/0x30
[   48.269127]  ? rcu_is_watching+0x19/0xc0
[   48.269627]  ? trace_irq_enable+0xe1/0x120
[   48.270144]  ? do_task_dead+0x4a/0x110
[   48.270618]  do_task_dead+0xe0/0x110
[   48.271069]  make_task_dead+0x384/0x3c0
[   48.271562]  rewind_stack_and_make_dead+0x16/0x20
[   48.272143] RIP: 0033:0x7f17bd43ee5d
[   48.272593] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.273331] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.274234] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.275085] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.275939] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.276789] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.277643] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.278507]  </TASK>
[   48.278874] BUG: scheduling while atomic: repro/15249/0x00000000
[   48.279771] INFO: lockdep is turned off.
[   48.280253] Modules linked in:
[   48.280646] Preemption disabled at:
[   48.280653] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   48.281728] CPU: 1 UID: 0 PID: 15249 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.282830] Tainted: [D]=DIE, [W]=WARN
[   48.283292] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.284636] Call Trace:
[   48.284947]  <TASK>
[   48.285221]  dump_stack_lvl+0x121/0x150
[   48.285710]  ? do_task_dead+0x28/0x110
[   48.286185]  dump_stack+0x19/0x20
[   48.286616]  __schedule_bug+0x12d/0x180
[   48.287104]  __schedule+0x2401/0x33a0
[   48.287573]  ? do_task_dead+0xa8/0x110
[   48.288043]  ? rcu_is_watching+0x19/0xc0
[   48.288544]  ? lock_release+0x592/0x870
[   48.289027]  ? __pfx___schedule+0x10/0x10
[   48.289540]  ? debug_smp_processor_id+0x20/0x30
[   48.290111]  ? rcu_is_watching+0x19/0xc0
[   48.290610]  ? trace_irq_enable+0xe1/0x120
[   48.291130]  ? do_task_dead+0x4a/0x110
[   48.291605]  do_task_dead+0xe0/0x110
[   48.292056]  make_task_dead+0x384/0x3c0
[   48.292552]  rewind_stack_and_make_dead+0x16/0x20
[   48.293136] RIP: 0033:0x7f17bd43ee5d
[   48.293588] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.294327] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.295231] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.296087] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.296941] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.297793] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.298645] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.299512]  </TASK>
[   48.519742] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#84] PREEMPT SMP KASAN NOPTI
[   48.521215] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.522285] CPU: 1 UID: 0 PID: 15361 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.523451] Tainted: [D]=DIE, [W]=WARN
[   48.523908] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.525318] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.526108] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.528406] RSP: 0018:ffff88802723f7d8 EFLAGS: 00010202
[   48.529125] RAX: dffffc0000000000 RBX: ffffea000045a1c0 RCX: ffffffff81bbb789
[   48.530019] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000045a1d0
[   48.530961] RBP: ffff88802723f7f8 R08: 0000000000000000 R09: ffffed10025264f0
[   48.531900] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.532799] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012932780
[   48.533659] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   48.534699] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.535488] CR2: 00007f17bd70ffa8 CR3: 000000001139a005 CR4: 0000000000770ef0
[   48.536343] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.537340] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.538183] PKRU: 55555554
[   48.538523] Call Trace:
[   48.538903]  <TASK>
[   48.539231]  ? show_regs+0x6d/0x80
[   48.539679]  ? die_addr+0x45/0xb0
[   48.540134]  ? exc_general_protection+0x1ae/0x340
[   48.540807]  ? asm_exc_general_protection+0x2b/0x30
[   48.541473]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.542104]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.542830]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.543465]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.544145]  zap_huge_pmd+0x48e/0xd40
[   48.544622]  unmap_page_range+0x1ad6/0x4360
[   48.545226]  ? update_stack_state+0x2d9/0x610
[   48.545793]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.546501]  ? __pfx_unmap_page_range+0x10/0x10
[   48.547071]  unmap_single_vma+0x1ac/0x2d0
[   48.547699]  unmap_vmas+0x210/0x470
[   48.548183]  ? __pfx_unmap_vmas+0x10/0x10
[   48.548689]  ? __pfx_lock_release+0x10/0x10
[   48.549346]  ? lock_release+0x592/0x870
[   48.549829]  ? mas_next_slot+0x133a/0x1a50
[   48.550345]  ? __pfx_lock_release+0x10/0x10
[   48.550871]  ? mlock_drain_local+0x27f/0x4b0
[   48.551415]  exit_mmap+0x19e/0xb10
[   48.551858]  ? __pfx_exit_mmap+0x10/0x10
[   48.552358]  ? debug_smp_processor_id+0x20/0x30
[   48.552933]  ? trace_hardirqs_on+0x51/0x60
[   48.553453]  ? kasan_quarantine_put+0xa2/0x200
[   48.554012]  ? __khugepaged_exit+0x266/0x4c0
[   48.554554]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.555212]  __mmput+0xde/0x3a0
[   48.555622]  mmput+0x74/0x90
[   48.555996]  do_exit+0xa03/0x29f0
[   48.556436]  ? trace_hardirqs_on+0x51/0x60
[   48.556950]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.557721]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.558324]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.558931]  ? __pfx_do_exit+0x10/0x10
[   48.559413]  ? __audit_syscall_entry+0x39c/0x500
[   48.559993]  __x64_sys_exit+0x50/0x60
[   48.560464]  x64_sys_call+0x20c9/0x20d0
[   48.560946]  do_syscall_64+0x6d/0x140
[   48.561414]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.562038] RIP: 0033:0x7f17bd43ee5d
[   48.562486] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.563219] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.564123] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.564969] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.565813] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.566659] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.567505] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.568360]  </TASK>
[   48.568640] Modules linked in:
[   48.569125] ---[ end trace 0000000000000000 ]---
[   48.569713] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.570423] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.572615] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   48.573251] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   48.574104] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   48.574966] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   48.575847] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.576705] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   48.577558] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   48.578521] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.579216] CR2: 00007f17bd70ffa8 CR3: 000000001139a005 CR4: 0000000000770ef0
[   48.580103] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.580960] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.581814] PKRU: 55555554
[   48.582154] note: repro[15361] exited with preempt_count 1
[   48.582818] Fixing recursive fault but reboot is needed!
[   48.583454] BUG: scheduling while atomic: repro/15361/0x00000000
[   48.584138] INFO: lockdep is turned off.
[   48.584594] Modules linked in:
[   48.584958] Preemption disabled at:
[   48.584964] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   48.585982] CPU: 1 UID: 0 PID: 15361 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.587025] Tainted: [D]=DIE, [W]=WARN
[   48.587463] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.588734] Call Trace:
[   48.589031]  <TASK>
[   48.589294]  dump_stack_lvl+0x121/0x150
[   48.589754]  ? do_task_dead+0x28/0x110
[   48.590197]  dump_stack+0x19/0x20
[   48.590602]  __schedule_bug+0x12d/0x180
[   48.591064]  __schedule+0x2401/0x33a0
[   48.591511]  ? do_task_dead+0xa8/0x110
[   48.591956]  ? rcu_is_watching+0x19/0xc0
[   48.592411]  ? lock_release+0x592/0x870
[   48.592844]  ? __pfx___schedule+0x10/0x10
[   48.593304]  ? debug_smp_processor_id+0x20/0x30
[   48.593816]  ? rcu_is_watching+0x19/0xc0
[   48.594261]  ? trace_irq_enable+0xe1/0x120
[   48.594732]  ? do_task_dead+0x4a/0x110
[   48.595155]  do_task_dead+0xe0/0x110
[   48.595566]  make_task_dead+0x384/0x3c0
[   48.596007]  rewind_stack_and_make_dead+0x16/0x20
[   48.596535] RIP: 0033:0x7f17bd43ee5d
[   48.596936] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.597603] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.598420] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.599182] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.599934] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.600664] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.601396] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.602136]  </TASK>
[   48.602888] systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   48.605051] systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   48.945826] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#85] PREEMPT SMP KASAN NOPTI
[   48.947267] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.948322] CPU: 1 UID: 0 PID: 15632 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   48.949421] Tainted: [D]=DIE, [W]=WARN
[   48.949880] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.951213] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.952070] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.954247] RSP: 0018:ffff88802ab8f7d8 EFLAGS: 00010202
[   48.954888] RAX: dffffc0000000000 RBX: ffffea00009c5f80 RCX: ffffffff81bbb789
[   48.955741] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c5f90
[   48.956682] RBP: ffff88802ab8f7f8 R08: 0000000000000000 R09: ffffed1002584944
[   48.957531] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.958382] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012c24a20
[   48.959231] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   48.960187] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.960927] CR2: 00007f17bd44e1f0 CR3: 000000002162c006 CR4: 0000000000770ef0
[   48.961779] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.962770] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.963651] PKRU: 55555554
[   48.964017] Call Trace:
[   48.964327]  <TASK>
[   48.964598]  ? show_regs+0x6d/0x80
[   48.965036]  ? die_addr+0x45/0xb0
[   48.965466]  ? exc_general_protection+0x1ae/0x340
[   48.966053]  ? asm_exc_general_protection+0x2b/0x30
[   48.966666]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.967298]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.967926]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.968558]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.969186]  zap_huge_pmd+0x48e/0xd40
[   48.969659]  unmap_page_range+0x1ad6/0x4360
[   48.970181]  ? update_stack_state+0x2d9/0x610
[   48.970747]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.971338]  ? __pfx_unmap_page_range+0x10/0x10
[   48.971880]  unmap_single_vma+0x1ac/0x2d0
[   48.972364]  unmap_vmas+0x210/0x470
[   48.972788]  ? __pfx_unmap_vmas+0x10/0x10
[   48.973260]  ? __pfx_lock_release+0x10/0x10
[   48.973758]  ? lock_release+0x592/0x870
[   48.974212]  ? mas_next_slot+0x133a/0x1a50
[   48.974701]  ? __pfx_lock_release+0x10/0x10
[   48.975196]  ? mlock_drain_local+0x27f/0x4b0
[   48.975708]  exit_mmap+0x19e/0xb10
[   48.976125]  ? __pfx_exit_mmap+0x10/0x10
[   48.976604]  ? debug_smp_processor_id+0x20/0x30
[   48.977145]  ? trace_hardirqs_on+0x51/0x60
[   48.977620]  ? kasan_quarantine_put+0xa2/0x200
[   48.978123]  ? __khugepaged_exit+0x266/0x4c0
[   48.978610]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.979198]  __mmput+0xde/0x3a0
[   48.979570]  mmput+0x74/0x90
[   48.979906]  do_exit+0xa03/0x29f0
[   48.980294]  ? trace_hardirqs_on+0x51/0x60
[   48.980757]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.981449]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.981987]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.982538]  ? __pfx_do_exit+0x10/0x10
[   48.982965]  ? __audit_syscall_entry+0x39c/0x500
[   48.983488]  __x64_sys_exit+0x50/0x60
[   48.983907]  x64_sys_call+0x20c9/0x20d0
[   48.984346]  do_syscall_64+0x6d/0x140
[   48.984764]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.985328] RIP: 0033:0x7f17bd43ee5d
[   48.985729] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   48.986392] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.987186] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   48.987916] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.988644] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   48.989374] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   48.990097] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   48.990836]  </TASK>
[   48.991077] Modules linked in:
[   48.991503] ---[ end trace 0000000000000000 ]---
[   48.991989] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.992598] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.994410] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   48.994931] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   48.995711] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   48.996415] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   48.997114] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.997878] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   48.998582] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   48.999687] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.000236] CR2: 00007f17bd44e1f0 CR3: 000000002162c006 CR4: 0000000000770ef0
[   49.000908] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.001664] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.002425] PKRU: 55555554
[   49.002693] note: repro[15632] exited with preempt_count 1
[   49.003209] Fixing recursive fault but reboot is needed!
[   49.003772] BUG: scheduling while atomic: repro/15632/0x00000000
[   49.004321] INFO: lockdep is turned off.
[   49.004679] Modules linked in:
[   49.005012] Preemption disabled at:
[   49.005017] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   49.005899] CPU: 1 UID: 0 PID: 15632 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.006728] Tainted: [D]=DIE, [W]=WARN
[   49.007070] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.008457] Call Trace:
[   49.008742]  <TASK>
[   49.008962]  dump_stack_lvl+0x121/0x150
[   49.009349]  ? do_task_dead+0x28/0x110
[   49.009744]  dump_stack+0x19/0x20
[   49.010558]  __schedule_bug+0x12d/0x180
[   49.010952]  __schedule+0x2401/0x33a0
[   49.011316]  ? do_task_dead+0xa8/0x110
[   49.011686]  ? rcu_is_watching+0x19/0xc0
[   49.012075]  ? lock_release+0x592/0x870
[   49.012457]  ? __pfx___schedule+0x10/0x10
[   49.012926]  ? debug_smp_processor_id+0x20/0x30
[   49.013386]  ? rcu_is_watching+0x19/0xc0
[   49.013788]  ? trace_irq_enable+0xe1/0x120
[   49.014193]  ? do_task_dead+0x4a/0x110
[   49.014672]  do_task_dead+0xe0/0x110
[   49.015074]  make_task_dead+0x384/0x3c0
[   49.015464]  rewind_stack_and_make_dead+0x16/0x20
[   49.015914] RIP: 0033:0x7f17bd43ee5d
[   49.016257] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   49.016829] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.017622] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   49.018286] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.018933] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   49.019704] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   49.020358] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   49.021019]  </TASK>
[   49.495267] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#86] PREEMPT SMP KASAN NOPTI
[   49.496380] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.497080] CPU: 1 UID: 0 PID: 15993 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.498005] Tainted: [D]=DIE, [W]=WARN
[   49.498379] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.499471] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.500053] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.501816] RSP: 0018:ffff8880271bf7d8 EFLAGS: 00010202
[   49.502705] RAX: dffffc0000000000 RBX: ffffea0000aaea80 RCX: ffffffff81bbb789
[   49.503407] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aaea90
[   49.504083] RBP: ffff8880271bf7f8 R08: 0000000000000000 R09: ffffed10021060a8
[   49.504736] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.505405] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888010830540
[   49.506141] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   49.507170] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.507720] CR2: 00007fffef6677b8 CR3: 000000001448a004 CR4: 0000000000770ef0
[   49.508399] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.509054] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.509715] PKRU: 55555554
[   49.509973] Call Trace:
[   49.510216]  <TASK>
[   49.510433]  ? show_regs+0x6d/0x80
[   49.510781]  ? die_addr+0x45/0xb0
[   49.511122]  ? exc_general_protection+0x1ae/0x340
[   49.511607]  ? asm_exc_general_protection+0x2b/0x30
[   49.512100]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.512597]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.513124]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.513646]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.514144]  zap_huge_pmd+0x48e/0xd40
[   49.514524]  unmap_page_range+0x1ad6/0x4360
[   49.514935]  ? update_stack_state+0x2d9/0x610
[   49.515401]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.515895]  ? __pfx_unmap_page_range+0x10/0x10
[   49.516375]  unmap_single_vma+0x1ac/0x2d0
[   49.516988]  unmap_vmas+0x210/0x470
[   49.517449]  ? __pfx_unmap_vmas+0x10/0x10
[   49.517859]  ? __pfx_lock_release+0x10/0x10
[   49.518273]  ? lock_release+0x592/0x870
[   49.518661]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   49.519136]  ? __pfx_lock_release+0x10/0x10
[   49.519558]  ? mlock_drain_local+0x27f/0x4b0
[   49.519983]  exit_mmap+0x19e/0xb10
[   49.520332]  ? __pfx_exit_mmap+0x10/0x10
[   49.520718]  ? debug_smp_processor_id+0x20/0x30
[   49.521168]  ? trace_hardirqs_on+0x51/0x60
[   49.521578]  ? kasan_quarantine_put+0xa2/0x200
[   49.522043]  ? __khugepaged_exit+0x266/0x4c0
[   49.522484]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.523003]  __mmput+0xde/0x3a0
[   49.523331]  mmput+0x74/0x90
[   49.523633]  do_exit+0xa03/0x29f0
[   49.523977]  ? trace_hardirqs_on+0x51/0x60
[   49.524398]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.525301]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.525855]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.526357]  ? __pfx_do_exit+0x10/0x10
[   49.526743]  ? __audit_syscall_entry+0x39c/0x500
[   49.527231]  __x64_sys_exit+0x50/0x60
[   49.527704]  x64_sys_call+0x20c9/0x20d0
[   49.528190]  do_syscall_64+0x6d/0x140
[   49.528664]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.529296] RIP: 0033:0x7f17bd43ee5d
[   49.529743] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   49.530645] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.531552] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   49.532405] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.533251] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   49.534102] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   49.535076] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   49.535945]  </TASK>
[   49.536231] Modules linked in:
[   49.536764] ---[ end trace 0000000000000000 ]---
[   49.537341] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.538048] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.540559] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   49.541207] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   49.542063] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   49.543126] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   49.544060] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.544921] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   49.545753] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   49.546521] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.547047] CR2: 00007fffef6677b8 CR3: 000000001448a004 CR4: 0000000000770ef0
[   49.547804] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.548467] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.549118] PKRU: 55555554
[   49.549387] note: repro[15993] exited with preempt_count 1
[   49.549889] Fixing recursive fault but reboot is needed!
[   49.550508] BUG: scheduling while atomic: repro/15993/0x00000000
[   49.551062] INFO: lockdep is turned off.
[   49.551512] Modules linked in:
[   49.551813] Preemption disabled at:
[   49.551819] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   49.552648] CPU: 1 UID: 0 PID: 15993 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.553483] Tainted: [D]=DIE, [W]=WARN
[   49.553851] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.554858] Call Trace:
[   49.555097]  <TASK>
[   49.555314]  dump_stack_lvl+0x121/0x150
[   49.555690]  ? do_task_dead+0x28/0x110
[   49.556050]  dump_stack+0x19/0x20
[   49.556382]  __schedule_bug+0x12d/0x180
[   49.556799]  __schedule+0x2401/0x33a0
[   49.557293]  ? do_task_dead+0xa8/0x110
[   49.557659]  ? rcu_is_watching+0x19/0xc0
[   49.558041]  ? lock_release+0x592/0x870
[   49.558419]  ? __pfx___schedule+0x10/0x10
[   49.558813]  ? debug_smp_processor_id+0x20/0x30
[   49.559253]  ? rcu_is_watching+0x19/0xc0
[   49.559641]  ? trace_irq_enable+0xe1/0x120
[   49.560047]  ? do_task_dead+0x4a/0x110
[   49.560415]  do_task_dead+0xe0/0x110
[   49.560767]  make_task_dead+0x384/0x3c0
[   49.561148]  rewind_stack_and_make_dead+0x16/0x20
[   49.561602] RIP: 0033:0x7f17bd43ee5d
[   49.561948] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   49.562568] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.563345] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   49.563995] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.564654] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   49.565457] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   49.566106] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   49.566768]  </TASK>
[   49.882360] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#87] PREEMPT SMP KASAN NOPTI
[   49.883533] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.884210] CPU: 1 UID: 0 PID: 16238 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.885035] Tainted: [D]=DIE, [W]=WARN
[   49.885385] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.886382] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.886919] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.888540] RSP: 0018:ffff88801387f7d8 EFLAGS: 00010202
[   49.889021] RAX: dffffc0000000000 RBX: ffffea0000515300 RCX: ffffffff81bbb789
[   49.889664] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000515310
[   49.890301] RBP: ffff88801387f7f8 R08: 0000000000000000 R09: ffffed1003131048
[   49.890940] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.891583] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888018988240
[   49.892223] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   49.892944] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.893476] CR2: 00007f17bd6e9ef8 CR3: 000000001ee36005 CR4: 0000000000770ef0
[   49.894117] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.894755] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.895397] PKRU: 55555554
[   49.895657] Call Trace:
[   49.895892]  <TASK>
[   49.896102]  ? show_regs+0x6d/0x80
[   49.896446]  ? die_addr+0x45/0xb0
[   49.896776]  ? exc_general_protection+0x1ae/0x340
[   49.897228]  ? asm_exc_general_protection+0x2b/0x30
[   49.897699]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.898177]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.898661]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.899141]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.899624]  zap_huge_pmd+0x48e/0xd40
[   49.899985]  unmap_page_range+0x1ad6/0x4360
[   49.900389]  ? update_stack_state+0x2d9/0x610
[   49.900819]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.901295]  ? __pfx_unmap_page_range+0x10/0x10
[   49.901735]  unmap_single_vma+0x1ac/0x2d0
[   49.902124]  unmap_vmas+0x210/0x470
[   49.902475]  ? __pfx_unmap_vmas+0x10/0x10
[   49.902856]  ? __pfx_lock_release+0x10/0x10
[   49.903254]  ? lock_release+0x592/0x870
[   49.903627]  ? mas_next_slot+0x133a/0x1a50
[   49.904018]  ? __pfx_lock_release+0x10/0x10
[   49.904423]  ? mlock_drain_local+0x27f/0x4b0
[   49.904835]  exit_mmap+0x19e/0xb10
[   49.905175]  ? __pfx_exit_mmap+0x10/0x10
[   49.905556]  ? debug_smp_processor_id+0x20/0x30
[   49.905996]  ? trace_hardirqs_on+0x51/0x60
[   49.906396]  ? kasan_quarantine_put+0xa2/0x200
[   49.906822]  ? __khugepaged_exit+0x266/0x4c0
[   49.907234]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.907738]  __mmput+0xde/0x3a0
[   49.908050]  mmput+0x74/0x90
[   49.908343]  do_exit+0xa03/0x29f0
[   49.908671]  ? trace_hardirqs_on+0x51/0x60
[   49.909064]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.909652]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.910110]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.910577]  ? __pfx_do_exit+0x10/0x10
[   49.910949]  ? __audit_syscall_entry+0x39c/0x500
[   49.911395]  __x64_sys_exit+0x50/0x60
[   49.911754]  x64_sys_call+0x20c9/0x20d0
[   49.912123]  do_syscall_64+0x6d/0x140
[   49.912483]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.912961] RIP: 0033:0x7f17bd43ee5d
[   49.913304] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   49.913856] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.914541] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   49.915177] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.915818] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   49.916459] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   49.917095] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   49.917748]  </TASK>
[   49.917964] Modules linked in:
[   49.918316] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#88] PREEMPT SMP KASAN NOPTI
[   49.918369] ---[ end trace 0000000000000000 ]---
[   49.919423] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.919446] CPU: 0 UID: 0 PID: 16262 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.919940] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.920618] Tainted: [D]=DIE, [W]=WARN
[   49.921682] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.922181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.922582] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   49.924137] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.925229] 
[   49.925688] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.926198] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   49.926362] RSP: 0018:ffff8880260ff7d8 EFLAGS: 00010202
[   49.928000] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   49.928599] 
[   49.929161] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   49.929780] RAX: dffffc0000000000 RBX: ffffea0000984300 RCX: ffffffff81bbb789
[   49.929949] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.930578] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000984310
[   49.931275] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   49.931894] RBP: ffff8880260ff7f8 R08: 0000000000000000 R09: ffffed10024040a8
[   49.931909] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.932549] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   49.933163] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012020540
[   49.933176] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.934023] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.934641] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.935370] CR2: 00007f17bd6e9ef8 CR3: 000000001ee36005 CR4: 0000000000770ef0
[   49.935983] CR2: 00007f17bd49bc20 CR3: 000000001dda2004 CR4: 0000000000770ef0
[   49.935999] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.936679] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.937178] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.937830] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.938461] PKRU: 55555554
[   49.939136] PKRU: 55555554
[   49.939773] Call Trace:
[   49.939782]  <TASK>
[   49.939792]  ? show_regs+0x6d/0x80
[   49.940393] note: repro[16238] exited with preempt_count 1
[   49.941015]  ? die_addr+0x45/0xb0
[   49.941673] Fixing recursive fault but reboot is needed!
[   49.941929]  ? exc_general_protection+0x1ae/0x340
[   49.942165] check_preemption_disabled: 3 callbacks suppressed
[   49.942174] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16238
[   49.942403]  ? asm_exc_general_protection+0x2b/0x30
[   49.942584] caller is debug_smp_processor_id+0x20/0x30
[   49.942910]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.943371] CPU: 1 UID: 0 PID: 16238 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.943686]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.944122] Tainted: [D]=DIE, [W]=WARN
[   49.944542]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.945159] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.945862]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.946315] Call Trace:
[   49.946805]  zap_huge_pmd+0x48e/0xd40
[   49.947316]  <TASK>
[   49.948104]  unmap_page_range+0x1ad6/0x4360
[   49.948583]  dump_stack_lvl+0x121/0x150
[   49.948914]  ? update_stack_state+0x2d9/0x610
[   49.949326]  dump_stack+0x19/0x20
[   49.950311]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.950724]  check_preemption_disabled+0x168/0x180
[   49.950951]  ? __pfx_unmap_page_range+0x10/0x10
[   49.951325]  debug_smp_processor_id+0x20/0x30
[   49.951530]  unmap_single_vma+0x1ac/0x2d0
[   49.951857]  __schedule+0xa0/0x33a0
[   49.952201]  unmap_vmas+0x210/0x470
[   49.952552]  ? do_task_dead+0xa8/0x110
[   49.952861]  ? __pfx_unmap_vmas+0x10/0x10
[   49.953238]  ? debug_smp_processor_id+0x20/0x30
[   49.953671]  ? __pfx_lock_release+0x10/0x10
[   49.954047]  ? rcu_is_watching+0x19/0xc0
[   49.954484]  ? lock_release+0x592/0x870
[   49.954825]  ? lock_release+0x592/0x870
[   49.955154]  ? mas_next_slot+0x133a/0x1a50
[   49.955451]  ? __pfx___schedule+0x10/0x10
[   49.955787]  ? __pfx_lock_release+0x10/0x10
[   49.956139]  ? debug_smp_processor_id+0x20/0x30
[   49.956556]  ? mlock_drain_local+0x27f/0x4b0
[   49.956899]  ? rcu_is_watching+0x19/0xc0
[   49.957259]  exit_mmap+0x19e/0xb10
[   49.957577]  ? trace_irq_enable+0xe1/0x120
[   49.957928]  ? __pfx_exit_mmap+0x10/0x10
[   49.958326]  ? do_task_dead+0x4a/0x110
[   49.958692]  ? debug_smp_processor_id+0x20/0x30
[   49.959215]  do_task_dead+0xe0/0x110
[   49.959628]  ? trace_hardirqs_on+0x51/0x60
[   49.960165]  make_task_dead+0x384/0x3c0
[   49.960518]  ? kasan_quarantine_put+0xa2/0x200
[   49.960936]  rewind_stack_and_make_dead+0x16/0x20
[   49.961316]  ? __khugepaged_exit+0x266/0x4c0
[   49.961768] RIP: 0033:0x7f17bd43ee5d
[   49.962110]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.962571] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   49.962912]  __mmput+0xde/0x3a0
[   49.963287] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   49.963640]  mmput+0x74/0x90
[   49.964050]  ORIG_RAX: 000000000000003c
[   49.964486]  do_exit+0xa03/0x29f0
[   49.964895] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   49.965228]  ? trace_hardirqs_on+0x51/0x60
[   49.965726] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.966274]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.966710] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   49.967183]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.967556] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   49.967906]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.968250] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   49.968892]  ? __pfx_do_exit+0x10/0x10
[   49.969334]  </TASK>
[   49.969956]  ? __audit_syscall_entry+0x39c/0x500
[   49.974473]  __x64_sys_exit+0x50/0x60
[   49.974867]  x64_sys_call+0x20c9/0x20d0
[   49.975257]  do_syscall_64+0x6d/0x140
[   49.975634]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.976116] RIP: 0033:0x7f17bd43ee5d
[   49.976470] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   49.977028] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.977725] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   49.978378] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.979029] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   49.979684] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   49.980335] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   49.980990]  </TASK>
[   49.981263] Modules linked in:
[   49.982028] ---[ end trace 0000000000000000 ]---
[   49.982473] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.983017] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.984813] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   49.985334] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   49.985991] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   49.986659] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   49.987307] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.988096] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   49.988795] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   49.989551] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.990123] CR2: 00007f17bd49bc20 CR3: 000000001dda2004 CR4: 0000000000770ef0
[   49.990789] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.991534] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.992203] PKRU: 55555554
[   49.992493] note: repro[16262] exited with preempt_count 1
[   49.992994] Fixing recursive fault but reboot is needed!
[   49.993485] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16262
[   49.994199] caller is debug_smp_processor_id+0x20/0x30
[   49.994699] CPU: 0 UID: 0 PID: 16262 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   49.995549] Tainted: [D]=DIE, [W]=WARN
[   49.995907] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.996992] Call Trace:
[   49.997260]  <TASK>
[   49.997480]  dump_stack_lvl+0x121/0x150
[   49.997857]  dump_stack+0x19/0x20
[   49.998189]  check_preemption_disabled+0x168/0x180
[   49.998682]  debug_smp_processor_id+0x20/0x30
[   49.999106]  __schedule+0xa0/0x33a0
[   49.999351] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#89] PREEMPT SMP KASAN NOPTI
[   49.999447]  ? do_task_dead+0xa8/0x110
[   50.000644] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.000992]  ? debug_smp_processor_id+0x20/0x30
[   50.001711] CPU: 1 UID: 0 PID: 16296 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.002125]  ? rcu_is_watching+0x19/0xc0
[   50.002711] Tainted: [D]=DIE, [W]=WARN
[   50.003067]  ? lock_release+0x592/0x870
[   50.003310] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.003659]  ? __pfx___schedule+0x10/0x10
[   50.004376] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.004745]  ? debug_smp_processor_id+0x20/0x30
[   50.005256] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.005679]  ? rcu_is_watching+0x19/0xc0
[   50.007516] RSP: 0018:ffff8880134677d8 EFLAGS: 00010202
[   50.007878]  ? trace_irq_enable+0xe1/0x120
[   50.008360] RAX: dffffc0000000000 RBX: ffffea00004bd940 RCX: ffffffff81bbb789
[   50.008733]  ? do_task_dead+0x4a/0x110
[   50.009365] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004bd950
[   50.009711]  do_task_dead+0xe0/0x110
[   50.010348] RBP: ffff8880134677f8 R08: 0000000000000000 R09: ffffed10026983b0
[   50.010689]  make_task_dead+0x384/0x3c0
[   50.011323] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.011698]  rewind_stack_and_make_dead+0x16/0x20
[   50.012337] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c1d80
[   50.012768] RIP: 0033:0x7f17bd43ee5d
[   50.013420] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.013752] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.014437] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.014984] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   50.015542] CR2: 00007f17bd6e9e28 CR3: 000000002721e002 CR4: 0000000000770ef0
[   50.015545]  ORIG_RAX: 000000000000003c
[   50.015557] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.015990] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.016635] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.016957] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.017593] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.018187] PKRU: 55555554
[   50.018820] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.019397] Call Trace:
[   50.020042] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.020287]  <TASK>
[   50.020963]  </TASK>
[   50.021213]  ? show_regs+0x6d/0x80
[   50.023046]  ? die_addr+0x45/0xb0
[   50.023436]  ? exc_general_protection+0x1ae/0x340
[   50.023900]  ? asm_exc_general_protection+0x2b/0x30
[   50.024380]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.024880]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.025366]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.025858]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.026350]  zap_huge_pmd+0x48e/0xd40
[   50.026716]  unmap_page_range+0x1ad6/0x4360
[   50.027135]  ? update_stack_state+0x2d9/0x610
[   50.027587]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.028072]  ? __pfx_unmap_page_range+0x10/0x10
[   50.028529]  unmap_single_vma+0x1ac/0x2d0
[   50.028924]  unmap_vmas+0x210/0x470
[   50.029275]  ? __pfx_unmap_vmas+0x10/0x10
[   50.029672]  ? __pfx_lock_release+0x10/0x10
[   50.030078]  ? lock_release+0x592/0x870
[   50.030461]  ? mas_next_slot+0x133a/0x1a50
[   50.030864]  ? __pfx_lock_release+0x10/0x10
[   50.031263]  ? mlock_drain_local+0x27f/0x4b0
[   50.031679]  exit_mmap+0x19e/0xb10
[   50.032020]  ? __pfx_exit_mmap+0x10/0x10
[   50.032390]  ? debug_smp_processor_id+0x20/0x30
[   50.032824]  ? trace_hardirqs_on+0x51/0x60
[   50.033222]  ? kasan_quarantine_put+0xa2/0x200
[   50.033658]  ? __khugepaged_exit+0x266/0x4c0
[   50.034061]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.034550]  __mmput+0xde/0x3a0
[   50.034847]  mmput+0x74/0x90
[   50.035125]  do_exit+0xa03/0x29f0
[   50.035393]  ? trace_hardirqs_on+0x51/0x60
[   50.035639]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.036000]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.036286]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.036576]  ? __pfx_do_exit+0x10/0x10
[   50.036804]  ? __audit_syscall_entry+0x39c/0x500
[   50.037079]  __x64_sys_exit+0x50/0x60
[   50.037304]  x64_sys_call+0x20c9/0x20d0
[   50.037533]  do_syscall_64+0x6d/0x140
[   50.037758]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.038056] RIP: 0033:0x7f17bd43ee5d
[   50.038268] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.038600] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.039012] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.039399] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.039787] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.040320] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.040975] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.041645]  </TASK>
[   50.041871] Modules linked in:
[   50.042264] ---[ end trace 0000000000000000 ]---
[   50.042711] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.043260] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.044956] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   50.045455] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   50.046116] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   50.046773] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   50.047467] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.048122] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   50.048782] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.049532] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.050072] CR2: 00007f17bd6e9e28 CR3: 000000002721e002 CR4: 0000000000770ef0
[   50.050735] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.051392] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.052220] PKRU: 55555554
[   50.052495] note: repro[16296] exited with preempt_count 1
[   50.053006] Fixing recursive fault but reboot is needed!
[   50.053512] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16296
[   50.054234] caller is debug_smp_processor_id+0x20/0x30
[   50.054738] CPU: 1 UID: 0 PID: 16296 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.055594] Tainted: [D]=DIE, [W]=WARN
[   50.055951] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.056973] Call Trace:
[   50.057218]  <TASK>
[   50.057432]  dump_stack_lvl+0x121/0x150
[   50.057810]  dump_stack+0x19/0x20
[   50.058144]  check_preemption_disabled+0x168/0x180
[   50.058617]  debug_smp_processor_id+0x20/0x30
[   50.059048]  __schedule+0xa0/0x33a0
[   50.059405]  ? do_task_dead+0xa8/0x110
[   50.059806]  ? debug_smp_processor_id+0x20/0x30
[   50.060472]  ? rcu_is_watching+0x19/0xc0
[   50.060871]  ? lock_release+0x592/0x870
[   50.061268]  ? __pfx___schedule+0x10/0x10
[   50.061891]  ? debug_smp_processor_id+0x20/0x30
[   50.062470]  ? rcu_is_watching+0x19/0xc0
[   50.063085]  ? trace_irq_enable+0xe1/0x120
[   50.063613]  ? do_task_dead+0x4a/0x110
[   50.064086]  do_task_dead+0xe0/0x110
[   50.064544]  make_task_dead+0x384/0x3c0
[   50.065257]  rewind_stack_and_make_dead+0x16/0x20
[   50.065865] RIP: 0033:0x7f17bd43ee5d
[   50.066376] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.067018] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.067966] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.068913] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.069617] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.070534] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.071491] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.072464]  </TASK>
[   50.072853] BUG: scheduling while atomic: repro/16296/0x00000000
[   50.073919] INFO: lockdep is turned off.
[   50.074403] Modules linked in:
[   50.074838] Preemption disabled at:
[   50.074845] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   50.076031] CPU: 1 UID: 0 PID: 16296 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.077337] Tainted: [D]=DIE, [W]=WARN
[   50.077875] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.079340] Call Trace:
[   50.079653]  <TASK>
[   50.079925]  dump_stack_lvl+0x121/0x150
[   50.080523]  ? do_task_dead+0x28/0x110
[   50.081017]  dump_stack+0x19/0x20
[   50.081608]  __schedule_bug+0x12d/0x180
[   50.082146]  __schedule+0x2401/0x33a0
[   50.082780]  ? do_task_dead+0xa8/0x110
[   50.083251]  ? rcu_is_watching+0x19/0xc0
[   50.083887]  ? lock_release+0x592/0x870
[   50.084376]  ? __pfx___schedule+0x10/0x10
[   50.084972]  ? debug_smp_processor_id+0x20/0x30
[   50.085566]  ? rcu_is_watching+0x19/0xc0
[   50.086088]  ? trace_irq_enable+0xe1/0x120
[   50.086619]  ? do_task_dead+0x4a/0x110
[   50.087090]  do_task_dead+0xe0/0x110
[   50.087716]  make_task_dead+0x384/0x3c0
[   50.088268]  rewind_stack_and_make_dead+0x16/0x20
[   50.088860] RIP: 0033:0x7f17bd43ee5d
[   50.089388] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.090129] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.091043] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.092107] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.092778] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.093509] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.094166] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.094858]  </TASK>
[   50.309390] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#90] PREEMPT SMP KASAN NOPTI
[   50.310545] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.311310] CPU: 1 UID: 0 PID: 16411 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.312166] Tainted: [D]=DIE, [W]=WARN
[   50.312539] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.313817] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.314501] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.316172] RSP: 0018:ffff888012e777d8 EFLAGS: 00010202
[   50.316671] RAX: dffffc0000000000 RBX: ffffea00004e8380 RCX: ffffffff81bbb789
[   50.317352] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004e8390
[   50.318011] RBP: ffff888012e777f8 R08: 0000000000000000 R09: ffffed1003bd9afc
[   50.318671] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.319335] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801decd7e0
[   50.320366] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.321128] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.321670] CR2: 00007f17bd6ea658 CR3: 000000000fb9a006 CR4: 0000000000770ef0
[   50.322330] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.322983] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.323653] PKRU: 55555554
[   50.323919] Call Trace:
[   50.324164]  <TASK>
[   50.324382]  ? show_regs+0x6d/0x80
[   50.324732]  ? die_addr+0x45/0xb0
[   50.325093]  ? exc_general_protection+0x1ae/0x340
[   50.325560]  ? asm_exc_general_protection+0x2b/0x30
[   50.326346]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.326922]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.327431]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.327937]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.328447]  zap_huge_pmd+0x48e/0xd40
[   50.328830]  unmap_page_range+0x1ad6/0x4360
[   50.329273]  ? update_stack_state+0x2d9/0x610
[   50.329748]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.330542]  ? __pfx_unmap_page_range+0x10/0x10
[   50.331057]  unmap_single_vma+0x1ac/0x2d0
[   50.331479]  unmap_vmas+0x210/0x470
[   50.331852]  ? __pfx_unmap_vmas+0x10/0x10
[   50.332248]  ? __pfx_lock_release+0x10/0x10
[   50.332671]  ? lock_release+0x592/0x870
[   50.333051]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.333549]  ? __pfx_lock_release+0x10/0x10
[   50.334043]  ? mlock_drain_local+0x27f/0x4b0
[   50.334714]  exit_mmap+0x19e/0xb10
[   50.335108]  ? __pfx_exit_mmap+0x10/0x10
[   50.335525]  ? debug_smp_processor_id+0x20/0x30
[   50.336002]  ? trace_hardirqs_on+0x51/0x60
[   50.336418]  ? kasan_quarantine_put+0xa2/0x200
[   50.336870]  ? __khugepaged_exit+0x266/0x4c0
[   50.337305]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.337841]  __mmput+0xde/0x3a0
[   50.338274]  mmput+0x74/0x90
[   50.338738]  do_exit+0xa03/0x29f0
[   50.339149]  ? trace_hardirqs_on+0x51/0x60
[   50.339578]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.340196]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.340660]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.341143]  ? __pfx_do_exit+0x10/0x10
[   50.341525]  ? __audit_syscall_entry+0x39c/0x500
[   50.341990]  __x64_sys_exit+0x50/0x60
[   50.342427]  x64_sys_call+0x20c9/0x20d0
[   50.342914]  do_syscall_64+0x6d/0x140
[   50.343340]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.343852] RIP: 0033:0x7f17bd43ee5d
[   50.344210] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.345076] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.345812] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.346504] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.347162] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.347814] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.348460] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.349129]  </TASK>
[   50.349362] Modules linked in:
[   50.349897] ---[ end trace 0000000000000000 ]---
[   50.350383] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.350963] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.352666] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   50.353407] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   50.354066] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   50.354740] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   50.355432] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.356093] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   50.356772] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   50.357524] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.358084] CR2: 00007f17bd6ea658 CR3: 000000000fb9a006 CR4: 0000000000770ef0
[   50.358762] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.359464] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.360152] PKRU: 55555554
[   50.360430] note: repro[16411] exited with preempt_count 1
[   50.360949] Fixing recursive fault but reboot is needed!
[   50.361448] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16411
[   50.362169] caller is debug_smp_processor_id+0x20/0x30
[   50.362708] CPU: 1 UID: 0 PID: 16411 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.363561] Tainted: [D]=DIE, [W]=WARN
[   50.363918] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.364985] Call Trace:
[   50.365236]  <TASK>
[   50.365462]  dump_stack_lvl+0x121/0x150
[   50.365852]  dump_stack+0x19/0x20
[   50.366191]  check_preemption_disabled+0x168/0x180
[   50.366660]  debug_smp_processor_id+0x20/0x30
[   50.367093]  __schedule+0xa0/0x33a0
[   50.367453]  ? do_task_dead+0xa8/0x110
[   50.367827]  ? debug_smp_processor_id+0x20/0x30
[   50.368284]  ? rcu_is_watching+0x19/0xc0
[   50.368704]  ? lock_release+0x592/0x870
[   50.369260]  ? __pfx___schedule+0x10/0x10
[   50.369919]  ? debug_smp_processor_id+0x20/0x30
[   50.370408]  ? rcu_is_watching+0x19/0xc0
[   50.370798]  ? trace_irq_enable+0xe1/0x120
[   50.371213]  ? do_task_dead+0x4a/0x110
[   50.371588]  do_task_dead+0xe0/0x110
[   50.371942]  make_task_dead+0x384/0x3c0
[   50.372337]  rewind_stack_and_make_dead+0x16/0x20
[   50.372808] RIP: 0033:0x7f17bd43ee5d
[   50.373173] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.373761] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.374559] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.375332] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.376289] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.376990] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.377676] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.378355]  </TASK>
[   50.378648] BUG: scheduling while atomic: repro/16411/0x00000000
[   50.379246] INFO: lockdep is turned off.
[   50.379639] Modules linked in:
[   50.379947] Preemption disabled at:
[   50.379953] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   50.380796] CPU: 1 UID: 0 PID: 16411 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.381689] Tainted: [D]=DIE, [W]=WARN
[   50.382083] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.383130] Call Trace:
[   50.383389]  <TASK>
[   50.383735]  dump_stack_lvl+0x121/0x150
[   50.384386]  ? do_task_dead+0x28/0x110
[   50.384756]  dump_stack+0x19/0x20
[   50.385101]  __schedule_bug+0x12d/0x180
[   50.385501]  __schedule+0x2401/0x33a0
[   50.385888]  ? do_task_dead+0xa8/0x110
[   50.386265]  ? rcu_is_watching+0x19/0xc0
[   50.386674]  ? lock_release+0x592/0x870
[   50.387056]  ? __pfx___schedule+0x10/0x10
[   50.387466]  ? debug_smp_processor_id+0x20/0x30
[   50.387935]  ? rcu_is_watching+0x19/0xc0
[   50.388348]  ? trace_irq_enable+0xe1/0x120
[   50.388788]  ? do_task_dead+0x4a/0x110
[   50.389160]  do_task_dead+0xe0/0x110
[   50.389519]  make_task_dead+0x384/0x3c0
[   50.390094]  rewind_stack_and_make_dead+0x16/0x20
[   50.390746] RIP: 0033:0x7f17bd43ee5d
[   50.391105] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.391702] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.392404] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.393054] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.393718] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.394455] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.395261] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.395942]  </TASK>
[   50.710117] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#91] PREEMPT SMP KASAN NOPTI
[   50.711241] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.711954] CPU: 0 UID: 0 PID: 16670 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.712818] Tainted: [D]=DIE, [W]=WARN
[   50.713175] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.714283] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.715111] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.716794] RSP: 0018:ffff88802724f7d8 EFLAGS: 00010202
[   50.717292] RAX: dffffc0000000000 RBX: ffffea00006aaec0 RCX: ffffffff81bbb789
[   50.717960] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006aaed0
[   50.718635] RBP: ffff88802724f7f8 R08: 0000000000000000 R09: ffffed100220eaf0
[   50.719295] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   50.719963] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011075780
[   50.720627] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   50.721374] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.721932] CR2: 00007f17bd49bc20 CR3: 0000000013b30006 CR4: 0000000000770ef0
[   50.722602] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.723256] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.723917] PKRU: 55555554
[   50.724183] Call Trace:
[   50.724423]  <TASK>
[   50.724637]  ? show_regs+0x6d/0x80
[   50.724983]  ? die_addr+0x45/0xb0
[   50.725328]  ? exc_general_protection+0x1ae/0x340
[   50.725796]  ? asm_exc_general_protection+0x2b/0x30
[   50.726297]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.726800]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.727301]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.727807]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.728333]  zap_huge_pmd+0x48e/0xd40
[   50.728712]  unmap_page_range+0x1ad6/0x4360
[   50.729133]  ? __pfx_lock_release+0x10/0x10
[   50.729550]  ? do_raw_spin_trylock+0xbf/0x190
[   50.730009]  ? __kasan_check_read+0x15/0x20
[   50.730432]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.730928]  ? __pfx_unmap_page_range+0x10/0x10
[   50.731390]  unmap_single_vma+0x1ac/0x2d0
[   50.731791]  unmap_vmas+0x210/0x470
[   50.732152]  ? __pfx_unmap_vmas+0x10/0x10
[   50.732547]  ? __pfx_lock_release+0x10/0x10
[   50.732952]  ? lock_release+0x592/0x870
[   50.733329]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.733803]  ? __pfx_lock_release+0x10/0x10
[   50.734243]  ? mlock_drain_local+0x27f/0x4b0
[   50.734705]  exit_mmap+0x19e/0xb10
[   50.735062]  ? __pfx_exit_mmap+0x10/0x10
[   50.735454]  ? debug_smp_processor_id+0x20/0x30
[   50.735907]  ? trace_hardirqs_on+0x51/0x60
[   50.736336]  ? kasan_quarantine_put+0xa2/0x200
[   50.736784]  ? __khugepaged_exit+0x266/0x4c0
[   50.737225]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.737743]  __mmput+0xde/0x3a0
[   50.738070]  mmput+0x74/0x90
[   50.738375]  do_exit+0xa03/0x29f0
[   50.738731]  ? trace_hardirqs_on+0x51/0x60
[   50.739147]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.739749]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.740215]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.740705]  ? __pfx_do_exit+0x10/0x10
[   50.741166]  ? __audit_syscall_entry+0x39c/0x500
[   50.741859]  __x64_sys_exit+0x50/0x60
[   50.742243]  x64_sys_call+0x20c9/0x20d0
[   50.742627]  do_syscall_64+0x6d/0x140
[   50.742995]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.743486] RIP: 0033:0x7f17bd43ee5d
[   50.743843] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.744408] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.745100] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.745759] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.746420] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.747081] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.748129] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.748821]  </TASK>
[   50.749067] Modules linked in:
[   50.749570] ---[ end trace 0000000000000000 ]---
[   50.750027] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.750598] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.752735] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   50.753566] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   50.754429] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   50.755283] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   50.756199] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.757062] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   50.757974] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   50.758938] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.759669] CR2: 00007f17bd49bc20 CR3: 0000000013b30006 CR4: 0000000000770ef0
[   50.760547] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.761585] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.762443] PKRU: 55555554
[   50.762786] note: repro[16670] exited with preempt_count 1
[   50.763471] Fixing recursive fault but reboot is needed!
[   50.764110] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16670
[   50.765050] caller is debug_smp_processor_id+0x20/0x30
[   50.765817] CPU: 0 UID: 0 PID: 16670 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.766916] Tainted: [D]=DIE, [W]=WARN
[   50.767378] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.768715] Call Trace:
[   50.769024]  <TASK>
[   50.769301]  dump_stack_lvl+0x121/0x150
[   50.769868]  dump_stack+0x19/0x20
[   50.770306]  check_preemption_disabled+0x168/0x180
[   50.770912]  debug_smp_processor_id+0x20/0x30
[   50.771473]  __schedule+0xa0/0x33a0
[   50.771924]  ? do_task_dead+0xa8/0x110
[   50.772404]  ? debug_smp_processor_id+0x20/0x30
[   50.772977]  ? rcu_is_watching+0x19/0xc0
[   50.773586]  ? lock_release+0x592/0x870
[   50.774243]  ? __pfx___schedule+0x10/0x10
[   50.774657]  ? debug_smp_processor_id+0x20/0x30
[   50.775119]  ? rcu_is_watching+0x19/0xc0
[   50.775527]  ? trace_irq_enable+0xe1/0x120
[   50.775946]  ? do_task_dead+0x4a/0x110
[   50.776321]  do_task_dead+0xe0/0x110
[   50.776673]  make_task_dead+0x384/0x3c0
[   50.777061]  rewind_stack_and_make_dead+0x16/0x20
[   50.777555] RIP: 0033:0x7f17bd43ee5d
[   50.777918] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.778757] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.779886] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.780772] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.781628] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.782476] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.783325] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.784180]  </TASK>
[   50.784613] BUG: scheduling while atomic: repro/16670/0x00000000
[   50.785350] INFO: lockdep is turned off.
[   50.785948] Modules linked in:
[   50.786405] Preemption disabled at:
[   50.786412] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   50.787527] CPU: 0 UID: 0 PID: 16670 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.788635] Tainted: [D]=DIE, [W]=WARN
[   50.789093] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.790435] Call Trace:
[   50.790908]  <TASK>
[   50.791313]  dump_stack_lvl+0x121/0x150
[   50.791948]  ? do_task_dead+0x28/0x110
[   50.792529]  dump_stack+0x19/0x20
[   50.792957]  __schedule_bug+0x12d/0x180
[   50.793455]  __schedule+0x2401/0x33a0
[   50.793924]  ? do_task_dead+0xa8/0x110
[   50.794399]  ? rcu_is_watching+0x19/0xc0
[   50.794896]  ? lock_release+0x592/0x870
[   50.795386]  ? __pfx___schedule+0x10/0x10
[   50.795898]  ? debug_smp_processor_id+0x20/0x30
[   50.796597]  ? rcu_is_watching+0x19/0xc0
[   50.797095]  ? trace_irq_enable+0xe1/0x120
[   50.797621]  ? do_task_dead+0x4a/0x110
[   50.798093]  do_task_dead+0xe0/0x110
[   50.798552]  make_task_dead+0x384/0x3c0
[   50.799051]  rewind_stack_and_make_dead+0x16/0x20
[   50.799639] RIP: 0033:0x7f17bd43ee5d
[   50.800086] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   50.800958] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.801866] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   50.802719] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.803570] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   50.804421] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   50.805358] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   50.806217]  </TASK>
[   50.995034] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#92] PREEMPT SMP KASAN NOPTI
[   50.996486] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.997499] CPU: 0 UID: 0 PID: 16801 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   50.998607] Tainted: [D]=DIE, [W]=WARN
[   50.999068] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.000417] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.001302] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.003517] RSP: 0018:ffff888011e177d8 EFLAGS: 00010202
[   51.004150] RAX: dffffc0000000000 RBX: ffffea00004fa100 RCX: ffffffff81bbb789
[   51.005002] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004fa110
[   51.005851] RBP: ffff888011e177f8 R08: 0000000000000000 R09: ffffed100382b38c
[   51.006700] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   51.007548] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801c159c60
[   51.008396] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   51.009352] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.010043] CR2: 00007f17bd71ebf0 CR3: 0000000010714004 CR4: 0000000000770ef0
[   51.010896] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.011746] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.012594] PKRU: 55555554
[   51.012932] Call Trace:
[   51.013241]  <TASK>
[   51.013520]  ? show_regs+0x6d/0x80
[   51.013960]  ? die_addr+0x45/0xb0
[   51.014395]  ? exc_general_protection+0x1ae/0x340
[   51.014982]  ? asm_exc_general_protection+0x2b/0x30
[   51.015596]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.016224]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.016864]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.017499]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.018129]  zap_huge_pmd+0x48e/0xd40
[   51.018604]  unmap_page_range+0x1ad6/0x4360
[   51.019125]  ? __pfx_lock_release+0x10/0x10
[   51.019647]  ? do_raw_spin_trylock+0xbf/0x190
[   51.020194]  ? __kasan_check_read+0x15/0x20
[   51.020724]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.021349]  ? __pfx_unmap_page_range+0x10/0x10
[   51.021921]  unmap_single_vma+0x1ac/0x2d0
[   51.022435]  unmap_vmas+0x210/0x470
[   51.022885]  ? __pfx_unmap_vmas+0x10/0x10
[   51.023389]  ? __pfx_lock_release+0x10/0x10
[   51.023905]  ? lock_release+0x592/0x870
[   51.024388]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   51.024981]  ? __pfx_lock_release+0x10/0x10
[   51.025481]  ? mlock_drain_local+0x27f/0x4b0
[   51.025991]  exit_mmap+0x19e/0xb10
[   51.026412]  ? __pfx_exit_mmap+0x10/0x10
[   51.026879]  ? debug_smp_processor_id+0x20/0x30
[   51.027426]  ? trace_hardirqs_on+0x51/0x60
[   51.027913]  ? kasan_quarantine_put+0xa2/0x200
[   51.028446]  ? __khugepaged_exit+0x266/0x4c0
[   51.028954]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.029581]  __mmput+0xde/0x3a0
[   51.029966]  mmput+0x74/0x90
[   51.030325]  do_exit+0xa03/0x29f0
[   51.030729]  ? trace_hardirqs_on+0x51/0x60
[   51.031216]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.031946]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.032517]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.033092]  ? __pfx_do_exit+0x10/0x10
[   51.033525]  ? __audit_syscall_entry+0x39c/0x500
[   51.034051]  __x64_sys_exit+0x50/0x60
[   51.034477]  x64_sys_call+0x20c9/0x20d0
[   51.034914]  do_syscall_64+0x6d/0x140
[   51.035338]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.035904] RIP: 0033:0x7f17bd43ee5d
[   51.036309] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.036969] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.037784] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.038549] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.039312] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.040044] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.040773] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.041513]  </TASK>
[   51.041753] Modules linked in:
[   51.042240] ---[ end trace 0000000000000000 ]---
[   51.042733] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.043342] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.045441] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   51.045991] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   51.046703] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   51.047476] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   51.048177] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.048879] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   51.049583] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   51.050371] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.050939] CR2: 00007f17bd71ebf0 CR3: 0000000010714004 CR4: 0000000000770ef0
[   51.051685] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.052395] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.053094] PKRU: 55555554
[   51.053386] note: repro[16801] exited with preempt_count 1
[   51.053952] Fixing recursive fault but reboot is needed!
[   51.054502] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16801
[   51.055267] caller is debug_smp_processor_id+0x20/0x30
[   51.055803] CPU: 0 UID: 0 PID: 16801 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.056671] Tainted: [D]=DIE, [W]=WARN
[   51.057031] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.058084] Call Trace:
[   51.058332]  <TASK>
[   51.058547]  dump_stack_lvl+0x121/0x150
[   51.058921]  dump_stack+0x19/0x20
[   51.059240]  check_preemption_disabled+0x168/0x180
[   51.059698]  debug_smp_processor_id+0x20/0x30
[   51.060111]  __schedule+0xa0/0x33a0
[   51.060451]  ? do_task_dead+0xa8/0x110
[   51.060804]  ? debug_smp_processor_id+0x20/0x30
[   51.061232]  ? rcu_is_watching+0x19/0xc0
[   51.061609]  ? lock_release+0x592/0x870
[   51.061973]  ? __pfx___schedule+0x10/0x10
[   51.062362]  ? debug_smp_processor_id+0x20/0x30
[   51.062793]  ? rcu_is_watching+0x19/0xc0
[   51.063291]  ? trace_irq_enable+0xe1/0x120
[   51.063598]  ? do_task_dead+0x4a/0x110
[   51.063880]  do_task_dead+0xe0/0x110
[   51.064146]  make_task_dead+0x384/0x3c0
[   51.064436]  rewind_stack_and_make_dead+0x16/0x20
[   51.064764] RIP: 0033:0x7f17bd43ee5d
[   51.065018] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.065433] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.065940] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.066426] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.066901] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.067382] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.067854] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.068337]  </TASK>
[   51.068617] BUG: scheduling while atomic: repro/16801/0x00000000
[   51.069036] INFO: lockdep is turned off.
[   51.069307] Modules linked in:
[   51.069525] Preemption disabled at:
[   51.069530] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   51.070200] CPU: 0 UID: 0 PID: 16801 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.071056] Tainted: [D]=DIE, [W]=WARN
[   51.071419] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.072460] Call Trace:
[   51.072704]  <TASK>
[   51.072922]  dump_stack_lvl+0x121/0x150
[   51.073316]  ? do_task_dead+0x28/0x110
[   51.073699]  dump_stack+0x19/0x20
[   51.074046]  __schedule_bug+0x12d/0x180
[   51.074338]  __schedule+0x2401/0x33a0
[   51.074593]  ? do_task_dead+0xa8/0x110
[   51.074849]  ? rcu_is_watching+0x19/0xc0
[   51.075117]  ? lock_release+0x592/0x870
[   51.075391]  ? __pfx___schedule+0x10/0x10
[   51.075666]  ? debug_smp_processor_id+0x20/0x30
[   51.075980]  ? rcu_is_watching+0x19/0xc0
[   51.076250]  ? trace_irq_enable+0xe1/0x120
[   51.076530]  ? do_task_dead+0x4a/0x110
[   51.076788]  do_task_dead+0xe0/0x110
[   51.077026]  make_task_dead+0x384/0x3c0
[   51.077287]  rewind_stack_and_make_dead+0x16/0x20
[   51.077591] RIP: 0033:0x7f17bd43ee5d
[   51.077824] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.078204] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.078676] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.079115] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.079557] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.080003] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.080437] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.080885]  </TASK>
[   51.730949] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#93] PREEMPT SMP KASAN NOPTI
[   51.732069] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.732767] CPU: 1 UID: 0 PID: 17326 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.733945] Tainted: [D]=DIE, [W]=WARN
[   51.734319] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.735356] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.735913] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.737952] RSP: 0018:ffff88801df577d8 EFLAGS: 00010202
[   51.738457] RAX: dffffc0000000000 RBX: ffffea000051e380 RCX: ffffffff81bbb789
[   51.739115] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000051e390
[   51.739769] RBP: ffff88801df577f8 R08: 0000000000000000 R09: ffffed1002319884
[   51.740418] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.741147] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880118cc420
[   51.742111] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.742849] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.743382] CR2: 00007f17bd5fca50 CR3: 0000000011890006 CR4: 0000000000770ef0
[   51.744036] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.744705] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.745381] PKRU: 55555554
[   51.745644] Call Trace:
[   51.745886]  <TASK>
[   51.746100]  ? show_regs+0x6d/0x80
[   51.746459]  ? die_addr+0x45/0xb0
[   51.746802]  ? exc_general_protection+0x1ae/0x340
[   51.747365]  ? asm_exc_general_protection+0x2b/0x30
[   51.748110]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.748656]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.749161]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.749662]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.750155]  zap_huge_pmd+0x48e/0xd40
[   51.750538]  unmap_page_range+0x1ad6/0x4360
[   51.750967]  ? update_stack_state+0x2d9/0x610
[   51.751427]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.752197]  ? __pfx_unmap_page_range+0x10/0x10
[   51.752678]  unmap_single_vma+0x1ac/0x2d0
[   51.753085]  unmap_vmas+0x210/0x470
[   51.753461]  ? __pfx_unmap_vmas+0x10/0x10
[   51.753854]  ? __pfx_lock_release+0x10/0x10
[   51.754256]  ? lock_release+0x592/0x870
[   51.754639]  ? mas_next_slot+0x133a/0x1a50
[   51.755046]  ? __pfx_lock_release+0x10/0x10
[   51.755461]  ? mlock_drain_local+0x27f/0x4b0
[   51.756136]  exit_mmap+0x19e/0xb10
[   51.756566]  ? __pfx_exit_mmap+0x10/0x10
[   51.756957]  ? debug_smp_processor_id+0x20/0x30
[   51.757421]  ? trace_hardirqs_on+0x51/0x60
[   51.757824]  ? kasan_quarantine_put+0xa2/0x200
[   51.758263]  ? __khugepaged_exit+0x266/0x4c0
[   51.758693]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.759209]  __mmput+0xde/0x3a0
[   51.759542]  mmput+0x74/0x90
[   51.760003]  do_exit+0xa03/0x29f0
[   51.760518]  ? trace_hardirqs_on+0x51/0x60
[   51.760930]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.761553]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.762018]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.762498]  ? __pfx_do_exit+0x10/0x10
[   51.762873]  ? __audit_syscall_entry+0x39c/0x500
[   51.763343]  __x64_sys_exit+0x50/0x60
[   51.763790]  x64_sys_call+0x20c9/0x20d0
[   51.764393]  do_syscall_64+0x6d/0x140
[   51.764831]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.765319] RIP: 0033:0x7f17bd43ee5d
[   51.765679] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.766254] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.766956] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.767627] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.768291] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.768946] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.769614] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.770529]  </TASK>
[   51.770847] Modules linked in:
[   51.771265] ---[ end trace 0000000000000000 ]---
[   51.771813] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.772462] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.774126] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   51.774906] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   51.775674] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   51.776343] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   51.776999] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.777678] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   51.778630] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   51.779549] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.780106] CR2: 00007f17bd5fca50 CR3: 0000000011890006 CR4: 0000000000770ef0
[   51.780642] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#94] PREEMPT SMP KASAN NOPTI
[   51.780770] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.781906] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.782531] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.783223] CPU: 0 UID: 0 PID: 17342 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.783851] PKRU: 55555554
[   51.784656] Tainted: [D]=DIE, [W]=WARN
[   51.784900] note: repro[17326] exited with preempt_count 1
[   51.785250] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.785737] Fixing recursive fault but reboot is needed!
[   51.786757] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.787226] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17326
[   51.787746] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.787768] RSP: 0018:ffff88802a9bf7d8 EFLAGS: 00010202
[   51.788450] caller is debug_smp_processor_id+0x20/0x30
[   51.790208] 
[   51.790646] CPU: 1 UID: 0 PID: 17326 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.791125] RAX: dffffc0000000000 RBX: ffffea000081abc0 RCX: ffffffff81bbb789
[   51.791280] Tainted: [D]=DIE, [W]=WARN
[   51.792092] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000081abd0
[   51.792674] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.793024] RBP: ffff88802a9bf7f8 R08: 0000000000000000 R09: ffffed1001f8cb14
[   51.793612] Call Trace:
[   51.794633] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.795225]  <TASK>
[   51.795461] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fc658a0
[   51.796050]  dump_stack_lvl+0x121/0x150
[   51.796250] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   51.796813]  dump_stack+0x19/0x20
[   51.797174] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.797801]  check_preemption_disabled+0x168/0x180
[   51.798109] CR2: 00007f469c279000 CR3: 00000000134b4001 CR4: 0000000000770ef0
[   51.798711]  debug_smp_processor_id+0x20/0x30
[   51.799153] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.799713]  __schedule+0xa0/0x33a0
[   51.800112] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.800674]  ? do_task_dead+0xa8/0x110
[   51.801005] PKRU: 55555554
[   51.801570]  ? debug_smp_processor_id+0x20/0x30
[   51.801917] Call Trace:
[   51.802217]  ? rcu_is_watching+0x19/0xc0
[   51.802631]  <TASK>
[   51.802851]  ? lock_release+0x592/0x870
[   51.803212]  ? show_regs+0x6d/0x80
[   51.803384]  ? __pfx___schedule+0x10/0x10
[   51.803745]  ? die_addr+0x45/0xb0
[   51.804010]  ? debug_smp_processor_id+0x20/0x30
[   51.804377]  ? exc_general_protection+0x1ae/0x340
[   51.804638]  ? rcu_is_watching+0x19/0xc0
[   51.805064]  ? asm_exc_general_protection+0x2b/0x30
[   51.805416]  ? trace_irq_enable+0xe1/0x120
[   51.805797]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.806174]  ? do_task_dead+0x4a/0x110
[   51.806552]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.806948]  do_task_dead+0xe0/0x110
[   51.807304]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.807687]  make_task_dead+0x384/0x3c0
[   51.808027]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.808442]  rewind_stack_and_make_dead+0x16/0x20
[   51.808792]  zap_huge_pmd+0x48e/0xd40
[   51.809178] RIP: 0033:0x7f17bd43ee5d
[   51.809614]  unmap_page_range+0x1ad6/0x4360
[   51.809909] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.810243]  ? update_stack_state+0x2d9/0x610
[   51.810581] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   51.811156]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.811487]  ORIG_RAX: 000000000000003c
[   51.811962]  ? __pfx_unmap_page_range+0x10/0x10
[   51.812364] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.812731]  unmap_single_vma+0x1ac/0x2d0
[   51.813066] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.813721]  unmap_vmas+0x210/0x470
[   51.814016] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.814660]  ? __pfx_unmap_vmas+0x10/0x10
[   51.814904] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.815862]  ? __pfx_lock_release+0x10/0x10
[   51.816140] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.816803]  ? lock_release+0x592/0x870
[   51.817096]  </TASK>
[   51.817731]  ? mas_next_slot+0x133a/0x1a50
[   51.818613]  ? __pfx_lock_release+0x10/0x10
[   51.819037]  ? mlock_drain_local+0x27f/0x4b0
[   51.819465]  exit_mmap+0x19e/0xb10
[   51.819817]  ? __pfx_exit_mmap+0x10/0x10
[   51.820218]  ? debug_smp_processor_id+0x20/0x30
[   51.820687]  ? trace_hardirqs_on+0x51/0x60
[   51.821225]  ? kasan_quarantine_put+0xa2/0x200
[   51.821920]  ? __khugepaged_exit+0x266/0x4c0
[   51.822357]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.822910]  __mmput+0xde/0x3a0
[   51.823240]  mmput+0x74/0x90
[   51.823549]  do_exit+0xa03/0x29f0
[   51.823899]  ? trace_hardirqs_on+0x51/0x60
[   51.824313]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.824921]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.825616]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.826261]  ? __pfx_do_exit+0x10/0x10
[   51.826666]  ? __audit_syscall_entry+0x39c/0x500
[   51.827132]  __x64_sys_exit+0x50/0x60
[   51.827510]  x64_sys_call+0x20c9/0x20d0
[   51.827898]  do_syscall_64+0x6d/0x140
[   51.828272]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.828779] RIP: 0033:0x7f17bd43ee5d
[   51.829142] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.830053] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.830812] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.831491] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.832151] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.832803] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.833455] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.834098]  </TASK>
[   51.834322] Modules linked in:
[   51.834817] ---[ end trace 0000000000000000 ]---
[   51.835275] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.835915] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.837553] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   51.838308] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   51.838986] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   51.839717] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   51.840347] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.840948] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   51.841567] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   51.842264] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.842760] CR2: 00007f469c279000 CR3: 00000000134b4001 CR4: 0000000000770ef0
[   51.843491] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.844103] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.844723] PKRU: 55555554
[   51.844971] note: repro[17342] exited with preempt_count 1
[   51.845457] Fixing recursive fault but reboot is needed!
[   51.845915] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17342
[   51.846658] caller is debug_smp_processor_id+0x20/0x30
[   51.847150] CPU: 0 UID: 0 PID: 17342 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.847946] Tainted: [D]=DIE, [W]=WARN
[   51.848284] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.849240] Call Trace:
[   51.849477]  <TASK>
[   51.849678]  dump_stack_lvl+0x121/0x150
[   51.850222]  dump_stack+0x19/0x20
[   51.850731]  check_preemption_disabled+0x168/0x180
[   51.851203]  debug_smp_processor_id+0x20/0x30
[   51.851603]  __schedule+0xa0/0x33a0
[   51.851915]  ? do_task_dead+0xa8/0x110
[   51.852239]  ? debug_smp_processor_id+0x20/0x30
[   51.852642]  ? rcu_is_watching+0x19/0xc0
[   51.852990]  ? lock_release+0x592/0x870
[   51.853334]  ? __pfx___schedule+0x10/0x10
[   51.853682]  ? debug_smp_processor_id+0x20/0x30
[   51.854069]  ? rcu_is_watching+0x19/0xc0
[   51.854409]  ? trace_irq_enable+0xe1/0x120
[   51.854770]  ? do_task_dead+0x4a/0x110
[   51.855097]  do_task_dead+0xe0/0x110
[   51.855412]  make_task_dead+0x384/0x3c0
[   51.855762]  rewind_stack_and_make_dead+0x16/0x20
[   51.856174] RIP: 0033:0x7f17bd43ee5d
[   51.856645] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.857274] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.857881] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.858436] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.858980] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.859525] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.860068] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.860635]  </TASK>
[   51.860913] BUG: scheduling while atomic: repro/17342/0x00000000
[   51.861395] INFO: lockdep is turned off.
[   51.861713] Modules linked in:
[   51.861970] Preemption disabled at:
[   51.861975] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   51.862892] CPU: 0 UID: 0 PID: 17342 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   51.863691] Tainted: [D]=DIE, [W]=WARN
[   51.863971] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.864791] Call Trace:
[   51.864983]  <TASK>
[   51.865154]  dump_stack_lvl+0x121/0x150
[   51.865462]  ? do_task_dead+0x28/0x110
[   51.865754]  dump_stack+0x19/0x20
[   51.866023]  __schedule_bug+0x12d/0x180
[   51.866334]  __schedule+0x2401/0x33a0
[   51.866623]  ? do_task_dead+0xa8/0x110
[   51.866914]  ? rcu_is_watching+0x19/0xc0
[   51.867220]  ? lock_release+0x592/0x870
[   51.867529]  ? __pfx___schedule+0x10/0x10
[   51.867854]  ? debug_smp_processor_id+0x20/0x30
[   51.868221]  ? rcu_is_watching+0x19/0xc0
[   51.868546]  ? trace_irq_enable+0xe1/0x120
[   51.868874]  ? do_task_dead+0x4a/0x110
[   51.869155]  do_task_dead+0xe0/0x110
[   51.869423]  make_task_dead+0x384/0x3c0
[   51.869715]  rewind_stack_and_make_dead+0x16/0x20
[   51.870058] RIP: 0033:0x7f17bd43ee5d
[   51.870331] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   51.870761] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.871563] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   51.872062] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.872550] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   51.873035] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   51.873510] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   51.873989]  </TASK>
[   52.257132] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#95] PREEMPT SMP KASAN NOPTI
[   52.258457] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.259331] CPU: 1 UID: 0 PID: 17651 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.260184] Tainted: [D]=DIE, [W]=WARN
[   52.260542] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.261571] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.262159] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.264019] RSP: 0018:ffff88802a8ef7d8 EFLAGS: 00010202
[   52.264527] RAX: dffffc0000000000 RBX: ffffea000098b980 RCX: ffffffff81bbb789
[   52.265334] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000098b990
[   52.265993] RBP: ffff88802a8ef7f8 R08: 0000000000000000 R09: ffffed1001ce6e6c
[   52.266992] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.267734] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800e737360
[   52.268522] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.269383] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.269957] CR2: 00007f17bd5fca50 CR3: 0000000027038002 CR4: 0000000000770ef0
[   52.270821] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.271501] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.272283] PKRU: 55555554
[   52.272554] Call Trace:
[   52.272805]  <TASK>
[   52.273061]  ? show_regs+0x6d/0x80
[   52.273491]  ? die_addr+0x45/0xb0
[   52.273835]  ? exc_general_protection+0x1ae/0x340
[   52.274314]  ? asm_exc_general_protection+0x2b/0x30
[   52.274909]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.275400]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.275967]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.276466]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.276963]  zap_huge_pmd+0x48e/0xd40
[   52.277414]  unmap_page_range+0x1ad6/0x4360
[   52.277827]  ? update_stack_state+0x2d9/0x610
[   52.278273]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.278772]  ? __pfx_unmap_page_range+0x10/0x10
[   52.279400]  unmap_single_vma+0x1ac/0x2d0
[   52.279804]  unmap_vmas+0x210/0x470
[   52.280168]  ? __pfx_unmap_vmas+0x10/0x10
[   52.280593]  ? __pfx_lock_release+0x10/0x10
[   52.281079]  ? lock_release+0x592/0x870
[   52.281459]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.281996]  ? __pfx_lock_release+0x10/0x10
[   52.282428]  ? mlock_drain_local+0x27f/0x4b0
[   52.282858]  exit_mmap+0x19e/0xb10
[   52.283297]  ? __pfx_exit_mmap+0x10/0x10
[   52.283687]  ? debug_smp_processor_id+0x20/0x30
[   52.284153]  ? trace_hardirqs_on+0x51/0x60
[   52.284640]  ? kasan_quarantine_put+0xa2/0x200
[   52.285153]  ? __khugepaged_exit+0x266/0x4c0
[   52.285576]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.286086]  __mmput+0xde/0x3a0
[   52.286410]  mmput+0x74/0x90
[   52.286713]  do_exit+0xa03/0x29f0
[   52.287242]  ? trace_hardirqs_on+0x51/0x60
[   52.287647]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.288267]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.288885]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.289403]  ? __pfx_do_exit+0x10/0x10
[   52.289977]  ? __audit_syscall_entry+0x39c/0x500
[   52.290433]  __x64_sys_exit+0x50/0x60
[   52.290804]  x64_sys_call+0x20c9/0x20d0
[   52.291238]  do_syscall_64+0x6d/0x140
[   52.291635]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.292142] RIP: 0033:0x7f17bd43ee5d
[   52.292519] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.293133] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.294020] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.294705] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.295438] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.296091] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.296841] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.297509]  </TASK>
[   52.297805] Modules linked in:
[   52.298212] ---[ end trace 0000000000000000 ]---
[   52.298656] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.299208] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.300914] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.301414] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.302079] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.302751] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.303433] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.304209] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.304884] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.305618] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.306348] CR2: 00007f17bd5fca50 CR3: 0000000027038002 CR4: 0000000000770ef0
[   52.307005] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.307687] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.308469] PKRU: 55555554
[   52.308737] note: repro[17651] exited with preempt_count 1
[   52.309253] Fixing recursive fault but reboot is needed!
[   52.309772] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17651
[   52.310532] caller is debug_smp_processor_id+0x20/0x30
[   52.311195] CPU: 1 UID: 0 PID: 17651 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.312054] Tainted: [D]=DIE, [W]=WARN
[   52.312412] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.313381] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#96] PREEMPT SMP KASAN NOPTI
[   52.313501] Call Trace:
[   52.314586] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.314836]  <TASK>
[   52.315518] CPU: 0 UID: 0 PID: 17699 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.315734]  dump_stack_lvl+0x121/0x150
[   52.316943] Tainted: [D]=DIE, [W]=WARN
[   52.317333]  dump_stack+0x19/0x20
[   52.317685] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.317996]  check_preemption_disabled+0x168/0x180
[   52.319017] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.319484]  debug_smp_processor_id+0x20/0x30
[   52.320026] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.320450]  __schedule+0xa0/0x33a0
[   52.322354] RSP: 0018:ffff8880271cf7d8 EFLAGS: 00010202
[   52.322682]  ? do_task_dead+0xa8/0x110
[   52.323169] RAX: dffffc0000000000 RBX: ffffea0000aae9c0 RCX: ffffffff81bbb789
[   52.323517]  ? debug_smp_processor_id+0x20/0x30
[   52.324163] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aae9d0
[   52.324582]  ? rcu_is_watching+0x19/0xc0
[   52.325458] RBP: ffff8880271cf7f8 R08: 0000000000000000 R09: ffffed1003bd9ae4
[   52.325809]  ? lock_release+0x592/0x870
[   52.326461] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.326806]  ? __pfx___schedule+0x10/0x10
[   52.327461] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801decd720
[   52.327817]  ? debug_smp_processor_id+0x20/0x30
[   52.328560] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.328963]  ? rcu_is_watching+0x19/0xc0
[   52.329728] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.330078]  ? trace_irq_enable+0xe1/0x120
[   52.330614] CR2: 00007f520c15a048 CR3: 00000000262e2006 CR4: 0000000000770ef0
[   52.330985]  ? do_task_dead+0x4a/0x110
[   52.331635] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.331968]  do_task_dead+0xe0/0x110
[   52.332622] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.332949]  make_task_dead+0x384/0x3c0
[   52.333774] PKRU: 55555554
[   52.334118]  rewind_stack_and_make_dead+0x16/0x20
[   52.334392] Call Trace:
[   52.334810] RIP: 0033:0x7f17bd43ee5d
[   52.335047]  <TASK>
[   52.335372] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.335583]  ? show_regs+0x6d/0x80
[   52.336105] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.336432]  ? die_addr+0x45/0xb0
[   52.337061] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.337385]  ? exc_general_protection+0x1ae/0x340
[   52.337965] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.338418]  ? asm_exc_general_protection+0x2b/0x30
[   52.339003] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.339459]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.340041] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.340514]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.341104] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.341581]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.342170]  </TASK>
[   52.342640]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.343530]  zap_huge_pmd+0x48e/0xd40
[   52.344119]  unmap_page_range+0x1ad6/0x4360
[   52.344569]  ? update_stack_state+0x2d9/0x610
[   52.345040]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.345538]  ? __pfx_unmap_page_range+0x10/0x10
[   52.346004]  unmap_single_vma+0x1ac/0x2d0
[   52.346445]  unmap_vmas+0x210/0x470
[   52.346818]  ? __pfx_unmap_vmas+0x10/0x10
[   52.347234]  ? __pfx_lock_release+0x10/0x10
[   52.347657]  ? lock_release+0x592/0x870
[   52.348039]  ? mas_next_slot+0x133a/0x1a50
[   52.348474]  ? __pfx_lock_release+0x10/0x10
[   52.348891]  ? mlock_drain_local+0x27f/0x4b0
[   52.349319]  exit_mmap+0x19e/0xb10
[   52.349669]  ? __pfx_exit_mmap+0x10/0x10
[   52.350058]  ? debug_smp_processor_id+0x20/0x30
[   52.350518]  ? trace_hardirqs_on+0x51/0x60
[   52.350925]  ? kasan_quarantine_put+0xa2/0x200
[   52.351611]  ? __khugepaged_exit+0x266/0x4c0
[   52.352148]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.352668]  __mmput+0xde/0x3a0
[   52.353108]  mmput+0x74/0x90
[   52.353416]  do_exit+0xa03/0x29f0
[   52.353756]  ? trace_hardirqs_on+0x51/0x60
[   52.354158]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.354786]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.355398]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.356126]  ? __pfx_do_exit+0x10/0x10
[   52.356514]  ? __audit_syscall_entry+0x39c/0x500
[   52.356988]  __x64_sys_exit+0x50/0x60
[   52.357379]  x64_sys_call+0x20c9/0x20d0
[   52.357761]  do_syscall_64+0x6d/0x140
[   52.358131]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.358768] RIP: 0033:0x7f17bd43ee5d
[   52.359217] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.359957] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.360865] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.361771] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.362619] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.363470] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.364317] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.365346]  </TASK>
[   52.365632] Modules linked in:
[   52.366076] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#97] PREEMPT SMP KASAN NOPTI
[   52.366374] ---[ end trace 0000000000000000 ]---
[   52.367148] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.367165] CPU: 1 UID: 0 PID: 17667 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.367196] Tainted: [D]=DIE, [W]=WARN
[   52.367202] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.367212] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.367245] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.367263] RSP: 0018:ffff8880270bf7d8 EFLAGS: 00010202
[   52.367903] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.368457] 
[   52.368463] RAX: dffffc0000000000 RBX: ffffea000098b840 RCX: ffffffff81bbb789
[   52.369534] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.369870] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000098b850
[   52.371196] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.371689] RBP: ffff8880270bf7f8 R08: 0000000000000000 R09: ffffed10023628b4
[   52.371702] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.371713] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011b145a0
[   52.374348] 
[   52.374769] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.375467] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.375593] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.376435] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.377885] CR2: 00007fffef6677b8 CR3: 00000000118f6003 CR4: 0000000000770ef0
[   52.377900] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.378735] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.379170] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.380136] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.380674] PKRU: 55555554
[   52.381518] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.381650] Call Trace:
[   52.381656]  <TASK>
[   52.382609] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.383146]  ? show_regs+0x6d/0x80
[   52.383880] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.384384]  ? die_addr+0x45/0xb0
[   52.385216] CR2: 00007f520c15a048 CR3: 00000000262e2006 CR4: 0000000000770ef0
[   52.385758]  ? exc_general_protection+0x1ae/0x340
[   52.386598] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.387162]  ? asm_exc_general_protection+0x2b/0x30
[   52.388031] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.388228]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.389065] PKRU: 55555554
[   52.389256]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.389577] note: repro[17699] exited with preempt_count 1
[   52.390153]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.390570] Fixing recursive fault but reboot is needed!
[   52.390990]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.391416] BUG: using smp_processor_id() in preemptible [00000000] code: repro/17699
[   52.391908]  zap_huge_pmd+0x48e/0xd40
[   52.392446] caller is debug_smp_processor_id+0x20/0x30
[   52.392964]  unmap_page_range+0x1ad6/0x4360
[   52.393516] CPU: 0 UID: 0 PID: 17699 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.394030]  ? update_stack_state+0x2d9/0x610
[   52.394610] Tainted: [D]=DIE, [W]=WARN
[   52.394811]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.395375] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.395760]  ? __pfx_unmap_page_range+0x10/0x10
[   52.396336] Call Trace:
[   52.396713]  unmap_single_vma+0x1ac/0x2d0
[   52.397550]  <TASK>
[   52.398087]  unmap_vmas+0x210/0x470
[   52.398512]  dump_stack_lvl+0x121/0x150
[   52.398873]  ? __pfx_unmap_vmas+0x10/0x10
[   52.399345]  dump_stack+0x19/0x20
[   52.399953]  ? __pfx_lock_release+0x10/0x10
[   52.400461]  check_preemption_disabled+0x168/0x180
[   52.400717]  ? lock_release+0x592/0x870
[   52.401292]  debug_smp_processor_id+0x20/0x30
[   52.402039]  ? mas_next_slot+0x133a/0x1a50
[   52.402530]  __schedule+0xa0/0x33a0
[   52.402704]  ? __pfx_lock_release+0x10/0x10
[   52.403387]  ? do_task_dead+0xa8/0x110
[   52.403547]  ? mlock_drain_local+0x27f/0x4b0
[   52.403947]  ? debug_smp_processor_id+0x20/0x30
[   52.404219]  exit_mmap+0x19e/0xb10
[   52.404658]  ? rcu_is_watching+0x19/0xc0
[   52.404894]  ? __pfx_exit_mmap+0x10/0x10
[   52.405347]  ? lock_release+0x592/0x870
[   52.405670]  ? debug_smp_processor_id+0x20/0x30
[   52.406087]  ? __pfx___schedule+0x10/0x10
[   52.406396]  ? trace_hardirqs_on+0x51/0x60
[   52.406838]  ? debug_smp_processor_id+0x20/0x30
[   52.407082]  ? kasan_quarantine_put+0xa2/0x200
[   52.407784]  ? rcu_is_watching+0x19/0xc0
[   52.408073]  ? __khugepaged_exit+0x266/0x4c0
[   52.408515]  ? trace_irq_enable+0xe1/0x120
[   52.408814]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.409171]  ? do_task_dead+0x4a/0x110
[   52.409446]  __mmput+0xde/0x3a0
[   52.409851]  do_task_dead+0xe0/0x110
[   52.410107]  mmput+0x74/0x90
[   52.410576]  make_task_dead+0x384/0x3c0
[   52.410840]  do_exit+0xa03/0x29f0
[   52.411264]  rewind_stack_and_make_dead+0x16/0x20
[   52.411564]  ? trace_hardirqs_on+0x51/0x60
[   52.412021] RIP: 0033:0x7f17bd43ee5d
[   52.412273]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.412717] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.412973]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.413849] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   52.414088]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.414428]  ORIG_RAX: 000000000000003c
[   52.414657]  ? __pfx_do_exit+0x10/0x10
[   52.414951] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.415185]  ? __audit_syscall_entry+0x39c/0x500
[   52.415521] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.415808]  __x64_sys_exit+0x50/0x60
[   52.416209] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.416441]  x64_sys_call+0x20c9/0x20d0
[   52.417043] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.417415]  do_syscall_64+0x6d/0x140
[   52.417890] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.418203]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.418706]  </TASK>
[   52.418929] RIP: 0033:0x7f17bd43ee5d
[   52.422923] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.423287] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.423847] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.424435] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.424866] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.425294] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.425701] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.426114]  </TASK>
[   52.426251] Modules linked in:
[   52.426568] ---[ end trace 0000000000000000 ]---
[   52.426843] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.427187] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.428232] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.428547] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.428955] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.429354] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.429748] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.430140] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.430562] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.431031] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.431359] CR2: 00007fffef6677b8 CR3: 00000000118f6003 CR4: 0000000000770ef0
[   52.431766] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.432166] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.432565] PKRU: 55555554
[   52.432761] note: repro[17667] exited with preempt_count 1
[   52.433151] Fixing recursive fault but reboot is needed!
[   52.433456] BUG: scheduling while atomic: repro/17667/0x00000000
[   52.433788] INFO: lockdep is turned off.
[   52.434003] Modules linked in:
[   52.434207] Preemption disabled at:
[   52.434211] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   52.434791] CPU: 1 UID: 0 PID: 17667 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.435289] Tainted: [D]=DIE, [W]=WARN
[   52.435539] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.436222] Call Trace:
[   52.436424]  <TASK>
[   52.436607]  dump_stack_lvl+0x121/0x150
[   52.436929]  ? do_task_dead+0x28/0x110
[   52.437281]  dump_stack+0x19/0x20
[   52.437574]  __schedule_bug+0x12d/0x180
[   52.437913]  __schedule+0x2401/0x33a0
[   52.438226]  ? do_task_dead+0xa8/0x110
[   52.438558]  ? rcu_is_watching+0x19/0xc0
[   52.438940]  ? lock_release+0x592/0x870
[   52.439253]  ? __pfx___schedule+0x10/0x10
[   52.439590]  ? debug_smp_processor_id+0x20/0x30
[   52.440006]  ? rcu_is_watching+0x19/0xc0
[   52.440388]  ? trace_irq_enable+0xe1/0x120
[   52.440726]  ? do_task_dead+0x4a/0x110
[   52.441033]  do_task_dead+0xe0/0x110
[   52.441387]  make_task_dead+0x384/0x3c0
[   52.441711]  rewind_stack_and_make_dead+0x16/0x20
[   52.442095] RIP: 0033:0x7f17bd43ee5d
[   52.442324] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.442734] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.443120] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.443611] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.443972] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.444381] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.444754] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.445236]  </TASK>
[   52.459764] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#98] PREEMPT SMP KASAN NOPTI
[   52.460382] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.460722] CPU: 1 UID: 0 PID: 17758 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.461225] Tainted: [D]=DIE, [W]=WARN
[   52.461407] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.461917] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.462286] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.463203] RSP: 0018:ffff88802719f7d8 EFLAGS: 00010202
[   52.463455] RAX: dffffc0000000000 RBX: ffffea00009c1b80 RCX: ffffffff81bbb789
[   52.463883] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c1b90
[   52.464201] RBP: ffff88802719f7f8 R08: 0000000000000000 R09: ffffed1003ec4f14
[   52.464614] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.464930] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f6278a0
[   52.465245] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.465597] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.465849] CR2: 00007f17bd5fca50 CR3: 00000000270f0003 CR4: 0000000000770ef0
[   52.466160] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.466465] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.466768] PKRU: 55555554
[   52.466894] Call Trace:
[   52.467009]  <TASK>
[   52.467112]  ? show_regs+0x6d/0x80
[   52.467282]  ? die_addr+0x45/0xb0
[   52.467444]  ? exc_general_protection+0x1ae/0x340
[   52.467665]  ? asm_exc_general_protection+0x2b/0x30
[   52.467960]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.468255]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.468546]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.468810]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.469044]  zap_huge_pmd+0x48e/0xd40
[   52.469222]  unmap_page_range+0x1ad6/0x4360
[   52.469418]  ? update_stack_state+0x2d9/0x610
[   52.469630]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.469863]  ? __pfx_unmap_page_range+0x10/0x10
[   52.470075]  unmap_single_vma+0x1ac/0x2d0
[   52.470270]  unmap_vmas+0x210/0x470
[   52.470440]  ? __pfx_unmap_vmas+0x10/0x10
[   52.470626]  ? __pfx_lock_release+0x10/0x10
[   52.470819]  ? lock_release+0x592/0x870
[   52.470997]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.471220]  ? __pfx_lock_release+0x10/0x10
[   52.471416]  ? mlock_drain_local+0x27f/0x4b0
[   52.471615]  exit_mmap+0x19e/0xb10
[   52.471781]  ? __pfx_exit_mmap+0x10/0x10
[   52.471964]  ? debug_smp_processor_id+0x20/0x30
[   52.472180]  ? trace_hardirqs_on+0x51/0x60
[   52.472373]  ? kasan_quarantine_put+0xa2/0x200
[   52.472582]  ? __khugepaged_exit+0x266/0x4c0
[   52.472787]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.473037]  __mmput+0xde/0x3a0
[   52.473194]  mmput+0x74/0x90
[   52.473338]  do_exit+0xa03/0x29f0
[   52.473500]  ? trace_hardirqs_on+0x51/0x60
[   52.473694]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.473986]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.474289]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.474586]  ? __pfx_do_exit+0x10/0x10
[   52.474819]  ? __audit_syscall_entry+0x39c/0x500
[   52.475042]  __x64_sys_exit+0x50/0x60
[   52.475217]  x64_sys_call+0x20c9/0x20d0
[   52.475404]  do_syscall_64+0x6d/0x140
[   52.475578]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.475810] RIP: 0033:0x7f17bd43ee5d
[   52.475977] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.476243] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.476571] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.476876] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.477182] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.477501] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.477819] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.478131]  </TASK>
[   52.478236] Modules linked in:
[   52.478416] ---[ end trace 0000000000000000 ]---
[   52.478634] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.478899] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.479737] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.480000] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.480471] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.480889] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.481248] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.481560] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.481880] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.482239] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.482506] CR2: 00007f17bd5fca50 CR3: 00000000270f0003 CR4: 0000000000770ef0
[   52.482831] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.483156] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.483528] PKRU: 55555554
[   52.483657] note: repro[17758] exited with preempt_count 1
[   52.483911] Fixing recursive fault but reboot is needed!
[   52.484163] BUG: scheduling while atomic: repro/17758/0x00000000
[   52.484437] INFO: lockdep is turned off.
[   52.484622] Modules linked in:
[   52.484770] Preemption disabled at:
[   52.484773] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   52.485188] CPU: 1 UID: 0 PID: 17758 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.485607] Tainted: [D]=DIE, [W]=WARN
[   52.485790] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.486288] Call Trace:
[   52.486405]  <TASK>
[   52.486510]  dump_stack_lvl+0x121/0x150
[   52.486695]  ? do_task_dead+0x28/0x110
[   52.486875]  dump_stack+0x19/0x20
[   52.487042]  __schedule_bug+0x12d/0x180
[   52.487228]  __schedule+0x2401/0x33a0
[   52.487406]  ? do_task_dead+0xa8/0x110
[   52.487580]  ? rcu_is_watching+0x19/0xc0
[   52.487764]  ? lock_release+0x592/0x870
[   52.487947]  ? __pfx___schedule+0x10/0x10
[   52.488145]  ? debug_smp_processor_id+0x20/0x30
[   52.488362]  ? rcu_is_watching+0x19/0xc0
[   52.488552]  ? trace_irq_enable+0xe1/0x120
[   52.488757]  ? do_task_dead+0x4a/0x110
[   52.488936]  do_task_dead+0xe0/0x110
[   52.489122]  make_task_dead+0x384/0x3c0
[   52.489307]  rewind_stack_and_make_dead+0x16/0x20
[   52.489524] RIP: 0033:0x7f17bd43ee5d
[   52.489688] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.489956] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.490286] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.490595] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.490902] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.491213] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.491526] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.491840]  </TASK>
[   52.664631] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#99] PREEMPT SMP KASAN NOPTI
[   52.665508] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.666062] CPU: 1 UID: 0 PID: 17810 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.666749] Tainted: [D]=DIE, [W]=WARN
[   52.667014] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.667805] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.668272] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.669537] RSP: 0018:ffff8880260977d8 EFLAGS: 00010202
[   52.669903] RAX: dffffc0000000000 RBX: ffffea0000700c00 RCX: ffffffff81bbb789
[   52.670393] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000700c10
[   52.670880] RBP: ffff8880260977f8 R08: 0000000000000000 R09: ffffed10040db1e0
[   52.671364] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.671830] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880206d8f00
[   52.672301] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.672827] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.673210] CR2: 00007f17bd71ebf0 CR3: 000000002703c003 CR4: 0000000000770ef0
[   52.673680] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.674150] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.674632] PKRU: 55555554
[   52.674829] Call Trace:
[   52.675011]  <TASK>
[   52.675177]  ? show_regs+0x6d/0x80
[   52.675448]  ? die_addr+0x45/0xb0
[   52.675689]  ? exc_general_protection+0x1ae/0x340
[   52.676023]  ? asm_exc_general_protection+0x2b/0x30
[   52.676370]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.676718]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.677070]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.677424]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.677774]  zap_huge_pmd+0x48e/0xd40
[   52.678047]  unmap_page_range+0x1ad6/0x4360
[   52.678336]  ? update_stack_state+0x2d9/0x610
[   52.678646]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.678977]  ? __pfx_unmap_page_range+0x10/0x10
[   52.679307]  unmap_single_vma+0x1ac/0x2d0
[   52.679586]  unmap_vmas+0x210/0x470
[   52.679839]  ? __pfx_unmap_vmas+0x10/0x10
[   52.680124]  ? __pfx_lock_release+0x10/0x10
[   52.680424]  ? lock_release+0x592/0x870
[   52.680697]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.681050]  ? __pfx_lock_release+0x10/0x10
[   52.681353]  ? mlock_drain_local+0x27f/0x4b0
[   52.681644]  exit_mmap+0x19e/0xb10
[   52.681883]  ? __pfx_exit_mmap+0x10/0x10
[   52.682151]  ? debug_smp_processor_id+0x20/0x30
[   52.682461]  ? trace_hardirqs_on+0x51/0x60
[   52.682738]  ? kasan_quarantine_put+0xa2/0x200
[   52.683043]  ? __khugepaged_exit+0x266/0x4c0
[   52.683334]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.683687]  __mmput+0xde/0x3a0
[   52.683907]  mmput+0x74/0x90
[   52.684108]  do_exit+0xa03/0x29f0
[   52.684342]  ? trace_hardirqs_on+0x51/0x60
[   52.684622]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.685030]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.685336]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.685651]  ? __pfx_do_exit+0x10/0x10
[   52.685898]  ? __audit_syscall_entry+0x39c/0x500
[   52.686198]  __x64_sys_exit+0x50/0x60
[   52.686440]  x64_sys_call+0x20c9/0x20d0
[   52.686693]  do_syscall_64+0x6d/0x140
[   52.686934]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.687257] RIP: 0033:0x7f17bd43ee5d
[   52.687493] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.687866] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.688333] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.688768] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.689193] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.689613] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.690029] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.690457]  </TASK>
[   52.690599] Modules linked in:
[   52.690892] ---[ end trace 0000000000000000 ]---
[   52.691179] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.691583] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.692664] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.692979] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.693399] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.693817] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.694235] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.694654] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.695112] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.695735] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.696137] CR2: 00007f17bd71ebf0 CR3: 000000002703c003 CR4: 0000000000770ef0
[   52.696645] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.697131] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.697622] PKRU: 55555554
[   52.697820] note: repro[17810] exited with preempt_count 1
[   52.698213] Fixing recursive fault but reboot is needed!
[   52.698736] BUG: scheduling while atomic: repro/17810/0x00000000
[   52.699289] INFO: lockdep is turned off.
[   52.699632] Modules linked in:
[   52.699888] Preemption disabled at:
[   52.699893] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   52.700584] CPU: 1 UID: 0 PID: 17810 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.701408] Tainted: [D]=DIE, [W]=WARN
[   52.701703] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.702560] Call Trace:
[   52.702820]  <TASK>
[   52.703005]  dump_stack_lvl+0x121/0x150
[   52.703325]  ? do_task_dead+0x28/0x110
[   52.703637]  dump_stack+0x19/0x20
[   52.703930]  __schedule_bug+0x12d/0x180
[   52.704266]  __schedule+0x2401/0x33a0
[   52.704493]  ? do_task_dead+0xa8/0x110
[   52.704724]  ? rcu_is_watching+0x19/0xc0
[   52.704984]  ? lock_release+0x592/0x870
[   52.705223]  ? __pfx___schedule+0x10/0x10
[   52.705465]  ? debug_smp_processor_id+0x20/0x30
[   52.705750]  ? rcu_is_watching+0x19/0xc0
[   52.706120]  ? trace_irq_enable+0xe1/0x120
[   52.706366]  ? do_task_dead+0x4a/0x110
[   52.706587]  do_task_dead+0xe0/0x110
[   52.706799]  make_task_dead+0x384/0x3c0
[   52.707030]  rewind_stack_and_make_dead+0x16/0x20
[   52.707296] RIP: 0033:0x7f17bd43ee5d
[   52.707566] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.708006] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.708435] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.708827] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.709349] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.709732] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.710110] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.710527]  </TASK>
[   52.889380] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#100] PREEMPT SMP KASAN NOPTI
[   52.890505] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.891202] CPU: 0 UID: 0 PID: 17972 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.892044] Tainted: [D]=DIE, [W]=WARN
[   52.892400] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.893408] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.893959] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.895602] RSP: 0018:ffff8880271577d8 EFLAGS: 00010202
[   52.896092] RAX: dffffc0000000000 RBX: ffffea00009cc2c0 RCX: ffffffff81bbb789
[   52.896744] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009cc2d0
[   52.897388] RBP: ffff8880271577f8 R08: 0000000000000000 R09: ffffed10020ba5a4
[   52.898033] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.898676] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880105d2d20
[   52.899317] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.900052] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.900594] CR2: 00007fffef6677b8 CR3: 000000002730e004 CR4: 0000000000770ef0
[   52.901239] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.901887] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.902538] PKRU: 55555554
[   52.902800] Call Trace:
[   52.903037]  <TASK>
[   52.903244]  ? show_regs+0x6d/0x80
[   52.903589]  ? die_addr+0x45/0xb0
[   52.903918]  ? exc_general_protection+0x1ae/0x340
[   52.904381]  ? asm_exc_general_protection+0x2b/0x30
[   52.904846]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.905333]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.905824]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.906314]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.906799]  zap_huge_pmd+0x48e/0xd40
[   52.907164]  unmap_page_range+0x1ad6/0x4360
[   52.907570]  ? update_stack_state+0x2d9/0x610
[   52.908014]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.908508]  ? __pfx_unmap_page_range+0x10/0x10
[   52.908946]  unmap_single_vma+0x1ac/0x2d0
[   52.909339]  unmap_vmas+0x210/0x470
[   52.909692]  ? __pfx_unmap_vmas+0x10/0x10
[   52.910074]  ? __pfx_lock_release+0x10/0x10
[   52.910474]  ? lock_release+0x592/0x870
[   52.910848]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.911318]  ? __pfx_lock_release+0x10/0x10
[   52.911718]  ? mlock_drain_local+0x27f/0x4b0
[   52.912122]  exit_mmap+0x19e/0xb10
[   52.912467]  ? __pfx_exit_mmap+0x10/0x10
[   52.912842]  ? debug_smp_processor_id+0x20/0x30
[   52.913273]  ? trace_hardirqs_on+0x51/0x60
[   52.913674]  ? kasan_quarantine_put+0xa2/0x200
[   52.914096]  ? __khugepaged_exit+0x266/0x4c0
[   52.914515]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.915016]  __mmput+0xde/0x3a0
[   52.915332]  mmput+0x74/0x90
[   52.915627]  do_exit+0xa03/0x29f0
[   52.915950]  ? trace_hardirqs_on+0x51/0x60
[   52.916362]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.916935]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.917393]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.917859]  ? __pfx_do_exit+0x10/0x10
[   52.918225]  ? __audit_syscall_entry+0x39c/0x500
[   52.918661]  __x64_sys_exit+0x50/0x60
[   52.919018]  x64_sys_call+0x20c9/0x20d0
[   52.919392]  do_syscall_64+0x6d/0x140
[   52.919749]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.920228] RIP: 0033:0x7f17bd43ee5d
[   52.920572] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.921126] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.921823] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.922457] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.923098] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.923740] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.924395] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.925049]  </TASK>
[   52.925266] Modules linked in:
[   52.925588] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#101] PREEMPT SMP KASAN NOPTI
[   52.925661] ---[ end trace 0000000000000000 ]---
[   52.925672] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.926762] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.927184] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.927706] CPU: 1 UID: 0 PID: 17980 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.928399] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.930051] Tainted: [D]=DIE, [W]=WARN
[   52.930861] 
[   52.931342] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.931702] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.931841] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.932841] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.933489] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.934003] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.934648] RSP: 0018:ffff88800fee77d8 EFLAGS: 00010202
[   52.936312] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.936930] 
[   52.937406] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.938037] RAX: dffffc0000000000 RBX: ffffea00009ca040 RCX: ffffffff81bbb789
[   52.938190] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.938836] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009ca050
[   52.939509] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.940204] RBP: ffff88800fee77f8 R08: 0000000000000000 R09: ffffed1002899fc8
[   52.940844] CR2: 00007fffef6677b8 CR3: 000000002730e004 CR4: 0000000000770ef0
[   52.941364] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.941989] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.942615] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880144cfe40
[   52.943249] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.943879] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.943896] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.943908] CR2: 00007f17bd49bc20 CR3: 0000000013466004 CR4: 0000000000770ef0
[   52.943923] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.943933] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.944577] PKRU: 55555554
[   52.945214] PKRU: 55555554
[   52.945939] note: repro[17972] exited with preempt_count 1
[   52.946453] Call Trace:
[   52.947081] Fixing recursive fault but reboot is needed!
[   52.947717]  <TASK>
[   52.947727]  ? show_regs+0x6d/0x80
[   52.950615]  ? die_addr+0x45/0xb0
[   52.950948]  ? exc_general_protection+0x1ae/0x340
[   52.951408]  ? asm_exc_general_protection+0x2b/0x30
[   52.951883]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.952368]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.952856]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.953359]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.953854]  zap_huge_pmd+0x48e/0xd40
[   52.954224]  unmap_page_range+0x1ad6/0x4360
[   52.954648]  ? update_stack_state+0x2d9/0x610
[   52.955096]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.955581]  ? __pfx_unmap_page_range+0x10/0x10
[   52.956036]  unmap_single_vma+0x1ac/0x2d0
[   52.956441]  unmap_vmas+0x210/0x470
[   52.956795]  ? __pfx_unmap_vmas+0x10/0x10
[   52.957184]  ? __pfx_lock_release+0x10/0x10
[   52.957610]  ? lock_release+0x592/0x870
[   52.957987]  ? mas_next_slot+0x133a/0x1a50
[   52.958391]  ? __pfx_lock_release+0x10/0x10
[   52.958810]  ? mlock_drain_local+0x27f/0x4b0
[   52.959236]  exit_mmap+0x19e/0xb10
[   52.959588]  ? __pfx_exit_mmap+0x10/0x10
[   52.959981]  ? debug_smp_processor_id+0x20/0x30
[   52.960440]  ? trace_hardirqs_on+0x51/0x60
[   52.960848]  ? kasan_quarantine_put+0xa2/0x200
[   52.961290]  ? __khugepaged_exit+0x266/0x4c0
[   52.961711]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.962230]  __mmput+0xde/0x3a0
[   52.962553]  mmput+0x74/0x90
[   52.962854]  do_exit+0xa03/0x29f0
[   52.963191]  ? trace_hardirqs_on+0x51/0x60
[   52.963597]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.964195]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.964668]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.965152]  ? __pfx_do_exit+0x10/0x10
[   52.965527]  ? __audit_syscall_entry+0x39c/0x500
[   52.965972]  __x64_sys_exit+0x50/0x60
[   52.966345]  x64_sys_call+0x20c9/0x20d0
[   52.966722]  do_syscall_64+0x6d/0x140
[   52.967087]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.967573] RIP: 0033:0x7f17bd43ee5d
[   52.967917] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   52.968493] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.969183] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   52.969835] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.970492] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   52.971141] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   52.971794] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   52.972456]  </TASK>
[   52.972678] Modules linked in:
[   52.973040] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#102] PREEMPT SMP KASAN NOPTI
[   52.973223] ---[ end trace 0000000000000000 ]---
[   52.974180] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.974619] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.975293] CPU: 0 UID: 0 PID: 18028 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   52.975861] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.976635] Tainted: [D]=DIE, [W]=WARN
[   52.978313] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   52.978661] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.979429] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   52.980453] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.981104] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   52.981663] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.982304] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   52.983915] RSP: 0018:ffff8880128bf7d8 EFLAGS: 00010202
[   52.983934] RAX: dffffc0000000000 RBX: ffffea00009c1340 RCX: ffffffff81bbb789
[   52.984583] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.985052] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c1350
[   52.985699] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   52.986395] RBP: ffff8880128bf7f8 R08: 0000000000000000 R09: ffffed100223f49c
[   52.987029] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   52.987683] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.987696] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880111fa4e0
[   52.987708] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   52.988365] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.989074] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.989721] CR2: 00007f17bd49bc20 CR3: 0000000013466004 CR4: 0000000000770ef0
[   52.990380] CR2: 00007f469c2b0000 CR3: 000000000fbda005 CR4: 0000000000770ef0
[   52.991113] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.991639] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.991652] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.991663] PKRU: 55555554
[   52.992190] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.992827] Call Trace:
[   52.993480] PKRU: 55555554
[   52.994111]  <TASK>
[   52.994121]  ? show_regs+0x6d/0x80
[   52.994777] note: repro[17980] exited with preempt_count 1
[   52.995418]  ? die_addr+0x45/0xb0
[   52.995701] Fixing recursive fault but reboot is needed!
[   52.996342]  ? exc_general_protection+0x1ae/0x340
[   52.999290]  ? asm_exc_general_protection+0x2b/0x30
[   52.999765]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.000250]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.000745]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.001235]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.001733]  zap_huge_pmd+0x48e/0xd40
[   53.002102]  unmap_page_range+0x1ad6/0x4360
[   53.002515]  ? update_stack_state+0x2d9/0x610
[   53.002959]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.003441]  ? __pfx_unmap_page_range+0x10/0x10
[   53.003885]  unmap_single_vma+0x1ac/0x2d0
[   53.004292]  unmap_vmas+0x210/0x470
[   53.004673]  ? __pfx_unmap_vmas+0x10/0x10
[   53.005061]  ? __pfx_lock_release+0x10/0x10
[   53.005484]  ? lock_release+0x592/0x870
[   53.005899]  ? mas_next_slot+0x133a/0x1a50
[   53.006313]  ? __pfx_lock_release+0x10/0x10
[   53.006726]  ? mlock_drain_local+0x27f/0x4b0
[   53.007142]  exit_mmap+0x19e/0xb10
[   53.007496]  ? __pfx_exit_mmap+0x10/0x10
[   53.007875]  ? debug_smp_processor_id+0x20/0x30
[   53.008317]  ? trace_hardirqs_on+0x51/0x60
[   53.008714]  ? kasan_quarantine_put+0xa2/0x200
[   53.009139]  ? __khugepaged_exit+0x266/0x4c0
[   53.009564]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.010072]  __mmput+0xde/0x3a0
[   53.010494]  mmput+0x74/0x90
[   53.010860]  do_exit+0xa03/0x29f0
[   53.011229]  ? trace_hardirqs_on+0x51/0x60
[   53.011635]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.012255]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.012862]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.013391]  ? __pfx_do_exit+0x10/0x10
[   53.013766]  ? __audit_syscall_entry+0x39c/0x500
[   53.014210]  __x64_sys_exit+0x50/0x60
[   53.014581]  x64_sys_call+0x20c9/0x20d0
[   53.014956]  do_syscall_64+0x6d/0x140
[   53.015325]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.015808] RIP: 0033:0x7f17bd43ee5d
[   53.016154] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.016768] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.017490] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.018139] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.018785] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.019589] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.020233] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.020919]  </TASK>
[   53.021140] Modules linked in:
[   53.021687] ---[ end trace 0000000000000000 ]---
[   53.022130] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.022687] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.024482] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   53.024985] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   53.025783] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   53.026599] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   53.027250] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.027995] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   53.028644] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.029379] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.029919] CR2: 00007f469c2b0000 CR3: 000000000fbda005 CR4: 0000000000770ef0
[   53.030584] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.031239] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.031997] PKRU: 55555554
[   53.032270] note: repro[18028] exited with preempt_count 1
[   53.032787] Fixing recursive fault but reboot is needed!
[   53.033274] BUG: scheduling while atomic: repro/18028/0x00000000
[   53.033832] INFO: lockdep is turned off.
[   53.034195] Modules linked in:
[   53.034496] Preemption disabled at:
[   53.034502] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   53.035347] CPU: 0 UID: 0 PID: 18028 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.036190] Tainted: [D]=DIE, [W]=WARN
[   53.036551] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.037838] Call Trace:
[   53.038084]  <TASK>
[   53.038306]  dump_stack_lvl+0x121/0x150
[   53.038689]  ? do_task_dead+0x28/0x110
[   53.039053]  dump_stack+0x19/0x20
[   53.039387]  __schedule_bug+0x12d/0x180
[   53.039764]  __schedule+0x2401/0x33a0
[   53.040127]  ? do_task_dead+0xa8/0x110
[   53.040502]  ? rcu_is_watching+0x19/0xc0
[   53.040886]  ? lock_release+0x592/0x870
[   53.041253]  ? __pfx___schedule+0x10/0x10
[   53.041658]  ? debug_smp_processor_id+0x20/0x30
[   53.042105]  ? rcu_is_watching+0x19/0xc0
[   53.042497]  ? trace_irq_enable+0xe1/0x120
[   53.042899]  ? do_task_dead+0x4a/0x110
[   53.043287]  do_task_dead+0xe0/0x110
[   53.043638]  make_task_dead+0x384/0x3c0
[   53.044026]  rewind_stack_and_make_dead+0x16/0x20
[   53.044500] RIP: 0033:0x7f17bd43ee5d
[   53.044848] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.045414] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.046104] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.046747] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.047398] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.048058] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.048722] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.049391]  </TASK>
[   53.438853] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#103] PREEMPT SMP KASAN NOPTI
[   53.439994] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.440964] CPU: 1 UID: 0 PID: 18323 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.441967] Tainted: [D]=DIE, [W]=WARN
[   53.442332] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.443356] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.443910] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.445996] RSP: 0018:ffff8880271ff7d8 EFLAGS: 00010202
[   53.446508] RAX: dffffc0000000000 RBX: ffffea0000478900 RCX: ffffffff81bbb789
[   53.447170] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000478910
[   53.447836] RBP: ffff8880271ff7f8 R08: 0000000000000000 R09: ffffed1002364f80
[   53.448500] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   53.449149] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011b27c00
[   53.449805] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.450538] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.451352] CR2: 00007f17bd44e1f0 CR3: 000000002632c003 CR4: 0000000000770ef0
[   53.452132] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.452790] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.453450] PKRU: 55555554
[   53.453712] Call Trace:
[   53.453953]  <TASK>
[   53.454167]  ? show_regs+0x6d/0x80
[   53.454537]  ? die_addr+0x45/0xb0
[   53.454901]  ? exc_general_protection+0x1ae/0x340
[   53.455633]  ? asm_exc_general_protection+0x2b/0x30
[   53.456157]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.456657]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.457155]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.457657]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.458155]  zap_huge_pmd+0x48e/0xd40
[   53.458533]  unmap_page_range+0x1ad6/0x4360
[   53.458958]  ? __pfx_lock_release+0x10/0x10
[   53.459626]  ? do_raw_spin_trylock+0xbf/0x190
[   53.460297]  ? __kasan_check_read+0x15/0x20
[   53.460730]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.461229]  ? __pfx_unmap_page_range+0x10/0x10
[   53.461683]  unmap_single_vma+0x1ac/0x2d0
[   53.462087]  unmap_vmas+0x210/0x470
[   53.462457]  ? __pfx_unmap_vmas+0x10/0x10
[   53.462855]  ? __pfx_lock_release+0x10/0x10
[   53.463450]  ? lock_release+0x592/0x870
[   53.464027]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.464513]  ? __pfx_lock_release+0x10/0x10
[   53.464929]  ? mlock_drain_local+0x27f/0x4b0
[   53.465342]  exit_mmap+0x19e/0xb10
[   53.465672]  ? __pfx_exit_mmap+0x10/0x10
[   53.466044]  ? debug_smp_processor_id+0x20/0x30
[   53.466496]  ? trace_hardirqs_on+0x51/0x60
[   53.466903]  ? kasan_quarantine_put+0xa2/0x200
[   53.467337]  ? __khugepaged_exit+0x266/0x4c0
[   53.467739]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.468240]  __mmput+0xde/0x3a0
[   53.468555]  mmput+0x74/0x90
[   53.468846]  do_exit+0xa03/0x29f0
[   53.469185]  ? trace_hardirqs_on+0x51/0x60
[   53.469791]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.470511]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.470966]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.471442]  ? __pfx_do_exit+0x10/0x10
[   53.471807]  ? __audit_syscall_entry+0x39c/0x500
[   53.472240]  __x64_sys_exit+0x50/0x60
[   53.472597]  x64_sys_call+0x20c9/0x20d0
[   53.472956]  do_syscall_64+0x6d/0x140
[   53.473305]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.474000] RIP: 0033:0x7f17bd43ee5d
[   53.474441] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.474964] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.475598] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.476188] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.476783] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.477390] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.478325] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.478993]  </TASK>
[   53.479204] Modules linked in:
[   53.479666] ---[ end trace 0000000000000000 ]---
[   53.480051] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.480528] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.481965] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   53.482399] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   53.483049] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   53.483733] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   53.484551] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.485137] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   53.485842] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.486585] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.487050] CR2: 00007f17bd44e1f0 CR3: 000000002632c003 CR4: 0000000000770ef0
[   53.487886] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.488546] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.489121] PKRU: 55555554
[   53.489357] note: repro[18323] exited with preempt_count 1
[   53.489803] Fixing recursive fault but reboot is needed!
[   53.490227] BUG: scheduling while atomic: repro/18323/0x00000000
[   53.490695] INFO: lockdep is turned off.
[   53.490994] Modules linked in:
[   53.491239] Preemption disabled at:
[   53.491245] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   53.492029] CPU: 1 UID: 0 PID: 18323 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.492990] Tainted: [D]=DIE, [W]=WARN
[   53.493291] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.494148] Call Trace:
[   53.494350]  <TASK>
[   53.494529]  dump_stack_lvl+0x121/0x150
[   53.494848]  ? do_task_dead+0x28/0x110
[   53.495147]  dump_stack+0x19/0x20
[   53.495425]  __schedule_bug+0x12d/0x180
[   53.495742]  __schedule+0x2401/0x33a0
[   53.496048]  ? do_task_dead+0xa8/0x110
[   53.496351]  ? rcu_is_watching+0x19/0xc0
[   53.496679]  ? lock_release+0x592/0x870
[   53.496974]  ? __pfx___schedule+0x10/0x10
[   53.497294]  ? debug_smp_processor_id+0x20/0x30
[   53.497662]  ? rcu_is_watching+0x19/0xc0
[   53.498011]  ? trace_irq_enable+0xe1/0x120
[   53.498558]  ? do_task_dead+0x4a/0x110
[   53.498959]  do_task_dead+0xe0/0x110
[   53.499339]  make_task_dead+0x384/0x3c0
[   53.499767]  rewind_stack_and_make_dead+0x16/0x20
[   53.500358] RIP: 0033:0x7f17bd43ee5d
[   53.500710] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.501274] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.502101] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.502755] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.503417] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.504071] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.505092] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.505825]  </TASK>
[   53.839590] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#104] PREEMPT SMP KASAN NOPTI
[   53.840791] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.841500] CPU: 1 UID: 0 PID: 18587 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.842350] Tainted: [D]=DIE, [W]=WARN
[   53.842703] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.843727] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.844283] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.845941] RSP: 0018:ffff8880271877d8 EFLAGS: 00010202
[   53.846431] RAX: dffffc0000000000 RBX: ffffea0000853c00 RCX: ffffffff81bbb789
[   53.847080] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000853c10
[   53.847733] RBP: ffff8880271877f8 R08: 0000000000000000 R09: ffffed100277d26c
[   53.848382] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.849028] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013be9360
[   53.849691] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.850418] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.850954] CR2: 00007f17bd5b2820 CR3: 0000000027068001 CR4: 0000000000770ef0
[   53.851610] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.852264] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.852911] PKRU: 55555554
[   53.853176] Call Trace:
[   53.853418]  <TASK>
[   53.853635]  ? show_regs+0x6d/0x80
[   53.853985]  ? die_addr+0x45/0xb0
[   53.854323]  ? exc_general_protection+0x1ae/0x340
[   53.854786]  ? asm_exc_general_protection+0x2b/0x30
[   53.855273]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.855765]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.856260]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.856766]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.857402]  zap_huge_pmd+0x48e/0xd40
[   53.857875]  unmap_page_range+0x1ad6/0x4360
[   53.858404]  ? update_stack_state+0x2d9/0x610
[   53.858966]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.859594]  ? __pfx_unmap_page_range+0x10/0x10
[   53.860168]  unmap_single_vma+0x1ac/0x2d0
[   53.860678]  unmap_vmas+0x210/0x470
[   53.861127]  ? __pfx_unmap_vmas+0x10/0x10
[   53.861633]  ? __pfx_lock_release+0x10/0x10
[   53.862151]  ? lock_release+0x592/0x870
[   53.862638]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.863242]  ? __pfx_lock_release+0x10/0x10
[   53.863772]  ? mlock_drain_local+0x27f/0x4b0
[   53.864316]  exit_mmap+0x19e/0xb10
[   53.864756]  ? __pfx_exit_mmap+0x10/0x10
[   53.865248]  ? debug_smp_processor_id+0x20/0x30
[   53.865826]  ? trace_hardirqs_on+0x51/0x60
[   53.866342]  ? kasan_quarantine_put+0xa2/0x200
[   53.866899]  ? __khugepaged_exit+0x266/0x4c0
[   53.867442]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.868103]  __mmput+0xde/0x3a0
[   53.868514]  mmput+0x74/0x90
[   53.868890]  do_exit+0xa03/0x29f0
[   53.869324]  ? trace_hardirqs_on+0x51/0x60
[   53.869840]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.870608]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.871203]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.871815]  ? __pfx_do_exit+0x10/0x10
[   53.872296]  ? __audit_syscall_entry+0x39c/0x500
[   53.872886]  __x64_sys_exit+0x50/0x60
[   53.873356]  x64_sys_call+0x20c9/0x20d0
[   53.873837]  do_syscall_64+0x6d/0x140
[   53.874308]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.874930] RIP: 0033:0x7f17bd43ee5d
[   53.875380] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.876114] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.877020] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.877871] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.878722] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.879573] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.880425] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.881285]  </TASK>
[   53.881568] Modules linked in:
[   53.882107] ---[ end trace 0000000000000000 ]---
[   53.882681] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.883493] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.885678] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   53.886320] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   53.887170] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   53.888141] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   53.889001] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.889923] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   53.890783] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   53.891837] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.892541] CR2: 00007f17bd5b2820 CR3: 0000000027068001 CR4: 0000000000770ef0
[   53.893401] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.894250] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.895106] PKRU: 55555554
[   53.895604] note: repro[18587] exited with preempt_count 1
[   53.896268] Fixing recursive fault but reboot is needed!
[   53.896916] BUG: scheduling while atomic: repro/18587/0x00000000
[   53.897641] INFO: lockdep is turned off.
[   53.898118] Modules linked in:
[   53.898510] Preemption disabled at:
[   53.898518] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   53.899634] CPU: 1 UID: 0 PID: 18587 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.900745] Tainted: [D]=DIE, [W]=WARN
[   53.901203] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.902551] Call Trace:
[   53.902863]  <TASK>
[   53.903138]  dump_stack_lvl+0x121/0x150
[   53.903634]  ? do_task_dead+0x28/0x110
[   53.904105]  dump_stack+0x19/0x20
[   53.904485] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#105] PREEMPT SMP KASAN NOPTI
[   53.904535]  __schedule_bug+0x12d/0x180
[   53.905597] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.906255]  __schedule+0x2401/0x33a0
[   53.906915] CPU: 0 UID: 0 PID: 18639 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.907494]  ? do_task_dead+0xa8/0x110
[   53.908287] Tainted: [D]=DIE, [W]=WARN
[   53.908818]  ? rcu_is_watching+0x19/0xc0
[   53.909147] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.909673]  ? lock_release+0x592/0x870
[   53.910656] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.911250]  ? __pfx___schedule+0x10/0x10
[   53.911756] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.912306]  ? debug_smp_processor_id+0x20/0x30
[   53.913898] RSP: 0018:ffff888011b877d8 EFLAGS: 00010202
[   53.914516]  ? rcu_is_watching+0x19/0xc0
[   53.914981] RAX: dffffc0000000000 RBX: ffffea0000aaf1c0 RCX: ffffffff81bbb789
[   53.915462]  ? trace_irq_enable+0xe1/0x120
[   53.916109] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aaf1d0
[   53.916797]  ? do_task_dead+0x4a/0x110
[   53.917417] RBP: ffff888011b877f8 R08: 0000000000000000 R09: ffffed1003533d44
[   53.917972]  do_task_dead+0xe0/0x110
[   53.918595] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.919083]  make_task_dead+0x384/0x3c0
[   53.919704] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801a99ea20
[   53.920195]  rewind_stack_and_make_dead+0x16/0x20
[   53.920816] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.921352] RIP: 0033:0x7f17bd43ee5d
[   53.922066] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.922530] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.923034] CR2: 00007f469c2c9000 CR3: 00000000260f2001 CR4: 0000000000770ef0
[   53.923727] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.924357] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.924371] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.925522] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.926141] PKRU: 55555554
[   53.927021] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.927652] Call Trace:
[   53.927978] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.928608]  <TASK>
[   53.928909] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.929534]  ? show_regs+0x6d/0x80
[   53.929832] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.930464]  ? die_addr+0x45/0xb0
[   53.930893]  </TASK>
[   53.931512]  ? exc_general_protection+0x1ae/0x340
[   53.932555]  ? asm_exc_general_protection+0x2b/0x30
[   53.933020]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.933507]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.933981]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.934458]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.934931]  zap_huge_pmd+0x48e/0xd40
[   53.935292]  unmap_page_range+0x1ad6/0x4360
[   53.935689]  ? update_stack_state+0x2d9/0x610
[   53.936117]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.936594]  ? __pfx_unmap_page_range+0x10/0x10
[   53.937029]  unmap_single_vma+0x1ac/0x2d0
[   53.937426]  unmap_vmas+0x210/0x470
[   53.937774]  ? __pfx_unmap_vmas+0x10/0x10
[   53.938157]  ? __pfx_lock_release+0x10/0x10
[   53.938559]  ? lock_release+0x592/0x870
[   53.938929]  ? mas_next_slot+0x133a/0x1a50
[   53.939328]  ? __pfx_lock_release+0x10/0x10
[   53.939729]  ? mlock_drain_local+0x27f/0x4b0
[   53.940144]  exit_mmap+0x19e/0xb10
[   53.940486]  ? __pfx_exit_mmap+0x10/0x10
[   53.940870]  ? debug_smp_processor_id+0x20/0x30
[   53.941316]  ? trace_hardirqs_on+0x51/0x60
[   53.941720]  ? kasan_quarantine_put+0xa2/0x200
[   53.942154]  ? __khugepaged_exit+0x266/0x4c0
[   53.942574]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.943089]  __mmput+0xde/0x3a0
[   53.943407]  mmput+0x74/0x90
[   53.943702]  do_exit+0xa03/0x29f0
[   53.944038]  ? trace_hardirqs_on+0x51/0x60
[   53.944453]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.945044]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.945505]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.945985]  ? __pfx_do_exit+0x10/0x10
[   53.946394]  ? __audit_syscall_entry+0x39c/0x500
[   53.946839]  __x64_sys_exit+0x50/0x60
[   53.947200]  x64_sys_call+0x20c9/0x20d0
[   53.947583]  do_syscall_64+0x6d/0x140
[   53.947948]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.948441] RIP: 0033:0x7f17bd43ee5d
[   53.948785] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.949354] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.950039] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.950683] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.951345] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.951994] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.952649] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.953319]  </TASK>
[   53.953539] Modules linked in:
[   53.954027] ---[ end trace 0000000000000000 ]---
[   53.954477] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.955022] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.956748] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   53.957240] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   53.957900] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   53.958545] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   53.959184] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.959938] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   53.960604] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   53.961336] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.961867] CR2: 00007f469c2c9000 CR3: 00000000260f2001 CR4: 0000000000770ef0
[   53.962524] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.963165] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.963903] PKRU: 55555554
[   53.964172] note: repro[18639] exited with preempt_count 1
[   53.964678] Fixing recursive fault but reboot is needed!
[   53.965173] BUG: scheduling while atomic: repro/18639/0x00000000
[   53.965734] INFO: lockdep is turned off.
[   53.966097] Modules linked in:
[   53.966395] Preemption disabled at:
[   53.966401] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   53.967228] CPU: 0 UID: 0 PID: 18639 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   53.968066] Tainted: [D]=DIE, [W]=WARN
[   53.968431] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.969453] Call Trace:
[   53.969688]  <TASK>
[   53.969898]  dump_stack_lvl+0x121/0x150
[   53.970283]  ? do_task_dead+0x28/0x110
[   53.970646]  dump_stack+0x19/0x20
[   53.970968]  __schedule_bug+0x12d/0x180
[   53.971357]  __schedule+0x2401/0x33a0
[   53.971717]  ? do_task_dead+0xa8/0x110
[   53.972075]  ? rcu_is_watching+0x19/0xc0
[   53.972470]  ? lock_release+0x592/0x870
[   53.972855]  ? __pfx___schedule+0x10/0x10
[   53.973252]  ? debug_smp_processor_id+0x20/0x30
[   53.973712]  ? rcu_is_watching+0x19/0xc0
[   53.974099]  ? trace_irq_enable+0xe1/0x120
[   53.974507]  ? do_task_dead+0x4a/0x110
[   53.974882]  do_task_dead+0xe0/0x110
[   53.975237]  make_task_dead+0x384/0x3c0
[   53.975629]  rewind_stack_and_make_dead+0x16/0x20
[   53.976077] RIP: 0033:0x7f17bd43ee5d
[   53.976428] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   53.976991] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.977691] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   53.978343] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.978993] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   53.979648] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   53.980304] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   53.980957]  </TASK>
[   54.428406] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#106] PREEMPT SMP KASAN NOPTI
[   54.429552] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.430245] CPU: 1 UID: 0 PID: 18947 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   54.431096] Tainted: [D]=DIE, [W]=WARN
[   54.431451] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.432491] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.433352] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.435071] RSP: 0018:ffff888010a877d8 EFLAGS: 00010202
[   54.435573] RAX: dffffc0000000000 RBX: ffffea0000598c00 RCX: ffffffff81bbb789
[   54.436266] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000598c10
[   54.436939] RBP: ffff888010a877f8 R08: 0000000000000000 R09: ffffed10022ba3e0
[   54.437605] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   54.438283] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880115d1f00
[   54.439066] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.440043] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.440587] CR2: 00007f17bd5fca50 CR3: 0000000026060006 CR4: 0000000000770ef0
[   54.441255] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.441912] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.442581] PKRU: 55555554
[   54.442872] Call Trace:
[   54.443251]  <TASK>
[   54.443595]  ? show_regs+0x6d/0x80
[   54.444023]  ? die_addr+0x45/0xb0
[   54.444390]  ? exc_general_protection+0x1ae/0x340
[   54.444876]  ? asm_exc_general_protection+0x2b/0x30
[   54.445363]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.445855]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.446365]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.446869]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.447610]  zap_huge_pmd+0x48e/0xd40
[   54.448114]  unmap_page_range+0x1ad6/0x4360
[   54.448538]  ? __pfx_lock_release+0x10/0x10
[   54.448967]  ? do_raw_spin_trylock+0xbf/0x190
[   54.449403]  ? __kasan_check_read+0x15/0x20
[   54.449822]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.450309]  ? __pfx_unmap_page_range+0x10/0x10
[   54.450762]  unmap_single_vma+0x1ac/0x2d0
[   54.451170]  unmap_vmas+0x210/0x470
[   54.451525]  ? __pfx_unmap_vmas+0x10/0x10
[   54.451917]  ? __pfx_lock_release+0x10/0x10
[   54.452324]  ? lock_release+0x592/0x870
[   54.452710]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.453184]  ? __pfx_lock_release+0x10/0x10
[   54.453825]  ? mlock_drain_local+0x27f/0x4b0
[   54.454365]  exit_mmap+0x19e/0xb10
[   54.454722]  ? __pfx_exit_mmap+0x10/0x10
[   54.455122]  ? debug_smp_processor_id+0x20/0x30
[   54.455583]  ? trace_hardirqs_on+0x51/0x60
[   54.455987]  ? kasan_quarantine_put+0xa2/0x200
[   54.456433]  ? __khugepaged_exit+0x266/0x4c0
[   54.456860]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.457452]  __mmput+0xde/0x3a0
[   54.457950]  mmput+0x74/0x90
[   54.458377]  do_exit+0xa03/0x29f0
[   54.458724]  ? trace_hardirqs_on+0x51/0x60
[   54.459132]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.459742]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.460211]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.460695]  ? __pfx_do_exit+0x10/0x10
[   54.461086]  ? __audit_syscall_entry+0x39c/0x500
[   54.461567]  __x64_sys_exit+0x50/0x60
[   54.462142]  x64_sys_call+0x20c9/0x20d0
[   54.462636]  do_syscall_64+0x6d/0x140
[   54.463018]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.463511] RIP: 0033:0x7f17bd43ee5d
[   54.463863] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   54.464430] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.465141] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   54.465805] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.466748] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   54.467412] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   54.468089] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   54.468754]  </TASK>
[   54.468978] Modules linked in:
[   54.469343] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#107] PREEMPT SMP KASAN NOPTI
[   54.469492] ---[ end trace 0000000000000000 ]---
[   54.470515] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.470946] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.471627] CPU: 0 UID: 0 PID: 18955 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   54.471653] Tainted: [D]=DIE, [W]=WARN
[   54.471659] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.471669] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.471696] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.472243] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.473063] RSP: 0018:ffff88801dde77d8 EFLAGS: 00010202
[   54.473080] RAX: dffffc0000000000 RBX: ffffea0000598c80 RCX: ffffffff81bbb789
[   54.473092] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000598c90
[   54.473103] RBP: ffff88801dde77f8 R08: 0000000000000000 R09: ffffed1003ec6a78
[   54.473114] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.473124] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f6353c0
[   54.473136] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.473509] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   54.474523] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.475046] 
[   54.476777] CR2: 00007f17bd49bc20 CR3: 000000003942e003 CR4: 0000000000770ef0
[   54.476794] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.476805] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.476816] PKRU: 55555554
[   54.476823] Call Trace:
[   54.476828]  <TASK>
[   54.476835]  ? show_regs+0x6d/0x80
[   54.476861]  ? die_addr+0x45/0xb0
[   54.478525] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   54.479032]  ? exc_general_protection+0x1ae/0x340
[   54.480136] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   54.480741]  ? asm_exc_general_protection+0x2b/0x30
[   54.481379] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   54.482052]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.482699] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.483463]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.483955] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   54.484489]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.484643] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   54.485304]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.485952] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.486631]  zap_huge_pmd+0x48e/0xd40
[   54.486891] CR2: 00007f17bd5fca50 CR3: 0000000026060006 CR4: 0000000000770ef0
[   54.487128]  unmap_page_range+0x1ad6/0x4360
[   54.487333] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.487650]  ? update_stack_state+0x2d9/0x610
[   54.487988] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.488640]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.489068] PKRU: 55555554
[   54.489705]  ? __pfx_unmap_page_range+0x10/0x10
[   54.490145] note: repro[18947] exited with preempt_count 1
[   54.490793]  unmap_single_vma+0x1ac/0x2d0
[   54.491272] Fixing recursive fault but reboot is needed!
[   54.491920]  unmap_vmas+0x210/0x470
[   54.501387]  ? __pfx_unmap_vmas+0x10/0x10
[   54.501785]  ? __pfx_lock_release+0x10/0x10
[   54.502205]  ? lock_release+0x592/0x870
[   54.502589]  ? mas_next_slot+0x133a/0x1a50
[   54.503000]  ? __pfx_lock_release+0x10/0x10
[   54.503420]  ? mlock_drain_local+0x27f/0x4b0
[   54.503841]  exit_mmap+0x19e/0xb10
[   54.504183]  ? __pfx_exit_mmap+0x10/0x10
[   54.504571]  ? debug_smp_processor_id+0x20/0x30
[   54.505045]  ? trace_hardirqs_on+0x51/0x60
[   54.505462]  ? kasan_quarantine_put+0xa2/0x200
[   54.505909]  ? __khugepaged_exit+0x266/0x4c0
[   54.506337]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.506853]  __mmput+0xde/0x3a0
[   54.507170]  mmput+0x74/0x90
[   54.507490]  do_exit+0xa03/0x29f0
[   54.507850]  ? trace_hardirqs_on+0x51/0x60
[   54.508283]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.508906]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.509378]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.509882]  ? __pfx_do_exit+0x10/0x10
[   54.510283]  ? __audit_syscall_entry+0x39c/0x500
[   54.510749]  __x64_sys_exit+0x50/0x60
[   54.511117]  x64_sys_call+0x20c9/0x20d0
[   54.511501]  do_syscall_64+0x6d/0x140
[   54.511873]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.512373] RIP: 0033:0x7f17bd43ee5d
[   54.512725] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   54.513295] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.513985] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   54.514638] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.515288] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   54.515938] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   54.516592] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   54.517261]  </TASK>
[   54.517492] Modules linked in:
[   54.518001] ---[ end trace 0000000000000000 ]---
[   54.518452] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.519017] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.520767] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   54.521268] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   54.521936] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   54.522602] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   54.523271] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.523954] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   54.524616] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.525353] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.525892] CR2: 00007f17bd49bc20 CR3: 000000003942e003 CR4: 0000000000770ef0
[   54.526559] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.527228] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.527910] PKRU: 55555554
[   54.528181] note: repro[18955] exited with preempt_count 1
[   54.528697] Fixing recursive fault but reboot is needed!
[   54.529185] BUG: scheduling while atomic: repro/18955/0x00000000
[   54.529737] INFO: lockdep is turned off.
[   54.530106] Modules linked in:
[   54.530415] Preemption disabled at:
[   54.530421] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   54.531253] CPU: 0 UID: 0 PID: 18955 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   54.532132] Tainted: [D]=DIE, [W]=WARN
[   54.532492] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.533557] Call Trace:
[   54.533803]  <TASK>
[   54.534030]  dump_stack_lvl+0x121/0x150
[   54.534432]  ? do_task_dead+0x28/0x110
[   54.534816]  dump_stack+0x19/0x20
[   54.535151]  __schedule_bug+0x12d/0x180
[   54.535534]  __schedule+0x2401/0x33a0
[   54.535903]  ? do_task_dead+0xa8/0x110
[   54.536272]  ? rcu_is_watching+0x19/0xc0
[   54.536662]  ? lock_release+0x592/0x870
[   54.537044]  ? __pfx___schedule+0x10/0x10
[   54.537449]  ? debug_smp_processor_id+0x20/0x30
[   54.537899]  ? rcu_is_watching+0x19/0xc0
[   54.538297]  ? trace_irq_enable+0xe1/0x120
[   54.538713]  ? do_task_dead+0x4a/0x110
[   54.539082]  do_task_dead+0xe0/0x110
[   54.539436]  make_task_dead+0x384/0x3c0
[   54.539844]  rewind_stack_and_make_dead+0x16/0x20
[   54.540326] RIP: 0033:0x7f17bd43ee5d
[   54.540693] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   54.541296] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.542039] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   54.542704] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.543381] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   54.544087] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   54.544757] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   54.545428]  </TASK>
[   54.901315] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#108] PREEMPT SMP KASAN NOPTI
[   54.902475] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.903183] CPU: 0 UID: 0 PID: 19234 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   54.904049] Tainted: [D]=DIE, [W]=WARN
[   54.904416] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.905691] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.906390] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.908161] RSP: 0018:ffff88802627f7d8 EFLAGS: 00010202
[   54.908695] RAX: dffffc0000000000 RBX: ffffea00003ef740 RCX: ffffffff81bbb789
[   54.909394] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003ef750
[   54.910063] RBP: ffff88802627f7f8 R08: 0000000000000000 R09: ffffed1003baab98
[   54.910724] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   54.911583] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801dd55cc0
[   54.912477] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.913234] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.913767] CR2: 00007f17bd71ebf0 CR3: 000000001a9cc005 CR4: 0000000000770ef0
[   54.914419] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.915085] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.916014] PKRU: 55555554
[   54.916391] Call Trace:
[   54.916639]  <TASK>
[   54.916859]  ? show_regs+0x6d/0x80
[   54.917228]  ? die_addr+0x45/0xb0
[   54.917583]  ? exc_general_protection+0x1ae/0x340
[   54.918072]  ? asm_exc_general_protection+0x2b/0x30
[   54.918594]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.919116]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.919617]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.920118]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.920614]  zap_huge_pmd+0x48e/0xd40
[   54.921002]  unmap_page_range+0x1ad6/0x4360
[   54.921421]  ? __pfx_lock_release+0x10/0x10
[   54.922023]  ? do_raw_spin_trylock+0xbf/0x190
[   54.922638]  ? __kasan_check_read+0x15/0x20
[   54.923057]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.923568]  ? __pfx_unmap_page_range+0x10/0x10
[   54.924016]  unmap_single_vma+0x1ac/0x2d0
[   54.924419]  unmap_vmas+0x210/0x470
[   54.924780]  ? __pfx_unmap_vmas+0x10/0x10
[   54.925192]  ? __pfx_lock_release+0x10/0x10
[   54.925628]  ? lock_release+0x592/0x870
[   54.926306]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.926921]  ? __pfx_lock_release+0x10/0x10
[   54.927352]  ? mlock_drain_local+0x27f/0x4b0
[   54.927781]  exit_mmap+0x19e/0xb10
[   54.928130]  ? __pfx_exit_mmap+0x10/0x10
[   54.928538]  ? debug_smp_processor_id+0x20/0x30
[   54.928997]  ? trace_hardirqs_on+0x51/0x60
[   54.929410]  ? kasan_quarantine_put+0xa2/0x200
[   54.929856]  ? __khugepaged_exit+0x266/0x4c0
[   54.930282]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.930794]  __mmput+0xde/0x3a0
[   54.931124]  mmput+0x74/0x90
[   54.931434]  do_exit+0xa03/0x29f0
[   54.931780]  ? trace_hardirqs_on+0x51/0x60
[   54.932385]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.933167]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.933661]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.934146]  ? __pfx_do_exit+0x10/0x10
[   54.934532]  ? __audit_syscall_entry+0x39c/0x500
[   54.934983]  __x64_sys_exit+0x50/0x60
[   54.935362]  x64_sys_call+0x20c9/0x20d0
[   54.935766]  do_syscall_64+0x6d/0x140
[   54.936144]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.936639] RIP: 0033:0x7f17bd43ee5d
[   54.936990] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   54.937563] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.938385] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   54.939304] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.939979] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   54.940638] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   54.941333] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   54.942005]  </TASK>
[   54.942296] Modules linked in:
[   54.942909] ---[ end trace 0000000000000000 ]---
[   54.943545] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.944161] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.945900] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   54.946435] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   54.947138] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   54.947820] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   54.948512] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.949499] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   54.950211] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   54.950963] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.951530] CR2: 00007f17bd71ebf0 CR3: 000000001a9cc005 CR4: 0000000000770ef0
[   54.952208] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.952978] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.953854] PKRU: 55555554
[   54.954130] note: repro[19234] exited with preempt_count 1
[   54.954651] Fixing recursive fault but reboot is needed!
[   54.955138] check_preemption_disabled: 11 callbacks suppressed
[   54.955148] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19234
[   54.956442] caller is debug_smp_processor_id+0x20/0x30
[   54.956987] CPU: 0 UID: 0 PID: 19234 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   54.957890] Tainted: [D]=DIE, [W]=WARN
[   54.958270] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.959342] Call Trace:
[   54.959609]  <TASK>
[   54.959831]  dump_stack_lvl+0x121/0x150
[   54.960206]  dump_stack+0x19/0x20
[   54.960552]  check_preemption_disabled+0x168/0x180
[   54.961028]  debug_smp_processor_id+0x20/0x30
[   54.961471]  __schedule+0xa0/0x33a0
[   54.961821]  ? do_task_dead+0xa8/0x110
[   54.962179]  ? debug_smp_processor_id+0x20/0x30
[   54.962623]  ? rcu_is_watching+0x19/0xc0
[   54.963009]  ? lock_release+0x592/0x870
[   54.963383]  ? __pfx___schedule+0x10/0x10
[   54.963776]  ? debug_smp_processor_id+0x20/0x30
[   54.964209]  ? rcu_is_watching+0x19/0xc0
[   54.964605]  ? trace_irq_enable+0xe1/0x120
[   54.965000]  ? do_task_dead+0x4a/0x110
[   54.965564]  do_task_dead+0xe0/0x110
[   54.966032]  make_task_dead+0x384/0x3c0
[   54.966412]  rewind_stack_and_make_dead+0x16/0x20
[   54.966873] RIP: 0033:0x7f17bd43ee5d
[   54.967209] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   54.967740] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.968389] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   54.969001] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.969977] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   54.970604] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   54.971219] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   54.971836]  </TASK>
[   54.972102] BUG: scheduling while atomic: repro/19234/0x00000000
[   54.972616] INFO: lockdep is turned off.
[   54.972956] Modules linked in:
[   54.973231] Preemption disabled at:
[   54.973237] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   54.974288] CPU: 0 UID: 0 PID: 19234 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   54.975072] Tainted: [D]=DIE, [W]=WARN
[   54.975390] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.976288] Call Trace:
[   54.976510]  <TASK>
[   54.976703]  dump_stack_lvl+0x121/0x150
[   54.977044]  ? do_task_dead+0x28/0x110
[   54.977403]  dump_stack+0x19/0x20
[   54.977710]  __schedule_bug+0x12d/0x180
[   54.978051]  __schedule+0x2401/0x33a0
[   54.978378]  ? do_task_dead+0xa8/0x110
[   54.978731]  ? rcu_is_watching+0x19/0xc0
[   54.979097]  ? lock_release+0x592/0x870
[   54.979453]  ? __pfx___schedule+0x10/0x10
[   54.979805]  ? debug_smp_processor_id+0x20/0x30
[   54.980222]  ? rcu_is_watching+0x19/0xc0
[   54.980585]  ? trace_irq_enable+0xe1/0x120
[   54.980949]  ? do_task_dead+0x4a/0x110
[   54.981282]  do_task_dead+0xe0/0x110
[   54.981598]  make_task_dead+0x384/0x3c0
[   54.981945]  rewind_stack_and_make_dead+0x16/0x20
[   54.982335] RIP: 0033:0x7f17bd43ee5d
[   54.982625] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   54.983093] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.983699] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   54.984237] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.984781] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   54.985353] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   54.985898] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   54.986446]  </TASK>
[   55.166321] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#109] PREEMPT SMP KASAN NOPTI
[   55.167453] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.168211] CPU: 0 UID: 0 PID: 19336 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.169114] Tainted: [D]=DIE, [W]=WARN
[   55.169476] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.170546] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.171109] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.172781] RSP: 0018:ffff8880395377d8 EFLAGS: 00010202
[   55.173314] RAX: dffffc0000000000 RBX: ffffea00003bddc0 RCX: ffffffff81bbb789
[   55.173973] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003bddd0
[   55.174642] RBP: ffff8880395377f8 R08: 0000000000000000 R09: ffffed1003d88768
[   55.175311] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   55.175974] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ec43b40
[   55.176673] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.177416] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.177950] CR2: 00007f17bd5fca50 CR3: 0000000027290005 CR4: 0000000000770ef0
[   55.178620] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.179270] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.179951] PKRU: 55555554
[   55.180234] Call Trace:
[   55.180497]  <TASK>
[   55.180721]  ? show_regs+0x6d/0x80
[   55.181073]  ? die_addr+0x45/0xb0
[   55.181414]  ? exc_general_protection+0x1ae/0x340
[   55.181876]  ? asm_exc_general_protection+0x2b/0x30
[   55.182367]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.182859]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.183350]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.183838]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.184360]  zap_huge_pmd+0x48e/0xd40
[   55.184756]  unmap_page_range+0x1ad6/0x4360
[   55.185199]  ? __pfx_lock_release+0x10/0x10
[   55.185626]  ? do_raw_spin_trylock+0xbf/0x190
[   55.186056]  ? __kasan_check_read+0x15/0x20
[   55.186479]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.186962]  ? __pfx_unmap_page_range+0x10/0x10
[   55.187416]  unmap_single_vma+0x1ac/0x2d0
[   55.187822]  unmap_vmas+0x210/0x470
[   55.188176]  ? __pfx_unmap_vmas+0x10/0x10
[   55.188578]  ? __pfx_lock_release+0x10/0x10
[   55.189008]  ? lock_release+0x592/0x870
[   55.189414]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.189914]  ? __pfx_lock_release+0x10/0x10
[   55.190338]  ? mlock_drain_local+0x27f/0x4b0
[   55.190769]  exit_mmap+0x19e/0xb10
[   55.191113]  ? __pfx_exit_mmap+0x10/0x10
[   55.191498]  ? debug_smp_processor_id+0x20/0x30
[   55.191951]  ? trace_hardirqs_on+0x51/0x60
[   55.192358]  ? kasan_quarantine_put+0xa2/0x200
[   55.192798]  ? __khugepaged_exit+0x266/0x4c0
[   55.193221]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.193743]  __mmput+0xde/0x3a0
[   55.194064]  mmput+0x74/0x90
[   55.194362]  do_exit+0xa03/0x29f0
[   55.194707]  ? trace_hardirqs_on+0x51/0x60
[   55.195114]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.195746]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.196260]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.196753]  ? __pfx_do_exit+0x10/0x10
[   55.197128]  ? __audit_syscall_entry+0x39c/0x500
[   55.197585]  __x64_sys_exit+0x50/0x60
[   55.197954]  x64_sys_call+0x20c9/0x20d0
[   55.198342]  do_syscall_64+0x6d/0x140
[   55.198718]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.199206] RIP: 0033:0x7f17bd43ee5d
[   55.199558] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.200121] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.200822] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.201497] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.202155] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.202782] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.203408] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.204043]  </TASK>
[   55.204247] Modules linked in:
[   55.204686] ---[ end trace 0000000000000000 ]---
[   55.205180] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.205715] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.207370] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   55.207939] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   55.208582] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   55.209212] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   55.209843] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.210545] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   55.211200] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.212003] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.212528] CR2: 00007f17bd5fca50 CR3: 0000000027290005 CR4: 0000000000770ef0
[   55.213200] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.213836] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.214476] PKRU: 55555554
[   55.214722] note: repro[19336] exited with preempt_count 1
[   55.215189] Fixing recursive fault but reboot is needed!
[   55.215685] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19336
[   55.216356] caller is debug_smp_processor_id+0x20/0x30
[   55.216810] CPU: 0 UID: 0 PID: 19336 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.217713] Tainted: [D]=DIE, [W]=WARN
[   55.218094] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.219036] Call Trace:
[   55.219267]  <TASK>
[   55.219466]  dump_stack_lvl+0x121/0x150
[   55.219827]  dump_stack+0x19/0x20
[   55.220140]  check_preemption_disabled+0x168/0x180
[   55.220554]  debug_smp_processor_id+0x20/0x30
[   55.220939]  __schedule+0xa0/0x33a0
[   55.221247]  ? do_task_dead+0xa8/0x110
[   55.221567]  ? debug_smp_processor_id+0x20/0x30
[   55.221957]  ? rcu_is_watching+0x19/0xc0
[   55.222317]  ? lock_release+0x592/0x870
[   55.222671]  ? __pfx___schedule+0x10/0x10
[   55.223035]  ? debug_smp_processor_id+0x20/0x30
[   55.223427]  ? rcu_is_watching+0x19/0xc0
[   55.223767]  ? trace_irq_enable+0xe1/0x120
[   55.224126]  ? do_task_dead+0x4a/0x110
[   55.224452]  do_task_dead+0xe0/0x110
[   55.224756]  make_task_dead+0x384/0x3c0
[   55.225110]  rewind_stack_and_make_dead+0x16/0x20
[   55.225517] RIP: 0033:0x7f17bd43ee5d
[   55.225843] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.226352] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.226948] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.227501] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.228038] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.228581] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.229125] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.229699]  </TASK>
[   55.229984] BUG: scheduling while atomic: repro/19336/0x00000000
[   55.230481] INFO: lockdep is turned off.
[   55.230789] Modules linked in:
[   55.231039] Preemption disabled at:
[   55.231044] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   55.231802] CPU: 0 UID: 0 PID: 19336 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.232525] Tainted: [D]=DIE, [W]=WARN
[   55.232820] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.233703] Call Trace:
[   55.233899]  <TASK>
[   55.234081]  dump_stack_lvl+0x121/0x150
[   55.234403]  ? do_task_dead+0x28/0x110
[   55.234708]  dump_stack+0x19/0x20
[   55.234983]  __schedule_bug+0x12d/0x180
[   55.235295]  __schedule+0x2401/0x33a0
[   55.235608]  ? do_task_dead+0xa8/0x110
[   55.235910]  ? rcu_is_watching+0x19/0xc0
[   55.236233]  ? lock_release+0x592/0x870
[   55.236537]  ? __pfx___schedule+0x10/0x10
[   55.236857]  ? debug_smp_processor_id+0x20/0x30
[   55.237204]  ? rcu_is_watching+0x19/0xc0
[   55.237514]  ? trace_irq_enable+0xe1/0x120
[   55.237833]  ? do_task_dead+0x4a/0x110
[   55.238125]  do_task_dead+0xe0/0x110
[   55.238406]  make_task_dead+0x384/0x3c0
[   55.238714]  rewind_stack_and_make_dead+0x16/0x20
[   55.239069] RIP: 0033:0x7f17bd43ee5d
[   55.239347] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.239798] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.240362] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.240850] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.241340] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.241839] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.242330] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.242842]  </TASK>
[   55.299248] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#110] PREEMPT SMP KASAN NOPTI
[   55.300446] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.301146] CPU: 1 UID: 0 PID: 19443 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.301988] Tainted: [D]=DIE, [W]=WARN
[   55.302345] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.303369] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.303977] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.305775] RSP: 0018:ffff88802714f7d8 EFLAGS: 00010202
[   55.306331] RAX: dffffc0000000000 RBX: ffffea0000814200 RCX: ffffffff81bbb789
[   55.306972] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000814210
[   55.307616] RBP: ffff88802714f7f8 R08: 0000000000000000 R09: ffffed1001fec218
[   55.308272] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   55.308926] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800ff610c0
[   55.309574] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.310301] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.310827] CR2: 00007f17bd49bc20 CR3: 000000000ee62005 CR4: 0000000000770ef0
[   55.311492] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.312144] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.312801] PKRU: 55555554
[   55.313069] Call Trace:
[   55.313313]  <TASK>
[   55.313531]  ? show_regs+0x6d/0x80
[   55.313885]  ? die_addr+0x45/0xb0
[   55.314220]  ? exc_general_protection+0x1ae/0x340
[   55.314685]  ? asm_exc_general_protection+0x2b/0x30
[   55.315164]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.315658]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.316151]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.316650]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.317147]  zap_huge_pmd+0x48e/0xd40
[   55.317523]  unmap_page_range+0x1ad6/0x4360
[   55.317928]  ? __pfx_lock_release+0x10/0x10
[   55.318334]  ? do_raw_spin_trylock+0xbf/0x190
[   55.318762]  ? __kasan_check_read+0x15/0x20
[   55.319174]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.319667]  ? __pfx_unmap_page_range+0x10/0x10
[   55.320116]  unmap_single_vma+0x1ac/0x2d0
[   55.320518]  unmap_vmas+0x210/0x470
[   55.320872]  ? __pfx_unmap_vmas+0x10/0x10
[   55.321266]  ? __pfx_lock_release+0x10/0x10
[   55.321672]  ? lock_release+0x592/0x870
[   55.322056]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.322539]  ? __pfx_lock_release+0x10/0x10
[   55.322955]  ? mlock_drain_local+0x27f/0x4b0
[   55.323391]  exit_mmap+0x19e/0xb10
[   55.323734]  ? __pfx_exit_mmap+0x10/0x10
[   55.324119]  ? debug_smp_processor_id+0x20/0x30
[   55.324572]  ? trace_hardirqs_on+0x51/0x60
[   55.324980]  ? kasan_quarantine_put+0xa2/0x200
[   55.325429]  ? __khugepaged_exit+0x266/0x4c0
[   55.325851]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.326361]  __mmput+0xde/0x3a0
[   55.326690]  mmput+0x74/0x90
[   55.326985]  do_exit+0xa03/0x29f0
[   55.327326]  ? trace_hardirqs_on+0x51/0x60
[   55.327728]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.328326]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.328791]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.329268]  ? __pfx_do_exit+0x10/0x10
[   55.329636]  ? __audit_syscall_entry+0x39c/0x500
[   55.330088]  __x64_sys_exit+0x50/0x60
[   55.330450]  x64_sys_call+0x20c9/0x20d0
[   55.330825]  do_syscall_64+0x6d/0x140
[   55.331196]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.331682] RIP: 0033:0x7f17bd43ee5d
[   55.332029] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.332597] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.333302] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.333957] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.334613] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.335258] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.335915] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.336594]  </TASK>
[   55.336812] Modules linked in:
[   55.337269] ---[ end trace 0000000000000000 ]---
[   55.337730] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.338291] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.340070] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   55.340583] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   55.341249] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   55.341914] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   55.342576] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.343256] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   55.344438] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.345258] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.345805] CR2: 00007f17bd49bc20 CR3: 000000000ee62005 CR4: 0000000000770ef0
[   55.346477] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.347160] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.348115] PKRU: 55555554
[   55.348466] note: repro[19443] exited with preempt_count 1
[   55.349127] Fixing recursive fault but reboot is needed!
[   55.349773] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19443
[   55.350707] caller is debug_smp_processor_id+0x20/0x30
[   55.351447] CPU: 1 UID: 0 PID: 19443 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.352554] Tainted: [D]=DIE, [W]=WARN
[   55.352917] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.353959] Call Trace:
[   55.354206]  <TASK>
[   55.354434]  dump_stack_lvl+0x121/0x150
[   55.354816]  dump_stack+0x19/0x20
[   55.355152]  check_preemption_disabled+0x168/0x180
[   55.355635]  debug_smp_processor_id+0x20/0x30
[   55.356073]  __schedule+0xa0/0x33a0
[   55.356421]  ? do_task_dead+0xa8/0x110
[   55.356792]  ? debug_smp_processor_id+0x20/0x30
[   55.357240]  ? rcu_is_watching+0x19/0xc0
[   55.357636]  ? lock_release+0x592/0x870
[   55.358015]  ? __pfx___schedule+0x10/0x10
[   55.358419]  ? debug_smp_processor_id+0x20/0x30
[   55.358864]  ? rcu_is_watching+0x19/0xc0
[   55.359255]  ? trace_irq_enable+0xe1/0x120
[   55.359662]  ? do_task_dead+0x4a/0x110
[   55.360027]  do_task_dead+0xe0/0x110
[   55.360389]  make_task_dead+0x384/0x3c0
[   55.360774]  rewind_stack_and_make_dead+0x16/0x20
[   55.361233] RIP: 0033:0x7f17bd43ee5d
[   55.361582] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.362149] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.362873] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.363539] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.364196] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.364857] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.365511] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.366188]  </TASK>
[   55.366528] BUG: scheduling while atomic: repro/19443/0x00000000
[   55.367102] INFO: lockdep is turned off.
[   55.367531] Modules linked in:
[   55.367844] Preemption disabled at:
[   55.367850] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   55.368688] CPU: 1 UID: 0 PID: 19443 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.369537] Tainted: [D]=DIE, [W]=WARN
[   55.369893] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.370951] Call Trace:
[   55.371262]  <TASK>
[   55.371543]  dump_stack_lvl+0x121/0x150
[   55.372034]  ? do_task_dead+0x28/0x110
[   55.372509]  dump_stack+0x19/0x20
[   55.372936]  __schedule_bug+0x12d/0x180
[   55.373433]  __schedule+0x2401/0x33a0
[   55.373898]  ? do_task_dead+0xa8/0x110
[   55.374373]  ? rcu_is_watching+0x19/0xc0
[   55.374868]  ? lock_release+0x592/0x870
[   55.375356]  ? __pfx___schedule+0x10/0x10
[   55.375865]  ? debug_smp_processor_id+0x20/0x30
[   55.376438]  ? rcu_is_watching+0x19/0xc0
[   55.376932]  ? trace_irq_enable+0xe1/0x120
[   55.377455]  ? do_task_dead+0x4a/0x110
[   55.377924]  do_task_dead+0xe0/0x110
[   55.378381]  make_task_dead+0x384/0x3c0
[   55.378870]  rewind_stack_and_make_dead+0x16/0x20
[   55.379459] RIP: 0033:0x7f17bd43ee5d
[   55.379906] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.380645] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.381552] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.382408] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.383256] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.384109] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.384961] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.385828]  </TASK>
[   55.726346] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#111] PREEMPT SMP KASAN NOPTI
[   55.727461] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.728164] CPU: 1 UID: 0 PID: 19646 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.729050] Tainted: [D]=DIE, [W]=WARN
[   55.729435] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.730470] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.731026] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.732683] RSP: 0018:ffff8880260a77d8 EFLAGS: 00010202
[   55.733177] RAX: dffffc0000000000 RBX: ffffea0000461780 RCX: ffffffff81bbb789
[   55.733830] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000461790
[   55.734492] RBP: ffff8880260a77f8 R08: 0000000000000000 R09: ffffed100282755c
[   55.735144] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.735808] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801413aae0
[   55.736462] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.737197] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.737736] CR2: 00007f17bd49bc20 CR3: 000000002a9ac002 CR4: 0000000000770ef0
[   55.738392] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.739039] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.739699] PKRU: 55555554
[   55.739960] Call Trace:
[   55.740198]  <TASK>
[   55.740417]  ? show_regs+0x6d/0x80
[   55.740760]  ? die_addr+0x45/0xb0
[   55.741095]  ? exc_general_protection+0x1ae/0x340
[   55.741559]  ? asm_exc_general_protection+0x2b/0x30
[   55.742032]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.742522]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.743014]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.743510]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.744001]  zap_huge_pmd+0x48e/0xd40
[   55.744376]  unmap_page_range+0x1ad6/0x4360
[   55.744778]  ? update_stack_state+0x2d9/0x610
[   55.745224]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.745717]  ? __pfx_unmap_page_range+0x10/0x10
[   55.746161]  unmap_single_vma+0x1ac/0x2d0
[   55.746563]  unmap_vmas+0x210/0x470
[   55.746917]  ? __pfx_unmap_vmas+0x10/0x10
[   55.747321]  ? __pfx_lock_release+0x10/0x10
[   55.747730]  ? lock_release+0x592/0x870
[   55.748104]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.748576]  ? __pfx_lock_release+0x10/0x10
[   55.748987]  ? mlock_drain_local+0x27f/0x4b0
[   55.749412]  exit_mmap+0x19e/0xb10
[   55.749759]  ? __pfx_exit_mmap+0x10/0x10
[   55.750139]  ? debug_smp_processor_id+0x20/0x30
[   55.750589]  ? trace_hardirqs_on+0x51/0x60
[   55.750996]  ? kasan_quarantine_put+0xa2/0x200
[   55.751440]  ? __khugepaged_exit+0x266/0x4c0
[   55.751861]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.752380]  __mmput+0xde/0x3a0
[   55.752696]  mmput+0x74/0x90
[   55.752992]  do_exit+0xa03/0x29f0
[   55.753346]  ? trace_hardirqs_on+0x51/0x60
[   55.753768]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.754411]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.754893]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.755391]  ? __pfx_do_exit+0x10/0x10
[   55.755787]  ? __audit_syscall_entry+0x39c/0x500
[   55.756239]  __x64_sys_exit+0x50/0x60
[   55.756618]  x64_sys_call+0x20c9/0x20d0
[   55.757018]  do_syscall_64+0x6d/0x140
[   55.757418]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.757949] RIP: 0033:0x7f17bd43ee5d
[   55.758307] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.758871] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.759571] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.760252] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.760942] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.761600] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.762242] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.762903]  </TASK>
[   55.763128] Modules linked in:
[   55.763503] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#112] PREEMPT SMP KASAN NOPTI
[   55.763688] ---[ end trace 0000000000000000 ]---
[   55.764645] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.765105] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.765777] CPU: 0 UID: 0 PID: 19650 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.766366] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.767127] Tainted: [D]=DIE, [W]=WARN
[   55.768859] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   55.769121] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.769617] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   55.770619] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.771263] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   55.771779] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.771798] RSP: 0018:ffff8880164e77d8 EFLAGS: 00010202
[   55.771814] RAX: dffffc0000000000 RBX: ffffea00005c8900 RCX: ffffffff81bbb789
[   55.771826] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00005c8910
[   55.771837] RBP: ffff8880164e77f8 R08: 0000000000000000 R09: ffffed10040aaa00
[   55.771849] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.772509] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   55.774140] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888020555000
[   55.774634] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.775256] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.775273] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.775291] CR2: 00007f17bd6ea5b8 CR3: 0000000012930002 CR4: 0000000000770ef0
[   55.775306] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.775316] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.775327] PKRU: 55555554
[   55.775334] Call Trace:
[   55.775340]  <TASK>
[   55.775348]  ? show_regs+0x6d/0x80
[   55.776237] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   55.776842]  ? die_addr+0x45/0xb0
[   55.777490] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   55.778126]  ? exc_general_protection+0x1ae/0x340
[   55.778801] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.779451]  ? asm_exc_general_protection+0x2b/0x30
[   55.780184] CR2: 00007f17bd49bc20 CR3: 000000002a9ac002 CR4: 0000000000770ef0
[   55.780705]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.781348] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.781976]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.782630] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.782884]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.783119] PKRU: 55555554
[   55.783328]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.783661] note: repro[19646] exited with preempt_count 1
[   55.784283]  zap_huge_pmd+0x48e/0xd40
[   55.784620] Fixing recursive fault but reboot is needed!
[   55.785349]  unmap_page_range+0x1ad6/0x4360
[   55.785786] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19646
[   55.786308]  ? update_stack_state+0x2d9/0x610
[   55.786767] caller is debug_smp_processor_id+0x20/0x30
[   55.787407]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.787908] CPU: 1 UID: 0 PID: 19646 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.788541]  ? __pfx_unmap_page_range+0x10/0x10
[   55.789022] Tainted: [D]=DIE, [W]=WARN
[   55.789658]  unmap_single_vma+0x1ac/0x2d0
[   55.790138] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.790401]  unmap_vmas+0x210/0x470
[   55.790863] Call Trace:
[   55.791367]  ? __pfx_unmap_vmas+0x10/0x10
[   55.791711]  <TASK>
[   55.792184]  ? __pfx_lock_release+0x10/0x10
[   55.792580]  dump_stack_lvl+0x121/0x150
[   55.793280]  ? lock_release+0x592/0x870
[   55.793690]  dump_stack+0x19/0x20
[   55.794146]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.794638]  check_preemption_disabled+0x168/0x180
[   55.795458]  ? __pfx_lock_release+0x10/0x10
[   55.795889]  debug_smp_processor_id+0x20/0x30
[   55.796237]  ? mlock_drain_local+0x27f/0x4b0
[   55.796608]  __schedule+0xa0/0x33a0
[   55.797617]  exit_mmap+0x19e/0xb10
[   55.797937]  ? do_task_dead+0xa8/0x110
[   55.798170]  ? __pfx_exit_mmap+0x10/0x10
[   55.798563]  ? debug_smp_processor_id+0x20/0x30
[   55.798767]  ? debug_smp_processor_id+0x20/0x30
[   55.799160]  ? rcu_is_watching+0x19/0xc0
[   55.799515]  ? trace_hardirqs_on+0x51/0x60
[   55.799870]  ? lock_release+0x592/0x870
[   55.800172]  ? kasan_quarantine_put+0xa2/0x200
[   55.800631]  ? __pfx___schedule+0x10/0x10
[   55.801072]  ? __khugepaged_exit+0x266/0x4c0
[   55.801479]  ? debug_smp_processor_id+0x20/0x30
[   55.801871]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.802296]  ? rcu_is_watching+0x19/0xc0
[   55.802768]  __mmput+0xde/0x3a0
[   55.803091]  ? trace_irq_enable+0xe1/0x120
[   55.803450]  mmput+0x74/0x90
[   55.803812]  ? do_task_dead+0x4a/0x110
[   55.804232]  do_exit+0xa03/0x29f0
[   55.804658]  do_task_dead+0xe0/0x110
[   55.805016]  ? trace_hardirqs_on+0x51/0x60
[   55.805394]  make_task_dead+0x384/0x3c0
[   55.805743]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.806190]  rewind_stack_and_make_dead+0x16/0x20
[   55.806555]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.806985] RIP: 0033:0x7f17bd43ee5d
[   55.807405]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.807897] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.808263]  ? __pfx_do_exit+0x10/0x10
[   55.808562] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   55.809115]  ? __audit_syscall_entry+0x39c/0x500
[   55.809401]  ORIG_RAX: 000000000000003c
[   55.809768]  __x64_sys_exit+0x50/0x60
[   55.810082] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.810424]  x64_sys_call+0x20c9/0x20d0
[   55.810806] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.811159]  do_syscall_64+0x6d/0x140
[   55.811753] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.812179]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.812646] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.812970] RIP: 0033:0x7f17bd43ee5d
[   55.813426] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.813974] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.814343]  </TASK>
[   55.814816] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.822159] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.822815] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.823480] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.824128] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.824781] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.825460]  </TASK>
[   55.825692] Modules linked in:
[   55.826143] ---[ end trace 0000000000000000 ]---
[   55.826582] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.827126] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.828901] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   55.829473] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   55.830151] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   55.830814] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   55.831567] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.832236] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   55.832877] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   55.833610] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.834145] CR2: 00007f17bd6ea5b8 CR3: 0000000012930002 CR4: 0000000000770ef0
[   55.834801] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.835560] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.836231] PKRU: 55555554
[   55.836500] note: repro[19650] exited with preempt_count 1
[   55.837002] Fixing recursive fault but reboot is needed!
[   55.837491] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19650
[   55.838229] caller is debug_smp_processor_id+0x20/0x30
[   55.838735] CPU: 0 UID: 0 PID: 19650 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.839580] Tainted: [D]=DIE, [W]=WARN
[   55.839949] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.840979] Call Trace:
[   55.841220]  <TASK>
[   55.841437]  dump_stack_lvl+0x121/0x150
[   55.841816]  dump_stack+0x19/0x20
[   55.842147]  check_preemption_disabled+0x168/0x180
[   55.842621]  debug_smp_processor_id+0x20/0x30
[   55.843054]  __schedule+0xa0/0x33a0
[   55.843403]  ? do_task_dead+0xa8/0x110
[   55.843773]  ? debug_smp_processor_id+0x20/0x30
[   55.844234]  ? rcu_is_watching+0x19/0xc0
[   55.844666]  ? lock_release+0x592/0x870
[   55.845051]  ? __pfx___schedule+0x10/0x10
[   55.845452]  ? debug_smp_processor_id+0x20/0x30
[   55.845898]  ? rcu_is_watching+0x19/0xc0
[   55.846322]  ? trace_irq_enable+0xe1/0x120
[   55.846732]  ? do_task_dead+0x4a/0x110
[   55.847097]  do_task_dead+0xe0/0x110
[   55.847460]  make_task_dead+0x384/0x3c0
[   55.847846]  rewind_stack_and_make_dead+0x16/0x20
[   55.848328] RIP: 0033:0x7f17bd43ee5d
[   55.848675] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.849242] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.849940] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.850614] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.851269] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.851935] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.852589] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.853247]  </TASK>
[   55.853589] BUG: scheduling while atomic: repro/19650/0x00000000
[   55.854150] INFO: lockdep is turned off.
[   55.854524] Modules linked in:
[   55.854822] Preemption disabled at:
[   55.854828] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   55.855728] CPU: 0 UID: 0 PID: 19650 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   55.856577] Tainted: [D]=DIE, [W]=WARN
[   55.856958] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.858353] Call Trace:
[   55.858603]  <TASK>
[   55.858818]  dump_stack_lvl+0x121/0x150
[   55.859214]  ? do_task_dead+0x28/0x110
[   55.859587]  dump_stack+0x19/0x20
[   55.859919]  __schedule_bug+0x12d/0x180
[   55.860315]  __schedule+0x2401/0x33a0
[   55.860683]  ? do_task_dead+0xa8/0x110
[   55.861050]  ? rcu_is_watching+0x19/0xc0
[   55.861442]  ? lock_release+0x592/0x870
[   55.861818]  ? __pfx___schedule+0x10/0x10
[   55.862219]  ? debug_smp_processor_id+0x20/0x30
[   55.862684]  ? rcu_is_watching+0x19/0xc0
[   55.863085]  ? trace_irq_enable+0xe1/0x120
[   55.863501]  ? do_task_dead+0x4a/0x110
[   55.863864]  do_task_dead+0xe0/0x110
[   55.864211]  make_task_dead+0x384/0x3c0
[   55.864611]  rewind_stack_and_make_dead+0x16/0x20
[   55.865077] RIP: 0033:0x7f17bd43ee5d
[   55.865425] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   55.865984] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.866691] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   55.867395] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.868365] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   55.869026] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   55.869686] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   55.870352]  </TASK>
[   56.223383] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#113] PREEMPT SMP KASAN NOPTI
[   56.224534] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.225245] CPU: 1 UID: 0 PID: 19930 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.226103] Tainted: [D]=DIE, [W]=WARN
[   56.226460] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.227482] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.228037] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.229716] RSP: 0018:ffff888013c177d8 EFLAGS: 00010202
[   56.230217] RAX: dffffc0000000000 RBX: ffffea00004e6ac0 RCX: ffffffff81bbb789
[   56.230873] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004e6ad0
[   56.231529] RBP: ffff888013c177f8 R08: 0000000000000000 R09: ffffed100210618c
[   56.232175] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   56.232829] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888010830c60
[   56.233492] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.234264] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.234832] CR2: 00007fffef6677b8 CR3: 000000001733c005 CR4: 0000000000770ef0
[   56.235540] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.236201] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.236901] PKRU: 55555554
[   56.237183] Call Trace:
[   56.237428]  <TASK>
[   56.237649]  ? show_regs+0x6d/0x80
[   56.237987]  ? die_addr+0x45/0xb0
[   56.238333]  ? exc_general_protection+0x1ae/0x340
[   56.238797]  ? asm_exc_general_protection+0x2b/0x30
[   56.239274]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.239769]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.240257]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.240753]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.241243]  zap_huge_pmd+0x48e/0xd40
[   56.241617]  unmap_page_range+0x1ad6/0x4360
[   56.242023]  ? __pfx_lock_release+0x10/0x10
[   56.242431]  ? do_raw_spin_trylock+0xbf/0x190
[   56.242867]  ? __kasan_check_read+0x15/0x20
[   56.243275]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.243767]  ? __pfx_unmap_page_range+0x10/0x10
[   56.244214]  unmap_single_vma+0x1ac/0x2d0
[   56.244616]  unmap_vmas+0x210/0x470
[   56.244971]  ? __pfx_unmap_vmas+0x10/0x10
[   56.245373]  ? __pfx_lock_release+0x10/0x10
[   56.245775]  ? lock_release+0x592/0x870
[   56.246148]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.246624]  ? __pfx_lock_release+0x10/0x10
[   56.247035]  ? mlock_drain_local+0x27f/0x4b0
[   56.247458]  exit_mmap+0x19e/0xb10
[   56.247817]  ? __pfx_exit_mmap+0x10/0x10
[   56.248213]  ? debug_smp_processor_id+0x20/0x30
[   56.248697]  ? trace_hardirqs_on+0x51/0x60
[   56.249105]  ? kasan_quarantine_put+0xa2/0x200
[   56.249547]  ? __khugepaged_exit+0x266/0x4c0
[   56.249963]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.250481]  __mmput+0xde/0x3a0
[   56.250797]  mmput+0x74/0x90
[   56.251092]  do_exit+0xa03/0x29f0
[   56.251433]  ? trace_hardirqs_on+0x51/0x60
[   56.251831]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.252429]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.252906]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.253412]  ? __pfx_do_exit+0x10/0x10
[   56.253809]  ? __audit_syscall_entry+0x39c/0x500
[   56.254301]  __x64_sys_exit+0x50/0x60
[   56.254693]  x64_sys_call+0x20c9/0x20d0
[   56.255097]  do_syscall_64+0x6d/0x140
[   56.255467]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.255958] RIP: 0033:0x7f17bd43ee5d
[   56.256318] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.256877] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.257583] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.258227] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.258895] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.259570] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.260230] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.260946]  </TASK>
[   56.261179] Modules linked in:
[   56.261544] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#114] PREEMPT SMP KASAN NOPTI
[   56.261691] ---[ end trace 0000000000000000 ]---
[   56.262694] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.263598] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.264203] CPU: 0 UID: 0 PID: 19950 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.264798] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.265632] Tainted: [D]=DIE, [W]=WARN
[   56.267383] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   56.267738] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.268221] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   56.269267] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.270068] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   56.270616] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.271342] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   56.273022] RSP: 0018:ffff88802aa9f7d8 EFLAGS: 00010202
[   56.273042] RAX: dffffc0000000000 RBX: ffffea0000aaa400 RCX: ffffffff81bbb789
[   56.273054] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aaa410
[   56.273065] RBP: ffff88802aa9f7f8 R08: 0000000000000000 R09: ffffed1002e64bd4
[   56.273076] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.273087] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888017325ea0
[   56.273099] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.273114] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.273975] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.274358] CR2: 00007f17bd49bc20 CR3: 000000002abd6005 CR4: 0000000000770ef0
[   56.275027] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   56.275674] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.275686] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.275697] PKRU: 55555554
[   56.275704] Call Trace:
[   56.275710]  <TASK>
[   56.275719]  ? show_regs+0x6d/0x80
[   56.275746]  ? die_addr+0x45/0xb0
[   56.276554] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.277198]  ? exc_general_protection+0x1ae/0x340
[   56.277865] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.278604]  ? asm_exc_general_protection+0x2b/0x30
[   56.279335] CR2: 00007fffef6677b8 CR3: 000000001733c005 CR4: 0000000000770ef0
[   56.279996]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.280020]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.280042]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.280064]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.280087]  zap_huge_pmd+0x48e/0xd40
[   56.280893] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.281552]  unmap_page_range+0x1ad6/0x4360
[   56.282221] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.282873]  ? update_stack_state+0x2d9/0x610
[   56.283144] PKRU: 55555554
[   56.283398]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.283716] note: repro[19930] exited with preempt_count 1
[   56.283941]  ? __pfx_unmap_page_range+0x10/0x10
[   56.284255] Fixing recursive fault but reboot is needed!
[   56.285001]  unmap_single_vma+0x1ac/0x2d0
[   56.285629] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19930
[   56.286262]  unmap_vmas+0x210/0x470
[   56.286698] caller is debug_smp_processor_id+0x20/0x30
[   56.287357]  ? __pfx_unmap_vmas+0x10/0x10
[   56.287958] CPU: 1 UID: 0 PID: 19930 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.288362]  ? __pfx_lock_release+0x10/0x10
[   56.289152] Tainted: [D]=DIE, [W]=WARN
[   56.289617]  ? lock_release+0x592/0x870
[   56.290269] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.290914]  ? mas_next_slot+0x133a/0x1a50
[   56.291318] Call Trace:
[   56.291965]  ? __pfx_lock_release+0x10/0x10
[   56.292414]  <TASK>
[   56.292677]  ? mlock_drain_local+0x27f/0x4b0
[   56.293197]  dump_stack_lvl+0x121/0x150
[   56.293705]  exit_mmap+0x19e/0xb10
[   56.294119]  dump_stack+0x19/0x20
[   56.294626]  ? __pfx_exit_mmap+0x10/0x10
[   56.295021]  check_preemption_disabled+0x168/0x180
[   56.295743]  ? debug_smp_processor_id+0x20/0x30
[   56.296091]  debug_smp_processor_id+0x20/0x30
[   56.296566]  ? trace_hardirqs_on+0x51/0x60
[   56.296964]  __schedule+0xa0/0x33a0
[   56.297818]  ? kasan_quarantine_put+0xa2/0x200
[   56.298261]  ? do_task_dead+0xa8/0x110
[   56.298629]  ? __khugepaged_exit+0x266/0x4c0
[   56.299239]  ? debug_smp_processor_id+0x20/0x30
[   56.300285]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.300650]  ? rcu_is_watching+0x19/0xc0
[   56.300891]  __mmput+0xde/0x3a0
[   56.301283]  ? lock_release+0x592/0x870
[   56.301494]  mmput+0x74/0x90
[   56.301887]  ? __pfx___schedule+0x10/0x10
[   56.302248]  do_exit+0xa03/0x29f0
[   56.302572]  ? debug_smp_processor_id+0x20/0x30
[   56.302891]  ? trace_hardirqs_on+0x51/0x60
[   56.303257]  ? rcu_is_watching+0x19/0xc0
[   56.303708]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.304152]  ? trace_irq_enable+0xe1/0x120
[   56.304565]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.304930]  ? do_task_dead+0x4a/0x110
[   56.305264]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.305643]  do_task_dead+0xe0/0x110
[   56.305998]  ? __pfx_do_exit+0x10/0x10
[   56.306373]  make_task_dead+0x384/0x3c0
[   56.306784]  ? __audit_syscall_entry+0x39c/0x500
[   56.307230]  rewind_stack_and_make_dead+0x16/0x20
[   56.307599]  __x64_sys_exit+0x50/0x60
[   56.307876] RIP: 0033:0x7f17bd43ee5d
[   56.308238]  x64_sys_call+0x20c9/0x20d0
[   56.308516] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.308895]  do_syscall_64+0x6d/0x140
[   56.309185] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   56.309618]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.309984]  ORIG_RAX: 000000000000003c
[   56.310358] RIP: 0033:0x7f17bd43ee5d
[   56.310939] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.311325] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.311783] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.312131] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   56.312596] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.312939]  ORIG_RAX: 000000000000003c
[   56.313294] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.313654] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.314091] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.314528] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.314991]  </TASK>
[   56.315335] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.325116] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.325784] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.326483]  </TASK>
[   56.326713] Modules linked in:
[   56.327241] ---[ end trace 0000000000000000 ]---
[   56.327803] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.328383] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.330370] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   56.331036] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   56.331739] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   56.332429] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   56.333101] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.333776] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   56.334445] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.335192] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.335776] CR2: 00007f17bd49bc20 CR3: 000000002abd6005 CR4: 0000000000770ef0
[   56.336467] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.337143] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.337809] PKRU: 55555554
[   56.338086] note: repro[19950] exited with preempt_count 1
[   56.338618] Fixing recursive fault but reboot is needed!
[   56.339120] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19950
[   56.339868] caller is debug_smp_processor_id+0x20/0x30
[   56.340387] CPU: 0 UID: 0 PID: 19950 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.341257] Tainted: [D]=DIE, [W]=WARN
[   56.341622] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.342670] Call Trace:
[   56.342914]  <TASK>
[   56.343137]  dump_stack_lvl+0x121/0x150
[   56.343528]  dump_stack+0x19/0x20
[   56.343865]  check_preemption_disabled+0x168/0x180
[   56.344343]  debug_smp_processor_id+0x20/0x30
[   56.344773]  __schedule+0xa0/0x33a0
[   56.345130]  ? do_task_dead+0xa8/0x110
[   56.345507]  ? debug_smp_processor_id+0x20/0x30
[   56.345962]  ? rcu_is_watching+0x19/0xc0
[   56.346354]  ? lock_release+0x592/0x870
[   56.346731]  ? __pfx___schedule+0x10/0x10
[   56.347142]  ? debug_smp_processor_id+0x20/0x30
[   56.347597]  ? rcu_is_watching+0x19/0xc0
[   56.347991]  ? trace_irq_enable+0xe1/0x120
[   56.348405]  ? do_task_dead+0x4a/0x110
[   56.348775]  do_task_dead+0xe0/0x110
[   56.349135]  make_task_dead+0x384/0x3c0
[   56.349552]  rewind_stack_and_make_dead+0x16/0x20
[   56.350026] RIP: 0033:0x7f17bd43ee5d
[   56.350421] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.351005] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.351726] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.352402] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.353061] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.353756] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.354417] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.355090]  </TASK>
[   56.355370] BUG: scheduling while atomic: repro/19950/0x00000000
[   56.355969] INFO: lockdep is turned off.
[   56.356355] Modules linked in:
[   56.356659] Preemption disabled at:
[   56.356665] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   56.357516] CPU: 0 UID: 0 PID: 19950 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.358367] Tainted: [D]=DIE, [W]=WARN
[   56.358364] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#115] PREEMPT SMP KASAN NOPTI
[   56.358723] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.359826] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.360841] Call Trace:
[   56.361629] CPU: 1 UID: 0 PID: 19970 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.361863]  <TASK>
[   56.362702] Tainted: [D]=DIE, [W]=WARN
[   56.362902]  dump_stack_lvl+0x121/0x150
[   56.363248] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.363604]  ? do_task_dead+0x28/0x110
[   56.364675] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.365029]  dump_stack+0x19/0x20
[   56.365552] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.365865]  __schedule_bug+0x12d/0x180
[   56.367506] RSP: 0018:ffff888013caf7d8 EFLAGS: 00010202
[   56.367874]  __schedule+0x2401/0x33a0
[   56.368352] RAX: dffffc0000000000 RBX: ffffea0000707740 RCX: ffffffff81bbb789
[   56.368692]  ? do_task_dead+0xa8/0x110
[   56.369332] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707750
[   56.369685]  ? rcu_is_watching+0x19/0xc0
[   56.370353] RBP: ffff888013caf7f8 R08: 0000000000000000 R09: ffffed1002626fa4
[   56.370716]  ? lock_release+0x592/0x870
[   56.371371] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.371735]  ? __pfx___schedule+0x10/0x10
[   56.372370] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013137d20
[   56.372746]  ? debug_smp_processor_id+0x20/0x30
[   56.373391] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.373817]  ? rcu_is_watching+0x19/0xc0
[   56.374565] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.374931]  ? trace_irq_enable+0xe1/0x120
[   56.375458] CR2: 00007f469c34e000 CR3: 000000002705e001 CR4: 0000000000770ef0
[   56.375835]  ? do_task_dead+0x4a/0x110
[   56.376503] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.376859]  do_task_dead+0xe0/0x110
[   56.377525] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.377859]  make_task_dead+0x384/0x3c0
[   56.378545] PKRU: 55555554
[   56.378902]  rewind_stack_and_make_dead+0x16/0x20
[   56.379150] Call Trace:
[   56.379591] RIP: 0033:0x7f17bd43ee5d
[   56.379826]  <TASK>
[   56.380156] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.380369]  ? show_regs+0x6d/0x80
[   56.380936] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.381434]  ? die_addr+0x45/0xb0
[   56.382130] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.382484]  ? exc_general_protection+0x1ae/0x340
[   56.383132] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.383636]  ? asm_exc_general_protection+0x2b/0x30
[   56.384261] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.384776]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.385418] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.385881]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.386541] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.387252]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.387932]  </TASK>
[   56.388508]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.389269]  zap_huge_pmd+0x48e/0xd40
[   56.389655]  unmap_page_range+0x1ad6/0x4360
[   56.390063]  ? update_stack_state+0x2d9/0x610
[   56.390514]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.390996]  ? __pfx_unmap_page_range+0x10/0x10
[   56.391446]  unmap_single_vma+0x1ac/0x2d0
[   56.391840]  unmap_vmas+0x210/0x470
[   56.392205]  ? __pfx_unmap_vmas+0x10/0x10
[   56.392614]  ? __pfx_lock_release+0x10/0x10
[   56.393019]  ? lock_release+0x592/0x870
[   56.393397]  ? mas_next_slot+0x133a/0x1a50
[   56.393799]  ? __pfx_lock_release+0x10/0x10
[   56.394209]  ? mlock_drain_local+0x27f/0x4b0
[   56.394639]  exit_mmap+0x19e/0xb10
[   56.394985]  ? __pfx_exit_mmap+0x10/0x10
[   56.395378]  ? debug_smp_processor_id+0x20/0x30
[   56.395828]  ? trace_hardirqs_on+0x51/0x60
[   56.396236]  ? kasan_quarantine_put+0xa2/0x200
[   56.396677]  ? __khugepaged_exit+0x266/0x4c0
[   56.397109]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.397666]  __mmput+0xde/0x3a0
[   56.398000]  mmput+0x74/0x90
[   56.398303]  do_exit+0xa03/0x29f0
[   56.398644]  ? trace_hardirqs_on+0x51/0x60
[   56.399044]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.399638]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.400004]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.400314]  ? __pfx_do_exit+0x10/0x10
[   56.400560]  ? __audit_syscall_entry+0x39c/0x500
[   56.400850]  __x64_sys_exit+0x50/0x60
[   56.401089]  x64_sys_call+0x20c9/0x20d0
[   56.401334]  do_syscall_64+0x6d/0x140
[   56.401570]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.401876] RIP: 0033:0x7f17bd43ee5d
[   56.402089] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.402438] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.402866] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.403265] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.403673] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.404074] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.404493] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.404896]  </TASK>
[   56.405029] Modules linked in:
[   56.405310] ---[ end trace 0000000000000000 ]---
[   56.405264] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#116] PREEMPT SMP KASAN NOPTI
[   56.405586] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.406694] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.407098] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.407790] CPU: 0 UID: 0 PID: 20021 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.409565] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   56.410408] Tainted: [D]=DIE, [W]=WARN
[   56.411036] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   56.411392] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.411405] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.412051] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   56.413084] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.413710] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   56.414371] RSP: 0018:ffff8880394e77d8 EFLAGS: 00010202
[   56.416082] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.416733] 
[   56.417386] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   56.418063] RAX: dffffc0000000000 RBX: ffffea0000982f00 RCX: ffffffff81bbb789
[   56.418246] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.418909] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000982f10
[   56.419659] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.420398] RBP: ffff8880394e77f8 R08: 0000000000000000 R09: ffffed100236b598
[   56.421114] CR2: 00007f469c34e000 CR3: 000000002705e001 CR4: 0000000000770ef0
[   56.421668] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.422330] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.422978] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011b5acc0
[   56.423851] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.424475] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.425254] PKRU: 55555554
[   56.425910] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.426638] note: repro[19970] exited with preempt_count 1
[   56.426907] CR2: 00007f17bd70ffa8 CR3: 000000000fe12001 CR4: 0000000000770ef0
[   56.427456] Fixing recursive fault but reboot is needed!
[   56.427941] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.428579] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19970
[   56.429069] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.430125] caller is debug_smp_processor_id+0x20/0x30
[   56.430857] PKRU: 55555554
[   56.431612] CPU: 1 UID: 0 PID: 19970 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.432051] Call Trace:
[   56.432320] Tainted: [D]=DIE, [W]=WARN
[   56.433146]  <TASK>
[   56.433414] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.433775]  ? show_regs+0x6d/0x80
[   56.434004] Call Trace:
[   56.435046]  ? die_addr+0x45/0xb0
[   56.435495]  <TASK>
[   56.435735]  ? exc_general_protection+0x1ae/0x340
[   56.436142]  dump_stack_lvl+0x121/0x150
[   56.436363]  ? asm_exc_general_protection+0x2b/0x30
[   56.436851]  dump_stack+0x19/0x20
[   56.437214]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.437733]  check_preemption_disabled+0x168/0x180
[   56.438051]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.438587]  debug_smp_processor_id+0x20/0x30
[   56.439034]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.439511]  __schedule+0xa0/0x33a0
[   56.439927]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.440400]  ? do_task_dead+0xa8/0x110
[   56.440738]  zap_huge_pmd+0x48e/0xd40
[   56.441228]  ? debug_smp_processor_id+0x20/0x30
[   56.441584]  unmap_page_range+0x1ad6/0x4360
[   56.441923]  ? rcu_is_watching+0x19/0xc0
[   56.442353]  ? update_stack_state+0x2d9/0x610
[   56.442741]  ? lock_release+0x592/0x870
[   56.443118]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.443533]  ? __pfx___schedule+0x10/0x10
[   56.443896]  ? __pfx_unmap_page_range+0x10/0x10
[   56.444369]  ? debug_smp_processor_id+0x20/0x30
[   56.444759]  unmap_single_vma+0x1ac/0x2d0
[   56.445164]  ? rcu_is_watching+0x19/0xc0
[   56.445596]  unmap_vmas+0x210/0x470
[   56.445967]  ? trace_irq_enable+0xe1/0x120
[   56.446351]  ? __pfx_unmap_vmas+0x10/0x10
[   56.446690]  ? do_task_dead+0x4a/0x110
[   56.447068]  ? __pfx_lock_release+0x10/0x10
[   56.447447]  do_task_dead+0xe0/0x110
[   56.447792]  ? lock_release+0x592/0x870
[   56.448204]  make_task_dead+0x384/0x3c0
[   56.448540]  ? mas_next_slot+0x133a/0x1a50
[   56.448899]  rewind_stack_and_make_dead+0x16/0x20
[   56.449266]  ? __pfx_lock_release+0x10/0x10
[   56.449664] RIP: 0033:0x7f17bd43ee5d
[   56.450104]  ? mlock_drain_local+0x27f/0x4b0
[   56.450503] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.450845]  exit_mmap+0x19e/0xb10
[   56.451229] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   56.451805]  ? __pfx_exit_mmap+0x10/0x10
[   56.452234]  ORIG_RAX: 000000000000003c
[   56.452723]  ? debug_smp_processor_id+0x20/0x30
[   56.453166] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.453533]  ? trace_hardirqs_on+0x51/0x60
[   56.454173] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.454826]  ? kasan_quarantine_put+0xa2/0x200
[   56.455200] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.455866]  ? __khugepaged_exit+0x266/0x4c0
[   56.456647] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.457301]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.457692] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.458348]  __mmput+0xde/0x3a0
[   56.458902]  </TASK>
[   56.459548]  mmput+0x74/0x90
[   56.460355]  do_exit+0xa03/0x29f0
[   56.460698]  ? trace_hardirqs_on+0x51/0x60
[   56.461110]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.461724]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.462193]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.462681]  ? __pfx_do_exit+0x10/0x10
[   56.463068]  ? __audit_syscall_entry+0x39c/0x500
[   56.463522]  __x64_sys_exit+0x50/0x60
[   56.463902]  x64_sys_call+0x20c9/0x20d0
[   56.464286]  do_syscall_64+0x6d/0x140
[   56.464656]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.465153] RIP: 0033:0x7f17bd43ee5d
[   56.465507] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.466078] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.466800] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.467472] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.468134] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.468960] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.469628] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.470306]  </TASK>
[   56.470532] Modules linked in:
[   56.471080] ---[ end trace 0000000000000000 ]---
[   56.471623] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.472196] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.473919] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   56.474432] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   56.475105] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   56.475796] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   56.476467] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.477131] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   56.477804] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   56.478559] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.479106] CR2: 00007f17bd70ffa8 CR3: 000000000fe12001 CR4: 0000000000770ef0
[   56.479806] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.480480] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.481144] PKRU: 55555554
[   56.481418] note: repro[20021] exited with preempt_count 1
[   56.481939] Fixing recursive fault but reboot is needed!
[   56.482440] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20021
[   56.483165] caller is debug_smp_processor_id+0x20/0x30
[   56.483708] CPU: 0 UID: 0 PID: 20021 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.484572] Tainted: [D]=DIE, [W]=WARN
[   56.484931] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.485978] Call Trace:
[   56.486228]  <TASK>
[   56.486452]  dump_stack_lvl+0x121/0x150
[   56.486839]  dump_stack+0x19/0x20
[   56.487184]  check_preemption_disabled+0x168/0x180
[   56.487660]  debug_smp_processor_id+0x20/0x30
[   56.488110]  __schedule+0xa0/0x33a0
[   56.488471]  ? do_task_dead+0xa8/0x110
[   56.488842]  ? debug_smp_processor_id+0x20/0x30
[   56.489300]  ? rcu_is_watching+0x19/0xc0
[   56.489706]  ? lock_release+0x592/0x870
[   56.490104]  ? __pfx___schedule+0x10/0x10
[   56.490512]  ? debug_smp_processor_id+0x20/0x30
[   56.490976]  ? rcu_is_watching+0x19/0xc0
[   56.491377]  ? trace_irq_enable+0xe1/0x120
[   56.491790]  ? do_task_dead+0x4a/0x110
[   56.492160]  do_task_dead+0xe0/0x110
[   56.492521]  make_task_dead+0x384/0x3c0
[   56.492909]  rewind_stack_and_make_dead+0x16/0x20
[   56.493383] RIP: 0033:0x7f17bd43ee5d
[   56.493731] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.494316] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.495042] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.495753] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.496453] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.497106] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.497765] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.498436]  </TASK>
[   56.498712] BUG: scheduling while atomic: repro/20021/0x00000000
[   56.499274] INFO: lockdep is turned off.
[   56.499661] Modules linked in:
[   56.499966] Preemption disabled at:
[   56.499972] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   56.500826] CPU: 0 UID: 0 PID: 20021 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.501688] Tainted: [D]=DIE, [W]=WARN
[   56.502052] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.503115] Call Trace:
[   56.503365]  <TASK>
[   56.503585]  dump_stack_lvl+0x121/0x150
[   56.503968]  ? do_task_dead+0x28/0x110
[   56.504343]  dump_stack+0x19/0x20
[   56.504679]  __schedule_bug+0x12d/0x180
[   56.505065]  __schedule+0x2401/0x33a0
[   56.505438]  ? do_task_dead+0xa8/0x110
[   56.505806]  ? rcu_is_watching+0x19/0xc0
[   56.506211]  ? lock_release+0x592/0x870
[   56.506588]  ? __pfx___schedule+0x10/0x10
[   56.506991]  ? debug_smp_processor_id+0x20/0x30
[   56.507453]  ? rcu_is_watching+0x19/0xc0
[   56.507850]  ? trace_irq_enable+0xe1/0x120
[   56.508264]  ? do_task_dead+0x4a/0x110
[   56.508638]  do_task_dead+0xe0/0x110
[   56.508995]  make_task_dead+0x384/0x3c0
[   56.509391]  rewind_stack_and_make_dead+0x16/0x20
[   56.509845] RIP: 0033:0x7f17bd43ee5d
[   56.510195] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.510776] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.511497] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.512167] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.512826] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.513498] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.514170] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.514848]  </TASK>
[   56.702149] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#117] PREEMPT SMP KASAN NOPTI
[   56.702963] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.703465] CPU: 1 UID: 0 PID: 20082 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.704085] Tainted: [D]=DIE, [W]=WARN
[   56.704360] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.705122] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.705525] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.707131] RSP: 0018:ffff8880273c77d8 EFLAGS: 00010202
[   56.707627] RAX: dffffc0000000000 RBX: ffffea00003ac5c0 RCX: ffffffff81bbb789
[   56.708295] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003ac5d0
[   56.708943] RBP: ffff8880273c77f8 R08: 0000000000000000 R09: ffffed1003de2ccc
[   56.709604] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.710250] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ef16660
[   56.710908] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.711662] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.712141] CR2: 00007fffef6677b8 CR3: 0000000014788004 CR4: 0000000000770ef0
[   56.712732] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.713325] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.713912] PKRU: 55555554
[   56.714147] Call Trace:
[   56.714364]  <TASK>
[   56.714554]  ? show_regs+0x6d/0x80
[   56.714860]  ? die_addr+0x45/0xb0
[   56.715157]  ? exc_general_protection+0x1ae/0x340
[   56.715573]  ? asm_exc_general_protection+0x2b/0x30
[   56.715994]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.716419]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.716841]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.717261]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.717688]  zap_huge_pmd+0x48e/0xd40
[   56.718003]  unmap_page_range+0x1ad6/0x4360
[   56.718357]  ? update_stack_state+0x2d9/0x610
[   56.718733]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.719148]  ? __pfx_unmap_page_range+0x10/0x10
[   56.719537]  unmap_single_vma+0x1ac/0x2d0
[   56.719877]  unmap_vmas+0x210/0x470
[   56.720178]  ? __pfx_unmap_vmas+0x10/0x10
[   56.720516]  ? __pfx_lock_release+0x10/0x10
[   56.720864]  ? lock_release+0x592/0x870
[   56.721185]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.721591]  ? __pfx_lock_release+0x10/0x10
[   56.721929]  ? mlock_drain_local+0x27f/0x4b0
[   56.722282]  exit_mmap+0x19e/0xb10
[   56.722568]  ? __pfx_exit_mmap+0x10/0x10
[   56.722887]  ? debug_smp_processor_id+0x20/0x30
[   56.723257]  ? trace_hardirqs_on+0x51/0x60
[   56.723594]  ? kasan_quarantine_put+0xa2/0x200
[   56.723955]  ? __khugepaged_exit+0x266/0x4c0
[   56.724306]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.724736]  __mmput+0xde/0x3a0
[   56.724998]  mmput+0x74/0x90
[   56.725240]  do_exit+0xa03/0x29f0
[   56.725520]  ? trace_hardirqs_on+0x51/0x60
[   56.725847]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.726330]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.726703]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.727082]  ? __pfx_do_exit+0x10/0x10
[   56.727382]  ? __audit_syscall_entry+0x39c/0x500
[   56.727744]  __x64_sys_exit+0x50/0x60
[   56.728036]  x64_sys_call+0x20c9/0x20d0
[   56.728340]  do_syscall_64+0x6d/0x140
[   56.728631]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.729020] RIP: 0033:0x7f17bd43ee5d
[   56.729302] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.729763] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.730329] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.730858] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.731388] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.731916] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.732440] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.732958]  </TASK>
[   56.733128] Modules linked in:
[   56.733514] ---[ end trace 0000000000000000 ]---
[   56.733863] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.734295] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.735665] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   56.736042] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   56.736545] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   56.737045] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   56.737549] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.738048] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   56.738550] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.739113] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.739577] CR2: 00007fffef6677b8 CR3: 0000000014788004 CR4: 0000000000770ef0
[   56.740070] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.740558] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.741047] PKRU: 55555554
[   56.741242] note: repro[20082] exited with preempt_count 1
[   56.741622] Fixing recursive fault but reboot is needed!
[   56.741984] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20082
[   56.742516] caller is debug_smp_processor_id+0x20/0x30
[   56.742889] CPU: 1 UID: 0 PID: 20082 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.743583] Tainted: [D]=DIE, [W]=WARN
[   56.743870] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.744711] Call Trace:
[   56.744906]  <TASK>
[   56.745063]  dump_stack_lvl+0x121/0x150
[   56.745334]  dump_stack+0x19/0x20
[   56.745570]  check_preemption_disabled+0x168/0x180
[   56.745903]  debug_smp_processor_id+0x20/0x30
[   56.746208]  __schedule+0xa0/0x33a0
[   56.746459]  ? do_task_dead+0xa8/0x110
[   56.746720]  ? debug_smp_processor_id+0x20/0x30
[   56.747035]  ? rcu_is_watching+0x19/0xc0
[   56.747331]  ? lock_release+0x592/0x870
[   56.747681]  ? __pfx___schedule+0x10/0x10
[   56.748049]  ? debug_smp_processor_id+0x20/0x30
[   56.748465]  ? rcu_is_watching+0x19/0xc0
[   56.748823]  ? trace_irq_enable+0xe1/0x120
[   56.749121]  ? do_task_dead+0x4a/0x110
[   56.749378]  do_task_dead+0xe0/0x110
[   56.749620]  make_task_dead+0x384/0x3c0
[   56.749883]  rewind_stack_and_make_dead+0x16/0x20
[   56.750197] RIP: 0033:0x7f17bd43ee5d
[   56.750437] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.750837] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.751328] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.751786] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.752242] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.752702] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.753351] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.753803]  </TASK>
[   56.754018] BUG: scheduling while atomic: repro/20082/0x00000000
[   56.754406] INFO: lockdep is turned off.
[   56.754657] Modules linked in:
[   56.754859] Preemption disabled at:
[   56.754862] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   56.755511] CPU: 1 UID: 0 PID: 20082 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.756477] Tainted: [D]=DIE, [W]=WARN
[   56.756788] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.757662] Call Trace:
[   56.757821]  <TASK>
[   56.757959]  dump_stack_lvl+0x121/0x150
[   56.758206]  ? do_task_dead+0x28/0x110
[   56.758446]  dump_stack+0x19/0x20
[   56.758662]  __schedule_bug+0x12d/0x180
[   56.758957]  __schedule+0x2401/0x33a0
[   56.759309]  ? do_task_dead+0xa8/0x110
[   56.759551]  ? rcu_is_watching+0x19/0xc0
[   56.759804]  ? lock_release+0x592/0x870
[   56.760052]  ? __pfx___schedule+0x10/0x10
[   56.760474]  ? debug_smp_processor_id+0x20/0x30
[   56.761088]  ? rcu_is_watching+0x19/0xc0
[   56.761500]  ? trace_irq_enable+0xe1/0x120
[   56.761926]  ? do_task_dead+0x4a/0x110
[   56.762443]  do_task_dead+0xe0/0x110
[   56.762770]  make_task_dead+0x384/0x3c0
[   56.763067]  rewind_stack_and_make_dead+0x16/0x20
[   56.763423] RIP: 0033:0x7f17bd43ee5d
[   56.763694] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.764142] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.764589] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.765127] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.765553] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.765975] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.766399] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.766827]  </TASK>
[   56.768806] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#118] PREEMPT SMP KASAN NOPTI
[   56.769547] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.770009] CPU: 1 UID: 0 PID: 20122 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.770555] Tainted: [D]=DIE, [W]=WARN
[   56.770771] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.771405] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.771743] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.772964] RSP: 0018:ffff8880395af7d8 EFLAGS: 00010202
[   56.773265] RAX: dffffc0000000000 RBX: ffffea00007bc880 RCX: ffffffff81bbb789
[   56.773671] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007bc890
[   56.774072] RBP: ffff8880395af7f8 R08: 0000000000000000 R09: ffffed10027aba60
[   56.774491] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.775003] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013d5d300
[   56.775404] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.775855] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.776188] CR2: 00007f469c368010 CR3: 000000002abd8006 CR4: 0000000000770ef0
[   56.776637] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.777038] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.777441] PKRU: 55555554
[   56.777602] Call Trace:
[   56.777747]  <TASK>
[   56.777899]  ? show_regs+0x6d/0x80
[   56.778172]  ? die_addr+0x45/0xb0
[   56.778376]  ? exc_general_protection+0x1ae/0x340
[   56.778657]  ? asm_exc_general_protection+0x2b/0x30
[   56.779126]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.779939]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.780580]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.781335]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.781984]  zap_huge_pmd+0x48e/0xd40
[   56.782460]  unmap_page_range+0x1ad6/0x4360
[   56.783059]  ? update_stack_state+0x2d9/0x610
[   56.783632]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.784258]  ? __pfx_unmap_page_range+0x10/0x10
[   56.785003]  unmap_single_vma+0x1ac/0x2d0
[   56.785519]  unmap_vmas+0x210/0x470
[   56.785972]  ? __pfx_unmap_vmas+0x10/0x10
[   56.786563]  ? __pfx_lock_release+0x10/0x10
[   56.787086]  ? lock_release+0x592/0x870
[   56.787575]  ? mas_next_slot+0x133a/0x1a50
[   56.788089]  ? __pfx_lock_release+0x10/0x10
[   56.788624]  ? mlock_drain_local+0x27f/0x4b0
[   56.789116]  exit_mmap+0x19e/0xb10
[   56.789343]  ? __pfx_exit_mmap+0x10/0x10
[   56.789597]  ? debug_smp_processor_id+0x20/0x30
[   56.789892]  ? trace_hardirqs_on+0x51/0x60
[   56.790155]  ? kasan_quarantine_put+0xa2/0x200
[   56.790443]  ? __khugepaged_exit+0x266/0x4c0
[   56.790718]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.791057]  __mmput+0xde/0x3a0
[   56.791265]  mmput+0x74/0x90
[   56.791459]  do_exit+0xa03/0x29f0
[   56.791679]  ? trace_hardirqs_on+0x51/0x60
[   56.791941]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.792310]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.792592]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.792879]  ? __pfx_do_exit+0x10/0x10
[   56.793103]  ? __audit_syscall_entry+0x39c/0x500
[   56.793377]  __x64_sys_exit+0x50/0x60
[   56.793596]  x64_sys_call+0x20c9/0x20d0
[   56.793829]  do_syscall_64+0x6d/0x140
[   56.794049]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.794344] RIP: 0033:0x7f17bd43ee5d
[   56.794554] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.794900] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.795326] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.795725] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.796120] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.796514] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.796913] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.797318]  </TASK>
[   56.797450] Modules linked in:
[   56.797709] ---[ end trace 0000000000000000 ]---
[   56.797979] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.798315] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.799338] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   56.799649] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   56.800051] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   56.800445] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   56.800845] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.801243] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   56.801645] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   56.802096] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.802423] CR2: 00007f469c368010 CR3: 000000002abd8006 CR4: 0000000000770ef0
[   56.802824] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.803224] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.803640] PKRU: 55555554
[   56.803799] note: repro[20122] exited with preempt_count 1
[   56.804109] Fixing recursive fault but reboot is needed!
[   56.804406] BUG: scheduling while atomic: repro/20122/0x00000000
[   56.804747] INFO: lockdep is turned off.
[   56.804971] Modules linked in:
[   56.805154] Preemption disabled at:
[   56.805157] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   56.805665] CPU: 1 UID: 0 PID: 20122 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   56.806182] Tainted: [D]=DIE, [W]=WARN
[   56.806398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.807030] Call Trace:
[   56.807178]  <TASK>
[   56.807310]  dump_stack_lvl+0x121/0x150
[   56.807540]  ? do_task_dead+0x28/0x110
[   56.807761]  dump_stack+0x19/0x20
[   56.807960]  __schedule_bug+0x12d/0x180
[   56.808190]  __schedule+0x2401/0x33a0
[   56.808410]  ? do_task_dead+0xa8/0x110
[   56.808631]  ? rcu_is_watching+0x19/0xc0
[   56.808864]  ? lock_release+0x592/0x870
[   56.809092]  ? __pfx___schedule+0x10/0x10
[   56.809332]  ? debug_smp_processor_id+0x20/0x30
[   56.809601]  ? rcu_is_watching+0x19/0xc0
[   56.809833]  ? trace_irq_enable+0xe1/0x120
[   56.810081]  ? do_task_dead+0x4a/0x110
[   56.810305]  do_task_dead+0xe0/0x110
[   56.810520]  make_task_dead+0x384/0x3c0
[   56.810749]  rewind_stack_and_make_dead+0x16/0x20
[   56.811023] RIP: 0033:0x7f17bd43ee5d
[   56.811233] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   56.811578] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.812003] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   56.812402] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.812802] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   56.813201] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   56.813602] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   56.814007]  </TASK>
[   57.063568] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#119] PREEMPT SMP KASAN NOPTI
[   57.064834] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.065813] CPU: 1 UID: 0 PID: 20313 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.066898] Tainted: [D]=DIE, [W]=WARN
[   57.067303] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.068285] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.068774] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.070238] RSP: 0018:ffff88802700f7d8 EFLAGS: 00010202
[   57.070695] RAX: dffffc0000000000 RBX: ffffea0000853dc0 RCX: ffffffff81bbb789
[   57.071280] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000853dd0
[   57.072169] RBP: ffff88802700f7f8 R08: 0000000000000000 R09: ffffed1003805c48
[   57.072836] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.073421] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801c02e240
[   57.074000] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.074671] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.075157] CR2: 00007f17bd5fca50 CR3: 00000000270da002 CR4: 0000000000770ef0
[   57.075698] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.076254] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.076856] PKRU: 55555554
[   57.077145] Call Trace:
[   57.077409]  <TASK>
[   57.077637]  ? show_regs+0x6d/0x80
[   57.077992]  ? die_addr+0x45/0xb0
[   57.078336]  ? exc_general_protection+0x1ae/0x340
[   57.078785]  ? asm_exc_general_protection+0x2b/0x30
[   57.079208]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.079616]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.080029]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.080438]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.080843]  zap_huge_pmd+0x48e/0xd40
[   57.081174]  unmap_page_range+0x1ad6/0x4360
[   57.081516]  ? update_stack_state+0x2d9/0x610
[   57.081897]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.082304]  ? __pfx_unmap_page_range+0x10/0x10
[   57.082671]  unmap_single_vma+0x1ac/0x2d0
[   57.082987]  unmap_vmas+0x210/0x470
[   57.083275]  ? __pfx_unmap_vmas+0x10/0x10
[   57.083586]  ? __pfx_lock_release+0x10/0x10
[   57.083909]  ? lock_release+0x592/0x870
[   57.084363]  ? mas_next_slot+0x133a/0x1a50
[   57.084817]  ? __pfx_lock_release+0x10/0x10
[   57.085143]  ? mlock_drain_local+0x27f/0x4b0
[   57.085484]  exit_mmap+0x19e/0xb10
[   57.085763]  ? __pfx_exit_mmap+0x10/0x10
[   57.086125]  ? debug_smp_processor_id+0x20/0x30
[   57.086581]  ? trace_hardirqs_on+0x51/0x60
[   57.086996]  ? kasan_quarantine_put+0xa2/0x200
[   57.087440]  ? __khugepaged_exit+0x266/0x4c0
[   57.087864]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.088381]  __mmput+0xde/0x3a0
[   57.088725]  mmput+0x74/0x90
[   57.089046]  do_exit+0xa03/0x29f0
[   57.089467]  ? trace_hardirqs_on+0x51/0x60
[   57.089900]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.090495]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.090855]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.091229]  ? __pfx_do_exit+0x10/0x10
[   57.091565]  ? __audit_syscall_entry+0x39c/0x500
[   57.092021]  __x64_sys_exit+0x50/0x60
[   57.092392]  x64_sys_call+0x20c9/0x20d0
[   57.092774]  do_syscall_64+0x6d/0x140
[   57.093132]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.093610] RIP: 0033:0x7f17bd43ee5d
[   57.093950] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.094600] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.095334] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.095825] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.096310] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.096793] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.097280] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.097789]  </TASK>
[   57.097955] Modules linked in:
[   57.098260] ---[ end trace 0000000000000000 ]---
[   57.098581] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.098974] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.100185] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   57.100640] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   57.101590] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   57.102292] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   57.102980] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.103685] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   57.104352] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.105097] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.105648] CR2: 00007f17bd5fca50 CR3: 00000000270da002 CR4: 0000000000770ef0
[   57.106341] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.107082] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.107978] PKRU: 55555554
[   57.108281] note: repro[20313] exited with preempt_count 1
[   57.108817] Fixing recursive fault but reboot is needed!
[   57.109358] BUG: scheduling while atomic: repro/20313/0x00000000
[   57.109990] INFO: lockdep is turned off.
[   57.110382] Modules linked in:
[   57.110720] Preemption disabled at:
[   57.110727] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   57.111704] CPU: 1 UID: 0 PID: 20313 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.112843] Tainted: [D]=DIE, [W]=WARN
[   57.113215] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.114241] Call Trace:
[   57.114577]  <TASK>
[   57.114809]  dump_stack_lvl+0x121/0x150
[   57.115215]  ? do_task_dead+0x28/0x110
[   57.115755]  dump_stack+0x19/0x20
[   57.116111]  __schedule_bug+0x12d/0x180
[   57.116529]  __schedule+0x2401/0x33a0
[   57.116950]  ? do_task_dead+0xa8/0x110
[   57.117422]  ? rcu_is_watching+0x19/0xc0
[   57.117838]  ? lock_release+0x592/0x870
[   57.118243]  ? __pfx___schedule+0x10/0x10
[   57.118665]  ? debug_smp_processor_id+0x20/0x30
[   57.119204]  ? rcu_is_watching+0x19/0xc0
[   57.119602]  ? trace_irq_enable+0xe1/0x120
[   57.120043]  ? do_task_dead+0x4a/0x110
[   57.120490]  do_task_dead+0xe0/0x110
[   57.120929]  make_task_dead+0x384/0x3c0
[   57.121322]  rewind_stack_and_make_dead+0x16/0x20
[   57.121789] RIP: 0033:0x7f17bd43ee5d
[   57.122191] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.122862] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.123776] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.124498] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.125352] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.126352] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.127384] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.128408]  </TASK>
[   57.145407] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#120] PREEMPT SMP KASAN NOPTI
[   57.146628] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.147327] CPU: 0 UID: 0 PID: 20375 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.148224] Tainted: [D]=DIE, [W]=WARN
[   57.148587] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.149621] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.150189] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.151881] RSP: 0018:ffff88801179f7d8 EFLAGS: 00010202
[   57.152396] RAX: dffffc0000000000 RBX: ffffea000046a580 RCX: ffffffff81bbb789
[   57.153066] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000046a590
[   57.153744] RBP: ffff88801179f7f8 R08: 0000000000000000 R09: ffffed1004c03544
[   57.154431] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.155104] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88802601aa20
[   57.155771] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   57.156555] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.157108] CR2: 00007f17bd5fca50 CR3: 000000002aace003 CR4: 0000000000770ef0
[   57.157784] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.158485] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.159153] PKRU: 55555554
[   57.159427] Call Trace:
[   57.159684]  <TASK>
[   57.159919]  ? show_regs+0x6d/0x80
[   57.160289]  ? die_addr+0x45/0xb0
[   57.160639]  ? exc_general_protection+0x1ae/0x340
[   57.161108]  ? asm_exc_general_protection+0x2b/0x30
[   57.161598]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.162093]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.162601]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.163096]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.163593]  zap_huge_pmd+0x48e/0xd40
[   57.163982]  unmap_page_range+0x1ad6/0x4360
[   57.164423]  ? update_stack_state+0x2d9/0x610
[   57.164883]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.165383]  ? __pfx_unmap_page_range+0x10/0x10
[   57.165843]  unmap_single_vma+0x1ac/0x2d0
[   57.166248]  unmap_vmas+0x210/0x470
[   57.166622]  ? __pfx_unmap_vmas+0x10/0x10
[   57.167022]  ? __pfx_lock_release+0x10/0x10
[   57.167440]  ? lock_release+0x592/0x870
[   57.167824]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.168314]  ? __pfx_lock_release+0x10/0x10
[   57.168760]  ? mlock_drain_local+0x27f/0x4b0
[   57.169195]  exit_mmap+0x19e/0xb10
[   57.169654]  ? __pfx_exit_mmap+0x10/0x10
[   57.170248]  ? debug_smp_processor_id+0x20/0x30
[   57.170906]  ? trace_hardirqs_on+0x51/0x60
[   57.171435]  ? kasan_quarantine_put+0xa2/0x200
[   57.172001]  ? __khugepaged_exit+0x266/0x4c0
[   57.172572]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.173170]  __mmput+0xde/0x3a0
[   57.173501]  mmput+0x74/0x90
[   57.173786]  do_exit+0xa03/0x29f0
[   57.174097]  ? trace_hardirqs_on+0x51/0x60
[   57.174514]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.175090]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.175538]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.175986]  ? __pfx_do_exit+0x10/0x10
[   57.176339]  ? __audit_syscall_entry+0x39c/0x500
[   57.176759]  __x64_sys_exit+0x50/0x60
[   57.177101]  x64_sys_call+0x20c9/0x20d0
[   57.177453]  do_syscall_64+0x6d/0x140
[   57.177795]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.178280] RIP: 0033:0x7f17bd43ee5d
[   57.178610] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.179216] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.180148] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.180810] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.181439] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.182052] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.182694] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.183312]  </TASK>
[   57.183520] Modules linked in:
[   57.184014] ---[ end trace 0000000000000000 ]---
[   57.184413] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.184932] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.186457] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   57.186930] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   57.187616] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   57.188213] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   57.188811] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.189398] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   57.189978] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   57.190639] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.191103] CR2: 00007f17bd5fca50 CR3: 000000002aace003 CR4: 0000000000770ef0
[   57.191887] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.192572] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.193122] PKRU: 55555554
[   57.193347] note: repro[20375] exited with preempt_count 1
[   57.193761] Fixing recursive fault but reboot is needed!
[   57.194164] BUG: scheduling while atomic: repro/20375/0x00000000
[   57.194677] INFO: lockdep is turned off.
[   57.194965] Modules linked in:
[   57.195196] Preemption disabled at:
[   57.195201] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   57.195867] CPU: 0 UID: 0 PID: 20375 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.196524] Tainted: [D]=DIE, [W]=WARN
[   57.196800] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.197595] Call Trace:
[   57.197885]  <TASK>
[   57.198138]  dump_stack_lvl+0x121/0x150
[   57.198582]  ? do_task_dead+0x28/0x110
[   57.198867]  dump_stack+0x19/0x20
[   57.199128]  __schedule_bug+0x12d/0x180
[   57.199432]  __schedule+0x2401/0x33a0
[   57.199719]  ? do_task_dead+0xa8/0x110
[   57.200004]  ? rcu_is_watching+0x19/0xc0
[   57.200309]  ? lock_release+0x592/0x870
[   57.200463] systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   57.200592]  ? __pfx___schedule+0x10/0x10
[   57.202819] systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   57.203052]  ? debug_smp_processor_id+0x20/0x30
[   57.204775]  ? rcu_is_watching+0x19/0xc0
[   57.205065]  ? trace_irq_enable+0xe1/0x120
[   57.205368]  ? do_task_dead+0x4a/0x110
[   57.205641]  do_task_dead+0xe0/0x110
[   57.205901]  make_task_dead+0x384/0x3c0
[   57.206174]  rewind_stack_and_make_dead+0x16/0x20
[   57.206505] RIP: 0033:0x7f17bd43ee5d
[   57.206757] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.207166] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.207667] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.208131] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.208599] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.209063] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.209768] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.210263]  </TASK>
[   57.820805] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#121] PREEMPT SMP KASAN NOPTI
[   57.822274] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.823186] CPU: 0 UID: 0 PID: 20818 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.824290] Tainted: [D]=DIE, [W]=WARN
[   57.824748] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.826086] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.826798] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.828962] RSP: 0018:ffff88801dfdf7d8 EFLAGS: 00010202
[   57.829601] RAX: dffffc0000000000 RBX: ffffea00007bed80 RCX: ffffffff81bbb789
[   57.830452] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007bed90
[   57.831301] RBP: ffff88801dfdf7f8 R08: 0000000000000000 R09: ffffed1002e08afc
[   57.832142] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.832990] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880170457e0
[   57.833838] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   57.834795] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.835490] CR2: 00007f17bd5fca50 CR3: 000000002704a004 CR4: 0000000000770ef0
[   57.836341] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.837184] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.838045] PKRU: 55555554
[   57.838432] Call Trace:
[   57.838757]  <TASK>
[   57.839030]  ? show_regs+0x6d/0x80
[   57.839476]  ? die_addr+0x45/0xb0
[   57.839905]  ? exc_general_protection+0x1ae/0x340
[   57.840501]  ? asm_exc_general_protection+0x2b/0x30
[   57.841113]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.841748]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.842382]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.843011]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.843645]  zap_huge_pmd+0x48e/0xd40
[   57.844114]  unmap_page_range+0x1ad6/0x4360
[   57.844642]  ? update_stack_state+0x2d9/0x610
[   57.845202]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.845827]  ? __pfx_unmap_page_range+0x10/0x10
[   57.846405]  unmap_single_vma+0x1ac/0x2d0
[   57.846913]  unmap_vmas+0x210/0x470
[   57.847368]  ? __pfx_unmap_vmas+0x10/0x10
[   57.847870]  ? __pfx_lock_release+0x10/0x10
[   57.848395]  ? lock_release+0x592/0x870
[   57.848876]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.849486]  ? __pfx_lock_release+0x10/0x10
[   57.850009]  ? mlock_drain_local+0x27f/0x4b0
[   57.850553]  exit_mmap+0x19e/0xb10
[   57.850993]  ? __pfx_exit_mmap+0x10/0x10
[   57.851492]  ? debug_smp_processor_id+0x20/0x30
[   57.852065]  ? trace_hardirqs_on+0x51/0x60
[   57.852583]  ? kasan_quarantine_put+0xa2/0x200
[   57.853140]  ? __khugepaged_exit+0x266/0x4c0
[   57.853685]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.854349]  __mmput+0xde/0x3a0
[   57.854757]  mmput+0x74/0x90
[   57.855131]  do_exit+0xa03/0x29f0
[   57.855567]  ? trace_hardirqs_on+0x51/0x60
[   57.856079]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.856854]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.857458]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.858066]  ? __pfx_do_exit+0x10/0x10
[   57.858546]  ? __audit_syscall_entry+0x39c/0x500
[   57.859122]  __x64_sys_exit+0x50/0x60
[   57.859592]  x64_sys_call+0x20c9/0x20d0
[   57.860074]  do_syscall_64+0x6d/0x140
[   57.860546]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.861168] RIP: 0033:0x7f17bd43ee5d
[   57.861618] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.862354] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.863254] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.864107] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.864958] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.865810] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.866661] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.867522]  </TASK>
[   57.867803] Modules linked in:
[   57.868394] ---[ end trace 0000000000000000 ]---
[   57.868964] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.869672] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.871935] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   57.872578] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   57.873517] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   57.874373] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   57.875220] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.876175] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   57.877035] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   57.877999] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.878696] CR2: 00007f17bd5fca50 CR3: 000000002704a004 CR4: 0000000000770ef0
[   57.879635] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.880494] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.881346] PKRU: 55555554
[   57.881686] note: repro[20818] exited with preempt_count 1
[   57.882350] Fixing recursive fault but reboot is needed!
[   57.882986] BUG: scheduling while atomic: repro/20818/0x00000000
[   57.883800] INFO: lockdep is turned off.
[   57.884287] Modules linked in:
[   57.884673] Preemption disabled at:
[   57.884679] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   57.885758] CPU: 0 UID: 0 PID: 20818 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.886861] Tainted: [D]=DIE, [W]=WARN
[   57.887322] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.888664] Call Trace:
[   57.888974]  <TASK>
[   57.889247]  dump_stack_lvl+0x121/0x150
[   57.889741]  ? do_task_dead+0x28/0x110
[   57.890221]  dump_stack+0x19/0x20
[   57.890651]  __schedule_bug+0x12d/0x180
[   57.891141]  __schedule+0x2401/0x33a0
[   57.891612]  ? do_task_dead+0xa8/0x110
[   57.892082]  ? rcu_is_watching+0x19/0xc0
[   57.892585]  ? lock_release+0x592/0x870
[   57.893069]  ? __pfx___schedule+0x10/0x10
[   57.893583]  ? debug_smp_processor_id+0x20/0x30
[   57.894154]  ? rcu_is_watching+0x19/0xc0
[   57.894656]  ? trace_irq_enable+0xe1/0x120
[   57.895175]  ? do_task_dead+0x4a/0x110
[   57.895652]  do_task_dead+0xe0/0x110
[   57.896106]  make_task_dead+0x384/0x3c0
[   57.896602]  rewind_stack_and_make_dead+0x16/0x20
[   57.897188] RIP: 0033:0x7f17bd43ee5d
[   57.897640] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.898382] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.899291] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.900140] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.900991] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.901842] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.902694] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.903556]  </TASK>
[   57.930768] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#122] PREEMPT SMP KASAN NOPTI
[   57.931877] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.932598] CPU: 1 UID: 0 PID: 20906 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.933488] Tainted: [D]=DIE, [W]=WARN
[   57.933864] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.934913] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.935468] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.937082] RSP: 0018:ffff88803963f7d8 EFLAGS: 00010202
[   57.937566] RAX: dffffc0000000000 RBX: ffffea0000510900 RCX: ffffffff81bbb789
[   57.938209] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000510910
[   57.938858] RBP: ffff88803963f7f8 R08: 0000000000000000 R09: ffffed1002ce2744
[   57.939519] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.940166] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888016713a20
[   57.940813] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.941537] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.942059] CR2: 00007fffef6677b8 CR3: 00000000140a0003 CR4: 0000000000770ef0
[   57.942702] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.943360] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.944011] PKRU: 55555554
[   57.944272] Call Trace:
[   57.944515]  <TASK>
[   57.944730]  ? show_regs+0x6d/0x80
[   57.945080]  ? die_addr+0x45/0xb0
[   57.945422]  ? exc_general_protection+0x1ae/0x340
[   57.945873]  ? asm_exc_general_protection+0x2b/0x30
[   57.946342]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.946821]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.947303]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.947794]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.948298]  zap_huge_pmd+0x48e/0xd40
[   57.948670]  unmap_page_range+0x1ad6/0x4360
[   57.949079]  ? update_stack_state+0x2d9/0x610
[   57.949520]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.950021]  ? __pfx_unmap_page_range+0x10/0x10
[   57.950496]  unmap_single_vma+0x1ac/0x2d0
[   57.950917]  unmap_vmas+0x210/0x470
[   57.951270]  ? __pfx_unmap_vmas+0x10/0x10
[   57.951665]  ? __pfx_lock_release+0x10/0x10
[   57.952066]  ? lock_release+0x592/0x870
[   57.952445]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.952919]  ? __pfx_lock_release+0x10/0x10
[   57.953335]  ? mlock_drain_local+0x27f/0x4b0
[   57.953755]  exit_mmap+0x19e/0xb10
[   57.954100]  ? __pfx_exit_mmap+0x10/0x10
[   57.954509]  ? debug_smp_processor_id+0x20/0x30
[   57.954971]  ? trace_hardirqs_on+0x51/0x60
[   57.955407]  ? kasan_quarantine_put+0xa2/0x200
[   57.955844]  ? __khugepaged_exit+0x266/0x4c0
[   57.956286]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.956834]  __mmput+0xde/0x3a0
[   57.957150]  mmput+0x74/0x90
[   57.957448]  do_exit+0xa03/0x29f0
[   57.957781]  ? trace_hardirqs_on+0x51/0x60
[   57.958186]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.958815]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.959311]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.959803]  ? __pfx_do_exit+0x10/0x10
[   57.960192]  ? __audit_syscall_entry+0x39c/0x500
[   57.960675]  __x64_sys_exit+0x50/0x60
[   57.961060]  x64_sys_call+0x20c9/0x20d0
[   57.961462]  do_syscall_64+0x6d/0x140
[   57.961847]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.962352] RIP: 0033:0x7f17bd43ee5d
[   57.962701] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.963289] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.964027] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.964705] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.965366] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.966068] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.966726] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.967387]  </TASK>
[   57.967607] Modules linked in:
[   57.968074] ---[ end trace 0000000000000000 ]---
[   57.968522] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.969070] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.970747] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   57.971237] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   57.971988] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   57.972654] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   57.973314] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.973970] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   57.974641] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   57.975530] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.976121] CR2: 00007fffef6677b8 CR3: 00000000140a0003 CR4: 0000000000770ef0
[   57.976802] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.977462] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.978133] PKRU: 55555554
[   57.978413] note: repro[20906] exited with preempt_count 1
[   57.978945] Fixing recursive fault but reboot is needed!
[   57.979537] BUG: scheduling while atomic: repro/20906/0x00000000
[   57.980111] INFO: lockdep is turned off.
[   57.980485] Modules linked in:
[   57.980789] Preemption disabled at:
[   57.980795] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   57.981648] CPU: 1 UID: 0 PID: 20906 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   57.982504] Tainted: [D]=DIE, [W]=WARN
[   57.982866] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.983921] Call Trace:
[   57.984171]  <TASK>
[   57.984391]  dump_stack_lvl+0x121/0x150
[   57.984777]  ? do_task_dead+0x28/0x110
[   57.985146]  dump_stack+0x19/0x20
[   57.985482]  __schedule_bug+0x12d/0x180
[   57.985870]  __schedule+0x2401/0x33a0
[   57.986244]  ? do_task_dead+0xa8/0x110
[   57.986620]  ? rcu_is_watching+0x19/0xc0
[   57.987014]  ? lock_release+0x592/0x870
[   57.987396]  ? __pfx___schedule+0x10/0x10
[   57.987805]  ? debug_smp_processor_id+0x20/0x30
[   57.988256]  ? rcu_is_watching+0x19/0xc0
[   57.988649]  ? trace_irq_enable+0xe1/0x120
[   57.989059]  ? do_task_dead+0x4a/0x110
[   57.989428]  do_task_dead+0xe0/0x110
[   57.989780]  make_task_dead+0x384/0x3c0
[   57.990166]  rewind_stack_and_make_dead+0x16/0x20
[   57.990627] RIP: 0033:0x7f17bd43ee5d
[   57.990978] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   57.991562] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.992265] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   57.992940] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.993601] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   57.994255] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   57.994909] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   57.995592]  </TASK>
[   58.391891] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#123] PREEMPT SMP KASAN NOPTI
[   58.393158] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.394077] CPU: 0 UID: 0 PID: 21160 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.394951] Tainted: [D]=DIE, [W]=WARN
[   58.395303] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.396359] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.397174] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.399350] RSP: 0018:ffff88802042f7d8 EFLAGS: 00010202
[   58.399988] RAX: dffffc0000000000 RBX: ffffea00004e60c0 RCX: ffffffff81bbb789
[   58.401042] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004e60d0
[   58.401894] RBP: ffff88802042f7f8 R08: 0000000000000000 R09: ffffed1002316f2c
[   58.402745] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.403597] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880118b7960
[   58.404450] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.405545] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.406231] CR2: 00007fffef6677b8 CR3: 0000000011288005 CR4: 0000000000770ef0
[   58.406863] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.407584] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.408239] PKRU: 55555554
[   58.408519] Call Trace:
[   58.408764]  <TASK>
[   58.408994]  ? show_regs+0x6d/0x80
[   58.409407]  ? die_addr+0x45/0xb0
[   58.409939]  ? exc_general_protection+0x1ae/0x340
[   58.410566]  ? asm_exc_general_protection+0x2b/0x30
[   58.411069]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.411585]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.412086]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.412587]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.413085]  zap_huge_pmd+0x48e/0xd40
[   58.413535]  unmap_page_range+0x1ad6/0x4360
[   58.414201]  ? update_stack_state+0x2d9/0x610
[   58.414915]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.415638]  ? __pfx_unmap_page_range+0x10/0x10
[   58.416218]  unmap_single_vma+0x1ac/0x2d0
[   58.416736]  unmap_vmas+0x210/0x470
[   58.417191]  ? __pfx_unmap_vmas+0x10/0x10
[   58.417699]  ? __pfx_lock_release+0x10/0x10
[   58.418223]  ? lock_release+0x592/0x870
[   58.418709]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.419318]  ? __pfx_lock_release+0x10/0x10
[   58.419844]  ? mlock_drain_local+0x27f/0x4b0
[   58.420385]  exit_mmap+0x19e/0xb10
[   58.420747]  ? __pfx_exit_mmap+0x10/0x10
[   58.421157]  ? debug_smp_processor_id+0x20/0x30
[   58.421632]  ? trace_hardirqs_on+0x51/0x60
[   58.422042]  ? kasan_quarantine_put+0xa2/0x200
[   58.422496]  ? __khugepaged_exit+0x266/0x4c0
[   58.422918]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.423442]  __mmput+0xde/0x3a0
[   58.423775]  mmput+0x74/0x90
[   58.424240]  do_exit+0xa03/0x29f0
[   58.424751]  ? trace_hardirqs_on+0x51/0x60
[   58.425168]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.425781]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.426250]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.426729]  ? __pfx_do_exit+0x10/0x10
[   58.427121]  ? __audit_syscall_entry+0x39c/0x500
[   58.427576]  __x64_sys_exit+0x50/0x60
[   58.427931]  x64_sys_call+0x20c9/0x20d0
[   58.428300]  do_syscall_64+0x6d/0x140
[   58.428653]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.429129] RIP: 0033:0x7f17bd43ee5d
[   58.429464] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.430012] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.430676] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.431301] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.431931] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.432546] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.433171] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.433960]  </TASK>
[   58.434190] Modules linked in:
[   58.434515] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#124] PREEMPT SMP KASAN NOPTI
[   58.434745] ---[ end trace 0000000000000000 ]---
[   58.435683] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.435703] CPU: 1 UID: 0 PID: 21175 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.435732] Tainted: [D]=DIE, [W]=WARN
[   58.435740] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.435751] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.436177] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.436862] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.437669] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.438014] RSP: 0018:ffff8880273177d8 EFLAGS: 00010202
[   58.439704] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   58.440263] 
[   58.440270] RAX: dffffc0000000000 RBX: ffffea0000985180 RCX: ffffffff81bbb789
[   58.440289] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000985190
[   58.440300] RBP: ffff8880273177f8 R08: 0000000000000000 R09: ffffed10028148fc
[   58.440312] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.440322] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880140a47e0
[   58.440334] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.440858] 
[   58.443043] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.444700] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   58.445237] CR2: 00007f17bd6ea5b8 CR3: 00000000261a4001 CR4: 0000000000770ef0
[   58.445661] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   58.445866] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.446408] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   58.447238] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.447857] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.448975] PKRU: 55555554
[   58.449525] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   58.450470] Call Trace:
[   58.450605] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.451287]  <TASK>
[   58.451842] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.452655]  ? show_regs+0x6d/0x80
[   58.453176] CR2: 00007fffef6677b8 CR3: 0000000011288005 CR4: 0000000000770ef0
[   58.454116]  ? die_addr+0x45/0xb0
[   58.454641] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.455480]  ? exc_general_protection+0x1ae/0x340
[   58.456011] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.456358]  ? asm_exc_general_protection+0x2b/0x30
[   58.456880] PKRU: 55555554
[   58.457187]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.457755] note: repro[21160] exited with preempt_count 1
[   58.458020]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.458428] Fixing recursive fault but reboot is needed!
[   58.458838]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.466482]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.467120]  zap_huge_pmd+0x48e/0xd40
[   58.467685]  unmap_page_range+0x1ad6/0x4360
[   58.468294]  ? update_stack_state+0x2d9/0x610
[   58.468862]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.469499]  ? __pfx_unmap_page_range+0x10/0x10
[   58.470076]  unmap_single_vma+0x1ac/0x2d0
[   58.470591]  unmap_vmas+0x210/0x470
[   58.471043]  ? __pfx_unmap_vmas+0x10/0x10
[   58.471546]  ? __pfx_lock_release+0x10/0x10
[   58.472062]  ? lock_release+0x592/0x870
[   58.472544]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.473145]  ? __pfx_lock_release+0x10/0x10
[   58.473671]  ? mlock_drain_local+0x27f/0x4b0
[   58.474203]  exit_mmap+0x19e/0xb10
[   58.474676]  ? __pfx_exit_mmap+0x10/0x10
[   58.475172]  ? debug_smp_processor_id+0x20/0x30
[   58.475753]  ? trace_hardirqs_on+0x51/0x60
[   58.476271]  ? kasan_quarantine_put+0xa2/0x200
[   58.476835]  ? __khugepaged_exit+0x266/0x4c0
[   58.477378]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.478039]  __mmput+0xde/0x3a0
[   58.478533]  mmput+0x74/0x90
[   58.478909]  do_exit+0xa03/0x29f0
[   58.479346]  ? trace_hardirqs_on+0x51/0x60
[   58.479862]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.480634]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.481229]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.481844]  ? __pfx_do_exit+0x10/0x10
[   58.482424]  ? __audit_syscall_entry+0x39c/0x500
[   58.483039]  __x64_sys_exit+0x50/0x60
[   58.483515]  x64_sys_call+0x20c9/0x20d0
[   58.484000]  do_syscall_64+0x6d/0x140
[   58.484476]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.485102] RIP: 0033:0x7f17bd43ee5d
[   58.485555] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.486294] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.487281] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.488127] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.488972] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.489818] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.490665] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.491573]  </TASK>
[   58.491858] Modules linked in:
[   58.492305] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#125] PREEMPT SMP KASAN NOPTI
[   58.492441] ---[ end trace 0000000000000000 ]---
[   58.493431] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.493987] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.494666] CPU: 0 UID: 0 PID: 21191 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.495348] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.496158] Tainted: [D]=DIE, [W]=WARN
[   58.496165] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.496176] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.498459] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   58.498804] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.500165] 
[   58.500660] RSP: 0018:ffff8880395377d8 EFLAGS: 00010202
[   58.501256] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   58.502895] 
[   58.503084] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   58.503553] RAX: dffffc0000000000 RBX: ffffea0000492c00 RCX: ffffffff81bbb789
[   58.503567] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000492c10
[   58.504371] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   58.504524] RBP: ffff8880395377f8 R08: 0000000000000000 R09: ffffed1001fa1fd4
[   58.505325] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.505965] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.506777] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   58.507401] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fd0fea0
[   58.507414] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.508211] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.508817] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.509615] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.510214] CR2: 00007f17bd70ffa8 CR3: 000000001165c002 CR4: 0000000000770ef0
[   58.511004] CR2: 00007f17bd6ea5b8 CR3: 00000000261a4001 CR4: 0000000000770ef0
[   58.511684] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.511696] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.512557] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.513047] PKRU: 55555554
[   58.513890] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.514461] Call Trace:
[   58.515230] PKRU: 55555554
[   58.515792]  <TASK>
[   58.515800]  ? show_regs+0x6d/0x80
[   58.516569] note: repro[21175] exited with preempt_count 1
[   58.517151]  ? die_addr+0x45/0xb0
[   58.517442] Fixing recursive fault but reboot is needed!
[   58.518019]  ? exc_general_protection+0x1ae/0x340
[   58.520506]  ? asm_exc_general_protection+0x2b/0x30
[   58.520911]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.521328]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.521746]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.522169]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.522590]  zap_huge_pmd+0x48e/0xd40
[   58.522901]  unmap_page_range+0x1ad6/0x4360
[   58.523247]  ? update_stack_state+0x2d9/0x610
[   58.523633]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.524040]  ? __pfx_unmap_page_range+0x10/0x10
[   58.524420]  unmap_single_vma+0x1ac/0x2d0
[   58.524754]  unmap_vmas+0x210/0x470
[   58.525051]  ? __pfx_unmap_vmas+0x10/0x10
[   58.525383]  ? __pfx_lock_release+0x10/0x10
[   58.525724]  ? lock_release+0x592/0x870
[   58.526040]  ? mas_next_slot+0x133a/0x1a50
[   58.526381]  ? __pfx_lock_release+0x10/0x10
[   58.526730]  ? mlock_drain_local+0x27f/0x4b0
[   58.527086]  exit_mmap+0x19e/0xb10
[   58.527385]  ? __pfx_exit_mmap+0x10/0x10
[   58.527715]  ? debug_smp_processor_id+0x20/0x30
[   58.528099]  ? trace_hardirqs_on+0x51/0x60
[   58.528447]  ? kasan_quarantine_put+0xa2/0x200
[   58.528830]  ? __khugepaged_exit+0x266/0x4c0
[   58.529194]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.529649]  __mmput+0xde/0x3a0
[   58.529915]  mmput+0x74/0x90
[   58.530163]  do_exit+0xa03/0x29f0
[   58.530442]  ? trace_hardirqs_on+0x51/0x60
[   58.530782]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.531274]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.531672]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.532065]  ? __pfx_do_exit+0x10/0x10
[   58.532380]  ? __audit_syscall_entry+0x39c/0x500
[   58.532759]  __x64_sys_exit+0x50/0x60
[   58.533072]  x64_sys_call+0x20c9/0x20d0
[   58.533391]  do_syscall_64+0x6d/0x140
[   58.533696]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.534102] RIP: 0033:0x7f17bd43ee5d
[   58.534451] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.534935] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.535528] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.536050] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.536564] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.537077] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.537592] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.538120]  </TASK>
[   58.538295] Modules linked in:
[   58.538561] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#126] PREEMPT SMP KASAN NOPTI
[   58.538638] ---[ end trace 0000000000000000 ]---
[   58.539538] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.539554] CPU: 1 UID: 0 PID: 21183 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.539891] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.540487] Tainted: [D]=DIE, [W]=WARN
[   58.541138] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.541586] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.541857] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   58.543308] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.544084] 
[   58.544633] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.545024] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   58.545201] RSP: 0018:ffff888011b0f7d8 EFLAGS: 00010202
[   58.546404] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   58.547120] 
[   58.547472] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   58.548179] RAX: dffffc0000000000 RBX: ffffea000049ee00 RCX: ffffffff81bbb789
[   58.548295] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.549013] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000049ee10
[   58.549471] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   58.550357] RBP: ffff888011b0f7f8 R08: 0000000000000000 R09: ffffed1001fcd630
[   58.550815] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.551532] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.551542] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fe6b180
[   58.551980] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.552765] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.553205] CR2: 00007f17bd70ffa8 CR3: 000000001165c002 CR4: 0000000000770ef0
[   58.554177] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.554539] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.555311] CR2: 00007f469c614030 CR3: 00000000216bc004 CR4: 0000000000770ef0
[   58.555755] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.556307] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.556735] PKRU: 55555554
[   58.557424] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.557852] note: repro[21191] exited with preempt_count 1
[   58.558540] PKRU: 55555554
[   58.558712] Fixing recursive fault but reboot is needed!
[   58.560952] Call Trace:
[   58.561196]  <TASK>
[   58.561421]  ? show_regs+0x6d/0x80
[   58.561772]  ? die_addr+0x45/0xb0
[   58.562111]  ? exc_general_protection+0x1ae/0x340
[   58.562581]  ? asm_exc_general_protection+0x2b/0x30
[   58.563066]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.563575]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.564062]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.564547]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.565028]  zap_huge_pmd+0x48e/0xd40
[   58.565389]  unmap_page_range+0x1ad6/0x4360
[   58.565972]  ? update_stack_state+0x2d9/0x610
[   58.566542]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.567015]  ? __pfx_unmap_page_range+0x10/0x10
[   58.567456]  unmap_single_vma+0x1ac/0x2d0
[   58.567841]  unmap_vmas+0x210/0x470
[   58.568183]  ? __pfx_unmap_vmas+0x10/0x10
[   58.568568]  ? __pfx_lock_release+0x10/0x10
[   58.568961]  ? lock_release+0x592/0x870
[   58.569313]  ? mas_next_slot+0x133a/0x1a50
[   58.569684]  ? __pfx_lock_release+0x10/0x10
[   58.570065]  ? mlock_drain_local+0x27f/0x4b0
[   58.570461]  exit_mmap+0x19e/0xb10
[   58.570784]  ? __pfx_exit_mmap+0x10/0x10
[   58.571144]  ? debug_smp_processor_id+0x20/0x30
[   58.571570]  ? trace_hardirqs_on+0x51/0x60
[   58.572104]  ? kasan_quarantine_put+0xa2/0x200
[   58.572667]  ? __khugepaged_exit+0x266/0x4c0
[   58.573060]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.573546]  __mmput+0xde/0x3a0
[   58.573843]  mmput+0x74/0x90
[   58.574121]  do_exit+0xa03/0x29f0
[   58.574437]  ? trace_hardirqs_on+0x51/0x60
[   58.574812]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.575373]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.575790]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.576214]  ? __pfx_do_exit+0x10/0x10
[   58.576552]  ? __audit_syscall_entry+0x39c/0x500
[   58.576957]  __x64_sys_exit+0x50/0x60
[   58.577288]  x64_sys_call+0x20c9/0x20d0
[   58.577635]  do_syscall_64+0x6d/0x140
[   58.577962]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.578602] RIP: 0033:0x7f17bd43ee5d
[   58.578978] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.579495] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.580125] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.580720] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.581296] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.581866] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.582437] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.583012]  </TASK>
[   58.583200] Modules linked in:
[   58.583510] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#127] PREEMPT SMP KASAN NOPTI
[   58.583637] ---[ end trace 0000000000000000 ]---
[   58.584469] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.584832] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.585411] CPU: 0 UID: 0 PID: 21235 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.585850] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.586548] Tainted: [D]=DIE, [W]=WARN
[   58.588014] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   58.588235] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.588645] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   58.589506] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.590028] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   58.590474] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.590999] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   58.592402] RSP: 0018:ffff8880262477d8 EFLAGS: 00010202
[   58.592416] RAX: dffffc0000000000 RBX: ffffea000098b900 RCX: ffffffff81bbb789
[   58.592426] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000098b910
[   58.592436] RBP: ffff8880262477f8 R08: 0000000000000000 R09: ffffed100257646c
[   58.592445] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.592454] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012bb2360
[   58.592464] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.592477] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.592992] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.593377] CR2: 00007f17bd70ffa8 CR3: 000000001f6ec006 CR4: 0000000000770ef0
[   58.593884] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   58.594407] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.594912] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   58.595435] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.595445] PKRU: 55555554
[   58.595450] Call Trace:
[   58.595455]  <TASK>
[   58.595461]  ? show_regs+0x6d/0x80
[   58.595962] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.596549]  ? die_addr+0x45/0xb0
[   58.596946] CR2: 00007f469c614030 CR3: 00000000216bc004 CR4: 0000000000770ef0
[   58.597471]  ? exc_general_protection+0x1ae/0x340
[   58.597959] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.598465]  ? asm_exc_general_protection+0x2b/0x30
[   58.598948] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.599515]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.600011] PKRU: 55555554
[   58.600211]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.600392] note: repro[21183] exited with preempt_count 1
[   58.600553]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.600791] Fixing recursive fault but reboot is needed!
[   58.601197]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.605880]  zap_huge_pmd+0x48e/0xd40
[   58.606156]  unmap_page_range+0x1ad6/0x4360
[   58.606463]  ? update_stack_state+0x2d9/0x610
[   58.606793]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.607153]  ? __pfx_unmap_page_range+0x10/0x10
[   58.607492]  unmap_single_vma+0x1ac/0x2d0
[   58.607787]  unmap_vmas+0x210/0x470
[   58.608050]  ? __pfx_unmap_vmas+0x10/0x10
[   58.608346]  ? __pfx_lock_release+0x10/0x10
[   58.608653]  ? lock_release+0x592/0x870
[   58.608932]  ? mas_next_slot+0x133a/0x1a50
[   58.609229]  ? __pfx_lock_release+0x10/0x10
[   58.609537]  ? mlock_drain_local+0x27f/0x4b0
[   58.609851]  exit_mmap+0x19e/0xb10
[   58.610098]  ? __pfx_exit_mmap+0x10/0x10
[   58.610378]  ? debug_smp_processor_id+0x20/0x30
[   58.610701]  ? trace_hardirqs_on+0x51/0x60
[   58.610991]  ? kasan_quarantine_put+0xa2/0x200
[   58.611307]  ? __khugepaged_exit+0x266/0x4c0
[   58.611611]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.611978]  __mmput+0xde/0x3a0
[   58.612206]  mmput+0x74/0x90
[   58.612419]  do_exit+0xa03/0x29f0
[   58.612661]  ? trace_hardirqs_on+0x51/0x60
[   58.612949]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.613378]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.613711]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.614052]  ? __pfx_do_exit+0x10/0x10
[   58.614324]  ? __audit_syscall_entry+0x39c/0x500
[   58.614648]  __x64_sys_exit+0x50/0x60
[   58.614910]  x64_sys_call+0x20c9/0x20d0
[   58.615182]  do_syscall_64+0x6d/0x140
[   58.615446]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.615795] RIP: 0033:0x7f17bd43ee5d
[   58.616039] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.616432] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.616913] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.617363] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.617809] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.618259] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.618712] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.619182]  </TASK>
[   58.619340] Modules linked in:
[   58.619630] ---[ end trace 0000000000000000 ]---
[   58.619941] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.620324] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.621487] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   58.621815] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   58.622251] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   58.622691] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   58.623133] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.623617] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   58.624072] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.624576] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.624952] CR2: 00007f17bd70ffa8 CR3: 000000001f6ec006 CR4: 0000000000770ef0
[   58.625397] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.625834] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.626315] PKRU: 55555554
[   58.626488] note: repro[21235] exited with preempt_count 1
[   58.626820] Fixing recursive fault but reboot is needed!
[   58.627143] BUG: scheduling while atomic: repro/21235/0x00000000
[   58.627549] INFO: lockdep is turned off.
[   58.627788] Modules linked in:
[   58.627981] Preemption disabled at:
[   58.627985] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   58.628542] CPU: 0 UID: 0 PID: 21235 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.629100] Tainted: [D]=DIE, [W]=WARN
[   58.629332] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.630013] Call Trace:
[   58.630177]  <TASK>
[   58.630327]  dump_stack_lvl+0x121/0x150
[   58.630575]  ? do_task_dead+0x28/0x110
[   58.630816]  dump_stack+0x19/0x20
[   58.631040]  __schedule_bug+0x12d/0x180
[   58.631306]  __schedule+0x2401/0x33a0
[   58.631544]  ? do_task_dead+0xa8/0x110
[   58.631782]  ? rcu_is_watching+0x19/0xc0
[   58.632036]  ? lock_release+0x592/0x870
[   58.632286]  ? __pfx___schedule+0x10/0x10
[   58.632540]  ? debug_smp_processor_id+0x20/0x30
[   58.632827]  ? rcu_is_watching+0x19/0xc0
[   58.633070]  ? trace_irq_enable+0xe1/0x120
[   58.633331]  ? do_task_dead+0x4a/0x110
[   58.633567]  do_task_dead+0xe0/0x110
[   58.633789]  make_task_dead+0x384/0x3c0
[   58.634047]  rewind_stack_and_make_dead+0x16/0x20
[   58.634343] RIP: 0033:0x7f17bd43ee5d
[   58.634562] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.634918] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.635370] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.635783] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.636187] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.636596] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.636998] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.637402]  </TASK>
[   58.924755] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#128] PREEMPT SMP KASAN NOPTI
[   58.925776] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.926440] CPU: 0 UID: 0 PID: 21399 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.927296] Tainted: [D]=DIE, [W]=WARN
[   58.927789] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.928902] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.929413] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.930866] RSP: 0018:ffff8880395777d8 EFLAGS: 00010202
[   58.931300] RAX: dffffc0000000000 RBX: ffffea0000504f80 RCX: ffffffff81bbb789
[   58.931862] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000504f90
[   58.932435] RBP: ffff8880395777f8 R08: 0000000000000000 R09: ffffed10025e595c
[   58.933006] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.933583] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012f2cae0
[   58.934160] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.934841] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.935328] CR2: 00007f17bd70bfe8 CR3: 00000000118b0006 CR4: 0000000000770ef0
[   58.935893] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.936463] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.937069] PKRU: 55555554
[   58.937325] Call Trace:
[   58.937552]  <TASK>
[   58.937749]  ? show_regs+0x6d/0x80
[   58.938070]  ? die_addr+0x45/0xb0
[   58.938385]  ? exc_general_protection+0x1ae/0x340
[   58.938792]  ? asm_exc_general_protection+0x2b/0x30
[   58.939211]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.939647]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.940083]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.940524]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.940954]  zap_huge_pmd+0x48e/0xd40
[   58.941285]  unmap_page_range+0x1ad6/0x4360
[   58.941636]  ? update_stack_state+0x2d9/0x610
[   58.942010]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.942418]  ? __pfx_unmap_page_range+0x10/0x10
[   58.942791]  unmap_single_vma+0x1ac/0x2d0
[   58.943125]  unmap_vmas+0x210/0x470
[   58.943422]  ? __pfx_unmap_vmas+0x10/0x10
[   58.943862]  ? __pfx_lock_release+0x10/0x10
[   58.944351]  ? lock_release+0x592/0x870
[   58.944735]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.945130]  ? __pfx_lock_release+0x10/0x10
[   58.945497]  ? mlock_drain_local+0x27f/0x4b0
[   58.945853]  exit_mmap+0x19e/0xb10
[   58.946140]  ? __pfx_exit_mmap+0x10/0x10
[   58.946457]  ? debug_smp_processor_id+0x20/0x30
[   58.946834]  ? trace_hardirqs_on+0x51/0x60
[   58.947172]  ? kasan_quarantine_put+0xa2/0x200
[   58.947527]  ? __khugepaged_exit+0x266/0x4c0
[   58.947856]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.948262]  __mmput+0xde/0x3a0
[   58.948515]  mmput+0x74/0x90
[   58.948748]  do_exit+0xa03/0x29f0
[   58.949013]  ? trace_hardirqs_on+0x51/0x60
[   58.949337]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.949807]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.950353]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.950869]  ? __pfx_do_exit+0x10/0x10
[   58.951163]  ? __audit_syscall_entry+0x39c/0x500
[   58.951534]  __x64_sys_exit+0x50/0x60
[   58.951820]  x64_sys_call+0x20c9/0x20d0
[   58.952119]  do_syscall_64+0x6d/0x140
[   58.952412]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.952796] RIP: 0033:0x7f17bd43ee5d
[   58.953068] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.953508] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.954050] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.954563] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.955069] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.955586] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.956084] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.956572]  </TASK>
[   58.956814] Modules linked in:
[   58.957212] ---[ end trace 0000000000000000 ]---
[   58.957551] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.957960] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.959210] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   58.959685] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   58.960218] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   58.961065] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   58.961581] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.962105] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   58.962628] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   58.963163] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.963619] CR2: 00007f17bd70bfe8 CR3: 00000000118b0006 CR4: 0000000000770ef0
[   58.964097] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.964595] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.965072] PKRU: 55555554
[   58.965261] note: repro[21399] exited with preempt_count 1
[   58.965630] Fixing recursive fault but reboot is needed!
[   58.965984] BUG: scheduling while atomic: repro/21399/0x00000000
[   58.966440] INFO: lockdep is turned off.
[   58.966842] Modules linked in:
[   58.967174] Preemption disabled at:
[   58.967178] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   58.967873] CPU: 0 UID: 0 PID: 21399 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   58.968495] Tainted: [D]=DIE, [W]=WARN
[   58.968751] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.969488] Call Trace:
[   58.969666]  <TASK>
[   58.969823]  dump_stack_lvl+0x121/0x150
[   58.970118]  ? do_task_dead+0x28/0x110
[   58.970374]  dump_stack+0x19/0x20
[   58.970611]  __schedule_bug+0x12d/0x180
[   58.970889]  __schedule+0x2401/0x33a0
[   58.971165]  ? do_task_dead+0xa8/0x110
[   58.971429]  ? rcu_is_watching+0x19/0xc0
[   58.971701]  ? lock_release+0x592/0x870
[   58.971963]  ? __pfx___schedule+0x10/0x10
[   58.972249]  ? debug_smp_processor_id+0x20/0x30
[   58.972571]  ? rcu_is_watching+0x19/0xc0
[   58.972974]  ? trace_irq_enable+0xe1/0x120
[   58.973472]  ? do_task_dead+0x4a/0x110
[   58.973903]  do_task_dead+0xe0/0x110
[   58.974271]  make_task_dead+0x384/0x3c0
[   58.974680]  rewind_stack_and_make_dead+0x16/0x20
[   58.975152] RIP: 0033:0x7f17bd43ee5d
[   58.975516] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   58.976128] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.976861] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   58.977541] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.978193] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   58.978964] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   58.979881] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   58.980565]  </TASK>
[   59.347536] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#129] PREEMPT SMP KASAN NOPTI
[   59.348732] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.349472] CPU: 0 UID: 0 PID: 21642 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.350357] Tainted: [D]=DIE, [W]=WARN
[   59.350716] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.352076] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.352669] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.354340] RSP: 0018:ffff8880260777d8 EFLAGS: 00010202
[   59.354836] RAX: dffffc0000000000 RBX: ffffea0000e517c0 RCX: ffffffff81bbb789
[   59.355501] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000e517d0
[   59.356178] RBP: ffff8880260777f8 R08: 0000000000000000 R09: ffffed100231b35c
[   59.356909] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.357601] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880118d9ae0
[   59.358250] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.358997] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.359531] CR2: 00007f17bd70ffa8 CR3: 0000000039418004 CR4: 0000000000770ef0
[   59.360193] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.360858] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.361517] PKRU: 55555554
[   59.361783] Call Trace:
[   59.362025]  <TASK>
[   59.362241]  ? show_regs+0x6d/0x80
[   59.362608]  ? die_addr+0x45/0xb0
[   59.362988]  ? exc_general_protection+0x1ae/0x340
[   59.363472]  ? asm_exc_general_protection+0x2b/0x30
[   59.363958]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.364453]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.364935]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.365420]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.365898]  zap_huge_pmd+0x48e/0xd40
[   59.366250]  unmap_page_range+0x1ad6/0x4360
[   59.366678]  ? update_stack_state+0x2d9/0x610
[   59.367131]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.367634]  ? __pfx_unmap_page_range+0x10/0x10
[   59.368088]  unmap_single_vma+0x1ac/0x2d0
[   59.368498]  unmap_vmas+0x210/0x470
[   59.368859]  ? __pfx_unmap_vmas+0x10/0x10
[   59.369242]  ? __pfx_lock_release+0x10/0x10
[   59.369639]  ? lock_release+0x592/0x870
[   59.370004]  ? mas_next_slot+0x133a/0x1a50
[   59.370391]  ? __pfx_lock_release+0x10/0x10
[   59.370775]  ? mlock_drain_local+0x27f/0x4b0
[   59.371171]  exit_mmap+0x19e/0xb10
[   59.371541]  ? __pfx_exit_mmap+0x10/0x10
[   59.372099]  ? debug_smp_processor_id+0x20/0x30
[   59.372650]  ? trace_hardirqs_on+0x51/0x60
[   59.373031]  ? kasan_quarantine_put+0xa2/0x200
[   59.373450]  ? __khugepaged_exit+0x266/0x4c0
[   59.373845]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.374351]  __mmput+0xde/0x3a0
[   59.374654]  mmput+0x74/0x90
[   59.374938]  do_exit+0xa03/0x29f0
[   59.375272]  ? trace_hardirqs_on+0x51/0x60
[   59.375663]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.376529]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.376989]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.377468]  ? __pfx_do_exit+0x10/0x10
[   59.377816]  ? __audit_syscall_entry+0x39c/0x500
[   59.378227]  __x64_sys_exit+0x50/0x60
[   59.378570]  x64_sys_call+0x20c9/0x20d0
[   59.378916]  do_syscall_64+0x6d/0x140
[   59.379262]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.379721] RIP: 0033:0x7f17bd43ee5d
[   59.380243] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.380959] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.381625] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.382248] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.382860] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.383436] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.384028] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.384612]  </TASK>
[   59.384803] Modules linked in:
[   59.385191] ---[ end trace 0000000000000000 ]---
[   59.385645] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.386176] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.387718] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   59.388155] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   59.388716] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   59.389262] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   59.389810] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.390356] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   59.390899] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.391675] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.392139] CR2: 00007f17bd70ffa8 CR3: 0000000039418004 CR4: 0000000000770ef0
[   59.392694] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.393307] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.393860] PKRU: 55555554
[   59.394075] note: repro[21642] exited with preempt_count 1
[   59.394501] Fixing recursive fault but reboot is needed!
[   59.394909] BUG: scheduling while atomic: repro/21642/0x00000000
[   59.395379] INFO: lockdep is turned off.
[   59.395729] Modules linked in:
[   59.395998] Preemption disabled at:
[   59.396007] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   59.396691] CPU: 0 UID: 0 PID: 21642 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.397384] Tainted: [D]=DIE, [W]=WARN
[   59.397665] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.398087] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#130] PREEMPT SMP KASAN NOPTI
[   59.398633] Call Trace:
[   59.399817] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.399994]  <TASK>
[   59.400677] CPU: 1 UID: 0 PID: 21658 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.400828]  dump_stack_lvl+0x121/0x150
[   59.401649] Tainted: [D]=DIE, [W]=WARN
[   59.401936]  ? do_task_dead+0x28/0x110
[   59.402283] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.402545]  dump_stack+0x19/0x20
[   59.403555] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.403786]  __schedule_bug+0x12d/0x180
[   59.404308] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.404574]  __schedule+0x2401/0x33a0
[   59.406201] RSP: 0018:ffff8880188777d8 EFLAGS: 00010202
[   59.406470]  ? do_task_dead+0xa8/0x110
[   59.406945] RAX: dffffc0000000000 RBX: ffffea00003f8500 RCX: ffffffff81bbb789
[   59.407197]  ? rcu_is_watching+0x19/0xc0
[   59.407845] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003f8510
[   59.408107]  ? lock_release+0x592/0x870
[   59.408740] RBP: ffff8880188777f8 R08: 0000000000000000 R09: ffffed100277d2f0
[   59.408992]  ? __pfx___schedule+0x10/0x10
[   59.409623] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.409892]  ? debug_smp_processor_id+0x20/0x30
[   59.410531] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013be9780
[   59.410818]  ? rcu_is_watching+0x19/0xc0
[   59.411454] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.411710]  ? trace_irq_enable+0xe1/0x120
[   59.412433] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.412703]  ? do_task_dead+0x4a/0x110
[   59.413219] CR2: 00007f469c634020 CR3: 00000000167aa005 CR4: 0000000000770ef0
[   59.413461]  do_task_dead+0xe0/0x110
[   59.414097] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.414356]  make_task_dead+0x384/0x3c0
[   59.414994] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.415243]  rewind_stack_and_make_dead+0x16/0x20
[   59.415886] PKRU: 55555554
[   59.416183] RIP: 0033:0x7f17bd43ee5d
[   59.416436] Call Trace:
[   59.416665] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.416897]  <TASK>
[   59.417281] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.417487]  ? show_regs+0x6d/0x80
[   59.417970] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.418294]  ? die_addr+0x45/0xb0
[   59.418735] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.419048]  ? exc_general_protection+0x1ae/0x340
[   59.419695] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.420145]  ? asm_exc_general_protection+0x2b/0x30
[   59.420564] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.421013]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.421460] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.421922]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.422359]  </TASK>
[   59.422811]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.423422]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.423925]  zap_huge_pmd+0x48e/0xd40
[   59.424299]  unmap_page_range+0x1ad6/0x4360
[   59.424723]  ? update_stack_state+0x2d9/0x610
[   59.425178]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.425668]  ? __pfx_unmap_page_range+0x10/0x10
[   59.426114]  unmap_single_vma+0x1ac/0x2d0
[   59.426517]  unmap_vmas+0x210/0x470
[   59.426867]  ? __pfx_unmap_vmas+0x10/0x10
[   59.427260]  ? __pfx_lock_release+0x10/0x10
[   59.427679]  ? lock_release+0x592/0x870
[   59.428055]  ? mas_next_slot+0x133a/0x1a50
[   59.428469]  ? __pfx_lock_release+0x10/0x10
[   59.428876]  ? mlock_drain_local+0x27f/0x4b0
[   59.429297]  exit_mmap+0x19e/0xb10
[   59.429647]  ? __pfx_exit_mmap+0x10/0x10
[   59.430029]  ? debug_smp_processor_id+0x20/0x30
[   59.430479]  ? trace_hardirqs_on+0x51/0x60
[   59.430884]  ? kasan_quarantine_put+0xa2/0x200
[   59.431324]  ? __khugepaged_exit+0x266/0x4c0
[   59.431751]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.432264]  __mmput+0xde/0x3a0
[   59.432584]  mmput+0x74/0x90
[   59.432880]  do_exit+0xa03/0x29f0
[   59.433225]  ? trace_hardirqs_on+0x51/0x60
[   59.433638]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.434231]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.434692]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.435168]  ? __pfx_do_exit+0x10/0x10
[   59.435547]  ? __audit_syscall_entry+0x39c/0x500
[   59.436008]  __x64_sys_exit+0x50/0x60
[   59.436375]  x64_sys_call+0x20c9/0x20d0
[   59.436747]  do_syscall_64+0x6d/0x140
[   59.437110]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.437603] RIP: 0033:0x7f17bd43ee5d
[   59.437950] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.438517] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.439211] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.439870] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.440528] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.441185] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.441836] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.442497]  </TASK>
[   59.442723] Modules linked in:
[   59.443222] ---[ end trace 0000000000000000 ]---
[   59.443736] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.444296] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.445970] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   59.446470] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   59.447100] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#131] PREEMPT SMP KASAN NOPTI
[   59.447125] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   59.447955] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.447970] CPU: 0 UID: 0 PID: 21708 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.447990] Tainted: [D]=DIE, [W]=WARN
[   59.447995] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.448003] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.448024] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.448037] RSP: 0018:ffff8880394cf7d8 EFLAGS: 00010202
[   59.448693] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   59.449206] RAX: dffffc0000000000 RBX: ffffea000042cf80 RCX: ffffffff81bbb789
[   59.450027] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.450292] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000042cf90
[   59.451314] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   59.451687] RBP: ffff8880394cf7f8 R08: 0000000000000000 R09: ffffed1001d7078c
[   59.451696] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.451704] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800eb83c60
[   59.451712] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.451723] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.451732] CR2: 00007fffef667838 CR3: 000000002a9ec003 CR4: 0000000000770ef0
[   59.451742] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.451750] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.451758] PKRU: 55555554
[   59.451763] Call Trace:
[   59.451767]  <TASK>
[   59.451772]  ? show_regs+0x6d/0x80
[   59.453501] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.453772]  ? die_addr+0x45/0xb0
[   59.454421] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.454875]  ? exc_general_protection+0x1ae/0x340
[   59.455584] CR2: 00007f469c634020 CR3: 00000000167aa005 CR4: 0000000000770ef0
[   59.455981]  ? asm_exc_general_protection+0x2b/0x30
[   59.456630] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.457098]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.457114]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.457129]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.457145]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.457161]  zap_huge_pmd+0x48e/0xd40
[   59.457813] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.458262]  unmap_page_range+0x1ad6/0x4360
[   59.458985] PKRU: 55555554
[   59.459355]  ? update_stack_state+0x2d9/0x610
[   59.460119] note: repro[21658] exited with preempt_count 1
[   59.460466]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.461108] Fixing recursive fault but reboot is needed!
[   59.461289]  ? __pfx_unmap_page_range+0x10/0x10
[   59.468918]  unmap_single_vma+0x1ac/0x2d0
[   59.469264]  unmap_vmas+0x210/0x470
[   59.469592]  ? __pfx_unmap_vmas+0x10/0x10
[   59.469932]  ? __pfx_lock_release+0x10/0x10
[   59.470432]  ? lock_release+0x592/0x870
[   59.470841]  ? mas_next_slot+0x133a/0x1a50
[   59.471186]  ? __pfx_lock_release+0x10/0x10
[   59.471555]  ? mlock_drain_local+0x27f/0x4b0
[   59.471930]  exit_mmap+0x19e/0xb10
[   59.472235]  ? __pfx_exit_mmap+0x10/0x10
[   59.472570]  ? debug_smp_processor_id+0x20/0x30
[   59.472944]  ? trace_hardirqs_on+0x51/0x60
[   59.473287]  ? kasan_quarantine_put+0xa2/0x200
[   59.473654]  ? __khugepaged_exit+0x266/0x4c0
[   59.473938]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.474256]  __mmput+0xde/0x3a0
[   59.474457]  mmput+0x74/0x90
[   59.474643]  do_exit+0xa03/0x29f0
[   59.474854]  ? trace_hardirqs_on+0x51/0x60
[   59.475106]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.475472]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.475754]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.476043]  ? __pfx_do_exit+0x10/0x10
[   59.476379]  ? __audit_syscall_entry+0x39c/0x500
[   59.476787]  __x64_sys_exit+0x50/0x60
[   59.477049]  x64_sys_call+0x20c9/0x20d0
[   59.477288]  do_syscall_64+0x6d/0x140
[   59.477511]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.477816] RIP: 0033:0x7f17bd43ee5d
[   59.478043] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.478393] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.478814] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.479218] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.479621] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.480025] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.480424] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.480814]  </TASK>
[   59.480943] Modules linked in:
[   59.481230] ---[ end trace 0000000000000000 ]---
[   59.481494] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.481818] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.482790] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   59.483201] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   59.483710] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   59.484121] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   59.484502] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.484873] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   59.485245] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   59.485665] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.485970] CR2: 00007fffef667838 CR3: 000000002a9ec003 CR4: 0000000000770ef0
[   59.486346] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.486887] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.487372] PKRU: 55555554
[   59.487577] note: repro[21708] exited with preempt_count 1
[   59.487871] Fixing recursive fault but reboot is needed!
[   59.488144] BUG: scheduling while atomic: repro/21708/0x00000000
[   59.488454] INFO: lockdep is turned off.
[   59.488659] Modules linked in:
[   59.488836] Preemption disabled at:
[   59.488839] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   59.489327] CPU: 0 UID: 0 PID: 21708 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.489834] Tainted: [D]=DIE, [W]=WARN
[   59.490041] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.490640] Call Trace:
[   59.490781]  <TASK>
[   59.490907]  dump_stack_lvl+0x121/0x150
[   59.491131]  ? do_task_dead+0x28/0x110
[   59.491335]  dump_stack+0x19/0x20
[   59.491529]  __schedule_bug+0x12d/0x180
[   59.491751]  __schedule+0x2401/0x33a0
[   59.491980]  ? do_task_dead+0xa8/0x110
[   59.492199]  ? rcu_is_watching+0x19/0xc0
[   59.492438]  ? lock_release+0x592/0x870
[   59.492666]  ? __pfx___schedule+0x10/0x10
[   59.492996]  ? debug_smp_processor_id+0x20/0x30
[   59.493423]  ? rcu_is_watching+0x19/0xc0
[   59.493726]  ? trace_irq_enable+0xe1/0x120
[   59.494038]  ? do_task_dead+0x4a/0x110
[   59.494313]  do_task_dead+0xe0/0x110
[   59.494560]  make_task_dead+0x384/0x3c0
[   59.494831]  rewind_stack_and_make_dead+0x16/0x20
[   59.495147] RIP: 0033:0x7f17bd43ee5d
[   59.495393] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.495800] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.496319] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.496787] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.497194] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.497543] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.497893] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.498248]  </TASK>
[   59.726814] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#132] PREEMPT SMP KASAN NOPTI
[   59.727962] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.728666] CPU: 1 UID: 0 PID: 21836 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.729520] Tainted: [D]=DIE, [W]=WARN
[   59.729873] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.730910] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.731465] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.733115] RSP: 0018:ffff8880131df7d8 EFLAGS: 00010202
[   59.733607] RAX: dffffc0000000000 RBX: ffffea000098afc0 RCX: ffffffff81bbb789
[   59.734257] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000098afd0
[   59.734911] RBP: ffff8880131df7f8 R08: 0000000000000000 R09: ffffed1002e64a18
[   59.735565] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.736213] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880173250c0
[   59.736864] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.737600] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.738131] CR2: 00007fffef6677b8 CR3: 000000002a9ee006 CR4: 0000000000770ef0
[   59.738786] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.739441] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.740087] PKRU: 55555554
[   59.740347] Call Trace:
[   59.740588]  <TASK>
[   59.740803]  ? show_regs+0x6d/0x80
[   59.741154]  ? die_addr+0x45/0xb0
[   59.741492]  ? exc_general_protection+0x1ae/0x340
[   59.741950]  ? asm_exc_general_protection+0x2b/0x30
[   59.742431]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.742918]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.743412]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.743904]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.744395]  zap_huge_pmd+0x48e/0xd40
[   59.744772]  unmap_page_range+0x1ad6/0x4360
[   59.745181]  ? update_stack_state+0x2d9/0x610
[   59.745635]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.746123]  ? __pfx_unmap_page_range+0x10/0x10
[   59.746578]  unmap_single_vma+0x1ac/0x2d0
[   59.746976]  unmap_vmas+0x210/0x470
[   59.747327]  ? __pfx_unmap_vmas+0x10/0x10
[   59.747726]  ? __pfx_lock_release+0x10/0x10
[   59.748133]  ? lock_release+0x592/0x870
[   59.748505]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   59.748970]  ? __pfx_lock_release+0x10/0x10
[   59.749375]  ? mlock_drain_local+0x27f/0x4b0
[   59.749801]  exit_mmap+0x19e/0xb10
[   59.750148]  ? __pfx_exit_mmap+0x10/0x10
[   59.750535]  ? debug_smp_processor_id+0x20/0x30
[   59.750981]  ? trace_hardirqs_on+0x51/0x60
[   59.751382]  ? kasan_quarantine_put+0xa2/0x200
[   59.751821]  ? __khugepaged_exit+0x266/0x4c0
[   59.752243]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.752753]  __mmput+0xde/0x3a0
[   59.753075]  mmput+0x74/0x90
[   59.753373]  do_exit+0xa03/0x29f0
[   59.753709]  ? trace_hardirqs_on+0x51/0x60
[   59.754106]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.754707]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.755172]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.755654]  ? __pfx_do_exit+0x10/0x10
[   59.756025]  ? __audit_syscall_entry+0x39c/0x500
[   59.756479]  __x64_sys_exit+0x50/0x60
[   59.756839]  x64_sys_call+0x20c9/0x20d0
[   59.757215]  do_syscall_64+0x6d/0x140
[   59.757580]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.758063] RIP: 0033:0x7f17bd43ee5d
[   59.758412] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.758977] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.759689] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.760348] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.761003] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.761658] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.762379] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.763356]  </TASK>
[   59.763648] Modules linked in:
[   59.764299] ---[ end trace 0000000000000000 ]---
[   59.765212] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.766143] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.767965] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   59.768470] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   59.769125] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   59.769781] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   59.770680] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.771518] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   59.772320] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.773111] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.773671] CR2: 00007fffef6677b8 CR3: 000000002a9ee006 CR4: 0000000000770ef0
[   59.774379] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.775046] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.775869] PKRU: 55555554
[   59.776147] note: repro[21836] exited with preempt_count 1
[   59.776671] Fixing recursive fault but reboot is needed!
[   59.777176] BUG: scheduling while atomic: repro/21836/0x00000000
[   59.777771] INFO: lockdep is turned off.
[   59.778142] Modules linked in:
[   59.778448] Preemption disabled at:
[   59.778454] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   59.779331] CPU: 1 UID: 0 PID: 21836 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.780212] Tainted: [D]=DIE, [W]=WARN
[   59.780580] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.781658] Call Trace:
[   59.781932]  <TASK>
[   59.782155]  dump_stack_lvl+0x121/0x150
[   59.782548]  ? do_task_dead+0x28/0x110
[   59.782913]  dump_stack+0x19/0x20
[   59.783283]  __schedule_bug+0x12d/0x180
[   59.783707]  __schedule+0x2401/0x33a0
[   59.784130]  ? do_task_dead+0xa8/0x110
[   59.784665]  ? rcu_is_watching+0x19/0xc0
[   59.785060]  ? lock_release+0x592/0x870
[   59.785482]  ? __pfx___schedule+0x10/0x10
[   59.785882]  ? debug_smp_processor_id+0x20/0x30
[   59.786395]  ? rcu_is_watching+0x19/0xc0
[   59.786895]  ? trace_irq_enable+0xe1/0x120
[   59.787310]  ? do_task_dead+0x4a/0x110
[   59.787712]  do_task_dead+0xe0/0x110
[   59.788069]  make_task_dead+0x384/0x3c0
[   59.788503]  rewind_stack_and_make_dead+0x16/0x20
[   59.789032] RIP: 0033:0x7f17bd43ee5d
[   59.789394] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   59.789994] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.790696] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   59.791517] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.792211] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   59.793006] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   59.793754] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   59.794475]  </TASK>
[   59.988686] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#133] PREEMPT SMP KASAN NOPTI
[   59.989804] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.990497] CPU: 1 UID: 0 PID: 21983 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   59.991348] Tainted: [D]=DIE, [W]=WARN
[   59.991702] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.992724] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.993274] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.994925] RSP: 0018:ffff88801de977d8 EFLAGS: 00010202
[   59.995415] RAX: dffffc0000000000 RBX: ffffea00009c7480 RCX: ffffffff81bbb789
[   59.996062] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c7490
[   59.996707] RBP: ffff88801de977f8 R08: 0000000000000000 R09: ffffed100223f40c
[   59.997368] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   59.998026] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880111fa060
[   59.998685] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   59.999429] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.999966] CR2: 00007fffef6677b8 CR3: 00000000136de003 CR4: 0000000000770ef0
[   60.000623] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.001282] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.001933] PKRU: 55555554
[   60.002197] Call Trace:
[   60.002437]  <TASK>
[   60.002649]  ? show_regs+0x6d/0x80
[   60.002995]  ? die_addr+0x45/0xb0
[   60.003339]  ? exc_general_protection+0x1ae/0x340
[   60.003797]  ? asm_exc_general_protection+0x2b/0x30
[   60.004281]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.004775]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.005262]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.005761]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.006262]  zap_huge_pmd+0x48e/0xd40
[   60.006635]  unmap_page_range+0x1ad6/0x4360
[   60.007043]  ? __pfx_lock_release+0x10/0x10
[   60.007447]  ? do_raw_spin_trylock+0xbf/0x190
[   60.007872]  ? __kasan_check_read+0x15/0x20
[   60.008289]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.008782]  ? __pfx_unmap_page_range+0x10/0x10
[   60.009229]  unmap_single_vma+0x1ac/0x2d0
[   60.009633]  unmap_vmas+0x210/0x470
[   60.009994]  ? __pfx_unmap_vmas+0x10/0x10
[   60.010390]  ? __pfx_lock_release+0x10/0x10
[   60.010790]  ? lock_release+0x592/0x870
[   60.011169]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.011641]  ? __pfx_lock_release+0x10/0x10
[   60.012044]  ? mlock_drain_local+0x27f/0x4b0
[   60.012464]  exit_mmap+0x19e/0xb10
[   60.012811]  ? __pfx_exit_mmap+0x10/0x10
[   60.013194]  ? debug_smp_processor_id+0x20/0x30
[   60.013652]  ? trace_hardirqs_on+0x51/0x60
[   60.014054]  ? kasan_quarantine_put+0xa2/0x200
[   60.014493]  ? __khugepaged_exit+0x266/0x4c0
[   60.014912]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.015438]  __mmput+0xde/0x3a0
[   60.015756]  mmput+0x74/0x90
[   60.016048]  do_exit+0xa03/0x29f0
[   60.016394]  ? trace_hardirqs_on+0x51/0x60
[   60.016803]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.017399]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.017865]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.018353]  ? __pfx_do_exit+0x10/0x10
[   60.018739]  ? __audit_syscall_entry+0x39c/0x500
[   60.019199]  __x64_sys_exit+0x50/0x60
[   60.019573]  x64_sys_call+0x20c9/0x20d0
[   60.019952]  do_syscall_64+0x6d/0x140
[   60.020318]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.020805] RIP: 0033:0x7f17bd43ee5d
[   60.021157] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.021722] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.022428] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.023079] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.023739] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.024397] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.025055] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.025730]  </TASK>
[   60.025953] Modules linked in:
[   60.026409] ---[ end trace 0000000000000000 ]---
[   60.026860] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.027510] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.029206] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   60.029704] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   60.030374] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   60.031040] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   60.031779] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.032453] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   60.033119] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   60.033871] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.034427] CR2: 00007fffef6677b8 CR3: 00000000136de003 CR4: 0000000000770ef0
[   60.035093] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.035790] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.036481] PKRU: 55555554
[   60.036755] note: repro[21983] exited with preempt_count 1
[   60.037271] Fixing recursive fault but reboot is needed!
[   60.037774] check_preemption_disabled: 15 callbacks suppressed
[   60.037784] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21983
[   60.039424] caller is debug_smp_processor_id+0x20/0x30
[   60.039944] CPU: 1 UID: 0 PID: 21983 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.040804] Tainted: [D]=DIE, [W]=WARN
[   60.041165] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.042369] Call Trace:
[   60.042616]  <TASK>
[   60.042832]  dump_stack_lvl+0x121/0x150
[   60.043284]  dump_stack+0x19/0x20
[   60.043786]  check_preemption_disabled+0x168/0x180
[   60.044374]  debug_smp_processor_id+0x20/0x30
[   60.044828]  __schedule+0xa0/0x33a0
[   60.045184]  ? do_task_dead+0xa8/0x110
[   60.045565]  ? debug_smp_processor_id+0x20/0x30
[   60.046016]  ? rcu_is_watching+0x19/0xc0
[   60.046417]  ? lock_release+0x592/0x870
[   60.046800]  ? __pfx___schedule+0x10/0x10
[   60.047357]  ? debug_smp_processor_id+0x20/0x30
[   60.047802]  ? rcu_is_watching+0x19/0xc0
[   60.048184]  ? trace_irq_enable+0xe1/0x120
[   60.048592]  ? do_task_dead+0x4a/0x110
[   60.048956]  do_task_dead+0xe0/0x110
[   60.049475]  make_task_dead+0x384/0x3c0
[   60.049860]  rewind_stack_and_make_dead+0x16/0x20
[   60.050317] RIP: 0033:0x7f17bd43ee5d
[   60.050738] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.051301] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.051991] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.052790] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.053447] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.054102] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.054878] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.055547]  </TASK>
[   60.055839] BUG: scheduling while atomic: repro/21983/0x00000000
[   60.056549] INFO: lockdep is turned off.
[   60.056916] Modules linked in:
[   60.057214] Preemption disabled at:
[   60.057221] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   60.058122] CPU: 1 UID: 0 PID: 21983 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.058965] Tainted: [D]=DIE, [W]=WARN
[   60.059323] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.060346] Call Trace:
[   60.060692]  <TASK>
[   60.060913]  dump_stack_lvl+0x121/0x150
[   60.061298]  ? do_task_dead+0x28/0x110
[   60.061857]  dump_stack+0x19/0x20
[   60.062192]  __schedule_bug+0x12d/0x180
[   60.062577]  __schedule+0x2401/0x33a0
[   60.062939]  ? do_task_dead+0xa8/0x110
[   60.063305]  ? rcu_is_watching+0x19/0xc0
[   60.063689]  ? lock_release+0x592/0x870
[   60.064068]  ? __pfx___schedule+0x10/0x10
[   60.064664]  ? debug_smp_processor_id+0x20/0x30
[   60.065111]  ? rcu_is_watching+0x19/0xc0
[   60.065500]  ? trace_irq_enable+0xe1/0x120
[   60.065903]  ? do_task_dead+0x4a/0x110
[   60.066266]  do_task_dead+0xe0/0x110
[   60.066623]  make_task_dead+0x384/0x3c0
[   60.067006]  rewind_stack_and_make_dead+0x16/0x20
[   60.067469] RIP: 0033:0x7f17bd43ee5d
[   60.067818] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.068442] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.069344] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.069997] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.070655] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.071317] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.071967] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.072834]  </TASK>
[   60.531089] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#134] PREEMPT SMP KASAN NOPTI
[   60.532250] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.532935] CPU: 0 UID: 0 PID: 22356 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.533766] Tainted: [D]=DIE, [W]=WARN
[   60.534111] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.535115] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.535662] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.537288] RSP: 0018:ffff8880130377d8 EFLAGS: 00010202
[   60.537768] RAX: dffffc0000000000 RBX: ffffea00009c7940 RCX: ffffffff81bbb789
[   60.538407] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c7950
[   60.539041] RBP: ffff8880130377f8 R08: 0000000000000000 R09: ffffed1004098878
[   60.539681] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.540318] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880204c43c0
[   60.540955] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.541684] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.542217] CR2: 00007f17bd6e9ef8 CR3: 000000001efac004 CR4: 0000000000770ef0
[   60.542864] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.543504] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.544149] PKRU: 55555554
[   60.544413] Call Trace:
[   60.544648]  <TASK>
[   60.544858]  ? show_regs+0x6d/0x80
[   60.545198]  ? die_addr+0x45/0xb0
[   60.545533]  ? exc_general_protection+0x1ae/0x340
[   60.545985]  ? asm_exc_general_protection+0x2b/0x30
[   60.546469]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.546949]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.547432]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.547976]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.548554]  zap_huge_pmd+0x48e/0xd40
[   60.548998]  unmap_page_range+0x1ad6/0x4360
[   60.549410]  ? update_stack_state+0x2d9/0x610
[   60.549854]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.550334]  ? __pfx_unmap_page_range+0x10/0x10
[   60.550775]  unmap_single_vma+0x1ac/0x2d0
[   60.551161]  unmap_vmas+0x210/0x470
[   60.551585]  ? __pfx_unmap_vmas+0x10/0x10
[   60.551971]  ? __pfx_lock_release+0x10/0x10
[   60.552371]  ? lock_release+0x592/0x870
[   60.552746]  ? mas_next_slot+0x133a/0x1a50
[   60.553204]  ? __pfx_lock_release+0x10/0x10
[   60.553621]  ? mlock_drain_local+0x27f/0x4b0
[   60.554037]  exit_mmap+0x19e/0xb10
[   60.554444]  ? __pfx_exit_mmap+0x10/0x10
[   60.554838]  ? debug_smp_processor_id+0x20/0x30
[   60.555284]  ? trace_hardirqs_on+0x51/0x60
[   60.555679]  ? kasan_quarantine_put+0xa2/0x200
[   60.556103]  ? __khugepaged_exit+0x266/0x4c0
[   60.556517]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.557018]  __mmput+0xde/0x3a0
[   60.557331]  mmput+0x74/0x90
[   60.557618]  do_exit+0xa03/0x29f0
[   60.557954]  ? trace_hardirqs_on+0x51/0x60
[   60.558352]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.558934]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.559389]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.559855]  ? __pfx_do_exit+0x10/0x10
[   60.560221]  ? __audit_syscall_entry+0x39c/0x500
[   60.560665]  __x64_sys_exit+0x50/0x60
[   60.561030]  x64_sys_call+0x20c9/0x20d0
[   60.561402]  do_syscall_64+0x6d/0x140
[   60.561759]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.562234] RIP: 0033:0x7f17bd43ee5d
[   60.562577] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.563127] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.563809] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.564449] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.565076] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.565683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.566294] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.566907]  </TASK>
[   60.567111] Modules linked in:
[   60.567520] ---[ end trace 0000000000000000 ]---
[   60.567933] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.568448] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.570003] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   60.570466] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   60.571076] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   60.571744] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   60.572336] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.572918] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   60.573502] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   60.574159] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.574643] CR2: 00007f17bd6e9ef8 CR3: 000000001efac004 CR4: 0000000000770ef0
[   60.575309] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.575967] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.576559] PKRU: 55555554
[   60.576796] note: repro[22356] exited with preempt_count 1
[   60.577247] Fixing recursive fault but reboot is needed!
[   60.577694] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22356
[   60.578332] caller is debug_smp_processor_id+0x20/0x30
[   60.578772] CPU: 0 UID: 0 PID: 22356 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.579489] Tainted: [D]=DIE, [W]=WARN
[   60.579788] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.580657] Call Trace:
[   60.580862]  <TASK>
[   60.581044]  dump_stack_lvl+0x121/0x150
[   60.581370]  dump_stack+0x19/0x20
[   60.581651]  check_preemption_disabled+0x168/0x180
[   60.582048]  debug_smp_processor_id+0x20/0x30
[   60.582418]  __schedule+0xa0/0x33a0
[   60.582714]  ? do_task_dead+0xa8/0x110
[   60.583025]  ? debug_smp_processor_id+0x20/0x30
[   60.583406]  ? rcu_is_watching+0x19/0xc0
[   60.583734]  ? lock_release+0x592/0x870
[   60.584053]  ? __pfx___schedule+0x10/0x10
[   60.584393]  ? debug_smp_processor_id+0x20/0x30
[   60.584770]  ? rcu_is_watching+0x19/0xc0
[   60.585098]  ? trace_irq_enable+0xe1/0x120
[   60.585434]  ? do_task_dead+0x4a/0x110
[   60.585730]  do_task_dead+0xe0/0x110
[   60.586015]  make_task_dead+0x384/0x3c0
[   60.586329]  rewind_stack_and_make_dead+0x16/0x20
[   60.586697] RIP: 0033:0x7f17bd43ee5d
[   60.586977] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.587439] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.588005] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.588538] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.589125] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.589663] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.590198] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.590739]  </TASK>
[   60.591000] BUG: scheduling while atomic: repro/22356/0x00000000
[   60.591508] INFO: lockdep is turned off.
[   60.591796] Modules linked in:
[   60.592028] Preemption disabled at:
[   60.592033] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   60.592734] CPU: 0 UID: 0 PID: 22356 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.593393] Tainted: [D]=DIE, [W]=WARN
[   60.593668] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.594474] Call Trace:
[   60.594661]  <TASK>
[   60.594827]  dump_stack_lvl+0x121/0x150
[   60.595122]  ? do_task_dead+0x28/0x110
[   60.595409]  dump_stack+0x19/0x20
[   60.595670]  __schedule_bug+0x12d/0x180
[   60.595969]  __schedule+0x2401/0x33a0
[   60.596253]  ? do_task_dead+0xa8/0x110
[   60.596543]  ? rcu_is_watching+0x19/0xc0
[   60.596913]  ? lock_release+0x592/0x870
[   60.597207]  ? __pfx___schedule+0x10/0x10
[   60.597520]  ? debug_smp_processor_id+0x20/0x30
[   60.597866]  ? rcu_is_watching+0x19/0xc0
[   60.598172]  ? trace_irq_enable+0xe1/0x120
[   60.598491]  ? do_task_dead+0x4a/0x110
[   60.598853]  do_task_dead+0xe0/0x110
[   60.599129]  make_task_dead+0x384/0x3c0
[   60.599434]  rewind_stack_and_make_dead+0x16/0x20
[   60.599777] RIP: 0033:0x7f17bd43ee5d
[   60.600037] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.600462] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.600982] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.601472] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.601964] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.602618] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.603122] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.603609]  </TASK>
[   60.841456] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#135] PREEMPT SMP KASAN NOPTI
[   60.842617] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.843305] CPU: 1 UID: 0 PID: 22555 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.844130] Tainted: [D]=DIE, [W]=WARN
[   60.844478] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.845477] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.846015] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.847647] RSP: 0018:ffff8880141977d8 EFLAGS: 00010202
[   60.848126] RAX: dffffc0000000000 RBX: ffffea00009c4f40 RCX: ffffffff81bbb789
[   60.848780] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c4f50
[   60.849455] RBP: ffff8880141977f8 R08: 0000000000000000 R09: ffffed1002e08a0c
[   60.850146] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.850800] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888017045060
[   60.851439] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   60.852155] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.852682] CR2: 00007f17bd71ebf0 CR3: 000000000f678004 CR4: 0000000000770ef0
[   60.853323] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.853956] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.854602] PKRU: 55555554
[   60.854875] Call Trace:
[   60.855131]  <TASK>
[   60.855359]  ? show_regs+0x6d/0x80
[   60.855698]  ? die_addr+0x45/0xb0
[   60.856028]  ? exc_general_protection+0x1ae/0x340
[   60.856483]  ? asm_exc_general_protection+0x2b/0x30
[   60.856951]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.857433]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.857910]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.858395]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.858884]  zap_huge_pmd+0x48e/0xd40
[   60.859245]  unmap_page_range+0x1ad6/0x4360
[   60.859650]  ? update_stack_state+0x2d9/0x610
[   60.860094]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.860579]  ? __pfx_unmap_page_range+0x10/0x10
[   60.861042]  unmap_single_vma+0x1ac/0x2d0
[   60.861453]  unmap_vmas+0x210/0x470
[   60.861824]  ? __pfx_unmap_vmas+0x10/0x10
[   60.862220]  ? __pfx_lock_release+0x10/0x10
[   60.862621]  ? lock_release+0x592/0x870
[   60.862985]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.863449]  ? __pfx_lock_release+0x10/0x10
[   60.863849]  ? mlock_drain_local+0x27f/0x4b0
[   60.864267]  exit_mmap+0x19e/0xb10
[   60.864613]  ? __pfx_exit_mmap+0x10/0x10
[   60.864990]  ? debug_smp_processor_id+0x20/0x30
[   60.865433]  ? trace_hardirqs_on+0x51/0x60
[   60.865827]  ? kasan_quarantine_put+0xa2/0x200
[   60.866266]  ? __khugepaged_exit+0x266/0x4c0
[   60.866709]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.867213]  __mmput+0xde/0x3a0
[   60.867556]  mmput+0x74/0x90
[   60.867847]  do_exit+0xa03/0x29f0
[   60.868177]  ? trace_hardirqs_on+0x51/0x60
[   60.868577]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.869159]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.869617]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.870093]  ? __pfx_do_exit+0x10/0x10
[   60.870487]  ? __audit_syscall_entry+0x39c/0x500
[   60.870942]  __x64_sys_exit+0x50/0x60
[   60.871305]  x64_sys_call+0x20c9/0x20d0
[   60.871675]  do_syscall_64+0x6d/0x140
[   60.872030]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.872510] RIP: 0033:0x7f17bd43ee5d
[   60.872849] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.873402] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.874096] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.874764] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.875414] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.876049] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.876684] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.877350]  </TASK>
[   60.877578] Modules linked in:
[   60.878052] ---[ end trace 0000000000000000 ]---
[   60.878519] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.879066] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.880783] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   60.881272] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   60.881915] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   60.882588] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   60.883255] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.884006] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   60.884675] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   60.885694] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.886249] CR2: 00007f17bd71ebf0 CR3: 000000000f678004 CR4: 0000000000770ef0
[   60.886900] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.887761] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.888593] PKRU: 55555554
[   60.888872] note: repro[22555] exited with preempt_count 1
[   60.889402] Fixing recursive fault but reboot is needed!
[   60.889906] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22555
[   60.890631] caller is debug_smp_processor_id+0x20/0x30
[   60.891117] CPU: 1 UID: 0 PID: 22555 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.891944] Tainted: [D]=DIE, [W]=WARN
[   60.892291] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.893289] Call Trace:
[   60.893522]  <TASK>
[   60.893731]  dump_stack_lvl+0x121/0x150
[   60.894102]  dump_stack+0x19/0x20
[   60.894430]  check_preemption_disabled+0x168/0x180
[   60.894887]  debug_smp_processor_id+0x20/0x30
[   60.895309]  __schedule+0xa0/0x33a0
[   60.895651]  ? do_task_dead+0xa8/0x110
[   60.896008]  ? debug_smp_processor_id+0x20/0x30
[   60.896446]  ? rcu_is_watching+0x19/0xc0
[   60.896823]  ? lock_release+0x592/0x870
[   60.897189]  ? __pfx___schedule+0x10/0x10
[   60.897589]  ? debug_smp_processor_id+0x20/0x30
[   60.898022]  ? rcu_is_watching+0x19/0xc0
[   60.898404]  ? trace_irq_enable+0xe1/0x120
[   60.898798]  ? do_task_dead+0x4a/0x110
[   60.899249]  do_task_dead+0xe0/0x110
[   60.899639]  make_task_dead+0x384/0x3c0
[   60.900014]  rewind_stack_and_make_dead+0x16/0x20
[   60.900460] RIP: 0033:0x7f17bd43ee5d
[   60.900815] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.901495] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.902176] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.903031] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.903683] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.904322] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.904958] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.905610]  </TASK>
[   60.906062] BUG: scheduling while atomic: repro/22555/0x00000000
[   60.906634] INFO: lockdep is turned off.
[   60.906993] Modules linked in:
[   60.907304] Preemption disabled at:
[   60.907311] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   60.908602] CPU: 1 UID: 0 PID: 22555 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   60.909443] Tainted: [D]=DIE, [W]=WARN
[   60.909794] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.911004] Call Trace:
[   60.911246]  <TASK>
[   60.911465]  dump_stack_lvl+0x121/0x150
[   60.911845]  ? do_task_dead+0x28/0x110
[   60.912241]  dump_stack+0x19/0x20
[   60.912601]  __schedule_bug+0x12d/0x180
[   60.912984]  __schedule+0x2401/0x33a0
[   60.913392]  ? do_task_dead+0xa8/0x110
[   60.914075]  ? rcu_is_watching+0x19/0xc0
[   60.914541]  ? lock_release+0x592/0x870
[   60.914916]  ? __pfx___schedule+0x10/0x10
[   60.915316]  ? debug_smp_processor_id+0x20/0x30
[   60.915880]  ? rcu_is_watching+0x19/0xc0
[   60.916266]  ? trace_irq_enable+0xe1/0x120
[   60.916675]  ? do_task_dead+0x4a/0x110
[   60.917037]  do_task_dead+0xe0/0x110
[   60.917613]  make_task_dead+0x384/0x3c0
[   60.917999]  rewind_stack_and_make_dead+0x16/0x20
[   60.918452] RIP: 0033:0x7f17bd43ee5d
[   60.918797] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   60.919658] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.920354] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   60.920999] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.921683] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   60.922538] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   60.923187] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   60.924044]  </TASK>
[   61.321656] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#136] PREEMPT SMP KASAN NOPTI
[   61.322768] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.323455] CPU: 1 UID: 0 PID: 22871 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   61.324286] Tainted: [D]=DIE, [W]=WARN
[   61.324868] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.325936] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.326502] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.328171] RSP: 0018:ffff88800ddc77d8 EFLAGS: 00010202
[   61.328953] RAX: dffffc0000000000 RBX: ffffea00006a1340 RCX: ffffffff81bbb789
[   61.329646] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006a1350
[   61.330336] RBP: ffff88800ddc77f8 R08: 0000000000000000 R09: ffffed10023a30b4
[   61.330982] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.331629] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011d185a0
[   61.332269] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.333349] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.333897] CR2: 00007f17bd71ebf0 CR3: 000000000fec6006 CR4: 0000000000770ef0
[   61.334579] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.335251] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.335899] PKRU: 55555554
[   61.336159] Call Trace:
[   61.336400]  <TASK>
[   61.336735]  ? show_regs+0x6d/0x80
[   61.337252]  ? die_addr+0x45/0xb0
[   61.337595]  ? exc_general_protection+0x1ae/0x340
[   61.338051]  ? asm_exc_general_protection+0x2b/0x30
[   61.338530]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.339012]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.339497]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.339976]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.340463]  zap_huge_pmd+0x48e/0xd40
[   61.341029]  unmap_page_range+0x1ad6/0x4360
[   61.341549]  ? update_stack_state+0x2d9/0x610
[   61.341988]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.342465]  ? __pfx_unmap_page_range+0x10/0x10
[   61.342910]  unmap_single_vma+0x1ac/0x2d0
[   61.343304]  unmap_vmas+0x210/0x470
[   61.343652]  ? __pfx_unmap_vmas+0x10/0x10
[   61.344036]  ? __pfx_lock_release+0x10/0x10
[   61.344440]  ? lock_release+0x592/0x870
[   61.345006]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.345690]  ? __pfx_lock_release+0x10/0x10
[   61.346125]  ? mlock_drain_local+0x27f/0x4b0
[   61.346555]  exit_mmap+0x19e/0xb10
[   61.346897]  ? __pfx_exit_mmap+0x10/0x10
[   61.347282]  ? debug_smp_processor_id+0x20/0x30
[   61.347727]  ? trace_hardirqs_on+0x51/0x60
[   61.348124]  ? kasan_quarantine_put+0xa2/0x200
[   61.348555]  ? __khugepaged_exit+0x266/0x4c0
[   61.348967]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.349471]  __mmput+0xde/0x3a0
[   61.349786]  mmput+0x74/0x90
[   61.350076]  do_exit+0xa03/0x29f0
[   61.350416]  ? trace_hardirqs_on+0x51/0x60
[   61.350813]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.351736]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.352191]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.352665]  ? __pfx_do_exit+0x10/0x10
[   61.353033]  ? __audit_syscall_entry+0x39c/0x500
[   61.353481]  __x64_sys_exit+0x50/0x60
[   61.353841]  x64_sys_call+0x20c9/0x20d0
[   61.354209]  do_syscall_64+0x6d/0x140
[   61.354571]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.355046] RIP: 0033:0x7f17bd43ee5d
[   61.355580] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   61.356240] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.356925] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   61.357561] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.358196] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   61.358838] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   61.359480] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   61.360325]  </TASK>
[   61.360543] Modules linked in:
[   61.361050] ---[ end trace 0000000000000000 ]---
[   61.361496] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.362140] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.364004] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   61.364518] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   61.365197] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   61.366252] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   61.366971] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.367785] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   61.368450] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   61.369200] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.369736] CR2: 00007f17bd71ebf0 CR3: 000000000fec6006 CR4: 0000000000770ef0
[   61.370405] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.371174] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.371945] PKRU: 55555554
[   61.372219] note: repro[22871] exited with preempt_count 1
[   61.372759] Fixing recursive fault but reboot is needed!
[   61.373317] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22871
[   61.374053] caller is debug_smp_processor_id+0x20/0x30
[   61.374570] CPU: 1 UID: 0 PID: 22871 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   61.375513] Tainted: [D]=DIE, [W]=WARN
[   61.375869] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.376907] Call Trace:
[   61.377153]  <TASK>
[   61.377381]  dump_stack_lvl+0x121/0x150
[   61.377967]  dump_stack+0x19/0x20
[   61.378502]  check_preemption_disabled+0x168/0x180
[   61.379016]  debug_smp_processor_id+0x20/0x30
[   61.379499]  __schedule+0xa0/0x33a0
[   61.379896]  ? do_task_dead+0xa8/0x110
[   61.380266]  ? debug_smp_processor_id+0x20/0x30
[   61.380734]  ? rcu_is_watching+0x19/0xc0
[   61.381129]  ? lock_release+0x592/0x870
[   61.381528]  ? __pfx___schedule+0x10/0x10
[   61.382044]  ? debug_smp_processor_id+0x20/0x30
[   61.382739]  ? rcu_is_watching+0x19/0xc0
[   61.383140]  ? trace_irq_enable+0xe1/0x120
[   61.383559]  ? do_task_dead+0x4a/0x110
[   61.383947]  do_task_dead+0xe0/0x110
[   61.384310]  make_task_dead+0x384/0x3c0
[   61.384703]  rewind_stack_and_make_dead+0x16/0x20
[   61.385170] RIP: 0033:0x7f17bd43ee5d
[   61.385539] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   61.386316] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.387203] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   61.387882] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.388617] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   61.389289] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   61.389944] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   61.390998]  </TASK>
[   61.391313] BUG: scheduling while atomic: repro/22871/0x00000000
[   61.391916] INFO: lockdep is turned off.
[   61.392299] Modules linked in:
[   61.392605] Preemption disabled at:
[   61.392612] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   61.393525] CPU: 1 UID: 0 PID: 22871 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   61.394566] Tainted: [D]=DIE, [W]=WARN
[   61.395108] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.396113] Call Trace:
[   61.396352]  <TASK>
[   61.396563]  dump_stack_lvl+0x121/0x150
[   61.396929]  ? do_task_dead+0x28/0x110
[   61.397289]  dump_stack+0x19/0x20
[   61.397631]  __schedule_bug+0x12d/0x180
[   61.398003]  __schedule+0x2401/0x33a0
[   61.398375]  ? do_task_dead+0xa8/0x110
[   61.398798]  ? rcu_is_watching+0x19/0xc0
[   61.399184]  ? lock_release+0x592/0x870
[   61.399577]  ? __pfx___schedule+0x10/0x10
[   61.399976]  ? debug_smp_processor_id+0x20/0x30
[   61.400421]  ? rcu_is_watching+0x19/0xc0
[   61.400808]  ? trace_irq_enable+0xe1/0x120
[   61.401190]  ? do_task_dead+0x4a/0x110
[   61.401529]  do_task_dead+0xe0/0x110
[   61.401860]  make_task_dead+0x384/0x3c0
[   61.402219]  rewind_stack_and_make_dead+0x16/0x20
[   61.402818] RIP: 0033:0x7f17bd43ee5d
[   61.403281] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   61.403820] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.404476] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   61.405079] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.405682] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   61.406432] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   61.407040] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   61.407660]  </TASK>
[   61.603241] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#137] PREEMPT SMP KASAN NOPTI
[   61.604377] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.605058] CPU: 0 UID: 0 PID: 23031 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   61.605891] Tainted: [D]=DIE, [W]=WARN
[   61.606238] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.607283] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.607841] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.609506] RSP: 0018:ffff88801c2377d8 EFLAGS: 00010202
[   61.610003] RAX: dffffc0000000000 RBX: ffffea0000e55f80 RCX: ffffffff81bbb789
[   61.610665] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000e55f90
[   61.611321] RBP: ffff88801c2377f8 R08: 0000000000000000 R09: ffffed1003ef5460
[   61.611989] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.612659] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801f7aa300
[   61.613324] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.614062] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.614614] CR2: 00007f17bd71ebf0 CR3: 000000002aa0c005 CR4: 0000000000770ef0
[   61.615282] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.615937] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.616589] PKRU: 55555554
[   61.616859] Call Trace:
[   61.617100]  <TASK>
[   61.617319]  ? show_regs+0x6d/0x80
[   61.617666]  ? die_addr+0x45/0xb0
[   61.618005]  ? exc_general_protection+0x1ae/0x340
[   61.618470]  ? asm_exc_general_protection+0x2b/0x30
[   61.618954]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.619453]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.619942]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.620439]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.620933]  zap_huge_pmd+0x48e/0xd40
[   61.621306]  unmap_page_range+0x1ad6/0x4360
[   61.621720]  ? update_stack_state+0x2d9/0x610
[   61.622160]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.622652]  ? __pfx_unmap_page_range+0x10/0x10
[   61.623114]  unmap_single_vma+0x1ac/0x2d0
[   61.623516]  unmap_vmas+0x210/0x470
[   61.623868]  ? __pfx_unmap_vmas+0x10/0x10
[   61.624263]  ? __pfx_lock_release+0x10/0x10
[   61.624676]  ? lock_release+0x592/0x870
[   61.625060]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.625541]  ? __pfx_lock_release+0x10/0x10
[   61.625957]  ? mlock_drain_local+0x27f/0x4b0
[   61.626387]  exit_mmap+0x19e/0xb10
[   61.626745]  ? __pfx_exit_mmap+0x10/0x10
[   61.627133]  ? debug_smp_processor_id+0x20/0x30
[   61.627593]  ? trace_hardirqs_on+0x51/0x60
[   61.628003]  ? kasan_quarantine_put+0xa2/0x200
[   61.628448]  ? __khugepaged_exit+0x266/0x4c0
[   61.628869]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.629393]  __mmput+0xde/0x3a0
[   61.629716]  mmput+0x74/0x90
[   61.630013]  do_exit+0xa03/0x29f0
[   61.630355]  ? trace_hardirqs_on+0x51/0x60
[   61.630765]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.631372]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.631835]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.632323]  ? __pfx_do_exit+0x10/0x10
[   61.632697]  ? __audit_syscall_entry+0x39c/0x500
[   61.633159]  __x64_sys_exit+0x50/0x60
[   61.633535]  x64_sys_call+0x20c9/0x20d0
[   61.633912]  do_syscall_64+0x6d/0x140
[   61.634286]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.634776] RIP: 0033:0x7f17bd43ee5d
[   61.635126] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   61.635696] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.636403] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   61.637059] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.637717] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   61.638382] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   61.639042] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   61.639720]  </TASK>
[   61.639940] Modules linked in:
[   61.640395] ---[ end trace 0000000000000000 ]---
[   61.640844] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.641406] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.643110] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   61.643632] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   61.644297] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   61.644978] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   61.645645] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.646311] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   61.646976] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   61.647745] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.648295] CR2: 00007f17bd71ebf0 CR3: 000000002aa0c005 CR4: 0000000000770ef0
[   61.648962] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.649629] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.650285] PKRU: 55555554
[   61.650551] note: repro[23031] exited with preempt_count 1
[   61.651063] Fixing recursive fault but reboot is needed!
[   61.651657] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23031
[   61.652844] caller is debug_smp_processor_id+0x20/0x30
[   61.653360] CPU: 0 UID: 0 PID: 23031 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   61.654362] Tainted: [D]=DIE, [W]=WARN
[   61.654712] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.655719] Call Trace:
[   61.655957]  <TASK>
[   61.656166]  dump_stack_lvl+0x121/0x150
[   61.656544]  dump_stack+0x19/0x20
[   61.656893]  check_preemption_disabled+0x168/0x180
[   61.657362]  debug_smp_processor_id+0x20/0x30
[   61.657786]  __schedule+0xa0/0x33a0
[   61.658130]  ? do_task_dead+0xa8/0x110
[   61.658494]  ? debug_smp_processor_id+0x20/0x30
[   61.658937]  ? rcu_is_watching+0x19/0xc0
[   61.659323]  ? lock_release+0x592/0x870
[   61.659694]  ? __pfx___schedule+0x10/0x10
[   61.660085]  ? debug_smp_processor_id+0x20/0x30
[   61.660523]  ? rcu_is_watching+0x19/0xc0
[   61.660903]  ? trace_irq_enable+0xe1/0x120
[   61.661304]  ? do_task_dead+0x4a/0x110
[   61.661669]  do_task_dead+0xe0/0x110
[   61.662017]  make_task_dead+0x384/0x3c0
[   61.662399]  rewind_stack_and_make_dead+0x16/0x20
[   61.662848] RIP: 0033:0x7f17bd43ee5d
[   61.663190] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   61.663747] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.664435] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   61.665077] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.665719] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   61.666364] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   61.667006] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   61.667677]  </TASK>
[   61.668077] BUG: scheduling while atomic: repro/23031/0x00000000
[   61.668640] INFO: lockdep is turned off.
[   61.669004] Modules linked in:
[   61.669302] Preemption disabled at:
[   61.669308] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   61.670125] CPU: 0 UID: 0 PID: 23031 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   61.670955] Tainted: [D]=DIE, [W]=WARN
[   61.671305] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.672313] Call Trace:
[   61.672549]  <TASK>
[   61.672760]  dump_stack_lvl+0x121/0x150
[   61.673140]  ? do_task_dead+0x28/0x110
[   61.673505]  dump_stack+0x19/0x20
[   61.673838]  __schedule_bug+0x12d/0x180
[   61.674219]  __schedule+0x2401/0x33a0
[   61.674588]  ? do_task_dead+0xa8/0x110
[   61.674953]  ? rcu_is_watching+0x19/0xc0
[   61.675338]  ? lock_release+0x592/0x870
[   61.675711]  ? __pfx___schedule+0x10/0x10
[   61.676116]  ? debug_smp_processor_id+0x20/0x30
[   61.676559]  ? rcu_is_watching+0x19/0xc0
[   61.676942]  ? trace_irq_enable+0xe1/0x120
[   61.677344]  ? do_task_dead+0x4a/0x110
[   61.677707]  do_task_dead+0xe0/0x110
[   61.678055]  make_task_dead+0x384/0x3c0
[   61.678438]  rewind_stack_and_make_dead+0x16/0x20
[   61.678887] RIP: 0033:0x7f17bd43ee5d
[   61.679241] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   61.679821] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.680513] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   61.681160] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.681806] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   61.682449] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   61.683094] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   61.683753]  </TASK>
[   62.242239] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#138] PREEMPT SMP KASAN NOPTI
[   62.243355] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.244044] CPU: 0 UID: 0 PID: 23455 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.244873] Tainted: [D]=DIE, [W]=WARN
[   62.245221] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.246228] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.246755] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.248429] RSP: 0018:ffff8880125c77d8 EFLAGS: 00010202
[   62.248924] RAX: dffffc0000000000 RBX: ffffea00004e6180 RCX: ffffffff81bbb789
[   62.249594] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004e6190
[   62.250246] RBP: ffff8880125c77f8 R08: 0000000000000000 R09: ffffed1003ba0fa4
[   62.250896] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.251546] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801dd07d20
[   62.252193] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.252928] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.253467] CR2: 00007fffef6677b8 CR3: 00000000272c0001 CR4: 0000000000770ef0
[   62.254126] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.254804] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.255475] PKRU: 55555554
[   62.255739] Call Trace:
[   62.255978]  <TASK>
[   62.256197]  ? show_regs+0x6d/0x80
[   62.256546]  ? die_addr+0x45/0xb0
[   62.256886]  ? exc_general_protection+0x1ae/0x340
[   62.257342]  ? asm_exc_general_protection+0x2b/0x30
[   62.257826]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.258329]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.258824]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.259321]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.259825]  zap_huge_pmd+0x48e/0xd40
[   62.260197]  unmap_page_range+0x1ad6/0x4360
[   62.260610]  ? update_stack_state+0x2d9/0x610
[   62.261060]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.261552]  ? __pfx_unmap_page_range+0x10/0x10
[   62.261997]  unmap_single_vma+0x1ac/0x2d0
[   62.262399]  unmap_vmas+0x210/0x470
[   62.262753]  ? __pfx_unmap_vmas+0x10/0x10
[   62.263150]  ? __pfx_lock_release+0x10/0x10
[   62.263563]  ? lock_release+0x592/0x870
[   62.263940]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   62.264412]  ? __pfx_lock_release+0x10/0x10
[   62.264825]  ? mlock_drain_local+0x27f/0x4b0
[   62.265250]  exit_mmap+0x19e/0xb10
[   62.265607]  ? __pfx_exit_mmap+0x10/0x10
[   62.265991]  ? debug_smp_processor_id+0x20/0x30
[   62.266445]  ? trace_hardirqs_on+0x51/0x60
[   62.266854]  ? kasan_quarantine_put+0xa2/0x200
[   62.267296]  ? __khugepaged_exit+0x266/0x4c0
[   62.267721]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.268239]  __mmput+0xde/0x3a0
[   62.268565]  mmput+0x74/0x90
[   62.268861]  do_exit+0xa03/0x29f0
[   62.269198]  ? trace_hardirqs_on+0x51/0x60
[   62.269607]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.270206]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.270673]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.271165]  ? __pfx_do_exit+0x10/0x10
[   62.271546]  ? __audit_syscall_entry+0x39c/0x500
[   62.271998]  __x64_sys_exit+0x50/0x60
[   62.272364]  x64_sys_call+0x20c9/0x20d0
[   62.272743]  do_syscall_64+0x6d/0x140
[   62.273107]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.273597] RIP: 0033:0x7f17bd43ee5d
[   62.273946] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.274512] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.275215] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.275863] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.276524] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.277179] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.277831] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.278501]  </TASK>
[   62.278723] Modules linked in:
[   62.279166] ---[ end trace 0000000000000000 ]---
[   62.279698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.280258] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.281948] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   62.282449] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   62.283103] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   62.283853] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   62.284527] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.285188] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   62.285940] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.286703] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.287247] CR2: 00007fffef6677b8 CR3: 00000000272c0001 CR4: 0000000000770ef0
[   62.288011] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.288675] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.289349] PKRU: 55555554
[   62.289621] note: repro[23455] exited with preempt_count 1
[   62.290133] Fixing recursive fault but reboot is needed!
[   62.290631] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23455
[   62.291360] caller is debug_smp_processor_id+0x20/0x30
[   62.291916] CPU: 0 UID: 0 PID: 23455 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.292785] Tainted: [D]=DIE, [W]=WARN
[   62.293142] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.294183] Call Trace:
[   62.294431]  <TASK>
[   62.294646]  dump_stack_lvl+0x121/0x150
[   62.295027]  dump_stack+0x19/0x20
[   62.295371]  check_preemption_disabled+0x168/0x180
[   62.295854]  debug_smp_processor_id+0x20/0x30
[   62.296298]  __schedule+0xa0/0x33a0
[   62.296655]  ? do_task_dead+0xa8/0x110
[   62.297026]  ? debug_smp_processor_id+0x20/0x30
[   62.297475]  ? rcu_is_watching+0x19/0xc0
[   62.297852]  ? lock_release+0x592/0x870
[   62.298225]  ? __pfx___schedule+0x10/0x10
[   62.298619]  ? debug_smp_processor_id+0x20/0x30
[   62.299050]  ? rcu_is_watching+0x19/0xc0
[   62.299436]  ? trace_irq_enable+0xe1/0x120
[   62.299834]  ? do_task_dead+0x4a/0x110
[   62.300184]  do_task_dead+0xe0/0x110
[   62.300526]  make_task_dead+0x384/0x3c0
[   62.300898]  rewind_stack_and_make_dead+0x16/0x20
[   62.301331] RIP: 0033:0x7f17bd43ee5d
[   62.301662] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.302205] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.302886] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.303529] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.304172] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.304813] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.305424] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.306045]  </TASK>
[   62.306352] BUG: scheduling while atomic: repro/23455/0x00000000
[   62.306869] INFO: lockdep is turned off.
[   62.307215] Modules linked in:
[   62.307555] Preemption disabled at:
[   62.307561] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   62.308345] CPU: 0 UID: 0 PID: 23455 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.309129] Tainted: [D]=DIE, [W]=WARN
[   62.309459] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.310404] Call Trace:
[   62.310627]  <TASK>
[   62.310831]  dump_stack_lvl+0x121/0x150
[   62.311186]  ? do_task_dead+0x28/0x110
[   62.311527]  dump_stack+0x19/0x20
[   62.311835]  __schedule_bug+0x12d/0x180
[   62.312190]  __schedule+0x2401/0x33a0
[   62.312520]  ? do_task_dead+0xa8/0x110
[   62.312841]  ? rcu_is_watching+0x19/0xc0
[   62.313178]  ? lock_release+0x592/0x870
[   62.313505]  ? __pfx___schedule+0x10/0x10
[   62.313852]  ? debug_smp_processor_id+0x20/0x30
[   62.314243]  ? rcu_is_watching+0x19/0xc0
[   62.314585]  ? trace_irq_enable+0xe1/0x120
[   62.314940]  ? do_task_dead+0x4a/0x110
[   62.315257]  do_task_dead+0xe0/0x110
[   62.315570]  make_task_dead+0x384/0x3c0
[   62.315914]  rewind_stack_and_make_dead+0x16/0x20
[   62.316321] RIP: 0033:0x7f17bd43ee5d
[   62.316625] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.317113] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.317725] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.318309] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.318880] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.319456] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.320030] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.320589]  </TASK>
[   62.322269] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#139] PREEMPT SMP KASAN NOPTI
[   62.323221] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.323806] CPU: 0 UID: 0 PID: 23519 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.324501] Tainted: [D]=DIE, [W]=WARN
[   62.324780] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.325598] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.326041] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.327372] RSP: 0018:ffff88803940f7d8 EFLAGS: 00010202
[   62.327764] RAX: dffffc0000000000 RBX: ffffea000045dc40 RCX: ffffffff81bbb789
[   62.328298] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000045dc50
[   62.328821] RBP: ffff88803940f7f8 R08: 0000000000000000 R09: ffffed10040db0c0
[   62.329342] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.329869] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880206d8600
[   62.330418] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.331167] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.331709] CR2: 00007fffef6677b8 CR3: 0000000039668004 CR4: 0000000000770ef0
[   62.332385] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.333052] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.333727] PKRU: 55555554
[   62.333993] Call Trace:
[   62.334235]  <TASK>
[   62.334459]  ? show_regs+0x6d/0x80
[   62.334811]  ? die_addr+0x45/0xb0
[   62.335158]  ? exc_general_protection+0x1ae/0x340
[   62.335630]  ? asm_exc_general_protection+0x2b/0x30
[   62.336117]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.336617]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.337085]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.337459]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.337829]  zap_huge_pmd+0x48e/0xd40
[   62.338108]  unmap_page_range+0x1ad6/0x4360
[   62.338422]  ? update_stack_state+0x2d9/0x610
[   62.338757]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.339121]  ? __pfx_unmap_page_range+0x10/0x10
[   62.339463]  unmap_single_vma+0x1ac/0x2d0
[   62.339763]  unmap_vmas+0x210/0x470
[   62.340028]  ? __pfx_unmap_vmas+0x10/0x10
[   62.340330]  ? __pfx_lock_release+0x10/0x10
[   62.340638]  ? lock_release+0x592/0x870
[   62.340920]  ? mas_next_slot+0x133a/0x1a50
[   62.341220]  ? __pfx_lock_release+0x10/0x10
[   62.341523]  ? mlock_drain_local+0x27f/0x4b0
[   62.341826]  exit_mmap+0x19e/0xb10
[   62.342076]  ? __pfx_exit_mmap+0x10/0x10
[   62.342356]  ? debug_smp_processor_id+0x20/0x30
[   62.342680]  ? trace_hardirqs_on+0x51/0x60
[   62.342974]  ? kasan_quarantine_put+0xa2/0x200
[   62.343293]  ? __khugepaged_exit+0x266/0x4c0
[   62.343610]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.343982]  __mmput+0xde/0x3a0
[   62.344215]  mmput+0x74/0x90
[   62.344434]  do_exit+0xa03/0x29f0
[   62.344677]  ? trace_hardirqs_on+0x51/0x60
[   62.344967]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.345402]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.345742]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.346086]  ? __pfx_do_exit+0x10/0x10
[   62.346358]  ? __audit_syscall_entry+0x39c/0x500
[   62.346673]  __x64_sys_exit+0x50/0x60
[   62.346927]  x64_sys_call+0x20c9/0x20d0
[   62.347190]  do_syscall_64+0x6d/0x140
[   62.347447]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.347787] RIP: 0033:0x7f17bd43ee5d
[   62.348034] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.348434] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.348923] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.349381] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.349841] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.350297] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.350749] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.351213]  </TASK>
[   62.351372] Modules linked in:
[   62.351677] ---[ end trace 0000000000000000 ]---
[   62.351982] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.352362] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.353436] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   62.353756] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   62.354183] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   62.354618] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   62.355046] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.355507] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   62.355935] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   62.356418] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.356756] CR2: 00007fffef6677b8 CR3: 0000000039668004 CR4: 0000000000770ef0
[   62.357166] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.357576] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.357984] PKRU: 55555554
[   62.358150] note: repro[23519] exited with preempt_count 1
[   62.358471] Fixing recursive fault but reboot is needed!
[   62.358777] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23519
[   62.359224] caller is debug_smp_processor_id+0x20/0x30
[   62.359545] CPU: 0 UID: 0 PID: 23519 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.360056] Tainted: [D]=DIE, [W]=WARN
[   62.360270] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.360886] Call Trace:
[   62.361032]  <TASK>
[   62.361161]  dump_stack_lvl+0x121/0x150
[   62.361481]  dump_stack+0x19/0x20
[   62.361823]  check_preemption_disabled+0x168/0x180
[   62.362302]  debug_smp_processor_id+0x20/0x30
[   62.362741]  __schedule+0xa0/0x33a0
[   62.363101]  ? do_task_dead+0xa8/0x110
[   62.363475]  ? debug_smp_processor_id+0x20/0x30
[   62.363920]  ? rcu_is_watching+0x19/0xc0
[   62.364320]  ? lock_release+0x592/0x870
[   62.364713]  ? __pfx___schedule+0x10/0x10
[   62.365115]  ? debug_smp_processor_id+0x20/0x30
[   62.365575]  ? rcu_is_watching+0x19/0xc0
[   62.366011]  ? trace_irq_enable+0xe1/0x120
[   62.366436]  ? do_task_dead+0x4a/0x110
[   62.366810]  do_task_dead+0xe0/0x110
[   62.367165]  make_task_dead+0x384/0x3c0
[   62.367466]  rewind_stack_and_make_dead+0x16/0x20
[   62.367731] RIP: 0033:0x7f17bd43ee5d
[   62.367938] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.368269] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.368677] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.369060] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.369471] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.369925] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.370375] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.370838]  </TASK>
[   62.371017] BUG: scheduling while atomic: repro/23519/0x00000000
[   62.371416] INFO: lockdep is turned off.
[   62.371671] Modules linked in:
[   62.371881] Preemption disabled at:
[   62.371885] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   62.372463] CPU: 0 UID: 0 PID: 23519 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.373125] Tainted: [D]=DIE, [W]=WARN
[   62.373482] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.374528] Call Trace:
[   62.374775]  <TASK>
[   62.374989]  dump_stack_lvl+0x121/0x150
[   62.375377]  ? do_task_dead+0x28/0x110
[   62.375757]  dump_stack+0x19/0x20
[   62.376101]  __schedule_bug+0x12d/0x180
[   62.376493]  __schedule+0x2401/0x33a0
[   62.376858]  ? do_task_dead+0xa8/0x110
[   62.377229]  ? rcu_is_watching+0x19/0xc0
[   62.377621]  ? lock_release+0x592/0x870
[   62.378003]  ? __pfx___schedule+0x10/0x10
[   62.378411]  ? debug_smp_processor_id+0x20/0x30
[   62.378862]  ? rcu_is_watching+0x19/0xc0
[   62.379256]  ? trace_irq_enable+0xe1/0x120
[   62.379667]  ? do_task_dead+0x4a/0x110
[   62.380032]  do_task_dead+0xe0/0x110
[   62.380340]  make_task_dead+0x384/0x3c0
[   62.380554]  rewind_stack_and_make_dead+0x16/0x20
[   62.380805] RIP: 0033:0x7f17bd43ee5d
[   62.380997] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.381311] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.381695] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.382053] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.382408] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.382757] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.383107] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.383467]  </TASK>
[   62.928370] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#140] PREEMPT SMP KASAN NOPTI
[   62.929523] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.930220] CPU: 1 UID: 0 PID: 23884 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.931077] Tainted: [D]=DIE, [W]=WARN
[   62.931432] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.932465] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.933029] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.934719] RSP: 0018:ffff88803956f7d8 EFLAGS: 00010202
[   62.935209] RAX: dffffc0000000000 RBX: ffffea00004d1800 RCX: ffffffff81bbb789
[   62.935863] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004d1810
[   62.936518] RBP: ffff88803956f7f8 R08: 0000000000000000 R09: ffffed10022c08a8
[   62.937168] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.937823] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011604540
[   62.938475] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   62.939205] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.939742] CR2: 00007fffef6678a8 CR3: 000000002a898003 CR4: 0000000000770ef0
[   62.940406] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.941070] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.941717] PKRU: 55555554
[   62.941977] Call Trace:
[   62.942219]  <TASK>
[   62.942438]  ? show_regs+0x6d/0x80
[   62.942782]  ? die_addr+0x45/0xb0
[   62.943125]  ? exc_general_protection+0x1ae/0x340
[   62.943593]  ? asm_exc_general_protection+0x2b/0x30
[   62.944078]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.944573]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.945057]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.945556]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.946046]  zap_huge_pmd+0x48e/0xd40
[   62.946421]  unmap_page_range+0x1ad6/0x4360
[   62.946826]  ? update_stack_state+0x2d9/0x610
[   62.947267]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.947754]  ? __pfx_unmap_page_range+0x10/0x10
[   62.948205]  unmap_single_vma+0x1ac/0x2d0
[   62.948606]  unmap_vmas+0x210/0x470
[   62.948959]  ? __pfx_unmap_vmas+0x10/0x10
[   62.949353]  ? __pfx_lock_release+0x10/0x10
[   62.949758]  ? lock_release+0x592/0x870
[   62.950132]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   62.950599]  ? __pfx_lock_release+0x10/0x10
[   62.951011]  ? mlock_drain_local+0x27f/0x4b0
[   62.951432]  exit_mmap+0x19e/0xb10
[   62.951781]  ? __pfx_exit_mmap+0x10/0x10
[   62.952165]  ? debug_smp_processor_id+0x20/0x30
[   62.952612]  ? trace_hardirqs_on+0x51/0x60
[   62.953014]  ? kasan_quarantine_put+0xa2/0x200
[   62.953459]  ? __khugepaged_exit+0x266/0x4c0
[   62.953879]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.954400]  __mmput+0xde/0x3a0
[   62.954729]  mmput+0x74/0x90
[   62.955029]  do_exit+0xa03/0x29f0
[   62.955381]  ? trace_hardirqs_on+0x51/0x60
[   62.955786]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.956383]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.956843]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.957320]  ? __pfx_do_exit+0x10/0x10
[   62.957694]  ? __audit_syscall_entry+0x39c/0x500
[   62.958146]  __x64_sys_exit+0x50/0x60
[   62.958512]  x64_sys_call+0x20c9/0x20d0
[   62.958888]  do_syscall_64+0x6d/0x140
[   62.959252]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.959737] RIP: 0033:0x7f17bd43ee5d
[   62.960090] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.960659] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.961356] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.962011] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.962669] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.963322] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.963976] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.964639]  </TASK>
[   62.964858] Modules linked in:
[   62.965269] ---[ end trace 0000000000000000 ]---
[   62.965720] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.966269] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.967998] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   62.968498] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   62.969147] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   62.969808] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   62.970462] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.971110] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   62.971782] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   62.972531] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.973062] CR2: 00007fffef6678a8 CR3: 000000002a898003 CR4: 0000000000770ef0
[   62.973738] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.974389] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.975065] PKRU: 55555554
[   62.975332] note: repro[23884] exited with preempt_count 1
[   62.975858] Fixing recursive fault but reboot is needed!
[   62.976350] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23884
[   62.977054] caller is debug_smp_processor_id+0x20/0x30
[   62.977545] CPU: 1 UID: 0 PID: 23884 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.978339] Tainted: [D]=DIE, [W]=WARN
[   62.978669] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.979923] Call Trace:
[   62.980215]  <TASK>
[   62.980482]  dump_stack_lvl+0x121/0x150
[   62.980940]  dump_stack+0x19/0x20
[   62.981347]  check_preemption_disabled+0x168/0x180
[   62.981906]  debug_smp_processor_id+0x20/0x30
[   62.982431]  __schedule+0xa0/0x33a0
[   62.982854]  ? do_task_dead+0xa8/0x110
[   62.983303]  ? debug_smp_processor_id+0x20/0x30
[   62.983840]  ? rcu_is_watching+0x19/0xc0
[   62.984310]  ? lock_release+0x592/0x870
[   62.984821]  ? __pfx___schedule+0x10/0x10
[   62.985304]  ? debug_smp_processor_id+0x20/0x30
[   62.985814]  ? rcu_is_watching+0x19/0xc0
[   62.986256]  ? trace_irq_enable+0xe1/0x120
[   62.986726]  ? do_task_dead+0x4a/0x110
[   62.987146]  do_task_dead+0xe0/0x110
[   62.987555]  make_task_dead+0x384/0x3c0
[   62.987994]  rewind_stack_and_make_dead+0x16/0x20
[   62.988521] RIP: 0033:0x7f17bd43ee5d
[   62.988920] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   62.989584] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.990398] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   62.991157] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.991920] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   62.992683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   62.993427] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   62.994162]  </TASK>
[   62.994449] BUG: scheduling while atomic: repro/23884/0x00000000
[   62.995068] INFO: lockdep is turned off.
[   62.995494] Modules linked in:
[   62.995778] Preemption disabled at:
[   62.995784] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   62.996509] CPU: 1 UID: 0 PID: 23884 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   62.997236] Tainted: [D]=DIE, [W]=WARN
[   62.997549] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.998445] Call Trace:
[   62.998656]  <TASK>
[   62.998845]  dump_stack_lvl+0x121/0x150
[   62.999174]  ? do_task_dead+0x28/0x110
[   62.999494]  dump_stack+0x19/0x20
[   62.999786]  __schedule_bug+0x12d/0x180
[   63.000120]  __schedule+0x2401/0x33a0
[   63.000438]  ? do_task_dead+0xa8/0x110
[   63.000751]  ? rcu_is_watching+0x19/0xc0
[   63.001089]  ? lock_release+0x592/0x870
[   63.001409]  ? __pfx___schedule+0x10/0x10
[   63.001739]  ? debug_smp_processor_id+0x20/0x30
[   63.002105]  ? rcu_is_watching+0x19/0xc0
[   63.002427]  ? trace_irq_enable+0xe1/0x120
[   63.002761]  ? do_task_dead+0x4a/0x110
[   63.003058]  do_task_dead+0xe0/0x110
[   63.003352]  make_task_dead+0x384/0x3c0
[   63.003678]  rewind_stack_and_make_dead+0x16/0x20
[   63.004053] RIP: 0033:0x7f17bd43ee5d
[   63.004345] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.004817] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.005397] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.005937] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.006484] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.007012] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.007523] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.008041]  </TASK>
[   63.504467] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#141] PREEMPT SMP KASAN NOPTI
[   63.505609] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.506324] CPU: 0 UID: 0 PID: 24276 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   63.507576] Tainted: [D]=DIE, [W]=WARN
[   63.507952] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.508981] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.509537] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.511630] RSP: 0018:ffff888011ddf7d8 EFLAGS: 00010202
[   63.512121] RAX: dffffc0000000000 RBX: ffffea0000aad940 RCX: ffffffff81bbb789
[   63.512782] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aad950
[   63.513443] RBP: ffff888011ddf7f8 R08: 0000000000000000 R09: ffffed1002ce26d8
[   63.514087] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   63.514746] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880167136c0
[   63.515402] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   63.516166] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.516723] CR2: 00007f17bd5fca50 CR3: 000000002a89e001 CR4: 0000000000770ef0
[   63.517753] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.518437] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.519096] PKRU: 55555554
[   63.519366] Call Trace:
[   63.519611]  <TASK>
[   63.519828]  ? show_regs+0x6d/0x80
[   63.520184]  ? die_addr+0x45/0xb0
[   63.520524]  ? exc_general_protection+0x1ae/0x340
[   63.520987]  ? asm_exc_general_protection+0x2b/0x30
[   63.521478]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.521968]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.522460]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.522972]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.523462]  zap_huge_pmd+0x48e/0xd40
[   63.523839]  unmap_page_range+0x1ad6/0x4360
[   63.524251]  ? update_stack_state+0x2d9/0x610
[   63.524721]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.525216]  ? __pfx_unmap_page_range+0x10/0x10
[   63.525668]  unmap_single_vma+0x1ac/0x2d0
[   63.526072]  unmap_vmas+0x210/0x470
[   63.526443]  ? __pfx_unmap_vmas+0x10/0x10
[   63.526851]  ? __pfx_lock_release+0x10/0x10
[   63.527271]  ? lock_release+0x592/0x870
[   63.527650]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   63.528123]  ? __pfx_lock_release+0x10/0x10
[   63.528553]  ? mlock_drain_local+0x27f/0x4b0
[   63.528988]  exit_mmap+0x19e/0xb10
[   63.529408]  ? __pfx_exit_mmap+0x10/0x10
[   63.530019]  ? debug_smp_processor_id+0x20/0x30
[   63.530511]  ? trace_hardirqs_on+0x51/0x60
[   63.530923]  ? kasan_quarantine_put+0xa2/0x200
[   63.531378]  ? __khugepaged_exit+0x266/0x4c0
[   63.531806]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.532325]  __mmput+0xde/0x3a0
[   63.532648]  mmput+0x74/0x90
[   63.532950]  do_exit+0xa03/0x29f0
[   63.533292]  ? trace_hardirqs_on+0x51/0x60
[   63.533696]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.534300]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.534791]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.535275]  ? __pfx_do_exit+0x10/0x10
[   63.535659]  ? __audit_syscall_entry+0x39c/0x500
[   63.536112]  __x64_sys_exit+0x50/0x60
[   63.536495]  x64_sys_call+0x20c9/0x20d0
[   63.536873]  do_syscall_64+0x6d/0x140
[   63.537256]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.537965] RIP: 0033:0x7f17bd43ee5d
[   63.538462] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.539039] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.539746] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.540410] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.541054] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.541709] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.542385] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.543048]  </TASK>
[   63.543290] Modules linked in:
[   63.543730] ---[ end trace 0000000000000000 ]---
[   63.544172] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.544732] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.546459] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   63.546968] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   63.547717] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   63.548396] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   63.549250] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.550186] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   63.551043] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   63.552109] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.552825] CR2: 00007f17bd5fca50 CR3: 000000002a89e001 CR4: 0000000000770ef0
[   63.553869] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.554746] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.555700] PKRU: 55555554
[   63.556049] note: repro[24276] exited with preempt_count 1
[   63.556715] Fixing recursive fault but reboot is needed!
[   63.557383] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24276
[   63.558592] caller is debug_smp_processor_id+0x20/0x30
[   63.559247] CPU: 0 UID: 0 PID: 24276 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   63.560439] Tainted: [D]=DIE, [W]=WARN
[   63.560877] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.562154] Call Trace:
[   63.562455]  <TASK>
[   63.562716]  dump_stack_lvl+0x121/0x150
[   63.563181]  dump_stack+0x19/0x20
[   63.563617]  check_preemption_disabled+0x168/0x180
[   63.564216]  debug_smp_processor_id+0x20/0x30
[   63.564747]  __schedule+0xa0/0x33a0
[   63.565174]  ? do_task_dead+0xa8/0x110
[   63.565629]  ? debug_smp_processor_id+0x20/0x30
[   63.566173]  ? rcu_is_watching+0x19/0xc0
[   63.566647]  ? lock_release+0x592/0x870
[   63.567106]  ? __pfx___schedule+0x10/0x10
[   63.567597]  ? debug_smp_processor_id+0x20/0x30
[   63.568152]  ? rcu_is_watching+0x19/0xc0
[   63.568625]  ? trace_irq_enable+0xe1/0x120
[   63.569095]  ? do_task_dead+0x4a/0x110
[   63.569523]  do_task_dead+0xe0/0x110
[   63.569934]  make_task_dead+0x384/0x3c0
[   63.570396]  rewind_stack_and_make_dead+0x16/0x20
[   63.570926] RIP: 0033:0x7f17bd43ee5d
[   63.571333] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.571995] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.572823] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.573830] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.574565] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.575297] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.576025] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.576771]  </TASK>
[   63.577175] BUG: scheduling while atomic: repro/24276/0x00000000
[   63.577979] INFO: lockdep is turned off.
[   63.578399] Modules linked in:
[   63.578731] Preemption disabled at:
[   63.578737] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   63.579689] CPU: 0 UID: 0 PID: 24276 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   63.580641] Tainted: [D]=DIE, [W]=WARN
[   63.581035] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.582182] Call Trace:
[   63.582450]  <TASK>
[   63.582680]  dump_stack_lvl+0x121/0x150
[   63.583080]  ? do_task_dead+0x28/0x110
[   63.583653]  dump_stack+0x19/0x20
[   63.584074]  __schedule_bug+0x12d/0x180
[   63.584484]  __schedule+0x2401/0x33a0
[   63.584869]  ? do_task_dead+0xa8/0x110
[   63.585256]  ? rcu_is_watching+0x19/0xc0
[   63.585670]  ? lock_release+0x592/0x870
[   63.586067]  ? __pfx___schedule+0x10/0x10
[   63.586481]  ? debug_smp_processor_id+0x20/0x30
[   63.586929]  ? rcu_is_watching+0x19/0xc0
[   63.587323]  ? trace_irq_enable+0xe1/0x120
[   63.587732]  ? do_task_dead+0x4a/0x110
[   63.588104]  do_task_dead+0xe0/0x110
[   63.588473]  make_task_dead+0x384/0x3c0
[   63.588860]  rewind_stack_and_make_dead+0x16/0x20
[   63.589347] RIP: 0033:0x7f17bd43ee5d
[   63.589861] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.590512] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.591224] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.591898] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.592542] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.593179] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.593828] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.594478]  </TASK>
[   63.807333] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#142] PREEMPT SMP KASAN NOPTI
[   63.808793] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.809792] CPU: 0 UID: 0 PID: 24444 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   63.810895] Tainted: [D]=DIE, [W]=WARN
[   63.811360] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.812698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.813415] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.815673] RSP: 0018:ffff88802149f7d8 EFLAGS: 00010202
[   63.816314] RAX: dffffc0000000000 RBX: ffffea00003c1680 RCX: ffffffff81bbb789
[   63.817158] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003c1690
[   63.818176] RBP: ffff88802149f7f8 R08: 0000000000000000 R09: ffffed1002ce26f0
[   63.819026] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   63.819879] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888016713780
[   63.820726] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   63.821650] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.822213] CR2: 00007f17bd70ffa8 CR3: 000000002ab54004 CR4: 0000000000770ef0
[   63.823228] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.823919] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.824583] PKRU: 55555554
[   63.824857] Call Trace:
[   63.825095]  <TASK>
[   63.825315]  ? show_regs+0x6d/0x80
[   63.825671]  ? die_addr+0x45/0xb0
[   63.826008]  ? exc_general_protection+0x1ae/0x340
[   63.826475]  ? asm_exc_general_protection+0x2b/0x30
[   63.826959]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.827466]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.827973]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.828515]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.829014]  zap_huge_pmd+0x48e/0xd40
[   63.829390]  unmap_page_range+0x1ad6/0x4360
[   63.829809]  ? update_stack_state+0x2d9/0x610
[   63.830258]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.830751]  ? __pfx_unmap_page_range+0x10/0x10
[   63.831200]  unmap_single_vma+0x1ac/0x2d0
[   63.831609]  unmap_vmas+0x210/0x470
[   63.831984]  ? __pfx_unmap_vmas+0x10/0x10
[   63.832403]  ? __pfx_lock_release+0x10/0x10
[   63.832811]  ? lock_release+0x592/0x870
[   63.833191]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   63.833673]  ? __pfx_lock_release+0x10/0x10
[   63.834112]  ? mlock_drain_local+0x27f/0x4b0
[   63.834549]  exit_mmap+0x19e/0xb10
[   63.834895]  ? __pfx_exit_mmap+0x10/0x10
[   63.835279]  ? debug_smp_processor_id+0x20/0x30
[   63.835715]  ? trace_hardirqs_on+0x51/0x60
[   63.836116]  ? kasan_quarantine_put+0xa2/0x200
[   63.836545]  ? __khugepaged_exit+0x266/0x4c0
[   63.837134]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.837816]  __mmput+0xde/0x3a0
[   63.838136]  mmput+0x74/0x90
[   63.838441]  do_exit+0xa03/0x29f0
[   63.838788]  ? trace_hardirqs_on+0x51/0x60
[   63.839182]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.839757]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.840206]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.840666]  ? __pfx_do_exit+0x10/0x10
[   63.841017]  ? __audit_syscall_entry+0x39c/0x500
[   63.841429]  __x64_sys_exit+0x50/0x60
[   63.841761]  x64_sys_call+0x20c9/0x20d0
[   63.842113]  do_syscall_64+0x6d/0x140
[   63.842450]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.842944] RIP: 0033:0x7f17bd43ee5d
[   63.843464] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.844143] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.844788] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.845391] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.845989] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.846736] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.847551] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.848428]  </TASK>
[   63.848673] Modules linked in:
[   63.849170] ---[ end trace 0000000000000000 ]---
[   63.849670] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.850159] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.851707] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   63.852148] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   63.852756] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   63.853358] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   63.853936] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.854526] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   63.855126] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   63.855810] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.856292] CR2: 00007f17bd70ffa8 CR3: 000000002ab54004 CR4: 0000000000770ef0
[   63.856892] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.857464] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.858003] PKRU: 55555554
[   63.858220] note: repro[24444] exited with preempt_count 1
[   63.858640] Fixing recursive fault but reboot is needed!
[   63.859039] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24444
[   63.859745] caller is debug_smp_processor_id+0x20/0x30
[   63.860348] CPU: 0 UID: 0 PID: 24444 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   63.861052] Tainted: [D]=DIE, [W]=WARN
[   63.861335] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.862134] Call Trace:
[   63.862328]  <TASK>
[   63.862497]  dump_stack_lvl+0x121/0x150
[   63.862800]  dump_stack+0x19/0x20
[   63.863060]  check_preemption_disabled+0x168/0x180
[   63.863445]  debug_smp_processor_id+0x20/0x30
[   63.863785]  __schedule+0xa0/0x33a0
[   63.864063]  ? do_task_dead+0xa8/0x110
[   63.864355]  ? debug_smp_processor_id+0x20/0x30
[   63.864801]  ? rcu_is_watching+0x19/0xc0
[   63.865300]  ? lock_release+0x592/0x870
[   63.865685]  ? __pfx___schedule+0x10/0x10
[   63.866256]  ? debug_smp_processor_id+0x20/0x30
[   63.866807]  ? rcu_is_watching+0x19/0xc0
[   63.867186]  ? trace_irq_enable+0xe1/0x120
[   63.867588]  ? do_task_dead+0x4a/0x110
[   63.867946]  do_task_dead+0xe0/0x110
[   63.868293]  make_task_dead+0x384/0x3c0
[   63.868667]  rewind_stack_and_make_dead+0x16/0x20
[   63.869109] RIP: 0033:0x7f17bd43ee5d
[   63.869452] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.870007] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.870696] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.871344] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.871961] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.872864] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.873486] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.874114]  </TASK>
[   63.874434] BUG: scheduling while atomic: repro/24444/0x00000000
[   63.874964] INFO: lockdep is turned off.
[   63.875317] Modules linked in:
[   63.875739] Preemption disabled at:
[   63.875745] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   63.876536] CPU: 0 UID: 0 PID: 24444 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   63.877341] Tainted: [D]=DIE, [W]=WARN
[   63.877666] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.878755] Call Trace:
[   63.879065]  <TASK>
[   63.879257]  dump_stack_lvl+0x121/0x150
[   63.879605]  ? do_task_dead+0x28/0x110
[   63.879936]  dump_stack+0x19/0x20
[   63.880240]  __schedule_bug+0x12d/0x180
[   63.880589]  __schedule+0x2401/0x33a0
[   63.880917]  ? do_task_dead+0xa8/0x110
[   63.881246]  ? rcu_is_watching+0x19/0xc0
[   63.881591]  ? lock_release+0x592/0x870
[   63.881920]  ? __pfx___schedule+0x10/0x10
[   63.882265]  ? debug_smp_processor_id+0x20/0x30
[   63.882657]  ? rcu_is_watching+0x19/0xc0
[   63.882995]  ? trace_irq_enable+0xe1/0x120
[   63.883349]  ? do_task_dead+0x4a/0x110
[   63.883669]  do_task_dead+0xe0/0x110
[   63.883977]  make_task_dead+0x384/0x3c0
[   63.884326]  rewind_stack_and_make_dead+0x16/0x20
[   63.884877] RIP: 0033:0x7f17bd43ee5d
[   63.885294] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   63.885794] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.886413] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   63.886988] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.887566] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   63.888138] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   63.888705] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   63.889267]  </TASK>
[   64.092413] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#143] PREEMPT SMP KASAN NOPTI
[   64.094818] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.096348] CPU: 0 UID: 0 PID: 24615 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   64.098152] Tainted: [D]=DIE, [W]=WARN
[   64.098941] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.101120] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.102314] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.105802] RSP: 0018:ffff88801dc0f7d8 EFLAGS: 00010202
[   64.106831] RAX: dffffc0000000000 RBX: ffffea00009ca140 RCX: ffffffff81bbb789
[   64.108114] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009ca150
[   64.109414] RBP: ffff88801dc0f7f8 R08: 0000000000000000 R09: ffffed100222fef0
[   64.110736] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.111932] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801117f780
[   64.113193] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   64.114226] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.114917] CR2: 0000000000404118 CR3: 0000000039466005 CR4: 0000000000770ef0
[   64.115766] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.116616] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.117462] PKRU: 55555554
[   64.117798] Call Trace:
[   64.118103]  <TASK>
[   64.118378]  ? show_regs+0x6d/0x80
[   64.118816]  ? die_addr+0x45/0xb0
[   64.119243]  ? exc_general_protection+0x1ae/0x340
[   64.119839]  ? asm_exc_general_protection+0x2b/0x30
[   64.120452]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.121080]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.121715]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.122347]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.122975]  zap_huge_pmd+0x48e/0xd40
[   64.123445]  unmap_page_range+0x1ad6/0x4360
[   64.123968]  ? update_stack_state+0x2d9/0x610
[   64.124531]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.125148]  ? __pfx_unmap_page_range+0x10/0x10
[   64.125724]  unmap_single_vma+0x1ac/0x2d0
[   64.126230]  unmap_vmas+0x210/0x470
[   64.126681]  ? __pfx_unmap_vmas+0x10/0x10
[   64.127181]  ? __pfx_lock_release+0x10/0x10
[   64.127700]  ? lock_release+0x592/0x870
[   64.128180]  ? mas_next_slot+0x133a/0x1a50
[   64.128692]  ? __pfx_lock_release+0x10/0x10
[   64.129216]  ? mlock_drain_local+0x27f/0x4b0
[   64.129755]  exit_mmap+0x19e/0xb10
[   64.130194]  ? __pfx_exit_mmap+0x10/0x10
[   64.130689]  ? debug_smp_processor_id+0x20/0x30
[   64.131260]  ? trace_hardirqs_on+0x51/0x60
[   64.131781]  ? kasan_quarantine_put+0xa2/0x200
[   64.132341]  ? __khugepaged_exit+0x266/0x4c0
[   64.132881]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.133544]  __mmput+0xde/0x3a0
[   64.133950]  mmput+0x74/0x90
[   64.134328]  do_exit+0xa03/0x29f0
[   64.134755]  ? trace_hardirqs_on+0x51/0x60
[   64.135267]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.136038]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.136636]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.137243]  ? __pfx_do_exit+0x10/0x10
[   64.137722]  ? __audit_syscall_entry+0x39c/0x500
[   64.138300]  __x64_sys_exit+0x50/0x60
[   64.138765]  x64_sys_call+0x20c9/0x20d0
[   64.139245]  do_syscall_64+0x6d/0x140
[   64.139715]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.140343] RIP: 0033:0x7f17bd43ee5d
[   64.140787] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   64.141523] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.142424] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   64.143268] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.144120] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   64.144966] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   64.145813] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   64.146671]  </TASK>
[   64.146951] Modules linked in:
[   64.147490] ---[ end trace 0000000000000000 ]---
[   64.148055] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.148933] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.151112] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   64.151837] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   64.152694] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   64.153544] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   64.154395] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.154740] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#144] PREEMPT SMP KASAN NOPTI
[   64.155238] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   64.156324] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.156342] CPU: 1 UID: 0 PID: 24631 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   64.156371] Tainted: [D]=DIE, [W]=WARN
[   64.156378] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.156390] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.157236] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   64.157909] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.158920] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.159262] RSP: 0018:ffff88801382f7d8 EFLAGS: 00010202
[   64.160333] CR2: 0000000000404118 CR3: 0000000039466005 CR4: 0000000000770ef0
[   64.160830] 
[   64.161585] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.163251] RAX: dffffc0000000000 RBX: ffffea0000aa82c0 RCX: ffffffff81bbb789
[   64.163797] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.164374] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aa82d0
[   64.165026] PKRU: 55555554
[   64.165176] RBP: ffff88801382f7f8 R08: 0000000000000000 R09: ffffed10022c09ec
[   64.165189] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.165849] note: repro[24615] exited with preempt_count 1
[   64.166567] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011604f60
[   64.167218] Fixing recursive fault but reboot is needed!
[   64.167886] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   64.172895] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.173440] CR2: 00007f469c6bb000 CR3: 000000002735a002 CR4: 0000000000770ef0
[   64.174092] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.174750] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.175422] PKRU: 55555554
[   64.175708] Call Trace:
[   64.176094]  <TASK>
[   64.176439]  ? show_regs+0x6d/0x80
[   64.176866]  ? die_addr+0x45/0xb0
[   64.177215]  ? exc_general_protection+0x1ae/0x340
[   64.177693]  ? asm_exc_general_protection+0x2b/0x30
[   64.178174]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.178674]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.179164]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.179659]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.180339]  zap_huge_pmd+0x48e/0xd40
[   64.180859]  unmap_page_range+0x1ad6/0x4360
[   64.181331]  ? update_stack_state+0x2d9/0x610
[   64.182179]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.183091]  ? __pfx_unmap_page_range+0x10/0x10
[   64.183594]  unmap_single_vma+0x1ac/0x2d0
[   64.184045]  unmap_vmas+0x210/0x470
[   64.184727]  ? __pfx_unmap_vmas+0x10/0x10
[   64.185132]  ? __pfx_lock_release+0x10/0x10
[   64.185935]  ? lock_release+0x592/0x870
[   64.186343]  ? mas_next_slot+0x133a/0x1a50
[   64.187135]  ? __pfx_lock_release+0x10/0x10
[   64.187577]  ? mlock_drain_local+0x27f/0x4b0
[   64.188284]  exit_mmap+0x19e/0xb10
[   64.188650]  ? __pfx_exit_mmap+0x10/0x10
[   64.189048]  ? debug_smp_processor_id+0x20/0x30
[   64.189977]  ? trace_hardirqs_on+0x51/0x60
[   64.190407]  ? kasan_quarantine_put+0xa2/0x200
[   64.191390]  ? __khugepaged_exit+0x266/0x4c0
[   64.191953]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.192798]  __mmput+0xde/0x3a0
[   64.193235]  mmput+0x74/0x90
[   64.193709]  do_exit+0xa03/0x29f0
[   64.194139]  ? trace_hardirqs_on+0x51/0x60
[   64.194662]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.195435]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.196034]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.196802]  ? __pfx_do_exit+0x10/0x10
[   64.197290]  ? __audit_syscall_entry+0x39c/0x500
[   64.197875]  __x64_sys_exit+0x50/0x60
[   64.198352]  x64_sys_call+0x20c9/0x20d0
[   64.198834]  do_syscall_64+0x6d/0x140
[   64.199308]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.199937] RIP: 0033:0x7f17bd43ee5d
[   64.200497] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   64.201328] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.202230] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   64.203083] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.203932] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   64.204782] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   64.205669] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   64.206531]  </TASK>
[   64.206814] Modules linked in:
[   64.207438] ---[ end trace 0000000000000000 ]---
[   64.208011] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.208723] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.210950] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   64.211645] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   64.212505] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   64.213504] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   64.214357] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.215205] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   64.216076] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   64.217046] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.217839] CR2: 00007f469c6bb000 CR3: 000000002735a002 CR4: 0000000000770ef0
[   64.218698] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.219580] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.220452] PKRU: 55555554
[   64.220789] note: repro[24631] exited with preempt_count 1
[   64.221350] Fixing recursive fault but reboot is needed!
[   64.221864] BUG: scheduling while atomic: repro/24631/0x00000000
[   64.222434] INFO: lockdep is turned off.
[   64.222810] Modules linked in:
[   64.223119] Preemption disabled at:
[   64.223126] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   64.224222] CPU: 1 UID: 0 PID: 24631 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   64.225267] Tainted: [D]=DIE, [W]=WARN
[   64.225649] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.226695] Call Trace:
[   64.226939]  <TASK>
[   64.227156]  dump_stack_lvl+0x121/0x150
[   64.227545]  ? do_task_dead+0x28/0x110
[   64.227911]  dump_stack+0x19/0x20
[   64.228255]  __schedule_bug+0x12d/0x180
[   64.228648]  __schedule+0x2401/0x33a0
[   64.229016]  ? do_task_dead+0xa8/0x110
[   64.229399]  ? rcu_is_watching+0x19/0xc0
[   64.229802]  ? lock_release+0x592/0x870
[   64.230411]  ? __pfx___schedule+0x10/0x10
[   64.230972]  ? debug_smp_processor_id+0x20/0x30
[   64.231445]  ? rcu_is_watching+0x19/0xc0
[   64.231840]  ? trace_irq_enable+0xe1/0x120
[   64.232256]  ? do_task_dead+0x4a/0x110
[   64.232633]  do_task_dead+0xe0/0x110
[   64.232983]  make_task_dead+0x384/0x3c0
[   64.233379]  rewind_stack_and_make_dead+0x16/0x20
[   64.233846] RIP: 0033:0x7f17bd43ee5d
[   64.234304] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   64.235124] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.235837] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   64.236516] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.237173] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   64.237863] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   64.238550] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   64.239416]  </TASK>
[   64.410874] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#145] PREEMPT SMP KASAN NOPTI
[   64.412034] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.412771] CPU: 1 UID: 0 PID: 24750 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   64.413643] Tainted: [D]=DIE, [W]=WARN
[   64.413998] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.415049] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.415638] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.417305] RSP: 0018:ffff8880396b77d8 EFLAGS: 00010202
[   64.417807] RAX: dffffc0000000000 RBX: ffffea00006ae140 RCX: ffffffff81bbb789
[   64.418461] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00006ae150
[   64.419119] RBP: ffff8880396b77f8 R08: 0000000000000000 R09: ffffed10020bae84
[   64.419775] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.420423] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880105d7420
[   64.421077] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   64.421837] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.422402] CR2: 00007fffef6677b8 CR3: 000000001dcdc004 CR4: 0000000000770ef0
[   64.423071] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.423741] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.424399] PKRU: 55555554
[   64.424661] Call Trace:
[   64.424900]  <TASK>
[   64.425120]  ? show_regs+0x6d/0x80
[   64.425470]  ? die_addr+0x45/0xb0
[   64.425817]  ? exc_general_protection+0x1ae/0x340
[   64.426284]  ? asm_exc_general_protection+0x2b/0x30
[   64.426762]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.427268]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.427802]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.428312]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.428803]  zap_huge_pmd+0x48e/0xd40
[   64.429176]  unmap_page_range+0x1ad6/0x4360
[   64.429590]  ? update_stack_state+0x2d9/0x610
[   64.430034]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.430523]  ? __pfx_unmap_page_range+0x10/0x10
[   64.430977]  unmap_single_vma+0x1ac/0x2d0
[   64.431378]  unmap_vmas+0x210/0x470
[   64.431731]  ? __pfx_unmap_vmas+0x10/0x10
[   64.432119]  ? __pfx_lock_release+0x10/0x10
[   64.432524]  ? lock_release+0x592/0x870
[   64.432896]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.433376]  ? __pfx_lock_release+0x10/0x10
[   64.433795]  ? mlock_drain_local+0x27f/0x4b0
[   64.434212]  exit_mmap+0x19e/0xb10
[   64.434564]  ? __pfx_exit_mmap+0x10/0x10
[   64.434966]  ? debug_smp_processor_id+0x20/0x30
[   64.435420]  ? trace_hardirqs_on+0x51/0x60
[   64.435822]  ? kasan_quarantine_put+0xa2/0x200
[   64.436254]  ? __khugepaged_exit+0x266/0x4c0
[   64.436702]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.437216]  __mmput+0xde/0x3a0
[   64.437541]  mmput+0x74/0x90
[   64.437836]  do_exit+0xa03/0x29f0
[   64.438174]  ? trace_hardirqs_on+0x51/0x60
[   64.438591]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.439186]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.439657]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.440133]  ? __pfx_do_exit+0x10/0x10
[   64.440507]  ? __audit_syscall_entry+0x39c/0x500
[   64.440957]  __x64_sys_exit+0x50/0x60
[   64.441328]  x64_sys_call+0x20c9/0x20d0
[   64.441703]  do_syscall_64+0x6d/0x140
[   64.442066]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.442551] RIP: 0033:0x7f17bd43ee5d
[   64.442905] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   64.443472] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.444172] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   64.444823] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.445477] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   64.446148] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   64.446829] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   64.447539]  </TASK>
[   64.447762] Modules linked in:
[   64.448228] ---[ end trace 0000000000000000 ]---
[   64.448679] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.449232] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.450893] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   64.451493] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   64.452119] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   64.452791] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   64.453436] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.454127] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   64.454816] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   64.455842] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.456383] CR2: 00007fffef6677b8 CR3: 000000001dcdc004 CR4: 0000000000770ef0
[   64.457238] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.457919] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.458742] PKRU: 55555554
[   64.459001] note: repro[24750] exited with preempt_count 1
[   64.459540] Fixing recursive fault but reboot is needed!
[   64.460239] BUG: scheduling while atomic: repro/24750/0x00000000
[   64.460811] INFO: lockdep is turned off.
[   64.461193] Modules linked in:
[   64.461623] Preemption disabled at:
[   64.461630] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   64.462487] CPU: 1 UID: 0 PID: 24750 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   64.463496] Tainted: [D]=DIE, [W]=WARN
[   64.463851] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.465309] Call Trace:
[   64.465743]  <TASK>
[   64.466055]  dump_stack_lvl+0x121/0x150
[   64.466550]  ? do_task_dead+0x28/0x110
[   64.467135]  dump_stack+0x19/0x20
[   64.467566]  __schedule_bug+0x12d/0x180
[   64.468055]  __schedule+0x2401/0x33a0
[   64.468687]  ? do_task_dead+0xa8/0x110
[   64.469157]  ? rcu_is_watching+0x19/0xc0
[   64.469681]  ? lock_release+0x592/0x870
[   64.470220]  ? __pfx___schedule+0x10/0x10
[   64.470731]  ? debug_smp_processor_id+0x20/0x30
[   64.471452]  ? rcu_is_watching+0x19/0xc0
[   64.471944]  ? trace_irq_enable+0xe1/0x120
[   64.472465]  ? do_task_dead+0x4a/0x110
[   64.472932]  do_task_dead+0xe0/0x110
[   64.473551]  make_task_dead+0x384/0x3c0
[   64.474084]  rewind_stack_and_make_dead+0x16/0x20
[   64.474672] RIP: 0033:0x7f17bd43ee5d
[   64.475117] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   64.475985] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.476890] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   64.477801] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.478725] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   64.479574] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   64.480499] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   64.481449]  </TASK>
[   65.608875] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#146] PREEMPT SMP KASAN NOPTI
[   65.609997] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.610707] CPU: 1 UID: 0 PID: 25643 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   65.611557] Tainted: [D]=DIE, [W]=WARN
[   65.611930] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.612971] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.613537] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.615229] RSP: 0018:ffff8880395e77d8 EFLAGS: 00010202
[   65.615719] RAX: dffffc0000000000 RBX: ffffea00009c1200 RCX: ffffffff81bbb789
[   65.616382] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c1210
[   65.617178] RBP: ffff8880395e77f8 R08: 0000000000000000 R09: ffffed10040aaa6c
[   65.618027] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   65.618984] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888020555360
[   65.619836] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.620793] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.621487] CR2: 00007f17bd5fca50 CR3: 0000000039446002 CR4: 0000000000770ef0
[   65.622339] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.623246] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.624103] PKRU: 55555554
[   65.624447] Call Trace:
[   65.624754]  <TASK>
[   65.625026]  ? show_regs+0x6d/0x80
[   65.625473]  ? die_addr+0x45/0xb0
[   65.625907]  ? exc_general_protection+0x1ae/0x340
[   65.626626]  ? asm_exc_general_protection+0x2b/0x30
[   65.627291]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.627925]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.628563]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.629197]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.629835]  zap_huge_pmd+0x48e/0xd40
[   65.630309]  unmap_page_range+0x1ad6/0x4360
[   65.630831]  ? __pfx_lock_release+0x10/0x10
[   65.631358]  ? do_raw_spin_trylock+0xbf/0x190
[   65.631907]  ? __kasan_check_read+0x15/0x20
[   65.632444]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.633174]  ? __pfx_unmap_page_range+0x10/0x10
[   65.633757]  unmap_single_vma+0x1ac/0x2d0
[   65.634268]  unmap_vmas+0x210/0x470
[   65.634731]  ? __pfx_unmap_vmas+0x10/0x10
[   65.635234]  ? __pfx_lock_release+0x10/0x10
[   65.635761]  ? lock_release+0x592/0x870
[   65.636245]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.636972]  ? __pfx_lock_release+0x10/0x10
[   65.637546]  ? mlock_drain_local+0x27f/0x4b0
[   65.638088]  exit_mmap+0x19e/0xb10
[   65.638536]  ? __pfx_exit_mmap+0x10/0x10
[   65.639032]  ? debug_smp_processor_id+0x20/0x30
[   65.639614]  ? trace_hardirqs_on+0x51/0x60
[   65.640131]  ? kasan_quarantine_put+0xa2/0x200
[   65.640693]  ? __khugepaged_exit+0x266/0x4c0
[   65.641230]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.641897]  __mmput+0xde/0x3a0
[   65.642309]  mmput+0x74/0x90
[   65.642687]  do_exit+0xa03/0x29f0
[   65.643194]  ? trace_hardirqs_on+0x51/0x60
[   65.643765]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.644540]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.645140]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.645755]  ? __pfx_do_exit+0x10/0x10
[   65.646235]  ? __audit_syscall_entry+0x39c/0x500
[   65.646820]  __x64_sys_exit+0x50/0x60
[   65.647392]  x64_sys_call+0x20c9/0x20d0
[   65.647906]  do_syscall_64+0x6d/0x140
[   65.648379]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.649006] RIP: 0033:0x7f17bd43ee5d
[   65.649457] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   65.650188] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.651096] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   65.652053] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.652902] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   65.653754] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   65.654603] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   65.655465]  </TASK>
[   65.655795] Modules linked in:
[   65.656382] ---[ end trace 0000000000000000 ]---
[   65.656955] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.657670] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.659984] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   65.660894] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   65.661775] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   65.662617] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   65.663749] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.664570] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   65.665386] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.666413] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.667072] CR2: 00007f17bd5fca50 CR3: 0000000039446002 CR4: 0000000000770ef0
[   65.668070] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.669251] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.670128] PKRU: 55555554
[   65.670452] note: repro[25643] exited with preempt_count 1
[   65.671145] Fixing recursive fault but reboot is needed!
[   65.671803] check_preemption_disabled: 3 callbacks suppressed
[   65.671815] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25643
[   65.673408] caller is debug_smp_processor_id+0x20/0x30
[   65.674050] CPU: 1 UID: 0 PID: 25643 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   65.675063] Tainted: [D]=DIE, [W]=WARN
[   65.675532] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.676842] Call Trace:
[   65.677124]  <TASK>
[   65.677376]  dump_stack_lvl+0x121/0x150
[   65.677812]  dump_stack+0x19/0x20
[   65.678180]  check_preemption_disabled+0x168/0x180
[   65.678703]  debug_smp_processor_id+0x20/0x30
[   65.679407]  __schedule+0xa0/0x33a0
[   65.679896]  ? do_task_dead+0xa8/0x110
[   65.680310]  ? debug_smp_processor_id+0x20/0x30
[   65.680801]  ? rcu_is_watching+0x19/0xc0
[   65.681227]  ? lock_release+0x592/0x870
[   65.681648]  ? __pfx___schedule+0x10/0x10
[   65.682088]  ? debug_smp_processor_id+0x20/0x30
[   65.682584]  ? rcu_is_watching+0x19/0xc0
[   65.683010]  ? trace_irq_enable+0xe1/0x120
[   65.683460]  ? do_task_dead+0x4a/0x110
[   65.683852]  do_task_dead+0xe0/0x110
[   65.684222]  make_task_dead+0x384/0x3c0
[   65.684635]  rewind_stack_and_make_dead+0x16/0x20
[   65.685116] RIP: 0033:0x7f17bd43ee5d
[   65.685661] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   65.686364] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.687106] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   65.687805] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.688505] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   65.689200] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   65.689895] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   65.690602]  </TASK>
[   65.690900] BUG: scheduling while atomic: repro/25643/0x00000000
[   65.691588] INFO: lockdep is turned off.
[   65.692141] Modules linked in:
[   65.692455] Preemption disabled at:
[   65.692461] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   65.693308] CPU: 1 UID: 0 PID: 25643 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   65.694167] Tainted: [D]=DIE, [W]=WARN
[   65.694531] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.695584] Call Trace:
[   65.695825]  <TASK>
[   65.696030]  dump_stack_lvl+0x121/0x150
[   65.696399]  ? do_task_dead+0x28/0x110
[   65.696755]  dump_stack+0x19/0x20
[   65.697077]  __schedule_bug+0x12d/0x180
[   65.697452]  __schedule+0x2401/0x33a0
[   65.697957]  ? do_task_dead+0xa8/0x110
[   65.698440]  ? rcu_is_watching+0x19/0xc0
[   65.698816]  ? lock_release+0x592/0x870
[   65.699181]  ? __pfx___schedule+0x10/0x10
[   65.699573]  ? debug_smp_processor_id+0x20/0x30
[   65.700004]  ? rcu_is_watching+0x19/0xc0
[   65.700384]  ? trace_irq_enable+0xe1/0x120
[   65.700776]  ? do_task_dead+0x4a/0x110
[   65.701123]  do_task_dead+0xe0/0x110
[   65.701453]  make_task_dead+0x384/0x3c0
[   65.701808]  rewind_stack_and_make_dead+0x16/0x20
[   65.702230] RIP: 0033:0x7f17bd43ee5d
[   65.702532] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   65.702942] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.703448] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   65.703917] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.704615] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   65.705080] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   65.705559] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   65.706021]  </TASK>
[   65.750744] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#147] PREEMPT SMP KASAN NOPTI
[   65.751597] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.752264] CPU: 1 UID: 0 PID: 25711 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   65.753411] Tainted: [D]=DIE, [W]=WARN
[   65.753756] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.754770] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.755309] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.756941] RSP: 0018:ffff88802ab0f7d8 EFLAGS: 00010202
[   65.757409] RAX: dffffc0000000000 RBX: ffffea00009ca500 RCX: ffffffff81bbb789
[   65.758021] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009ca510
[   65.758640] RBP: ffff88802ab0f7f8 R08: 0000000000000000 R09: ffffed1002666998
[   65.759512] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   65.760125] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013334cc0
[   65.760743] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.761439] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.761944] CR2: 00007f17bd71ebf0 CR3: 00000000395fa003 CR4: 0000000000770ef0
[   65.762563] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.763174] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.763775] PKRU: 55555554
[   65.764011] Call Trace:
[   65.764225]  <TASK>
[   65.764418]  ? show_regs+0x6d/0x80
[   65.764727]  ? die_addr+0x45/0xb0
[   65.765132]  ? exc_general_protection+0x1ae/0x340
[   65.765685]  ? asm_exc_general_protection+0x2b/0x30
[   65.766098]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.766530]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.766957]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.767388]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.767815]  zap_huge_pmd+0x48e/0xd40
[   65.768133]  unmap_page_range+0x1ad6/0x4360
[   65.768487]  ? __pfx_lock_release+0x10/0x10
[   65.768838]  ? do_raw_spin_trylock+0xbf/0x190
[   65.769206]  ? __kasan_check_read+0x15/0x20
[   65.769565]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.769985]  ? __pfx_unmap_page_range+0x10/0x10
[   65.770378]  unmap_single_vma+0x1ac/0x2d0
[   65.770722]  unmap_vmas+0x210/0x470
[   65.771023]  ? __pfx_unmap_vmas+0x10/0x10
[   65.771492]  ? __pfx_lock_release+0x10/0x10
[   65.771935]  ? lock_release+0x592/0x870
[   65.772249]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.772647]  ? __pfx_lock_release+0x10/0x10
[   65.772991]  ? mlock_drain_local+0x27f/0x4b0
[   65.773346]  exit_mmap+0x19e/0xb10
[   65.773635]  ? __pfx_exit_mmap+0x10/0x10
[   65.773958]  ? debug_smp_processor_id+0x20/0x30
[   65.774335]  ? trace_hardirqs_on+0x51/0x60
[   65.774672]  ? kasan_quarantine_put+0xa2/0x200
[   65.775036]  ? __khugepaged_exit+0x266/0x4c0
[   65.775388]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.775804]  __mmput+0xde/0x3a0
[   65.776062]  mmput+0x74/0x90
[   65.776301]  do_exit+0xa03/0x29f0
[   65.776572]  ? trace_hardirqs_on+0x51/0x60
[   65.776897]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.777428]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.777962]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.778367]  ? __pfx_do_exit+0x10/0x10
[   65.778667]  ? __audit_syscall_entry+0x39c/0x500
[   65.779032]  __x64_sys_exit+0x50/0x60
[   65.779331]  x64_sys_call+0x20c9/0x20d0
[   65.779636]  do_syscall_64+0x6d/0x140
[   65.779929]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.780326] RIP: 0033:0x7f17bd43ee5d
[   65.780608] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   65.781071] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.781639] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   65.782167] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.782687] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   65.783201] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   65.783717] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   65.784237]  </TASK>
[   65.784411] Modules linked in:
[   65.784730] ---[ end trace 0000000000000000 ]---
[   65.785222] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.785666] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.786959] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   65.787335] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   65.787890] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   65.788379] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   65.789062] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.789654] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   65.790141] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   65.790692] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.791090] CR2: 00007f17bd71ebf0 CR3: 00000000395fa003 CR4: 0000000000770ef0
[   65.791660] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.792143] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.792614] PKRU: 55555554
[   65.792803] note: repro[25711] exited with preempt_count 1
[   65.793168] Fixing recursive fault but reboot is needed!
[   65.793522] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25711
[   65.794034] caller is debug_smp_processor_id+0x20/0x30
[   65.794383] CPU: 1 UID: 0 PID: 25711 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   65.794975] Tainted: [D]=DIE, [W]=WARN
[   65.795312] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.796141] Call Trace:
[   65.796312]  <TASK>
[   65.796460]  dump_stack_lvl+0x121/0x150
[   65.796724]  dump_stack+0x19/0x20
[   65.796955]  check_preemption_disabled+0x168/0x180
[   65.797287]  debug_smp_processor_id+0x20/0x30
[   65.797594]  __schedule+0xa0/0x33a0
[   65.797836]  ? do_task_dead+0xa8/0x110
[   65.798091]  ? debug_smp_processor_id+0x20/0x30
[   65.798401]  ? rcu_is_watching+0x19/0xc0
[   65.798659]  ? lock_release+0x592/0x870
[   65.798911]  ? __pfx___schedule+0x10/0x10
[   65.799177]  ? debug_smp_processor_id+0x20/0x30
[   65.799478]  ? rcu_is_watching+0x19/0xc0
[   65.799738]  ? trace_irq_enable+0xe1/0x120
[   65.800010]  ? do_task_dead+0x4a/0x110
[   65.800256]  do_task_dead+0xe0/0x110
[   65.800496]  make_task_dead+0x384/0x3c0
[   65.800753]  rewind_stack_and_make_dead+0x16/0x20
[   65.801059] RIP: 0033:0x7f17bd43ee5d
[   65.801378] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   65.801882] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.802348] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   65.802782] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.803216] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   65.803649] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   65.804082] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   65.804521]  </TASK>
[   65.804711] BUG: scheduling while atomic: repro/25711/0x00000000
[   65.805076] INFO: lockdep is turned off.
[   65.805312] Modules linked in:
[   65.805504] Preemption disabled at:
[   65.805507] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   65.806038] CPU: 1 UID: 0 PID: 25711 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   65.806581] Tainted: [D]=DIE, [W]=WARN
[   65.806807] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.807462] Call Trace:
[   65.807611]  <TASK>
[   65.807742]  dump_stack_lvl+0x121/0x150
[   65.807976]  ? do_task_dead+0x28/0x110
[   65.808202]  dump_stack+0x19/0x20
[   65.808411]  __schedule_bug+0x12d/0x180
[   65.808647]  __schedule+0x2401/0x33a0
[   65.808871]  ? do_task_dead+0xa8/0x110
[   65.809098]  ? rcu_is_watching+0x19/0xc0
[   65.809338]  ? lock_release+0x592/0x870
[   65.809567]  ? __pfx___schedule+0x10/0x10
[   65.809807]  ? debug_smp_processor_id+0x20/0x30
[   65.810177]  ? rcu_is_watching+0x19/0xc0
[   65.810413]  ? trace_irq_enable+0xe1/0x120
[   65.810658]  ? do_task_dead+0x4a/0x110
[   65.810880]  do_task_dead+0xe0/0x110
[   65.811094]  make_task_dead+0x384/0x3c0
[   65.811327]  rewind_stack_and_make_dead+0x16/0x20
[   65.811604] RIP: 0033:0x7f17bd43ee5d
[   65.811816] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   65.812162] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.812599] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   65.813021] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.813419] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   65.813817] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   65.814213] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   65.814622]  </TASK>
[   66.152951] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#148] PREEMPT SMP KASAN NOPTI
[   66.154378] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.155195] CPU: 1 UID: 0 PID: 25926 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.156182] Tainted: [D]=DIE, [W]=WARN
[   66.156597] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.157798] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.158440] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.160389] RSP: 0018:ffff88802155f7d8 EFLAGS: 00010202
[   66.160959] RAX: dffffc0000000000 RBX: ffffea00009c2740 RCX: ffffffff81bbb789
[   66.161723] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c2750
[   66.162455] RBP: ffff88802155f7f8 R08: 0000000000000000 R09: ffffed10072f0dd4
[   66.163177] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.163902] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888039786ea0
[   66.164629] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   66.165452] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.166031] CR2: 00007f17bd6e9ef8 CR3: 00000000205b0002 CR4: 0000000000770ef0
[   66.166764] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.167493] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.168216] PKRU: 55555554
[   66.168509] Call Trace:
[   66.168773]  <TASK>
[   66.169007]  ? show_regs+0x6d/0x80
[   66.169387]  ? die_addr+0x45/0xb0
[   66.169754]  ? exc_general_protection+0x1ae/0x340
[   66.170256]  ? asm_exc_general_protection+0x2b/0x30
[   66.170763]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.171283]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.171799]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.172319]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.172835]  zap_huge_pmd+0x48e/0xd40
[   66.173219]  unmap_page_range+0x1ad6/0x4360
[   66.173652]  ? update_stack_state+0x2d9/0x610
[   66.174112]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.174626]  ? __pfx_unmap_page_range+0x10/0x10
[   66.175094]  unmap_single_vma+0x1ac/0x2d0
[   66.175513]  unmap_vmas+0x210/0x470
[   66.175881]  ? __pfx_unmap_vmas+0x10/0x10
[   66.176289]  ? __pfx_lock_release+0x10/0x10
[   66.176715]  ? lock_release+0x592/0x870
[   66.177093]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.177570]  ? __pfx_lock_release+0x10/0x10
[   66.177980]  ? mlock_drain_local+0x27f/0x4b0
[   66.178404]  exit_mmap+0x19e/0xb10
[   66.178749]  ? __pfx_exit_mmap+0x10/0x10
[   66.179135]  ? debug_smp_processor_id+0x20/0x30
[   66.179589]  ? trace_hardirqs_on+0x51/0x60
[   66.179993]  ? kasan_quarantine_put+0xa2/0x200
[   66.180434]  ? __khugepaged_exit+0x266/0x4c0
[   66.180854]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.181373]  __mmput+0xde/0x3a0
[   66.181691]  mmput+0x74/0x90
[   66.181984]  do_exit+0xa03/0x29f0
[   66.182323]  ? trace_hardirqs_on+0x51/0x60
[   66.182725]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.183307]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.183757]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.184218]  ? __pfx_do_exit+0x10/0x10
[   66.184578]  ? __audit_syscall_entry+0x39c/0x500
[   66.185011]  __x64_sys_exit+0x50/0x60
[   66.185366]  x64_sys_call+0x20c9/0x20d0
[   66.185727]  do_syscall_64+0x6d/0x140
[   66.186077]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.186547] RIP: 0033:0x7f17bd43ee5d
[   66.186881] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.187433] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.188110] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.188749] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.189387] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.190001] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.190614] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.191234]  </TASK>
[   66.191441] Modules linked in:
[   66.191767] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#149] PREEMPT SMP KASAN NOPTI
[   66.191854] ---[ end trace 0000000000000000 ]---
[   66.192879] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.193288] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.193969] CPU: 0 UID: 0 PID: 25930 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.194462] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.195270] Tainted: [D]=DIE, [W]=WARN
[   66.196856] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   66.197122] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.197566] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   66.198571] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.199154] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   66.199670] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.199689] RSP: 0018:ffff8880397df7d8 EFLAGS: 00010202
[   66.199704] RAX: dffffc0000000000 RBX: ffffea00009cdb40 RCX: ffffffff81bbb789
[   66.199715] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009cdb50
[   66.199727] RBP: ffff8880397df7f8 R08: 0000000000000000 R09: ffffed10072f0c54
[   66.199738] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.199748] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880397862a0
[   66.200336] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   66.202046] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.202465] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.203097] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.203727] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   66.204302] CR2: 00007f17bd6ea5b8 CR3: 0000000027370004 CR4: 0000000000770ef0
[   66.204868] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   66.205502] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.206044] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.206754] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.207302] CR2: 00007f17bd6e9ef8 CR3: 00000000205b0002 CR4: 0000000000770ef0
[   66.207813] PKRU: 55555554
[   66.207821] Call Trace:
[   66.207827]  <TASK>
[   66.207835]  ? show_regs+0x6d/0x80
[   66.207860]  ? die_addr+0x45/0xb0
[   66.208419] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.209046]  ? exc_general_protection+0x1ae/0x340
[   66.209659] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.210302]  ? asm_exc_general_protection+0x2b/0x30
[   66.210734] PKRU: 55555554
[   66.211372]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.211962] note: repro[25926] exited with preempt_count 1
[   66.212145]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.212169]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.212374] Fixing recursive fault but reboot is needed!
[   66.212594]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.212852] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25926
[   66.213162]  zap_huge_pmd+0x48e/0xd40
[   66.213689] caller is debug_smp_processor_id+0x20/0x30
[   66.214143]  unmap_page_range+0x1ad6/0x4360
[   66.214671] CPU: 1 UID: 0 PID: 25926 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.215133]  ? update_stack_state+0x2d9/0x610
[   66.215347] Tainted: [D]=DIE, [W]=WARN
[   66.215822]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.216212] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.216677]  ? __pfx_unmap_page_range+0x10/0x10
[   66.217044] Call Trace:
[   66.217526]  unmap_single_vma+0x1ac/0x2d0
[   66.217888]  <TASK>
[   66.218602]  unmap_vmas+0x210/0x470
[   66.218858]  dump_stack_lvl+0x121/0x150
[   66.219333]  ? __pfx_unmap_vmas+0x10/0x10
[   66.219623]  dump_stack+0x19/0x20
[   66.220433]  ? __pfx_lock_release+0x10/0x10
[   66.220743]  check_preemption_disabled+0x168/0x180
[   66.221134]  ? lock_release+0x592/0x870
[   66.221493]  debug_smp_processor_id+0x20/0x30
[   66.222535]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.222856]  __schedule+0xa0/0x33a0
[   66.223091]  ? __pfx_lock_release+0x10/0x10
[   66.223364]  ? do_task_dead+0xa8/0x110
[   66.223574]  ? mlock_drain_local+0x27f/0x4b0
[   66.223810]  ? debug_smp_processor_id+0x20/0x30
[   66.224165]  exit_mmap+0x19e/0xb10
[   66.224435]  ? rcu_is_watching+0x19/0xc0
[   66.224748]  ? __pfx_exit_mmap+0x10/0x10
[   66.225028]  ? lock_release+0x592/0x870
[   66.225463]  ? debug_smp_processor_id+0x20/0x30
[   66.225727]  ? __pfx___schedule+0x10/0x10
[   66.226126]  ? trace_hardirqs_on+0x51/0x60
[   66.226459]  ? debug_smp_processor_id+0x20/0x30
[   66.226777]  ? kasan_quarantine_put+0xa2/0x200
[   66.227059]  ? rcu_is_watching+0x19/0xc0
[   66.227409]  ? __khugepaged_exit+0x266/0x4c0
[   66.227688]  ? trace_irq_enable+0xe1/0x120
[   66.228100]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.228328]  ? do_task_dead+0x4a/0x110
[   66.228693]  __mmput+0xde/0x3a0
[   66.228952]  do_task_dead+0xe0/0x110
[   66.229306]  mmput+0x74/0x90
[   66.229606]  make_task_dead+0x384/0x3c0
[   66.229968]  do_exit+0xa03/0x29f0
[   66.230241]  rewind_stack_and_make_dead+0x16/0x20
[   66.230652]  ? trace_hardirqs_on+0x51/0x60
[   66.230938] RIP: 0033:0x7f17bd43ee5d
[   66.231297]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.231572] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.231941]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.232287] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   66.232630]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.232837]  ORIG_RAX: 000000000000003c
[   66.233164]  ? __pfx_do_exit+0x10/0x10
[   66.233355] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.233706]  ? __audit_syscall_entry+0x39c/0x500
[   66.233916] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.234345]  __x64_sys_exit+0x50/0x60
[   66.234597] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.234924]  x64_sys_call+0x20c9/0x20d0
[   66.235312] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.235860]  do_syscall_64+0x6d/0x140
[   66.236155] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.236630]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.236929]  </TASK>
[   66.237269] RIP: 0033:0x7f17bd43ee5d
[   66.243164] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.243730] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.244422] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.245067] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.245709] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.246354] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.246993] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.247649]  </TASK>
[   66.247866] Modules linked in:
[   66.248308] ---[ end trace 0000000000000000 ]---
[   66.248747] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.249318] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.251012] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   66.251601] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   66.252251] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   66.252984] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   66.253659] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.254325] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   66.254979] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.255793] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.256352] CR2: 00007f17bd6ea5b8 CR3: 0000000027370004 CR4: 0000000000770ef0
[   66.257032] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.257720] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.258486] PKRU: 55555554
[   66.258801] note: repro[25930] exited with preempt_count 1
[   66.259349] Fixing recursive fault but reboot is needed!
[   66.259854] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25930
[   66.260564] caller is debug_smp_processor_id+0x20/0x30
[   66.261063] CPU: 0 UID: 0 PID: 25930 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.261905] Tainted: [D]=DIE, [W]=WARN
[   66.262255] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.263273] Call Trace:
[   66.263531]  <TASK>
[   66.263750]  dump_stack_lvl+0x121/0x150
[   66.264148]  dump_stack+0x19/0x20
[   66.264500]  check_preemption_disabled+0x168/0x180
[   66.264979]  debug_smp_processor_id+0x20/0x30
[   66.265427]  __schedule+0xa0/0x33a0
[   66.265773]  ? do_task_dead+0xa8/0x110
[   66.266134]  ? debug_smp_processor_id+0x20/0x30
[   66.266579]  ? rcu_is_watching+0x19/0xc0
[   66.266966]  ? lock_release+0x592/0x870
[   66.267344]  ? __pfx___schedule+0x10/0x10
[   66.267745]  ? debug_smp_processor_id+0x20/0x30
[   66.268198]  ? rcu_is_watching+0x19/0xc0
[   66.268587]  ? trace_irq_enable+0xe1/0x120
[   66.269003]  ? do_task_dead+0x4a/0x110
[   66.269380]  do_task_dead+0xe0/0x110
[   66.269737]  make_task_dead+0x384/0x3c0
[   66.270124]  rewind_stack_and_make_dead+0x16/0x20
[   66.270585] RIP: 0033:0x7f17bd43ee5d
[   66.270944] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.271526] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.272227] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.272902] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.273565] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.274241] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.274918] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.275600]  </TASK>
[   66.275861] BUG: scheduling while atomic: repro/25930/0x00000000
[   66.276445] INFO: lockdep is turned off.
[   66.276823] Modules linked in:
[   66.277132] Preemption disabled at:
[   66.277139] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   66.277973] CPU: 0 UID: 0 PID: 25930 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.278838] Tainted: [D]=DIE, [W]=WARN
[   66.279198] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.280242] Call Trace:
[   66.280490]  <TASK>
[   66.280706]  dump_stack_lvl+0x121/0x150
[   66.281088]  ? do_task_dead+0x28/0x110
[   66.281468]  dump_stack+0x19/0x20
[   66.281803]  __schedule_bug+0x12d/0x180
[   66.282192]  __schedule+0x2401/0x33a0
[   66.282563]  ? do_task_dead+0xa8/0x110
[   66.282939]  ? rcu_is_watching+0x19/0xc0
[   66.283328]  ? lock_release+0x592/0x870
[   66.283709]  ? __pfx___schedule+0x10/0x10
[   66.284119]  ? debug_smp_processor_id+0x20/0x30
[   66.284566]  ? rcu_is_watching+0x19/0xc0
[   66.284979]  ? trace_irq_enable+0xe1/0x120
[   66.285420]  ? do_task_dead+0x4a/0x110
[   66.285807]  do_task_dead+0xe0/0x110
[   66.286188]  make_task_dead+0x384/0x3c0
[   66.286585]  rewind_stack_and_make_dead+0x16/0x20
[   66.287050] RIP: 0033:0x7f17bd43ee5d
[   66.287412] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.287988] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.288706] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.289370] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.290027] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.290698] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.291357] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.292051]  </TASK>
[   66.293706] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#150] PREEMPT SMP KASAN NOPTI
[   66.294868] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.295591] CPU: 0 UID: 0 PID: 26034 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.296473] Tainted: [D]=DIE, [W]=WARN
[   66.296859] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.297955] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.298541] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.300237] RSP: 0018:ffff88802149f7d8 EFLAGS: 00010202
[   66.300739] RAX: dffffc0000000000 RBX: ffffea00007d4580 RCX: ffffffff81bbb789
[   66.301407] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007d4590
[   66.302077] RBP: ffff88802149f7f8 R08: 0000000000000000 R09: ffffed1001d70660
[   66.302723] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.303357] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800eb83300
[   66.304032] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.304776] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.305315] CR2: 00007f469c723008 CR3: 000000002713e006 CR4: 0000000000770ef0
[   66.305962] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.306614] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.307257] PKRU: 55555554
[   66.307514] Call Trace:
[   66.307748]  <TASK>
[   66.307959]  ? show_regs+0x6d/0x80
[   66.308305]  ? die_addr+0x45/0xb0
[   66.308645]  ? exc_general_protection+0x1ae/0x340
[   66.309101]  ? asm_exc_general_protection+0x2b/0x30
[   66.309587]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.310083]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.310577]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.311058]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.311544]  zap_huge_pmd+0x48e/0xd40
[   66.311901]  unmap_page_range+0x1ad6/0x4360
[   66.312309]  ? update_stack_state+0x2d9/0x610
[   66.312741]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.313200]  ? __pfx_unmap_page_range+0x10/0x10
[   66.313629]  unmap_single_vma+0x1ac/0x2d0
[   66.314003]  unmap_vmas+0x210/0x470
[   66.314335]  ? __pfx_unmap_vmas+0x10/0x10
[   66.314691]  ? __pfx_lock_release+0x10/0x10
[   66.315068]  ? lock_release+0x592/0x870
[   66.315422]  ? mas_next_slot+0x133a/0x1a50
[   66.315804]  ? __pfx_lock_release+0x10/0x10
[   66.316177]  ? mlock_drain_local+0x27f/0x4b0
[   66.316578]  exit_mmap+0x19e/0xb10
[   66.316895]  ? __pfx_exit_mmap+0x10/0x10
[   66.317256]  ? debug_smp_processor_id+0x20/0x30
[   66.317675]  ? trace_hardirqs_on+0x51/0x60
[   66.318065]  ? kasan_quarantine_put+0xa2/0x200
[   66.318491]  ? __khugepaged_exit+0x266/0x4c0
[   66.318912]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.319380]  __mmput+0xde/0x3a0
[   66.319661]  mmput+0x74/0x90
[   66.319918]  do_exit+0xa03/0x29f0
[   66.320211]  ? trace_hardirqs_on+0x51/0x60
[   66.320574]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.321099]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.321505]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.321927]  ? __pfx_do_exit+0x10/0x10
[   66.322250]  ? __audit_syscall_entry+0x39c/0x500
[   66.322647]  __x64_sys_exit+0x50/0x60
[   66.322975]  x64_sys_call+0x20c9/0x20d0
[   66.323307]  do_syscall_64+0x6d/0x140
[   66.323631]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.324061] RIP: 0033:0x7f17bd43ee5d
[   66.324365] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.324859] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.325482] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.326059] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.326640] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.327217] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.327788] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.328385]  </TASK>
[   66.328578] Modules linked in:
[   66.328940] ---[ end trace 0000000000000000 ]---
[   66.329323] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.329798] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.331194] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   66.331691] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   66.332245] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   66.332790] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   66.333340] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.333886] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   66.334434] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   66.335053] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.335563] CR2: 00007f469c723008 CR3: 000000002713e006 CR4: 0000000000770ef0
[   66.336091] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.336611] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.337132] PKRU: 55555554
[   66.337338] note: repro[26034] exited with preempt_count 1
[   66.337744] Fixing recursive fault but reboot is needed!
[   66.338128] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26034
[   66.338693] caller is debug_smp_processor_id+0x20/0x30
[   66.339098] CPU: 0 UID: 0 PID: 26034 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.339773] Tainted: [D]=DIE, [W]=WARN
[   66.340041] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.340822] Call Trace:
[   66.341003]  <TASK>
[   66.341164]  dump_stack_lvl+0x121/0x150
[   66.341453]  dump_stack+0x19/0x20
[   66.341713]  check_preemption_disabled+0x168/0x180
[   66.342081]  debug_smp_processor_id+0x20/0x30
[   66.342422]  __schedule+0xa0/0x33a0
[   66.342705]  ? do_task_dead+0xa8/0x110
[   66.343010]  ? debug_smp_processor_id+0x20/0x30
[   66.343351]  ? rcu_is_watching+0x19/0xc0
[   66.343641]  ? lock_release+0x592/0x870
[   66.343930]  ? __pfx___schedule+0x10/0x10
[   66.344228]  ? debug_smp_processor_id+0x20/0x30
[   66.344567]  ? rcu_is_watching+0x19/0xc0
[   66.344858]  ? trace_irq_enable+0xe1/0x120
[   66.345162]  ? do_task_dead+0x4a/0x110
[   66.345433]  do_task_dead+0xe0/0x110
[   66.345693]  make_task_dead+0x384/0x3c0
[   66.345978]  rewind_stack_and_make_dead+0x16/0x20
[   66.346311] RIP: 0033:0x7f17bd43ee5d
[   66.346579] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.346994] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.347520] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.348023] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.348571] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.349063] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.349549] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.350030]  </TASK>
[   66.350218] BUG: scheduling while atomic: repro/26034/0x00000000
[   66.350637] INFO: lockdep is turned off.
[   66.350916] Modules linked in:
[   66.351144] Preemption disabled at:
[   66.351149] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   66.351757] CPU: 0 UID: 0 PID: 26034 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.352343] Tainted: [D]=DIE, [W]=WARN
[   66.352588] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.353305] Call Trace:
[   66.353480]  <TASK>
[   66.353634]  dump_stack_lvl+0x121/0x150
[   66.353918]  ? do_task_dead+0x28/0x110
[   66.354184]  dump_stack+0x19/0x20
[   66.354421]  __schedule_bug+0x12d/0x180
[   66.354686]  __schedule+0x2401/0x33a0
[   66.354939]  ? do_task_dead+0xa8/0x110
[   66.355189]  ? rcu_is_watching+0x19/0xc0
[   66.355458]  ? lock_release+0x592/0x870
[   66.355717]  ? __pfx___schedule+0x10/0x10
[   66.356002]  ? debug_smp_processor_id+0x20/0x30
[   66.356324]  ? rcu_is_watching+0x19/0xc0
[   66.356600]  ? trace_irq_enable+0xe1/0x120
[   66.356879]  ? do_task_dead+0x4a/0x110
[   66.357122]  do_task_dead+0xe0/0x110
[   66.357358]  make_task_dead+0x384/0x3c0
[   66.357618]  rewind_stack_and_make_dead+0x16/0x20
[   66.357933] RIP: 0033:0x7f17bd43ee5d
[   66.358172] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.358556] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.359030] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.359485] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.359919] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.360380] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.360856] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.361339]  </TASK>
[   66.733286] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#151] PREEMPT SMP KASAN NOPTI
[   66.734459] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.735160] CPU: 1 UID: 0 PID: 26237 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.736022] Tainted: [D]=DIE, [W]=WARN
[   66.736385] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.737423] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.737983] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.739687] RSP: 0018:ffff88803d1277d8 EFLAGS: 00010202
[   66.740194] RAX: dffffc0000000000 RBX: ffffea0000f43780 RCX: ffffffff81bbb789
[   66.740855] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000f43790
[   66.741514] RBP: ffff88803d1277f8 R08: 0000000000000000 R09: ffffed100278bef0
[   66.742176] R10: 0000000000000001 R11: ffff88806c550318 R12: 0000000000000000
[   66.742857] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013c5f780
[   66.743524] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   66.744262] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.744832] CR2: 00007f17bd49bc20 CR3: 0000000018990004 CR4: 0000000000770ef0
[   66.745497] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.746157] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.746819] PKRU: 55555554
[   66.747090] Call Trace:
[   66.747333]  <TASK>
[   66.747551]  ? show_regs+0x6d/0x80
[   66.747911]  ? die_addr+0x45/0xb0
[   66.748259]  ? exc_general_protection+0x1ae/0x340
[   66.748759]  ? asm_exc_general_protection+0x2b/0x30
[   66.749249]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.749755]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.750252]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.750800]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.751321]  zap_huge_pmd+0x48e/0xd40
[   66.751704]  unmap_page_range+0x1ad6/0x4360
[   66.752120]  ? __pfx_lock_release+0x10/0x10
[   66.752536]  ? do_raw_spin_trylock+0xbf/0x190
[   66.752968]  ? __kasan_check_read+0x15/0x20
[   66.753396]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.753884]  ? __pfx_unmap_page_range+0x10/0x10
[   66.754339]  unmap_single_vma+0x1ac/0x2d0
[   66.754748]  unmap_vmas+0x210/0x470
[   66.755127]  ? __pfx_unmap_vmas+0x10/0x10
[   66.755538]  ? __pfx_lock_release+0x10/0x10
[   66.755942]  ? lock_release+0x592/0x870
[   66.756328]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.756818]  ? __pfx_lock_release+0x10/0x10
[   66.757256]  ? mlock_drain_local+0x27f/0x4b0
[   66.757710]  exit_mmap+0x19e/0xb10
[   66.758068]  ? __pfx_exit_mmap+0x10/0x10
[   66.758461]  ? debug_smp_processor_id+0x20/0x30
[   66.758944]  ? trace_hardirqs_on+0x51/0x60
[   66.759384]  ? kasan_quarantine_put+0xa2/0x200
[   66.759832]  ? __khugepaged_exit+0x266/0x4c0
[   66.760271]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.760787]  __mmput+0xde/0x3a0
[   66.761120]  mmput+0x74/0x90
[   66.761429]  do_exit+0xa03/0x29f0
[   66.761773]  ? trace_hardirqs_on+0x51/0x60
[   66.762181]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.762789]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.763296]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.763803]  ? __pfx_do_exit+0x10/0x10
[   66.764320]  ? __audit_syscall_entry+0x39c/0x500
[   66.764851]  __x64_sys_exit+0x50/0x60
[   66.765238]  x64_sys_call+0x20c9/0x20d0
[   66.765621]  do_syscall_64+0x6d/0x140
[   66.765999]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.766490] RIP: 0033:0x7f17bd43ee5d
[   66.766842] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.767417] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.768368] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.769168] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.769845] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.770521] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.771186] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.771882]  </TASK>
[   66.772117] Modules linked in:
[   66.772570] ---[ end trace 0000000000000000 ]---
[   66.773020] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.773605] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.775293] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   66.775904] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   66.776592] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   66.777258] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   66.777932] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.778848] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   66.779725] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   66.780498] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.781036] CR2: 00007f17bd49bc20 CR3: 0000000018990004 CR4: 0000000000770ef0
[   66.781701] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.782494] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.783538] PKRU: 55555554
[   66.783826] note: repro[26237] exited with preempt_count 1
[   66.784353] Fixing recursive fault but reboot is needed!
[   66.784855] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26237
[   66.785589] caller is debug_smp_processor_id+0x20/0x30
[   66.786120] CPU: 1 UID: 0 PID: 26237 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.786991] Tainted: [D]=DIE, [W]=WARN
[   66.787357] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.788406] Call Trace:
[   66.788654]  <TASK>
[   66.788872]  dump_stack_lvl+0x121/0x150
[   66.789279]  dump_stack+0x19/0x20
[   66.789621]  check_preemption_disabled+0x168/0x180
[   66.790111]  debug_smp_processor_id+0x20/0x30
[   66.790569]  __schedule+0xa0/0x33a0
[   66.790932]  ? do_task_dead+0xa8/0x110
[   66.791311]  ? debug_smp_processor_id+0x20/0x30
[   66.791902]  ? rcu_is_watching+0x19/0xc0
[   66.792380]  ? lock_release+0x592/0x870
[   66.792781]  ? __pfx___schedule+0x10/0x10
[   66.793196]  ? debug_smp_processor_id+0x20/0x30
[   66.793648]  ? rcu_is_watching+0x19/0xc0
[   66.794046]  ? trace_irq_enable+0xe1/0x120
[   66.794473]  ? do_task_dead+0x4a/0x110
[   66.794853]  do_task_dead+0xe0/0x110
[   66.795209]  make_task_dead+0x384/0x3c0
[   66.795608]  rewind_stack_and_make_dead+0x16/0x20
[   66.796079] RIP: 0033:0x7f17bd43ee5d
[   66.796448] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.797021] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.797729] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.798408] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.799071] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.799734] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.800399] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.801130]  </TASK>
[   66.801629] BUG: scheduling while atomic: repro/26237/0x00000000
[   66.802270] INFO: lockdep is turned off.
[   66.802651] Modules linked in:
[   66.802966] Preemption disabled at:
[   66.802972] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   66.803914] CPU: 1 UID: 0 PID: 26237 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   66.804801] Tainted: [D]=DIE, [W]=WARN
[   66.805171] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.806191] Call Trace:
[   66.806435]  <TASK>
[   66.806656]  dump_stack_lvl+0x121/0x150
[   66.807055]  ? do_task_dead+0x28/0x110
[   66.807443]  dump_stack+0x19/0x20
[   66.807783]  __schedule_bug+0x12d/0x180
[   66.808180]  __schedule+0x2401/0x33a0
[   66.808566]  ? do_task_dead+0xa8/0x110
[   66.808949]  ? rcu_is_watching+0x19/0xc0
[   66.809501]  ? lock_release+0x592/0x870
[   66.810100]  ? __pfx___schedule+0x10/0x10
[   66.810517]  ? debug_smp_processor_id+0x20/0x30
[   66.810978]  ? rcu_is_watching+0x19/0xc0
[   66.811379]  ? trace_irq_enable+0xe1/0x120
[   66.811796]  ? do_task_dead+0x4a/0x110
[   66.812169]  do_task_dead+0xe0/0x110
[   66.812607]  make_task_dead+0x384/0x3c0
[   66.813063]  rewind_stack_and_make_dead+0x16/0x20
[   66.813550] RIP: 0033:0x7f17bd43ee5d
[   66.813999] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   66.814738] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.815761] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   66.816617] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.817472] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   66.818323] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   66.819170] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   66.820082]  </TASK>
[   67.180796] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#152] PREEMPT SMP KASAN NOPTI
[   67.182274] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.183288] CPU: 1 UID: 0 PID: 26528 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   67.184389] Tainted: [D]=DIE, [W]=WARN
[   67.184845] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.186174] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.186959] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.189132] RSP: 0018:ffff88802627f7d8 EFLAGS: 00010202
[   67.189774] RAX: dffffc0000000000 RBX: ffffea000085dd40 RCX: ffffffff81bbb789
[   67.190584] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000085dd50
[   67.191521] RBP: ffff88802627f7f8 R08: 0000000000000000 R09: ffffed1003805d80
[   67.192374] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.193217] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801c02ec00
[   67.194066] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   67.195026] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.195791] CR2: 00007f17bd71ebf0 CR3: 0000000026080002 CR4: 0000000000770ef0
[   67.196651] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.197501] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.198356] PKRU: 55555554
[   67.198759] Call Trace:
[   67.199122]  <TASK>
[   67.199441]  ? show_regs+0x6d/0x80
[   67.199889]  ? die_addr+0x45/0xb0
[   67.200327]  ? exc_general_protection+0x1ae/0x340
[   67.200924]  ? asm_exc_general_protection+0x2b/0x30
[   67.201545]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.202176]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.202807]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.203443]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.204071]  zap_huge_pmd+0x48e/0xd40
[   67.204544]  unmap_page_range+0x1ad6/0x4360
[   67.205159]  ? update_stack_state+0x2d9/0x610
[   67.205803]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.206435]  ? __pfx_unmap_page_range+0x10/0x10
[   67.207013]  unmap_single_vma+0x1ac/0x2d0
[   67.207531]  unmap_vmas+0x210/0x470
[   67.207984]  ? __pfx_unmap_vmas+0x10/0x10
[   67.208494]  ? __pfx_lock_release+0x10/0x10
[   67.209011]  ? lock_release+0x592/0x870
[   67.209393]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   67.209871]  ? __pfx_lock_release+0x10/0x10
[   67.210264]  ? mlock_drain_local+0x27f/0x4b0
[   67.210690]  exit_mmap+0x19e/0xb10
[   67.211048]  ? __pfx_exit_mmap+0x10/0x10
[   67.211460]  ? debug_smp_processor_id+0x20/0x30
[   67.211920]  ? trace_hardirqs_on+0x51/0x60
[   67.212340]  ? kasan_quarantine_put+0xa2/0x200
[   67.212772]  ? __khugepaged_exit+0x266/0x4c0
[   67.213200]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.213747]  __mmput+0xde/0x3a0
[   67.214075]  mmput+0x74/0x90
[   67.214377]  do_exit+0xa03/0x29f0
[   67.214723]  ? trace_hardirqs_on+0x51/0x60
[   67.215135]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.215769]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.216232]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.216715]  ? __pfx_do_exit+0x10/0x10
[   67.217090]  ? __audit_syscall_entry+0x39c/0x500
[   67.217550]  __x64_sys_exit+0x50/0x60
[   67.217918]  x64_sys_call+0x20c9/0x20d0
[   67.218299]  do_syscall_64+0x6d/0x140
[   67.218667]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.219158] RIP: 0033:0x7f17bd43ee5d
[   67.219500] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   67.220069] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.220790] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   67.221456] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.222129] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   67.222811] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   67.223479] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   67.224217]  </TASK>
[   67.224488] Modules linked in:
[   67.224964] ---[ end trace 0000000000000000 ]---
[   67.225510] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.226196] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.228396] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   67.229336] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   67.229954] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   67.230597] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   67.231200] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.231878] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   67.232495] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   67.233182] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.233695] CR2: 00007f17bd71ebf0 CR3: 0000000026080002 CR4: 0000000000770ef0
[   67.234385] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.234988] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.235699] PKRU: 55555554
[   67.235965] note: repro[26528] exited with preempt_count 1
[   67.236492] Fixing recursive fault but reboot is needed!
[   67.236982] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26528
[   67.237708] caller is debug_smp_processor_id+0x20/0x30
[   67.238285] CPU: 1 UID: 0 PID: 26528 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   67.238420] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#153] PREEMPT SMP KASAN NOPTI
[   67.239165] Tainted: [D]=DIE, [W]=WARN
[   67.240266] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.240615] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.241302] CPU: 0 UID: 0 PID: 26548 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   67.242204] Call Trace:
[   67.243042] Tainted: [D]=DIE, [W]=WARN
[   67.243241]  <TASK>
[   67.243775] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.243958]  dump_stack_lvl+0x121/0x150
[   67.245045] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.245358]  dump_stack+0x19/0x20
[   67.245876] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.246142]  check_preemption_disabled+0x168/0x180
[   67.247784] RSP: 0018:ffff88803976f7d8 EFLAGS: 00010202
[   67.248148]  debug_smp_processor_id+0x20/0x30
[   67.248632] RAX: dffffc0000000000 RBX: ffffea0000622340 RCX: ffffffff81bbb789
[   67.248963]  __schedule+0xa0/0x33a0
[   67.249626] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000622350
[   67.249890]  ? do_task_dead+0xa8/0x110
[   67.250540] RBP: ffff88803976f7f8 R08: 0000000000000000 R09: ffffed1001fcd600
[   67.250834]  ? debug_smp_processor_id+0x20/0x30
[   67.251501] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.251846]  ? rcu_is_watching+0x19/0xc0
[   67.252491] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fe6b000
[   67.252786]  ? lock_release+0x592/0x870
[   67.253444] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   67.253734]  ? __pfx___schedule+0x10/0x10
[   67.254452] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.254745]  ? debug_smp_processor_id+0x20/0x30
[   67.255287] CR2: 00007fffef667838 CR3: 00000000134c8005 CR4: 0000000000770ef0
[   67.255616]  ? rcu_is_watching+0x19/0xc0
[   67.256565] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.256848]  ? trace_irq_enable+0xe1/0x120
[   67.257508] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.257806]  ? do_task_dead+0x4a/0x110
[   67.258441] PKRU: 55555554
[   67.258713]  do_task_dead+0xe0/0x110
[   67.258978] Call Trace:
[   67.259246]  make_task_dead+0x384/0x3c0
[   67.259482]  <TASK>
[   67.259837]  rewind_stack_and_make_dead+0x16/0x20
[   67.260156]  ? show_regs+0x6d/0x80
[   67.260574] RIP: 0033:0x7f17bd43ee5d
[   67.260890]  ? die_addr+0x45/0xb0
[   67.261214] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   67.261524]  ? exc_general_protection+0x1ae/0x340
[   67.262057] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.262493]  ? asm_exc_general_protection+0x2b/0x30
[   67.263127] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   67.263573]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.264452] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.264911]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.265517] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   67.265975]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.266577] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   67.267040]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.267640] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   67.268099]  zap_huge_pmd+0x48e/0xd40
[   67.268715]  </TASK>
[   67.269042]  unmap_page_range+0x1ad6/0x4360
[   67.269612]  ? update_stack_state+0x2d9/0x610
[   67.270051]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.270969]  ? __pfx_unmap_page_range+0x10/0x10
[   67.271433]  unmap_single_vma+0x1ac/0x2d0
[   67.271833]  unmap_vmas+0x210/0x470
[   67.272189]  ? __pfx_unmap_vmas+0x10/0x10
[   67.272584]  ? __pfx_lock_release+0x10/0x10
[   67.272988]  ? lock_release+0x592/0x870
[   67.273365]  ? mas_next_slot+0x133a/0x1a50
[   67.273764]  ? __pfx_lock_release+0x10/0x10
[   67.274226]  ? mlock_drain_local+0x27f/0x4b0
[   67.274886]  exit_mmap+0x19e/0xb10
[   67.275310]  ? __pfx_exit_mmap+0x10/0x10
[   67.275698]  ? debug_smp_processor_id+0x20/0x30
[   67.276148]  ? trace_hardirqs_on+0x51/0x60
[   67.276554]  ? kasan_quarantine_put+0xa2/0x200
[   67.276987]  ? __khugepaged_exit+0x266/0x4c0
[   67.277408]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.277914]  __mmput+0xde/0x3a0
[   67.278237]  mmput+0x74/0x90
[   67.278703]  do_exit+0xa03/0x29f0
[   67.279223]  ? trace_hardirqs_on+0x51/0x60
[   67.279632]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.280226]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.280688]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.281162]  ? __pfx_do_exit+0x10/0x10
[   67.281535]  ? __audit_syscall_entry+0x39c/0x500
[   67.281987]  __x64_sys_exit+0x50/0x60
[   67.282356]  x64_sys_call+0x20c9/0x20d0
[   67.282946]  do_syscall_64+0x6d/0x140
[   67.283471]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.283966] RIP: 0033:0x7f17bd43ee5d
[   67.284331] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   67.284916] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.285629] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   67.286297] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.287202] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   67.287989] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   67.288671] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   67.289355]  </TASK>
[   67.289580] Modules linked in:
[   67.290167] ---[ end trace 0000000000000000 ]---
[   67.290632] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.291312] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.293320] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   67.293928] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   67.294617] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   67.295590] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   67.296377] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.297042] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   67.297722] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   67.298472] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.299110] CR2: 00007fffef667838 CR3: 00000000134c8005 CR4: 0000000000770ef0
[   67.299862] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.300536] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.301226] PKRU: 55555554
[   67.301654] note: repro[26548] exited with preempt_count 1
[   67.302340] Fixing recursive fault but reboot is needed!
[   67.302840] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26548
[   67.303650] caller is debug_smp_processor_id+0x20/0x30
[   67.304160] CPU: 0 UID: 0 PID: 26548 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   67.305062] Tainted: [D]=DIE, [W]=WARN
[   67.305471] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.306514] Call Trace:
[   67.306761]  <TASK>
[   67.306976]  dump_stack_lvl+0x121/0x150
[   67.307365]  dump_stack+0x19/0x20
[   67.307713]  check_preemption_disabled+0x168/0x180
[   67.308187]  debug_smp_processor_id+0x20/0x30
[   67.308634]  __schedule+0xa0/0x33a0
[   67.309001]  ? do_task_dead+0xa8/0x110
[   67.309378]  ? debug_smp_processor_id+0x20/0x30
[   67.310075]  ? rcu_is_watching+0x19/0xc0
[   67.310570]  ? lock_release+0x592/0x870
[   67.310958]  ? __pfx___schedule+0x10/0x10
[   67.311375]  ? debug_smp_processor_id+0x20/0x30
[   67.311825]  ? rcu_is_watching+0x19/0xc0
[   67.312218]  ? trace_irq_enable+0xe1/0x120
[   67.312635]  ? do_task_dead+0x4a/0x110
[   67.313033]  do_task_dead+0xe0/0x110
[   67.313431]  make_task_dead+0x384/0x3c0
[   67.313832]  rewind_stack_and_make_dead+0x16/0x20
[   67.314302] RIP: 0033:0x7f17bd43ee5d
[   67.314652] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   67.315221] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.315933] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   67.316594] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.317272] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   67.317946] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   67.318600] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   67.319281]  </TASK>
[   67.319625] BUG: scheduling while atomic: repro/26548/0x00000000
[   67.320511] INFO: lockdep is turned off.
[   67.320965] Modules linked in:
[   67.321281] Preemption disabled at:
[   67.321288] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   67.322155] CPU: 0 UID: 0 PID: 26548 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   67.323010] Tainted: [D]=DIE, [W]=WARN
[   67.323381] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.324419] Call Trace:
[   67.324658]  <TASK>
[   67.324872]  dump_stack_lvl+0x121/0x150
[   67.325284]  ? do_task_dead+0x28/0x110
[   67.325675]  dump_stack+0x19/0x20
[   67.326019]  __schedule_bug+0x12d/0x180
[   67.326411]  __schedule+0x2401/0x33a0
[   67.326788]  ? do_task_dead+0xa8/0x110
[   67.327157]  ? rcu_is_watching+0x19/0xc0
[   67.327579]  ? lock_release+0x592/0x870
[   67.327971]  ? __pfx___schedule+0x10/0x10
[   67.328392]  ? debug_smp_processor_id+0x20/0x30
[   67.328848]  ? rcu_is_watching+0x19/0xc0
[   67.329238]  ? trace_irq_enable+0xe1/0x120
[   67.329665]  ? do_task_dead+0x4a/0x110
[   67.330043]  do_task_dead+0xe0/0x110
[   67.330608]  make_task_dead+0x384/0x3c0
[   67.331179]  rewind_stack_and_make_dead+0x16/0x20
[   67.331657] RIP: 0033:0x7f17bd43ee5d
[   67.332014] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   67.332599] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.333320] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   67.333991] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.334662] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   67.335329] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   67.335996] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   67.336931]  </TASK>
[   68.041383] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#154] PREEMPT SMP KASAN NOPTI
[   68.042542] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.043240] CPU: 0 UID: 0 PID: 27064 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.044133] Tainted: [D]=DIE, [W]=WARN
[   68.044502] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.045543] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.046106] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.047782] RSP: 0018:ffff8880395bf7d8 EFLAGS: 00010202
[   68.048306] RAX: dffffc0000000000 RBX: ffffea0000f43a80 RCX: ffffffff81bbb789
[   68.048963] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000f43a90
[   68.049640] RBP: ffff8880395bf7f8 R08: 0000000000000000 R09: ffffed10025e592c
[   68.050310] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.050971] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888012f2c960
[   68.051632] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.052392] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.052928] CR2: 00007f17bd70b908 CR3: 0000000039688006 CR4: 0000000000770ef0
[   68.053585] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.054302] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.055266] PKRU: 55555554
[   68.055538] Call Trace:
[   68.055806]  <TASK>
[   68.056062]  ? show_regs+0x6d/0x80
[   68.056434]  ? die_addr+0x45/0xb0
[   68.056803]  ? exc_general_protection+0x1ae/0x340
[   68.057322]  ? asm_exc_general_protection+0x2b/0x30
[   68.057818]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.058321]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.058827]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.059337]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.059904]  zap_huge_pmd+0x48e/0xd40
[   68.060304]  unmap_page_range+0x1ad6/0x4360
[   68.060752]  ? update_stack_state+0x2d9/0x610
[   68.061240]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.061766]  ? __pfx_unmap_page_range+0x10/0x10
[   68.062240]  unmap_single_vma+0x1ac/0x2d0
[   68.062647]  unmap_vmas+0x210/0x470
[   68.063003]  ? __pfx_unmap_vmas+0x10/0x10
[   68.063403]  ? __pfx_lock_release+0x10/0x10
[   68.063828]  ? lock_release+0x592/0x870
[   68.064225]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   68.064717]  ? __pfx_lock_release+0x10/0x10
[   68.065138]  ? mlock_drain_local+0x27f/0x4b0
[   68.065566]  exit_mmap+0x19e/0xb10
[   68.065927]  ? __pfx_exit_mmap+0x10/0x10
[   68.066324]  ? debug_smp_processor_id+0x20/0x30
[   68.066776]  ? trace_hardirqs_on+0x51/0x60
[   68.067196]  ? kasan_quarantine_put+0xa2/0x200
[   68.067642]  ? __khugepaged_exit+0x266/0x4c0
[   68.068119]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.068696]  __mmput+0xde/0x3a0
[   68.069043]  mmput+0x74/0x90
[   68.069370]  do_exit+0xa03/0x29f0
[   68.069716]  ? trace_hardirqs_on+0x51/0x60
[   68.070129]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.070732]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.071203]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.071694]  ? __pfx_do_exit+0x10/0x10
[   68.072097]  ? __audit_syscall_entry+0x39c/0x500
[   68.072572]  __x64_sys_exit+0x50/0x60
[   68.072966]  x64_sys_call+0x20c9/0x20d0
[   68.073352]  do_syscall_64+0x6d/0x140
[   68.073722]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.074214] RIP: 0033:0x7f17bd43ee5d
[   68.074571] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.075136] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.075842] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.076579] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.077296] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.077981] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.078644] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.079322]  </TASK>
[   68.079549] Modules linked in:
[   68.080008] ---[ end trace 0000000000000000 ]---
[   68.080466] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.081089] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.082778] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.083518] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   68.084381] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   68.085087] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   68.085751] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.086410] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   68.087084] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.087944] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.088514] CR2: 00007f17bd70b908 CR3: 0000000039688006 CR4: 0000000000770ef0
[   68.089208] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.089876] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.090546] PKRU: 55555554
[   68.090835] note: repro[27064] exited with preempt_count 1
[   68.091481] Fixing recursive fault but reboot is needed!
[   68.091997] BUG: using smp_processor_id() in preemptible [00000000] code: repro/27064
[   68.092734] caller is debug_smp_processor_id+0x20/0x30
[   68.093244] CPU: 0 UID: 0 PID: 27064 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.094110] Tainted: [D]=DIE, [W]=WARN
[   68.094471] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.095632] Call Trace:
[   68.095886]  <TASK>
[   68.096112]  dump_stack_lvl+0x121/0x150
[   68.096508]  dump_stack+0x19/0x20
[   68.096848]  check_preemption_disabled+0x168/0x180
[   68.097330]  debug_smp_processor_id+0x20/0x30
[   68.097773]  __schedule+0xa0/0x33a0
[   68.098134]  ? do_task_dead+0xa8/0x110
[   68.098508]  ? debug_smp_processor_id+0x20/0x30
[   68.099022]  ? rcu_is_watching+0x19/0xc0
[   68.099475]  ? lock_release+0x592/0x870
[   68.099884]  ? __pfx___schedule+0x10/0x10
[   68.100320]  ? debug_smp_processor_id+0x20/0x30
[   68.100804]  ? rcu_is_watching+0x19/0xc0
[   68.101227]  ? trace_irq_enable+0xe1/0x120
[   68.101663]  ? do_task_dead+0x4a/0x110
[   68.102075]  do_task_dead+0xe0/0x110
[   68.102466]  make_task_dead+0x384/0x3c0
[   68.102864]  rewind_stack_and_make_dead+0x16/0x20
[   68.103366] RIP: 0033:0x7f17bd43ee5d
[   68.103772] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.104372] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.105077] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.105729] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.106376] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.107010] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.107670] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.108324]  </TASK>
[   68.108657] BUG: scheduling while atomic: repro/27064/0x00000000
[   68.109213] INFO: lockdep is turned off.
[   68.109576] Modules linked in:
[   68.109897] Preemption disabled at:
[   68.109903] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   68.110696] CPU: 0 UID: 0 PID: 27064 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.111484] Tainted: [D]=DIE, [W]=WARN
[   68.111812] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.112788] Call Trace:
[   68.113010]  <TASK>
[   68.113214]  dump_stack_lvl+0x121/0x150
[   68.113584]  ? do_task_dead+0x28/0x110
[   68.113938]  dump_stack+0x19/0x20
[   68.114272]  __schedule_bug+0x12d/0x180
[   68.114636]  __schedule+0x2401/0x33a0
[   68.114973]  ? do_task_dead+0xa8/0x110
[   68.115332]  ? rcu_is_watching+0x19/0xc0
[   68.115690]  ? lock_release+0x592/0x870
[   68.116044]  ? __pfx___schedule+0x10/0x10
[   68.116499]  ? debug_smp_processor_id+0x20/0x30
[   68.116922]  ? rcu_is_watching+0x19/0xc0
[   68.117284]  ? trace_irq_enable+0xe1/0x120
[   68.117666]  ? do_task_dead+0x4a/0x110
[   68.118006]  do_task_dead+0xe0/0x110
[   68.118335]  make_task_dead+0x384/0x3c0
[   68.118696]  rewind_stack_and_make_dead+0x16/0x20
[   68.119159] RIP: 0033:0x7f17bd43ee5d
[   68.119525] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.120071] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.120741] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.121378] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.122025] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.122642] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.123241] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.123831]  </TASK>
[   68.143165] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#155] PREEMPT SMP KASAN NOPTI
[   68.144129] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.144758] CPU: 0 UID: 0 PID: 27143 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.145489] Tainted: [D]=DIE, [W]=WARN
[   68.145794] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.146698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.147164] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.148965] RSP: 0018:ffff88801c1b77d8 EFLAGS: 00010202
[   68.149427] RAX: dffffc0000000000 RBX: ffffea000085ae40 RCX: ffffffff81bbb789
[   68.149976] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000085ae50
[   68.150530] RBP: ffff88801c1b77f8 R08: 0000000000000000 R09: ffffed1002362854
[   68.151083] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.151660] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888011b142a0
[   68.152227] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.152823] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.153252] CR2: 00007f17bd71ebf0 CR3: 0000000039782001 CR4: 0000000000770ef0
[   68.153775] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.154550] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.155076] PKRU: 55555554
[   68.155290] Call Trace:
[   68.155481]  <TASK>
[   68.155651]  ? show_regs+0x6d/0x80
[   68.155929]  ? die_addr+0x45/0xb0
[   68.156196]  ? exc_general_protection+0x1ae/0x340
[   68.156568]  ? asm_exc_general_protection+0x2b/0x30
[   68.156952]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.157343]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.157724]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.158093]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.158467]  zap_huge_pmd+0x48e/0xd40
[   68.158747]  unmap_page_range+0x1ad6/0x4360
[   68.159067]  ? update_stack_state+0x2d9/0x610
[   68.159411]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.159776]  ? __pfx_unmap_page_range+0x10/0x10
[   68.160298]  unmap_single_vma+0x1ac/0x2d0
[   68.160740]  unmap_vmas+0x210/0x470
[   68.161014]  ? __pfx_unmap_vmas+0x10/0x10
[   68.161313]  ? __pfx_lock_release+0x10/0x10
[   68.161610]  ? lock_release+0x592/0x870
[   68.161883]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   68.162226]  ? __pfx_lock_release+0x10/0x10
[   68.162528]  ? mlock_drain_local+0x27f/0x4b0
[   68.162835]  exit_mmap+0x19e/0xb10
[   68.163086]  ? __pfx_exit_mmap+0x10/0x10
[   68.163368]  ? debug_smp_processor_id+0x20/0x30
[   68.163694]  ? trace_hardirqs_on+0x51/0x60
[   68.163989]  ? kasan_quarantine_put+0xa2/0x200
[   68.164309]  ? __khugepaged_exit+0x266/0x4c0
[   68.164616]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.164977]  __mmput+0xde/0x3a0
[   68.165201]  mmput+0x74/0x90
[   68.165414]  do_exit+0xa03/0x29f0
[   68.165655]  ? trace_hardirqs_on+0x51/0x60
[   68.165946]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.166602]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.167017]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.167353]  ? __pfx_do_exit+0x10/0x10
[   68.167615]  ? __audit_syscall_entry+0x39c/0x500
[   68.167931]  __x64_sys_exit+0x50/0x60
[   68.168187]  x64_sys_call+0x20c9/0x20d0
[   68.168457]  do_syscall_64+0x6d/0x140
[   68.168713]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.169058] RIP: 0033:0x7f17bd43ee5d
[   68.169305] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.169702] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.170170] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.170615] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.171051] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.171484] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.171921] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.172371]  </TASK>
[   68.172518] Modules linked in:
[   68.172807] ---[ end trace 0000000000000000 ]---
[   68.172766] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#156] PREEMPT SMP KASAN NOPTI
[   68.173177] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.174292] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.174643] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.175321] CPU: 1 UID: 0 PID: 27151 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.176433] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.177245] Tainted: [D]=DIE, [W]=WARN
[   68.177562] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   68.177906] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.178325] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   68.179332] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.179806] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   68.180316] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.180785] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.182431] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.182881] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   68.183371] RAX: dffffc0000000000 RBX: ffffea000081a040 RCX: ffffffff81bbb789
[   68.183851] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.184473] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea000081a050
[   68.184981] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.185613] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1003bd580c
[   68.185927] CR2: 00007f17bd71ebf0 CR3: 0000000039782001 CR4: 0000000000770ef0
[   68.186563] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.186965] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.187594] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801deac060
[   68.187607] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.187992] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.188636] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.189076] PKRU: 55555554
[   68.189711] CR2: 00007f17bd6ea5b8 CR3: 000000001ed64002 CR4: 0000000000770ef0
[   68.190017] note: repro[27143] exited with preempt_count 1
[   68.190274] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.190646] Fixing recursive fault but reboot is needed!
[   68.190651] BUG: using smp_processor_id() in preemptible [00000000] code: repro/27143
[   68.191146] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.191541] caller is debug_smp_processor_id+0x20/0x30
[   68.192003] PKRU: 55555554
[   68.192422] CPU: 0 UID: 0 PID: 27143 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.193061] Call Trace:
[   68.193336] Tainted: [D]=DIE, [W]=WARN
[   68.193591]  <TASK>
[   68.194052] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.194308]  ? show_regs+0x6d/0x80
[   68.194516] Call Trace:
[   68.194520]  <TASK>
[   68.194725]  ? die_addr+0x45/0xb0
[   68.195323]  dump_stack_lvl+0x121/0x150
[   68.195649]  ? exc_general_protection+0x1ae/0x340
[   68.195857]  dump_stack+0x19/0x20
[   68.196073]  ? asm_exc_general_protection+0x2b/0x30
[   68.196248]  check_preemption_disabled+0x168/0x180
[   68.196612]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.196858]  debug_smp_processor_id+0x20/0x30
[   68.197161]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.197421]  __schedule+0xa0/0x33a0
[   68.197854]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.198125]  ? do_task_dead+0xa8/0x110
[   68.198527]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.198798]  ? debug_smp_processor_id+0x20/0x30
[   68.199126]  zap_huge_pmd+0x48e/0xd40
[   68.199407]  ? rcu_is_watching+0x19/0xc0
[   68.199762]  unmap_page_range+0x1ad6/0x4360
[   68.200026]  ? lock_release+0x592/0x870
[   68.200444]  ? update_stack_state+0x2d9/0x610
[   68.200626]  ? __pfx___schedule+0x10/0x10
[   68.201002]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.201200]  ? debug_smp_processor_id+0x20/0x30
[   68.201558]  ? __pfx_unmap_page_range+0x10/0x10
[   68.201770]  ? rcu_is_watching+0x19/0xc0
[   68.202156]  unmap_single_vma+0x1ac/0x2d0
[   68.202395]  ? trace_irq_enable+0xe1/0x120
[   68.202813]  unmap_vmas+0x210/0x470
[   68.203043]  ? do_task_dead+0x4a/0x110
[   68.203411]  ? __pfx_unmap_vmas+0x10/0x10
[   68.203608]  do_task_dead+0xe0/0x110
[   68.203986]  ? __pfx_lock_release+0x10/0x10
[   68.204159]  make_task_dead+0x384/0x3c0
[   68.204506]  ? lock_release+0x592/0x870
[   68.204703]  rewind_stack_and_make_dead+0x16/0x20
[   68.205029]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   68.205231] RIP: 0033:0x7f17bd43ee5d
[   68.205595]  ? __pfx_lock_release+0x10/0x10
[   68.205782] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.206220]  ? mlock_drain_local+0x27f/0x4b0
[   68.206447] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   68.206787]  exit_mmap+0x19e/0xb10
[   68.206970]  ORIG_RAX: 000000000000003c
[   68.207532]  ? __pfx_exit_mmap+0x10/0x10
[   68.207724] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.208205]  ? debug_smp_processor_id+0x20/0x30
[   68.208364] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.208725]  ? trace_hardirqs_on+0x51/0x60
[   68.208898] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.209544]  ? kasan_quarantine_put+0xa2/0x200
[   68.209755] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.210416]  ? __khugepaged_exit+0x266/0x4c0
[   68.210602] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.211239]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.211439]  </TASK>
[   68.212079]  __mmput+0xde/0x3a0
[   68.213924]  mmput+0x74/0x90
[   68.214220]  do_exit+0xa03/0x29f0
[   68.214563]  ? trace_hardirqs_on+0x51/0x60
[   68.214968]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.215570]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.216040]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.216519]  ? __pfx_do_exit+0x10/0x10
[   68.216889]  ? __audit_syscall_entry+0x39c/0x500
[   68.217350]  __x64_sys_exit+0x50/0x60
[   68.217715]  x64_sys_call+0x20c9/0x20d0
[   68.218095]  do_syscall_64+0x6d/0x140
[   68.218465]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.218950] RIP: 0033:0x7f17bd43ee5d
[   68.219299] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.219872] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.220572] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.221227] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.221876] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.222538] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.223188] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.223350] systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
[   68.223862]  </TASK>
[   68.223870] Modules linked in:
[   68.224826] systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   68.225155] ---[ end trace 0000000000000000 ]---
[   68.225167] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.226780] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.228515] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.229012] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   68.229678] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   68.230340] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   68.230993] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.231723] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   68.232384] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.233127] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.233666] CR2: 00007f17bd6ea5b8 CR3: 000000001ed64002 CR4: 0000000000770ef0
[   68.234346] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.235013] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.235753] PKRU: 55555554
[   68.236026] note: repro[27151] exited with preempt_count 1
[   68.236538] Fixing recursive fault but reboot is needed!
[   68.237033] BUG: scheduling while atomic: repro/27151/0x00000000
[   68.237592] INFO: lockdep is turned off.
[   68.237970] Modules linked in:
[   68.238269] Preemption disabled at:
[   68.238278] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   68.239134] CPU: 1 UID: 0 PID: 27151 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.240000] Tainted: [D]=DIE, [W]=WARN
[   68.240368] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.241421] Call Trace:
[   68.241661]  <TASK>
[   68.241872]  dump_stack_lvl+0x121/0x150
[   68.242257]  ? do_task_dead+0x28/0x110
[   68.242629]  dump_stack+0x19/0x20
[   68.242964]  __schedule_bug+0x12d/0x180
[   68.243354]  __schedule+0x2401/0x33a0
[   68.243725]  ? do_task_dead+0xa8/0x110
[   68.244098]  ? rcu_is_watching+0x19/0xc0
[   68.244504]  ? lock_release+0x592/0x870
[   68.244889]  ? __pfx___schedule+0x10/0x10
[   68.245295]  ? debug_smp_processor_id+0x20/0x30
[   68.245743]  ? rcu_is_watching+0x19/0xc0
[   68.246128]  ? trace_irq_enable+0xe1/0x120
[   68.246534]  ? do_task_dead+0x4a/0x110
[   68.246903]  do_task_dead+0xe0/0x110
[   68.247263]  make_task_dead+0x384/0x3c0
[   68.247653]  rewind_stack_and_make_dead+0x16/0x20
[   68.248113] RIP: 0033:0x7f17bd43ee5d
[   68.248462] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.249034] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.249748] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.250408] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.251064] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.251731] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.252389] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.253061]  </TASK>
[   68.522645] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#157] PREEMPT SMP KASAN NOPTI
[   68.523779] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.524475] CPU: 1 UID: 0 PID: 27310 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.525345] Tainted: [D]=DIE, [W]=WARN
[   68.525697] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.526727] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.527419] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.529347] RSP: 0018:ffff8880396477d8 EFLAGS: 00010202
[   68.529840] RAX: dffffc0000000000 RBX: ffffea00004d7fc0 RCX: ffffffff81bbb789
[   68.530490] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00004d7fd0
[   68.531162] RBP: ffff8880396477f8 R08: 0000000000000000 R09: ffffed1003de2db0
[   68.532206] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.532855] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ef16d80
[   68.533504] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.534240] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.534774] CR2: 00007f17bd6e9ef8 CR3: 00000000216aa001 CR4: 0000000000770ef0
[   68.535548] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.536491] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.537160] PKRU: 55555554
[   68.537432] Call Trace:
[   68.537672]  <TASK>
[   68.537890]  ? show_regs+0x6d/0x80
[   68.538248]  ? die_addr+0x45/0xb0
[   68.538594]  ? exc_general_protection+0x1ae/0x340
[   68.539055]  ? asm_exc_general_protection+0x2b/0x30
[   68.539539]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.540035]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.540533]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.541036]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.541541]  zap_huge_pmd+0x48e/0xd40
[   68.541922]  unmap_page_range+0x1ad6/0x4360
[   68.542348]  ? update_stack_state+0x2d9/0x610
[   68.542803]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.543306]  ? __pfx_unmap_page_range+0x10/0x10
[   68.543881]  unmap_single_vma+0x1ac/0x2d0
[   68.544511]  unmap_vmas+0x210/0x470
[   68.544876]  ? __pfx_unmap_vmas+0x10/0x10
[   68.545279]  ? __pfx_lock_release+0x10/0x10
[   68.545696]  ? lock_release+0x592/0x870
[   68.546076]  ? mas_next_slot+0x133a/0x1a50
[   68.546511]  ? __pfx_lock_release+0x10/0x10
[   68.546928]  ? mlock_drain_local+0x27f/0x4b0
[   68.547358]  exit_mmap+0x19e/0xb10
[   68.547709]  ? __pfx_exit_mmap+0x10/0x10
[   68.548326]  ? debug_smp_processor_id+0x20/0x30
[   68.548914]  ? trace_hardirqs_on+0x51/0x60
[   68.549340]  ? kasan_quarantine_put+0xa2/0x200
[   68.549798]  ? __khugepaged_exit+0x266/0x4c0
[   68.550230]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.550749]  __mmput+0xde/0x3a0
[   68.551077]  mmput+0x74/0x90
[   68.551389]  do_exit+0xa03/0x29f0
[   68.551732]  ? trace_hardirqs_on+0x51/0x60
[   68.552342]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.553128]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.553605]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.554091]  ? __pfx_do_exit+0x10/0x10
[   68.554474]  ? __audit_syscall_entry+0x39c/0x500
[   68.554940]  __x64_sys_exit+0x50/0x60
[   68.555321]  x64_sys_call+0x20c9/0x20d0
[   68.555716]  do_syscall_64+0x6d/0x140
[   68.556101]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.556596] RIP: 0033:0x7f17bd43ee5d
[   68.556945] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.557523] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.558265] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.558930] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.559584] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.560322] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.561250] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.561930]  </TASK>
[   68.562173] Modules linked in:
[   68.562666] ---[ end trace 0000000000000000 ]---
[   68.563117] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.563810] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.565497] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.565997] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   68.566930] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   68.567805] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   68.568479] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.569137] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   68.569808] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.570646] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.571567] CR2: 00007f17bd6e9ef8 CR3: 00000000216aa001 CR4: 0000000000770ef0
[   68.572254] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.572922] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.573580] PKRU: 55555554
[   68.573866] note: repro[27310] exited with preempt_count 1
[   68.574397] Fixing recursive fault but reboot is needed!
[   68.575202] BUG: scheduling while atomic: repro/27310/0x00000000
[   68.575969] INFO: lockdep is turned off.
[   68.576376] Modules linked in:
[   68.576678] Preemption disabled at:
[   68.576684] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   68.577536] CPU: 1 UID: 0 PID: 27310 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.578399] Tainted: [D]=DIE, [W]=WARN
[   68.578834] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.580170] Call Trace:
[   68.580413]  <TASK>
[   68.580629]  dump_stack_lvl+0x121/0x150
[   68.581013]  ? do_task_dead+0x28/0x110
[   68.581389]  dump_stack+0x19/0x20
[   68.581737]  __schedule_bug+0x12d/0x180
[   68.582131]  __schedule+0x2401/0x33a0
[   68.582201] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#158] PREEMPT SMP KASAN NOPTI
[   68.582507]  ? do_task_dead+0xa8/0x110
[   68.583626] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.583978]  ? rcu_is_watching+0x19/0xc0
[   68.584674] CPU: 0 UID: 0 PID: 27342 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.585034]  ? lock_release+0x592/0x870
[   68.585905] Tainted: [D]=DIE, [W]=WARN
[   68.586253]  ? __pfx___schedule+0x10/0x10
[   68.586609] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.586989]  ? debug_smp_processor_id+0x20/0x30
[   68.587995] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.588415]  ? rcu_is_watching+0x19/0xc0
[   68.588948] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.589317]  ? trace_irq_enable+0xe1/0x120
[   68.591068] RSP: 0018:ffff88803973f7d8 EFLAGS: 00010202
[   68.591462]  ? do_task_dead+0x4a/0x110
[   68.591942] RAX: dffffc0000000000 RBX: ffffea0000e54f00 RCX: ffffffff81bbb789
[   68.592296]  do_task_dead+0xe0/0x110
[   68.592932] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000e54f10
[   68.593280]  make_task_dead+0x384/0x3c0
[   68.593960] RBP: ffff88803973f7f8 R08: 0000000000000000 R09: ffffed1001f8cb44
[   68.594328]  rewind_stack_and_make_dead+0x16/0x20
[   68.594979] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.595405] RIP: 0033:0x7f17bd43ee5d
[   68.596093] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88800fc65a20
[   68.596439] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.597113] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.597663] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.598427] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.599121] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.599675] CR2: 00007f469c226000 CR3: 000000001eda2002 CR4: 0000000000770ef0
[   68.600323] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.600970] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.601639] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.602320] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.602966] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.603613] PKRU: 55555554
[   68.604257] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.604524] Call Trace:
[   68.605527]  </TASK>
[   68.605758]  <TASK>
[   68.606200]  ? show_regs+0x6d/0x80
[   68.606550]  ? die_addr+0x45/0xb0
[   68.606908]  ? exc_general_protection+0x1ae/0x340
[   68.607407]  ? asm_exc_general_protection+0x2b/0x30
[   68.607942]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.608493]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.609039]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.609601]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.610100]  zap_huge_pmd+0x48e/0xd40
[   68.610486]  unmap_page_range+0x1ad6/0x4360
[   68.610906]  ? update_stack_state+0x2d9/0x610
[   68.611370]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.611865]  ? __pfx_unmap_page_range+0x10/0x10
[   68.612330]  unmap_single_vma+0x1ac/0x2d0
[   68.612746]  unmap_vmas+0x210/0x470
[   68.613172]  ? __pfx_unmap_vmas+0x10/0x10
[   68.613635]  ? __pfx_lock_release+0x10/0x10
[   68.614097]  ? lock_release+0x592/0x870
[   68.614504]  ? mas_next_slot+0x133a/0x1a50
[   68.614922]  ? __pfx_lock_release+0x10/0x10
[   68.615347]  ? mlock_drain_local+0x27f/0x4b0
[   68.615769]  exit_mmap+0x19e/0xb10
[   68.616120]  ? __pfx_exit_mmap+0x10/0x10
[   68.616521]  ? debug_smp_processor_id+0x20/0x30
[   68.616987]  ? trace_hardirqs_on+0x51/0x60
[   68.617429]  ? kasan_quarantine_put+0xa2/0x200
[   68.617893]  ? __khugepaged_exit+0x266/0x4c0
[   68.618328]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.618848]  __mmput+0xde/0x3a0
[   68.619181]  mmput+0x74/0x90
[   68.619539]  do_exit+0xa03/0x29f0
[   68.619899]  ? trace_hardirqs_on+0x51/0x60
[   68.620316]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.620923]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.621431]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.621944]  ? __pfx_do_exit+0x10/0x10
[   68.622332]  ? __audit_syscall_entry+0x39c/0x500
[   68.622800]  __x64_sys_exit+0x50/0x60
[   68.623177]  x64_sys_call+0x20c9/0x20d0
[   68.623574]  do_syscall_64+0x6d/0x140
[   68.623946]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.624454] RIP: 0033:0x7f17bd43ee5d
[   68.624811] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.625401] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.626139] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.626816] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.627474] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.628160] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.628819] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.629494]  </TASK>
[   68.629726] Modules linked in:
[   68.630244] ---[ end trace 0000000000000000 ]---
[   68.630715] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.631281] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.633163] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.633702] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   68.634379] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   68.635049] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   68.635823] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.636585] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   68.637298] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   68.638103] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.638720] CR2: 00007f469c226000 CR3: 000000001eda2002 CR4: 0000000000770ef0
[   68.639394] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.640180] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.640980] PKRU: 55555554
[   68.641258] note: repro[27342] exited with preempt_count 1
[   68.641778] Fixing recursive fault but reboot is needed!
[   68.642284] BUG: scheduling while atomic: repro/27342/0x00000000
[   68.642866] INFO: lockdep is turned off.
[   68.643239] Modules linked in:
[   68.643634] Preemption disabled at:
[   68.643643] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   68.643804] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#159] PREEMPT SMP KASAN NOPTI
[   68.644015] CPU: 0 UID: 0 PID: 27342 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.644533] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.645629] Tainted: [D]=DIE, [W]=WARN
[   68.646447] CPU: 1 UID: 0 PID: 27390 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.647125] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.647479] Tainted: [D]=DIE, [W]=WARN
[   68.648317] Call Trace:
[   68.649334] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.649710]  <TASK>
[   68.649941] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.651063]  dump_stack_lvl+0x121/0x150
[   68.651271] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.651822]  ? do_task_dead+0x28/0x110
[   68.652176] RSP: 0018:ffff88801dce77d8 EFLAGS: 00010202
[   68.653953]  dump_stack+0x19/0x20
[   68.654298] 
[   68.654808]  __schedule_bug+0x12d/0x180
[   68.655117] RAX: dffffc0000000000 RBX: ffffea0000aac680 RCX: ffffffff81bbb789
[   68.655287]  __schedule+0x2401/0x33a0
[   68.655636] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000aac690
[   68.656291]  ? do_task_dead+0xa8/0x110
[   68.656630] RBP: ffff88801dce77f8 R08: 0000000000000000 R09: ffffed10042b6830
[   68.657308]  ? rcu_is_watching+0x19/0xc0
[   68.657649] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.658309]  ? lock_release+0x592/0x870
[   68.658667] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880215b4180
[   68.659357]  ? __pfx___schedule+0x10/0x10
[   68.659712] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.660393]  ? debug_smp_processor_id+0x20/0x30
[   68.660751] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.661571]  ? rcu_is_watching+0x19/0xc0
[   68.661988] CR2: 00007f17bd49bc20 CR3: 000000003957c001 CR4: 0000000000770ef0
[   68.662525]  ? trace_irq_enable+0xe1/0x120
[   68.662880] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.663533]  ? do_task_dead+0x4a/0x110
[   68.663914] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.664565]  do_task_dead+0xe0/0x110
[   68.664912] PKRU: 55555554
[   68.665599]  make_task_dead+0x384/0x3c0
[   68.665928] Call Trace:
[   68.666195]  rewind_stack_and_make_dead+0x16/0x20
[   68.666550]  <TASK>
[   68.666825] RIP: 0033:0x7f17bd43ee5d
[   68.667258]  ? show_regs+0x6d/0x80
[   68.667491] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.667832]  ? die_addr+0x45/0xb0
[   68.668156] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202
[   68.668738]  ? exc_general_protection+0x1ae/0x340
[   68.669046]  ORIG_RAX: 000000000000003c
[   68.669532]  ? asm_exc_general_protection+0x2b/0x30
[   68.669955] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.670327]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.670780] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.671430]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.671911] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.672557]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.673031] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.673682]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.674146] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.674801]  zap_huge_pmd+0x48e/0xd40
[   68.675299]  </TASK>
[   68.675926]  unmap_page_range+0x1ad6/0x4360
[   68.676863]  ? update_stack_state+0x2d9/0x610
[   68.677320]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.677811]  ? __pfx_unmap_page_range+0x10/0x10
[   68.678263]  unmap_single_vma+0x1ac/0x2d0
[   68.678668]  unmap_vmas+0x210/0x470
[   68.679024]  ? __pfx_unmap_vmas+0x10/0x10
[   68.679424]  ? __pfx_lock_release+0x10/0x10
[   68.679844]  ? lock_release+0x592/0x870
[   68.680219]  ? mas_next_slot+0x133a/0x1a50
[   68.680626]  ? __pfx_lock_release+0x10/0x10
[   68.681038]  ? mlock_drain_local+0x27f/0x4b0
[   68.681461]  exit_mmap+0x19e/0xb10
[   68.681810]  ? __pfx_exit_mmap+0x10/0x10
[   68.682199]  ? debug_smp_processor_id+0x20/0x30
[   68.682653]  ? trace_hardirqs_on+0x51/0x60
[   68.683062]  ? kasan_quarantine_put+0xa2/0x200
[   68.683502]  ? __khugepaged_exit+0x266/0x4c0
[   68.683929]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.684453]  __mmput+0xde/0x3a0
[   68.684781]  mmput+0x74/0x90
[   68.685077]  do_exit+0xa03/0x29f0
[   68.685420]  ? trace_hardirqs_on+0x51/0x60
[   68.685832]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.686388]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.686808]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.687241]  ? __pfx_do_exit+0x10/0x10
[   68.687590]  ? __audit_syscall_entry+0x39c/0x500
[   68.688003]  __x64_sys_exit+0x50/0x60
[   68.688344]  x64_sys_call+0x20c9/0x20d0
[   68.688694]  do_syscall_64+0x6d/0x140
[   68.689027]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.689470] RIP: 0033:0x7f17bd43ee5d
[   68.689785] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.690309] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.690946] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.691547] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.692148] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.692741] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.693337] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.693886]  </TASK>
[   68.694055] Modules linked in:
[   68.694491] ---[ end trace 0000000000000000 ]---
[   68.694846] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.695297] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.696679] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   68.697054] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   68.697544] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   68.698035] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   68.698527] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.699018] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   68.699577] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   68.700134] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.700543] CR2: 00007f17bd49bc20 CR3: 000000003957c001 CR4: 0000000000770ef0
[   68.701038] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.701529] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.702075] PKRU: 55555554
[   68.702330] note: repro[27390] exited with preempt_count 1
[   68.702789] Fixing recursive fault but reboot is needed!
[   68.703244] BUG: scheduling while atomic: repro/27390/0x00000000
[   68.703840] INFO: lockdep is turned off.
[   68.704191] Modules linked in:
[   68.704467] Preemption disabled at:
[   68.704473] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   68.705244] CPU: 1 UID: 0 PID: 27390 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   68.706021] Tainted: [D]=DIE, [W]=WARN
[   68.706346] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.707163] Call Trace:
[   68.707340]  <TASK>
[   68.707496]  dump_stack_lvl+0x121/0x150
[   68.707768]  ? do_task_dead+0x28/0x110
[   68.708029]  dump_stack+0x19/0x20
[   68.708268]  __schedule_bug+0x12d/0x180
[   68.708545]  __schedule+0x2401/0x33a0
[   68.708807]  ? do_task_dead+0xa8/0x110
[   68.709071]  ? rcu_is_watching+0x19/0xc0
[   68.709354]  ? lock_release+0x592/0x870
[   68.709624]  ? __pfx___schedule+0x10/0x10
[   68.709908]  ? debug_smp_processor_id+0x20/0x30
[   68.710214]  ? rcu_is_watching+0x19/0xc0
[   68.710484]  ? trace_irq_enable+0xe1/0x120
[   68.710761]  ? do_task_dead+0x4a/0x110
[   68.711014]  do_task_dead+0xe0/0x110
[   68.711261]  make_task_dead+0x384/0x3c0
[   68.711527]  rewind_stack_and_make_dead+0x16/0x20
[   68.711840] RIP: 0033:0x7f17bd43ee5d
[   68.712079] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   68.712471] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.712969] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   68.713430] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.713867] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   68.714309] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   68.714750] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   68.715192]  </TASK>
[   69.182979] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#160] PREEMPT SMP KASAN NOPTI
[   69.184127] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.184833] CPU: 1 UID: 0 PID: 27696 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   69.185677] Tainted: [D]=DIE, [W]=WARN
[   69.186032] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.187069] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.187632] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.189309] RSP: 0018:ffff88801c1b77d8 EFLAGS: 00010202
[   69.189797] RAX: dffffc0000000000 RBX: ffffea0000510d00 RCX: ffffffff81bbb789
[   69.190456] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000510d10
[   69.191112] RBP: ffff88801c1b77f8 R08: 0000000000000000 R09: ffffed1003bbe6fc
[   69.191766] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.192414] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff88801ddf37e0
[   69.193063] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   69.193800] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.194334] CR2: 00007f17bd5fca50 CR3: 00000000273bc001 CR4: 0000000000770ef0
[   69.194982] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.195630] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.196282] PKRU: 55555554
[   69.196543] Call Trace:
[   69.196782]  <TASK>
[   69.196996]  ? show_regs+0x6d/0x80
[   69.197348]  ? die_addr+0x45/0xb0
[   69.197686]  ? exc_general_protection+0x1ae/0x340
[   69.198150]  ? asm_exc_general_protection+0x2b/0x30
[   69.198628]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.199115]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.199611]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.200103]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.200589]  zap_huge_pmd+0x48e/0xd40
[   69.200955]  unmap_page_range+0x1ad6/0x4360
[   69.201354]  ? update_stack_state+0x2d9/0x610
[   69.201778]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.202246]  ? __pfx_unmap_page_range+0x10/0x10
[   69.202683]  unmap_single_vma+0x1ac/0x2d0
[   69.203072]  unmap_vmas+0x210/0x470
[   69.203412]  ? __pfx_unmap_vmas+0x10/0x10
[   69.203788]  ? __pfx_lock_release+0x10/0x10
[   69.204174]  ? lock_release+0x592/0x870
[   69.204534]  ? mas_next_slot+0x133a/0x1a50
[   69.204917]  ? __pfx_lock_release+0x10/0x10
[   69.205308]  ? mlock_drain_local+0x27f/0x4b0
[   69.205715]  exit_mmap+0x19e/0xb10
[   69.206051]  ? __pfx_exit_mmap+0x10/0x10
[   69.206420]  ? debug_smp_processor_id+0x20/0x30
[   69.206847]  ? trace_hardirqs_on+0x51/0x60
[   69.207238]  ? kasan_quarantine_put+0xa2/0x200
[   69.207665]  ? __khugepaged_exit+0x266/0x4c0
[   69.208072]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.208561]  __mmput+0xde/0x3a0
[   69.208867]  mmput+0x74/0x90
[   69.209164]  do_exit+0xa03/0x29f0
[   69.209501]  ? trace_hardirqs_on+0x51/0x60
[   69.209882]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.210457]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.210897]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.211359]  ? __pfx_do_exit+0x10/0x10
[   69.211718]  ? __audit_syscall_entry+0x39c/0x500
[   69.212156]  __x64_sys_exit+0x50/0x60
[   69.212505]  x64_sys_call+0x20c9/0x20d0
[   69.212868]  do_syscall_64+0x6d/0x140
[   69.213221]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.213688] RIP: 0033:0x7f17bd43ee5d
[   69.214017] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   69.214560] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.215209] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   69.215804] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.216396] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   69.216983] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   69.217581] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   69.218177]  </TASK>
[   69.218379] Modules linked in:
[   69.218809] ---[ end trace 0000000000000000 ]---
[   69.219221] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.219783] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.221390] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   69.221830] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   69.222402] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   69.222971] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   69.223586] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.223901] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#161] PREEMPT SMP KASAN NOPTI
[   69.224158] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   69.225274] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.225848] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   69.226533] CPU: 0 UID: 0 PID: 27700 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   69.227157] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.228073] Tainted: [D]=DIE, [W]=WARN
[   69.228083] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.228535] CR2: 00007f17bd5fca50 CR3: 00000000273bc001 CR4: 0000000000770ef0
[   69.228910] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.229757] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.230401] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.230835] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.231485] RSP: 0018:ffff88801c2e77d8 EFLAGS: 00010202
[   69.231502] RAX: dffffc0000000000 RBX: ffffea00009c9340 RCX: ffffffff81bbb789
[   69.232880] PKRU: 55555554
[   69.233526] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00009c9350
[   69.233899] note: repro[27696] exited with preempt_count 1
[   69.234530] RBP: ffff88801c2e77f8 R08: 0000000000000000 R09: ffffed10023199ec
[   69.234747] Fixing recursive fault but reboot is needed!
[   69.235397] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.235410] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880118ccf60
[   69.238260] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   69.239101] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.239649] CR2: 00007f469c241018 CR3: 0000000039490006 CR4: 0000000000770ef0
[   69.240321] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.240992] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.241679] PKRU: 55555554
[   69.241945] Call Trace:
[   69.242189]  <TASK>
[   69.242411]  ? show_regs+0x6d/0x80
[   69.242767]  ? die_addr+0x45/0xb0
[   69.243117]  ? exc_general_protection+0x1ae/0x340
[   69.243598]  ? asm_exc_general_protection+0x2b/0x30
[   69.244081]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.244609]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.245123]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.245642]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.246140]  zap_huge_pmd+0x48e/0xd40
[   69.246527]  unmap_page_range+0x1ad6/0x4360
[   69.246945]  ? update_stack_state+0x2d9/0x610
[   69.247396]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.247887]  ? __pfx_unmap_page_range+0x10/0x10
[   69.248349]  unmap_single_vma+0x1ac/0x2d0
[   69.248750]  unmap_vmas+0x210/0x470
[   69.249131]  ? __pfx_unmap_vmas+0x10/0x10
[   69.249542]  ? __pfx_lock_release+0x10/0x10
[   69.250150]  ? lock_release+0x592/0x870
[   69.250637]  ? mas_next_slot+0x133a/0x1a50
[   69.251062]  ? __pfx_lock_release+0x10/0x10
[   69.251523]  ? mlock_drain_local+0x27f/0x4b0
[   69.251963]  exit_mmap+0x19e/0xb10
[   69.252330]  ? __pfx_exit_mmap+0x10/0x10
[   69.252754]  ? debug_smp_processor_id+0x20/0x30
[   69.253246]  ? trace_hardirqs_on+0x51/0x60
[   69.253663]  ? kasan_quarantine_put+0xa2/0x200
[   69.254109]  ? __khugepaged_exit+0x266/0x4c0
[   69.254570]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.255141]  __mmput+0xde/0x3a0
[   69.255492]  mmput+0x74/0x90
[   69.255792]  do_exit+0xa03/0x29f0
[   69.256138]  ? trace_hardirqs_on+0x51/0x60
[   69.256575]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.257204]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.257681]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.258164]  ? __pfx_do_exit+0x10/0x10
[   69.258551]  ? __audit_syscall_entry+0x39c/0x500
[   69.259012]  __x64_sys_exit+0x50/0x60
[   69.259411]  x64_sys_call+0x20c9/0x20d0
[   69.259809]  do_syscall_64+0x6d/0x140
[   69.260185]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.260683] RIP: 0033:0x7f17bd43ee5d
[   69.261035] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   69.261641] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.262372] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   69.263049] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.263736] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   69.264420] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   69.265128] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   69.265877]  </TASK>
[   69.266107] Modules linked in:
[   69.266650] ---[ end trace 0000000000000000 ]---
[   69.267130] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.267804] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.269587] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   69.270107] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   69.271149] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   69.271933] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   69.272622] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.273288] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   69.273953] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   69.274704] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.275246] CR2: 00007f469c241018 CR3: 0000000039490006 CR4: 0000000000770ef0
[   69.276008] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.276689] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.277328] PKRU: 55555554
[   69.277585] note: repro[27700] exited with preempt_count 1
[   69.278094] Fixing recursive fault but reboot is needed!
[   69.278580] BUG: scheduling while atomic: repro/27700/0x00000000
[   69.279130] INFO: lockdep is turned off.
[   69.279565] Modules linked in:
[   69.279871] Preemption disabled at:
[   69.279878] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   69.280745] CPU: 0 UID: 0 PID: 27700 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   69.281563] Tainted: [D]=DIE, [W]=WARN
[   69.281915] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.282927] Call Trace:
[   69.283169]  <TASK>
[   69.283383]  dump_stack_lvl+0x121/0x150
[   69.283759]  ? do_task_dead+0x28/0x110
[   69.284131]  dump_stack+0x19/0x20
[   69.284481]  __schedule_bug+0x12d/0x180
[   69.284863]  __schedule+0x2401/0x33a0
[   69.285215]  ? do_task_dead+0xa8/0x110
[   69.285557]  ? rcu_is_watching+0x19/0xc0
[   69.285923]  ? lock_release+0x592/0x870
[   69.286271]  ? __pfx___schedule+0x10/0x10
[   69.286630]  ? debug_smp_processor_id+0x20/0x30
[   69.287047]  ? rcu_is_watching+0x19/0xc0
[   69.287399]  ? trace_irq_enable+0xe1/0x120
[   69.287786]  ? do_task_dead+0x4a/0x110
[   69.288130]  do_task_dead+0xe0/0x110
[   69.288478]  make_task_dead+0x384/0x3c0
[   69.288872]  rewind_stack_and_make_dead+0x16/0x20
[   69.289518] RIP: 0033:0x7f17bd43ee5d
[   69.289895] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   69.290449] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.291123] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   69.291726] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.292304] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   69.292873] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   69.293452] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   69.294037]  </TASK>
[   70.110633] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#162] PREEMPT SMP KASAN NOPTI
[   70.111849] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.112546] CPU: 0 UID: 0 PID: 28350 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   70.113397] Tainted: [D]=DIE, [W]=WARN
[   70.113752] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.114773] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.115331] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.117000] RSP: 0018:ffff88803d1df7d8 EFLAGS: 00010202
[   70.117501] RAX: dffffc0000000000 RBX: ffffea00007bc780 RCX: ffffffff81bbb789
[   70.118158] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00007bc790
[   70.118815] RBP: ffff88803d1df7f8 R08: 0000000000000000 R09: ffffed10026a7320
[   70.119475] R10: 0000000000000001 R11: ffff88806c450318 R12: 0000000000000000
[   70.120128] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013539900
[   70.120783] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   70.121524] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.122061] CR2: 00007f17bd5fca50 CR3: 00000000135f8006 CR4: 0000000000770ef0
[   70.122722] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.123397] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.124055] PKRU: 55555554
[   70.124324] Call Trace:
[   70.124566]  <TASK>
[   70.124791]  ? show_regs+0x6d/0x80
[   70.125150]  ? die_addr+0x45/0xb0
[   70.125493]  ? exc_general_protection+0x1ae/0x340
[   70.125959]  ? asm_exc_general_protection+0x2b/0x30
[   70.126445]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.126939]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.127442]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.127937]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.128435]  zap_huge_pmd+0x48e/0xd40
[   70.128807]  unmap_page_range+0x1ad6/0x4360
[   70.129215]  ? __pfx_lock_release+0x10/0x10
[   70.129651]  ? do_raw_spin_trylock+0xbf/0x190
[   70.130106]  ? __kasan_check_read+0x15/0x20
[   70.130567]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.131068]  ? __pfx_unmap_page_range+0x10/0x10
[   70.131614]  unmap_single_vma+0x1ac/0x2d0
[   70.132024]  unmap_vmas+0x210/0x470
[   70.132385]  ? __pfx_unmap_vmas+0x10/0x10
[   70.132775]  ? __pfx_lock_release+0x10/0x10
[   70.133183]  ? lock_release+0x592/0x870
[   70.133565]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   70.134046]  ? __pfx_lock_release+0x10/0x10
[   70.134470]  ? mlock_drain_local+0x27f/0x4b0
[   70.134896]  exit_mmap+0x19e/0xb10
[   70.135240]  ? __pfx_exit_mmap+0x10/0x10
[   70.135636]  ? debug_smp_processor_id+0x20/0x30
[   70.136097]  ? trace_hardirqs_on+0x51/0x60
[   70.136512]  ? kasan_quarantine_put+0xa2/0x200
[   70.136964]  ? __khugepaged_exit+0x266/0x4c0
[   70.137413]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.137945]  __mmput+0xde/0x3a0
[   70.138284]  mmput+0x74/0x90
[   70.138592]  do_exit+0xa03/0x29f0
[   70.138929]  ? trace_hardirqs_on+0x51/0x60
[   70.139345]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.139962]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.140438]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.140929]  ? __pfx_do_exit+0x10/0x10
[   70.141332]  ? __audit_syscall_entry+0x39c/0x500
[   70.141817]  __x64_sys_exit+0x50/0x60
[   70.142199]  x64_sys_call+0x20c9/0x20d0
[   70.142602]  do_syscall_64+0x6d/0x140
[   70.142974]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.143470] RIP: 0033:0x7f17bd43ee5d
[   70.143825] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   70.144392] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.145091] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   70.145787] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.146466] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   70.147132] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   70.147788] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   70.148492]  </TASK>
[   70.148721] Modules linked in:
[   70.149228] ---[ end trace 0000000000000000 ]---
[   70.149695] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.150336] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.152136] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   70.152645] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   70.153297] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   70.153935] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   70.154575] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.155219] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   70.155936] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   70.156661] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.157269] CR2: 00007f17bd5fca50 CR3: 00000000135f8006 CR4: 0000000000770ef0
[   70.157949] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.158577] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.159201] PKRU: 55555554
[   70.159558] note: repro[28350] exited with preempt_count 1
[   70.160042] Fixing recursive fault but reboot is needed!
[   70.160492] BUG: scheduling while atomic: repro/28350/0x00000000
[   70.161008] INFO: lockdep is turned off.
[   70.161343] Modules linked in:
[   70.161612] Preemption disabled at:
[   70.161617] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   70.162391] CPU: 0 UID: 0 PID: 28350 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   70.163181] Tainted: [D]=DIE, [W]=WARN
[   70.163510] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.164461] Call Trace:
[   70.164682]  <TASK>
[   70.164883]  dump_stack_lvl+0x121/0x150
[   70.165238]  ? do_task_dead+0x28/0x110
[   70.165574]  dump_stack+0x19/0x20
[   70.165884]  __schedule_bug+0x12d/0x180
[   70.166238]  __schedule+0x2401/0x33a0
[   70.166581]  ? do_task_dead+0xa8/0x110
[   70.166923]  ? rcu_is_watching+0x19/0xc0
[   70.167283]  ? lock_release+0x592/0x870
[   70.167632]  ? __pfx___schedule+0x10/0x10
[   70.168000]  ? debug_smp_processor_id+0x20/0x30
[   70.168422]  ? rcu_is_watching+0x19/0xc0
[   70.168776]  ? trace_irq_enable+0xe1/0x120
[   70.169142]  ? do_task_dead+0x4a/0x110
[   70.169466]  do_task_dead+0xe0/0x110
[   70.169777]  make_task_dead+0x384/0x3c0
[   70.170115]  rewind_stack_and_make_dead+0x16/0x20
[   70.170519] RIP: 0033:0x7f17bd43ee5d
[   70.170828] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   70.171332] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.171944] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   70.172523] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.173092] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   70.173660] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   70.174232] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   70.174817]  </TASK>
[   70.183131] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#163] PREEMPT SMP KASAN NOPTI
[   70.184367] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.185104] CPU: 1 UID: 0 PID: 28402 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   70.185964] Tainted: [D]=DIE, [W]=WARN
[   70.186318] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.187343] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.187898] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.189552] RSP: 0018:ffff88801664f7d8 EFLAGS: 00010202
[   70.190047] RAX: dffffc0000000000 RBX: ffffea0000e5a100 RCX: ffffffff81bbb789
[   70.190697] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000e5a110
[   70.191345] RBP: ffff88801664f7f8 R08: 0000000000000000 R09: ffffed100223f514
[   70.191996] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.192646] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880111fa8a0
[   70.193297] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   70.194032] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.194566] CR2: 0000000000404200 CR3: 0000000013ca8004 CR4: 0000000000770ef0
[   70.195214] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.195873] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.196520] PKRU: 55555554
[   70.196789] Call Trace:
[   70.197027]  <TASK>
[   70.197237]  ? show_regs+0x6d/0x80
[   70.197589]  ? die_addr+0x45/0xb0
[   70.197937]  ? exc_general_protection+0x1ae/0x340
[   70.198402]  ? asm_exc_general_protection+0x2b/0x30
[   70.198878]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.199373]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.199874]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.200361]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.200845]  zap_huge_pmd+0x48e/0xd40
[   70.201217]  unmap_page_range+0x1ad6/0x4360
[   70.201625]  ? update_stack_state+0x2d9/0x610
[   70.202067]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.202553]  ? __pfx_unmap_page_range+0x10/0x10
[   70.202995]  unmap_single_vma+0x1ac/0x2d0
[   70.203391]  unmap_vmas+0x210/0x470
[   70.203746]  ? __pfx_unmap_vmas+0x10/0x10
[   70.204136]  ? __pfx_lock_release+0x10/0x10
[   70.204546]  ? lock_release+0x592/0x870
[   70.204921]  ? mas_next_slot+0x133a/0x1a50
[   70.205321]  ? __pfx_lock_release+0x10/0x10
[   70.205735]  ? mlock_drain_local+0x27f/0x4b0
[   70.206153]  exit_mmap+0x19e/0xb10
[   70.206501]  ? __pfx_exit_mmap+0x10/0x10
[   70.206880]  ? debug_smp_processor_id+0x20/0x30
[   70.207328]  ? trace_hardirqs_on+0x51/0x60
[   70.207727]  ? kasan_quarantine_put+0xa2/0x200
[   70.208159]  ? __khugepaged_exit+0x266/0x4c0
[   70.208581]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.209096]  __mmput+0xde/0x3a0
[   70.209422]  mmput+0x74/0x90
[   70.209717]  do_exit+0xa03/0x29f0
[   70.210055]  ? trace_hardirqs_on+0x51/0x60
[   70.210458]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.211057]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.211521]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.211994]  ? __pfx_do_exit+0x10/0x10
[   70.212368]  ? __audit_syscall_entry+0x39c/0x500
[   70.212819]  __x64_sys_exit+0x50/0x60
[   70.213198]  x64_sys_call+0x20c9/0x20d0
[   70.213583]  do_syscall_64+0x6d/0x140
[   70.213946]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.214438] RIP: 0033:0x7f17bd43ee5d
[   70.214781] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   70.215357] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.216064] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   70.216723] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.217374] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   70.218036] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   70.218686] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   70.219362]  </TASK>
[   70.219581] Modules linked in:
[   70.220015] ---[ end trace 0000000000000000 ]---
[   70.220514] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.221074] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.222788] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   70.223298] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   70.224101] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   70.224782] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   70.225455] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.226190] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   70.227356] FS:  0000000000000000(0000) GS:ffff88806c500000(0000) knlGS:0000000000000000
[   70.228797] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.229536] CR2: 0000000000404200 CR3: 0000000013ca8004 CR4: 0000000000770ef0
[   70.230496] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.231380] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.232374] PKRU: 55555554
[   70.232747] note: repro[28402] exited with preempt_count 1
[   70.233310] Fixing recursive fault but reboot is needed!
[   70.234142] BUG: scheduling while atomic: repro/28402/0x00000000
[   70.234826] INFO: lockdep is turned off.
[   70.235198] Modules linked in:
[   70.235604] Preemption disabled at:
[   70.235611] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   70.236457] CPU: 1 UID: 0 PID: 28402 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   70.237313] Tainted: [D]=DIE, [W]=WARN
[   70.237677] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.238704] Call Trace:
[   70.238949]  <TASK>
[   70.239162]  dump_stack_lvl+0x121/0x150
[   70.239554]  ? do_task_dead+0x28/0x110
[   70.239925]  dump_stack+0x19/0x20
[   70.240273]  __schedule_bug+0x12d/0x180
[   70.240665]  __schedule+0x2401/0x33a0
[   70.241026]  ? do_task_dead+0xa8/0x110
[   70.241388]  ? rcu_is_watching+0x19/0xc0
[   70.241776]  ? lock_release+0x592/0x870
[   70.242162]  ? __pfx___schedule+0x10/0x10
[   70.242567]  ? debug_smp_processor_id+0x20/0x30
[   70.243020]  ? rcu_is_watching+0x19/0xc0
[   70.243420]  ? trace_irq_enable+0xe1/0x120
[   70.243826]  ? do_task_dead+0x4a/0x110
[   70.244203]  do_task_dead+0xe0/0x110
[   70.244562]  make_task_dead+0x384/0x3c0
[   70.244949]  rewind_stack_and_make_dead+0x16/0x20
[   70.245422] RIP: 0033:0x7f17bd43ee5d
[   70.245774] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   70.246344] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.247044] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   70.247704] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.248360] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   70.249013] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   70.249675] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   70.250345]  </TASK>
[   70.488074] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#164] PREEMPT SMP KASAN NOPTI
[   70.489495] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.490214] CPU: 0 UID: 0 PID: 28542 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   70.491160] Tainted: [D]=DIE, [W]=WARN
[   70.491532] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.492562] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.493130] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.494820] RSP: 0018:ffff88802726f7d8 EFLAGS: 00010202
[   70.495393] RAX: dffffc0000000000 RBX: ffffea00003f0c40 RCX: ffffffff81bbb789
[   70.496154] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea00003f0c50
[   70.496802] RBP: ffff88802726f7f8 R08: 0000000000000000 R09: ffffed10027abb2c
[   70.497455] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.498087] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff888013d5d960
[   70.498753] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   70.499545] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.500081] CR2: 00007f17bd70ffa8 CR3: 0000000039794003 CR4: 0000000000770ef0
[   70.500749] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.501402] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.502054] PKRU: 55555554
[   70.502325] Call Trace:
[   70.502567]  <TASK>
[   70.502785]  ? show_regs+0x6d/0x80
[   70.503226]  ? die_addr+0x45/0xb0
[   70.503662]  ? exc_general_protection+0x1ae/0x340
[   70.504255]  ? asm_exc_general_protection+0x2b/0x30
[   70.505020]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.505659]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.506298]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.506930]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.507569]  zap_huge_pmd+0x48e/0xd40
[   70.508038]  unmap_page_range+0x1ad6/0x4360
[   70.508569]  ? update_stack_state+0x2d9/0x610
[   70.509131]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.509759]  ? __pfx_unmap_page_range+0x10/0x10
[   70.510250]  unmap_single_vma+0x1ac/0x2d0
[   70.510685]  unmap_vmas+0x210/0x470
[   70.511068]  ? __pfx_unmap_vmas+0x10/0x10
[   70.511463]  ? __pfx_lock_release+0x10/0x10
[   70.511862]  ? lock_release+0x592/0x870
[   70.512229]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   70.512695]  ? __pfx_lock_release+0x10/0x10
[   70.513098]  ? mlock_drain_local+0x27f/0x4b0
[   70.513513]  exit_mmap+0x19e/0xb10
[   70.513852]  ? __pfx_exit_mmap+0x10/0x10
[   70.514232]  ? debug_smp_processor_id+0x20/0x30
[   70.514678]  ? trace_hardirqs_on+0x51/0x60
[   70.515084]  ? kasan_quarantine_put+0xa2/0x200
[   70.515536]  ? __khugepaged_exit+0x266/0x4c0
[   70.515948]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.516478]  __mmput+0xde/0x3a0
[   70.516796]  mmput+0x74/0x90
[   70.517105]  do_exit+0xa03/0x29f0
[   70.517464]  ? trace_hardirqs_on+0x51/0x60
[   70.517862]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.518455]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.518910]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.519407]  ? __pfx_do_exit+0x10/0x10
[   70.519798]  ? __audit_syscall_entry+0x39c/0x500
[   70.520245]  __x64_sys_exit+0x50/0x60
[   70.520625]  x64_sys_call+0x20c9/0x20d0
[   70.521120]  do_syscall_64+0x6d/0x140
[   70.521618]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.522217] RIP: 0033:0x7f17bd43ee5d
[   70.522571] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   70.523152] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.523861] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   70.524535] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.525194] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   70.525862] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   70.526523] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   70.527216]  </TASK>
[   70.527454] Modules linked in:
[   70.527886] ---[ end trace 0000000000000000 ]---
[   70.528338] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.528878] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.530537] RSP: 0018:ffff8880262077d8 EFLAGS: 00010202
[   70.531022] RAX: dffffc0000000000 RBX: ffffea0000707e00 RCX: ffffffff81bbb789
[   70.531804] RDX: 0000000000000001 RSI: ffffffff81bbb89e RDI: ffffea0000707e10
[   70.532459] RBP: ffff8880262077f8 R08: 0000000000000000 R09: ffffed1002698278
[   70.533115] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.533774] R13: 1ffffffff0d88eb5 R14: 0000000000000008 R15: ffff8880134c13c0
[   70.534430] FS:  0000000000000000(0000) GS:ffff88806c400000(0000) knlGS:0000000000000000
[   70.535168] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.535912] CR2: 00007f17bd70ffa8 CR3: 0000000039794003 CR4: 0000000000770ef0
[   70.536595] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.537248] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.537904] PKRU: 55555554
[   70.538168] note: repro[28542] exited with preempt_count 1
[   70.538677] Fixing recursive fault but reboot is needed!
[   70.539166] BUG: scheduling while atomic: repro/28542/0x00000000
[   70.539818] INFO: lockdep is turned off.
[   70.540187] Modules linked in:
[   70.540497] Preemption disabled at:
[   70.540503] [<ffffffff81353eb8>] do_task_dead+0x28/0x110
[   70.541331] CPU: 0 UID: 0 PID: 28542 Comm: repro Tainted: G      D W          6.11.0-617a814f14b8+ #1
[   70.542181] Tainted: [D]=DIE, [W]=WARN
[   70.542536] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.543564] Call Trace:
[   70.543803]  <TASK>
[   70.544015]  dump_stack_lvl+0x121/0x150
[   70.544402]  ? do_task_dead+0x28/0x110
[   70.544758]  dump_stack+0x19/0x20
[   70.545086]  __schedule_bug+0x12d/0x180
[   70.545473]  __schedule+0x2401/0x33a0
[   70.545832]  ? do_task_dead+0xa8/0x110
[   70.546173]  ? rcu_is_watching+0x19/0xc0
[   70.546559]  ? lock_release+0x592/0x870
[   70.546935]  ? __pfx___schedule+0x10/0x10
[   70.547334]  ? debug_smp_processor_id+0x20/0x30
[   70.547791]  ? rcu_is_watching+0x19/0xc0
[   70.548182]  ? trace_irq_enable+0xe1/0x120
[   70.548594]  ? do_task_dead+0x4a/0x110
[   70.548966]  do_task_dead+0xe0/0x110
[   70.549335]  make_task_dead+0x384/0x3c0
[   70.549729]  rewind_stack_and_make_dead+0x16/0x20
[   70.550198] RIP: 0033:0x7f17bd43ee5d
[   70.550560] Code: Unable to access opcode bytes at 0x7f17bd43ee33.
[   70.551160] RSP: 002b:00007f17bd70ad98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.551904] RAX: ffffffffffffffda RBX: 00007f17bd70b640 RCX: 00007f17bd43ee5d
[   70.552599] RDX: 00007f17bd513945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.553304] RBP: 00007f17bd70adb0 R08: 0000000000000000 R09: 0000000000000000
[   70.553978] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f17bd70b640
[   70.554645] R13: 0000000000000000 R14: 00007f17bd49f560 R15: 0000000000000000
[   70.555361]  </TASK>

c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.11.0-rc6-f2c5101be436+ (root@p-mtlsx) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-2), GNU ld version 2.35.2-54.el9) #1 SMP PREEMPT_DYNAMIC Wed Oct  2 05:24:49 CST 2024
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000003] kvm-clock: using sched offset of 941447481 cycles
[    0.000420] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001716] tsc: Detected 2380.800 MHz processor
[    0.008623] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.009201] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.009892] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.019324] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.019915] Using GB pages for direct mapping
[    0.022694] ACPI: Early table checksum verification disabled
[    0.023172] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.023643] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024343] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025045] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025728] ACPI: FACS 0x000000007FFE0000 000040
[    0.026111] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.026801] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.027483] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.028166] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.028721] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.029276] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.029833] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.030385] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.030940] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.032055] No NUMA configuration found
[    0.032368] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.032932] NODE_DATA(0) allocated [mem 0x7ffb5180-0x7ffdfdff]
[    0.034927] Zone ranges:
[    0.035136]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.035620]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.036113]   Normal   empty
[    0.036345]   Device   empty
[    0.036579] Movable zone start for each node
[    0.036924] Early memory node ranges
[    0.037207]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.037703]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.038203] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.039416] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.040195] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.082085] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.524659] kasan: KernelAddressSanitizer initialized
[    0.525824] ACPI: PM-Timer IO Port: 0x608
[    0.526349] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.527118] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.527969] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.528716] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.529466] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.530218] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.530988] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.532127] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.532853] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.533462] TSC deadline timer available
[    0.533921] CPU topo: Max. logical packages:   1
[    0.534444] CPU topo: Max. logical dies:       1
[    0.534966] CPU topo: Max. dies per package:   1
[    0.535490] CPU topo: Max. threads per core:   1
[    0.536012] CPU topo: Num. cores per package:     2
[    0.536547] CPU topo: Num. threads per package:   2
[    0.537075] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.537807] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.538754] kvm-guest: KVM setup pv remote TLB flush
[    0.539300] kvm-guest: setup PV sched yield
[    0.539839] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.540663] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
[    0.541486] PM: hibernation: Registered nosave memory: [mem 0x000a0000-0x000effff]
[    0.542597] PM: hibernation: Registered nosave memory: [mem 0x000f0000-0x000fffff]
[    0.543424] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.544070] Booting paravirtualized kernel on KVM
[    0.544581] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.545691] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.548347] percpu: Embedded 85 pages/cpu s311296 r8192 d28672 u1048576
[    0.549255] kvm-guest: PV spinlocks enabled
[    0.549703] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.550568] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.552423] random: crng init done
[    0.554322] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.556158] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.557311] Fallback order for Node 0: 0 
[    0.557333] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.558528] Policy zone: DMA32
[    0.558834] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.559435] stackdepot: allocating hash table via alloc_large_system_hash
[    0.560088] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.630698] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.631239] kmemleak: Kernel memory leak detector disabled
[    0.631972] ftrace: allocating 72187 entries in 282 pages
[    0.667805] ftrace: allocated 282 pages with 4 groups
[    0.671924] Dynamic Preempt: voluntary
[    0.672905] Running RCU self tests
[    0.673176] Running RCU synchronous self tests
[    0.673528] rcu: Preemptible hierarchical RCU implementation.
[    0.673976] rcu: 	RCU lockdep checking is enabled.
[    0.674345] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.674872] 	Trampoline variant of Tasks RCU enabled.
[    0.675405] 	Rude variant of Tasks RCU enabled.
[    0.675813] 	Tracing variant of Tasks RCU enabled.
[    0.676182] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.676759] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.677360] Running RCU synchronous self tests
[    0.677706] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1.
[    0.678247] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1.
[    0.678819] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1.
[    0.723939] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.725171] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.731840] Console: colour VGA+ 80x25
[    0.732243] printk: legacy console [ttyS0] enabled
[    0.732243] printk: legacy console [ttyS0] enabled
[    0.732908] printk: legacy bootconsole [earlyser0] disabled
[    0.732908] printk: legacy bootconsole [earlyser0] disabled
[    0.733750] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.734246] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.734519] ... MAX_LOCK_DEPTH:          48
[    0.734797] ... MAX_LOCKDEP_KEYS:        8192
[    0.735074] ... CLASSHASH_SIZE:          4096
[    0.735354] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.735642] ... MAX_LOCKDEP_CHAINS:      524288
[    0.735936] ... CHAINHASH_SIZE:          262144
[    0.736224]  memory used by lock dependency info: 54145 kB
[    0.736575]  memory used for stack traces: 4224 kB
[    0.736883]  per task-struct memory footprint: 1920 bytes
[    0.737352] ACPI: Core revision 20240322
[    0.738260] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.739076] APIC: Switch to symmetric I/O mode setup
[    0.739531] x2apic enabled
[    0.740067] APIC: Switched APIC routing to: physical x2apic
[    0.740427] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.740952] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.741691] kvm-guest: setup PV IPIs
[    0.743087] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.743500] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    0.744194] Calibrating delay loop (skipped) preset value.. 4761.60 BogoMIPS (lpj=9523200)
[    0.748456] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.752687] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.753165] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.753734] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.754408] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.755278] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.755882] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.756195] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    0.756810] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.757385] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.758030] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.758678] MMIO Stale Data: Unknown: No mitigations
[    0.759116] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.760213] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.760723] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.761218] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.761823] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.762306] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.762786] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.912798] Freeing SMP alternatives memory: 56K
[    0.913208] pid_max: default: 32768 minimum: 301
[    0.914022] LSM: initializing lsm=capability,yama,ima,evm
[    0.914504] Yama: becoming mindful.
[    0.915367] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.915957] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.919600] Running RCU synchronous self tests
[    0.920187] Running RCU synchronous self tests
[    0.921105] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xac, stepping: 0x0)
[    0.923312] Running RCU Tasks wait API self tests
[    1.024402] Running RCU Tasks Rude wait API self tests
[    1.025518] Running RCU Tasks Trace wait API self tests
[    1.026487] Performance Events: Meteorlake Hybrid events, full-width counters, Intel PMU driver.
[    1.028799] ------------[ cut here ]------------
[    1.029549] WARNING: CPU: 0 PID: 1 at arch/x86/events/intel/core.c:4926 intel_pmu_cpu_starting+0x1366/0x1c30
[    1.031068] Modules linked in:
[    1.031556] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-rc6-f2c5101be436+ #1
[    1.032200] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    1.033897] RIP: 0010:intel_pmu_cpu_starting+0x1366/0x1c30
[    1.034752] Code: 00 00 e8 1d 0b 09 02 e9 4d ef ff ff e8 43 be 61 00 be 0e 00 00 00 bf d9 01 00 00 e8 74 0c 09 02 e9 34 ef ff ff e8 2a be 61 00 <0f> 0b 48 8b 85 08 ff ff ff 48 8d b8 48 14 00 00 48 b8 00 00 00 00
[    1.036186] RSP: 0000:ffff88800d857a50 EFLAGS: 00010293
[    1.036976] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8103edb1
[    1.037991] RDX: ffff88800d84a500 RSI: ffffffff8103fc96 RDI: 0000000000000001
[    1.039004] RBP: ffff88800d857b80 R08: 0000000000000000 R09: fffffbfff0f42370
[    1.040018] R10: 0000000000000000 R11: 0000000000000001 R12: 0000000000000000
[    1.040185] R13: 000000000000006a R14: ffffffff810125e0 R15: 0000000000000000
[    1.041199] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[    1.042350] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[    1.043173] CR2: ffff88800cc01000 CR3: 0000000006c82001 CR4: 0000000000770ef0
[    1.044187] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[    1.045204] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[    1.046197] PKRU: 55555554
[    1.046580] Call Trace:
[    1.046926]  <TASK>
[    1.047229]  ? show_regs+0xa8/0xc0
[    1.047735]  ? __warn+0xee/0x380
[    1.048185]  ? report_bug+0x25e/0x4b0
[    1.048746]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.049433]  ? report_bug+0x2cb/0x4b0
[    1.049959]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.050640]  ? handle_bug+0xa2/0x130
[    1.051159]  ? exc_invalid_op+0x3c/0x80
[    1.051707]  ? asm_exc_invalid_op+0x1f/0x30
[    1.052186]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    1.052871]  ? intel_pmu_cpu_starting+0x481/0x1c30
[    1.053426]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.053990]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    1.054570]  ? __pfx___lock_acquire+0x10/0x10
[    1.055081]  ? __pfx___lock_acquire+0x10/0x10
[    1.055595]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    1.056186]  ? debug_smp_processor_id+0x20/0x30
[    1.056721]  ? rcu_is_watching+0x19/0xc0
[    1.057168]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    1.057716]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    1.058305]  x86_pmu_starting_cpu+0x2e/0x50
[    1.058774]  cpuhp_invoke_callback+0x3cf/0x9d0
[    1.059276]  cpuhp_issue_call+0x1a8/0x8b0
[    1.059719]  ? __pfx_lock_acquire+0x10/0x10
[    1.060188]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[    1.060793]  ? cpuhp_issue_call+0x1fa/0x8b0
[    1.061258]  __cpuhp_setup_state_cpuslocked+0x421/0x8e0
[    1.061822]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    1.062334]  ? x86_pmu_prepare_cpu+0x83/0xf0
[    1.062806]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    1.063324]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    1.063854]  __cpuhp_setup_state+0x105/0x310
[    1.064191]  init_hw_perf_events+0x65e/0xab0
[    1.064795]  ? __pfx_init_hw_perf_events+0x10/0x10
[    1.065440]  do_one_initcall+0x114/0x5d0
[    1.065956]  ? __this_cpu_preempt_check+0x21/0x30
[    1.066565]  ? __pfx_do_one_initcall+0x10/0x10
[    1.067152]  ? debug_smp_processor_id+0x20/0x30
[    1.067730]  ? rcu_is_watching+0x19/0xc0
[    1.068192]  kernel_init_freeable+0x8e4/0xeb0
[    1.068768]  ? __pfx_kernel_init+0x10/0x10
[    1.069304]  kernel_init+0x28/0x2f0
[    1.069757]  ? __pfx_kernel_init+0x10/0x10
[    1.070289]  ret_from_fork+0x56/0x90
[    1.070762]  ? __pfx_kernel_init+0x10/0x10
[    1.071294]  ret_from_fork_asm+0x1a/0x30
[    1.071814]  </TASK>
[    1.072103] irq event stamp: 2523
[    1.072184] hardirqs last  enabled at (2541): [<ffffffff81457624>] console_unlock+0x224/0x240
[    1.073239] hardirqs last disabled at (2548): [<ffffffff81457609>] console_unlock+0x209/0x240
[    1.074263] softirqs last  enabled at (2538): [<ffffffff81288419>] __irq_exit_rcu+0xa9/0x120
[    1.075272] softirqs last disabled at (2531): [<ffffffff81288419>] __irq_exit_rcu+0xa9/0x120
[    1.076183] ---[ end trace 0000000000000000 ]---
[    1.076792] Callback from call_rcu_tasks_trace() invoked.
[    1.077654] signal: max sigframe size: 3632
[    1.078603] rcu: Hierarchical SRCU implementation.
[    1.079192] rcu: 	Max phase no-delay instances is 1000.
[    1.080506] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    1.087724] NMI watchdog: Perf NMI watchdog permanently disabled
[    1.088621] smp: Bringing up secondary CPUs ...
[    1.090532] smpboot: x86: Booting SMP configuration:
[    1.091134] .... node  #0, CPUs:      #1
[    1.092269] smp: Brought up 1 node, 2 CPUs
[    1.093178] smpboot: Total of 2 processors activated (9523.20 BogoMIPS)
[    1.096326] Memory: 1556820K/2096632K available (75776K kernel code, 14452K rwdata, 17196K rodata, 15340K init, 68220K bss, 532604K reserved, 0K cma-reserved)
[    1.101771] devtmpfs: initialized
[    1.101771] x86/mm: Memory block size: 128MB
[    1.125548] Running RCU synchronous self tests
[    1.126168] Running RCU synchronous self tests
[    1.126875] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    1.128237] futex hash table entries: 512 (order: 4, 65536 bytes, linear)
[    1.129412] Callback from call_rcu_tasks_rude() invoked.
[    1.129391] pinctrl core: initialized pinctrl subsystem
[    1.130195] 
[    1.130195] *************************************************************
[    1.130195] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.130195] **                                                         **
[    1.130531] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    1.130947] **                                                         **
[    1.131363] ** This means that this kernel is built to expose internal **
[    1.131780] ** IOMMU data structures, which may compromise security on **
[    1.132182] ** your system.                                            **
[    1.132603] **                                                         **
[    1.133021] ** If you see this message and you are not debugging the   **
[    1.133440] ** kernel, report this immediately to your vendor!         **
[    1.133861] **                                                         **
[    1.134280] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.134694] *************************************************************
[    1.135183] PM: RTC time: 21:28:40, date: 2024-10-01
[    1.139988] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    1.141957] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    1.142454] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.142977] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.143638] audit: initializing netlink subsys (disabled)
[    1.144390] audit: type=2000 audit(1727818120.883:1): state=initialized audit_enabled=0 res=1
[    1.152472] thermal_sys: Registered thermal governor 'fair_share'
[    1.152489] thermal_sys: Registered thermal governor 'bang_bang'
[    1.153312] thermal_sys: Registered thermal governor 'step_wise'
[    1.154117] thermal_sys: Registered thermal governor 'user_space'
[    1.155226] cpuidle: using governor ladder
[    1.156828] cpuidle: using governor menu
[    1.157688] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.161855] PCI: Using configuration type 1 for base access
[    1.163393] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    1.237523] Callback from call_rcu_tasks() invoked.
[    1.314928] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.315412] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.315837] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.316187] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.328796] ACPI: Added _OSI(Module Device)
[    1.329097] ACPI: Added _OSI(Processor Device)
[    1.329378] ACPI: Added _OSI(3.0 _SCP Extensions)
[    1.329672] ACPI: Added _OSI(Processor Aggregator Device)
[    1.361018] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.370318] ACPI: Interpreter enabled
[    1.370792] ACPI: PM: (supports S0 S3 S4 S5)
[    1.371074] ACPI: Using IOAPIC for interrupt routing
[    1.371563] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.372142] PCI: Using E820 reservations for host bridge windows
[    1.374270] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.440390] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.440878] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.441389] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.442427] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.451170] acpiphp: Slot [3] registered
[    1.451673] acpiphp: Slot [4] registered
[    1.452230] acpiphp: Slot [5] registered
[    1.452810] acpiphp: Slot [6] registered
[    1.453420] acpiphp: Slot [7] registered
[    1.453941] acpiphp: Slot [8] registered
[    1.454447] acpiphp: Slot [9] registered
[    1.454937] acpiphp: Slot [10] registered
[    1.455422] acpiphp: Slot [11] registered
[    1.455909] acpiphp: Slot [12] registered
[    1.456422] acpiphp: Slot [13] registered
[    1.456913] acpiphp: Slot [14] registered
[    1.457400] acpiphp: Slot [15] registered
[    1.457892] acpiphp: Slot [16] registered
[    1.458398] acpiphp: Slot [17] registered
[    1.458909] acpiphp: Slot [18] registered
[    1.459393] acpiphp: Slot [19] registered
[    1.459880] acpiphp: Slot [20] registered
[    1.460389] acpiphp: Slot [21] registered
[    1.460886] acpiphp: Slot [22] registered
[    1.461377] acpiphp: Slot [23] registered
[    1.461870] acpiphp: Slot [24] registered
[    1.462377] acpiphp: Slot [25] registered
[    1.462874] acpiphp: Slot [26] registered
[    1.463362] acpiphp: Slot [27] registered
[    1.463849] acpiphp: Slot [28] registered
[    1.464477] acpiphp: Slot [29] registered
[    1.465055] acpiphp: Slot [30] registered
[    1.465561] acpiphp: Slot [31] registered
[    1.465969] PCI host bridge to bus 0000:00
[    1.466369] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.466810] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.467246] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.467726] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.468189] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.468682] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.469211] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.490499] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.493061] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.494909] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.495723] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.496156] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.496190] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.496752] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.497955] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.498793] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.499259] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.500298] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.504484] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.506973] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.511517] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.512210] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.533920] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.535156] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.536161] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.538634] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.571711] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.574058] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.576250] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.578469] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.579589] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.584997] iommu: Default domain type: Translated
[    1.585326] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.589379] SCSI subsystem initialized
[    1.591111] ACPI: bus type USB registered
[    1.591687] usbcore: registered new interface driver usbfs
[    1.592135] usbcore: registered new interface driver hub
[    1.592289] usbcore: registered new device driver usb
[    1.592978] pps_core: LinuxPPS API ver. 1 registered
[    1.593297] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.593900] PTP clock support registered
[    1.594715] EDAC MC: Ver: 3.0.0
[    1.599810] NetLabel: Initializing
[    1.600070] NetLabel:  domain hash size = 128
[    1.600186] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.600787] NetLabel:  unlabeled traffic allowed by default
[    1.601988] PCI: Using ACPI for IRQ routing
[    1.602734] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.603143] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.603507] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.604043] vgaarb: loaded
[    1.605087] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.605421] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.610672] clocksource: Switched to clocksource kvm-clock
[    1.615748] VFS: Disk quotas dquot_6.6.0
[    1.616111] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.618490] pnp: PnP ACPI init
[    1.624937] pnp: PnP ACPI: found 6 devices
[    1.651022] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.652270] NET: Registered PF_INET protocol family
[    1.652902] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.655293] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.655941] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.656529] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.657640] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.660760] TCP: Hash tables configured (established 16384 bind 16384)
[    1.661694] UDP hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.662261] UDP-Lite hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.663383] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.664953] RPC: Registered named UNIX socket transport module.
[    1.665440] RPC: Registered udp transport module.
[    1.665831] RPC: Registered tcp transport module.
[    1.666204] RPC: Registered tcp-with-tls transport module.
[    1.666621] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.667070] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.667465] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.667859] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.668292] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.668737] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.669700] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.670080] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.670559] PCI: CLS 0 bytes, default 64
[    1.670985] ACPI: bus type thunderbolt registered
[    1.671726] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    3.546247] Initialise system trusted keyrings
[    3.547291] Key type blacklist registered
[    3.548544] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.549550] zbud: loaded
[    3.557009] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.562111] NFS: Registering the id_resolver key type
[    3.563095] Key type id_resolver registered
[    3.563810] Key type id_legacy registered
[    3.564624] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.565846] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.567784] fuse: init (API version 7.40)
[    3.570218] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.575183] 9p: Installing v9fs 9p2000 file system support
[    3.602069] Key type asymmetric registered
[    3.602973] Asymmetric key parser 'x509' registered
[    3.604263] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 243)
[    3.605955] io scheduler mq-deadline registered
[    3.607015] io scheduler bfq registered
[    3.610240] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4
[    3.613840] IPMI message handler: version 39.2
[    3.614880] ipmi device interface
[    3.620338] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.623142] ACPI: button: Power Button [PWRF]
[    3.627929] ERST DBG: ERST support is disabled.
[    3.631930] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.636784] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.723814] Linux agpgart interface v0.103
[    3.731521] ACPI: bus type drm_connector registered
[    3.793699] brd: module loaded
[    3.836186] loop: module loaded
[    3.863919] scsi host0: ata_piix
[    3.868026] scsi host1: ata_piix
[    3.869873] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    3.870840] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    3.877972] tun: Universal TUN/TAP device driver, 1.6
[    3.879650] e100: Intel(R) PRO/100 Network Driver
[    3.880207] e100: Copyright(c) 1999-2006 Intel Corporation
[    3.880996] e1000: Intel(R) PRO/1000 Network Driver
[    3.881559] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    4.030898] ata2: found unknown device (class 0)
[    4.032516] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    4.034393] ata1: found unknown device (class 0)
[    4.035869] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    4.036817] ata1.00: 17196647 sectors, multi 16: LBA48 
[    4.040533] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    4.046897] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    4.050067] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    4.051984] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    4.053633] sd 0:0:0:0: [sda] Write Protect is off
[    4.055346] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    4.057421] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    4.095221] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    4.107502] sd 0:0:0:0: [sda] Attached SCSI disk
[    5.773804] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    6.098314] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    6.098835] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    6.099404] e1000e: Intel(R) PRO/1000 Network Driver
[    6.099728] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    6.100239] igb: Intel(R) Gigabit Ethernet Network Driver
[    6.100586] igb: Copyright (c) 2007-2014 Intel Corporation.
[    6.101180] PPP generic driver version 2.4.2
[    6.104382] VFIO - User Level meta-driver version: 0.3
[    6.107327] usbcore: registered new interface driver uas
[    6.107758] usbcore: registered new interface driver usb-storage
[    6.108510] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    6.110343] serio: i8042 KBD port at 0x60,0x64 irq 1
[    6.110796] serio: i8042 AUX port at 0x60,0x64 irq 12
[    6.113412] mousedev: PS/2 mouse device common for all mice
[    6.115977] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    6.116991] rtc_cmos 00:05: RTC can wake from S4
[    6.119746] rtc_cmos 00:05: registered as rtc0
[    6.120142] rtc_cmos 00:05: setting system clock to 2024-10-01T21:28:45 UTC (1727818125)
[    6.121131] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    6.121693] i2c_dev: i2c /dev entries driver
[    6.122152] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    6.123397] device-mapper: uevent: version 1.0.3
[    6.124607] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    6.126616] device-mapper: ioctl: 4.48.0-ioctl (2023-03-01) initialised: dm-devel@lists.linux.dev
[    6.127026] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    6.128323] intel_pstate: CPU model not supported
[    6.130636] sdhci: Secure Digital Host Controller Interface driver
[    6.131741] sdhci: Copyright(c) Pierre Ossman
[    6.132842] sdhci-pltfm: SDHCI platform and OF driver helper
[    6.134135] ledtrig-cpu: registered to indicate activity on CPUs
[    6.136802] drop_monitor: Initializing network drop monitor service
[    6.139181] NET: Registered PF_INET6 protocol family
[    6.148917] Segment Routing with IPv6
[    6.149886] In-situ OAM (IOAM) with IPv6
[    6.150927] NET: Registered PF_PACKET protocol family
[    6.152410] 9pnet: Installing 9P2000 support
[    6.152937] Key type dns_resolver registered
[    6.155970] IPI shorthand broadcast: enabled
[    6.213685] sched_clock: Marking stable (6196008638, 14468301)->(6280580309, -70103370)
[    6.217711] registered taskstats version 1
[    6.218742] Loading compiled-in X.509 certificates
[    6.281023] Demotion targets for Node 0: null
[    6.283579] Key type .fscrypt registered
[    6.284157] Key type fscrypt-provisioning registered
[    6.290536] Key type encrypted registered
[    6.291345] ima: No TPM chip found, activating TPM-bypass!
[    6.292218] ima: Allocated hash algorithm: sha1
[    6.293076] ima: No architecture policies found
[    6.294213] evm: Initialising EVM extended attributes:
[    6.294938] evm: security.selinux
[    6.295394] evm: security.SMACK64
[    6.295847] evm: security.SMACK64EXEC
[    6.296338] evm: security.SMACK64TRANSMUTE
[    6.296890] evm: security.SMACK64MMAP
[    6.297382] evm: security.apparmor
[    6.297843] evm: security.ima
[    6.298253] evm: security.capability
[    6.298764] evm: HMAC attrs: 0x1
[    6.307755] PM:   Magic number: 12:254:499
[    6.310770] RAS: Correctable Errors collector initialized.
[    6.312515] clk: Disabling unused clocks
[    6.313575] PM: genpd: Disabling unused power domains
[    6.315196] md: Waiting for all devices to be available before autodetect
[    6.315549] md: If you don't use raid, use raid=noautodetect
[    6.315809] md: Autodetecting RAID arrays.
[    6.316047] md: autorun ...
[    6.316217] md: ... autorun DONE.
[    6.338230] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    6.339128] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    6.342424] devtmpfs: mounted
[    6.364844] Freeing unused decrypted memory: 2028K
[    6.372806] Freeing unused kernel image (initmem) memory: 15340K
[    6.373257] Write protecting the kernel read-only data: 94208k
[    6.375632] Freeing unused kernel image (rodata/data gap) memory: 1236K
[    6.439637] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    6.440047] Run /sbin/init as init process
[    6.730397] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    6.733526] systemd[1]: Detected virtualization kvm.
[    6.734061] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    6.744544] systemd[1]: Hostname set to <test>.
[    7.251465] systemd-rc-local-generator[128]: /etc/rc.d/rc.local is not marked executable, skipping.
[    7.606656] systemd[1]: Queued start job for default target Multi-User System.
[    7.654067] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    7.661105] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    7.664759] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    7.668625] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    7.672159] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    7.675510] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    7.677128] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password R…uests to Wall Directory Watch[0m.
[    7.679983] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitrary…s File System Automount Point[0m.
[    7.681609] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    7.683097] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    7.684200] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    7.685235] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    7.687116] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    7.689523] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    7.691007] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    7.803004] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    7.805425] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    7.811635] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    7.814180] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    7.817282] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    7.820119] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    7.823322] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    7.826099] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    7.855216] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    7.873199] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    7.915207] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    7.933454] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    7.935092] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    7.936120] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.11.0-rc6-f2c5101be436+/modules.devname).
[    7.948873] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVM…meventd or progress polling[0m...
[    7.972335] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    7.991559] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    8.040636] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    8.064360] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS …from /etc/sysconfig/network[0m...
[    8.091517] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    8.143324] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    8.170263] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network …ts from Kernel command line[0m...
[    8.219349] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    8.221268] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    8.246968] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    8.266437] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    8.271878] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    8.275136] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    8.279187] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    8.281883] systemd[1]: Finished Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVM… dmeventd or progress polling[0m.
[    8.289917] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    8.295933] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    8.298428] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    8.303991] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    8.311444] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    8.312988] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    8.315693] systemd[1]: Finished Read and set NIS domainname from /etc/sysconfig/network.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS …e from /etc/sysconfig/network[0m.
[    8.324900] systemd[1]: systemd-modules-load.service: Main process exited, code=exited, status=1/FAILURE
[    8.326176] systemd[1]: systemd-modules-load.service: Failed with result 'exit-code'.
[    8.328273] systemd[1]: Failed to start Load Kernel Modules.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    8.335309] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w. Quota mode: none.
[    8.339028] systemd[1]: Finished Generate network units from Kernel command line.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[    8.343928] systemd[1]: Reached target Preparation for Network.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
[    8.379141] systemd[1]: Mounting FUSE Control File System...
         Mounting [0;1;39mFUSE Control File System[0m...
[    8.389563] systemd[1]: Mounting Kernel Configuration File System...
         Mounting [0;1;39mKernel Configuration File System[0m...
[    8.411049] systemd[1]: Starting Apply Kernel Variables...
         Starting [0;1;39mApply Kernel Variables[0m...
[    8.419425] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
[    8.543865] systemd-journald[146]: Received client request to flush runtime journal.
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manage…for Device Events and Files[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to s…E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
         Starting [0;1;39mWait for udev To …plete Device Initialization[0m...
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to s…VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password …ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF …itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberos…ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine a…tainer Registration Service[0m...
         Starting [0;1;39mupdate of the roo…NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine an…ontainer Registration Service[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the roo… DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[   13.372390] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.11.0-rc6-f2c5101be436+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   28.094035] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#1] PREEMPT SMP KASAN NOPTI
[   28.095145] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.095912] CPU: 1 UID: 0 PID: 843 Comm: repro Tainted: G        W          6.11.0-rc6-f2c5101be436+ #1
[   28.096919] Tainted: [W]=WARN
[   28.097202] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.098233] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.098805] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.100998] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   28.101492] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   28.102133] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   28.102781] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   28.103426] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.104076] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   28.104731] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   28.105454] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.106002] CR2: 00007f730f51bfa8 CR3: 0000000016d9e006 CR4: 0000000000770ef0
[   28.106653] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.107305] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.107967] PKRU: 55555554
[   28.108229] Call Trace:
[   28.108475]  <TASK>
[   28.108694]  ? show_regs+0xa8/0xc0
[   28.109052]  ? die_addr+0x5d/0xf0
[   28.109394]  ? exc_general_protection+0x1ae/0x340
[   28.109883]  ? asm_exc_general_protection+0x2b/0x30
[   28.110375]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.110870]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.111432]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.111938]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.112431]  zap_huge_pmd+0x494/0xd40
[   28.112816]  unmap_page_range+0x1ad6/0x4320
[   28.113253]  ? __pfx_unmap_page_range+0x10/0x10
[   28.113695]  ? __this_cpu_preempt_check+0x21/0x30
[   28.114228]  unmap_single_vma+0x1ac/0x2d0
[   28.114633]  unmap_vmas+0x210/0x470
[   28.114989]  ? __pfx_unmap_vmas+0x10/0x10
[   28.115451]  ? __pfx_lock_release+0x10/0x10
[   28.115892]  ? lock_release+0x441/0x870
[   28.116259]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   28.116742]  ? __pfx_lock_release+0x10/0x10
[   28.117176]  ? mlock_drain_local+0x27f/0x4b0
[   28.117608]  exit_mmap+0x19e/0xb10
[   28.117957]  ? __pfx_exit_mmap+0x10/0x10
[   28.118343]  ? lockdep_hardirqs_on+0x89/0x110
[   28.118758]  ? trace_hardirqs_on+0x51/0x60
[   28.119172]  ? __khugepaged_exit+0x266/0x4c0
[   28.119584]  ? kmem_cache_free+0x15d/0x420
[   28.119986]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.120655]  __mmput+0xd6/0x390
[   28.120985]  mmput+0x74/0x90
[   28.121278]  do_exit+0xa03/0x29f0
[   28.121616]  ? lockdep_hardirqs_on+0x89/0x110
[   28.122043]  ? trace_hardirqs_on+0x51/0x60
[   28.122444]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.123026]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.123481]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.123939]  ? __pfx_do_exit+0x10/0x10
[   28.124303]  ? __audit_syscall_entry+0x39c/0x500
[   28.124751]  __x64_sys_exit+0x50/0x60
[   28.125107]  x64_sys_call+0x20c9/0x20d0
[   28.125479]  do_syscall_64+0x6d/0x140
[   28.125845]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.126320] RIP: 0033:0x7f730f23ee5d
[   28.126668] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.127221] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.127911] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.128725] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.129369] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.130032] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.130688] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.131420]  </TASK>
[   28.131694] Modules linked in:
[   28.132429] ---[ end trace 0000000000000000 ]---
[   28.132921] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.133456] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.135313] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   28.135923] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   28.136727] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   28.137530] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   28.138339] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.139174] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   28.139991] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   28.140902] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.141556] CR2: 00007f730f51bfa8 CR3: 0000000016d9e006 CR4: 0000000000770ef0
[   28.142330] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.143126] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.143899] PKRU: 55555554
[   28.144206] note: repro[843] exited with preempt_count 1
[   28.144786] Fixing recursive fault but reboot is needed!
[   28.145357] BUG: using smp_processor_id() in preemptible [00000000] code: repro/843
[   28.146069] caller is debug_smp_processor_id+0x20/0x30
[   28.146532] CPU: 1 UID: 0 PID: 843 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.147295] Tainted: [D]=DIE, [W]=WARN
[   28.147605] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.148473] Call Trace:
[   28.148684]  <TASK>
[   28.148864]  dump_stack_lvl+0x121/0x150
[   28.149198]  dump_stack+0x19/0x20
[   28.149482]  check_preemption_disabled+0x168/0x180
[   28.149911]  debug_smp_processor_id+0x20/0x30
[   28.150322]  __schedule+0x9a/0x2eb0
[   28.150667]  ? rcu_is_watching+0x19/0xc0
[   28.151053]  ? lock_release+0x592/0x870
[   28.151413]  ? __pfx___schedule+0x10/0x10
[   28.151744]  ? debug_smp_processor_id+0x20/0x30
[   28.152114]  ? rcu_is_watching+0x19/0xc0
[   28.152434]  ? trace_irq_enable+0xe1/0x120
[   28.152781]  ? do_task_dead+0x4a/0x110
[   28.153106]  do_task_dead+0xe0/0x110
[   28.153413]  make_task_dead+0x384/0x3c0
[   28.153753]  rewind_stack_and_make_dead+0x16/0x20
[   28.154134] RIP: 0033:0x7f730f23ee5d
[   28.154426] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.154905] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.155490] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.156018] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.156541] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.157070] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.157593] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.158131]  </TASK>
[   28.158353] BUG: scheduling while atomic: repro/843/0x00000000
[   28.158808] INFO: lockdep is turned off.
[   28.159114] Modules linked in:
[   28.159354] Preemption disabled at:
[   28.159358] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   28.160040] CPU: 1 UID: 0 PID: 843 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.160735] Tainted: [D]=DIE, [W]=WARN
[   28.161018] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.161813] Call Trace:
[   28.162001]  <TASK>
[   28.162167]  dump_stack_lvl+0x121/0x150
[   28.162461]  ? do_task_dead+0x28/0x110
[   28.162755]  dump_stack+0x19/0x20
[   28.163016]  __schedule_bug+0x12d/0x180
[   28.163317]  __schedule+0x210c/0x2eb0
[   28.163595]  ? rcu_is_watching+0x19/0xc0
[   28.163925]  ? lock_release+0x592/0x870
[   28.164303]  ? __pfx___schedule+0x10/0x10
[   28.164699]  ? debug_smp_processor_id+0x20/0x30
[   28.165144]  ? rcu_is_watching+0x19/0xc0
[   28.165526]  ? trace_irq_enable+0xe1/0x120
[   28.165937]  ? do_task_dead+0x4a/0x110
[   28.166312]  do_task_dead+0xe0/0x110
[   28.166679]  make_task_dead+0x384/0x3c0
[   28.167062]  rewind_stack_and_make_dead+0x16/0x20
[   28.167509] RIP: 0033:0x7f730f23ee5d
[   28.167846] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.168395] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.169077] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.169716] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.170352] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.170992] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.171629] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.172266]  </TASK>
[   28.591877] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#2] PREEMPT SMP KASAN NOPTI
[   28.593422] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.594390] CPU: 1 UID: 0 PID: 1059 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.595552] Tainted: [D]=DIE, [W]=WARN
[   28.596018] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.597359] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.598091] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.600256] RSP: 0018:ffff88801fb777d8 EFLAGS: 00010202
[   28.601115] RAX: dffffc0000000000 RBX: ffffea000069d000 RCX: ffffffff81b9e6e9
[   28.602068] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000069d010
[   28.602922] RBP: ffff88801fb777f8 R08: 0000000000000000 R09: ffffed1003e43830
[   28.603772] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.604613] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f21c180
[   28.605461] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   28.606465] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.607162] CR2: 00007f730f3fca50 CR3: 000000000fab0003 CR4: 0000000000770ef0
[   28.608140] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.608946] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.609758] PKRU: 55555554
[   28.610076] Call Trace:
[   28.610383]  <TASK>
[   28.610650]  ? show_regs+0xa8/0xc0
[   28.611111]  ? die_addr+0x5d/0xf0
[   28.611692]  ? exc_general_protection+0x1ae/0x340
[   28.612288]  ? asm_exc_general_protection+0x2b/0x30
[   28.612878]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.613455]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.614029]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.614602]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.615179]  zap_huge_pmd+0x494/0xd40
[   28.615610]  unmap_page_range+0x1ad6/0x4320
[   28.616114]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.617097]  ? __pfx_unmap_page_range+0x10/0x10
[   28.617625]  unmap_single_vma+0x1ac/0x2d0
[   28.618094]  unmap_vmas+0x210/0x470
[   28.618506]  ? __pfx_unmap_vmas+0x10/0x10
[   28.618992]  ? __pfx_lock_release+0x10/0x10
[   28.619479]  ? lock_release+0x592/0x870
[   28.619926]  ? mas_next_slot+0x133a/0x1a50
[   28.620529]  ? __pfx_lock_release+0x10/0x10
[   28.621236]  ? mlock_drain_local+0x27f/0x4b0
[   28.621712]  exit_mmap+0x19e/0xb10
[   28.622098]  ? __pfx_exit_mmap+0x10/0x10
[   28.622537]  ? trace_hardirqs_on+0x51/0x60
[   28.623002]  ? __khugepaged_exit+0x266/0x4c0
[   28.623466]  ? kmem_cache_free+0x15d/0x420
[   28.623920]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.624487]  __mmput+0xd6/0x390
[   28.624839]  mmput+0x74/0x90
[   28.625163]  do_exit+0xa03/0x29f0
[   28.625534]  ? trace_hardirqs_on+0x51/0x60
[   28.625993]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.626644]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.627178]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.627701]  ? __pfx_do_exit+0x10/0x10
[   28.628092]  ? __audit_syscall_entry+0x39c/0x500
[   28.628600]  __x64_sys_exit+0x50/0x60
[   28.629174]  x64_sys_call+0x20c9/0x20d0
[   28.629653]  do_syscall_64+0x6d/0x140
[   28.630047]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.630560] RIP: 0033:0x7f730f23ee5d
[   28.630934] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.631536] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.632277] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.632971] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.633661] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.634360] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.635243] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.636057]  </TASK>
[   28.636279] Modules linked in:
[   28.636829] ---[ end trace 0000000000000000 ]---
[   28.637276] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.637834] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.639581] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   28.640088] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   28.640763] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   28.641412] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   28.642194] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.642859] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   28.643503] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   28.644227] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.644751] CR2: 00007f730f3fca50 CR3: 000000000fab0003 CR4: 0000000000770ef0
[   28.645596] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.646544] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.647491] PKRU: 55555554
[   28.647835] note: repro[1059] exited with preempt_count 1
[   28.648384] Fixing recursive fault but reboot is needed!
[   28.648847] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1059
[   28.649507] caller is debug_smp_processor_id+0x20/0x30
[   28.649966] CPU: 1 UID: 0 PID: 1059 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.650781] Tainted: [D]=DIE, [W]=WARN
[   28.651112] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.652047] Call Trace:
[   28.652262]  <TASK>
[   28.652451]  dump_stack_lvl+0x121/0x150
[   28.652794]  dump_stack+0x19/0x20
[   28.653091]  check_preemption_disabled+0x168/0x180
[   28.653501]  debug_smp_processor_id+0x20/0x30
[   28.653880]  __schedule+0x9a/0x2eb0
[   28.654187]  ? rcu_is_watching+0x19/0xc0
[   28.654526]  ? lock_release+0x592/0x870
[   28.654861]  ? __pfx___schedule+0x10/0x10
[   28.655209]  ? debug_smp_processor_id+0x20/0x30
[   28.655598]  ? rcu_is_watching+0x19/0xc0
[   28.655941]  ? trace_irq_enable+0xe1/0x120
[   28.656302]  ? do_task_dead+0x4a/0x110
[   28.656634]  do_task_dead+0xe0/0x110
[   28.656952]  make_task_dead+0x384/0x3c0
[   28.657278]  rewind_stack_and_make_dead+0x16/0x20
[   28.657666] RIP: 0033:0x7f730f23ee5d
[   28.657970] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.658462] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.659071] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.659645] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.660215] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.660786] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.661336] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.661897]  </TASK>
[   28.662105] BUG: scheduling while atomic: repro/1059/0x00000000
[   28.662575] INFO: lockdep is turned off.
[   28.662885] Modules linked in:
[   28.663131] Preemption disabled at:
[   28.663135] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   28.663834] CPU: 1 UID: 0 PID: 1059 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.664560] Tainted: [D]=DIE, [W]=WARN
[   28.664858] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.665724] Call Trace:
[   28.665925]  <TASK>
[   28.666099]  dump_stack_lvl+0x121/0x150
[   28.666403]  ? do_task_dead+0x28/0x110
[   28.666706]  dump_stack+0x19/0x20
[   28.666975]  __schedule_bug+0x12d/0x180
[   28.667280]  __schedule+0x210c/0x2eb0
[   28.667567]  ? rcu_is_watching+0x19/0xc0
[   28.667875]  ? lock_release+0x592/0x870
[   28.668175]  ? __pfx___schedule+0x10/0x10
[   28.668487]  ? debug_smp_processor_id+0x20/0x30
[   28.668838]  ? rcu_is_watching+0x19/0xc0
[   28.669143]  ? trace_irq_enable+0xe1/0x120
[   28.669466]  ? do_task_dead+0x4a/0x110
[   28.669767]  do_task_dead+0xe0/0x110
[   28.670052]  make_task_dead+0x384/0x3c0
[   28.670346]  rewind_stack_and_make_dead+0x16/0x20
[   28.670704] RIP: 0033:0x7f730f23ee5d
[   28.670974] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.671418] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.671969] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.672480] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.672995] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.673507] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.674023] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.674543]  </TASK>
[   28.732455] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#3] PREEMPT SMP KASAN NOPTI
[   28.733427] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   28.734042] CPU: 1 UID: 0 PID: 1147 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.735016] Tainted: [D]=DIE, [W]=WARN
[   28.735315] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.736186] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.736651] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.738064] RSP: 0018:ffff888013e5f7d8 EFLAGS: 00010202
[   28.738483] RAX: dffffc0000000000 RBX: ffffea000044d100 RCX: ffffffff81b9e6e9
[   28.739021] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000044d110
[   28.739554] RBP: ffff888013e5f7f8 R08: 0000000000000000 R09: ffffed1002855600
[   28.739965] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   28.740552] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880142ab000
[   28.741093] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   28.741541] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.741871] CR2: 00007f730f516df0 CR3: 000000001c0ee003 CR4: 0000000000770ef0
[   28.742269] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.742661] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.743047] PKRU: 55555554
[   28.743201] Call Trace:
[   28.743348]  <TASK>
[   28.743479]  ? show_regs+0xa8/0xc0
[   28.743688]  ? die_addr+0x5d/0xf0
[   28.743888]  ? exc_general_protection+0x1ae/0x340
[   28.744165]  ? asm_exc_general_protection+0x2b/0x30
[   28.744448]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   28.744739]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.745028]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   28.745315]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   28.745606]  zap_huge_pmd+0x494/0xd40
[   28.745828]  unmap_page_range+0x1ad6/0x4320
[   28.746079]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   28.746366]  ? __pfx_unmap_page_range+0x10/0x10
[   28.746674]  unmap_single_vma+0x1ac/0x2d0
[   28.746984]  unmap_vmas+0x210/0x470
[   28.747256]  ? __pfx_unmap_vmas+0x10/0x10
[   28.747552]  ? __pfx_lock_release+0x10/0x10
[   28.747860]  ? lock_release+0x592/0x870
[   28.748141]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   28.748500]  ? __pfx_lock_release+0x10/0x10
[   28.748812]  ? mlock_drain_local+0x27f/0x4b0
[   28.749131]  exit_mmap+0x19e/0xb10
[   28.749391]  ? __pfx_exit_mmap+0x10/0x10
[   28.749688]  ? trace_hardirqs_on+0x51/0x60
[   28.749996]  ? __khugepaged_exit+0x266/0x4c0
[   28.750311]  ? kmem_cache_free+0x15d/0x420
[   28.750616]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   28.751006]  __mmput+0xd6/0x390
[   28.751245]  mmput+0x74/0x90
[   28.751464]  do_exit+0xa03/0x29f0
[   28.751720]  ? trace_hardirqs_on+0x51/0x60
[   28.752014]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   28.752446]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   28.752789]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   28.753138]  ? __pfx_do_exit+0x10/0x10
[   28.753408]  ? __audit_syscall_entry+0x39c/0x500
[   28.753741]  __x64_sys_exit+0x50/0x60
[   28.754008]  x64_sys_call+0x20c9/0x20d0
[   28.754283]  do_syscall_64+0x6d/0x140
[   28.754551]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   28.754907] RIP: 0033:0x7f730f23ee5d
[   28.755161] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.755569] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.756067] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.756534] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.757001] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.757468] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.757934] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.758404]  </TASK>
[   28.758555] Modules linked in:
[   28.758942] ---[ end trace 0000000000000000 ]---
[   28.759360] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   28.759796] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   28.760979] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   28.761322] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   28.761783] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   28.762700] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   28.763436] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   28.764033] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   28.764479] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   28.764984] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   28.765481] CR2: 00007f730f516df0 CR3: 000000001c0ee003 CR4: 0000000000770ef0
[   28.766012] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   28.766460] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   28.766980] PKRU: 55555554
[   28.767160] note: repro[1147] exited with preempt_count 1
[   28.767491] Fixing recursive fault but reboot is needed!
[   28.767816] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1147
[   28.768284] caller is debug_smp_processor_id+0x20/0x30
[   28.768604] CPU: 1 UID: 0 PID: 1147 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.769178] Tainted: [D]=DIE, [W]=WARN
[   28.769409] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.770090] Call Trace:
[   28.770246]  <TASK>
[   28.770385]  dump_stack_lvl+0x121/0x150
[   28.770630]  dump_stack+0x19/0x20
[   28.770841]  check_preemption_disabled+0x168/0x180
[   28.771136]  debug_smp_processor_id+0x20/0x30
[   28.771404]  __schedule+0x9a/0x2eb0
[   28.771623]  ? rcu_is_watching+0x19/0xc0
[   28.771866]  ? lock_release+0x592/0x870
[   28.772106]  ? __pfx___schedule+0x10/0x10
[   28.772355]  ? debug_smp_processor_id+0x20/0x30
[   28.772629]  ? rcu_is_watching+0x19/0xc0
[   28.772865]  ? trace_irq_enable+0xe1/0x120
[   28.773111]  ? do_task_dead+0x4a/0x110
[   28.773343]  do_task_dead+0xe0/0x110
[   28.773566]  make_task_dead+0x384/0x3c0
[   28.773803]  rewind_stack_and_make_dead+0x16/0x20
[   28.774082] RIP: 0033:0x7f730f23ee5d
[   28.774297] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.774650] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.775089] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.775497] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.775891] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.776288] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.776691] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.777096]  </TASK>
[   28.777319] BUG: scheduling while atomic: repro/1147/0x00000000
[   28.777798] INFO: lockdep is turned off.
[   28.778114] Modules linked in:
[   28.778301] Preemption disabled at:
[   28.778304] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   28.778903] CPU: 1 UID: 0 PID: 1147 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   28.779433] Tainted: [D]=DIE, [W]=WARN
[   28.779650] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   28.780328] Call Trace:
[   28.780505]  <TASK>
[   28.780664]  dump_stack_lvl+0x121/0x150
[   28.780952]  ? do_task_dead+0x28/0x110
[   28.781228]  dump_stack+0x19/0x20
[   28.781474]  __schedule_bug+0x12d/0x180
[   28.781758]  __schedule+0x210c/0x2eb0
[   28.782026]  ? rcu_is_watching+0x19/0xc0
[   28.782301]  ? lock_release+0x592/0x870
[   28.782530]  ? __pfx___schedule+0x10/0x10
[   28.782767]  ? debug_smp_processor_id+0x20/0x30
[   28.783034]  ? rcu_is_watching+0x19/0xc0
[   28.783263]  ? trace_irq_enable+0xe1/0x120
[   28.783509]  ? do_task_dead+0x4a/0x110
[   28.783819]  do_task_dead+0xe0/0x110
[   28.784123]  make_task_dead+0x384/0x3c0
[   28.784414]  rewind_stack_and_make_dead+0x16/0x20
[   28.784696] RIP: 0033:0x7f730f23ee5d
[   28.784910] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   28.785257] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   28.785689] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   28.786098] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   28.786500] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   28.786903] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   28.787302] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   28.787709]  </TASK>
[   29.086202] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#4] PREEMPT SMP KASAN NOPTI
[   29.087108] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.087628] CPU: 0 UID: 0 PID: 1265 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.088290] Tainted: [D]=DIE, [W]=WARN
[   29.088557] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.089347] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.089776] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.091033] RSP: 0018:ffff8880139b77d8 EFLAGS: 00010202
[   29.091402] RAX: dffffc0000000000 RBX: ffffea0000705c80 RCX: ffffffff81b9e6e9
[   29.091916] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000705c90
[   29.092432] RBP: ffff8880139b77f8 R08: 0000000000000000 R09: ffffed1003f3ae30
[   29.092943] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.093429] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f9d7180
[   29.093927] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.094485] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.094886] CR2: 00007ffdcd14bac8 CR3: 000000002269c001 CR4: 0000000000770ef0
[   29.095379] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.095869] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.096341] PKRU: 55555554
[   29.096537] Call Trace:
[   29.096728]  <TASK>
[   29.096885]  ? show_regs+0xa8/0xc0
[   29.097137]  ? die_addr+0x5d/0xf0
[   29.097381]  ? exc_general_protection+0x1ae/0x340
[   29.097775]  ? asm_exc_general_protection+0x2b/0x30
[   29.098246]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.098723]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.099225]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.099719]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.100205]  zap_huge_pmd+0x494/0xd40
[   29.100578]  unmap_page_range+0x1ad6/0x4320
[   29.100959]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.101324]  ? __pfx_unmap_page_range+0x10/0x10
[   29.101660]  unmap_single_vma+0x1ac/0x2d0
[   29.101963]  unmap_vmas+0x210/0x470
[   29.102255]  ? __pfx_unmap_vmas+0x10/0x10
[   29.102575]  ? __pfx_lock_release+0x10/0x10
[   29.102878]  ? lock_release+0x592/0x870
[   29.103143]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.103474]  ? __pfx_lock_release+0x10/0x10
[   29.103765]  ? mlock_drain_local+0x27f/0x4b0
[   29.104060]  exit_mmap+0x19e/0xb10
[   29.104305]  ? __pfx_exit_mmap+0x10/0x10
[   29.104576]  ? trace_hardirqs_on+0x51/0x60
[   29.104864]  ? __khugepaged_exit+0x266/0x4c0
[   29.105155]  ? kmem_cache_free+0x15d/0x420
[   29.105447]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.105828]  __mmput+0xd6/0x390
[   29.106058]  mmput+0x74/0x90
[   29.106262]  do_exit+0xa03/0x29f0
[   29.106496]  ? trace_hardirqs_on+0x51/0x60
[   29.106779]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.107180]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.107501]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.107827]  ? __pfx_do_exit+0x10/0x10
[   29.108082]  ? __audit_syscall_entry+0x39c/0x500
[   29.108394]  __x64_sys_exit+0x50/0x60
[   29.108654]  x64_sys_call+0x20c9/0x20d0
[   29.108939]  do_syscall_64+0x6d/0x140
[   29.109216]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.109565] RIP: 0033:0x7f730f23ee5d
[   29.109802] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.110178] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.110642] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.111089] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.111528] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.111967] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.112414] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.112894]  </TASK>
[   29.113043] Modules linked in:
[   29.113440] ---[ end trace 0000000000000000 ]---
[   29.113741] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.114124] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.115356] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   29.115688] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   29.116120] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   29.116546] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   29.116979] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.117408] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   29.117841] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.118321] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.118689] CR2: 00007ffdcd14bac8 CR3: 000000002269c001 CR4: 0000000000770ef0
[   29.119115] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.119539] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.119961] PKRU: 55555554
[   29.120132] note: repro[1265] exited with preempt_count 1
[   29.120453] Fixing recursive fault but reboot is needed!
[   29.120777] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1265
[   29.121232] caller is debug_smp_processor_id+0x20/0x30
[   29.121547] CPU: 0 UID: 0 PID: 1265 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.121589] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#5] PREEMPT SMP KASAN NOPTI
[   29.122106] Tainted: [D]=DIE, [W]=WARN
[   29.122787] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.123009] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.123439] CPU: 1 UID: 0 PID: 1269 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.124472] Call Trace:
[   29.125024] Tainted: [D]=DIE, [W]=WARN
[   29.125253]  <TASK>
[   29.125479] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.125608]  dump_stack_lvl+0x121/0x150
[   29.126255] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.126477]  dump_stack+0x19/0x20
[   29.126809] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.127002]  check_preemption_disabled+0x168/0x180
[   29.128048] RSP: 0018:ffff88800e0177d8 EFLAGS: 00010202
[   29.128318]  debug_smp_processor_id+0x20/0x30
[   29.128625] RAX: dffffc0000000000 RBX: ffffea00006983c0 RCX: ffffffff81b9e6e9
[   29.128868]  __schedule+0x9a/0x2eb0
[   29.129290] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00006983d0
[   29.129490]  ? rcu_is_watching+0x19/0xc0
[   29.129907] RBP: ffff88800e0177f8 R08: 0000000000000000 R09: ffffed100220e2fc
[   29.130125]  ? lock_release+0x592/0x870
[   29.130532] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.130882]  ? __pfx___schedule+0x10/0x10
[   29.131290] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880110717e0
[   29.131651]  ? debug_smp_processor_id+0x20/0x30
[   29.132065] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.132313]  ? rcu_is_watching+0x19/0xc0
[   29.132778] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.132997]  ? trace_irq_enable+0xe1/0x120
[   29.133329] CR2: 00007f730f51bfa8 CR3: 0000000016e60004 CR4: 0000000000770ef0
[   29.133549]  ? do_task_dead+0x4a/0x110
[   29.133978] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.134183]  do_task_dead+0xe0/0x110
[   29.134594] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.134793]  make_task_dead+0x384/0x3c0
[   29.135197] PKRU: 55555554
[   29.135409]  rewind_stack_and_make_dead+0x16/0x20
[   29.135572] Call Trace:
[   29.135825] RIP: 0033:0x7f730f23ee5d
[   29.135979]  <TASK>
[   29.136177] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.136312]  ? show_regs+0xa8/0xc0
[   29.136632] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.136843]  ? die_addr+0x5d/0xf0
[   29.137238] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.137441]  ? exc_general_protection+0x1ae/0x340
[   29.137807] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.138093]  ? asm_exc_general_protection+0x2b/0x30
[   29.138442] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.138734]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.139090] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.139393]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.139763] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.140068]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.140446]  </TASK>
[   29.140751]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.141171]  zap_huge_pmd+0x494/0xd40
[   29.141420]  unmap_page_range+0x1ad6/0x4320
[   29.141702]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.142018]  ? __pfx_unmap_page_range+0x10/0x10
[   29.142312]  unmap_single_vma+0x1ac/0x2d0
[   29.142577]  unmap_vmas+0x210/0x470
[   29.142808]  ? __pfx_unmap_vmas+0x10/0x10
[   29.143068]  ? __pfx_lock_release+0x10/0x10
[   29.143329]  ? lock_release+0x592/0x870
[   29.143576]  ? mas_next_slot+0x133a/0x1a50
[   29.143844]  ? __pfx_lock_release+0x10/0x10
[   29.144110]  ? mlock_drain_local+0x27f/0x4b0
[   29.144399]  exit_mmap+0x19e/0xb10
[   29.144636]  ? __pfx_exit_mmap+0x10/0x10
[   29.144898]  ? trace_hardirqs_on+0x51/0x60
[   29.145165]  ? __khugepaged_exit+0x266/0x4c0
[   29.145431]  ? kmem_cache_free+0x15d/0x420
[   29.145706]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.146036]  __mmput+0xd6/0x390
[   29.146243]  mmput+0x74/0x90
[   29.146436]  do_exit+0xa03/0x29f0
[   29.146657]  ? trace_hardirqs_on+0x51/0x60
[   29.146919]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.147294]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.147602]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.147911]  ? __pfx_do_exit+0x10/0x10
[   29.148160]  ? __audit_syscall_entry+0x39c/0x500
[   29.148453]  __x64_sys_exit+0x50/0x60
[   29.148697]  x64_sys_call+0x20c9/0x20d0
[   29.148938]  do_syscall_64+0x6d/0x140
[   29.149177]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.149490] RIP: 0033:0x7f730f23ee5d
[   29.149720] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.150086] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.150544] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.150968] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.151388] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.151818] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.152236] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.152666]  </TASK>
[   29.152816] Modules linked in:
[   29.153059] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#6] PREEMPT SMP KASAN NOPTI
[   29.153146] ---[ end trace 0000000000000000 ]---
[   29.153808] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.154153] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.154622] CPU: 0 UID: 0 PID: 1277 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.154641] Tainted: [D]=DIE, [W]=WARN
[   29.155018] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.155598] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.155850] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   29.157041] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.157711] 
[   29.158014] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.158357] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   29.158457] RSP: 0018:ffff88801f89f7d8 EFLAGS: 00010202
[   29.159518] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   29.159915] 
[   29.159918] RAX: dffffc0000000000 RBX: ffffea00007e2380 RCX: ffffffff81b9e6e9
[   29.160218] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   29.160642] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007e2390
[   29.160756] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.161187] RBP: ffff88801f89f7f8 R08: 0000000000000000 R09: ffffed100220e254
[   29.161601] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   29.162022] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.162437] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.162866] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880110712a0
[   29.162874] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.162883] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.163301] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.163710] CR2: 00007ffdcd14bac8 CR3: 0000000018c7e002 CR4: 0000000000770ef0
[   29.164175] CR2: 00007f730f51bfa8 CR3: 0000000016e60004 CR4: 0000000000770ef0
[   29.164621] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.165089] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.165420] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.165772] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.166168] PKRU: 55555554
[   29.166598] PKRU: 55555554
[   29.166994] Call Trace:
[   29.166999]  <TASK>
[   29.167416] note: repro[1269] exited with preempt_count 1
[   29.167838]  ? show_regs+0xa8/0xc0
[   29.168257] Fixing recursive fault but reboot is needed!
[   29.168427]  ? die_addr+0x5d/0xf0
[   29.168597] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1269
[   29.168751]  ? exc_general_protection+0x1ae/0x340
[   29.168881] caller is debug_smp_processor_id+0x20/0x30
[   29.169192]  ? asm_exc_general_protection+0x2b/0x30
[   29.169396] CPU: 1 UID: 0 PID: 1269 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.169689]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.169889] Tainted: [D]=DIE, [W]=WARN
[   29.170309]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.170593] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.170885]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.171173] Call Trace:
[   29.171686]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.171982]  <TASK>
[   29.172192]  zap_huge_pmd+0x494/0xd40
[   29.172492]  dump_stack_lvl+0x121/0x150
[   29.173099]  unmap_page_range+0x1ad6/0x4320
[   29.173399]  dump_stack+0x19/0x20
[   29.173543]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.173842]  check_preemption_disabled+0x168/0x180
[   29.173963]  ? __pfx_unmap_page_range+0x10/0x10
[   29.174184]  debug_smp_processor_id+0x20/0x30
[   29.174393]  unmap_single_vma+0x1ac/0x2d0
[   29.174632]  __schedule+0x9a/0x2eb0
[   29.174817]  unmap_vmas+0x210/0x470
[   29.175099]  ? rcu_is_watching+0x19/0xc0
[   29.175353]  ? __pfx_unmap_vmas+0x10/0x10
[   29.175625]  ? lock_release+0x592/0x870
[   29.175862]  ? __pfx_lock_release+0x10/0x10
[   29.176098]  ? __pfx___schedule+0x10/0x10
[   29.176286]  ? lock_release+0x592/0x870
[   29.176504]  ? debug_smp_processor_id+0x20/0x30
[   29.176714]  ? mas_next_slot+0x133a/0x1a50
[   29.177067]  ? rcu_is_watching+0x19/0xc0
[   29.177262]  ? __pfx_lock_release+0x10/0x10
[   29.177596]  ? trace_irq_enable+0xe1/0x120
[   29.177805]  ? mlock_drain_local+0x27f/0x4b0
[   29.178114]  ? do_task_dead+0x4a/0x110
[   29.178346]  exit_mmap+0x19e/0xb10
[   29.178675]  do_task_dead+0xe0/0x110
[   29.178930]  ? __pfx_exit_mmap+0x10/0x10
[   29.179251]  make_task_dead+0x384/0x3c0
[   29.179463]  ? trace_hardirqs_on+0x51/0x60
[   29.179805]  rewind_stack_and_make_dead+0x16/0x20
[   29.180000]  ? __khugepaged_exit+0x266/0x4c0
[   29.180261] RIP: 0033:0x7f730f23ee5d
[   29.180529]  ? kmem_cache_free+0x15d/0x420
[   29.180883] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.181226]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.181583] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   29.182008]  __mmput+0xd6/0x390
[   29.182385]  ORIG_RAX: 000000000000003c
[   29.182636]  mmput+0x74/0x90
[   29.182951] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.183256]  do_exit+0xa03/0x29f0
[   29.183662] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.183926]  ? trace_hardirqs_on+0x51/0x60
[   29.184171] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.184366]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.184595] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.184947]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.185205] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.185554]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.185883]  </TASK>
[   29.186221]  ? __pfx_do_exit+0x10/0x10
[   29.188555]  ? __audit_syscall_entry+0x39c/0x500
[   29.188876]  __x64_sys_exit+0x50/0x60
[   29.189131]  x64_sys_call+0x20c9/0x20d0
[   29.189394]  do_syscall_64+0x6d/0x140
[   29.189652]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.189996] RIP: 0033:0x7f730f23ee5d
[   29.190240] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.190642] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.191135] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.191583] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.192032] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.192482] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.192932] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.193390]  </TASK>
[   29.193538] Modules linked in:
[   29.193909] ---[ end trace 0000000000000000 ]---
[   29.194212] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.194699] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.195831] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   29.196161] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   29.196698] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   29.197358] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   29.197949] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.198386] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   29.198878] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.199375] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.199722] CR2: 00007ffdcd14bac8 CR3: 0000000018c7e002 CR4: 0000000000770ef0
[   29.200154] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.200580] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.201008] PKRU: 55555554
[   29.201180] note: repro[1277] exited with preempt_count 1
[   29.201506] Fixing recursive fault but reboot is needed!
[   29.201827] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1277
[   29.202287] caller is debug_smp_processor_id+0x20/0x30
[   29.202621] CPU: 0 UID: 0 PID: 1277 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.203178] Tainted: [D]=DIE, [W]=WARN
[   29.203402] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.204055] Call Trace:
[   29.204203]  <TASK>
[   29.204336]  dump_stack_lvl+0x121/0x150
[   29.204411] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#7] PREEMPT SMP KASAN NOPTI
[   29.204573]  dump_stack+0x19/0x20
[   29.205374] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.205570]  check_preemption_disabled+0x168/0x180
[   29.206071] CPU: 1 UID: 0 PID: 1297 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.206337]  debug_smp_processor_id+0x20/0x30
[   29.206978] Tainted: [D]=DIE, [W]=WARN
[   29.207222]  __schedule+0x9a/0x2eb0
[   29.207479] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.207683]  ? rcu_is_watching+0x19/0xc0
[   29.208426] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.208651]  ? lock_release+0x592/0x870
[   29.209022] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.209235]  ? __pfx___schedule+0x10/0x10
[   29.210622] RSP: 0018:ffff888016ee77d8 EFLAGS: 00010202
[   29.210845]  ? debug_smp_processor_id+0x20/0x30
[   29.211186] RAX: dffffc0000000000 RBX: ffffea00003e80c0 RCX: ffffffff81b9e6e9
[   29.211431]  ? rcu_is_watching+0x19/0xc0
[   29.211886] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00003e80d0
[   29.212104]  ? trace_irq_enable+0xe1/0x120
[   29.212560] RBP: ffff888016ee77f8 R08: 0000000000000000 R09: ffffed1001c6d6fc
[   29.212784]  ? do_task_dead+0x4a/0x110
[   29.213241] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.213447]  do_task_dead+0xe0/0x110
[   29.213900] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800e36b7e0
[   29.214103]  make_task_dead+0x384/0x3c0
[   29.214726] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.215023]  rewind_stack_and_make_dead+0x16/0x20
[   29.215737] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.215993] RIP: 0033:0x7f730f23ee5d
[   29.216394] CR2: 00007f8809d8e000 CR3: 0000000011f94004 CR4: 0000000000770ef0
[   29.216591] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.217032] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.217357] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.217798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.218209] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.218650] PKRU: 55555554
[   29.219034] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.219212] Call Trace:
[   29.219591] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.219830]  <TASK>
[   29.220210] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.220351]  ? show_regs+0xa8/0xc0
[   29.220725] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.220937]  ? die_addr+0x5d/0xf0
[   29.221322]  </TASK>
[   29.221524]  ? exc_general_protection+0x1ae/0x340
[   29.221943]  ? asm_exc_general_protection+0x2b/0x30
[   29.222264]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.222594]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.222928]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.223264]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.223598]  zap_huge_pmd+0x494/0xd40
[   29.223970]  unmap_page_range+0x1ad6/0x4320
[   29.224386]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.224718]  ? __pfx_unmap_page_range+0x10/0x10
[   29.225025]  unmap_single_vma+0x1ac/0x2d0
[   29.225295]  unmap_vmas+0x210/0x470
[   29.225538]  ? __pfx_unmap_vmas+0x10/0x10
[   29.225807]  ? __pfx_lock_release+0x10/0x10
[   29.226074]  ? lock_release+0x592/0x870
[   29.226319]  ? mas_next_slot+0x133a/0x1a50
[   29.226584]  ? __pfx_lock_release+0x10/0x10
[   29.226853]  ? mlock_drain_local+0x27f/0x4b0
[   29.227128]  exit_mmap+0x19e/0xb10
[   29.227357]  ? __pfx_exit_mmap+0x10/0x10
[   29.227615]  ? trace_hardirqs_on+0x51/0x60
[   29.227885]  ? __khugepaged_exit+0x266/0x4c0
[   29.228157]  ? kmem_cache_free+0x15d/0x420
[   29.228421]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.228755]  __mmput+0xd6/0x390
[   29.228964]  mmput+0x74/0x90
[   29.229154]  do_exit+0xa03/0x29f0
[   29.229374]  ? trace_hardirqs_on+0x51/0x60
[   29.229642]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.230221]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.230646]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.230940]  ? __pfx_do_exit+0x10/0x10
[   29.231172]  ? __audit_syscall_entry+0x39c/0x500
[   29.231453]  __x64_sys_exit+0x50/0x60
[   29.231689]  x64_sys_call+0x20c9/0x20d0
[   29.231924]  do_syscall_64+0x6d/0x140
[   29.232153]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.232454] RIP: 0033:0x7f730f23ee5d
[   29.232674] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.233021] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.233455] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.233855] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.234253] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.234643] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.235028] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.235421]  </TASK>
[   29.235556] Modules linked in:
[   29.235784] ---[ end trace 0000000000000000 ]---
[   29.236189] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.236697] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.237695] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   29.237987] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   29.238372] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   29.238767] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   29.239143] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.239512] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   29.239883] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.240299] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.240610] CR2: 00007f8809d8e000 CR3: 0000000011f94004 CR4: 0000000000770ef0
[   29.240986] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.241354] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.241725] PKRU: 55555554
[   29.241871] note: repro[1297] exited with preempt_count 1
[   29.242146] Fixing recursive fault but reboot is needed!
[   29.242413] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1297
[   29.242884] caller is debug_smp_processor_id+0x20/0x30
[   29.243177] CPU: 1 UID: 0 PID: 1297 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.243657] Tainted: [D]=DIE, [W]=WARN
[   29.243856] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.244418] Call Trace:
[   29.244613]  <TASK>
[   29.244788]  dump_stack_lvl+0x121/0x150
[   29.245086]  dump_stack+0x19/0x20
[   29.245277]  check_preemption_disabled+0x168/0x180
[   29.245534]  debug_smp_processor_id+0x20/0x30
[   29.245770]  __schedule+0x9a/0x2eb0
[   29.245964]  ? rcu_is_watching+0x19/0xc0
[   29.246176]  ? lock_release+0x592/0x870
[   29.246385]  ? __pfx___schedule+0x10/0x10
[   29.246597]  ? debug_smp_processor_id+0x20/0x30
[   29.246835]  ? rcu_is_watching+0x19/0xc0
[   29.247044]  ? trace_irq_enable+0xe1/0x120
[   29.247264]  ? do_task_dead+0x4a/0x110
[   29.247469]  do_task_dead+0xe0/0x110
[   29.247662]  make_task_dead+0x384/0x3c0
[   29.247871]  rewind_stack_and_make_dead+0x16/0x20
[   29.248117] RIP: 0033:0x7f730f23ee5d
[   29.248303] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.248603] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.248976] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.249322] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.249668] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.250010] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.250346] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.250696]  </TASK>
[   29.250900] BUG: scheduling while atomic: repro/1297/0x00000000
[   29.251277] INFO: lockdep is turned off.
[   29.251470] Modules linked in:
[   29.251628] Preemption disabled at:
[   29.251630] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   29.252070] CPU: 1 UID: 0 PID: 1297 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.252523] Tainted: [D]=DIE, [W]=WARN
[   29.252712] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.253240] Call Trace:
[   29.253369]  <TASK>
[   29.253482]  dump_stack_lvl+0x121/0x150
[   29.253687]  ? do_task_dead+0x28/0x110
[   29.253882]  dump_stack+0x19/0x20
[   29.254062]  __schedule_bug+0x12d/0x180
[   29.254260]  __schedule+0x210c/0x2eb0
[   29.254443]  ? rcu_is_watching+0x19/0xc0
[   29.254734]  ? lock_release+0x592/0x870
[   29.254995]  ? __pfx___schedule+0x10/0x10
[   29.255270]  ? debug_smp_processor_id+0x20/0x30
[   29.255500]  ? rcu_is_watching+0x19/0xc0
[   29.255704]  ? trace_irq_enable+0xe1/0x120
[   29.255918]  ? do_task_dead+0x4a/0x110
[   29.256108]  do_task_dead+0xe0/0x110
[   29.256292]  make_task_dead+0x384/0x3c0
[   29.256492]  rewind_stack_and_make_dead+0x16/0x20
[   29.256719] RIP: 0033:0x7f730f23ee5d
[   29.256892] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.257172] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.257523] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.257853] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.258177] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.258501] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.258834] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.259170]  </TASK>
[   29.747806] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#8] PREEMPT SMP KASAN NOPTI
[   29.748521] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.749112] CPU: 0 UID: 0 PID: 1666 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.749849] Tainted: [D]=DIE, [W]=WARN
[   29.750075] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.750732] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.751096] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.752148] RSP: 0018:ffff8880226af7d8 EFLAGS: 00010202
[   29.752462] RAX: dffffc0000000000 RBX: ffffea000089b400 RCX: ffffffff81b9e6e9
[   29.752873] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089b410
[   29.753275] RBP: ffff8880226af7f8 R08: 0000000000000000 R09: ffffed10034d7bec
[   29.753677] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.754083] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801a6bdf60
[   29.754483] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.754940] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.755272] CR2: 00007ffdcd14bac8 CR3: 00000000110ae004 CR4: 0000000000770ef0
[   29.755684] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.756098] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.756502] PKRU: 55555554
[   29.756667] Call Trace:
[   29.756829]  <TASK>
[   29.756962]  ? show_regs+0xa8/0xc0
[   29.757278]  ? die_addr+0x5d/0xf0
[   29.757585]  ? exc_general_protection+0x1ae/0x340
[   29.758003]  ? asm_exc_general_protection+0x2b/0x30
[   29.758305]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.758600]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.758890]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.759191]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.759487]  zap_huge_pmd+0x494/0xd40
[   29.759717]  unmap_page_range+0x1ad6/0x4320
[   29.759976]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.760275]  ? __pfx_unmap_page_range+0x10/0x10
[   29.760555]  unmap_single_vma+0x1ac/0x2d0
[   29.760795]  unmap_vmas+0x210/0x470
[   29.761009]  ? __pfx_unmap_vmas+0x10/0x10
[   29.761242]  ? __pfx_lock_release+0x10/0x10
[   29.761483]  ? lock_release+0x592/0x870
[   29.761707]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.761991]  ? __pfx_lock_release+0x10/0x10
[   29.762241]  ? mlock_drain_local+0x27f/0x4b0
[   29.762496]  exit_mmap+0x19e/0xb10
[   29.762780]  ? __pfx_exit_mmap+0x10/0x10
[   29.763088]  ? trace_hardirqs_on+0x51/0x60
[   29.763406]  ? __khugepaged_exit+0x266/0x4c0
[   29.763739]  ? kmem_cache_free+0x15d/0x420
[   29.764045]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.764433]  __mmput+0xd6/0x390
[   29.764676]  mmput+0x74/0x90
[   29.764898]  do_exit+0xa03/0x29f0
[   29.765150]  ? trace_hardirqs_on+0x51/0x60
[   29.765585]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.766210]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.766564]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.766918]  ? __pfx_do_exit+0x10/0x10
[   29.767201]  ? __audit_syscall_entry+0x39c/0x500
[   29.767542]  __x64_sys_exit+0x50/0x60
[   29.767820]  x64_sys_call+0x20c9/0x20d0
[   29.768099]  do_syscall_64+0x6d/0x140
[   29.768368]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.768726] RIP: 0033:0x7f730f23ee5d
[   29.768979] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.769394] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.769908] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.770388] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.770874] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.771376] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.771858] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.772338]  </TASK>
[   29.772491] Modules linked in:
[   29.772860] ---[ end trace 0000000000000000 ]---
[   29.773260] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.773656] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.774970] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   29.775326] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   29.775799] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   29.776259] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   29.776712] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.777166] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   29.777619] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.778134] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.778580] CR2: 00007ffdcd14bac8 CR3: 00000000110ae004 CR4: 0000000000770ef0
[   29.779041] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.779495] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.779954] PKRU: 55555554
[   29.780108] note: repro[1666] exited with preempt_count 1
[   29.780393] Fixing recursive fault but reboot is needed!
[   29.780647] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1666
[   29.781004] caller is debug_smp_processor_id+0x20/0x30
[   29.781253] CPU: 0 UID: 0 PID: 1666 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.781692] Tainted: [D]=DIE, [W]=WARN
[   29.781876] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.782393] Call Trace:
[   29.782516]  <TASK>
[   29.782624]  dump_stack_lvl+0x121/0x150
[   29.782820]  dump_stack+0x19/0x20
[   29.782991]  check_preemption_disabled+0x168/0x180
[   29.783223]  debug_smp_processor_id+0x20/0x30
[   29.783439]  __schedule+0x9a/0x2eb0
[   29.783620]  ? rcu_is_watching+0x19/0xc0
[   29.783820]  ? lock_release+0x592/0x870
[   29.784019]  ? __pfx___schedule+0x10/0x10
[   29.784224]  ? debug_smp_processor_id+0x20/0x30
[   29.784452]  ? rcu_is_watching+0x19/0xc0
[   29.784697]  ? trace_irq_enable+0xe1/0x120
[   29.785094]  ? do_task_dead+0x4a/0x110
[   29.785472]  do_task_dead+0xe0/0x110
[   29.785831]  make_task_dead+0x384/0x3c0
[   29.786145]  rewind_stack_and_make_dead+0x16/0x20
[   29.786366] RIP: 0033:0x7f730f23ee5d
[   29.786537] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.786816] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.787155] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.787477] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.787798] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.788119] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.788433] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.788752]  </TASK>
[   29.788873] BUG: scheduling while atomic: repro/1666/0x00000000
[   29.789137] INFO: lockdep is turned off.
[   29.789313] Modules linked in:
[   29.789456] Preemption disabled at:
[   29.789458] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   29.789865] CPU: 0 UID: 0 PID: 1666 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.790282] Tainted: [D]=DIE, [W]=WARN
[   29.790452] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.790944] Call Trace:
[   29.791061]  <TASK>
[   29.791163]  dump_stack_lvl+0x121/0x150
[   29.791347]  ? do_task_dead+0x28/0x110
[   29.791525]  dump_stack+0x19/0x20
[   29.791684]  __schedule_bug+0x12d/0x180
[   29.791863]  __schedule+0x210c/0x2eb0
[   29.792033]  ? rcu_is_watching+0x19/0xc0
[   29.792212]  ? lock_release+0x592/0x870
[   29.792387]  ? __pfx___schedule+0x10/0x10
[   29.792570]  ? debug_smp_processor_id+0x20/0x30
[   29.792776]  ? rcu_is_watching+0x19/0xc0
[   29.792956]  ? trace_irq_enable+0xe1/0x120
[   29.793146]  ? do_task_dead+0x4a/0x110
[   29.793322]  do_task_dead+0xe0/0x110
[   29.793491]  make_task_dead+0x384/0x3c0
[   29.793670]  rewind_stack_and_make_dead+0x16/0x20
[   29.793883] RIP: 0033:0x7f730f23ee5d
[   29.794045] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.794308] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.794626] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.794924] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.795220] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.795517] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.795814] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.796118]  </TASK>
[   29.853766] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#9] PREEMPT SMP KASAN NOPTI
[   29.854703] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.855283] CPU: 1 UID: 0 PID: 1749 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.856005] Tainted: [D]=DIE, [W]=WARN
[   29.856302] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.857436] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.857898] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.859239] RSP: 0018:ffff8880105bf7d8 EFLAGS: 00010202
[   29.859632] RAX: dffffc0000000000 RBX: ffffea00007eb6c0 RCX: ffffffff81b9e6e9
[   29.860156] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007eb6d0
[   29.860677] RBP: ffff8880105bf7f8 R08: 0000000000000000 R09: ffffed1001ed72cc
[   29.861196] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.861717] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f6b9660
[   29.862237] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.862826] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.863251] CR2: 00007f730f29bc20 CR3: 0000000014486006 CR4: 0000000000770ef0
[   29.863774] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.864280] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.864781] PKRU: 55555554
[   29.864981] Call Trace:
[   29.865164]  <TASK>
[   29.865327]  ? show_regs+0xa8/0xc0
[   29.865660]  ? die_addr+0x5d/0xf0
[   29.865925]  ? exc_general_protection+0x1ae/0x340
[   29.866303]  ? asm_exc_general_protection+0x2b/0x30
[   29.866690]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.867082]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.867478]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.867890]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.868292]  zap_huge_pmd+0x494/0xd40
[   29.868602]  unmap_page_range+0x1ad6/0x4320
[   29.869076]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.869622]  ? __pfx_unmap_page_range+0x10/0x10
[   29.869986]  unmap_single_vma+0x1ac/0x2d0
[   29.870288]  unmap_vmas+0x210/0x470
[   29.870554]  ? __pfx_unmap_vmas+0x10/0x10
[   29.870851]  ? __pfx_lock_release+0x10/0x10
[   29.871153]  ? lock_release+0x592/0x870
[   29.871432]  ? mas_next_slot+0x133a/0x1a50
[   29.871737]  ? __pfx_lock_release+0x10/0x10
[   29.872042]  ? mlock_drain_local+0x27f/0x4b0
[   29.872363]  exit_mmap+0x19e/0xb10
[   29.872627]  ? __pfx_exit_mmap+0x10/0x10
[   29.872938]  ? trace_hardirqs_on+0x51/0x60
[   29.873245]  ? __khugepaged_exit+0x266/0x4c0
[   29.873567]  ? kmem_cache_free+0x15d/0x420
[   29.873879]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.874278]  __mmput+0xd6/0x390
[   29.874530]  mmput+0x74/0x90
[   29.874766]  do_exit+0xa03/0x29f0
[   29.875018]  ? trace_hardirqs_on+0x51/0x60
[   29.875468]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.876038]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.876391]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.876760]  ? __pfx_do_exit+0x10/0x10
[   29.877038]  ? __audit_syscall_entry+0x39c/0x500
[   29.877383]  __x64_sys_exit+0x50/0x60
[   29.877650]  x64_sys_call+0x20c9/0x20d0
[   29.877925]  do_syscall_64+0x6d/0x140
[   29.878190]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.878551] RIP: 0033:0x7f730f23ee5d
[   29.878807] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.879235] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.879781] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.880268] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.880774] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.881218] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.881863] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.882404]  </TASK>
[   29.882568] Modules linked in:
[   29.882937] ---[ end trace 0000000000000000 ]---
[   29.883259] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.883656] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.884812] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   29.885150] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   29.885592] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   29.886045] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   29.886658] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.887113] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   29.887550] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.888249] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.888619] CR2: 00007f730f29bc20 CR3: 0000000014486006 CR4: 0000000000770ef0
[   29.889053] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.889482] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.889910] PKRU: 55555554
[   29.890084] note: repro[1749] exited with preempt_count 1
[   29.890413] Fixing recursive fault but reboot is needed!
[   29.890813] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1749
[   29.891283] caller is debug_smp_processor_id+0x20/0x30
[   29.891637] CPU: 1 UID: 0 PID: 1749 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.892196] Tainted: [D]=DIE, [W]=WARN
[   29.892419] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.893081] Call Trace:
[   29.893235]  <TASK>
[   29.893372]  dump_stack_lvl+0x121/0x150
[   29.893618]  dump_stack+0x19/0x20
[   29.893931]  check_preemption_disabled+0x168/0x180
[   29.894348]  debug_smp_processor_id+0x20/0x30
[   29.894676]  __schedule+0x9a/0x2eb0
[   29.894895]  ? rcu_is_watching+0x19/0xc0
[   29.895136]  ? lock_release+0x592/0x870
[   29.895366]  ? __pfx___schedule+0x10/0x10
[   29.895605]  ? debug_smp_processor_id+0x20/0x30
[   29.895880]  ? rcu_is_watching+0x19/0xc0
[   29.896114]  ? trace_irq_enable+0xe1/0x120
[   29.896362]  ? do_task_dead+0x4a/0x110
[   29.896592]  do_task_dead+0xe0/0x110
[   29.896815]  make_task_dead+0x384/0x3c0
[   29.897048]  rewind_stack_and_make_dead+0x16/0x20
[   29.897322] RIP: 0033:0x7f730f23ee5d
[   29.897532] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.897875] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.898296] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.898693] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.899087] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.899480] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.899876] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.900278]  </TASK>
[   29.900443] BUG: scheduling while atomic: repro/1749/0x00000000
[   29.900880] INFO: lockdep is turned off.
[   29.901096] Modules linked in:
[   29.901272] Preemption disabled at:
[   29.901275] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   29.901776] CPU: 1 UID: 0 PID: 1749 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   29.902293] Tainted: [D]=DIE, [W]=WARN
[   29.902505] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.903161] Call Trace:
[   29.903308]  <TASK>
[   29.903436]  dump_stack_lvl+0x121/0x150
[   29.903670]  ? do_task_dead+0x28/0x110
[   29.903896]  dump_stack+0x19/0x20
[   29.904197]  __schedule_bug+0x12d/0x180
[   29.904528]  __schedule+0x210c/0x2eb0
[   29.904852]  ? rcu_is_watching+0x19/0xc0
[   29.905098]  ? lock_release+0x592/0x870
[   29.905321]  ? __pfx___schedule+0x10/0x10
[   29.905551]  ? debug_smp_processor_id+0x20/0x30
[   29.905807]  ? rcu_is_watching+0x19/0xc0
[   29.906029]  ? trace_irq_enable+0xe1/0x120
[   29.906266]  ? do_task_dead+0x4a/0x110
[   29.906487]  do_task_dead+0xe0/0x110
[   29.906702]  make_task_dead+0x384/0x3c0
[   29.906925]  rewind_stack_and_make_dead+0x16/0x20
[   29.907187] RIP: 0033:0x7f730f23ee5d
[   29.907389] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   29.907718] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.908120] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   29.908499] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.908867] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   29.909231] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   29.909601] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   29.909987]  </TASK>
[   30.459393] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#10] PREEMPT SMP KASAN NOPTI
[   30.460395] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.460973] CPU: 1 UID: 0 PID: 2111 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   30.461695] Tainted: [D]=DIE, [W]=WARN
[   30.461987] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.463081] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.463677] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.465456] RSP: 0018:ffff888011e477d8 EFLAGS: 00010202
[   30.465978] RAX: dffffc0000000000 RBX: ffffea00003ead00 RCX: ffffffff81b9e6e9
[   30.466670] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00003ead10
[   30.467368] RBP: ffff888011e477f8 R08: 0000000000000000 R09: ffffed100288f2e4
[   30.468063] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.468765] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888014479720
[   30.469458] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   30.470218] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.470765] CR2: 00007f730f4f5e28 CR3: 00000000104dc004 CR4: 0000000000770ef0
[   30.471432] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.472099] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.472764] PKRU: 55555554
[   30.473029] Call Trace:
[   30.473283]  <TASK>
[   30.473497]  ? show_regs+0xa8/0xc0
[   30.473846]  ? die_addr+0x5d/0xf0
[   30.474184]  ? exc_general_protection+0x1ae/0x340
[   30.474651]  ? asm_exc_general_protection+0x2b/0x30
[   30.475138]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.475633]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.476134]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.476631]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.477115]  zap_huge_pmd+0x494/0xd40
[   30.477471]  unmap_page_range+0x1ad6/0x4320
[   30.477880]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.478348]  ? __pfx_unmap_page_range+0x10/0x10
[   30.478786]  unmap_single_vma+0x1ac/0x2d0
[   30.479168]  unmap_vmas+0x210/0x470
[   30.479507]  ? __pfx_unmap_vmas+0x10/0x10
[   30.479890]  ? __pfx_lock_release+0x10/0x10
[   30.480279]  ? lock_release+0x592/0x870
[   30.480638]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   30.481098]  ? __pfx_lock_release+0x10/0x10
[   30.481491]  ? mlock_drain_local+0x27f/0x4b0
[   30.481900]  exit_mmap+0x19e/0xb10
[   30.482233]  ? __pfx_exit_mmap+0x10/0x10
[   30.482603]  ? trace_hardirqs_on+0x51/0x60
[   30.482987]  ? __khugepaged_exit+0x266/0x4c0
[   30.483375]  ? kmem_cache_free+0x15d/0x420
[   30.483750]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.484228]  __mmput+0xd6/0x390
[   30.484521]  mmput+0x74/0x90
[   30.484794]  do_exit+0xa03/0x29f0
[   30.485103]  ? trace_hardirqs_on+0x51/0x60
[   30.485477]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.486029]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.486461]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.486897]  ? __pfx_do_exit+0x10/0x10
[   30.487241]  ? __audit_syscall_entry+0x39c/0x500
[   30.487660]  __x64_sys_exit+0x50/0x60
[   30.488002]  x64_sys_call+0x20c9/0x20d0
[   30.488351]  do_syscall_64+0x6d/0x140
[   30.488694]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.489141] RIP: 0033:0x7f730f23ee5d
[   30.489453] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   30.489961] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.490590] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   30.491182] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.491774] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   30.492363] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   30.492966] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   30.493565]  </TASK>
[   30.493763] Modules linked in:
[   30.494127] ---[ end trace 0000000000000000 ]---
[   30.494521] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.494997] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.496461] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   30.496891] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   30.497460] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   30.498034] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   30.498690] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.499239] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   30.499793] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   30.500418] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.500870] CR2: 00007f730f4f5e28 CR3: 00000000104dc004 CR4: 0000000000770ef0
[   30.501421] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.501975] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.502654] PKRU: 55555554
[   30.502883] note: repro[2111] exited with preempt_count 1
[   30.503304] Fixing recursive fault but reboot is needed!
[   30.503821] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2111
[   30.504604] caller is debug_smp_processor_id+0x20/0x30
[   30.505146] CPU: 1 UID: 0 PID: 2111 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   30.505932] Tainted: [D]=DIE, [W]=WARN
[   30.506248] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.507114] Call Trace:
[   30.507307]  <TASK>
[   30.507476]  dump_stack_lvl+0x121/0x150
[   30.507785]  dump_stack+0x19/0x20
[   30.508054]  check_preemption_disabled+0x168/0x180
[   30.508415]  debug_smp_processor_id+0x20/0x30
[   30.508746]  __schedule+0x9a/0x2eb0
[   30.509014]  ? rcu_is_watching+0x19/0xc0
[   30.509310]  ? lock_release+0x592/0x870
[   30.509600]  ? __pfx___schedule+0x10/0x10
[   30.509905]  ? debug_smp_processor_id+0x20/0x30
[   30.510243]  ? rcu_is_watching+0x19/0xc0
[   30.510538]  ? trace_irq_enable+0xe1/0x120
[   30.510854]  ? do_task_dead+0x4a/0x110
[   30.511144]  do_task_dead+0xe0/0x110
[   30.511422]  make_task_dead+0x384/0x3c0
[   30.511718]  rewind_stack_and_make_dead+0x16/0x20
[   30.512071] RIP: 0033:0x7f730f23ee5d
[   30.512342] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   30.512780] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.513309] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   30.513816] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.514315] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   30.514816] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   30.515315] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   30.515825]  </TASK>
[   30.516064] BUG: scheduling while atomic: repro/2111/0x00000000
[   30.516485] INFO: lockdep is turned off.
[   30.516766] Modules linked in:
[   30.516995] Preemption disabled at:
[   30.516998] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   30.517623] CPU: 1 UID: 0 PID: 2111 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   30.518267] Tainted: [D]=DIE, [W]=WARN
[   30.518528] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.519297] Call Trace:
[   30.519474]  <TASK>
[   30.519629]  dump_stack_lvl+0x121/0x150
[   30.519911]  ? do_task_dead+0x28/0x110
[   30.520369]  dump_stack+0x19/0x20
[   30.520802]  __schedule_bug+0x12d/0x180
[   30.521290]  __schedule+0x210c/0x2eb0
[   30.521649]  ? rcu_is_watching+0x19/0xc0
[   30.521923]  ? lock_release+0x592/0x870
[   30.522189]  ? __pfx___schedule+0x10/0x10
[   30.522465]  ? debug_smp_processor_id+0x20/0x30
[   30.522776]  ? rcu_is_watching+0x19/0xc0
[   30.523046]  ? trace_irq_enable+0xe1/0x120
[   30.523331]  ? do_task_dead+0x4a/0x110
[   30.523595]  do_task_dead+0xe0/0x110
[   30.523851]  make_task_dead+0x384/0x3c0
[   30.524121]  rewind_stack_and_make_dead+0x16/0x20
[   30.524443] RIP: 0033:0x7f730f23ee5d
[   30.524691] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   30.525101] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.525599] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   30.526071] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.526530] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   30.526985] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   30.527439] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   30.527901]  </TASK>
[   30.743018] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#11] PREEMPT SMP KASAN NOPTI
[   30.744108] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.744848] CPU: 0 UID: 0 PID: 2257 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   30.745736] Tainted: [D]=DIE, [W]=WARN
[   30.746080] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.747091] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.747641] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.749286] RSP: 0018:ffff8880217cf7d8 EFLAGS: 00010202
[   30.750066] RAX: dffffc0000000000 RBX: ffffea0000708e40 RCX: ffffffff81b9e6e9
[   30.750726] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000708e50
[   30.751379] RBP: ffff8880217cf7f8 R08: 0000000000000000 R09: ffffed1001f1a800
[   30.752063] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.752720] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f8d4000
[   30.753340] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   30.754039] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.754544] CR2: 00007f730f3fca50 CR3: 000000001335c003 CR4: 0000000000770ef0
[   30.755188] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.755854] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.756488] PKRU: 55555554
[   30.756753] Call Trace:
[   30.757058]  <TASK>
[   30.757326]  ? show_regs+0xa8/0xc0
[   30.757761]  ? die_addr+0x5d/0xf0
[   30.758181]  ? exc_general_protection+0x1ae/0x340
[   30.758769]  ? asm_exc_general_protection+0x2b/0x30
[   30.759370]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.759991]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.760462]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.760934]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.761458]  zap_huge_pmd+0x494/0xd40
[   30.761932]  unmap_page_range+0x1ad6/0x4320
[   30.762465]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.763082]  ? __pfx_unmap_page_range+0x10/0x10
[   30.763649]  unmap_single_vma+0x1ac/0x2d0
[   30.764156]  unmap_vmas+0x210/0x470
[   30.764600]  ? __pfx_unmap_vmas+0x10/0x10
[   30.765097]  ? __pfx_lock_release+0x10/0x10
[   30.765604]  ? lock_release+0x592/0x870
[   30.766081]  ? mas_next_slot+0x133a/0x1a50
[   30.766587]  ? __pfx_lock_release+0x10/0x10
[   30.767108]  ? mlock_drain_local+0x27f/0x4b0
[   30.767639]  exit_mmap+0x19e/0xb10
[   30.768078]  ? __pfx_exit_mmap+0x10/0x10
[   30.768576]  ? trace_hardirqs_on+0x51/0x60
[   30.769095]  ? __khugepaged_exit+0x266/0x4c0
[   30.769620]  ? kmem_cache_free+0x15d/0x420
[   30.770130]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.770784]  __mmput+0xd6/0x390
[   30.771183]  mmput+0x74/0x90
[   30.771549]  do_exit+0xa03/0x29f0
[   30.771974]  ? trace_hardirqs_on+0x51/0x60
[   30.772483]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.773228]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.773822]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.774416]  ? __pfx_do_exit+0x10/0x10
[   30.774887]  ? __audit_syscall_entry+0x39c/0x500
[   30.775455]  __x64_sys_exit+0x50/0x60
[   30.775919]  x64_sys_call+0x20c9/0x20d0
[   30.776393]  do_syscall_64+0x6d/0x140
[   30.776858]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.777458] RIP: 0033:0x7f730f23ee5d
[   30.777829] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   30.778342] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.778977] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   30.779569] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.780167] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   30.780760] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   30.781349] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   30.781956]  </TASK>
[   30.782153] Modules linked in:
[   30.782662] ---[ end trace 0000000000000000 ]---
[   30.783074] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.783579] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.785056] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   30.785479] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   30.786050] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   30.786772] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   30.787344] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.787914] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   30.788480] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   30.789126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.789589] CR2: 00007f730f3fca50 CR3: 000000001335c003 CR4: 0000000000770ef0
[   30.790160] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.790827] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.791393] PKRU: 55555554
[   30.791612] note: repro[2257] exited with preempt_count 1
[   30.792029] Fixing recursive fault but reboot is needed!
[   30.792433] BUG: scheduling while atomic: repro/2257/0x00000000
[   30.792887] INFO: lockdep is turned off.
[   30.793190] Modules linked in:
[   30.793435] Preemption disabled at:
[   30.793438] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   30.794143] CPU: 0 UID: 0 PID: 2257 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   30.794868] Tainted: [D]=DIE, [W]=WARN
[   30.795160] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.796010] Call Trace:
[   30.796370]  <TASK>
[   30.796554]  dump_stack_lvl+0x121/0x150
[   30.796886]  ? do_task_dead+0x28/0x110
[   30.797209]  dump_stack+0x19/0x20
[   30.797504]  __schedule_bug+0x12d/0x180
[   30.797848]  __schedule+0x210c/0x2eb0
[   30.798149]  ? rcu_is_watching+0x19/0xc0
[   30.798468]  ? lock_release+0x592/0x870
[   30.798791]  ? __pfx___schedule+0x10/0x10
[   30.799113]  ? debug_smp_processor_id+0x20/0x30
[   30.799479]  ? rcu_is_watching+0x19/0xc0
[   30.799800]  ? trace_irq_enable+0xe1/0x120
[   30.800128]  ? do_task_dead+0x4a/0x110
[   30.800435]  do_task_dead+0xe0/0x110
[   30.800736]  make_task_dead+0x384/0x3c0
[   30.801040]  rewind_stack_and_make_dead+0x16/0x20
[   30.801413] RIP: 0033:0x7f730f23ee5d
[   30.801702] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   30.802162] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.802718] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   30.803243] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.803763] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   30.804279] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   30.804808] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   30.805354]  </TASK>
[   31.260877] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#12] PREEMPT SMP KASAN NOPTI
[   31.261646] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.262311] CPU: 1 UID: 0 PID: 2581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.262906] Tainted: [D]=DIE, [W]=WARN
[   31.263147] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.263847] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.264227] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.265362] RSP: 0018:ffff88802265f7d8 EFLAGS: 00010202
[   31.265701] RAX: dffffc0000000000 RBX: ffffea0000890340 RCX: ffffffff81b9e6e9
[   31.266145] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000890350
[   31.266590] RBP: ffff88802265f7f8 R08: 0000000000000000 R09: ffffed10031d4a60
[   31.267014] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.267437] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888018ea5300
[   31.268056] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.268658] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.269011] CR2: 00007ffdcd14bac8 CR3: 0000000010c6a002 CR4: 0000000000770ef0
[   31.269441] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.269867] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.270293] PKRU: 55555554
[   31.270479] Call Trace:
[   31.270639]  <TASK>
[   31.270784]  ? show_regs+0xa8/0xc0
[   31.271013]  ? die_addr+0x5d/0xf0
[   31.271237]  ? exc_general_protection+0x1ae/0x340
[   31.271544]  ? asm_exc_general_protection+0x2b/0x30
[   31.271861]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.272186]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.272509]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.272835]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.273162]  zap_huge_pmd+0x494/0xd40
[   31.273406]  unmap_page_range+0x1ad6/0x4320
[   31.273680]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.274127]  ? __pfx_unmap_page_range+0x10/0x10
[   31.274542]  unmap_single_vma+0x1ac/0x2d0
[   31.274823]  unmap_vmas+0x210/0x470
[   31.275050]  ? __pfx_unmap_vmas+0x10/0x10
[   31.275299]  ? __pfx_lock_release+0x10/0x10
[   31.275555]  ? lock_release+0x592/0x870
[   31.275792]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.276091]  ? __pfx_lock_release+0x10/0x10
[   31.276351]  ? mlock_drain_local+0x27f/0x4b0
[   31.276617]  exit_mmap+0x19e/0xb10
[   31.276843]  ? __pfx_exit_mmap+0x10/0x10
[   31.277093]  ? trace_hardirqs_on+0x51/0x60
[   31.277354]  ? __khugepaged_exit+0x266/0x4c0
[   31.277619]  ? kmem_cache_free+0x15d/0x420
[   31.277885]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.278215]  __mmput+0xd6/0x390
[   31.278419]  mmput+0x74/0x90
[   31.278607]  do_exit+0xa03/0x29f0
[   31.278827]  ? trace_hardirqs_on+0x51/0x60
[   31.279086]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.279445]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.279733]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.280016]  ? __pfx_do_exit+0x10/0x10
[   31.280245]  ? __audit_syscall_entry+0x39c/0x500
[   31.280526]  __x64_sys_exit+0x50/0x60
[   31.280751]  x64_sys_call+0x20c9/0x20d0
[   31.280982]  do_syscall_64+0x6d/0x140
[   31.281208]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.281504] RIP: 0033:0x7f730f23ee5d
[   31.281720] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.282063] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.282685] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.283137] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.283531] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.283926] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.284310] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.284704]  </TASK>
[   31.284836] Modules linked in:
[   31.285156] ---[ end trace 0000000000000000 ]---
[   31.285419] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.285746] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.286864] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.287162] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.287547] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.287937] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.288320] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.288890] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.289337] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.289769] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.290073] CR2: 00007ffdcd14bac8 CR3: 0000000010c6a002 CR4: 0000000000770ef0
[   31.290553] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.290960] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.291335] PKRU: 55555554
[   31.291486] note: repro[2581] exited with preempt_count 1
[   31.291775] Fixing recursive fault but reboot is needed!
[   31.292052] BUG: scheduling while atomic: repro/2581/0x00000000
[   31.292362] INFO: lockdep is turned off.
[   31.292570] Modules linked in:
[   31.292741] Preemption disabled at:
[   31.292744] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.293228] CPU: 1 UID: 0 PID: 2581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.293720] Tainted: [D]=DIE, [W]=WARN
[   31.293919] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.294486] Call Trace:
[   31.294682]  <TASK>
[   31.294851]  dump_stack_lvl+0x121/0x150
[   31.295161]  ? do_task_dead+0x28/0x110
[   31.295409]  dump_stack+0x19/0x20
[   31.295599]  __schedule_bug+0x12d/0x180
[   31.295815]  __schedule+0x210c/0x2eb0
[   31.296016]  ? rcu_is_watching+0x19/0xc0
[   31.296173] ------------[ cut here ]------------
[   31.296230]  ? lock_release+0x592/0x870
[   31.296686] kernel BUG at include/linux/swapops.h:508!
[   31.296883]  ? __pfx___schedule+0x10/0x10
[   31.297369] Oops: invalid opcode: 0000 [#13] PREEMPT SMP KASAN NOPTI
[   31.297569]  ? debug_smp_processor_id+0x20/0x30
[   31.298136] CPU: 0 UID: 0 PID: 2589 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.298426]  ? rcu_is_watching+0x19/0xc0
[   31.299275] Tainted: [D]=DIE, [W]=WARN
[   31.299610]  ? trace_irq_enable+0xe1/0x120
[   31.299949] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.300155]  ? do_task_dead+0x4a/0x110
[   31.301134] RIP: 0010:pfn_swap_entry_folio+0x2a6/0x310
[   31.301324]  do_task_dead+0xe0/0x110
[   31.301782] Code: fc ff df 48 c1 ea 03 80 3c 02 00 75 5e 49 8b 1c 24 31 ff 83 e3 01 89 de e8 77 66 97 ff 84 db 0f 85 b3 fe ff ff e8 6a 63 97 ff <0f> 0b e8 63 63 97 ff 4c 8b a5 70 ff ff ff 49 83 ec 01 e9 59 fe ff
[   31.301964]  make_task_dead+0x384/0x3c0
[   31.303611] RSP: 0018:ffff8880113d7768 EFLAGS: 00010293
[   31.303807]  rewind_stack_and_make_dead+0x16/0x20
[   31.304288] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff81ce5749
[   31.304518] RIP: 0033:0x7f730f23ee5d
[   31.305155] RDX: ffff8880224c4a00 RSI: ffffffff81ce5756 RDI: 0000000000000001
[   31.305329] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.305956] RBP: ffff8880113d77f8 R08: 0000000000000000 R09: fffff94000150000
[   31.306252] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.306885] R10: 0000000000000000 R11: 0000000000000000 R12: ffffea0000a80000
[   31.307246] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.307876] R13: 1ffff1100227aeee R14: 000000000000001a R15: 0000000000000000
[   31.308199] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.308833] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.309159] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.309859] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.310183] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.310692] CR2: 00007f8809dc1000 CR3: 000000001d9b4003 CR4: 0000000000770ef0
[   31.311016] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.311640] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.311960]  </TASK>
[   31.312587] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.313323] PKRU: 55555554
[   31.313582] Call Trace:
[   31.313823]  <TASK>
[   31.314033]  ? show_regs+0xa8/0xc0
[   31.314379]  ? die+0x42/0xc0
[   31.314681]  ? do_trap+0x230/0x410
[   31.315025]  ? do_error_trap+0xf2/0x210
[   31.315393]  ? pfn_swap_entry_folio+0x2a6/0x310
[   31.315830]  ? handle_invalid_op+0x39/0x50
[   31.316214]  ? pfn_swap_entry_folio+0x2a6/0x310
[   31.316644]  ? exc_invalid_op+0x63/0x80
[   31.317021]  ? asm_exc_invalid_op+0x1f/0x30
[   31.317429]  ? pfn_swap_entry_folio+0x299/0x310
[   31.317862]  ? pfn_swap_entry_folio+0x2a6/0x310
[   31.318296]  ? pfn_swap_entry_folio+0x2a6/0x310
[   31.318731]  ? pfn_swap_entry_folio+0x2a6/0x310
[   31.319162]  ? __pfx_pfn_swap_entry_folio+0x10/0x10
[   31.319620]  ? _raw_spin_lock+0x40/0x50
[   31.319999]  ? __pmd_trans_huge_lock+0xdb/0x300
[   31.320429]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   31.320933]  zap_huge_pmd+0x2ae/0xd40
[   31.321295]  unmap_page_range+0x1ad6/0x4320
[   31.321715]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.322210]  ? __pfx_unmap_page_range+0x10/0x10
[   31.322670]  unmap_single_vma+0x1ac/0x2d0
[   31.323072]  unmap_vmas+0x210/0x470
[   31.323428]  ? __pfx_unmap_vmas+0x10/0x10
[   31.323819]  ? __pfx_lock_release+0x10/0x10
[   31.324223]  ? lock_release+0x592/0x870
[   31.324610]  ? mas_next_slot+0x133a/0x1a50
[   31.325031]  ? __pfx_lock_release+0x10/0x10
[   31.325431]  ? mlock_drain_local+0x27f/0x4b0
[   31.325850]  exit_mmap+0x19e/0xb10
[   31.326190]  ? __pfx_exit_mmap+0x10/0x10
[   31.326593]  ? trace_hardirqs_on+0x51/0x60
[   31.327025]  ? __khugepaged_exit+0x266/0x4c0
[   31.327467]  ? kmem_cache_free+0x15d/0x420
[   31.327871]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.328372]  __mmput+0xd6/0x390
[   31.328685]  mmput+0x74/0x90
[   31.328977]  do_exit+0xa03/0x29f0
[   31.329306]  ? trace_hardirqs_on+0x51/0x60
[   31.329707]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.330275]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.330733]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.331188]  ? __pfx_do_exit+0x10/0x10
[   31.331555]  ? __audit_syscall_entry+0x39c/0x500
[   31.332001]  __x64_sys_exit+0x50/0x60
[   31.332358]  x64_sys_call+0x20c9/0x20d0
[   31.332735]  do_syscall_64+0x6d/0x140
[   31.333106]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.333581] RIP: 0033:0x7f730f23ee5d
[   31.333935] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.334492] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.335217] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.335884] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.336518] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.337183] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.337834] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.338476]  </TASK>
[   31.338693] Modules linked in:
[   31.339188] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#14] PREEMPT SMP KASAN NOPTI
[   31.339202] ---[ end trace 0000000000000000 ]---
[   31.339849] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.340536] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.340966] CPU: 1 UID: 0 PID: 2629 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.341847] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.342354] Tainted: [D]=DIE, [W]=WARN
[   31.344712] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.344791] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.345316] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.346075] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.346391] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.347479] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.348273] RSP: 0018:ffff888018c977d8 EFLAGS: 00010202
[   31.349146] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.349612] RAX: dffffc0000000000 RBX: ffffea0000589fc0 RCX: ffffffff81b9e6e9
[   31.350453] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.350874] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000589fd0
[   31.350881] RBP: ffff888018c977f8 R08: 0000000000000000 R09: ffffed100207e380
[   31.350887] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.350893] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880103f1c00
[   31.351695] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.352058] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.352874] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.353232] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.354031] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.354395] CR2: 00007f730f29bc20 CR3: 0000000013a98004 CR4: 0000000000770ef0
[   31.355308] CR2: 00007f8809dc1000 CR3: 000000001d9b4003 CR4: 0000000000770ef0
[   31.355698] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.356314] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.356601] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.357358] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.357716] PKRU: 55555554
[   31.358497] PKRU: 55555554
[   31.358832] Call Trace:
[   31.358837]  <TASK>
[   31.359592] note: repro[2589] exited with preempt_count 1
[   31.359945]  ? show_regs+0xa8/0xc0
[   31.360242] Fixing recursive fault but reboot is needed!
[   31.360382]  ? die_addr+0x5d/0xf0
[   31.361616]  ? exc_general_protection+0x1ae/0x340
[   31.361868]  ? asm_exc_general_protection+0x2b/0x30
[   31.362122]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.362380]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.362636]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.362893]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.363151]  zap_huge_pmd+0x494/0xd40
[   31.363344]  unmap_page_range+0x1ad6/0x4320
[   31.363564]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.363819]  ? __pfx_unmap_page_range+0x10/0x10
[   31.364169]  unmap_single_vma+0x1ac/0x2d0
[   31.364497]  unmap_vmas+0x210/0x470
[   31.364786]  ? __pfx_unmap_vmas+0x10/0x10
[   31.365103]  ? __pfx_lock_release+0x10/0x10
[   31.365512]  ? lock_release+0x592/0x870
[   31.365882]  ? mas_next_slot+0x133a/0x1a50
[   31.366129]  ? __pfx_lock_release+0x10/0x10
[   31.366339]  ? mlock_drain_local+0x27f/0x4b0
[   31.366563]  exit_mmap+0x19e/0xb10
[   31.366746]  ? __pfx_exit_mmap+0x10/0x10
[   31.366956]  ? trace_hardirqs_on+0x51/0x60
[   31.367178]  ? __khugepaged_exit+0x266/0x4c0
[   31.367397]  ? kmem_cache_free+0x15d/0x420
[   31.367608]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.367875]  __mmput+0xd6/0x390
[   31.368039]  mmput+0x74/0x90
[   31.368189]  do_exit+0xa03/0x29f0
[   31.368356]  ? trace_hardirqs_on+0x51/0x60
[   31.368558]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.368852]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.369083]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.369315]  ? __pfx_do_exit+0x10/0x10
[   31.369505]  ? __audit_syscall_entry+0x39c/0x500
[   31.369736]  __x64_sys_exit+0x50/0x60
[   31.369925]  x64_sys_call+0x20c9/0x20d0
[   31.370123]  do_syscall_64+0x6d/0x140
[   31.370319]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.370569] RIP: 0033:0x7f730f23ee5d
[   31.370753] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.371037] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.371388] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.371722] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.372048] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.372386] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.372730] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.373069]  </TASK>
[   31.373177] Modules linked in:
[   31.373395] ---[ end trace 0000000000000000 ]---
[   31.373612] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.373888] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.374721] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.374961] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.375284] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.375608] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.375933] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.376257] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.376598] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.376949] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.377200] CR2: 00007f730f29bc20 CR3: 0000000013a98004 CR4: 0000000000770ef0
[   31.377516] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.377832] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.378149] PKRU: 55555554
[   31.378289] note: repro[2629] exited with preempt_count 1
[   31.378558] Fixing recursive fault but reboot is needed!
[   31.378810] BUG: scheduling while atomic: repro/2629/0x00000000
[   31.379094] INFO: lockdep is turned off.
[   31.379274] Modules linked in:
[   31.379419] Preemption disabled at:
[   31.379423] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.379829] CPU: 1 UID: 0 PID: 2629 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.380232] Tainted: [D]=DIE, [W]=WARN
[   31.380397] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.380886] Call Trace:
[   31.381000]  <TASK>
[   31.381099]  dump_stack_lvl+0x121/0x150
[   31.381280]  ? do_task_dead+0x28/0x110
[   31.381468]  dump_stack+0x19/0x20
[   31.381804]  __schedule_bug+0x12d/0x180
[   31.382180]  __schedule+0x210c/0x2eb0
[   31.382535]  ? rcu_is_watching+0x19/0xc0
[   31.382759]  ? lock_release+0x592/0x870
[   31.382933]  ? __pfx___schedule+0x10/0x10
[   31.383113]  ? debug_smp_processor_id+0x20/0x30
[   31.383323]  ? rcu_is_watching+0x19/0xc0
[   31.383498]  ? trace_irq_enable+0xe1/0x120
[   31.383692]  ? do_task_dead+0x4a/0x110
[   31.383870]  do_task_dead+0xe0/0x110
[   31.384040]  make_task_dead+0x384/0x3c0
[   31.384215]  rewind_stack_and_make_dead+0x16/0x20
[   31.384426] RIP: 0033:0x7f730f23ee5d
[   31.384587] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.384851] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.385172] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.385482] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.385799] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.386102] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.386403] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.386720]  </TASK>
[   31.742745] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#15] PREEMPT SMP KASAN NOPTI
[   31.743430] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.743850] CPU: 1 UID: 0 PID: 2869 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.744403] Tainted: [D]=DIE, [W]=WARN
[   31.744617] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.745242] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.745577] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.746588] RSP: 0018:ffff8880114ef7d8 EFLAGS: 00010202
[   31.746885] RAX: dffffc0000000000 RBX: ffffea000040fd40 RCX: ffffffff81b9e6e9
[   31.747289] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000040fd50
[   31.747706] RBP: ffff8880114ef7f8 R08: 0000000000000000 R09: ffffed1003b7ba9c
[   31.748114] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.748513] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801dbdd4e0
[   31.748920] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.749370] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.749700] CR2: 0000000000404118 CR3: 0000000016372002 CR4: 0000000000770ef0
[   31.750102] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.750500] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.750905] PKRU: 55555554
[   31.751062] Call Trace:
[   31.751208]  <TASK>
[   31.751337]  ? show_regs+0xa8/0xc0
[   31.751546]  ? die_addr+0x5d/0xf0
[   31.751747]  ? exc_general_protection+0x1ae/0x340
[   31.752024]  ? asm_exc_general_protection+0x2b/0x30
[   31.752306]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.752599]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.752907]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.753222]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.753531]  zap_huge_pmd+0x494/0xd40
[   31.753761]  unmap_page_range+0x1ad6/0x4320
[   31.754012]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.754305]  ? __pfx_unmap_page_range+0x10/0x10
[   31.754573]  unmap_single_vma+0x1ac/0x2d0
[   31.754810]  unmap_vmas+0x210/0x470
[   31.755021]  ? __pfx_unmap_vmas+0x10/0x10
[   31.755253]  ? __pfx_lock_release+0x10/0x10
[   31.755495]  ? lock_release+0x592/0x870
[   31.755722]  ? mas_next_slot+0x133a/0x1a50
[   31.755960]  ? __pfx_lock_release+0x10/0x10
[   31.756212]  ? mlock_drain_local+0x27f/0x4b0
[   31.756470]  exit_mmap+0x19e/0xb10
[   31.756682]  ? __pfx_exit_mmap+0x10/0x10
[   31.756933]  ? trace_hardirqs_on+0x51/0x60
[   31.757188]  ? __khugepaged_exit+0x266/0x4c0
[   31.757438]  ? kmem_cache_free+0x15d/0x420
[   31.757669]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.757962]  __mmput+0xd6/0x390
[   31.758143]  mmput+0x74/0x90
[   31.758313]  do_exit+0xa03/0x29f0
[   31.758506]  ? trace_hardirqs_on+0x51/0x60
[   31.758742]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.759065]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.759323]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.759581]  ? __pfx_do_exit+0x10/0x10
[   31.759792]  ? __audit_syscall_entry+0x39c/0x500
[   31.760045]  __x64_sys_exit+0x50/0x60
[   31.760248]  x64_sys_call+0x20c9/0x20d0
[   31.760457]  do_syscall_64+0x6d/0x140
[   31.760662]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.760939] RIP: 0033:0x7f730f23ee5d
[   31.761131] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.761446] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.761831] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.762192] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.762553] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.762916] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.763279] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.763640]  </TASK>
[   31.763761] Modules linked in:
[   31.763979] ---[ end trace 0000000000000000 ]---
[   31.764221] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.764518] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.765419] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.765686] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.766038] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.766407] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.766881] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.767241] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.767625] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.768025] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.768312] CR2: 0000000000404118 CR3: 0000000016372002 CR4: 0000000000770ef0
[   31.768668] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.769010] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.769352] PKRU: 55555554
[   31.769491] note: repro[2869] exited with preempt_count 1
[   31.769754] Fixing recursive fault but reboot is needed!
[   31.770009] BUG: scheduling while atomic: repro/2869/0x00000000
[   31.770296] INFO: lockdep is turned off.
[   31.770504] Modules linked in:
[   31.770661] Preemption disabled at:
[   31.770664] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.771107] CPU: 1 UID: 0 PID: 2869 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.771550] Tainted: [D]=DIE, [W]=WARN
[   31.771732] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.772257] Call Trace:
[   31.772386]  <TASK>
[   31.772496]  dump_stack_lvl+0x121/0x150
[   31.772693]  ? do_task_dead+0x28/0x110
[   31.772887]  dump_stack+0x19/0x20
[   31.773061]  __schedule_bug+0x12d/0x180
[   31.773259]  __schedule+0x210c/0x2eb0
[   31.773444]  ? rcu_is_watching+0x19/0xc0
[   31.773640]  ? lock_release+0x592/0x870
[   31.773654] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#16] PREEMPT SMP KASAN NOPTI
[   31.773832]  ? __pfx___schedule+0x10/0x10
[   31.774910] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.775103]  ? debug_smp_processor_id+0x20/0x30
[   31.775759] CPU: 0 UID: 0 PID: 2892 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.775969]  ? rcu_is_watching+0x19/0xc0
[   31.776792] Tainted: [D]=DIE, [W]=WARN
[   31.776977]  ? trace_irq_enable+0xe1/0x120
[   31.777306] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.777503]  ? do_task_dead+0x4a/0x110
[   31.778534] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.778724]  do_task_dead+0xe0/0x110
[   31.779227] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.779395]  make_task_dead+0x384/0x3c0
[   31.780994] RSP: 0018:ffff888018c977d8 EFLAGS: 00010202
[   31.781173]  rewind_stack_and_make_dead+0x16/0x20
[   31.781640] RAX: dffffc0000000000 RBX: ffffea0000411b40 RCX: ffffffff81b9e6e9
[   31.781852] RIP: 0033:0x7f730f23ee5d
[   31.782485] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000411b50
[   31.782650] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.783281] RBP: ffff888018c977f8 R08: 0000000000000000 R09: ffffed1002540290
[   31.783549] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.784180] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.784513] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.785150] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012a01480
[   31.785455] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.786083] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.786383] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.787351] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.787657] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.788160] CR2: 00007f730f51bfa8 CR3: 000000001fb00003 CR4: 0000000000770ef0
[   31.788486] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.789120] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.789432]  </TASK>
[   31.790064] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.790805] PKRU: 55555554
[   31.791063] Call Trace:
[   31.791300]  <TASK>
[   31.791508]  ? show_regs+0xa8/0xc0
[   31.791859]  ? die_addr+0x5d/0xf0
[   31.792283]  ? exc_general_protection+0x1ae/0x340
[   31.792761]  ? asm_exc_general_protection+0x2b/0x30
[   31.793238]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.793728]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.794222]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.794729]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.795227]  zap_huge_pmd+0x494/0xd40
[   31.795598]  unmap_page_range+0x1ad6/0x4320
[   31.796027]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.796510]  ? __pfx_unmap_page_range+0x10/0x10
[   31.796969]  unmap_single_vma+0x1ac/0x2d0
[   31.797359]  unmap_vmas+0x210/0x470
[   31.797719]  ? __pfx_unmap_vmas+0x10/0x10
[   31.798102]  ? __pfx_lock_release+0x10/0x10
[   31.798513]  ? lock_release+0x592/0x870
[   31.798899]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.799596]  ? __pfx_lock_release+0x10/0x10
[   31.800158]  ? mlock_drain_local+0x27f/0x4b0
[   31.800584]  exit_mmap+0x19e/0xb10
[   31.800943]  ? __pfx_exit_mmap+0x10/0x10
[   31.801337]  ? trace_hardirqs_on+0x51/0x60
[   31.801746]  ? __khugepaged_exit+0x266/0x4c0
[   31.802163]  ? kmem_cache_free+0x15d/0x420
[   31.802597]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.803113]  __mmput+0xd6/0x390
[   31.803430]  mmput+0x74/0x90
[   31.803734]  do_exit+0xa03/0x29f0
[   31.804141]  ? trace_hardirqs_on+0x51/0x60
[   31.804639]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.805241]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.805901]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.806452]  ? __pfx_do_exit+0x10/0x10
[   31.806869]  ? __audit_syscall_entry+0x39c/0x500
[   31.807308]  __x64_sys_exit+0x50/0x60
[   31.807677]  x64_sys_call+0x20c9/0x20d0
[   31.808064]  do_syscall_64+0x6d/0x140
[   31.808475]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.808958] RIP: 0033:0x7f730f23ee5d
[   31.809340] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.810214] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.810943] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.811599] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.812366] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.813112] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.814144] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.815160]  </TASK>
[   31.815498] Modules linked in:
[   31.816333] ---[ end trace 0000000000000000 ]---
[   31.816851] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.817606] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.820175] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.820906] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.821694] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.822445] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.822974] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#17] PREEMPT SMP KASAN NOPTI
[   31.823782] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.824098] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.824914] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.825414] CPU: 1 UID: 0 PID: 2908 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.826308] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.826853] Tainted: [D]=DIE, [W]=WARN
[   31.826857] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.826863] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.827692] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.827895] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.828899] CR2: 00007f730f51bfa8 CR3: 000000001fb00003 CR4: 0000000000770ef0
[   31.829181] RSP: 0018:ffff8880126f77d8 EFLAGS: 00010202
[   31.829715] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.830594] 
[   31.830597] RAX: dffffc0000000000 RBX: ffffea000069b680 RCX: ffffffff81b9e6e9
[   31.830604] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000069b690
[   31.830610] RBP: ffff8880126f77f8 R08: 0000000000000000 R09: ffffed1002793cfc
[   31.831239] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.831504] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.832130] PKRU: 55555554
[   31.832217] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013c9e7e0
[   31.833142] note: repro[2892] exited with preempt_count 1
[   31.833476] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.834123] Fixing recursive fault but reboot is needed!
[   31.834458] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.836666] CR2: 00007f8809ddb008 CR3: 000000001335a001 CR4: 0000000000770ef0
[   31.837005] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.837336] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.837670] PKRU: 55555554
[   31.837810] Call Trace:
[   31.837935]  <TASK>
[   31.838044]  ? show_regs+0xa8/0xc0
[   31.838220]  ? die_addr+0x5d/0xf0
[   31.838400]  ? exc_general_protection+0x1ae/0x340
[   31.838642]  ? asm_exc_general_protection+0x2b/0x30
[   31.838888]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.839141]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.839407]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.839659]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.839914]  zap_huge_pmd+0x494/0xd40
[   31.840114]  unmap_page_range+0x1ad6/0x4320
[   31.840349]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.840592]  ? __pfx_unmap_page_range+0x10/0x10
[   31.840822]  unmap_single_vma+0x1ac/0x2d0
[   31.841022]  unmap_vmas+0x210/0x470
[   31.841199]  ? __pfx_unmap_vmas+0x10/0x10
[   31.841395]  ? __pfx_lock_release+0x10/0x10
[   31.841607]  ? lock_release+0x592/0x870
[   31.841799]  ? mas_next_slot+0x133a/0x1a50
[   31.842006]  ? __pfx_lock_release+0x10/0x10
[   31.842212]  ? mlock_drain_local+0x27f/0x4b0
[   31.842433]  exit_mmap+0x19e/0xb10
[   31.842603]  ? __pfx_exit_mmap+0x10/0x10
[   31.842803]  ? trace_hardirqs_on+0x51/0x60
[   31.843003]  ? __khugepaged_exit+0x266/0x4c0
[   31.843207]  ? kmem_cache_free+0x15d/0x420
[   31.843404]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.843653]  __mmput+0xd6/0x390
[   31.843810]  mmput+0x74/0x90
[   31.843953]  do_exit+0xa03/0x29f0
[   31.844121]  ? trace_hardirqs_on+0x51/0x60
[   31.844321]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.844606]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.844833]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.845058]  ? __pfx_do_exit+0x10/0x10
[   31.845237]  ? __audit_syscall_entry+0x39c/0x500
[   31.845457]  __x64_sys_exit+0x50/0x60
[   31.845634]  x64_sys_call+0x20c9/0x20d0
[   31.845815]  do_syscall_64+0x6d/0x140
[   31.845995]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.846246] RIP: 0033:0x7f730f23ee5d
[   31.846429] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.846722] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.847050] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.847357] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.847664] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.847984] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.848295] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.848634]  </TASK>
[   31.848758] Modules linked in:
[   31.848947] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#18] PREEMPT SMP KASAN NOPTI
[   31.849005] ---[ end trace 0000000000000000 ]---
[   31.850039] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.850241] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.850922] CPU: 0 UID: 0 PID: 2912 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.851173] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.852022] Tainted: [D]=DIE, [W]=WARN
[   31.852774] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.853115] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.853338] 
[   31.853340] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.854333] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.854408] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.855041] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.855291] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.855921] RSP: 0018:ffff88802165f7d8 EFLAGS: 00010202
[   31.856677] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.857385] 
[   31.857611] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.858251] RAX: dffffc0000000000 RBX: ffffea0000459000 RCX: ffffffff81b9e6e9
[   31.858327] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.858953] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000459010
[   31.858965] RBP: ffff88802165f7f8 R08: 0000000000000000 R09: ffffed1003e43974
[   31.859267] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.859965] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.860263] CR2: 00007f8809ddb008 CR3: 000000001335a001 CR4: 0000000000770ef0
[   31.860886] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f21cba0
[   31.861129] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.861763] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.862061] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.862685] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.862991] PKRU: 55555554
[   31.863700] CR2: 00007f8809ddd000 CR3: 0000000022604001 CR4: 0000000000770ef0
[   31.863996] note: repro[2908] exited with preempt_count 1
[   31.864496] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.864620] Fixing recursive fault but reboot is needed!
[   31.866839] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.867479] PKRU: 55555554
[   31.867736] Call Trace:
[   31.867972]  <TASK>
[   31.868179]  ? show_regs+0xa8/0xc0
[   31.868522]  ? die_addr+0x5d/0xf0
[   31.868856]  ? exc_general_protection+0x1ae/0x340
[   31.869323]  ? asm_exc_general_protection+0x2b/0x30
[   31.869806]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.870300]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.870792]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.871274]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.871770]  zap_huge_pmd+0x494/0xd40
[   31.872136]  unmap_page_range+0x1ad6/0x4320
[   31.872561]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.873041]  ? __pfx_unmap_page_range+0x10/0x10
[   31.873483]  unmap_single_vma+0x1ac/0x2d0
[   31.873889]  unmap_vmas+0x210/0x470
[   31.874234]  ? __pfx_unmap_vmas+0x10/0x10
[   31.874617]  ? __pfx_lock_release+0x10/0x10
[   31.875018]  ? lock_release+0x592/0x870
[   31.875389]  ? mas_next_slot+0x133a/0x1a50
[   31.875795]  ? __pfx_lock_release+0x10/0x10
[   31.876195]  ? mlock_drain_local+0x27f/0x4b0
[   31.876612]  exit_mmap+0x19e/0xb10
[   31.876957]  ? __pfx_exit_mmap+0x10/0x10
[   31.877344]  ? trace_hardirqs_on+0x51/0x60
[   31.877527] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   31.877753]  ? __khugepaged_exit+0x266/0x4c0
[   31.879006]  ? kmem_cache_free+0x15d/0x420
[   31.879109] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   31.879401]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.880502]  __mmput+0xd6/0x390
[   31.880822]  mmput+0x74/0x90
[   31.881104]  do_exit+0xa03/0x29f0
[   31.881438]  ? trace_hardirqs_on+0x51/0x60
[   31.881839]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.882410]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.882869]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.883329]  ? __pfx_do_exit+0x10/0x10
[   31.883693]  ? __audit_syscall_entry+0x39c/0x500
[   31.884132]  __x64_sys_exit+0x50/0x60
[   31.884488]  x64_sys_call+0x20c9/0x20d0
[   31.884854]  do_syscall_64+0x6d/0x140
[   31.885225]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.885705] RIP: 0033:0x7f730f23ee5d
[   31.886048] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.886598] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.887292] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.887938] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.888570] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.889210] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.889862] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.890523]  </TASK>
[   31.890745] Modules linked in:
[   31.891229] ---[ end trace 0000000000000000 ]---
[   31.891662] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.892218] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.894003] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.894613] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.895273] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.895912] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.896550] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.897192] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.897842] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.898592] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.899160] CR2: 00007f8809ddd000 CR3: 0000000022604001 CR4: 0000000000770ef0
[   31.899935] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.900577] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.901224] PKRU: 55555554
[   31.901489] note: repro[2912] exited with preempt_count 1
[   31.901991] Fixing recursive fault but reboot is needed!
[   31.902490] BUG: scheduling while atomic: repro/2912/0x00000000
[   31.903031] INFO: lockdep is turned off.
[   31.903400] Modules linked in:
[   31.903700] Preemption disabled at:
[   31.903705] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.904590] CPU: 0 UID: 0 PID: 2912 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.905613] Tainted: [D]=DIE, [W]=WARN
[   31.906008] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.907027] Call Trace:
[   31.907263]  <TASK>
[   31.907282] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#19] PREEMPT SMP KASAN NOPTI
[   31.907475]  dump_stack_lvl+0x121/0x150
[   31.907994] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.908381]  ? do_task_dead+0x28/0x110
[   31.908702] CPU: 1 UID: 0 PID: 2956 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.909039]  dump_stack+0x19/0x20
[   31.909434] Tainted: [D]=DIE, [W]=WARN
[   31.909736]  __schedule_bug+0x12d/0x180
[   31.909899] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.910245]  __schedule+0x210c/0x2eb0
[   31.910715] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.911049]  ? rcu_is_watching+0x19/0xc0
[   31.911287] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.911641]  ? lock_release+0x592/0x870
[   31.912393] RSP: 0018:ffff8880141777d8 EFLAGS: 00010202
[   31.912837]  ? __pfx___schedule+0x10/0x10
[   31.913062] RAX: dffffc0000000000 RBX: ffffea000089f000 RCX: ffffffff81b9e6e9
[   31.913551]  ? debug_smp_processor_id+0x20/0x30
[   31.913847] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089f010
[   31.914343]  ? rcu_is_watching+0x19/0xc0
[   31.914635] RBP: ffff8880141777f8 R08: 0000000000000000 R09: ffffed1002572a60
[   31.915100]  ? trace_irq_enable+0xe1/0x120
[   31.915398] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.915891]  ? do_task_dead+0x4a/0x110
[   31.916179] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012b95300
[   31.916628]  do_task_dead+0xe0/0x110
[   31.916922] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.917351]  make_task_dead+0x384/0x3c0
[   31.917675] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.918133]  rewind_stack_and_make_dead+0x16/0x20
[   31.918366] CR2: 00007f88098eb000 CR3: 000000000f654004 CR4: 0000000000770ef0
[   31.918923] RIP: 0033:0x7f730f23ee5d
[   31.919289] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.919847] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.920147] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.921066] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   31.921362] PKRU: 55555554
[   31.921365]  ORIG_RAX: 000000000000003c
[   31.921582] Call Trace:
[   31.921585]  <TASK>
[   31.921913] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.922078]  ? show_regs+0xa8/0xc0
[   31.922374] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.922473]  ? die_addr+0x5d/0xf0
[   31.923203] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.923377]  ? exc_general_protection+0x1ae/0x340
[   31.924012] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.924167]  ? asm_exc_general_protection+0x2b/0x30
[   31.924859] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.925064]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.925704]  </TASK>
[   31.925902]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.927171]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.927402]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.927634]  zap_huge_pmd+0x494/0xd40
[   31.927810]  unmap_page_range+0x1ad6/0x4320
[   31.928011]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.928239]  ? __pfx_unmap_page_range+0x10/0x10
[   31.928450]  unmap_single_vma+0x1ac/0x2d0
[   31.928639]  unmap_vmas+0x210/0x470
[   31.928806]  ? __pfx_unmap_vmas+0x10/0x10
[   31.928994]  ? __pfx_lock_release+0x10/0x10
[   31.929183]  ? lock_release+0x592/0x870
[   31.929357]  ? mas_next_slot+0x133a/0x1a50
[   31.929545]  ? __pfx_lock_release+0x10/0x10
[   31.929739]  ? mlock_drain_local+0x27f/0x4b0
[   31.929938]  exit_mmap+0x19e/0xb10
[   31.930104]  ? __pfx_exit_mmap+0x10/0x10
[   31.930288]  ? trace_hardirqs_on+0x51/0x60
[   31.930486]  ? __khugepaged_exit+0x266/0x4c0
[   31.930689]  ? kmem_cache_free+0x15d/0x420
[   31.930882]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.931123]  __mmput+0xd6/0x390
[   31.931273]  mmput+0x74/0x90
[   31.931409]  do_exit+0xa03/0x29f0
[   31.931566]  ? trace_hardirqs_on+0x51/0x60
[   31.931755]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.932027]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.932247]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.932465]  ? __pfx_do_exit+0x10/0x10
[   31.932641]  ? __audit_syscall_entry+0x39c/0x500
[   31.932854]  __x64_sys_exit+0x50/0x60
[   31.933029]  x64_sys_call+0x20c9/0x20d0
[   31.933207]  do_syscall_64+0x6d/0x140
[   31.933381]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.933611] RIP: 0033:0x7f730f23ee5d
[   31.933778] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.934039] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.934362] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.934667] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.934972] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.935282] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.935598] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.935913]  </TASK>
[   31.936018] Modules linked in:
[   31.936229] ---[ end trace 0000000000000000 ]---
[   31.936200] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#20] PREEMPT SMP KASAN NOPTI
[   31.936436] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.937496] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.937757] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.938677] CPU: 0 UID: 0 PID: 2980 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.939449] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.940535] Tainted: [D]=DIE, [W]=WARN
[   31.940768] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.940774] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.941260] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.941563] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.942224] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.942786] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.943360] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.943607] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.944241] RSP: 0018:ffff888016ed77d8 EFLAGS: 00010202
[   31.945018] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   31.945782] 
[   31.946006] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.946730] RAX: dffffc0000000000 RBX: ffffea0000705e40 RCX: ffffffff81b9e6e9
[   31.946814] CR2: 00007f88098eb000 CR3: 000000000f654004 CR4: 0000000000770ef0
[   31.947484] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000705e50
[   31.947782] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.948609] RBP: ffff888016ed77f8 R08: 0000000000000000 R09: ffffed100212955c
[   31.948921] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.949759] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.950069] PKRU: 55555554
[   31.950075] note: repro[2956] exited with preempt_count 1
[   31.950902] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801094aae0
[   31.950916] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.951216] Fixing recursive fault but reboot is needed!
[   31.954694] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.955389] CR2: 00007f8809ddd000 CR3: 000000001012e002 CR4: 0000000000770ef0
[   31.956230] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.957070] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.957907] PKRU: 55555554
[   31.958242] Call Trace:
[   31.958554]  <TASK>
[   31.958814]  ? show_regs+0xa8/0xc0
[   31.959154]  ? die_addr+0x5d/0xf0
[   31.959490]  ? exc_general_protection+0x1ae/0x340
[   31.959948]  ? asm_exc_general_protection+0x2b/0x30
[   31.960407]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.960888]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.961363]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.961862]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.962474]  zap_huge_pmd+0x494/0xd40
[   31.962842]  unmap_page_range+0x1ad6/0x4320
[   31.963312]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.963793]  ? __pfx_unmap_page_range+0x10/0x10
[   31.964233]  unmap_single_vma+0x1ac/0x2d0
[   31.964705]  unmap_vmas+0x210/0x470
[   31.965121]  ? __pfx_unmap_vmas+0x10/0x10
[   31.965498]  ? __pfx_lock_release+0x10/0x10
[   31.965896]  ? lock_release+0x592/0x870
[   31.966257]  ? mas_next_slot+0x133a/0x1a50
[   31.966646]  ? __pfx_lock_release+0x10/0x10
[   31.967042]  ? mlock_drain_local+0x27f/0x4b0
[   31.967448]  exit_mmap+0x19e/0xb10
[   31.967794]  ? __pfx_exit_mmap+0x10/0x10
[   31.968174]  ? trace_hardirqs_on+0x51/0x60
[   31.968567]  ? __khugepaged_exit+0x266/0x4c0
[   31.968973]  ? kmem_cache_free+0x15d/0x420
[   31.969369]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.970038]  __mmput+0xd6/0x390
[   31.970408]  mmput+0x74/0x90
[   31.970703]  do_exit+0xa03/0x29f0
[   31.971027]  ? trace_hardirqs_on+0x51/0x60
[   31.971424]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.971993]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.972592]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.973185]  ? __pfx_do_exit+0x10/0x10
[   31.973605]  ? __audit_syscall_entry+0x39c/0x500
[   31.974052]  __x64_sys_exit+0x50/0x60
[   31.974407]  x64_sys_call+0x20c9/0x20d0
[   31.974774]  do_syscall_64+0x6d/0x140
[   31.975130]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.975596] RIP: 0033:0x7f730f23ee5d
[   31.975942] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   31.976511] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.977190] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   31.977821] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.978449] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   31.979086] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   31.979721] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   31.980366]  </TASK>
[   31.980576] Modules linked in:
[   31.981183] ---[ end trace 0000000000000000 ]---
[   31.981609] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.982145] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.983991] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   31.984471] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   31.985108] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   31.985740] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   31.986369] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.987212] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   31.987851] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.988560] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.989083] CR2: 00007f8809ddd000 CR3: 000000001012e002 CR4: 0000000000770ef0
[   31.989733] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.990363] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.991215] PKRU: 55555554
[   31.991477] note: repro[2980] exited with preempt_count 1
[   31.991965] Fixing recursive fault but reboot is needed!
[   31.992421] BUG: scheduling while atomic: repro/2980/0x00000000
[   31.992927] INFO: lockdep is turned off.
[   31.993264] Modules linked in:
[   31.993536] Preemption disabled at:
[   31.993540] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.994328] CPU: 0 UID: 0 PID: 2980 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   31.995135] Tainted: [D]=DIE, [W]=WARN
[   31.995457] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.996392] Call Trace:
[   31.996615]  <TASK>
[   31.996838]  dump_stack_lvl+0x121/0x150
[   31.997195]  ? do_task_dead+0x28/0x110
[   31.997539]  dump_stack+0x19/0x20
[   31.997855]  __schedule_bug+0x12d/0x180
[   31.998205]  __schedule+0x210c/0x2eb0
[   31.998537]  ? rcu_is_watching+0x19/0xc0
[   31.998893]  ? lock_release+0x592/0x870
[   31.999236]  ? __pfx___schedule+0x10/0x10
[   31.999596]  ? debug_smp_processor_id+0x20/0x30
[   32.000000]  ? rcu_is_watching+0x19/0xc0
[   32.000349]  ? trace_irq_enable+0xe1/0x120
[   32.000720]  ? do_task_dead+0x4a/0x110
[   32.001048]  do_task_dead+0xe0/0x110
[   32.001364]  make_task_dead+0x384/0x3c0
[   32.001699]  rewind_stack_and_make_dead+0x16/0x20
[   32.002092] RIP: 0033:0x7f730f23ee5d
[   32.002395] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.002892] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.003497] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.004073] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.004639] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.005211] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.005784] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.006365]  </TASK>
[   32.327964] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#21] PREEMPT SMP KASAN NOPTI
[   32.328657] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.329085] CPU: 1 UID: 0 PID: 3134 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   32.329618] Tainted: [D]=DIE, [W]=WARN
[   32.329838] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.330460] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.330937] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.332023] RSP: 0018:ffff888013d3f7d8 EFLAGS: 00010202
[   32.332327] RAX: dffffc0000000000 RBX: ffffea00005b8240 RCX: ffffffff81b9e6e9
[   32.332734] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00005b8250
[   32.333133] RBP: ffff888013d3f7f8 R08: 0000000000000000 R09: ffffed10021cea78
[   32.333522] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   32.333907] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010e753c0
[   32.334292] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   32.334726] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.335042] CR2: 00007ffdcd14bac8 CR3: 0000000014206001 CR4: 0000000000770ef0
[   32.335428] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.335810] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.336182] PKRU: 55555554
[   32.336332] Call Trace:
[   32.336470]  <TASK>
[   32.336593]  ? show_regs+0xa8/0xc0
[   32.336884]  ? die_addr+0x5d/0xf0
[   32.337169]  ? exc_general_protection+0x1ae/0x340
[   32.337488]  ? asm_exc_general_protection+0x2b/0x30
[   32.337767]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.338050]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.338334]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.338618]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.338905]  zap_huge_pmd+0x494/0xd40
[   32.339124]  unmap_page_range+0x1ad6/0x4320
[   32.339361]  ? __pfx_lock_release+0x10/0x10
[   32.339598]  ? do_raw_spin_trylock+0xbf/0x190
[   32.339860]  ? __kasan_check_read+0x15/0x20
[   32.340111]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.340404]  ? __pfx_unmap_page_range+0x10/0x10
[   32.340682]  unmap_single_vma+0x1ac/0x2d0
[   32.340915]  unmap_vmas+0x210/0x470
[   32.341115]  ? __pfx_unmap_vmas+0x10/0x10
[   32.341341]  ? __pfx_lock_release+0x10/0x10
[   32.341574]  ? lock_release+0x592/0x870
[   32.341793]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.342058]  ? __pfx_lock_release+0x10/0x10
[   32.342284]  ? mlock_drain_local+0x27f/0x4b0
[   32.342522]  exit_mmap+0x19e/0xb10
[   32.342726]  ? __pfx_exit_mmap+0x10/0x10
[   32.342951]  ? trace_hardirqs_on+0x51/0x60
[   32.343190]  ? __khugepaged_exit+0x266/0x4c0
[   32.343433]  ? kmem_cache_free+0x15d/0x420
[   32.343686]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.343980]  __mmput+0xd6/0x390
[   32.344161]  mmput+0x74/0x90
[   32.344326]  do_exit+0xa03/0x29f0
[   32.344515]  ? trace_hardirqs_on+0x51/0x60
[   32.344745]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.345071]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.345331]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.345588]  ? __pfx_do_exit+0x10/0x10
[   32.345793]  ? __audit_syscall_entry+0x39c/0x500
[   32.346039]  __x64_sys_exit+0x50/0x60
[   32.346239]  x64_sys_call+0x20c9/0x20d0
[   32.346444]  do_syscall_64+0x6d/0x140
[   32.346655]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.347042] RIP: 0033:0x7f730f23ee5d
[   32.347308] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.347725] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.348100] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.348452] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.348804] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.349155] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.349506] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.349867]  </TASK>
[   32.349987] Modules linked in:
[   32.350213] ---[ end trace 0000000000000000 ]---
[   32.350457] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.350865] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.351745] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   32.352084] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   32.352441] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   32.352789] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   32.353152] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.353649] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   32.354057] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   32.354454] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.354816] CR2: 00007ffdcd14bac8 CR3: 0000000014206001 CR4: 0000000000770ef0
[   32.355169] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.355515] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.355852] PKRU: 55555554
[   32.355986] note: repro[3134] exited with preempt_count 1
[   32.356243] Fixing recursive fault but reboot is needed!
[   32.356492] BUG: scheduling while atomic: repro/3134/0x00000000
[   32.356771] INFO: lockdep is turned off.
[   32.356956] Modules linked in:
[   32.357109] Preemption disabled at:
[   32.357112] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   32.357541] CPU: 1 UID: 0 PID: 3134 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   32.357994] Tainted: [D]=DIE, [W]=WARN
[   32.358181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.358720] Call Trace:
[   32.358844]  <TASK>
[   32.358954]  dump_stack_lvl+0x121/0x150
[   32.359155]  ? do_task_dead+0x28/0x110
[   32.359416]  dump_stack+0x19/0x20
[   32.359647]  __schedule_bug+0x12d/0x180
[   32.359932]  __schedule+0x210c/0x2eb0
[   32.360158]  ? rcu_is_watching+0x19/0xc0
[   32.360355]  ? lock_release+0x592/0x870
[   32.360561]  ? __pfx___schedule+0x10/0x10
[   32.360766]  ? debug_smp_processor_id+0x20/0x30
[   32.360987]  ? rcu_is_watching+0x19/0xc0
[   32.361181]  ? trace_irq_enable+0xe1/0x120
[   32.361387]  ? do_task_dead+0x4a/0x110
[   32.361576]  do_task_dead+0xe0/0x110
[   32.361758]  make_task_dead+0x384/0x3c0
[   32.361949]  rewind_stack_and_make_dead+0x16/0x20
[   32.362182] RIP: 0033:0x7f730f23ee5d
[   32.362356] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.362640] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.362987] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.363314] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.363639] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.363959] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.364272] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.364600]  </TASK>
[   32.526367] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#22] PREEMPT SMP KASAN NOPTI
[   32.527101] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.527545] CPU: 1 UID: 0 PID: 3262 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   32.528125] Tainted: [D]=DIE, [W]=WARN
[   32.528488] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.529298] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.529652] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.530668] RSP: 0018:ffff888018c6f7d8 EFLAGS: 00010202
[   32.530976] RAX: dffffc0000000000 RBX: ffffea00007c5f40 RCX: ffffffff81b9e6e9
[   32.531376] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007c5f50
[   32.531777] RBP: ffff888018c6f7f8 R08: 0000000000000000 R09: ffffed10026db138
[   32.532178] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.532586] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880136d89c0
[   32.532993] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   32.533441] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.533769] CR2: 0000000000404200 CR3: 000000000fbf0001 CR4: 0000000000770ef0
[   32.534182] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.534581] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.534980] PKRU: 55555554
[   32.535142] Call Trace:
[   32.535295]  <TASK>
[   32.535425]  ? show_regs+0xa8/0xc0
[   32.535733]  ? die_addr+0x5d/0xf0
[   32.536030]  ? exc_general_protection+0x1ae/0x340
[   32.536326]  ? asm_exc_general_protection+0x2b/0x30
[   32.536625]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.536940]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.537262]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.537564]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.537861]  zap_huge_pmd+0x494/0xd40
[   32.538085]  unmap_page_range+0x1ad6/0x4320
[   32.538341]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.538633]  ? __pfx_unmap_page_range+0x10/0x10
[   32.538905]  unmap_single_vma+0x1ac/0x2d0
[   32.539145]  unmap_vmas+0x210/0x470
[   32.539361]  ? __pfx_unmap_vmas+0x10/0x10
[   32.539604]  ? __pfx_lock_release+0x10/0x10
[   32.539862]  ? lock_release+0x592/0x870
[   32.540082]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.540358]  ? __pfx_lock_release+0x10/0x10
[   32.540594]  ? mlock_drain_local+0x27f/0x4b0
[   32.540857]  exit_mmap+0x19e/0xb10
[   32.541076]  ? __pfx_exit_mmap+0x10/0x10
[   32.541324]  ? trace_hardirqs_on+0x51/0x60
[   32.541679]  ? __khugepaged_exit+0x266/0x4c0
[   32.542031]  ? kmem_cache_free+0x15d/0x420
[   32.542328]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.542626]  __mmput+0xd6/0x390
[   32.542818]  mmput+0x74/0x90
[   32.543004]  do_exit+0xa03/0x29f0
[   32.543202]  ? trace_hardirqs_on+0x51/0x60
[   32.543438]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.543776]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.544046]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.544315]  ? __pfx_do_exit+0x10/0x10
[   32.544531]  ? __audit_syscall_entry+0x39c/0x500
[   32.544792]  __x64_sys_exit+0x50/0x60
[   32.545002]  x64_sys_call+0x20c9/0x20d0
[   32.545220]  do_syscall_64+0x6d/0x140
[   32.545429]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.545703] RIP: 0033:0x7f730f23ee5d
[   32.545898] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.546223] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.546620] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.546999] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.547383] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.547937] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.548458] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.548838]  </TASK>
[   32.548963] Modules linked in:
[   32.549187] ---[ end trace 0000000000000000 ]---
[   32.549436] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.549754] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.550711] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   32.550984] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   32.551347] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   32.551705] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   32.552062] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.552416] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   32.552780] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   32.553183] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.553470] CR2: 0000000000404200 CR3: 000000000fbf0001 CR4: 0000000000770ef0
[   32.553828] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.554180] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.554618] PKRU: 55555554
[   32.554828] note: repro[3262] exited with preempt_count 1
[   32.555193] Fixing recursive fault but reboot is needed!
[   32.555581] BUG: scheduling while atomic: repro/3262/0x00000000
[   32.555899] INFO: lockdep is turned off.
[   32.556103] Modules linked in:
[   32.556344] Preemption disabled at:
[   32.556348] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   32.556806] CPU: 1 UID: 0 PID: 3262 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   32.557277] Tainted: [D]=DIE, [W]=WARN
[   32.557466] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.558025] Call Trace:
[   32.558167]  <TASK>
[   32.558285]  dump_stack_lvl+0x121/0x150
[   32.558497]  ? do_task_dead+0x28/0x110
[   32.558708]  dump_stack+0x19/0x20
[   32.558898]  __schedule_bug+0x12d/0x180
[   32.559111]  __schedule+0x210c/0x2eb0
[   32.559315]  ? rcu_is_watching+0x19/0xc0
[   32.559520]  ? lock_release+0x592/0x870
[   32.559716]  ? __pfx___schedule+0x10/0x10
[   32.559920]  ? debug_smp_processor_id+0x20/0x30
[   32.560149]  ? rcu_is_watching+0x19/0xc0
[   32.560353]  ? trace_irq_enable+0xe1/0x120
[   32.560566]  ? do_task_dead+0x4a/0x110
[   32.560763]  do_task_dead+0xe0/0x110
[   32.560953]  make_task_dead+0x384/0x3c0
[   32.561153]  rewind_stack_and_make_dead+0x16/0x20
[   32.561388] RIP: 0033:0x7f730f23ee5d
[   32.561568] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.561866] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.562220] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.562553] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.562882] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.563211] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.563536] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.563878]  </TASK>
[   32.864499] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#23] PREEMPT SMP KASAN NOPTI
[   32.865944] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.866849] CPU: 0 UID: 0 PID: 3505 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   32.867972] Tainted: [D]=DIE, [W]=WARN
[   32.868426] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.869769] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.870479] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.872649] RSP: 0018:ffff88800e6bf7d8 EFLAGS: 00010202
[   32.873289] RAX: dffffc0000000000 RBX: ffffea0000507100 RCX: ffffffff81b9e6e9
[   32.874140] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000507110
[   32.874989] RBP: ffff88800e6bf7f8 R08: 0000000000000000 R09: ffffed10024df708
[   32.875837] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.876687] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880126fb840
[   32.877538] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   32.878494] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.879190] CR2: 00007f730f4f5ef8 CR3: 0000000012bae001 CR4: 0000000000770ef0
[   32.880042] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.880893] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.881742] PKRU: 55555554
[   32.882079] Call Trace:
[   32.882388]  <TASK>
[   32.882662]  ? show_regs+0xa8/0xc0
[   32.883118]  ? die_addr+0x5d/0xf0
[   32.883545]  ? exc_general_protection+0x1ae/0x340
[   32.884142]  ? asm_exc_general_protection+0x2b/0x30
[   32.884757]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.885386]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.886021]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.886653]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.887291]  zap_huge_pmd+0x494/0xd40
[   32.887767]  unmap_page_range+0x1ad6/0x4320
[   32.888304]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.888932]  ? __pfx_unmap_page_range+0x10/0x10
[   32.889507]  unmap_single_vma+0x1ac/0x2d0
[   32.890019]  unmap_vmas+0x210/0x470
[   32.890469]  ? __pfx_unmap_vmas+0x10/0x10
[   32.890966]  ? __pfx_lock_release+0x10/0x10
[   32.891481]  ? lock_release+0x592/0x870
[   32.891961]  ? mas_next_slot+0x133a/0x1a50
[   32.892473]  ? __pfx_lock_release+0x10/0x10
[   32.892995]  ? mlock_drain_local+0x27f/0x4b0
[   32.893535]  exit_mmap+0x19e/0xb10
[   32.893981]  ? __pfx_exit_mmap+0x10/0x10
[   32.894481]  ? trace_hardirqs_on+0x51/0x60
[   32.895005]  ? __khugepaged_exit+0x266/0x4c0
[   32.895538]  ? kmem_cache_free+0x15d/0x420
[   32.896056]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.896716]  __mmput+0xd6/0x390
[   32.897120]  mmput+0x74/0x90
[   32.897492]  do_exit+0xa03/0x29f0
[   32.897921]  ? trace_hardirqs_on+0x51/0x60
[   32.898434]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.899190]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.899791]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.900385]  ? __pfx_do_exit+0x10/0x10
[   32.900863]  ? __audit_syscall_entry+0x39c/0x500
[   32.901441]  __x64_sys_exit+0x50/0x60
[   32.901908]  x64_sys_call+0x20c9/0x20d0
[   32.902386]  do_syscall_64+0x6d/0x140
[   32.902858]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.903478] RIP: 0033:0x7f730f23ee5d
[   32.903927] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.904654] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.905557] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.906401] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.907246] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.908091] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.908937] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.909808]  </TASK>
[   32.910091] Modules linked in:
[   32.910698] ---[ end trace 0000000000000000 ]---
[   32.911265] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.911978] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.914155] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   32.914814] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   32.915664] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   32.916531] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   32.917386] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.918240] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   32.918931] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   32.919663] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.920196] CR2: 00007f730f4f5ef8 CR3: 0000000012bae001 CR4: 0000000000770ef0
[   32.920844] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.921486] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.922129] PKRU: 55555554
[   32.922388] note: repro[3505] exited with preempt_count 1
[   32.922939] Fixing recursive fault but reboot is needed!
[   32.923423] BUG: scheduling while atomic: repro/3505/0x00000000
[   32.923960] INFO: lockdep is turned off.
[   32.924319] Modules linked in:
[   32.924611] Preemption disabled at:
[   32.924616] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   32.925444] CPU: 0 UID: 0 PID: 3505 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   32.926298] Tainted: [D]=DIE, [W]=WARN
[   32.926693] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.927822] Call Trace:
[   32.928058]  <TASK>
[   32.928266]  dump_stack_lvl+0x121/0x150
[   32.928643]  ? do_task_dead+0x28/0x110
[   32.929015]  dump_stack+0x19/0x20
[   32.929345]  __schedule_bug+0x12d/0x180
[   32.929721]  __schedule+0x210c/0x2eb0
[   32.930074]  ? rcu_is_watching+0x19/0xc0
[   32.930444]  ? lock_release+0x592/0x870
[   32.930807]  ? __pfx___schedule+0x10/0x10
[   32.931170]  ? debug_smp_processor_id+0x20/0x30
[   32.931668]  ? rcu_is_watching+0x19/0xc0
[   32.932119]  ? trace_irq_enable+0xe1/0x120
[   32.932494]  ? do_task_dead+0x4a/0x110
[   32.932849]  do_task_dead+0xe0/0x110
[   32.933182]  make_task_dead+0x384/0x3c0
[   32.933535]  rewind_stack_and_make_dead+0x16/0x20
[   32.933960] RIP: 0033:0x7f730f23ee5d
[   32.934282] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   32.934811] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.935468] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   32.936076] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.936685] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   32.937290] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   32.937898] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   32.938516]  </TASK>
[   33.114620] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#24] PREEMPT SMP KASAN NOPTI
[   33.115715] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.116389] CPU: 0 UID: 0 PID: 3629 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.117569] Tainted: [D]=DIE, [W]=WARN
[   33.117914] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.118907] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.119445] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.121047] RSP: 0018:ffff888013e5f7d8 EFLAGS: 00010202
[   33.121523] RAX: dffffc0000000000 RBX: ffffea00007e7f40 RCX: ffffffff81b9e6e9
[   33.122159] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007e7f50
[   33.122794] RBP: ffff888013e5f7f8 R08: 0000000000000000 R09: ffffed1003b349ec
[   33.123769] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.124485] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d9a4f60
[   33.125178] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.125922] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.126444] CR2: 00007f730f3fca50 CR3: 0000000013200002 CR4: 0000000000770ef0
[   33.127293] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.128141] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.129091] PKRU: 55555554
[   33.129429] Call Trace:
[   33.129744]  <TASK>
[   33.130020]  ? show_regs+0xa8/0xc0
[   33.130464]  ? die_addr+0x5d/0xf0
[   33.130897]  ? exc_general_protection+0x1ae/0x340
[   33.131494]  ? asm_exc_general_protection+0x2b/0x30
[   33.132118]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.132876]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.133512]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.134150]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.134790]  zap_huge_pmd+0x494/0xd40
[   33.135263]  unmap_page_range+0x1ad6/0x4320
[   33.135809]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.136435]  ? __pfx_unmap_page_range+0x10/0x10
[   33.137112]  unmap_single_vma+0x1ac/0x2d0
[   33.137598]  unmap_vmas+0x210/0x470
[   33.138034]  ? __pfx_unmap_vmas+0x10/0x10
[   33.138512]  ? __pfx_lock_release+0x10/0x10
[   33.139009]  ? lock_release+0x592/0x870
[   33.139464]  ? mas_next_slot+0x133a/0x1a50
[   33.139959]  ? __pfx_lock_release+0x10/0x10
[   33.140466]  ? mlock_drain_local+0x27f/0x4b0
[   33.141012]  exit_mmap+0x19e/0xb10
[   33.141437]  ? __pfx_exit_mmap+0x10/0x10
[   33.141923]  ? trace_hardirqs_on+0x51/0x60
[   33.142425]  ? __khugepaged_exit+0x266/0x4c0
[   33.142947]  ? kmem_cache_free+0x15d/0x420
[   33.143454]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.144088]  __mmput+0xd6/0x390
[   33.144480]  mmput+0x74/0x90
[   33.144848]  do_exit+0xa03/0x29f0
[   33.145269]  ? trace_hardirqs_on+0x51/0x60
[   33.145749]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.146276]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.146712]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.147153]  ? __pfx_do_exit+0x10/0x10
[   33.147516]  ? __audit_syscall_entry+0x39c/0x500
[   33.147928]  __x64_sys_exit+0x50/0x60
[   33.148255]  x64_sys_call+0x20c9/0x20d0
[   33.148591]  do_syscall_64+0x6d/0x140
[   33.148933]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.149380] RIP: 0033:0x7f730f23ee5d
[   33.149695] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.150211] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.150854] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.151457] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.152052] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.152636] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.153245] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.153867]  </TASK>
[   33.154074] Modules linked in:
[   33.154373] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#25] PREEMPT SMP KASAN NOPTI
[   33.154688] ---[ end trace 0000000000000000 ]---
[   33.155520] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.156000] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.156661] CPU: 1 UID: 0 PID: 3641 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.157245] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.158105] Tainted: [D]=DIE, [W]=WARN
[   33.160234] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   33.160299] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.160312] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.161038] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   33.162050] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.162622] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   33.163505] RSP: 0018:ffff8880215377d8 EFLAGS: 00010202
[   33.165394] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   33.166021] 
[   33.166535] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.167176] RAX: dffffc0000000000 RBX: ffffea0000898580 RCX: ffffffff81b9e6e9
[   33.167333] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   33.168024] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000898590
[   33.168693] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.169320] RBP: ffff8880215377f8 R08: 0000000000000000 R09: ffffed1004481914
[   33.169987] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.170723] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   33.170739] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88802240c8a0
[   33.171398] CR2: 00007f730f3fca50 CR3: 0000000013200002 CR4: 0000000000770ef0
[   33.171911] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.172574] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.173233] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.173877] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.174569] CR2: 00007f730f517910 CR3: 000000001a57c001 CR4: 0000000000770ef0
[   33.175213] PKRU: 55555554
[   33.175947] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.176574] note: repro[3629] exited with preempt_count 1
[   33.177200] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.177461] Fixing recursive fault but reboot is needed!
[   33.178082] PKRU: 55555554
[   33.178556] check_preemption_disabled: 13 callbacks suppressed
[   33.178564] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3629
[   33.179172] Call Trace:
[   33.179628] caller is debug_smp_processor_id+0x20/0x30
[   33.179988]  <TASK>
[   33.180487] CPU: 0 UID: 0 PID: 3629 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.181165]  ? show_regs+0xa8/0xc0
[   33.181385] Tainted: [D]=DIE, [W]=WARN
[   33.181859]  ? die_addr+0x5d/0xf0
[   33.182046] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.182907]  ? exc_general_protection+0x1ae/0x340
[   33.183191] Call Trace:
[   33.183745]  ? asm_exc_general_protection+0x2b/0x30
[   33.184012]  <TASK>
[   33.185032]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.185418]  dump_stack_lvl+0x121/0x150
[   33.185648]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.186055]  dump_stack+0x19/0x20
[   33.186263]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.186685]  check_preemption_disabled+0x168/0x180
[   33.187051]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.187462]  debug_smp_processor_id+0x20/0x30
[   33.187784]  zap_huge_pmd+0x494/0xd40
[   33.188188]  __schedule+0x9a/0x2eb0
[   33.188615]  unmap_page_range+0x1ad6/0x4320
[   33.189023]  ? rcu_is_watching+0x19/0xc0
[   33.189413]  ? __pfx_lock_release+0x10/0x10
[   33.189714]  ? lock_release+0x592/0x870
[   33.190030]  ? do_raw_spin_trylock+0xbf/0x190
[   33.190364]  ? __pfx___schedule+0x10/0x10
[   33.190719]  ? __kasan_check_read+0x15/0x20
[   33.191053]  ? debug_smp_processor_id+0x20/0x30
[   33.191411]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.191752]  ? rcu_is_watching+0x19/0xc0
[   33.192114]  ? __pfx_unmap_page_range+0x10/0x10
[   33.192608]  ? trace_irq_enable+0xe1/0x120
[   33.193039]  unmap_single_vma+0x1ac/0x2d0
[   33.193625]  ? do_task_dead+0x4a/0x110
[   33.193988]  unmap_vmas+0x210/0x470
[   33.194439]  do_task_dead+0xe0/0x110
[   33.194811]  ? __pfx_unmap_vmas+0x10/0x10
[   33.195116]  make_task_dead+0x384/0x3c0
[   33.195449]  ? __pfx_lock_release+0x10/0x10
[   33.195729]  rewind_stack_and_make_dead+0x16/0x20
[   33.196048]  ? lock_release+0x592/0x870
[   33.196358] RIP: 0033:0x7f730f23ee5d
[   33.196702]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.197026] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.197443]  ? __pfx_lock_release+0x10/0x10
[   33.197730] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   33.198058]  ? mlock_drain_local+0x27f/0x4b0
[   33.198413]  ORIG_RAX: 000000000000003c
[   33.198963]  exit_mmap+0x19e/0xb10
[   33.199266] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.199760]  ? __pfx_exit_mmap+0x10/0x10
[   33.200073] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.200439]  ? trace_hardirqs_on+0x51/0x60
[   33.200688] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.201321]  ? __khugepaged_exit+0x266/0x4c0
[   33.201605] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.202799]  ? kmem_cache_free+0x15d/0x420
[   33.203095] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.203736]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.204049]  </TASK>
[   33.204676]  __mmput+0xd6/0x390
[   33.206576]  mmput+0x74/0x90
[   33.206884]  do_exit+0xa03/0x29f0
[   33.207238]  ? trace_hardirqs_on+0x51/0x60
[   33.207659]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.208233]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.208982]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.209436]  ? __pfx_do_exit+0x10/0x10
[   33.209811]  ? __audit_syscall_entry+0x39c/0x500
[   33.210264]  __x64_sys_exit+0x50/0x60
[   33.210611]  x64_sys_call+0x20c9/0x20d0
[   33.210966]  do_syscall_64+0x6d/0x140
[   33.211313]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.211775] RIP: 0033:0x7f730f23ee5d
[   33.212102] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.212985] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.213658] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.214267] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.214874] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.215475] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.216090] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.216841]  </TASK>
[   33.217149] Modules linked in:
[   33.217578] ---[ end trace 0000000000000000 ]---
[   33.217981] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.218621] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.220458] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   33.221137] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   33.221791] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   33.222419] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   33.223285] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.223952] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   33.224542] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.225607] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.226089] CR2: 00007f730f517910 CR3: 000000001a57c001 CR4: 0000000000770ef0
[   33.226809] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.227367] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.227927] PKRU: 55555554
[   33.228161] note: repro[3641] exited with preempt_count 1
[   33.228602] Fixing recursive fault but reboot is needed!
[   33.229022] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3641
[   33.229617] caller is debug_smp_processor_id+0x20/0x30
[   33.230042] CPU: 1 UID: 0 PID: 3641 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.230784] Tainted: [D]=DIE, [W]=WARN
[   33.231308] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.232322] Call Trace:
[   33.232534]  <TASK>
[   33.232722]  dump_stack_lvl+0x121/0x150
[   33.233057]  dump_stack+0x19/0x20
[   33.233346]  check_preemption_disabled+0x168/0x180
[   33.233761]  debug_smp_processor_id+0x20/0x30
[   33.234154]  __schedule+0x9a/0x2eb0
[   33.234475]  ? rcu_is_watching+0x19/0xc0
[   33.234832]  ? lock_release+0x592/0x870
[   33.235158]  ? __pfx___schedule+0x10/0x10
[   33.235475]  ? debug_smp_processor_id+0x20/0x30
[   33.235830]  ? rcu_is_watching+0x19/0xc0
[   33.236137]  ? trace_irq_enable+0xe1/0x120
[   33.236468]  ? do_task_dead+0x4a/0x110
[   33.236784]  do_task_dead+0xe0/0x110
[   33.237081]  make_task_dead+0x384/0x3c0
[   33.237394]  rewind_stack_and_make_dead+0x16/0x20
[   33.237764] RIP: 0033:0x7f730f23ee5d
[   33.238048] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.238506] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.239073] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.239865] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.240479] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.240994] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.241509] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.242026]  </TASK>
[   33.242298] BUG: scheduling while atomic: repro/3641/0x00000000
[   33.242773] INFO: lockdep is turned off.
[   33.243060] Modules linked in:
[   33.243289] Preemption disabled at:
[   33.243293] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.243952] CPU: 1 UID: 0 PID: 3641 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.244620] Tainted: [D]=DIE, [W]=WARN
[   33.244900] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.245721] Call Trace:
[   33.246042]  <TASK>
[   33.246407]  dump_stack_lvl+0x121/0x150
[   33.246789]  ? do_task_dead+0x28/0x110
[   33.247210]  dump_stack+0x19/0x20
[   33.247537]  __schedule_bug+0x12d/0x180
[   33.247866]  __schedule+0x210c/0x2eb0
[   33.248272]  ? rcu_is_watching+0x19/0xc0
[   33.248558]  ? lock_release+0x592/0x870
[   33.248841]  ? __pfx___schedule+0x10/0x10
[   33.249136]  ? debug_smp_processor_id+0x20/0x30
[   33.249631]  ? rcu_is_watching+0x19/0xc0
[   33.250007]  ? trace_irq_enable+0xe1/0x120
[   33.250468]  ? do_task_dead+0x4a/0x110
[   33.250839]  do_task_dead+0xe0/0x110
[   33.251275]  make_task_dead+0x384/0x3c0
[   33.251647]  rewind_stack_and_make_dead+0x16/0x20
[   33.252120] RIP: 0033:0x7f730f23ee5d
[   33.252487] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.253055] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.253812] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.254521] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.255243] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.255774] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.256651] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.257284]  </TASK>
[   33.264086] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#26] PREEMPT SMP KASAN NOPTI
[   33.265211] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.265928] CPU: 1 UID: 0 PID: 3712 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.266722] Tainted: [D]=DIE, [W]=WARN
[   33.267040] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.267972] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.268615] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.270303] RSP: 0018:ffff8880216ef7d8 EFLAGS: 00010202
[   33.270816] RAX: dffffc0000000000 RBX: ffffea000085f2c0 RCX: ffffffff81b9e6e9
[   33.271432] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000085f2d0
[   33.272060] RBP: ffff8880216ef7f8 R08: 0000000000000000 R09: ffffed1001ec8798
[   33.272655] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.273340] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f643cc0
[   33.273907] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.274678] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.275216] CR2: 00007f730f4f65b8 CR3: 000000001db26002 CR4: 0000000000770ef0
[   33.275817] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.276467] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.277040] PKRU: 55555554
[   33.277277] Call Trace:
[   33.277479]  <TASK>
[   33.277655]  ? show_regs+0xa8/0xc0
[   33.277949]  ? die_addr+0x5d/0xf0
[   33.278331]  ? exc_general_protection+0x1ae/0x340
[   33.278709]  ? asm_exc_general_protection+0x2b/0x30
[   33.279349]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.279776]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.280326]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.280733]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.281187]  zap_huge_pmd+0x494/0xd40
[   33.281484]  unmap_page_range+0x1ad6/0x4320
[   33.281916]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.282338]  ? __pfx_unmap_page_range+0x10/0x10
[   33.282724]  unmap_single_vma+0x1ac/0x2d0
[   33.283106]  unmap_vmas+0x210/0x470
[   33.283380]  ? __pfx_unmap_vmas+0x10/0x10
[   33.283833]  ? __pfx_lock_release+0x10/0x10
[   33.284146]  ? lock_release+0x592/0x870
[   33.284434]  ? mas_next_slot+0x133a/0x1a50
[   33.284749]  ? __pfx_lock_release+0x10/0x10
[   33.285065]  ? mlock_drain_local+0x27f/0x4b0
[   33.285391]  exit_mmap+0x19e/0xb10
[   33.285660]  ? __pfx_exit_mmap+0x10/0x10
[   33.285976]  ? trace_hardirqs_on+0x51/0x60
[   33.286299]  ? __khugepaged_exit+0x266/0x4c0
[   33.286623]  ? kmem_cache_free+0x15d/0x420
[   33.286947]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.287347]  __mmput+0xd6/0x390
[   33.287593]  mmput+0x74/0x90
[   33.287826]  do_exit+0xa03/0x29f0
[   33.288086]  ? trace_hardirqs_on+0x51/0x60
[   33.288398]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.288847]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.289346]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.289833]  ? __pfx_do_exit+0x10/0x10
[   33.290117]  ? __audit_syscall_entry+0x39c/0x500
[   33.290459]  __x64_sys_exit+0x50/0x60
[   33.290739]  x64_sys_call+0x20c9/0x20d0
[   33.291024]  do_syscall_64+0x6d/0x140
[   33.291301]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.291668] RIP: 0033:0x7f730f23ee5d
[   33.291935] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.292355] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.292867] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.293347] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.293828] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.294307] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.294790] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.295270]  </TASK>
[   33.295423] Modules linked in:
[   33.295699] ---[ end trace 0000000000000000 ]---
[   33.296011] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.296401] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.297605] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   33.298080] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   33.298563] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   33.299039] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   33.299508] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.299978] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   33.300448] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.300972] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.301344] CR2: 00007f730f4f65b8 CR3: 000000001db26002 CR4: 0000000000770ef0
[   33.301973] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.302518] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.302977] PKRU: 55555554
[   33.303160] note: repro[3712] exited with preempt_count 1
[   33.303503] Fixing recursive fault but reboot is needed!
[   33.303835] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3712
[   33.304313] caller is debug_smp_processor_id+0x20/0x30
[   33.304642] CPU: 1 UID: 0 PID: 3712 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.305232] Tainted: [D]=DIE, [W]=WARN
[   33.305468] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.306163] Call Trace:
[   33.306319]  <TASK>
[   33.306456]  dump_stack_lvl+0x121/0x150
[   33.306706]  dump_stack+0x19/0x20
[   33.306925]  check_preemption_disabled+0x168/0x180
[   33.307226]  debug_smp_processor_id+0x20/0x30
[   33.307501]  __schedule+0x9a/0x2eb0
[   33.307805]  ? rcu_is_watching+0x19/0xc0
[   33.308137]  ? lock_release+0x592/0x870
[   33.308452]  ? __pfx___schedule+0x10/0x10
[   33.308702]  ? debug_smp_processor_id+0x20/0x30
[   33.308979]  ? rcu_is_watching+0x19/0xc0
[   33.309220]  ? trace_irq_enable+0xe1/0x120
[   33.309478]  ? do_task_dead+0x4a/0x110
[   33.309719]  do_task_dead+0xe0/0x110
[   33.309948]  make_task_dead+0x384/0x3c0
[   33.310189]  rewind_stack_and_make_dead+0x16/0x20
[   33.310477] RIP: 0033:0x7f730f23ee5d
[   33.310700] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.311063] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.311508] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.311923] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.312341] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.312745] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.313151] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.313563]  </TASK>
[   33.313723] BUG: scheduling while atomic: repro/3712/0x00000000
[   33.314214] INFO: lockdep is turned off.
[   33.314549] Modules linked in:
[   33.314744] Preemption disabled at:
[   33.314747] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.315268] CPU: 1 UID: 0 PID: 3712 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.315809] Tainted: [D]=DIE, [W]=WARN
[   33.316020] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.316643] Call Trace:
[   33.316788]  <TASK>
[   33.316915]  dump_stack_lvl+0x121/0x150
[   33.317145]  ? do_task_dead+0x28/0x110
[   33.317366]  dump_stack+0x19/0x20
[   33.317564]  __schedule_bug+0x12d/0x180
[   33.317790]  __schedule+0x210c/0x2eb0
[   33.318007]  ? rcu_is_watching+0x19/0xc0
[   33.318232]  ? lock_release+0x592/0x870
[   33.318455]  ? __pfx___schedule+0x10/0x10
[   33.318691]  ? debug_smp_processor_id+0x20/0x30
[   33.318962]  ? rcu_is_watching+0x19/0xc0
[   33.319192]  ? trace_irq_enable+0xe1/0x120
[   33.319431]  ? do_task_dead+0x4a/0x110
[   33.319664]  do_task_dead+0xe0/0x110
[   33.319886]  make_task_dead+0x384/0x3c0
[   33.320206]  rewind_stack_and_make_dead+0x16/0x20
[   33.320588] RIP: 0033:0x7f730f23ee5d
[   33.320847] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.321192] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.321612] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.322007] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.322405] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.322795] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.323186] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.323591]  </TASK>
[   33.482350] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#27] PREEMPT SMP KASAN NOPTI
[   33.483331] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.483957] CPU: 0 UID: 0 PID: 3740 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.485067] Tainted: [D]=DIE, [W]=WARN
[   33.485371] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.486242] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.486716] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.488117] RSP: 0018:ffff8880130777d8 EFLAGS: 00010202
[   33.488530] RAX: dffffc0000000000 RBX: ffffea0000439d00 RCX: ffffffff81b9e6e9
[   33.489080] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000439d10
[   33.489630] RBP: ffff8880130777f8 R08: 0000000000000000 R09: ffffed1002c68454
[   33.490186] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.490999] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880163422a0
[   33.491611] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.492232] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.492685] CR2: 00007f730f4f5e28 CR3: 000000001c1ee002 CR4: 0000000000770ef0
[   33.493235] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.493798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.494342] PKRU: 55555554
[   33.494558] Call Trace:
[   33.494757]  <TASK>
[   33.494931]  ? show_regs+0xa8/0xc0
[   33.495218]  ? die_addr+0x5d/0xf0
[   33.495496]  ? exc_general_protection+0x1ae/0x340
[   33.495879]  ? asm_exc_general_protection+0x2b/0x30
[   33.496269]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.496667]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.497250]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.497696]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.498108]  zap_huge_pmd+0x494/0xd40
[   33.498421]  unmap_page_range+0x1ad6/0x4320
[   33.498782]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.499183]  ? __pfx_unmap_page_range+0x10/0x10
[   33.499555]  unmap_single_vma+0x1ac/0x2d0
[   33.499888]  unmap_vmas+0x210/0x470
[   33.500179]  ? __pfx_unmap_vmas+0x10/0x10
[   33.500499]  ? __pfx_lock_release+0x10/0x10
[   33.500838]  ? lock_release+0x592/0x870
[   33.501142]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.501529]  ? __pfx_lock_release+0x10/0x10
[   33.501867]  ? mlock_drain_local+0x27f/0x4b0
[   33.502232]  exit_mmap+0x19e/0xb10
[   33.502529]  ? __pfx_exit_mmap+0x10/0x10
[   33.502857]  ? trace_hardirqs_on+0x51/0x60
[   33.503191]  ? __khugepaged_exit+0x266/0x4c0
[   33.503518]  ? kmem_cache_free+0x15d/0x420
[   33.503836]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.504234]  __mmput+0xd6/0x390
[   33.504481]  mmput+0x74/0x90
[   33.504726]  do_exit+0xa03/0x29f0
[   33.505115]  ? trace_hardirqs_on+0x51/0x60
[   33.505582]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.506063]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.506433]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.506796]  ? __pfx_do_exit+0x10/0x10
[   33.507086]  ? __audit_syscall_entry+0x39c/0x500
[   33.507447]  __x64_sys_exit+0x50/0x60
[   33.507736]  x64_sys_call+0x20c9/0x20d0
[   33.508033]  do_syscall_64+0x6d/0x140
[   33.508322]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.508694] RIP: 0033:0x7f730f23ee5d
[   33.508947] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.509365] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.509873] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.510356] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.510965] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.511603] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.512244] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.512894]  </TASK>
[   33.513204] Modules linked in:
[   33.513846] ---[ end trace 0000000000000000 ]---
[   33.514300] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.514859] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.516438] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   33.516904] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   33.517519] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   33.518138] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   33.518774] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.519411] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   33.520278] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.520988] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.521472] CR2: 00007f730f4f5e28 CR3: 000000001c1ee002 CR4: 0000000000770ef0
[   33.522091] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.522677] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.523128] PKRU: 55555554
[   33.523321] note: repro[3740] exited with preempt_count 1
[   33.523662] Fixing recursive fault but reboot is needed!
[   33.524055] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3740
[   33.524544] caller is debug_smp_processor_id+0x20/0x30
[   33.524889] CPU: 0 UID: 0 PID: 3740 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.525483] Tainted: [D]=DIE, [W]=WARN
[   33.525842] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.526726] Call Trace:
[   33.526891]  <TASK>
[   33.527045]  dump_stack_lvl+0x121/0x150
[   33.527314]  dump_stack+0x19/0x20
[   33.527548]  check_preemption_disabled+0x168/0x180
[   33.527868]  debug_smp_processor_id+0x20/0x30
[   33.528158]  __schedule+0x9a/0x2eb0
[   33.528396]  ? rcu_is_watching+0x19/0xc0
[   33.528660]  ? lock_release+0x592/0x870
[   33.528922]  ? __pfx___schedule+0x10/0x10
[   33.529188]  ? debug_smp_processor_id+0x20/0x30
[   33.529478]  ? rcu_is_watching+0x19/0xc0
[   33.529734]  ? trace_irq_enable+0xe1/0x120
[   33.530004]  ? do_task_dead+0x4a/0x110
[   33.530258]  do_task_dead+0xe0/0x110
[   33.530499]  make_task_dead+0x384/0x3c0
[   33.530758]  rewind_stack_and_make_dead+0x16/0x20
[   33.531058] RIP: 0033:0x7f730f23ee5d
[   33.531290] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.531663] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.532338] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.532830] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.533248] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.533665] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.534081] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.534504]  </TASK>
[   33.534684] BUG: scheduling while atomic: repro/3740/0x00000000
[   33.535036] INFO: lockdep is turned off.
[   33.535268] Modules linked in:
[   33.535458] Preemption disabled at:
[   33.535461] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.536000] CPU: 0 UID: 0 PID: 3740 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.536554] Tainted: [D]=DIE, [W]=WARN
[   33.536785] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.537430] Call Trace:
[   33.537580]  <TASK>
[   33.537716]  dump_stack_lvl+0x121/0x150
[   33.538046]  ? do_task_dead+0x28/0x110
[   33.538398]  dump_stack+0x19/0x20
[   33.538704]  __schedule_bug+0x12d/0x180
[   33.538946]  __schedule+0x210c/0x2eb0
[   33.539171]  ? rcu_is_watching+0x19/0xc0
[   33.539415]  ? lock_release+0x592/0x870
[   33.539647]  ? __pfx___schedule+0x10/0x10
[   33.539897]  ? debug_smp_processor_id+0x20/0x30
[   33.540168]  ? rcu_is_watching+0x19/0xc0
[   33.540403]  ? trace_irq_enable+0xe1/0x120
[   33.540654]  ? do_task_dead+0x4a/0x110
[   33.540889]  do_task_dead+0xe0/0x110
[   33.541114]  make_task_dead+0x384/0x3c0
[   33.541358]  rewind_stack_and_make_dead+0x16/0x20
[   33.541653] RIP: 0033:0x7f730f23ee5d
[   33.541880] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.542233] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.542646] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.543032] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.543422] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.543808] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.544193] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.544588]  </TASK>
[   33.730842] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#28] PREEMPT SMP KASAN NOPTI
[   33.731642] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.732384] CPU: 1 UID: 0 PID: 3899 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.733006] Tainted: [D]=DIE, [W]=WARN
[   33.733273] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.733981] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.734357] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.735507] RSP: 0018:ffff8880260577d8 EFLAGS: 00010202
[   33.735858] RAX: dffffc0000000000 RBX: ffffea000058d880 RCX: ffffffff81b9e6e9
[   33.736298] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000058d890
[   33.736743] RBP: ffff8880260577f8 R08: 0000000000000000 R09: ffffed10027c25ec
[   33.737182] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   33.737639] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013e12f60
[   33.738335] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.738899] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.739269] CR2: 00007ffdcd14bac8 CR3: 000000001c1fe004 CR4: 0000000000770ef0
[   33.739724] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.740237] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.740760] PKRU: 55555554
[   33.740989] Call Trace:
[   33.741173]  <TASK>
[   33.741340]  ? show_regs+0xa8/0xc0
[   33.741612]  ? die_addr+0x5d/0xf0
[   33.741879]  ? exc_general_protection+0x1ae/0x340
[   33.742245]  ? asm_exc_general_protection+0x2b/0x30
[   33.742617]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.743017]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.743371]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.743714]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.744225]  zap_huge_pmd+0x494/0xd40
[   33.744583]  unmap_page_range+0x1ad6/0x4320
[   33.744896]  ? __pfx_lock_release+0x10/0x10
[   33.745173]  ? do_raw_spin_trylock+0xbf/0x190
[   33.745470]  ? __kasan_check_read+0x15/0x20
[   33.745753]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.746079]  ? __pfx_unmap_page_range+0x10/0x10
[   33.746379]  unmap_single_vma+0x1ac/0x2d0
[   33.746653]  unmap_vmas+0x210/0x470
[   33.746905]  ? __pfx_unmap_vmas+0x10/0x10
[   33.747162]  ? __pfx_lock_release+0x10/0x10
[   33.747421]  ? lock_release+0x592/0x870
[   33.747665]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.747963]  ? __pfx_lock_release+0x10/0x10
[   33.748220]  ? mlock_drain_local+0x27f/0x4b0
[   33.748486]  exit_mmap+0x19e/0xb10
[   33.748710]  ? __pfx_exit_mmap+0x10/0x10
[   33.748968]  ? trace_hardirqs_on+0x51/0x60
[   33.749242]  ? __khugepaged_exit+0x266/0x4c0
[   33.749530]  ? kmem_cache_free+0x15d/0x420
[   33.749795]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.750134]  __mmput+0xd6/0x390
[   33.750459]  mmput+0x74/0x90
[   33.750764]  do_exit+0xa03/0x29f0
[   33.751031]  ? trace_hardirqs_on+0x51/0x60
[   33.751299]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.751686]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.751979]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.752262]  ? __pfx_do_exit+0x10/0x10
[   33.752489]  ? __audit_syscall_entry+0x39c/0x500
[   33.752767]  __x64_sys_exit+0x50/0x60
[   33.753002]  x64_sys_call+0x20c9/0x20d0
[   33.753240]  do_syscall_64+0x6d/0x140
[   33.753468]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.753806] RIP: 0033:0x7f730f23ee5d
[   33.754085] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.754552] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.755120] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.755651] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.756182] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.756714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.757179] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.757594]  </TASK>
[   33.757730] Modules linked in:
[   33.758083] ---[ end trace 0000000000000000 ]---
[   33.758367] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.758849] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.759841] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   33.760132] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   33.760518] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   33.760906] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   33.761289] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.761872] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   33.762369] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.762859] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.763166] CR2: 00007ffdcd14bac8 CR3: 000000001c1fe004 CR4: 0000000000770ef0
[   33.763540] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.763914] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.764284] PKRU: 55555554
[   33.764436] note: repro[3899] exited with preempt_count 1
[   33.764734] Fixing recursive fault but reboot is needed!
[   33.765017] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3899
[   33.765438] caller is debug_smp_processor_id+0x20/0x30
[   33.765721] CPU: 1 UID: 0 PID: 3899 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.766240] Tainted: [D]=DIE, [W]=WARN
[   33.766450] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.767044] Call Trace:
[   33.767182]  <TASK>
[   33.767299]  dump_stack_lvl+0x121/0x150
[   33.767513]  dump_stack+0x19/0x20
[   33.767784]  check_preemption_disabled+0x168/0x180
[   33.768155]  debug_smp_processor_id+0x20/0x30
[   33.768477]  __schedule+0x9a/0x2eb0
[   33.768670]  ? rcu_is_watching+0x19/0xc0
[   33.768891]  ? lock_release+0x592/0x870
[   33.769110]  ? __pfx___schedule+0x10/0x10
[   33.769348]  ? debug_smp_processor_id+0x20/0x30
[   33.769600]  ? rcu_is_watching+0x19/0xc0
[   33.769813]  ? trace_irq_enable+0xe1/0x120
[   33.770039]  ? do_task_dead+0x4a/0x110
[   33.770250]  do_task_dead+0xe0/0x110
[   33.770464]  make_task_dead+0x384/0x3c0
[   33.770698]  rewind_stack_and_make_dead+0x16/0x20
[   33.770966] RIP: 0033:0x7f730f23ee5d
[   33.771162] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.771471] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.771847] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.772197] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.772725] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.773337] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.773695] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.774054]  </TASK>
[   33.774203] BUG: scheduling while atomic: repro/3899/0x00000000
[   33.774744] INFO: lockdep is turned off.
[   33.775009] Modules linked in:
[   33.775222] Preemption disabled at:
[   33.775225] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.775827] CPU: 1 UID: 0 PID: 3899 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.776445] Tainted: [D]=DIE, [W]=WARN
[   33.776693] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.777648] Call Trace:
[   33.777824]  <TASK>
[   33.777973]  dump_stack_lvl+0x121/0x150
[   33.778238]  ? do_task_dead+0x28/0x110
[   33.778497]  dump_stack+0x19/0x20
[   33.778732]  __schedule_bug+0x12d/0x180
[   33.779008]  __schedule+0x210c/0x2eb0
[   33.779391]  ? rcu_is_watching+0x19/0xc0
[   33.779654]  ? lock_release+0x592/0x870
[   33.779914]  ? __pfx___schedule+0x10/0x10
[   33.780182]  ? debug_smp_processor_id+0x20/0x30
[   33.780484]  ? rcu_is_watching+0x19/0xc0
[   33.780756]  ? trace_irq_enable+0xe1/0x120
[   33.781125]  ? do_task_dead+0x4a/0x110
[   33.781375]  do_task_dead+0xe0/0x110
[   33.781616]  make_task_dead+0x384/0x3c0
[   33.781872]  rewind_stack_and_make_dead+0x16/0x20
[   33.782176] RIP: 0033:0x7f730f23ee5d
[   33.782408] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.782942] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.783415] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.783978] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.784426] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.784872] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.785541] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.786250]  </TASK>
[   33.945627] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#29] PREEMPT SMP KASAN NOPTI
[   33.946365] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.946816] CPU: 0 UID: 0 PID: 4042 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.947380] Tainted: [D]=DIE, [W]=WARN
[   33.947610] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.948275] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.948838] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.950014] RSP: 0018:ffff88802148f7d8 EFLAGS: 00010202
[   33.950337] RAX: dffffc0000000000 RBX: ffffea00003eacc0 RCX: ffffffff81b9e6e9
[   33.950774] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00003eacd0
[   33.951207] RBP: ffff88802148f7f8 R08: 0000000000000000 R09: ffffed1003e284b4
[   33.951628] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   33.952041] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f1425a0
[   33.952455] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.952925] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.953264] CR2: 00007f730f517910 CR3: 0000000014318004 CR4: 0000000000770ef0
[   33.953679] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.954105] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.954517] PKRU: 55555554
[   33.954690] Call Trace:
[   33.954843]  <TASK>
[   33.954986]  ? show_regs+0xa8/0xc0
[   33.955323]  ? die_addr+0x5d/0xf0
[   33.955543]  ? exc_general_protection+0x1ae/0x340
[   33.955869]  ? asm_exc_general_protection+0x2b/0x30
[   33.956185]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.956504]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.956835]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.957154]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.957467]  zap_huge_pmd+0x494/0xd40
[   33.957699]  unmap_page_range+0x1ad6/0x4320
[   33.957951]  ? __pfx_lock_release+0x10/0x10
[   33.958200]  ? do_raw_spin_trylock+0xbf/0x190
[   33.958460]  ? __kasan_check_read+0x15/0x20
[   33.958715]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.959014]  ? __pfx_unmap_page_range+0x10/0x10
[   33.959294]  unmap_single_vma+0x1ac/0x2d0
[   33.959545]  unmap_vmas+0x210/0x470
[   33.959774]  ? __pfx_unmap_vmas+0x10/0x10
[   33.960026]  ? __pfx_lock_release+0x10/0x10
[   33.960289]  ? lock_release+0x592/0x870
[   33.960519]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.960815]  ? __pfx_lock_release+0x10/0x10
[   33.961072]  ? mlock_drain_local+0x27f/0x4b0
[   33.961342]  exit_mmap+0x19e/0xb10
[   33.961557]  ? __pfx_exit_mmap+0x10/0x10
[   33.961804]  ? trace_hardirqs_on+0x51/0x60
[   33.962062]  ? __khugepaged_exit+0x266/0x4c0
[   33.962330]  ? kmem_cache_free+0x15d/0x420
[   33.962587]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.963091]  __mmput+0xd6/0x390
[   33.963396]  mmput+0x74/0x90
[   33.963636]  do_exit+0xa03/0x29f0
[   33.963851]  ? trace_hardirqs_on+0x51/0x60
[   33.964106]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.964464]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.964748]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.965024]  ? __pfx_do_exit+0x10/0x10
[   33.965251]  ? __audit_syscall_entry+0x39c/0x500
[   33.965522]  __x64_sys_exit+0x50/0x60
[   33.965749]  x64_sys_call+0x20c9/0x20d0
[   33.965972]  do_syscall_64+0x6d/0x140
[   33.966194]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.966482] RIP: 0033:0x7f730f23ee5d
[   33.966690] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.967023] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.967436] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.967818] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.968190] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   33.968560] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   33.968938] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   33.969314]  </TASK>
[   33.969439] Modules linked in:
[   33.969766] ---[ end trace 0000000000000000 ]---
[   33.970038] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.970363] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.971325] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   33.971392] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#30] PREEMPT SMP KASAN NOPTI
[   33.971614] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   33.972910] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.973281] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   33.973927] CPU: 1 UID: 0 PID: 4066 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.974290] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   33.975047] Tainted: [D]=DIE, [W]=WARN
[   33.975409] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.975726] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.976094] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   33.977350] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.977715] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.978191] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.978591] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.980063] RSP: 0018:ffff8880227df7d8 EFLAGS: 00010202
[   33.980360] CR2: 00007f730f517910 CR3: 0000000014318004 CR4: 0000000000770ef0
[   33.980362] 
[   33.980370] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.980988] RAX: dffffc0000000000 RBX: ffffea0000762880 RCX: ffffffff81b9e6e9
[   33.981339] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.981488] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000762890
[   33.981835] PKRU: 55555554
[   33.982387] RBP: ffff8880227df7f8 R08: 0000000000000000 R09: ffffed10042936e4
[   33.982739] note: repro[4042] exited with preempt_count 1
[   33.983282] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.983418] Fixing recursive fault but reboot is needed!
[   33.983422] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4042
[   33.983969] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88802149b720
[   33.984224] caller is debug_smp_processor_id+0x20/0x30
[   33.984872] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.985127] CPU: 0 UID: 0 PID: 4042 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   33.985919] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.986256] Tainted: [D]=DIE, [W]=WARN
[   33.986665] CR2: 00007f8809956000 CR3: 000000001d996001 CR4: 0000000000770ef0
[   33.987032] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.987760] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.988030] Call Trace:
[   33.988035]  <TASK>
[   33.988326] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.988663]  dump_stack_lvl+0x121/0x150
[   33.989543] PKRU: 55555554
[   33.989868]  dump_stack+0x19/0x20
[   33.990065] Call Trace:
[   33.990170]  check_preemption_disabled+0x168/0x180
[   33.990726]  <TASK>
[   33.990903]  debug_smp_processor_id+0x20/0x30
[   33.991114]  ? show_regs+0xa8/0xc0
[   33.991267]  __schedule+0x9a/0x2eb0
[   33.991468]  ? die_addr+0x5d/0xf0
[   33.991686]  ? rcu_is_watching+0x19/0xc0
[   33.991863]  ? exc_general_protection+0x1ae/0x340
[   33.992063]  ? lock_release+0x592/0x870
[   33.992344]  ? asm_exc_general_protection+0x2b/0x30
[   33.992492]  ? __pfx___schedule+0x10/0x10
[   33.992756]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.992928]  ? debug_smp_processor_id+0x20/0x30
[   33.993451]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.993625]  ? rcu_is_watching+0x19/0xc0
[   33.994108]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.994286]  ? trace_irq_enable+0xe1/0x120
[   33.994679]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.994873]  ? do_task_dead+0x4a/0x110
[   33.995252]  zap_huge_pmd+0x494/0xd40
[   33.995423]  do_task_dead+0xe0/0x110
[   33.995795]  unmap_page_range+0x1ad6/0x4320
[   33.995970]  make_task_dead+0x384/0x3c0
[   33.996352]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.996505]  rewind_stack_and_make_dead+0x16/0x20
[   33.996772]  ? __pfx_unmap_page_range+0x10/0x10
[   33.996925] RIP: 0033:0x7f730f23ee5d
[   33.997235]  unmap_single_vma+0x1ac/0x2d0
[   33.997395] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   33.997768]  unmap_vmas+0x210/0x470
[   33.997967] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   33.998301]  ? __pfx_unmap_vmas+0x10/0x10
[   33.998453]  ORIG_RAX: 000000000000003c
[   33.998754]  ? __pfx_lock_release+0x10/0x10
[   33.999019] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   33.999279]  ? lock_release+0x592/0x870
[   33.999505] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.999798]  ? mas_next_slot+0x133a/0x1a50
[   33.999959] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.000258]  ? __pfx_lock_release+0x10/0x10
[   34.000554] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.000838]  ? mlock_drain_local+0x27f/0x4b0
[   34.001132] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.001420]  exit_mmap+0x19e/0xb10
[   34.001717]  </TASK>
[   34.002138]  ? __pfx_exit_mmap+0x10/0x10
[   34.003876]  ? trace_hardirqs_on+0x51/0x60
[   34.004191]  ? __khugepaged_exit+0x266/0x4c0
[   34.004502]  ? kmem_cache_free+0x15d/0x420
[   34.004806]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.005186]  __mmput+0xd6/0x390
[   34.005423]  mmput+0x74/0x90
[   34.005644]  do_exit+0xa03/0x29f0
[   34.005899]  ? trace_hardirqs_on+0x51/0x60
[   34.006201]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.006638]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.006993]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.007337]  ? __pfx_do_exit+0x10/0x10
[   34.007637]  ? __audit_syscall_entry+0x39c/0x500
[   34.008122]  __x64_sys_exit+0x50/0x60
[   34.008510]  x64_sys_call+0x20c9/0x20d0
[   34.008798]  do_syscall_64+0x6d/0x140
[   34.009073]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.009434] RIP: 0033:0x7f730f23ee5d
[   34.009703] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.010162] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.010677] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.011167] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.011635] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.012107] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.012596] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.013082]  </TASK>
[   34.013262] Modules linked in:
[   34.013658] ---[ end trace 0000000000000000 ]---
[   34.014106] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.014714] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.015894] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   34.016243] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   34.016714] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   34.017165] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   34.017630] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.018136] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   34.018757] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.019261] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.019624] CR2: 00007f8809956000 CR3: 000000001d996001 CR4: 0000000000770ef0
[   34.020064] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.020700] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.021300] PKRU: 55555554
[   34.021481] note: repro[4066] exited with preempt_count 1
[   34.021814] Fixing recursive fault but reboot is needed!
[   34.022139] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4066
[   34.022620] caller is debug_smp_processor_id+0x20/0x30
[   34.022945] CPU: 1 UID: 0 PID: 4066 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.023503] Tainted: [D]=DIE, [W]=WARN
[   34.023730] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.024382] Call Trace:
[   34.024536]  <TASK>
[   34.024674]  dump_stack_lvl+0x121/0x150
[   34.024931]  dump_stack+0x19/0x20
[   34.025149]  check_preemption_disabled+0x168/0x180
[   34.025455]  debug_smp_processor_id+0x20/0x30
[   34.025738]  __schedule+0x9a/0x2eb0
[   34.025969]  ? rcu_is_watching+0x19/0xc0
[   34.026234]  ? lock_release+0x592/0x870
[   34.026577]  ? __pfx___schedule+0x10/0x10
[   34.026928]  ? debug_smp_processor_id+0x20/0x30
[   34.027269]  ? rcu_is_watching+0x19/0xc0
[   34.027508]  ? trace_irq_enable+0xe1/0x120
[   34.027763]  ? do_task_dead+0x4a/0x110
[   34.027998]  do_task_dead+0xe0/0x110
[   34.028224]  make_task_dead+0x384/0x3c0
[   34.028462]  rewind_stack_and_make_dead+0x16/0x20
[   34.028747] RIP: 0033:0x7f730f23ee5d
[   34.028969] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.029323] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.029752] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.030147] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.030537] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.030936] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.031321] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.031721]  </TASK>
[   34.031894] BUG: scheduling while atomic: repro/4066/0x00000000
[   34.032226] INFO: lockdep is turned off.
[   34.032446] Modules linked in:
[   34.032706] Preemption disabled at:
[   34.032709] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   34.033433] CPU: 1 UID: 0 PID: 4066 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.033955] Tainted: [D]=DIE, [W]=WARN
[   34.034169] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.034783] Call Trace:
[   34.034927]  <TASK>
[   34.035054]  dump_stack_lvl+0x121/0x150
[   34.035277]  ? do_task_dead+0x28/0x110
[   34.035494]  dump_stack+0x19/0x20
[   34.035691]  __schedule_bug+0x12d/0x180
[   34.035912]  __schedule+0x210c/0x2eb0
[   34.036124]  ? rcu_is_watching+0x19/0xc0
[   34.036350]  ? lock_release+0x592/0x870
[   34.036570]  ? __pfx___schedule+0x10/0x10
[   34.036820]  ? debug_smp_processor_id+0x20/0x30
[   34.037091]  ? rcu_is_watching+0x19/0xc0
[   34.037312]  ? trace_irq_enable+0xe1/0x120
[   34.037550]  ? do_task_dead+0x4a/0x110
[   34.037781]  do_task_dead+0xe0/0x110
[   34.038003]  make_task_dead+0x384/0x3c0
[   34.038229]  rewind_stack_and_make_dead+0x16/0x20
[   34.038493] RIP: 0033:0x7f730f23ee5d
[   34.038711] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.039176] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.039704] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.040084] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.040448] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.040811] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.041173] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.041534]  </TASK>
[   34.572247] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#31] PREEMPT SMP KASAN NOPTI
[   34.573325] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.573996] CPU: 0 UID: 0 PID: 4428 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.574947] Tainted: [D]=DIE, [W]=WARN
[   34.575288] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.576277] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.576817] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.578424] RSP: 0018:ffff88801f2577d8 EFLAGS: 00010202
[   34.578915] RAX: dffffc0000000000 RBX: ffffea0000762640 RCX: ffffffff81b9e6e9
[   34.579542] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000762650
[   34.580179] RBP: ffff88801f2577f8 R08: 0000000000000000 R09: ffffed10023f906c
[   34.580809] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.581437] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011fc8360
[   34.582066] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   34.582775] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.583290] CR2: 00007f730f52b000 CR3: 000000000ec54005 CR4: 0000000000770ef0
[   34.583923] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.584552] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.585184] PKRU: 55555554
[   34.585439] Call Trace:
[   34.585676]  <TASK>
[   34.585885]  ? show_regs+0xa8/0xc0
[   34.586222]  ? die_addr+0x5d/0xf0
[   34.586552]  ? exc_general_protection+0x1ae/0x340
[   34.587023]  ? asm_exc_general_protection+0x2b/0x30
[   34.587508]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.588020]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.588500]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.588991]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.589468]  zap_huge_pmd+0x494/0xd40
[   34.589862]  unmap_page_range+0x1ad6/0x4320
[   34.590285]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.590764]  ? __pfx_unmap_page_range+0x10/0x10
[   34.591202]  unmap_single_vma+0x1ac/0x2d0
[   34.591592]  unmap_vmas+0x210/0x470
[   34.591940]  ? __pfx_unmap_vmas+0x10/0x10
[   34.592321]  ? __pfx_lock_release+0x10/0x10
[   34.592714]  ? lock_release+0x592/0x870
[   34.593074]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.593529]  ? __pfx_lock_release+0x10/0x10
[   34.593931]  ? mlock_drain_local+0x27f/0x4b0
[   34.594344]  exit_mmap+0x19e/0xb10
[   34.594687]  ? __pfx_exit_mmap+0x10/0x10
[   34.595072]  ? trace_hardirqs_on+0x51/0x60
[   34.595474]  ? __khugepaged_exit+0x266/0x4c0
[   34.595883]  ? kmem_cache_free+0x15d/0x420
[   34.596278]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.596779]  __mmput+0xd6/0x390
[   34.597088]  mmput+0x74/0x90
[   34.597372]  do_exit+0xa03/0x29f0
[   34.597701]  ? trace_hardirqs_on+0x51/0x60
[   34.598093]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.598641]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.599072]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.599511]  ? __pfx_do_exit+0x10/0x10
[   34.599863]  ? __audit_syscall_entry+0x39c/0x500
[   34.600281]  __x64_sys_exit+0x50/0x60
[   34.600619]  x64_sys_call+0x20c9/0x20d0
[   34.600968]  do_syscall_64+0x6d/0x140
[   34.601308]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.601756] RIP: 0033:0x7f730f23ee5d
[   34.602074] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.602597] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.603237] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.603836] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.604430] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.605028] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.605631] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.606234]  </TASK>
[   34.606426] Modules linked in:
[   34.606921] ---[ end trace 0000000000000000 ]---
[   34.607333] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.607818] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.609199] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#32] PREEMPT SMP KASAN NOPTI
[   34.609262] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   34.610316] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.610760] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   34.611396] CPU: 1 UID: 0 PID: 4452 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.611954] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   34.612770] Tainted: [D]=DIE, [W]=WARN
[   34.613321] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   34.613653] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.614188] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.615165] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.615716] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   34.616216] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.616751] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   34.618334] RSP: 0018:ffff8880260577d8 EFLAGS: 00010202
[   34.618954] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.619402] RAX: dffffc0000000000 RBX: ffffea000070d8c0 RCX: ffffffff81b9e6e9
[   34.619838] CR2: 00007f730f52b000 CR3: 000000000ec54005 CR4: 0000000000770ef0
[   34.620451] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000070d8d0
[   34.620979] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.621594] RBP: ffff8880260577f8 R08: 0000000000000000 R09: ffffed1003f5b2c0
[   34.622108] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.622734] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.622746] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fad9600
[   34.623365] PKRU: 55555554
[   34.623986] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.624503] note: repro[4428] exited with preempt_count 1
[   34.624753] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.625330] Fixing recursive fault but reboot is needed!
[   34.625805] CR2: 00007f730f29bc20 CR3: 0000000014464001 CR4: 0000000000770ef0
[   34.626229] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4428
[   34.626699] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.626712] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.627232] caller is debug_smp_processor_id+0x20/0x30
[   34.627904] PKRU: 55555554
[   34.628400] CPU: 0 UID: 0 PID: 4428 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.629017] Call Trace:
[   34.629383] Tainted: [D]=DIE, [W]=WARN
[   34.629630]  <TASK>
[   34.630292] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.630526]  ? show_regs+0xa8/0xc0
[   34.630794] Call Trace:
[   34.630996]  ? die_addr+0x5d/0xf0
[   34.631788]  <TASK>
[   34.632095]  ? exc_general_protection+0x1ae/0x340
[   34.632275]  dump_stack_lvl+0x121/0x150
[   34.632585]  ? asm_exc_general_protection+0x2b/0x30
[   34.632738]  dump_stack+0x19/0x20
[   34.633159]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.633430]  check_preemption_disabled+0x168/0x180
[   34.633859]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.634093]  debug_smp_processor_id+0x20/0x30
[   34.634549]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.634876]  __schedule+0x9a/0x2eb0
[   34.635347]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.635647]  ? rcu_is_watching+0x19/0xc0
[   34.636131]  zap_huge_pmd+0x494/0xd40
[   34.636371]  ? lock_release+0x592/0x870
[   34.636836]  unmap_page_range+0x1ad6/0x4320
[   34.637098]  ? __pfx___schedule+0x10/0x10
[   34.637466]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.637716]  ? debug_smp_processor_id+0x20/0x30
[   34.638112]  ? __pfx_unmap_page_range+0x10/0x10
[   34.638380]  ? rcu_is_watching+0x19/0xc0
[   34.638855]  unmap_single_vma+0x1ac/0x2d0
[   34.639157]  ? trace_irq_enable+0xe1/0x120
[   34.639565]  unmap_vmas+0x210/0x470
[   34.639917]  ? do_task_dead+0x4a/0x110
[   34.640280]  ? __pfx_unmap_vmas+0x10/0x10
[   34.640544]  do_task_dead+0xe0/0x110
[   34.640867]  ? __pfx_lock_release+0x10/0x10
[   34.641123]  make_task_dead+0x384/0x3c0
[   34.641483]  ? lock_release+0x592/0x870
[   34.641723]  rewind_stack_and_make_dead+0x16/0x20
[   34.642094]  ? mas_next_slot+0x133a/0x1a50
[   34.642342] RIP: 0033:0x7f730f23ee5d
[   34.642695]  ? __pfx_lock_release+0x10/0x10
[   34.642999] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.643381]  ? mlock_drain_local+0x27f/0x4b0
[   34.643611] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   34.644021]  exit_mmap+0x19e/0xb10
[   34.644416]  ORIG_RAX: 000000000000003c
[   34.644810]  ? __pfx_exit_mmap+0x10/0x10
[   34.645141] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.645461]  ? trace_hardirqs_on+0x51/0x60
[   34.645697] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.646056]  ? __khugepaged_exit+0x266/0x4c0
[   34.646490] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.646880]  ? kmem_cache_free+0x15d/0x420
[   34.647323] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.647741]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.648176] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.648563]  __mmput+0xd6/0x390
[   34.649011]  </TASK>
[   34.649505]  mmput+0x74/0x90
[   34.650894]  do_exit+0xa03/0x29f0
[   34.651217]  ? trace_hardirqs_on+0x51/0x60
[   34.651595]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.652144]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.652581]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.653021]  ? __pfx_do_exit+0x10/0x10
[   34.653371]  ? __audit_syscall_entry+0x39c/0x500
[   34.653800]  __x64_sys_exit+0x50/0x60
[   34.654357]  x64_sys_call+0x20c9/0x20d0
[   34.654774]  do_syscall_64+0x6d/0x140
[   34.655119]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.655601] RIP: 0033:0x7f730f23ee5d
[   34.655933] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.656451] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.657094] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.657682] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.658601] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.659202] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.659782] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.660367]  </TASK>
[   34.660563] Modules linked in:
[   34.660990] ---[ end trace 0000000000000000 ]---
[   34.661123] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#33] PREEMPT SMP KASAN NOPTI
[   34.661424] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.662253] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.662733] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.663237] CPU: 0 UID: 0 PID: 4448 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.664677] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   34.665295] Tainted: [D]=DIE, [W]=WARN
[   34.665300] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.665699] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   34.665956] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.666822] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   34.667281] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.667719] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   34.668195] RSP: 0018:ffff8880112a77d8 EFLAGS: 00010202
[   34.669609] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.670082] 
[   34.670493] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   34.670943] RAX: dffffc0000000000 RBX: ffffea000076bbc0 RCX: ffffffff81b9e6e9
[   34.671077] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.671557] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000076bbd0
[   34.672198] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.672945] RBP: ffff8880112a77f8 R08: 0000000000000000 R09: ffffed100283e4e4
[   34.672959] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.673489] CR2: 00007f730f29bc20 CR3: 0000000014464001 CR4: 0000000000770ef0
[   34.673871] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880141f2720
[   34.674387] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.674848] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   34.674860] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.675376] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.675841] CR2: 00007f730f52b000 CR3: 0000000010468002 CR4: 0000000000770ef0
[   34.676351] PKRU: 55555554
[   34.676865] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.677279] note: repro[4452] exited with preempt_count 1
[   34.677731] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.678244] Fixing recursive fault but reboot is needed!
[   34.678420] PKRU: 55555554
[   34.678951] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4452
[   34.679292] Call Trace:
[   34.679792] caller is debug_smp_processor_id+0x20/0x30
[   34.680136]  <TASK>
[   34.680336] CPU: 1 UID: 0 PID: 4452 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.680803]  ? show_regs+0xa8/0xc0
[   34.680984] Tainted: [D]=DIE, [W]=WARN
[   34.681295]  ? die_addr+0x5d/0xf0
[   34.681451] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.682016]  ? exc_general_protection+0x1ae/0x340
[   34.682263] Call Trace:
[   34.682505]  ? asm_exc_general_protection+0x2b/0x30
[   34.682743]  <TASK>
[   34.683436]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.683767]  dump_stack_lvl+0x121/0x150
[   34.683931]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.684277]  dump_stack+0x19/0x20
[   34.684416]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.684773]  check_preemption_disabled+0x168/0x180
[   34.685009]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.685371]  debug_smp_processor_id+0x20/0x30
[   34.685573]  zap_huge_pmd+0x494/0xd40
[   34.685925]  __schedule+0x9a/0x2eb0
[   34.686214]  unmap_page_range+0x1ad6/0x4320
[   34.686559]  ? rcu_is_watching+0x19/0xc0
[   34.686832]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.687073]  ? lock_release+0x592/0x870
[   34.687290]  ? __pfx_unmap_page_range+0x10/0x10
[   34.687572]  ? __pfx___schedule+0x10/0x10
[   34.687814]  unmap_single_vma+0x1ac/0x2d0
[   34.688230]  ? debug_smp_processor_id+0x20/0x30
[   34.688573]  unmap_vmas+0x210/0x470
[   34.688973]  ? rcu_is_watching+0x19/0xc0
[   34.689319]  ? __pfx_unmap_vmas+0x10/0x10
[   34.689678]  ? trace_irq_enable+0xe1/0x120
[   34.690031]  ? __pfx_lock_release+0x10/0x10
[   34.690276]  ? do_task_dead+0x4a/0x110
[   34.690511]  ? lock_release+0x592/0x870
[   34.690788]  do_task_dead+0xe0/0x110
[   34.691022]  ? mas_next_slot+0x133a/0x1a50
[   34.691307]  make_task_dead+0x384/0x3c0
[   34.691525]  ? __pfx_lock_release+0x10/0x10
[   34.691793]  rewind_stack_and_make_dead+0x16/0x20
[   34.692003]  ? mlock_drain_local+0x27f/0x4b0
[   34.692280] RIP: 0033:0x7f730f23ee5d
[   34.692504]  exit_mmap+0x19e/0xb10
[   34.692785] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.693055]  ? __pfx_exit_mmap+0x10/0x10
[   34.693340] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   34.693553]  ? trace_hardirqs_on+0x51/0x60
[   34.693775]  ORIG_RAX: 000000000000003c
[   34.694129]  ? __khugepaged_exit+0x266/0x4c0
[   34.694385] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.694682]  ? kmem_cache_free+0x15d/0x420
[   34.694949] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.695162]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.695441] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.695840]  __mmput+0xd6/0x390
[   34.696103] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.696512]  mmput+0x74/0x90
[   34.696860] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.697261]  do_exit+0xa03/0x29f0
[   34.697487]  </TASK>
[   34.697866]  ? trace_hardirqs_on+0x51/0x60
[   34.698995]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.699365]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.699650]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.699926]  ? __pfx_do_exit+0x10/0x10
[   34.700142]  ? __audit_syscall_entry+0x39c/0x500
[   34.700401]  __x64_sys_exit+0x50/0x60
[   34.700614]  x64_sys_call+0x20c9/0x20d0
[   34.700834]  do_syscall_64+0x6d/0x140
[   34.701056]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.701336] RIP: 0033:0x7f730f23ee5d
[   34.701541] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.701876] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.702278] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.702666] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.703058] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.703457] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.703850] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.704240]  </TASK>
[   34.704486] Modules linked in:
[   34.704877] ---[ end trace 0000000000000000 ]---
[   34.705305] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.705649] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.706593] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   34.706873] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   34.707241] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   34.707604] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   34.707968] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.708329] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   34.708681] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   34.709070] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.709353] CR2: 00007f730f52b000 CR3: 0000000010468002 CR4: 0000000000770ef0
[   34.709705] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.710051] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.710406] PKRU: 55555554
[   34.710563] note: repro[4448] exited with preempt_count 1
[   34.710833] Fixing recursive fault but reboot is needed!
[   34.711105] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4448
[   34.711477] caller is debug_smp_processor_id+0x20/0x30
[   34.711742] CPU: 0 UID: 0 PID: 4448 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.712210] Tainted: [D]=DIE, [W]=WARN
[   34.712398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.712941] Call Trace:
[   34.713075]  <TASK>
[   34.713200]  dump_stack_lvl+0x121/0x150
[   34.713413]  dump_stack+0x19/0x20
[   34.713592]  check_preemption_disabled+0x168/0x180
[   34.713834]  debug_smp_processor_id+0x20/0x30
[   34.714052]  __schedule+0x9a/0x2eb0
[   34.714233]  ? rcu_is_watching+0x19/0xc0
[   34.714429]  ? lock_release+0x592/0x870
[   34.714619]  ? __pfx___schedule+0x10/0x10
[   34.714818]  ? debug_smp_processor_id+0x20/0x30
[   34.715044]  ? rcu_is_watching+0x19/0xc0
[   34.715240]  ? trace_irq_enable+0xe1/0x120
[   34.715453]  ? do_task_dead+0x4a/0x110
[   34.715645]  do_task_dead+0xe0/0x110
[   34.715831]  make_task_dead+0x384/0x3c0
[   34.716031]  rewind_stack_and_make_dead+0x16/0x20
[   34.716266] RIP: 0033:0x7f730f23ee5d
[   34.716449] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.716743] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.717099] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.717440] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.717776] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.718108] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.718446] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.718792]  </TASK>
[   34.718937] BUG: scheduling while atomic: repro/4448/0x00000000
[   34.719217] INFO: lockdep is turned off.
[   34.719398] Modules linked in:
[   34.719553] Preemption disabled at:
[   34.719556] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   34.719981] CPU: 0 UID: 0 PID: 4448 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.720593] Tainted: [D]=DIE, [W]=WARN
[   34.720945] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.721732] Call Trace:
[   34.721855]  <TASK>
[   34.721963]  dump_stack_lvl+0x121/0x150
[   34.722167]  ? do_task_dead+0x28/0x110
[   34.722354]  dump_stack+0x19/0x20
[   34.722540]  __schedule_bug+0x12d/0x180
[   34.722729]  __schedule+0x210c/0x2eb0
[   34.722906]  ? rcu_is_watching+0x19/0xc0
[   34.723098]  ? lock_release+0x592/0x870
[   34.723283]  ? __pfx___schedule+0x10/0x10
[   34.723481]  ? debug_smp_processor_id+0x20/0x30
[   34.723700]  ? rcu_is_watching+0x19/0xc0
[   34.723890]  ? trace_irq_enable+0xe1/0x120
[   34.724089]  ? do_task_dead+0x4a/0x110
[   34.724278]  do_task_dead+0xe0/0x110
[   34.724467]  make_task_dead+0x384/0x3c0
[   34.724666]  rewind_stack_and_make_dead+0x16/0x20
[   34.724889] RIP: 0033:0x7f730f23ee5d
[   34.725068] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.725351] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.725518] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#34] PREEMPT SMP KASAN NOPTI
[   34.725709] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.726362] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.726661] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.727062] CPU: 1 UID: 0 PID: 4496 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.727364] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.727902] Tainted: [D]=DIE, [W]=WARN
[   34.728191] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.728389] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.728679] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.729281] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.729574]  </TASK>
[   34.729868] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.730894] RSP: 0018:ffff8880260077d8 EFLAGS: 00010202
[   34.731173] RAX: dffffc0000000000 RBX: ffffea0000697600 RCX: ffffffff81b9e6e9
[   34.731537] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000697610
[   34.731904] RBP: ffff8880260077f8 R08: 0000000000000000 R09: ffffed1002c33f8c
[   34.732272] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.732637] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801619fc60
[   34.733017] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.733429] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.733727] CR2: 00007f730f51bfa8 CR3: 0000000021440006 CR4: 0000000000770ef0
[   34.734092] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.734457] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.734819] PKRU: 55555554
[   34.734963] Call Trace:
[   34.735095]  <TASK>
[   34.735212]  ? show_regs+0xa8/0xc0
[   34.735406]  ? die_addr+0x5d/0xf0
[   34.735591]  ? exc_general_protection+0x1ae/0x340
[   34.735853]  ? asm_exc_general_protection+0x2b/0x30
[   34.736121]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.736526]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.737013]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.737498]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.737813]  zap_huge_pmd+0x494/0xd40
[   34.738017]  unmap_page_range+0x1ad6/0x4320
[   34.738255]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.738527]  ? __pfx_unmap_page_range+0x10/0x10
[   34.738772]  unmap_single_vma+0x1ac/0x2d0
[   34.738991]  unmap_vmas+0x210/0x470
[   34.739179]  ? __pfx_unmap_vmas+0x10/0x10
[   34.739398]  ? __pfx_lock_release+0x10/0x10
[   34.739622]  ? lock_release+0x592/0x870
[   34.739824]  ? mas_next_slot+0x133a/0x1a50
[   34.740050]  ? __pfx_lock_release+0x10/0x10
[   34.740265]  ? mlock_drain_local+0x27f/0x4b0
[   34.740489]  exit_mmap+0x19e/0xb10
[   34.740680]  ? __pfx_exit_mmap+0x10/0x10
[   34.740895]  ? trace_hardirqs_on+0x51/0x60
[   34.741117]  ? __khugepaged_exit+0x266/0x4c0
[   34.741338]  ? kmem_cache_free+0x15d/0x420
[   34.741565]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.741839]  __mmput+0xd6/0x390
[   34.742003]  mmput+0x74/0x90
[   34.742153]  do_exit+0xa03/0x29f0
[   34.742328]  ? trace_hardirqs_on+0x51/0x60
[   34.742537]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.742840]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.743082]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.743321]  ? __pfx_do_exit+0x10/0x10
[   34.743509]  ? __audit_syscall_entry+0x39c/0x500
[   34.743745]  __x64_sys_exit+0x50/0x60
[   34.743932]  x64_sys_call+0x20c9/0x20d0
[   34.744129]  do_syscall_64+0x6d/0x140
[   34.744316]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.744568] RIP: 0033:0x7f730f23ee5d
[   34.744750] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.745039] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.745394] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.745715] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.746032] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.746352] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.746670] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.747009]  </TASK>
[   34.747119] Modules linked in:
[   34.747426] ---[ end trace 0000000000000000 ]---
[   34.747648] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.747922] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.748742] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   34.748981] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   34.749296] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   34.749619] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   34.749940] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.750259] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   34.750668] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.751033] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.751292] CR2: 00007f730f51bfa8 CR3: 0000000021440006 CR4: 0000000000770ef0
[   34.751613] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.751930] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.752246] PKRU: 55555554
[   34.752371] note: repro[4496] exited with preempt_count 1
[   34.752620] Fixing recursive fault but reboot is needed!
[   34.752859] BUG: scheduling while atomic: repro/4496/0x00000000
[   34.753119] INFO: lockdep is turned off.
[   34.753297] Modules linked in:
[   34.753440] Preemption disabled at:
[   34.753442] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   34.753846] CPU: 1 UID: 0 PID: 4496 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   34.754244] Tainted: [D]=DIE, [W]=WARN
[   34.754407] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.754877] Call Trace:
[   34.754989]  <TASK>
[   34.755087]  dump_stack_lvl+0x121/0x150
[   34.755268]  ? do_task_dead+0x28/0x110
[   34.755441]  dump_stack+0x19/0x20
[   34.755600]  __schedule_bug+0x12d/0x180
[   34.755778]  __schedule+0x210c/0x2eb0
[   34.755948]  ? rcu_is_watching+0x19/0xc0
[   34.756126]  ? lock_release+0x592/0x870
[   34.756301]  ? __pfx___schedule+0x10/0x10
[   34.756486]  ? debug_smp_processor_id+0x20/0x30
[   34.756692]  ? rcu_is_watching+0x19/0xc0
[   34.756866]  ? trace_irq_enable+0xe1/0x120
[   34.757057]  ? do_task_dead+0x4a/0x110
[   34.757234]  do_task_dead+0xe0/0x110
[   34.757405]  make_task_dead+0x384/0x3c0
[   34.757588]  rewind_stack_and_make_dead+0x16/0x20
[   34.757804] RIP: 0033:0x7f730f23ee5d
[   34.757968] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   34.758232] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.758561] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   34.758877] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.759184] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   34.759491] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   34.759803] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   34.760119]  </TASK>
[   35.340602] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#35] PREEMPT SMP KASAN NOPTI
[   35.341713] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.342407] CPU: 0 UID: 0 PID: 4875 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   35.343271] Tainted: [D]=DIE, [W]=WARN
[   35.343612] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.344627] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.345192] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.346865] RSP: 0018:ffff8880261677d8 EFLAGS: 00010202
[   35.347361] RAX: dffffc0000000000 RBX: ffffea0000856840 RCX: ffffffff81b9e6e9
[   35.348014] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000856850
[   35.348665] RBP: ffff8880261677f8 R08: 0000000000000000 R09: ffffed1003b3e5a4
[   35.349318] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.349962] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d9f2d20
[   35.350616] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   35.351342] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.351875] CR2: 00007f730f4f5e28 CR3: 000000002623a004 CR4: 0000000000770ef0
[   35.352521] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.353169] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.353828] PKRU: 55555554
[   35.354088] Call Trace:
[   35.354335]  <TASK>
[   35.354545]  ? show_regs+0xa8/0xc0
[   35.354890]  ? die_addr+0x5d/0xf0
[   35.355221]  ? exc_general_protection+0x1ae/0x340
[   35.355693]  ? asm_exc_general_protection+0x2b/0x30
[   35.356170]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.356658]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.357158]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.357649]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.358139]  zap_huge_pmd+0x494/0xd40
[   35.358509]  unmap_page_range+0x1ad6/0x4320
[   35.358936]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.359422]  ? __pfx_unmap_page_range+0x10/0x10
[   35.359869]  unmap_single_vma+0x1ac/0x2d0
[   35.360263]  unmap_vmas+0x210/0x470
[   35.360619]  ? __pfx_unmap_vmas+0x10/0x10
[   35.361013]  ? __pfx_lock_release+0x10/0x10
[   35.361409]  ? lock_release+0x592/0x870
[   35.361775]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   35.362243]  ? __pfx_lock_release+0x10/0x10
[   35.362650]  ? mlock_drain_local+0x27f/0x4b0
[   35.363076]  exit_mmap+0x19e/0xb10
[   35.363424]  ? __pfx_exit_mmap+0x10/0x10
[   35.363813]  ? trace_hardirqs_on+0x51/0x60
[   35.364219]  ? __khugepaged_exit+0x266/0x4c0
[   35.364628]  ? kmem_cache_free+0x15d/0x420
[   35.365035]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.365541]  __mmput+0xd6/0x390
[   35.365855]  mmput+0x74/0x90
[   35.366145]  do_exit+0xa03/0x29f0
[   35.366478]  ? trace_hardirqs_on+0x51/0x60
[   35.366875]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.367451]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.367911]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.368378]  ? __pfx_do_exit+0x10/0x10
[   35.368757]  ? __audit_syscall_entry+0x39c/0x500
[   35.369213]  __x64_sys_exit+0x50/0x60
[   35.369574]  x64_sys_call+0x20c9/0x20d0
[   35.369946]  do_syscall_64+0x6d/0x140
[   35.370312]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.370805] RIP: 0033:0x7f730f23ee5d
[   35.371152] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   35.371715] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.372397] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   35.373052] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.373699] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   35.374343] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   35.374989] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   35.375639]  </TASK>
[   35.375857] Modules linked in:
[   35.376236] ---[ end trace 0000000000000000 ]---
[   35.376676] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.377221] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.378633] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#36] PREEMPT SMP KASAN NOPTI
[   35.379057] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   35.379972] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.380451] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   35.381510] CPU: 1 UID: 0 PID: 4903 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   35.382151] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   35.383009] Tainted: [D]=DIE, [W]=WARN
[   35.383016] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.383029] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.383061] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.383079] RSP: 0018:ffff8880260577d8 EFLAGS: 00010202
[   35.383095] RAX: dffffc0000000000 RBX: ffffea0000511800 RCX: ffffffff81b9e6e9
[   35.383108] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000511810
[   35.383120] RBP: ffff8880260577f8 R08: 0000000000000000 R09: ffffed100285a750
[   35.383132] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.383782] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   35.384127] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880142d3a80
[   35.385144] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.385655] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   35.387402] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   35.387748] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.388384] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   35.389027] CR2: 00007f88099840b8 CR3: 000000001dab4004 CR4: 0000000000770ef0
[   35.389042] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.389052] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.389063] PKRU: 55555554
[   35.389070] Call Trace:
[   35.389075]  <TASK>
[   35.389091]  ? show_regs+0xa8/0xc0
[   35.389118]  ? die_addr+0x5d/0xf0
[   35.389142]  ? exc_general_protection+0x1ae/0x340
[   35.389175]  ? asm_exc_general_protection+0x2b/0x30
[   35.389838] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.390478]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.390503]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.391131] CR2: 00007f730f4f5e28 CR3: 000000002623a004 CR4: 0000000000770ef0
[   35.391779]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.392366] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.393074]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.393661] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.394168]  zap_huge_pmd+0x494/0xd40
[   35.394849] PKRU: 55555554
[   35.395461]  unmap_page_range+0x1ad6/0x4320
[   35.396044] note: repro[4875] exited with preempt_count 1
[   35.396713]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.397001] Fixing recursive fault but reboot is needed!
[   35.397242]  ? __pfx_unmap_page_range+0x10/0x10
[   35.406153]  unmap_single_vma+0x1ac/0x2d0
[   35.406625]  unmap_vmas+0x210/0x470
[   35.406981]  ? __pfx_unmap_vmas+0x10/0x10
[   35.407368]  ? __pfx_lock_release+0x10/0x10
[   35.407774]  ? lock_release+0x592/0x870
[   35.408144]  ? mas_next_slot+0x133a/0x1a50
[   35.408546]  ? __pfx_lock_release+0x10/0x10
[   35.408951]  ? mlock_drain_local+0x27f/0x4b0
[   35.409370]  exit_mmap+0x19e/0xb10
[   35.409825]  ? __pfx_exit_mmap+0x10/0x10
[   35.410461]  ? trace_hardirqs_on+0x51/0x60
[   35.410872]  ? __khugepaged_exit+0x266/0x4c0
[   35.411263]  ? kmem_cache_free+0x15d/0x420
[   35.411639]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.412112]  __mmput+0xd6/0x390
[   35.412408]  mmput+0x74/0x90
[   35.412684]  do_exit+0xa03/0x29f0
[   35.412995]  ? trace_hardirqs_on+0x51/0x60
[   35.413369]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.413911]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.414340]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.414770]  ? __pfx_do_exit+0x10/0x10
[   35.415115]  ? __audit_syscall_entry+0x39c/0x500
[   35.415533]  __x64_sys_exit+0x50/0x60
[   35.415988]  x64_sys_call+0x20c9/0x20d0
[   35.416514]  do_syscall_64+0x6d/0x140
[   35.416912]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.417374] RIP: 0033:0x7f730f23ee5d
[   35.417698] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   35.418215] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.418860] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   35.419441] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.420008] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   35.420581] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   35.421194] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   35.421826]  </TASK>
[   35.422125] Modules linked in:
[   35.422797] ---[ end trace 0000000000000000 ]---
[   35.423216] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.423707] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.425557] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   35.426298] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   35.427107] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   35.427887] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   35.428651] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.429386] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   35.430128] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   35.431417] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.432029] CR2: 00007f88099840b8 CR3: 000000001dab4004 CR4: 0000000000770ef0
[   35.432765] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.433494] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.434226] PKRU: 55555554
[   35.434719] note: repro[4903] exited with preempt_count 1
[   35.435285] Fixing recursive fault but reboot is needed!
[   35.435970] BUG: scheduling while atomic: repro/4903/0x00000000
[   35.436588] INFO: lockdep is turned off.
[   35.437008] Modules linked in:
[   35.437344] Preemption disabled at:
[   35.437349] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   35.438411] CPU: 1 UID: 0 PID: 4903 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   35.439373] Tainted: [D]=DIE, [W]=WARN
[   35.439758] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.440963] Call Trace:
[   35.441342]  <TASK>
[   35.441616]  dump_stack_lvl+0x121/0x150
[   35.442033]  ? do_task_dead+0x28/0x110
[   35.442433]  dump_stack+0x19/0x20
[   35.442801]  __schedule_bug+0x12d/0x180
[   35.443208]  __schedule+0x210c/0x2eb0
[   35.443594]  ? rcu_is_watching+0x19/0xc0
[   35.444004]  ? lock_release+0x592/0x870
[   35.444405]  ? __pfx___schedule+0x10/0x10
[   35.444815]  ? debug_smp_processor_id+0x20/0x30
[   35.445262]  ? rcu_is_watching+0x19/0xc0
[   35.445664]  ? trace_irq_enable+0xe1/0x120
[   35.446086]  ? do_task_dead+0x4a/0x110
[   35.446469]  do_task_dead+0xe0/0x110
[   35.446841]  make_task_dead+0x384/0x3c0
[   35.447408]  rewind_stack_and_make_dead+0x16/0x20
[   35.447966] RIP: 0033:0x7f730f23ee5d
[   35.448321] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   35.448907] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.449619] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   35.450291] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.450956] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   35.451593] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   35.452232] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   35.452884]  </TASK>
[   35.847119] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#37] PREEMPT SMP KASAN NOPTI
[   35.848309] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.849003] CPU: 1 UID: 0 PID: 5138 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   35.849855] Tainted: [D]=DIE, [W]=WARN
[   35.850201] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.851219] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.851759] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.853411] RSP: 0018:ffff8880145d77d8 EFLAGS: 00010202
[   35.853970] RAX: dffffc0000000000 RBX: ffffea0000768340 RCX: ffffffff81b9e6e9
[   35.854812] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000768350
[   35.855651] RBP: ffff8880145d77f8 R08: 0000000000000000 R09: ffffed1003b0080c
[   35.856325] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.856981] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d804060
[   35.857619] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   35.858337] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.858864] CR2: 00007f730f24e1f0 CR3: 0000000013eaa003 CR4: 0000000000770ef0
[   35.859907] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.860727] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.861379] PKRU: 55555554
[   35.861640] Call Trace:
[   35.861881]  <TASK>
[   35.862099]  ? show_regs+0xa8/0xc0
[   35.862448]  ? die_addr+0x5d/0xf0
[   35.862781]  ? exc_general_protection+0x1ae/0x340
[   35.863273]  ? asm_exc_general_protection+0x2b/0x30
[   35.863770]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.864256]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.864750]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.865247]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.865762]  zap_huge_pmd+0x494/0xd40
[   35.866132]  unmap_page_range+0x1ad6/0x4320
[   35.866554]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.867045]  ? __pfx_unmap_page_range+0x10/0x10
[   35.867495]  unmap_single_vma+0x1ac/0x2d0
[   35.867895]  unmap_vmas+0x210/0x470
[   35.868252]  ? __pfx_unmap_vmas+0x10/0x10
[   35.868638]  ? __pfx_lock_release+0x10/0x10
[   35.869052]  ? lock_release+0x592/0x870
[   35.869426]  ? mas_next_slot+0x133a/0x1a50
[   35.869830]  ? __pfx_lock_release+0x10/0x10
[   35.870235]  ? mlock_drain_local+0x27f/0x4b0
[   35.870652]  exit_mmap+0x19e/0xb10
[   35.871010]  ? __pfx_exit_mmap+0x10/0x10
[   35.871431]  ? trace_hardirqs_on+0x51/0x60
[   35.871851]  ? __khugepaged_exit+0x266/0x4c0
[   35.872268]  ? kmem_cache_free+0x15d/0x420
[   35.872680]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.873205]  __mmput+0xd6/0x390
[   35.873529]  mmput+0x74/0x90
[   35.873824]  do_exit+0xa03/0x29f0
[   35.874165]  ? trace_hardirqs_on+0x51/0x60
[   35.874567]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.875148]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.875616]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.876082]  ? __pfx_do_exit+0x10/0x10
[   35.876452]  ? __audit_syscall_entry+0x39c/0x500
[   35.876906]  __x64_sys_exit+0x50/0x60
[   35.877268]  x64_sys_call+0x20c9/0x20d0
[   35.877645]  do_syscall_64+0x6d/0x140
[   35.878014]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.878500] RIP: 0033:0x7f730f23ee5d
[   35.878853] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   35.879442] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.880144] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   35.880935] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.881782] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   35.882624] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   35.883470] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   35.884337]  </TASK>
[   35.884616] Modules linked in:
[   35.885090] ---[ end trace 0000000000000000 ]---
[   35.885654] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.886368] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.888733] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   35.889370] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   35.890218] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   35.891199] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   35.892052] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.893036] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   35.893896] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   35.894877] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.895569] CR2: 00007f730f24e1f0 CR3: 0000000013eaa003 CR4: 0000000000770ef0
[   35.896417] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.897265] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.898124] PKRU: 55555554
[   35.898462] note: repro[5138] exited with preempt_count 1
[   35.899140] Fixing recursive fault but reboot is needed!
[   35.899774] BUG: scheduling while atomic: repro/5138/0x00000000
[   35.900480] INFO: lockdep is turned off.
[   35.900955] Modules linked in:
[   35.901335] Preemption disabled at:
[   35.901340] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   35.902421] CPU: 1 UID: 0 PID: 5138 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   35.903549] Tainted: [D]=DIE, [W]=WARN
[   35.904008] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.905342] Call Trace:
[   35.905653]  <TASK>
[   35.905928]  dump_stack_lvl+0x121/0x150
[   35.906417]  ? do_task_dead+0x28/0x110
[   35.906888]  dump_stack+0x19/0x20
[   35.907316]  __schedule_bug+0x12d/0x180
[   35.907808]  __schedule+0x210c/0x2eb0
[   35.908267]  ? rcu_is_watching+0x19/0xc0
[   35.908759]  ? lock_release+0x592/0x870
[   35.909236]  ? __pfx___schedule+0x10/0x10
[   35.909738]  ? debug_smp_processor_id+0x20/0x30
[   35.910296]  ? rcu_is_watching+0x19/0xc0
[   35.910785]  ? trace_irq_enable+0xe1/0x120
[   35.911301]  ? do_task_dead+0x4a/0x110
[   35.911785]  do_task_dead+0xe0/0x110
[   35.912244]  make_task_dead+0x384/0x3c0
[   35.912732]  rewind_stack_and_make_dead+0x16/0x20
[   35.913310] RIP: 0033:0x7f730f23ee5d
[   35.913759] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   35.914490] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.915392] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   35.916242] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.917088] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   35.917936] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   35.918781] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   35.919636]  </TASK>
[   36.535549] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#38] PREEMPT SMP KASAN NOPTI
[   36.536719] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.537395] CPU: 0 UID: 0 PID: 5516 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   36.538260] Tainted: [D]=DIE, [W]=WARN
[   36.538629] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.539628] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.540172] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.541867] RSP: 0018:ffff8880113c77d8 EFLAGS: 00010202
[   36.542351] RAX: dffffc0000000000 RBX: ffffea00007cb140 RCX: ffffffff81b9e6e9
[   36.543009] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007cb150
[   36.543656] RBP: ffff8880113c77f8 R08: 0000000000000000 R09: ffffed1003b15a30
[   36.544295] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.544999] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d8ad180
[   36.545637] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.546390] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.546945] CR2: 00007f730f516df0 CR3: 0000000021774001 CR4: 0000000000770ef0
[   36.547625] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.548293] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.548948] PKRU: 55555554
[   36.549224] Call Trace:
[   36.549463]  <TASK>
[   36.549689]  ? show_regs+0xa8/0xc0
[   36.550032]  ? die_addr+0x5d/0xf0
[   36.550379]  ? exc_general_protection+0x1ae/0x340
[   36.550872]  ? asm_exc_general_protection+0x2b/0x30
[   36.551358]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.551905]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.552411]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.552904]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.553383]  zap_huge_pmd+0x494/0xd40
[   36.553759]  unmap_page_range+0x1ad6/0x4320
[   36.554190]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.554717]  ? __pfx_unmap_page_range+0x10/0x10
[   36.555186]  unmap_single_vma+0x1ac/0x2d0
[   36.555582]  unmap_vmas+0x210/0x470
[   36.555939]  ? __pfx_unmap_vmas+0x10/0x10
[   36.556336]  ? __pfx_lock_release+0x10/0x10
[   36.556744]  ? lock_release+0x592/0x870
[   36.557118]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.557600]  ? __pfx_lock_release+0x10/0x10
[   36.558022]  ? mlock_drain_local+0x27f/0x4b0
[   36.558462]  exit_mmap+0x19e/0xb10
[   36.558849]  ? __pfx_exit_mmap+0x10/0x10
[   36.559242]  ? trace_hardirqs_on+0x51/0x60
[   36.559669]  ? __khugepaged_exit+0x266/0x4c0
[   36.560099]  ? kmem_cache_free+0x15d/0x420
[   36.560512]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.561035]  __mmput+0xd6/0x390
[   36.561354]  mmput+0x74/0x90
[   36.561654]  do_exit+0xa03/0x29f0
[   36.562004]  ? trace_hardirqs_on+0x51/0x60
[   36.562423]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.563031]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.563513]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.563989]  ? __pfx_do_exit+0x10/0x10
[   36.564398]  ? __audit_syscall_entry+0x39c/0x500
[   36.564892]  __x64_sys_exit+0x50/0x60
[   36.565284]  x64_sys_call+0x20c9/0x20d0
[   36.565689]  do_syscall_64+0x6d/0x140
[   36.566078]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.566611] RIP: 0033:0x7f730f23ee5d
[   36.567000] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   36.567586] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.568294] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   36.568958] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.569600] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   36.570248] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   36.570901] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   36.571570]  </TASK>
[   36.571791] Modules linked in:
[   36.572329] ---[ end trace 0000000000000000 ]---
[   36.572788] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.573372] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.575301] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   36.575827] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   36.576485] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   36.577148] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   36.577801] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.578623] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   36.579398] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.580195] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.580739] CR2: 00007f730f516df0 CR3: 0000000021774001 CR4: 0000000000770ef0
[   36.581436] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.582276] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.583162] PKRU: 55555554
[   36.583572] note: repro[5516] exited with preempt_count 1
[   36.584320] Fixing recursive fault but reboot is needed!
[   36.584951] BUG: scheduling while atomic: repro/5516/0x00000000
[   36.585653] INFO: lockdep is turned off.
[   36.586125] Modules linked in:
[   36.586526] Preemption disabled at:
[   36.586533] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   36.587611] CPU: 0 UID: 0 PID: 5516 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   36.588724] Tainted: [D]=DIE, [W]=WARN
[   36.589172] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.590494] Call Trace:
[   36.590807]  <TASK>
[   36.591076]  dump_stack_lvl+0x121/0x150
[   36.591730]  ? do_task_dead+0x28/0x110
[   36.592300]  dump_stack+0x19/0x20
[   36.592747]  __schedule_bug+0x12d/0x180
[   36.593233]  __schedule+0x210c/0x2eb0
[   36.593699]  ? rcu_is_watching+0x19/0xc0
[   36.594183]  ? lock_release+0x592/0x870
[   36.594657]  ? __pfx___schedule+0x10/0x10
[   36.595161]  ? debug_smp_processor_id+0x20/0x30
[   36.595716]  ? rcu_is_watching+0x19/0xc0
[   36.596194]  ? trace_irq_enable+0xe1/0x120
[   36.596708]  ? do_task_dead+0x4a/0x110
[   36.597180]  do_task_dead+0xe0/0x110
[   36.597638]  make_task_dead+0x384/0x3c0
[   36.598228]  rewind_stack_and_make_dead+0x16/0x20
[   36.598878] RIP: 0033:0x7f730f23ee5d
[   36.599318] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   36.600043] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.600935] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   36.601772] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.602601] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   36.603435] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   36.604271] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   36.605117]  </TASK>
[   36.674127] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#39] PREEMPT SMP KASAN NOPTI
[   36.675532] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.676536] CPU: 0 UID: 0 PID: 5596 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   36.677649] Tainted: [D]=DIE, [W]=WARN
[   36.678105] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.679415] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.680121] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.682247] RSP: 0018:ffff88801f2577d8 EFLAGS: 00010202
[   36.682908] RAX: dffffc0000000000 RBX: ffffea0000762440 RCX: ffffffff81b9e6e9
[   36.683750] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000762450
[   36.684583] RBP: ffff88801f2577f8 R08: 0000000000000000 R09: ffffed100381d478
[   36.685418] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   36.686255] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0ea3c0
[   36.687152] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.688099] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.688783] CR2: 00007f730f517910 CR3: 00000000215ba004 CR4: 0000000000770ef0
[   36.689618] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.690454] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.691336] PKRU: 55555554
[   36.691669] Call Trace:
[   36.691982]  <TASK>
[   36.692253]  ? show_regs+0xa8/0xc0
[   36.692692]  ? die_addr+0x5d/0xf0
[   36.693134]  ? exc_general_protection+0x1ae/0x340
[   36.693732]  ? asm_exc_general_protection+0x2b/0x30
[   36.694344]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.695069]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.695701]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.696338]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.696974]  zap_huge_pmd+0x494/0xd40
[   36.697444]  unmap_page_range+0x1ad6/0x4320
[   36.697976]  ? __pfx_lock_release+0x10/0x10
[   36.698616]  ? do_raw_spin_trylock+0xbf/0x190
[   36.699227]  ? __kasan_check_read+0x15/0x20
[   36.699759]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.700381]  ? __pfx_unmap_page_range+0x10/0x10
[   36.700961]  unmap_single_vma+0x1ac/0x2d0
[   36.701463]  unmap_vmas+0x210/0x470
[   36.701886]  ? __pfx_unmap_vmas+0x10/0x10
[   36.702353]  ? __pfx_lock_release+0x10/0x10
[   36.702837]  ? lock_release+0x592/0x870
[   36.703281]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.703850]  ? __pfx_lock_release+0x10/0x10
[   36.704337]  ? mlock_drain_local+0x27f/0x4b0
[   36.704843]  exit_mmap+0x19e/0xb10
[   36.705322]  ? __pfx_exit_mmap+0x10/0x10
[   36.705804]  ? trace_hardirqs_on+0x51/0x60
[   36.706302]  ? __khugepaged_exit+0x266/0x4c0
[   36.706815]  ? kmem_cache_free+0x15d/0x420
[   36.707300]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.707925]  __mmput+0xd6/0x390
[   36.708307]  mmput+0x74/0x90
[   36.708650]  do_exit+0xa03/0x29f0
[   36.709059]  ? trace_hardirqs_on+0x51/0x60
[   36.709540]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.710222]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.710761]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.711301]  ? __pfx_do_exit+0x10/0x10
[   36.711979]  ? __audit_syscall_entry+0x39c/0x500
[   36.712640]  __x64_sys_exit+0x50/0x60
[   36.713073]  x64_sys_call+0x20c9/0x20d0
[   36.713520]  do_syscall_64+0x6d/0x140
[   36.713951]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.714517] RIP: 0033:0x7f730f23ee5d
[   36.714920] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   36.715567] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.716368] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   36.717090] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.717906] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   36.718988] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   36.719808] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   36.720541]  </TASK>
[   36.720788] Modules linked in:
[   36.721311] ---[ end trace 0000000000000000 ]---
[   36.721802] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.722403] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.724327] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   36.724852] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   36.725538] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   36.726231] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   36.727184] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.727878] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   36.728564] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.729340] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.729912] CR2: 00007f730f517910 CR3: 00000000215ba004 CR4: 0000000000770ef0
[   36.730710] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.731523] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.732192] PKRU: 55555554
[   36.732602] note: repro[5596] exited with preempt_count 1
[   36.733255] Fixing recursive fault but reboot is needed!
[   36.733753] BUG: scheduling while atomic: repro/5596/0x00000000
[   36.734303] INFO: lockdep is turned off.
[   36.734807] Modules linked in:
[   36.735111] Preemption disabled at:
[   36.735115] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   36.735935] CPU: 0 UID: 0 PID: 5596 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   36.736778] Tainted: [D]=DIE, [W]=WARN
[   36.737116] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.738109] Call Trace:
[   36.738339]  <TASK>
[   36.738542]  dump_stack_lvl+0x121/0x150
[   36.739097]  ? do_task_dead+0x28/0x110
[   36.739479]  dump_stack+0x19/0x20
[   36.739810]  __schedule_bug+0x12d/0x180
[   36.740177]  __schedule+0x210c/0x2eb0
[   36.740509]  ? rcu_is_watching+0x19/0xc0
[   36.740864]  ? lock_release+0x592/0x870
[   36.741209]  ? __pfx___schedule+0x10/0x10
[   36.741568]  ? debug_smp_processor_id+0x20/0x30
[   36.741974]  ? rcu_is_watching+0x19/0xc0
[   36.742320]  ? trace_irq_enable+0xe1/0x120
[   36.742694]  ? do_task_dead+0x4a/0x110
[   36.743038]  do_task_dead+0xe0/0x110
[   36.743370]  make_task_dead+0x384/0x3c0
[   36.743726]  rewind_stack_and_make_dead+0x16/0x20
[   36.744144] RIP: 0033:0x7f730f23ee5d
[   36.744470] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   36.745271] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.745959] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   36.746563] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.747172] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   36.747780] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   36.748370] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   36.748961]  </TASK>
[   36.979116] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#40] PREEMPT SMP KASAN NOPTI
[   36.980549] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.981442] CPU: 0 UID: 0 PID: 5700 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   36.982559] Tainted: [D]=DIE, [W]=WARN
[   36.983013] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.984519] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.985229] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.987366] RSP: 0018:ffff888013c6f7d8 EFLAGS: 00010202
[   36.987996] RAX: dffffc0000000000 RBX: ffffea00009802c0 RCX: ffffffff81b9e6e9
[   36.988833] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009802d0
[   36.989667] RBP: ffff888013c6f7f8 R08: 0000000000000000 R09: ffffed1003b15b5c
[   36.990586] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.991425] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d8adae0
[   36.992259] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.993201] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.994047] CR2: 00007f730f516df0 CR3: 000000001c304005 CR4: 0000000000770ef0
[   36.994925] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.995767] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.996599] PKRU: 55555554
[   36.996933] Call Trace:
[   36.997233]  <TASK>
[   36.997499]  ? show_regs+0xa8/0xc0
[   36.997943]  ? die_addr+0x5d/0xf0
[   36.998370]  ? exc_general_protection+0x1ae/0x340
[   36.998970]  ? asm_exc_general_protection+0x2b/0x30
[   36.999583]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.000390]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.001029]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.001661]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.002307]  zap_huge_pmd+0x494/0xd40
[   37.002788]  unmap_page_range+0x1ad6/0x4320
[   37.003325]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.003947]  ? __pfx_unmap_page_range+0x10/0x10
[   37.004511]  unmap_single_vma+0x1ac/0x2d0
[   37.005018]  unmap_vmas+0x210/0x470
[   37.005470]  ? __pfx_unmap_vmas+0x10/0x10
[   37.005979]  ? __pfx_lock_release+0x10/0x10
[   37.006614]  ? lock_release+0x592/0x870
[   37.007093]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.007720]  ? __pfx_lock_release+0x10/0x10
[   37.008242]  ? mlock_drain_local+0x27f/0x4b0
[   37.008782]  exit_mmap+0x19e/0xb10
[   37.009224]  ? __pfx_exit_mmap+0x10/0x10
[   37.009735]  ? trace_hardirqs_on+0x51/0x60
[   37.010382]  ? __khugepaged_exit+0x266/0x4c0
[   37.010993]  ? kmem_cache_free+0x15d/0x420
[   37.011510]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.012172]  __mmput+0xd6/0x390
[   37.012577]  mmput+0x74/0x90
[   37.012952]  do_exit+0xa03/0x29f0
[   37.013378]  ? trace_hardirqs_on+0x51/0x60
[   37.013889]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.014629]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.015225]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.015816]  ? __pfx_do_exit+0x10/0x10
[   37.016284]  ? __audit_syscall_entry+0x39c/0x500
[   37.016856]  __x64_sys_exit+0x50/0x60
[   37.017313]  x64_sys_call+0x20c9/0x20d0
[   37.017793]  do_syscall_64+0x6d/0x140
[   37.018255]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.018874] RIP: 0033:0x7f730f23ee5d
[   37.019310] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   37.020033] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.020922] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   37.021756] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.022585] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   37.023415] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   37.024248] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   37.025096]  </TASK>
[   37.025372] Modules linked in:
[   37.025989] ---[ end trace 0000000000000000 ]---
[   37.026934] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.027710] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.029869] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   37.030524] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   37.031368] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   37.032210] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   37.033073] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.033960] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   37.034802] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.035711] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.036359] CR2: 00007f730f516df0 CR3: 000000001c304005 CR4: 0000000000770ef0
[   37.037165] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.038077] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.038917] PKRU: 55555554
[   37.039252] note: repro[5700] exited with preempt_count 1
[   37.039871] Fixing recursive fault but reboot is needed!
[   37.040463] BUG: scheduling while atomic: repro/5700/0x00000000
[   37.041129] INFO: lockdep is turned off.
[   37.041694] Modules linked in:
[   37.042046] Preemption disabled at:
[   37.042051] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   37.043050] CPU: 0 UID: 0 PID: 5700 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   37.044064] Tainted: [D]=DIE, [W]=WARN
[   37.044467] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.045653] Call Trace:
[   37.045932]  <TASK>
[   37.046173]  dump_stack_lvl+0x121/0x150
[   37.046881]  ? do_task_dead+0x28/0x110
[   37.047320]  dump_stack+0x19/0x20
[   37.047729]  __schedule_bug+0x12d/0x180
[   37.048182]  __schedule+0x210c/0x2eb0
[   37.048599]  ? rcu_is_watching+0x19/0xc0
[   37.049027]  ? lock_release+0x592/0x870
[   37.049440]  ? __pfx___schedule+0x10/0x10
[   37.049869]  ? debug_smp_processor_id+0x20/0x30
[   37.050346]  ? rcu_is_watching+0x19/0xc0
[   37.050757]  ? trace_irq_enable+0xe1/0x120
[   37.051247]  ? do_task_dead+0x4a/0x110
[   37.051678]  do_task_dead+0xe0/0x110
[   37.052078]  make_task_dead+0x384/0x3c0
[   37.052493]  rewind_stack_and_make_dead+0x16/0x20
[   37.052990] RIP: 0033:0x7f730f23ee5d
[   37.053367] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   37.054000] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.054773] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   37.055484] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.056176] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   37.056977] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   37.057766] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   37.058460]  </TASK>
[   37.534704] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#41] PREEMPT SMP KASAN NOPTI
[   37.535879] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.536552] CPU: 1 UID: 0 PID: 5982 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   37.537398] Tainted: [D]=DIE, [W]=WARN
[   37.537743] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.538713] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.539217] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.540737] RSP: 0018:ffff8880227bf7d8 EFLAGS: 00010202
[   37.541199] RAX: dffffc0000000000 RBX: ffffea00003e9f00 RCX: ffffffff81b9e6e9
[   37.541821] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00003e9f10
[   37.542440] RBP: ffff8880227bf7f8 R08: 0000000000000000 R09: ffffed1002855630
[   37.543084] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   37.543705] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880142ab180
[   37.544337] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   37.545188] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.545757] CR2: 00007f730f51a3f4 CR3: 0000000018c7a003 CR4: 0000000000770ef0
[   37.546532] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.547150] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.547765] PKRU: 55555554
[   37.548010] Call Trace:
[   37.548240]  <TASK>
[   37.548442]  ? show_regs+0xa8/0xc0
[   37.548763]  ? die_addr+0x5d/0xf0
[   37.549061]  ? exc_general_protection+0x1ae/0x340
[   37.549492]  ? asm_exc_general_protection+0x2b/0x30
[   37.549925]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.550404]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.550876]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.551320]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.551772]  zap_huge_pmd+0x494/0xd40
[   37.552106]  unmap_page_range+0x1ad6/0x4320
[   37.552466]  ? __pfx_lock_release+0x10/0x10
[   37.552874]  ? do_raw_spin_trylock+0xbf/0x190
[   37.553366]  ? __kasan_check_read+0x15/0x20
[   37.553840]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.554373]  ? __pfx_unmap_page_range+0x10/0x10
[   37.554871]  unmap_single_vma+0x1ac/0x2d0
[   37.555307]  unmap_vmas+0x210/0x470
[   37.555698]  ? __pfx_unmap_vmas+0x10/0x10
[   37.556129]  ? __pfx_lock_release+0x10/0x10
[   37.556571]  ? lock_release+0x592/0x870
[   37.556983]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.557501]  ? __pfx_lock_release+0x10/0x10
[   37.557954]  ? mlock_drain_local+0x27f/0x4b0
[   37.558412]  exit_mmap+0x19e/0xb10
[   37.558749]  ? __pfx_exit_mmap+0x10/0x10
[   37.559203]  ? trace_hardirqs_on+0x51/0x60
[   37.559591]  ? __khugepaged_exit+0x266/0x4c0
[   37.559960]  ? kmem_cache_free+0x15d/0x420
[   37.560310]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.560757]  __mmput+0xd6/0x390
[   37.561029]  mmput+0x74/0x90
[   37.561280]  do_exit+0xa03/0x29f0
[   37.561567]  ? trace_hardirqs_on+0x51/0x60
[   37.561935]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.562571]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.562960]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.563340]  ? __pfx_do_exit+0x10/0x10
[   37.563651]  ? __audit_syscall_entry+0x39c/0x500
[   37.564032]  __x64_sys_exit+0x50/0x60
[   37.564328]  x64_sys_call+0x20c9/0x20d0
[   37.564636]  do_syscall_64+0x6d/0x140
[   37.564943]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.565342] RIP: 0033:0x7f730f23ee5d
[   37.565619] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   37.566089] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.566654] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   37.567205] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.567746] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   37.568439] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   37.569015] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   37.569666]  </TASK>
[   37.569905] Modules linked in:
[   37.570324] ---[ end trace 0000000000000000 ]---
[   37.570772] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.571202] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.572510] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   37.572892] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   37.573398] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   37.573893] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   37.574381] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.574961] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   37.575460] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   37.576006] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.576398] CR2: 00007f730f51a3f4 CR3: 0000000018c7a003 CR4: 0000000000770ef0
[   37.576885] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.577370] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.577892] PKRU: 55555554
[   37.578157] note: repro[5982] exited with preempt_count 1
[   37.578601] Fixing recursive fault but reboot is needed!
[   37.579039] BUG: scheduling while atomic: repro/5982/0x00000000
[   37.579643] INFO: lockdep is turned off.
[   37.579913] Modules linked in:
[   37.580154] Preemption disabled at:
[   37.580160] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   37.580813] CPU: 1 UID: 0 PID: 5982 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   37.581449] Tainted: [D]=DIE, [W]=WARN
[   37.581702] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.582579] Call Trace:
[   37.582825]  <TASK>
[   37.582996]  dump_stack_lvl+0x121/0x150
[   37.583280]  ? do_task_dead+0x28/0x110
[   37.583557]  dump_stack+0x19/0x20
[   37.583812]  __schedule_bug+0x12d/0x180
[   37.584098]  __schedule+0x210c/0x2eb0
[   37.584363]  ? rcu_is_watching+0x19/0xc0
[   37.584646]  ? lock_release+0x592/0x870
[   37.584915]  ? __pfx___schedule+0x10/0x10
[   37.585194]  ? debug_smp_processor_id+0x20/0x30
[   37.585506]  ? rcu_is_watching+0x19/0xc0
[   37.585779]  ? trace_irq_enable+0xe1/0x120
[   37.586060]  ? do_task_dead+0x4a/0x110
[   37.586317]  do_task_dead+0xe0/0x110
[   37.586564]  make_task_dead+0x384/0x3c0
[   37.586830]  rewind_stack_and_make_dead+0x16/0x20
[   37.587156] RIP: 0033:0x7f730f23ee5d
[   37.587395] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   37.587790] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.588268] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   37.588717] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.589163] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   37.589614] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   37.590060] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   37.590498]  </TASK>
[   37.940499] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#42] PREEMPT SMP KASAN NOPTI
[   37.941944] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.942946] CPU: 0 UID: 0 PID: 6193 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   37.944068] Tainted: [D]=DIE, [W]=WARN
[   37.944526] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.945843] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.946548] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.948686] RSP: 0018:ffff888011d3f7d8 EFLAGS: 00010202
[   37.949309] RAX: dffffc0000000000 RBX: ffffea0000583200 RCX: ffffffff81b9e6e9
[   37.950141] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000583210
[   37.950958] RBP: ffff888011d3f7f8 R08: 0000000000000000 R09: ffffed10042ff320
[   37.951789] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.952615] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880217f9900
[   37.953448] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.954388] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.955053] CR2: 00007ffdcd14bac8 CR3: 0000000011038001 CR4: 0000000000770ef0
[   37.955845] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.956632] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.957417] PKRU: 55555554
[   37.957733] Call Trace:
[   37.958020]  <TASK>
[   37.958275]  ? show_regs+0xa8/0xc0
[   37.958687]  ? die_addr+0x5d/0xf0
[   37.959084]  ? exc_general_protection+0x1ae/0x340
[   37.959637]  ? asm_exc_general_protection+0x2b/0x30
[   37.960534]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.961264]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.961888]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.962476]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.963049]  zap_huge_pmd+0x494/0xd40
[   37.963477]  unmap_page_range+0x1ad6/0x4320
[   37.963967]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.964525]  ? __pfx_unmap_page_range+0x10/0x10
[   37.965038]  unmap_single_vma+0x1ac/0x2d0
[   37.965493]  unmap_vmas+0x210/0x470
[   37.965906]  ? __pfx_unmap_vmas+0x10/0x10
[   37.966360]  ? __pfx_lock_release+0x10/0x10
[   37.966831]  ? lock_release+0x592/0x870
[   37.967267]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.967829]  ? __pfx_lock_release+0x10/0x10
[   37.968302]  ? mlock_drain_local+0x27f/0x4b0
[   37.968794]  exit_mmap+0x19e/0xb10
[   37.969204]  ? __pfx_exit_mmap+0x10/0x10
[   37.969669]  ? trace_hardirqs_on+0x51/0x60
[   37.970142]  ? __khugepaged_exit+0x266/0x4c0
[   37.970603]  ? kmem_cache_free+0x15d/0x420
[   37.971053]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.971723]  __mmput+0xd6/0x390
[   37.972091]  mmput+0x74/0x90
[   37.972414]  do_exit+0xa03/0x29f0
[   37.972786]  ? trace_hardirqs_on+0x51/0x60
[   37.973232]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.973881]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.974390]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.974906]  ? __pfx_do_exit+0x10/0x10
[   37.975411]  ? __audit_syscall_entry+0x39c/0x500
[   37.975914]  __x64_sys_exit+0x50/0x60
[   37.976319]  x64_sys_call+0x20c9/0x20d0
[   37.976737]  do_syscall_64+0x6d/0x140
[   37.977141]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.977681] RIP: 0033:0x7f730f23ee5d
[   37.978053] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   37.978642] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.979381] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   37.980072] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.981186] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   37.981884] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   37.982573] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   37.983276]  </TASK>
[   37.983506] Modules linked in:
[   37.983976] ---[ end trace 0000000000000000 ]---
[   37.984419] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.984973] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.986854] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   37.987519] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   37.988195] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   37.988862] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   37.989522] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.990158] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   37.990882] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.991801] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.992317] CR2: 00007ffdcd14bac8 CR3: 0000000011038001 CR4: 0000000000770ef0
[   37.992958] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.993593] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.994227] PKRU: 55555554
[   37.994493] note: repro[6193] exited with preempt_count 1
[   37.994982] Fixing recursive fault but reboot is needed!
[   37.995437] BUG: scheduling while atomic: repro/6193/0x00000000
[   37.995943] INFO: lockdep is turned off.
[   37.996280] Modules linked in:
[   37.996553] Preemption disabled at:
[   37.996557] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   37.997579] CPU: 0 UID: 0 PID: 6193 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   37.998931] Tainted: [D]=DIE, [W]=WARN
[   37.999292] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.000245] Call Trace:
[   38.000469]  <TASK>
[   38.000679]  dump_stack_lvl+0x121/0x150
[   38.001022]  ? do_task_dead+0x28/0x110
[   38.001352]  dump_stack+0x19/0x20
[   38.001645]  __schedule_bug+0x12d/0x180
[   38.001984]  __schedule+0x210c/0x2eb0
[   38.002300]  ? rcu_is_watching+0x19/0xc0
[   38.002636]  ? lock_release+0x592/0x870
[   38.002969]  ? __pfx___schedule+0x10/0x10
[   38.003313]  ? debug_smp_processor_id+0x20/0x30
[   38.003702]  ? rcu_is_watching+0x19/0xc0
[   38.004036]  ? trace_irq_enable+0xe1/0x120
[   38.004242] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#43] PREEMPT SMP KASAN NOPTI
[   38.004391]  ? do_task_dead+0x4a/0x110
[   38.005641] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.005942]  do_task_dead+0xe0/0x110
[   38.006602] CPU: 1 UID: 0 PID: 6224 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.006887]  make_task_dead+0x384/0x3c0
[   38.007711] Tainted: [D]=DIE, [W]=WARN
[   38.008012]  rewind_stack_and_make_dead+0x16/0x20
[   38.008346] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.008719] RIP: 0033:0x7f730f23ee5d
[   38.009723] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.010009] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.010516] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.010982] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.012574] RSP: 0018:ffff8880216177d8 EFLAGS: 00010202
[   38.013153] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.013162] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.013625] RAX: dffffc0000000000 RBX: ffffea00004d93c0 RCX: ffffffff81b9e6e9
[   38.014408] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.015037] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004d93d0
[   38.015557] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.016186] RBP: ffff8880216177f8 R08: 0000000000000000 R09: ffffed100285a314
[   38.016707] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.017331] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.017861]  </TASK>
[   38.018480] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880142d18a0
[   38.019841] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   38.020756] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.021282] CR2: 00007f88099b7018 CR3: 0000000010650001 CR4: 0000000000770ef0
[   38.021925] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.022559] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.023199] PKRU: 55555554
[   38.023459] Call Trace:
[   38.023697]  <TASK>
[   38.024031]  ? show_regs+0xa8/0xc0
[   38.024545]  ? die_addr+0x5d/0xf0
[   38.024884]  ? exc_general_protection+0x1ae/0x340
[   38.025365]  ? asm_exc_general_protection+0x2b/0x30
[   38.025846]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.026331]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.026817]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.027300]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.027789]  zap_huge_pmd+0x494/0xd40
[   38.028157]  unmap_page_range+0x1ad6/0x4320
[   38.028577]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.029060]  ? __pfx_unmap_page_range+0x10/0x10
[   38.029526]  unmap_single_vma+0x1ac/0x2d0
[   38.030123]  unmap_vmas+0x210/0x470
[   38.030690]  ? __pfx_unmap_vmas+0x10/0x10
[   38.031098]  ? __pfx_lock_release+0x10/0x10
[   38.031509]  ? lock_release+0x592/0x870
[   38.031973]  ? mas_next_slot+0x133a/0x1a50
[   38.032496]  ? __pfx_lock_release+0x10/0x10
[   38.033029]  ? mlock_drain_local+0x27f/0x4b0
[   38.033574]  exit_mmap+0x19e/0xb10
[   38.034025]  ? __pfx_exit_mmap+0x10/0x10
[   38.034535]  ? trace_hardirqs_on+0x51/0x60
[   38.035070]  ? __khugepaged_exit+0x266/0x4c0
[   38.035747]  ? kmem_cache_free+0x15d/0x420
[   38.036214]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.036752]  __mmput+0xd6/0x390
[   38.037076]  mmput+0x74/0x90
[   38.037372]  do_exit+0xa03/0x29f0
[   38.037712]  ? trace_hardirqs_on+0x51/0x60
[   38.038121]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.038711]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.039185]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.039682]  ? __pfx_do_exit+0x10/0x10
[   38.040056]  ? __audit_syscall_entry+0x39c/0x500
[   38.040508]  __x64_sys_exit+0x50/0x60
[   38.040874]  x64_sys_call+0x20c9/0x20d0
[   38.041260]  do_syscall_64+0x6d/0x140
[   38.041626]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.042115] RIP: 0033:0x7f730f23ee5d
[   38.042638] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.043349] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.044082] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.044728] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.045385] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.046038] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.046693] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.047347]  </TASK>
[   38.047566] Modules linked in:
[   38.048124] ---[ end trace 0000000000000000 ]---
[   38.048592] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.049144] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.051303] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   38.052262] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   38.053325] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   38.054207] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   38.054570] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#44] PREEMPT SMP KASAN NOPTI
[   38.055098] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.055766] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.056608] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   38.057019] CPU: 0 UID: 0 PID: 6236 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.057864] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   38.058356] Tainted: [D]=DIE, [W]=WARN
[   38.059270] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.059442] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.060119] CR2: 00007f88099b7018 CR3: 0000000010650001 CR4: 0000000000770ef0
[   38.060689] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.061339] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.061607] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.062243] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.063162] RSP: 0018:ffff8880122277d8 EFLAGS: 00010202
[   38.063186] RAX: dffffc0000000000 RBX: ffffea000039cf00 RCX: ffffffff81b9e6e9
[   38.063816] PKRU: 55555554
[   38.064082] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000039cf10
[   38.064981] note: repro[6224] exited with preempt_count 1
[   38.065121] RBP: ffff8880122277f8 R08: 0000000000000000 R09: ffffed1003f58a24
[   38.065757] Fixing recursive fault but reboot is needed!
[   38.066214] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.067452] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fac5120
[   38.067810] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   38.068210] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.068621] CR2: 00007f88099ef000 CR3: 000000001db32001 CR4: 0000000000770ef0
[   38.069122] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.069474] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.069823] PKRU: 55555554
[   38.069965] Call Trace:
[   38.070095]  <TASK>
[   38.070210]  ? show_regs+0xa8/0xc0
[   38.070400]  ? die_addr+0x5d/0xf0
[   38.070585]  ? exc_general_protection+0x1ae/0x340
[   38.070841]  ? asm_exc_general_protection+0x2b/0x30
[   38.071098]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.071364]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.071625]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.071884]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.072143]  zap_huge_pmd+0x494/0xd40
[   38.072340]  unmap_page_range+0x1ad6/0x4320
[   38.072561]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.072818]  ? __pfx_unmap_page_range+0x10/0x10
[   38.073053]  unmap_single_vma+0x1ac/0x2d0
[   38.073261]  unmap_vmas+0x210/0x470
[   38.073445]  ? __pfx_unmap_vmas+0x10/0x10
[   38.073648]  ? __pfx_lock_release+0x10/0x10
[   38.073865]  ? lock_release+0x592/0x870
[   38.074060]  ? mas_next_slot+0x133a/0x1a50
[   38.074272]  ? __pfx_lock_release+0x10/0x10
[   38.074482]  ? mlock_drain_local+0x27f/0x4b0
[   38.074703]  exit_mmap+0x19e/0xb10
[   38.074881]  ? __pfx_exit_mmap+0x10/0x10
[   38.075086]  ? trace_hardirqs_on+0x51/0x60
[   38.075294]  ? __khugepaged_exit+0x266/0x4c0
[   38.075505]  ? kmem_cache_free+0x15d/0x420
[   38.075712]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.075970]  __mmput+0xd6/0x390
[   38.076133]  mmput+0x74/0x90
[   38.076281]  do_exit+0xa03/0x29f0
[   38.076451]  ? trace_hardirqs_on+0x51/0x60
[   38.076661]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.076957]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.077191]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.077421]  ? __pfx_do_exit+0x10/0x10
[   38.077606]  ? __audit_syscall_entry+0x39c/0x500
[   38.077836]  __x64_sys_exit+0x50/0x60
[   38.078019]  x64_sys_call+0x20c9/0x20d0
[   38.078203]  do_syscall_64+0x6d/0x140
[   38.078387]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.078624] RIP: 0033:0x7f730f23ee5d
[   38.078797] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.079070] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.079408] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.079731] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.080054] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.080368] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.080691] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.081018]  </TASK>
[   38.081125] Modules linked in:
[   38.081417] ---[ end trace 0000000000000000 ]---
[   38.081661] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.081935] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.082844] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   38.083087] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   38.083399] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   38.083717] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   38.084025] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.084326] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   38.084627] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   38.084974] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.085224] CR2: 00007f88099ef000 CR3: 000000001db32001 CR4: 0000000000770ef0
[   38.085533] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.085838] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.086142] PKRU: 55555554
[   38.086268] note: repro[6236] exited with preempt_count 1
[   38.086603] Fixing recursive fault but reboot is needed!
[   38.086842] BUG: scheduling while atomic: repro/6236/0x00000000
[   38.087161] INFO: lockdep is turned off.
[   38.087384] Modules linked in:
[   38.087558] Preemption disabled at:
[   38.087561] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   38.087988] CPU: 0 UID: 0 PID: 6236 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.088411] Tainted: [D]=DIE, [W]=WARN
[   38.088591] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.089116] Call Trace:
[   38.089241]  <TASK>
[   38.089347]  dump_stack_lvl+0x121/0x150
[   38.089545]  ? do_task_dead+0x28/0x110
[   38.089762]  dump_stack+0x19/0x20
[   38.089946]  __schedule_bug+0x12d/0x180
[   38.090135]  __schedule+0x210c/0x2eb0
[   38.090302]  ? rcu_is_watching+0x19/0xc0
[   38.090478]  ? lock_release+0x592/0x870
[   38.090648]  ? __pfx___schedule+0x10/0x10
[   38.090827]  ? debug_smp_processor_id+0x20/0x30
[   38.091030]  ? rcu_is_watching+0x19/0xc0
[   38.091203]  ? trace_irq_enable+0xe1/0x120
[   38.091389]  ? do_task_dead+0x4a/0x110
[   38.091559]  do_task_dead+0xe0/0x110
[   38.091727]  make_task_dead+0x384/0x3c0
[   38.091902]  rewind_stack_and_make_dead+0x16/0x20
[   38.092105] RIP: 0033:0x7f730f23ee5d
[   38.092264] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.092519] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.092836] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.093132] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.093426] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.093725] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.094023] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.094323]  </TASK>
[   38.286140] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#45] PREEMPT SMP KASAN NOPTI
[   38.287114] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.287708] CPU: 0 UID: 0 PID: 6308 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.288445] Tainted: [D]=DIE, [W]=WARN
[   38.288752] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.289629] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.290109] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.291525] RSP: 0018:ffff8880141777d8 EFLAGS: 00010202
[   38.291956] RAX: dffffc0000000000 RBX: ffffea0000894400 RCX: ffffffff81b9e6e9
[   38.292513] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000894410
[   38.293047] RBP: ffff8880141777f8 R08: 0000000000000000 R09: ffffed1003b00b98
[   38.293579] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.294116] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d805cc0
[   38.294649] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   38.295256] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.295703] CR2: 00007f730f52b000 CR3: 0000000013ff6004 CR4: 0000000000770ef0
[   38.296248] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.296793] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.297331] PKRU: 55555554
[   38.297545] Call Trace:
[   38.297747]  <TASK>
[   38.297922]  ? show_regs+0xa8/0xc0
[   38.298205]  ? die_addr+0x5d/0xf0
[   38.298495]  ? exc_general_protection+0x1ae/0x340
[   38.298901]  ? asm_exc_general_protection+0x2b/0x30
[   38.299310]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.299735]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.300157]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.300548]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.300937]  zap_huge_pmd+0x494/0xd40
[   38.301228]  unmap_page_range+0x1ad6/0x4320
[   38.301558]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.301942]  ? __pfx_unmap_page_range+0x10/0x10
[   38.302295]  unmap_single_vma+0x1ac/0x2d0
[   38.302609]  unmap_vmas+0x210/0x470
[   38.302890]  ? __pfx_unmap_vmas+0x10/0x10
[   38.303197]  ? __pfx_lock_release+0x10/0x10
[   38.303512]  ? lock_release+0x592/0x870
[   38.303806]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.304179]  ? __pfx_lock_release+0x10/0x10
[   38.304500]  ? mlock_drain_local+0x27f/0x4b0
[   38.304834]  exit_mmap+0x19e/0xb10
[   38.305109]  ? __pfx_exit_mmap+0x10/0x10
[   38.305419]  ? trace_hardirqs_on+0x51/0x60
[   38.305749]  ? __khugepaged_exit+0x266/0x4c0
[   38.306077]  ? kmem_cache_free+0x15d/0x420
[   38.306394]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.306804]  __mmput+0xd6/0x390
[   38.307056]  mmput+0x74/0x90
[   38.307276]  do_exit+0xa03/0x29f0
[   38.307527]  ? trace_hardirqs_on+0x51/0x60
[   38.307836]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.308273]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.308621]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.308974]  ? __pfx_do_exit+0x10/0x10
[   38.309254]  ? __audit_syscall_entry+0x39c/0x500
[   38.309593]  __x64_sys_exit+0x50/0x60
[   38.309874]  x64_sys_call+0x20c9/0x20d0
[   38.310157]  do_syscall_64+0x6d/0x140
[   38.310434]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.310844] RIP: 0033:0x7f730f23ee5d
[   38.311129] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.311558] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.312089] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.312579] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.313074] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.313567] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.314068] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.314570]  </TASK>
[   38.314740] Modules linked in:
[   38.315028] ---[ end trace 0000000000000000 ]---
[   38.315356] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.315758] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.316974] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   38.317331] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   38.317806] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   38.318277] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   38.318763] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.319236] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   38.319711] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   38.320242] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.320625] CR2: 00007f730f52b000 CR3: 0000000013ff6004 CR4: 0000000000770ef0
[   38.321098] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.321551] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.322005] PKRU: 55555554
[   38.322190] note: repro[6308] exited with preempt_count 1
[   38.322554] Fixing recursive fault but reboot is needed!
[   38.322908] check_preemption_disabled: 11 callbacks suppressed
[   38.322915] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6308
[   38.323766] caller is debug_smp_processor_id+0x20/0x30
[   38.324121] CPU: 0 UID: 0 PID: 6308 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.324722] Tainted: [D]=DIE, [W]=WARN
[   38.324970] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.325700] Call Trace:
[   38.325870]  <TASK>
[   38.326015]  dump_stack_lvl+0x121/0x150
[   38.326278]  dump_stack+0x19/0x20
[   38.326511]  check_preemption_disabled+0x168/0x180
[   38.326835]  debug_smp_processor_id+0x20/0x30
[   38.327122]  __schedule+0x9a/0x2eb0
[   38.327358]  ? rcu_is_watching+0x19/0xc0
[   38.327621]  ? lock_release+0x592/0x870
[   38.327883]  ? __pfx___schedule+0x10/0x10
[   38.328155]  ? debug_smp_processor_id+0x20/0x30
[   38.328452]  ? rcu_is_watching+0x19/0xc0
[   38.328712]  ? trace_irq_enable+0xe1/0x120
[   38.328985]  ? do_task_dead+0x4a/0x110
[   38.329247]  do_task_dead+0xe0/0x110
[   38.329502]  make_task_dead+0x384/0x3c0
[   38.329775]  rewind_stack_and_make_dead+0x16/0x20
[   38.330089] RIP: 0033:0x7f730f23ee5d
[   38.330461] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.330959] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.331475] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.332098] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.332692] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.333125] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.333551] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.333984]  </TASK>
[   38.334290] BUG: scheduling while atomic: repro/6308/0x00000000
[   38.334813] INFO: lockdep is turned off.
[   38.335051] Modules linked in:
[   38.335248] Preemption disabled at:
[   38.335252] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   38.335811] CPU: 0 UID: 0 PID: 6308 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.336376] Tainted: [D]=DIE, [W]=WARN
[   38.336606] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.337285] Call Trace:
[   38.337448]  <TASK>
[   38.337586]  dump_stack_lvl+0x121/0x150
[   38.337840]  ? do_task_dead+0x28/0x110
[   38.338080]  dump_stack+0x19/0x20
[   38.338293]  __schedule_bug+0x12d/0x180
[   38.338541]  __schedule+0x210c/0x2eb0
[   38.338772]  ? rcu_is_watching+0x19/0xc0
[   38.339008]  ? lock_release+0x592/0x870
[   38.339245]  ? __pfx___schedule+0x10/0x10
[   38.339491]  ? debug_smp_processor_id+0x20/0x30
[   38.339765]  ? rcu_is_watching+0x19/0xc0
[   38.340002]  ? trace_irq_enable+0xe1/0x120
[   38.340254]  ? do_task_dead+0x4a/0x110
[   38.340489]  do_task_dead+0xe0/0x110
[   38.340718]  make_task_dead+0x384/0x3c0
[   38.340960]  rewind_stack_and_make_dead+0x16/0x20
[   38.341246] RIP: 0033:0x7f730f23ee5d
[   38.341464] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.341822] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.342259] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.342680] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.343076] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.343474] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.343867] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.344269]  </TASK>
[   38.747406] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#46] PREEMPT SMP KASAN NOPTI
[   38.747938] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.748265] CPU: 1 UID: 0 PID: 6564 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.748666] Tainted: [D]=DIE, [W]=WARN
[   38.748827] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.749299] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.749560] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.750349] RSP: 0018:ffff8880136477d8 EFLAGS: 00010202
[   38.750577] RAX: dffffc0000000000 RBX: ffffea0000639bc0 RCX: ffffffff81b9e6e9
[   38.750884] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000639bd0
[   38.751191] RBP: ffff8880136477f8 R08: 0000000000000000 R09: ffffed1003b7ba30
[   38.751497] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   38.751802] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801dbdd180
[   38.752109] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   38.752450] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.752704] CR2: 00007ffdcd14bac8 CR3: 0000000016328004 CR4: 0000000000770ef0
[   38.753009] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.753317] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.753623] PKRU: 55555554
[   38.753752] Call Trace:
[   38.753866]  <TASK>
[   38.753967]  ? show_regs+0xa8/0xc0
[   38.754133]  ? die_addr+0x5d/0xf0
[   38.754290]  ? exc_general_protection+0x1ae/0x340
[   38.754508]  ? asm_exc_general_protection+0x2b/0x30
[   38.754737]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.754965]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.755197]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.755429]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.755659]  zap_huge_pmd+0x494/0xd40
[   38.755833]  unmap_page_range+0x1ad6/0x4320
[   38.756027]  ? __pfx_lock_release+0x10/0x10
[   38.756218]  ? do_raw_spin_trylock+0xbf/0x190
[   38.756419]  ? __kasan_check_read+0x15/0x20
[   38.756615]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.756844]  ? __pfx_unmap_page_range+0x10/0x10
[   38.757056]  unmap_single_vma+0x1ac/0x2d0
[   38.757245]  unmap_vmas+0x210/0x470
[   38.757410]  ? __pfx_unmap_vmas+0x10/0x10
[   38.757598]  ? __pfx_lock_release+0x10/0x10
[   38.757787]  ? lock_release+0x592/0x870
[   38.757961]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.758181]  ? __pfx_lock_release+0x10/0x10
[   38.758371]  ? mlock_drain_local+0x27f/0x4b0
[   38.758567]  exit_mmap+0x19e/0xb10
[   38.758732]  ? __pfx_exit_mmap+0x10/0x10
[   38.758922]  ? trace_hardirqs_on+0x51/0x60
[   38.759121]  ? __khugepaged_exit+0x266/0x4c0
[   38.759319]  ? kmem_cache_free+0x15d/0x420
[   38.759526]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.759784]  __mmput+0xd6/0x390
[   38.759938]  mmput+0x74/0x90
[   38.760077]  do_exit+0xa03/0x29f0
[   38.760234]  ? trace_hardirqs_on+0x51/0x60
[   38.760424]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.760699]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.760921]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.761137]  ? __pfx_do_exit+0x10/0x10
[   38.761312]  ? __audit_syscall_entry+0x39c/0x500
[   38.761524]  __x64_sys_exit+0x50/0x60
[   38.761697]  x64_sys_call+0x20c9/0x20d0
[   38.761874]  do_syscall_64+0x6d/0x140
[   38.762045]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.762269] RIP: 0033:0x7f730f23ee5d
[   38.762431] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.762695] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.763023] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.763327] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.763634] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.763943] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.764247] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.764557]  </TASK>
[   38.764663] Modules linked in:
[   38.764918] ---[ end trace 0000000000000000 ]---
[   38.765126] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.765382] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.766213] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   38.766446] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   38.766840] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   38.767160] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   38.767477] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.767796] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   38.768118] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   38.768467] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.768737] CR2: 00007ffdcd14bac8 CR3: 0000000016328004 CR4: 0000000000770ef0
[   38.769050] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.769365] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.769674] PKRU: 55555554
[   38.769797] note: repro[6564] exited with preempt_count 1
[   38.770028] Fixing recursive fault but reboot is needed!
[   38.770255] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6564
[   38.770655] caller is debug_smp_processor_id+0x20/0x30
[   38.770890] CPU: 1 UID: 0 PID: 6564 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.771297] Tainted: [D]=DIE, [W]=WARN
[   38.771465] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.771949] Call Trace:
[   38.772062]  <TASK>
[   38.772160]  dump_stack_lvl+0x121/0x150
[   38.772342]  dump_stack+0x19/0x20
[   38.772501]  check_preemption_disabled+0x168/0x180
[   38.772720]  debug_smp_processor_id+0x20/0x30
[   38.772918]  __schedule+0x9a/0x2eb0
[   38.773082]  ? rcu_is_watching+0x19/0xc0
[   38.773267]  ? lock_release+0x592/0x870
[   38.773446]  ? __pfx___schedule+0x10/0x10
[   38.773629]  ? debug_smp_processor_id+0x20/0x30
[   38.773832]  ? rcu_is_watching+0x19/0xc0
[   38.774009]  ? trace_irq_enable+0xe1/0x120
[   38.774201]  ? do_task_dead+0x4a/0x110
[   38.774383]  do_task_dead+0xe0/0x110
[   38.774553]  make_task_dead+0x384/0x3c0
[   38.774734]  rewind_stack_and_make_dead+0x16/0x20
[   38.774946] RIP: 0033:0x7f730f23ee5d
[   38.775112] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.775379] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.775707] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.776014] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.776322] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.776628] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.776937] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.777248]  </TASK>
[   38.777423] BUG: scheduling while atomic: repro/6564/0x00000000
[   38.777691] INFO: lockdep is turned off.
[   38.777864] Modules linked in:
[   38.778007] Preemption disabled at:
[   38.778009] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   38.778411] CPU: 1 UID: 0 PID: 6564 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   38.778822] Tainted: [D]=DIE, [W]=WARN
[   38.778988] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.779468] Call Trace:
[   38.779579]  <TASK>
[   38.779682]  dump_stack_lvl+0x121/0x150
[   38.779861]  ? do_task_dead+0x28/0x110
[   38.780035]  dump_stack+0x19/0x20
[   38.780192]  __schedule_bug+0x12d/0x180
[   38.780375]  __schedule+0x210c/0x2eb0
[   38.780558]  ? rcu_is_watching+0x19/0xc0
[   38.780742]  ? lock_release+0x592/0x870
[   38.780918]  ? __pfx___schedule+0x10/0x10
[   38.781102]  ? debug_smp_processor_id+0x20/0x30
[   38.781315]  ? rcu_is_watching+0x19/0xc0
[   38.781503]  ? trace_irq_enable+0xe1/0x120
[   38.781711]  ? do_task_dead+0x4a/0x110
[   38.781892]  do_task_dead+0xe0/0x110
[   38.782074]  make_task_dead+0x384/0x3c0
[   38.782266]  rewind_stack_and_make_dead+0x16/0x20
[   38.782478] RIP: 0033:0x7f730f23ee5d
[   38.782645] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   38.782925] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.783262] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   38.783582] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.783908] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   38.784228] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   38.784544] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   38.784859]  </TASK>
[   39.217331] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#47] PREEMPT SMP KASAN NOPTI
[   39.218274] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.218958] CPU: 0 UID: 0 PID: 6887 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.219736] Tainted: [D]=DIE, [W]=WARN
[   39.220043] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.220958] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.221429] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.222824] RSP: 0018:ffff88801f9e77d8 EFLAGS: 00010202
[   39.223232] RAX: dffffc0000000000 RBX: ffffea00005b9080 RCX: ffffffff81b9e6e9
[   39.223808] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00005b9090
[   39.224587] RBP: ffff88801f9e77f8 R08: 0000000000000000 R09: ffffed10027a9338
[   39.225115] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.225662] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013d499c0
[   39.226200] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   39.226793] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.227220] CR2: 00007f730f3fca50 CR3: 0000000011f5a006 CR4: 0000000000770ef0
[   39.227771] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.228460] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.229123] PKRU: 55555554
[   39.229388] Call Trace:
[   39.229629]  <TASK>
[   39.229849]  ? show_regs+0xa8/0xc0
[   39.230344]  ? die_addr+0x5d/0xf0
[   39.230827]  ? exc_general_protection+0x1ae/0x340
[   39.231293]  ? asm_exc_general_protection+0x2b/0x30
[   39.231774]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.232267]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.232768]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.233260]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.233757]  zap_huge_pmd+0x494/0xd40
[   39.234126]  unmap_page_range+0x1ad6/0x4320
[   39.234548]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.235024]  ? __pfx_unmap_page_range+0x10/0x10
[   39.235455]  unmap_single_vma+0x1ac/0x2d0
[   39.235840]  unmap_vmas+0x210/0x470
[   39.236181]  ? __pfx_unmap_vmas+0x10/0x10
[   39.236720]  ? __pfx_lock_release+0x10/0x10
[   39.237201]  ? lock_release+0x592/0x870
[   39.237561]  ? mas_next_slot+0x133a/0x1a50
[   39.237953]  ? __pfx_lock_release+0x10/0x10
[   39.238347]  ? mlock_drain_local+0x27f/0x4b0
[   39.238767]  exit_mmap+0x19e/0xb10
[   39.239103]  ? __pfx_exit_mmap+0x10/0x10
[   39.239485]  ? trace_hardirqs_on+0x51/0x60
[   39.239881]  ? __khugepaged_exit+0x266/0x4c0
[   39.240267]  ? kmem_cache_free+0x15d/0x420
[   39.240640]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.241118]  __mmput+0xd6/0x390
[   39.241409]  mmput+0x74/0x90
[   39.241687]  do_exit+0xa03/0x29f0
[   39.241944]  ? trace_hardirqs_on+0x51/0x60
[   39.242235]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.242952]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.243480]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.243922]  ? __pfx_do_exit+0x10/0x10
[   39.244267]  ? __audit_syscall_entry+0x39c/0x500
[   39.244687]  __x64_sys_exit+0x50/0x60
[   39.245025]  x64_sys_call+0x20c9/0x20d0
[   39.245371]  do_syscall_64+0x6d/0x140
[   39.245714]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.246164] RIP: 0033:0x7f730f23ee5d
[   39.246472] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.246979] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.247602] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.248185] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.248815] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.249581] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.250183] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.250763]  </TASK>
[   39.250952] Modules linked in:
[   39.251350] ---[ end trace 0000000000000000 ]---
[   39.251731] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.252192] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.253309] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   39.253622] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   39.254046] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   39.254464] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   39.254997] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.255692] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   39.256119] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   39.256600] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.256964] CR2: 00007f730f3fca50 CR3: 0000000011f5a006 CR4: 0000000000770ef0
[   39.257380] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.257786] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.258184] PKRU: 55555554
[   39.258347] note: repro[6887] exited with preempt_count 1
[   39.258759] Fixing recursive fault but reboot is needed!
[   39.259064] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6887
[   39.259498] caller is debug_smp_processor_id+0x20/0x30
[   39.259796] CPU: 0 UID: 0 PID: 6887 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.260319] Tainted: [D]=DIE, [W]=WARN
[   39.260529] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.261357] Call Trace:
[   39.261652]  <TASK>
[   39.261927]  dump_stack_lvl+0x121/0x150
[   39.262417]  dump_stack+0x19/0x20
[   39.262847]  check_preemption_disabled+0x168/0x180
[   39.263334]  debug_smp_processor_id+0x20/0x30
[   39.263670]  __schedule+0x9a/0x2eb0
[   39.263947]  ? rcu_is_watching+0x19/0xc0
[   39.264249]  ? lock_release+0x592/0x870
[   39.264547]  ? __pfx___schedule+0x10/0x10
[   39.264859]  ? debug_smp_processor_id+0x20/0x30
[   39.265210]  ? rcu_is_watching+0x19/0xc0
[   39.265511]  ? trace_irq_enable+0xe1/0x120
[   39.265833]  ? do_task_dead+0x4a/0x110
[   39.266128]  do_task_dead+0xe0/0x110
[   39.266403]  make_task_dead+0x384/0x3c0
[   39.266697]  rewind_stack_and_make_dead+0x16/0x20
[   39.267049] RIP: 0033:0x7f730f23ee5d
[   39.267314] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.267752] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.268287] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.268793] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.269296] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.269785] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.270274] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.270772]  </TASK>
[   39.270984] BUG: scheduling while atomic: repro/6887/0x00000000
[   39.271396] INFO: lockdep is turned off.
[   39.271680] Modules linked in:
[   39.271903] Preemption disabled at:
[   39.271906] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   39.272530] CPU: 0 UID: 0 PID: 6887 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.273185] Tainted: [D]=DIE, [W]=WARN
[   39.273450] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.274210] Call Trace:
[   39.274388]  <TASK>
[   39.274540]  dump_stack_lvl+0x121/0x150
[   39.274901]  ? do_task_dead+0x28/0x110
[   39.275214]  dump_stack+0x19/0x20
[   39.275497]  __schedule_bug+0x12d/0x180
[   39.275811]  __schedule+0x210c/0x2eb0
[   39.276099]  ? rcu_is_watching+0x19/0xc0
[   39.276417]  ? lock_release+0x592/0x870
[   39.276734]  ? __pfx___schedule+0x10/0x10
[   39.277050]  ? debug_smp_processor_id+0x20/0x30
[   39.277403]  ? rcu_is_watching+0x19/0xc0
[   39.277714]  ? trace_irq_enable+0xe1/0x120
[   39.278044]  ? do_task_dead+0x4a/0x110
[   39.278352]  do_task_dead+0xe0/0x110
[   39.278648]  make_task_dead+0x384/0x3c0
[   39.278971]  rewind_stack_and_make_dead+0x16/0x20
[   39.279483] RIP: 0033:0x7f730f23ee5d
[   39.279871] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.280329] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.280898] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.281432] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.281981] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.282510] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.283022] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.283534]  </TASK>
[   39.555757] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#48] PREEMPT SMP KASAN NOPTI
[   39.556617] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.557157] CPU: 1 UID: 0 PID: 7070 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.558052] Tainted: [D]=DIE, [W]=WARN
[   39.558402] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.559133] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.559529] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.560670] RSP: 0018:ffff8880215377d8 EFLAGS: 00010202
[   39.561013] RAX: dffffc0000000000 RBX: ffffea0000702d80 RCX: ffffffff81b9e6e9
[   39.561463] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000702d90
[   39.561917] RBP: ffff8880215377f8 R08: 0000000000000000 R09: ffffed10023f9054
[   39.562369] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   39.562821] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011fc82a0
[   39.563268] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   39.563775] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.564141] CR2: 00007f730f3fca50 CR3: 000000001c180003 CR4: 0000000000770ef0
[   39.564716] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.565290] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.565751] PKRU: 55555554
[   39.565930] Call Trace:
[   39.566097]  <TASK>
[   39.566246]  ? show_regs+0xa8/0xc0
[   39.566477]  ? die_addr+0x5d/0xf0
[   39.566705]  ? exc_general_protection+0x1ae/0x340
[   39.567018]  ? asm_exc_general_protection+0x2b/0x30
[   39.567384]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.567826]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.568230]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.568618]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.568959]  zap_huge_pmd+0x494/0xd40
[   39.569204]  unmap_page_range+0x1ad6/0x4320
[   39.569470]  ? __pfx_lock_release+0x10/0x10
[   39.569740]  ? do_raw_spin_trylock+0xbf/0x190
[   39.570023]  ? __kasan_check_read+0x15/0x20
[   39.570293]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.570613]  ? __pfx_unmap_page_range+0x10/0x10
[   39.570916]  unmap_single_vma+0x1ac/0x2d0
[   39.571255]  unmap_vmas+0x210/0x470
[   39.571495]  ? __pfx_unmap_vmas+0x10/0x10
[   39.571825]  ? __pfx_lock_release+0x10/0x10
[   39.572174]  ? lock_release+0x592/0x870
[   39.572464]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   39.572791]  ? __pfx_lock_release+0x10/0x10
[   39.573049]  ? mlock_drain_local+0x27f/0x4b0
[   39.573317]  exit_mmap+0x19e/0xb10
[   39.573540]  ? __pfx_exit_mmap+0x10/0x10
[   39.573797]  ? trace_hardirqs_on+0x51/0x60
[   39.574161]  ? __khugepaged_exit+0x266/0x4c0
[   39.574572]  ? kmem_cache_free+0x15d/0x420
[   39.574976]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.575416]  __mmput+0xd6/0x390
[   39.575619]  mmput+0x74/0x90
[   39.575809]  do_exit+0xa03/0x29f0
[   39.576022]  ? trace_hardirqs_on+0x51/0x60
[   39.576276]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.576634]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.576926]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.577210]  ? __pfx_do_exit+0x10/0x10
[   39.577436]  ? __audit_syscall_entry+0x39c/0x500
[   39.577715]  __x64_sys_exit+0x50/0x60
[   39.578003]  x64_sys_call+0x20c9/0x20d0
[   39.578258]  do_syscall_64+0x6d/0x140
[   39.578515]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.578929] RIP: 0033:0x7f730f23ee5d
[   39.579218] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.579645] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.580076] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.580470] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.580868] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.581263] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.581648] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.582041]  </TASK>
[   39.582171] Modules linked in:
[   39.582409] ---[ end trace 0000000000000000 ]---
[   39.582682] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.583012] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.584149] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   39.584630] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   39.585273] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   39.585690] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   39.586224] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.586712] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   39.587089] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   39.587505] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.587813] CR2: 00007f730f3fca50 CR3: 000000001c180003 CR4: 0000000000770ef0
[   39.588184] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.588554] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.588928] PKRU: 55555554
[   39.589085] note: repro[7070] exited with preempt_count 1
[   39.589369] Fixing recursive fault but reboot is needed!
[   39.589647] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7070
[   39.590169] caller is debug_smp_processor_id+0x20/0x30
[   39.590670] CPU: 1 UID: 0 PID: 7070 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.591392] Tainted: [D]=DIE, [W]=WARN
[   39.591588] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.592157] Call Trace:
[   39.592296]  <TASK>
[   39.592416]  dump_stack_lvl+0x121/0x150
[   39.592631]  dump_stack+0x19/0x20
[   39.592824]  check_preemption_disabled+0x168/0x180
[   39.593081]  debug_smp_processor_id+0x20/0x30
[   39.593316]  __schedule+0x9a/0x2eb0
[   39.593508]  ? rcu_is_watching+0x19/0xc0
[   39.593724]  ? lock_release+0x592/0x870
[   39.593931]  ? __pfx___schedule+0x10/0x10
[   39.594147]  ? debug_smp_processor_id+0x20/0x30
[   39.594389]  ? rcu_is_watching+0x19/0xc0
[   39.594600]  ? trace_irq_enable+0xe1/0x120
[   39.594865]  ? do_task_dead+0x4a/0x110
[   39.595096]  do_task_dead+0xe0/0x110
[   39.595435]  make_task_dead+0x384/0x3c0
[   39.595715]  rewind_stack_and_make_dead+0x16/0x20
[   39.596046] RIP: 0033:0x7f730f23ee5d
[   39.596300] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.596714] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.597214] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.597687] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.598155] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.598625] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.599097] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.599575]  </TASK>
[   39.599869] BUG: scheduling while atomic: repro/7070/0x00000000
[   39.600553] INFO: lockdep is turned off.
[   39.601008] Modules linked in:
[   39.601360] Preemption disabled at:
[   39.601363] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   39.602051] CPU: 1 UID: 0 PID: 7070 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.602760] Tainted: [D]=DIE, [W]=WARN
[   39.603006] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.603733] Call Trace:
[   39.603899]  <TASK>
[   39.604046]  dump_stack_lvl+0x121/0x150
[   39.604311]  ? do_task_dead+0x28/0x110
[   39.604774]  dump_stack+0x19/0x20
[   39.605007]  __schedule_bug+0x12d/0x180
[   39.605275]  __schedule+0x210c/0x2eb0
[   39.605524]  ? rcu_is_watching+0x19/0xc0
[   39.605790]  ? lock_release+0x592/0x870
[   39.606049]  ? __pfx___schedule+0x10/0x10
[   39.606319]  ? debug_smp_processor_id+0x20/0x30
[   39.606694]  ? rcu_is_watching+0x19/0xc0
[   39.607139]  ? trace_irq_enable+0xe1/0x120
[   39.607514]  ? do_task_dead+0x4a/0x110
[   39.607864]  do_task_dead+0xe0/0x110
[   39.608176]  make_task_dead+0x384/0x3c0
[   39.608431]  rewind_stack_and_make_dead+0x16/0x20
[   39.608736] RIP: 0033:0x7f730f23ee5d
[   39.608992] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.609472] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.609939] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.610369] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.610801] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.611372] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.611804] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.612241]  </TASK>
[   39.791026] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#49] PREEMPT SMP KASAN NOPTI
[   39.792041] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.792667] CPU: 1 UID: 0 PID: 7193 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.793459] Tainted: [D]=DIE, [W]=WARN
[   39.793779] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.794642] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.795030] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.796128] RSP: 0018:ffff88800fa977d8 EFLAGS: 00010202
[   39.796450] RAX: dffffc0000000000 RBX: ffffea0000987c00 RCX: ffffffff81b9e6e9
[   39.796878] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000987c10
[   39.797310] RBP: ffff88800fa977f8 R08: 0000000000000000 R09: ffffed100273c684
[   39.797742] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   39.798170] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880139e3420
[   39.798601] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   39.799093] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.799445] CR2: 00007ffdcd14bac8 CR3: 00000000130cc002 CR4: 0000000000770ef0
[   39.799883] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.800310] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.800723] PKRU: 55555554
[   39.800889] Call Trace:
[   39.801042]  <TASK>
[   39.801180]  ? show_regs+0xa8/0xc0
[   39.801398]  ? die_addr+0x5d/0xf0
[   39.801611]  ? exc_general_protection+0x1ae/0x340
[   39.801913]  ? asm_exc_general_protection+0x2b/0x30
[   39.802220]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.802533]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.802850]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.803160]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.803472]  zap_huge_pmd+0x494/0xd40
[   39.803716]  unmap_page_range+0x1ad6/0x4320
[   39.803974]  ? __pfx_lock_release+0x10/0x10
[   39.804227]  ? do_raw_spin_trylock+0xbf/0x190
[   39.804497]  ? __kasan_check_read+0x15/0x20
[   39.804755]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.805052]  ? __pfx_unmap_page_range+0x10/0x10
[   39.805333]  unmap_single_vma+0x1ac/0x2d0
[   39.805582]  unmap_vmas+0x210/0x470
[   39.805801]  ? __pfx_unmap_vmas+0x10/0x10
[   39.806041]  ? __pfx_lock_release+0x10/0x10
[   39.806285]  ? lock_release+0x592/0x870
[   39.806511]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   39.806804]  ? __pfx_lock_release+0x10/0x10
[   39.807053]  ? mlock_drain_local+0x27f/0x4b0
[   39.807315]  exit_mmap+0x19e/0xb10
[   39.807528]  ? __pfx_exit_mmap+0x10/0x10
[   39.807775]  ? trace_hardirqs_on+0x51/0x60
[   39.808025]  ? __khugepaged_exit+0x266/0x4c0
[   39.808278]  ? kmem_cache_free+0x15d/0x420
[   39.808525]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.808841]  __mmput+0xd6/0x390
[   39.809036]  mmput+0x74/0x90
[   39.809215]  do_exit+0xa03/0x29f0
[   39.809420]  ? trace_hardirqs_on+0x51/0x60
[   39.809667]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.810026]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.810299]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.810573]  ? __pfx_do_exit+0x10/0x10
[   39.810796]  ? __audit_syscall_entry+0x39c/0x500
[   39.811064]  __x64_sys_exit+0x50/0x60
[   39.811282]  x64_sys_call+0x20c9/0x20d0
[   39.811503]  do_syscall_64+0x6d/0x140
[   39.811725]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.812010] RIP: 0033:0x7f730f23ee5d
[   39.812214] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.812545] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.812957] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.813340] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.813725] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.814108] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.814490] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.814888]  </TASK>
[   39.815018] Modules linked in:
[   39.815367] ---[ end trace 0000000000000000 ]---
[   39.815620] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.815938] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.816893] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   39.817174] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   39.817548] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   39.817924] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   39.818298] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.818746] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   39.819122] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   39.819543] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.819852] CR2: 00007ffdcd14bac8 CR3: 00000000130cc002 CR4: 0000000000770ef0
[   39.820220] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.820588] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.820954] PKRU: 55555554
[   39.821103] note: repro[7193] exited with preempt_count 1
[   39.821428] Fixing recursive fault but reboot is needed!
[   39.821756] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7193
[   39.822225] caller is debug_smp_processor_id+0x20/0x30
[   39.822520] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#50] PREEMPT SMP KASAN NOPTI
[   39.822567] CPU: 1 UID: 0 PID: 7193 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.823609] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.824300] Tainted: [D]=DIE, [W]=WARN
[   39.824955] CPU: 0 UID: 0 PID: 7197 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.825158] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.825974] Tainted: [D]=DIE, [W]=WARN
[   39.826545] Call Trace:
[   39.826550]  <TASK>
[   39.826897] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.827036]  dump_stack_lvl+0x121/0x150
[   39.827231] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.827808]  dump_stack+0x19/0x20
[   39.828150] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.828430]  check_preemption_disabled+0x168/0x180
[   39.828733] RSP: 0018:ffff888010d8f7d8 EFLAGS: 00010202
[   39.829598]  debug_smp_processor_id+0x20/0x30
[   39.830018] 
[   39.830269]  __schedule+0x9a/0x2eb0
[   39.830658] RAX: dffffc0000000000 RBX: ffffea0000510480 RCX: ffffffff81b9e6e9
[   39.830746]  ? rcu_is_watching+0x19/0xc0
[   39.831058] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000510490
[   39.831531]  ? lock_release+0x592/0x870
[   39.831883] RBP: ffff888010d8f7f8 R08: 0000000000000000 R09: ffffed10024df6cc
[   39.832238]  ? __pfx___schedule+0x10/0x10
[   39.832580] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   39.832943]  ? debug_smp_processor_id+0x20/0x30
[   39.833297] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880126fb660
[   39.833641]  ? rcu_is_watching+0x19/0xc0
[   39.834050] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   39.834397]  ? trace_irq_enable+0xe1/0x120
[   39.834748] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.835139]  ? do_task_dead+0x4a/0x110
[   39.835500] CR2: 00007f8809a24000 CR3: 0000000027668006 CR4: 0000000000770ef0
[   39.835788]  do_task_dead+0xe0/0x110
[   39.836124] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.836468]  make_task_dead+0x384/0x3c0
[   39.836792] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.837278]  rewind_stack_and_make_dead+0x16/0x20
[   39.837618] PKRU: 55555554
[   39.838024] RIP: 0033:0x7f730f23ee5d
[   39.838440] Call Trace:
[   39.838713] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.839036]  <TASK>
[   39.839191] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   39.839735]  ? show_regs+0xa8/0xc0
[   39.839840]  ORIG_RAX: 000000000000003c
[   39.840302]  ? die_addr+0x5d/0xf0
[   39.840466] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.841007]  ? exc_general_protection+0x1ae/0x340
[   39.841165] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.841842]  ? asm_exc_general_protection+0x2b/0x30
[   39.842047] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.842693]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.842911] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.843536]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.843837] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.844459]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.844702]  </TASK>
[   39.845320]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.846230]  zap_huge_pmd+0x494/0xd40
[   39.846606]  unmap_page_range+0x1ad6/0x4320
[   39.847234]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.847790]  ? __pfx_unmap_page_range+0x10/0x10
[   39.848238]  unmap_single_vma+0x1ac/0x2d0
[   39.848633]  unmap_vmas+0x210/0x470
[   39.848991]  ? __pfx_unmap_vmas+0x10/0x10
[   39.849380]  ? __pfx_lock_release+0x10/0x10
[   39.849786]  ? lock_release+0x592/0x870
[   39.850158]  ? mas_next_slot+0x133a/0x1a50
[   39.850557]  ? __pfx_lock_release+0x10/0x10
[   39.850962]  ? mlock_drain_local+0x27f/0x4b0
[   39.851376]  exit_mmap+0x19e/0xb10
[   39.851722]  ? __pfx_exit_mmap+0x10/0x10
[   39.852114]  ? trace_hardirqs_on+0x51/0x60
[   39.852519]  ? __khugepaged_exit+0x266/0x4c0
[   39.852935]  ? kmem_cache_free+0x15d/0x420
[   39.853557]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.854491]  __mmput+0xd6/0x390
[   39.854831]  mmput+0x74/0x90
[   39.855121]  do_exit+0xa03/0x29f0
[   39.855448]  ? trace_hardirqs_on+0x51/0x60
[   39.855846]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.856413]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.856867]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.857324]  ? __pfx_do_exit+0x10/0x10
[   39.857697]  ? __audit_syscall_entry+0x39c/0x500
[   39.858146]  __x64_sys_exit+0x50/0x60
[   39.858504]  x64_sys_call+0x20c9/0x20d0
[   39.858877]  do_syscall_64+0x6d/0x140
[   39.859391]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.860011] RIP: 0033:0x7f730f23ee5d
[   39.860335] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.860864] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.861516] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.862126] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.862731] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.863328] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.863931] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.864543]  </TASK>
[   39.864753] Modules linked in:
[   39.865337] ---[ end trace 0000000000000000 ]---
[   39.865965] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.866615] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.868182] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   39.868641] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   39.869218] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   39.869793] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   39.870381] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.870995] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   39.871577] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   39.872545] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.873069] CR2: 00007f8809a24000 CR3: 0000000027668006 CR4: 0000000000770ef0
[   39.873655] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.874230] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.874826] PKRU: 55555554
[   39.875063] note: repro[7197] exited with preempt_count 1
[   39.875512] Fixing recursive fault but reboot is needed!
[   39.875946] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7197
[   39.876569] caller is debug_smp_processor_id+0x20/0x30
[   39.877022] CPU: 0 UID: 0 PID: 7197 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.877777] Tainted: [D]=DIE, [W]=WARN
[   39.878074] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.878936] Call Trace:
[   39.879141]  <TASK>
[   39.879323]  dump_stack_lvl+0x121/0x150
[   39.879648]  dump_stack+0x19/0x20
[   39.880046]  check_preemption_disabled+0x168/0x180
[   39.880589]  debug_smp_processor_id+0x20/0x30
[   39.880944]  __schedule+0x9a/0x2eb0
[   39.881236]  ? rcu_is_watching+0x19/0xc0
[   39.881558]  ? lock_release+0x592/0x870
[   39.881878]  ? __pfx___schedule+0x10/0x10
[   39.882208]  ? debug_smp_processor_id+0x20/0x30
[   39.882575]  ? rcu_is_watching+0x19/0xc0
[   39.882899]  ? trace_irq_enable+0xe1/0x120
[   39.883241]  ? do_task_dead+0x4a/0x110
[   39.883559]  do_task_dead+0xe0/0x110
[   39.883878]  make_task_dead+0x384/0x3c0
[   39.884204]  rewind_stack_and_make_dead+0x16/0x20
[   39.884585] RIP: 0033:0x7f730f23ee5d
[   39.884871] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.885325] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.885893] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.886635] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.887281] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.887913] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.888451] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.888997]  </TASK>
[   39.889237] BUG: scheduling while atomic: repro/7197/0x00000000
[   39.889705] INFO: lockdep is turned off.
[   39.890004] Modules linked in:
[   39.890245] Preemption disabled at:
[   39.890249] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   39.890951] CPU: 0 UID: 0 PID: 7197 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   39.891637] Tainted: [D]=DIE, [W]=WARN
[   39.891917] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.892708] Call Trace:
[   39.892985]  <TASK>
[   39.893157]  dump_stack_lvl+0x121/0x150
[   39.893455]  ? do_task_dead+0x28/0x110
[   39.893754]  dump_stack+0x19/0x20
[   39.894019]  __schedule_bug+0x12d/0x180
[   39.894321]  __schedule+0x210c/0x2eb0
[   39.894603]  ? rcu_is_watching+0x19/0xc0
[   39.894903]  ? lock_release+0x592/0x870
[   39.895194]  ? __pfx___schedule+0x10/0x10
[   39.895497]  ? debug_smp_processor_id+0x20/0x30
[   39.895838]  ? rcu_is_watching+0x19/0xc0
[   39.896134]  ? trace_irq_enable+0xe1/0x120
[   39.896593]  ? do_task_dead+0x4a/0x110
[   39.897013]  do_task_dead+0xe0/0x110
[   39.897319]  make_task_dead+0x384/0x3c0
[   39.897608]  rewind_stack_and_make_dead+0x16/0x20
[   39.897952] RIP: 0033:0x7f730f23ee5d
[   39.898212] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   39.898633] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.899155] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   39.899638] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.900139] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   39.900624] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   39.901109] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   39.901603]  </TASK>
[   40.224147] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#51] PREEMPT SMP KASAN NOPTI
[   40.224927] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.225403] CPU: 1 UID: 0 PID: 7453 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.226005] Tainted: [D]=DIE, [W]=WARN
[   40.226409] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.227241] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.227633] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.228785] RSP: 0018:ffff88802619f7d8 EFLAGS: 00010202
[   40.229114] RAX: dffffc0000000000 RBX: ffffea0000482580 RCX: ffffffff81b9e6e9
[   40.229541] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000482590
[   40.229973] RBP: ffff88802619f7f8 R08: 0000000000000000 R09: ffffed10042eef74
[   40.230401] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.230831] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888021777ba0
[   40.231261] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   40.231749] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.232097] CR2: 00007f730f52b000 CR3: 000000001c302004 CR4: 0000000000770ef0
[   40.232535] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.233105] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.233932] PKRU: 55555554
[   40.234201] Call Trace:
[   40.234403]  <TASK>
[   40.234583]  ? show_regs+0xa8/0xc0
[   40.234877]  ? die_addr+0x5d/0xf0
[   40.235158]  ? exc_general_protection+0x1ae/0x340
[   40.235554]  ? asm_exc_general_protection+0x2b/0x30
[   40.235958]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.236370]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.236789]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.237204]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.237617]  zap_huge_pmd+0x494/0xd40
[   40.237931]  unmap_page_range+0x1ad6/0x4320
[   40.238285]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.238697]  ? __pfx_unmap_page_range+0x10/0x10
[   40.239076]  unmap_single_vma+0x1ac/0x2d0
[   40.239412]  unmap_vmas+0x210/0x470
[   40.239774]  ? __pfx_unmap_vmas+0x10/0x10
[   40.240162]  ? __pfx_lock_release+0x10/0x10
[   40.240509]  ? lock_release+0x592/0x870
[   40.240770]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.241063]  ? __pfx_lock_release+0x10/0x10
[   40.241315]  ? mlock_drain_local+0x27f/0x4b0
[   40.241575]  exit_mmap+0x19e/0xb10
[   40.241793]  ? __pfx_exit_mmap+0x10/0x10
[   40.242040]  ? trace_hardirqs_on+0x51/0x60
[   40.242292]  ? __khugepaged_exit+0x266/0x4c0
[   40.242550]  ? kmem_cache_free+0x15d/0x420
[   40.242804]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.243116]  __mmput+0xd6/0x390
[   40.243309]  mmput+0x74/0x90
[   40.243487]  do_exit+0xa03/0x29f0
[   40.243698]  ? trace_hardirqs_on+0x51/0x60
[   40.243947]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.244304]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.244581]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.244858]  ? __pfx_do_exit+0x10/0x10
[   40.245081]  ? __audit_syscall_entry+0x39c/0x500
[   40.245351]  __x64_sys_exit+0x50/0x60
[   40.245570]  x64_sys_call+0x20c9/0x20d0
[   40.245797]  do_syscall_64+0x6d/0x140
[   40.246016]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.246315] RIP: 0033:0x7f730f23ee5d
[   40.246525] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.246861] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.247278] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.247821] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.248286] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.248821] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.249317] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.249765]  </TASK>
[   40.249892] Modules linked in:
[   40.250242] ---[ end trace 0000000000000000 ]---
[   40.250605] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.250934] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.251891] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   40.252173] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   40.252609] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   40.253252] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   40.253905] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.254640] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   40.255048] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   40.255470] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.255849] CR2: 00007f730f52b000 CR3: 000000001c302004 CR4: 0000000000770ef0
[   40.256254] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.256619] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.256988] PKRU: 55555554
[   40.257136] note: repro[7453] exited with preempt_count 1
[   40.257414] Fixing recursive fault but reboot is needed!
[   40.257689] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7453
[   40.258083] caller is debug_smp_processor_id+0x20/0x30
[   40.258357] CPU: 1 UID: 0 PID: 7453 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.258845] Tainted: [D]=DIE, [W]=WARN
[   40.259041] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.259698] Call Trace:
[   40.259876]  <TASK>
[   40.260021]  dump_stack_lvl+0x121/0x150
[   40.260356]  dump_stack+0x19/0x20
[   40.260637]  check_preemption_disabled+0x168/0x180
[   40.260984]  debug_smp_processor_id+0x20/0x30
[   40.261215]  __schedule+0x9a/0x2eb0
[   40.261404]  ? rcu_is_watching+0x19/0xc0
[   40.261612]  ? lock_release+0x592/0x870
[   40.261823]  ? __pfx___schedule+0x10/0x10
[   40.262036]  ? debug_smp_processor_id+0x20/0x30
[   40.262275]  ? rcu_is_watching+0x19/0xc0
[   40.262483]  ? trace_irq_enable+0xe1/0x120
[   40.262709]  ? do_task_dead+0x4a/0x110
[   40.262915]  do_task_dead+0xe0/0x110
[   40.263113]  make_task_dead+0x384/0x3c0
[   40.263380]  rewind_stack_and_make_dead+0x16/0x20
[   40.263699] RIP: 0033:0x7f730f23ee5d
[   40.263941] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.264344] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.264827] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.265208] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.265560] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.265916] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.266257] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.266605]  </TASK>
[   40.266793] BUG: scheduling while atomic: repro/7453/0x00000000
[   40.267202] INFO: lockdep is turned off.
[   40.267394] Modules linked in:
[   40.267552] Preemption disabled at:
[   40.267555] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   40.268089] CPU: 1 UID: 0 PID: 7453 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.268631] Tainted: [D]=DIE, [W]=WARN
[   40.268819] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.269398] Call Trace:
[   40.269635]  <TASK>
[   40.269849]  dump_stack_lvl+0x121/0x150
[   40.270226]  ? do_task_dead+0x28/0x110
[   40.270455]  dump_stack+0x19/0x20
[   40.270630]  __schedule_bug+0x12d/0x180
[   40.270829]  __schedule+0x210c/0x2eb0
[   40.271014]  ? rcu_is_watching+0x19/0xc0
[   40.271208]  ? lock_release+0x592/0x870
[   40.271400]  ? __pfx___schedule+0x10/0x10
[   40.271599]  ? debug_smp_processor_id+0x20/0x30
[   40.271819]  ? rcu_is_watching+0x19/0xc0
[   40.272009]  ? trace_irq_enable+0xe1/0x120
[   40.272269]  ? do_task_dead+0x4a/0x110
[   40.272494]  do_task_dead+0xe0/0x110
[   40.272779]  make_task_dead+0x384/0x3c0
[   40.273086]  rewind_stack_and_make_dead+0x16/0x20
[   40.273448] RIP: 0033:0x7f730f23ee5d
[   40.273643] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.273940] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.274281] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.274602] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.274923] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.275246] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.275559] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.275881]  </TASK>
[   40.460370] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#52] PREEMPT SMP KASAN NOPTI
[   40.461465] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.462137] CPU: 0 UID: 0 PID: 7581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.463150] Tainted: [D]=DIE, [W]=WARN
[   40.463577] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.464594] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.465139] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.466759] RSP: 0018:ffff88802638f7d8 EFLAGS: 00010202
[   40.467239] RAX: dffffc0000000000 RBX: ffffea000076fec0 RCX: ffffffff81b9e6e9
[   40.467878] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000076fed0
[   40.468513] RBP: ffff88802638f7f8 R08: 0000000000000000 R09: ffffed10034fda00
[   40.469417] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.470116] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801a7ed000
[   40.470759] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   40.471473] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.471999] CR2: 00007f730f3fca50 CR3: 000000002628e003 CR4: 0000000000770ef0
[   40.472635] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.473271] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.473902] PKRU: 55555554
[   40.474148] Call Trace:
[   40.474369]  <TASK>
[   40.474567]  ? show_regs+0xa8/0xc0
[   40.474893]  ? die_addr+0x5d/0xf0
[   40.475360]  ? exc_general_protection+0x1ae/0x340
[   40.475943]  ? asm_exc_general_protection+0x2b/0x30
[   40.476392]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.476854]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.477313]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.477773]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.478232]  zap_huge_pmd+0x494/0xd40
[   40.478580]  unmap_page_range+0x1ad6/0x4320
[   40.478978]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.479429]  ? __pfx_unmap_page_range+0x10/0x10
[   40.479852]  unmap_single_vma+0x1ac/0x2d0
[   40.480229]  unmap_vmas+0x210/0x470
[   40.480562]  ? __pfx_unmap_vmas+0x10/0x10
[   40.480938]  ? __pfx_lock_release+0x10/0x10
[   40.481313]  ? lock_release+0x592/0x870
[   40.481658]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.482109]  ? __pfx_lock_release+0x10/0x10
[   40.482471]  ? mlock_drain_local+0x27f/0x4b0
[   40.482852]  exit_mmap+0x19e/0xb10
[   40.483188]  ? __pfx_exit_mmap+0x10/0x10
[   40.483692]  ? trace_hardirqs_on+0x51/0x60
[   40.484167]  ? __khugepaged_exit+0x266/0x4c0
[   40.484537]  ? kmem_cache_free+0x15d/0x420
[   40.484903]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.485357]  __mmput+0xd6/0x390
[   40.485640]  mmput+0x74/0x90
[   40.485903]  do_exit+0xa03/0x29f0
[   40.486200]  ? trace_hardirqs_on+0x51/0x60
[   40.486557]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.487086]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.487496]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.487906]  ? __pfx_do_exit+0x10/0x10
[   40.488235]  ? __audit_syscall_entry+0x39c/0x500
[   40.488635]  __x64_sys_exit+0x50/0x60
[   40.488963]  x64_sys_call+0x20c9/0x20d0
[   40.489296]  do_syscall_64+0x6d/0x140
[   40.489725]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.490299] RIP: 0033:0x7f730f23ee5d
[   40.490593] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.491068] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.491652] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.492202] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.492753] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.493301] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.493850] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.494410]  </TASK>
[   40.494595] Modules linked in:
[   40.495011] ---[ end trace 0000000000000000 ]---
[   40.495385] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.495927] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.497450] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   40.497854] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   40.498378] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   40.498923] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   40.499450] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.499985] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   40.500511] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   40.501144] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.501664] CR2: 00007f730f3fca50 CR3: 000000002628e003 CR4: 0000000000770ef0
[   40.502627] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.503181] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.503732] PKRU: 55555554
[   40.503953] note: repro[7581] exited with preempt_count 1
[   40.504338] Fixing recursive fault but reboot is needed!
[   40.504716] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7581
[   40.505259] caller is debug_smp_processor_id+0x20/0x30
[   40.505636] CPU: 0 UID: 0 PID: 7581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.506335] Tainted: [D]=DIE, [W]=WARN
[   40.506618] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.507408] Call Trace:
[   40.508124]  <TASK>
[   40.508298]  dump_stack_lvl+0x121/0x150
[   40.508596]  dump_stack+0x19/0x20
[   40.508869]  check_preemption_disabled+0x168/0x180
[   40.509224]  debug_smp_processor_id+0x20/0x30
[   40.509390] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#53] PREEMPT SMP KASAN NOPTI
[   40.509553]  __schedule+0x9a/0x2eb0
[   40.510611] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.510862]  ? rcu_is_watching+0x19/0xc0
[   40.511520] CPU: 1 UID: 0 PID: 7585 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.511784]  ? lock_release+0x592/0x870
[   40.512588] Tainted: [D]=DIE, [W]=WARN
[   40.512845]  ? __pfx___schedule+0x10/0x10
[   40.513167] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.513443]  ? debug_smp_processor_id+0x20/0x30
[   40.514683] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.514992]  ? rcu_is_watching+0x19/0xc0
[   40.515477] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.515748]  ? trace_irq_enable+0xe1/0x120
[   40.517295] RSP: 0018:ffff8880105277d8 EFLAGS: 00010202
[   40.517666]  ? do_task_dead+0x4a/0x110
[   40.518137] RAX: dffffc0000000000 RBX: ffffea0000435a80 RCX: ffffffff81b9e6e9
[   40.518404]  do_task_dead+0xe0/0x110
[   40.519002] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000435a90
[   40.519239]  make_task_dead+0x384/0x3c0
[   40.519836] RBP: ffff8880105277f8 R08: 0000000000000000 R09: ffffed1003f5b3b0
[   40.520089]  rewind_stack_and_make_dead+0x16/0x20
[   40.520899] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.521206] RIP: 0033:0x7f730f23ee5d
[   40.521807] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fad9d80
[   40.522036] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.522628] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   40.523009] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.523684] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.524166] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.524624] CR2: 00007f371458f050 CR3: 00000000262b8001 CR4: 0000000000770ef0
[   40.525078] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.525641] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.526091] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.526652] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.527089] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.527646] PKRU: 55555554
[   40.528067] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.528431] Call Trace:
[   40.528859]  </TASK>
[   40.529081]  <TASK>
[   40.529433]  ? show_regs+0xa8/0xc0
[   40.529874]  ? die_addr+0x5d/0xf0
[   40.530211]  ? exc_general_protection+0x1ae/0x340
[   40.530620]  ? asm_exc_general_protection+0x2b/0x30
[   40.531054]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.531493]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.531949]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.532390]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.533094]  zap_huge_pmd+0x494/0xd40
[   40.533437]  unmap_page_range+0x1ad6/0x4320
[   40.533870]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.534354]  ? __pfx_unmap_page_range+0x10/0x10
[   40.534812]  unmap_single_vma+0x1ac/0x2d0
[   40.535211]  unmap_vmas+0x210/0x470
[   40.535543]  ? __pfx_unmap_vmas+0x10/0x10
[   40.535886]  ? __pfx_lock_release+0x10/0x10
[   40.536231]  ? lock_release+0x592/0x870
[   40.536701]  ? mas_next_slot+0x133a/0x1a50
[   40.537199]  ? __pfx_lock_release+0x10/0x10
[   40.537606]  ? mlock_drain_local+0x27f/0x4b0
[   40.538124]  exit_mmap+0x19e/0xb10
[   40.538425]  ? __pfx_exit_mmap+0x10/0x10
[   40.538781]  ? trace_hardirqs_on+0x51/0x60
[   40.539206]  ? __khugepaged_exit+0x266/0x4c0
[   40.539563]  ? kmem_cache_free+0x15d/0x420
[   40.540021]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.540557]  __mmput+0xd6/0x390
[   40.541005]  mmput+0x74/0x90
[   40.541344]  do_exit+0xa03/0x29f0
[   40.541736]  ? trace_hardirqs_on+0x51/0x60
[   40.542280]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.542937]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.543442]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.543960]  ? __pfx_do_exit+0x10/0x10
[   40.544417]  ? __audit_syscall_entry+0x39c/0x500
[   40.544913]  __x64_sys_exit+0x50/0x60
[   40.545357]  x64_sys_call+0x20c9/0x20d0
[   40.545734]  do_syscall_64+0x6d/0x140
[   40.546041]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.546527] RIP: 0033:0x7f730f23ee5d
[   40.546818] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.547308] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.547890] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.548446] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.549022] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.549604] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.550189] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.550827]  </TASK>
[   40.551044] Modules linked in:
[   40.551444] ---[ end trace 0000000000000000 ]---
[   40.551887] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.552453] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.553912] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   40.554409] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   40.555093] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   40.555810] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   40.556638] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.557388] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   40.558110] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   40.558938] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.559473] CR2: 00007f371458f050 CR3: 00000000262b8001 CR4: 0000000000770ef0
[   40.560186] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.560841] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.561490] PKRU: 55555554
[   40.561763] note: repro[7585] exited with preempt_count 1
[   40.562279] Fixing recursive fault but reboot is needed!
[   40.563075] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7585
[   40.563779] caller is debug_smp_processor_id+0x20/0x30
[   40.564277] CPU: 1 UID: 0 PID: 7585 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.564923] Tainted: [D]=DIE, [W]=WARN
[   40.565187] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.566048] Call Trace:
[   40.566228]  <TASK>
[   40.566382]  dump_stack_lvl+0x121/0x150
[   40.566837]  dump_stack+0x19/0x20
[   40.567090]  check_preemption_disabled+0x168/0x180
[   40.567547]  debug_smp_processor_id+0x20/0x30
[   40.568226]  __schedule+0x9a/0x2eb0
[   40.568864]  ? rcu_is_watching+0x19/0xc0
[   40.569186]  ? lock_release+0x592/0x870
[   40.569462]  ? __pfx___schedule+0x10/0x10
[   40.569737]  ? debug_smp_processor_id+0x20/0x30
[   40.570058]  ? rcu_is_watching+0x19/0xc0
[   40.570375]  ? trace_irq_enable+0xe1/0x120
[   40.570662]  ? do_task_dead+0x4a/0x110
[   40.570939]  do_task_dead+0xe0/0x110
[   40.571191]  make_task_dead+0x384/0x3c0
[   40.571534]  rewind_stack_and_make_dead+0x16/0x20
[   40.571838] RIP: 0033:0x7f730f23ee5d
[   40.572081] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.572459] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.572989] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.573400] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.573816] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.574258] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.574694] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.575170]  </TASK>
[   40.575355] BUG: scheduling while atomic: repro/7585/0x00000000
[   40.575709] INFO: lockdep is turned off.
[   40.575952] Modules linked in:
[   40.576150] Preemption disabled at:
[   40.576155] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   40.576715] CPU: 1 UID: 0 PID: 7585 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   40.577229] Tainted: [D]=DIE, [W]=WARN
[   40.577425] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.578077] Call Trace:
[   40.578230]  <TASK>
[   40.578365]  dump_stack_lvl+0x121/0x150
[   40.578683]  ? do_task_dead+0x28/0x110
[   40.578920]  dump_stack+0x19/0x20
[   40.579142]  __schedule_bug+0x12d/0x180
[   40.579387]  __schedule+0x210c/0x2eb0
[   40.579613]  ? rcu_is_watching+0x19/0xc0
[   40.579907]  ? lock_release+0x592/0x870
[   40.580146]  ? __pfx___schedule+0x10/0x10
[   40.580409]  ? debug_smp_processor_id+0x20/0x30
[   40.580690]  ? rcu_is_watching+0x19/0xc0
[   40.580932]  ? trace_irq_enable+0xe1/0x120
[   40.581227]  ? do_task_dead+0x4a/0x110
[   40.581469]  do_task_dead+0xe0/0x110
[   40.581712]  make_task_dead+0x384/0x3c0
[   40.581950]  rewind_stack_and_make_dead+0x16/0x20
[   40.582279] RIP: 0033:0x7f730f23ee5d
[   40.582496] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   40.582854] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.583239] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   40.583616] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.584055] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   40.584459] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   40.584905] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   40.585312]  </TASK>
[   41.170666] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#54] PREEMPT SMP KASAN NOPTI
[   41.171724] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.172364] CPU: 1 UID: 0 PID: 7956 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.173486] Tainted: [D]=DIE, [W]=WARN
[   41.173823] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.174785] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.175311] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.177039] RSP: 0018:ffff88802263f7d8 EFLAGS: 00010202
[   41.177568] RAX: dffffc0000000000 RBX: ffffea00007e7a00 RCX: ffffffff81b9e6e9
[   41.178158] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007e7a10
[   41.178746] RBP: ffff88802263f7f8 R08: 0000000000000000 R09: ffffed1002129484
[   41.179325] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.179928] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801094a420
[   41.180573] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.181300] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.181947] CR2: 00007f730f52b000 CR3: 000000001f906005 CR4: 0000000000770ef0
[   41.182558] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.183425] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.184156] PKRU: 55555554
[   41.184384] Call Trace:
[   41.184597]  <TASK>
[   41.184789]  ? show_regs+0xa8/0xc0
[   41.185089]  ? die_addr+0x5d/0xf0
[   41.185378]  ? exc_general_protection+0x1ae/0x340
[   41.185782]  ? asm_exc_general_protection+0x2b/0x30
[   41.186193]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.186612]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.187155]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.187603]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.188031]  zap_huge_pmd+0x494/0xd40
[   41.188349]  unmap_page_range+0x1ad6/0x4320
[   41.188719]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.189329]  ? __pfx_unmap_page_range+0x10/0x10
[   41.189840]  unmap_single_vma+0x1ac/0x2d0
[   41.190166]  unmap_vmas+0x210/0x470
[   41.190458]  ? __pfx_unmap_vmas+0x10/0x10
[   41.190779]  ? __pfx_lock_release+0x10/0x10
[   41.191108]  ? lock_release+0x592/0x870
[   41.191460]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.191860]  ? __pfx_lock_release+0x10/0x10
[   41.192195]  ? mlock_drain_local+0x27f/0x4b0
[   41.192540]  exit_mmap+0x19e/0xb10
[   41.192829]  ? __pfx_exit_mmap+0x10/0x10
[   41.193152]  ? trace_hardirqs_on+0x51/0x60
[   41.193561]  ? __khugepaged_exit+0x266/0x4c0
[   41.193987]  ? kmem_cache_free+0x15d/0x420
[   41.194388]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.194898]  __mmput+0xd6/0x390
[   41.195299]  mmput+0x74/0x90
[   41.195642]  do_exit+0xa03/0x29f0
[   41.196016]  ? trace_hardirqs_on+0x51/0x60
[   41.196347]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.196829]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.197209]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.197570]  ? __pfx_do_exit+0x10/0x10
[   41.197870]  ? __audit_syscall_entry+0x39c/0x500
[   41.198226]  __x64_sys_exit+0x50/0x60
[   41.198512]  x64_sys_call+0x20c9/0x20d0
[   41.198811]  do_syscall_64+0x6d/0x140
[   41.199128]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.199511] RIP: 0033:0x7f730f23ee5d
[   41.199798] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.200239] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.200782] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.201290] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.202044] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.202610] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.203100] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.203597]  </TASK>
[   41.203767] Modules linked in:
[   41.204162] ---[ end trace 0000000000000000 ]---
[   41.204497] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.204917] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.206339] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.206768] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.207255] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.207747] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.208233] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.208708] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.209180] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.209713] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.210142] CR2: 00007f730f52b000 CR3: 000000001f906005 CR4: 0000000000770ef0
[   41.210811] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.211452] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.211969] PKRU: 55555554
[   41.212160] note: repro[7956] exited with preempt_count 1
[   41.212521] Fixing recursive fault but reboot is needed!
[   41.212879] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7956
[   41.213385] caller is debug_smp_processor_id+0x20/0x30
[   41.213740] CPU: 1 UID: 0 PID: 7956 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.214023] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   41.214353] Tainted: [D]=DIE, [W]=WARN
[   41.216323] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   41.216464] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.218772] Call Trace:
[   41.218933]  <TASK>
[   41.219074]  dump_stack_lvl+0x121/0x150
[   41.219329]  dump_stack+0x19/0x20
[   41.219557]  check_preemption_disabled+0x168/0x180
[   41.219864]  debug_smp_processor_id+0x20/0x30
[   41.220145]  __schedule+0x9a/0x2eb0
[   41.220384]  ? rcu_is_watching+0x19/0xc0
[   41.220695]  ? lock_release+0x592/0x870
[   41.220947]  ? __pfx___schedule+0x10/0x10
[   41.221228]  ? debug_smp_processor_id+0x20/0x30
[   41.221575]  ? rcu_is_watching+0x19/0xc0
[   41.221874]  ? trace_irq_enable+0xe1/0x120
[   41.222241]  ? do_task_dead+0x4a/0x110
[   41.222572]  do_task_dead+0xe0/0x110
[   41.222846]  make_task_dead+0x384/0x3c0
[   41.223101]  rewind_stack_and_make_dead+0x16/0x20
[   41.223387] RIP: 0033:0x7f730f23ee5d
[   41.223608] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.223972] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.224415] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.224937] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.225454] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.225940] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.226427] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.226866]  </TASK>
[   41.227088] BUG: scheduling while atomic: repro/7956/0x00000000
[   41.227554] INFO: lockdep is turned off.
[   41.227870] Modules linked in:
[   41.228124] Preemption disabled at:
[   41.228128] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   41.228715] CPU: 1 UID: 0 PID: 7956 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.229244] Tainted: [D]=DIE, [W]=WARN
[   41.229460] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.230093] Call Trace:
[   41.230245]  <TASK>
[   41.230377]  dump_stack_lvl+0x121/0x150
[   41.230668]  ? do_task_dead+0x28/0x110
[   41.230987]  dump_stack+0x19/0x20
[   41.231228]  __schedule_bug+0x12d/0x180
[   41.231496]  __schedule+0x210c/0x2eb0
[   41.231721]  ? rcu_is_watching+0x19/0xc0
[   41.231955]  ? lock_release+0x592/0x870
[   41.232186]  ? __pfx___schedule+0x10/0x10
[   41.232424]  ? debug_smp_processor_id+0x20/0x30
[   41.232685]  ? rcu_is_watching+0x19/0xc0
[   41.232910]  ? trace_irq_enable+0xe1/0x120
[   41.233150]  ? do_task_dead+0x4a/0x110
[   41.233373]  do_task_dead+0xe0/0x110
[   41.233587]  make_task_dead+0x384/0x3c0
[   41.233818]  rewind_stack_and_make_dead+0x16/0x20
[   41.234088] RIP: 0033:0x7f730f23ee5d
[   41.234301] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.234636] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.235050] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.235433] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.235824] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.236203] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.236574] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.236959]  </TASK>
[   41.237437] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#55] PREEMPT SMP KASAN NOPTI
[   41.238077] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.238478] CPU: 1 UID: 0 PID: 7960 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.238982] Tainted: [D]=DIE, [W]=WARN
[   41.239185] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.239823] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.240259] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.241274] RSP: 0018:ffff8880214e77d8 EFLAGS: 00010202
[   41.241552] RAX: dffffc0000000000 RBX: ffffea0000762a80 RCX: ffffffff81b9e6e9
[   41.241917] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000762a90
[   41.242277] RBP: ffff8880214e77f8 R08: 0000000000000000 R09: ffffed1002129114
[   41.242642] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.243008] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880109488a0
[   41.243430] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.244177] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.244713] CR2: 00007f730f52b000 CR3: 0000000016060001 CR4: 0000000000770ef0
[   41.245287] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.245719] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.246075] PKRU: 55555554
[   41.246217] Call Trace:
[   41.246350]  <TASK>
[   41.246469]  ? show_regs+0xa8/0xc0
[   41.246657]  ? die_addr+0x5d/0xf0
[   41.246843]  ? exc_general_protection+0x1ae/0x340
[   41.247095]  ? asm_exc_general_protection+0x2b/0x30
[   41.247355]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.247721]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.248127]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.248507]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.248877]  zap_huge_pmd+0x494/0xd40
[   41.249124]  unmap_page_range+0x1ad6/0x4320
[   41.249354]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.249607]  ? __pfx_unmap_page_range+0x10/0x10
[   41.249847]  unmap_single_vma+0x1ac/0x2d0
[   41.250056]  unmap_vmas+0x210/0x470
[   41.250242]  ? __pfx_unmap_vmas+0x10/0x10
[   41.250449]  ? __pfx_lock_release+0x10/0x10
[   41.250660]  ? lock_release+0x592/0x870
[   41.250864]  ? mas_next_slot+0x133a/0x1a50
[   41.251076]  ? __pfx_lock_release+0x10/0x10
[   41.251290]  ? mlock_drain_local+0x27f/0x4b0
[   41.251510]  exit_mmap+0x19e/0xb10
[   41.251699]  ? __pfx_exit_mmap+0x10/0x10
[   41.251905]  ? trace_hardirqs_on+0x51/0x60
[   41.252114]  ? __khugepaged_exit+0x266/0x4c0
[   41.252325]  ? kmem_cache_free+0x15d/0x420
[   41.252533]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.252805]  __mmput+0xd6/0x390
[   41.252968]  mmput+0x74/0x90
[   41.253121]  do_exit+0xa03/0x29f0
[   41.253292]  ? trace_hardirqs_on+0x51/0x60
[   41.253497]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.253797]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.254034]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.254269]  ? __pfx_do_exit+0x10/0x10
[   41.254458]  ? __audit_syscall_entry+0x39c/0x500
[   41.254690]  __x64_sys_exit+0x50/0x60
[   41.254871]  x64_sys_call+0x20c9/0x20d0
[   41.255058]  do_syscall_64+0x6d/0x140
[   41.255242]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.255482] RIP: 0033:0x7f730f23ee5d
[   41.255655] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.255935] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.256277] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.256595] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.257103] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.257635] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.258036] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.258398]  </TASK>
[   41.258506] Modules linked in:
[   41.258784] ---[ end trace 0000000000000000 ]---
[   41.259001] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.259266] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.260568] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.260948] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.261263] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.261576] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.261884] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.262191] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.262550] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.262903] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.263154] CR2: 00007f730f52b000 CR3: 0000000016060001 CR4: 0000000000770ef0
[   41.263460] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.263770] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.264085] PKRU: 55555554
[   41.264211] note: repro[7960] exited with preempt_count 1
[   41.264447] Fixing recursive fault but reboot is needed!
[   41.264681] BUG: scheduling while atomic: repro/7960/0x00000000
[   41.264933] INFO: lockdep is turned off.
[   41.265104] Modules linked in:
[   41.265242] Preemption disabled at:
[   41.265244] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   41.265629] CPU: 1 UID: 0 PID: 7960 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.266031] Tainted: [D]=DIE, [W]=WARN
[   41.266193] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.266662] Call Trace:
[   41.266776]  <TASK>
[   41.266877]  dump_stack_lvl+0x121/0x150
[   41.267063]  ? do_task_dead+0x28/0x110
[   41.267236]  dump_stack+0x19/0x20
[   41.267390]  __schedule_bug+0x12d/0x180
[   41.267565]  __schedule+0x210c/0x2eb0
[   41.267737]  ? rcu_is_watching+0x19/0xc0
[   41.267912]  ? lock_release+0x592/0x870
[   41.268083]  ? __pfx___schedule+0x10/0x10
[   41.268261]  ? debug_smp_processor_id+0x20/0x30
[   41.268460]  ? rcu_is_watching+0x19/0xc0
[   41.268635]  ? trace_irq_enable+0xe1/0x120
[   41.268822]  ? do_task_dead+0x4a/0x110
[   41.268996]  do_task_dead+0xe0/0x110
[   41.269162]  make_task_dead+0x384/0x3c0
[   41.269336]  rewind_stack_and_make_dead+0x16/0x20
[   41.269542] RIP: 0033:0x7f730f23ee5d
[   41.269704] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.269961] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.270279] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.270577] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.270874] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.271172] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.271471] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.271781]  </TASK>
[   41.297254] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#56] PREEMPT SMP KASAN NOPTI
[   41.298204] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.298787] CPU: 0 UID: 0 PID: 8032 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.299512] Tainted: [D]=DIE, [W]=WARN
[   41.299949] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.300994] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.301479] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.302873] RSP: 0018:ffff888016c9f7d8 EFLAGS: 00010202
[   41.303279] RAX: dffffc0000000000 RBX: ffffea000043c840 RCX: ffffffff81b9e6e9
[   41.303803] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000043c850
[   41.304323] RBP: ffff888016c9f7f8 R08: 0000000000000000 R09: ffffed1002153200
[   41.304849] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.305369] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010a99000
[   41.305894] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   41.306689] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.307123] CR2: 00007f730f29bc20 CR3: 0000000016146004 CR4: 0000000000770ef0
[   41.307655] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.308181] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.308687] PKRU: 55555554
[   41.308912] Call Trace:
[   41.309100]  <TASK>
[   41.309266]  ? show_regs+0xa8/0xc0
[   41.309534]  ? die_addr+0x5d/0xf0
[   41.309800]  ? exc_general_protection+0x1ae/0x340
[   41.310163]  ? asm_exc_general_protection+0x2b/0x30
[   41.310546]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.310950]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.311355]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.311804]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.312386]  zap_huge_pmd+0x494/0xd40
[   41.312756]  unmap_page_range+0x1ad6/0x4320
[   41.313091]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.313471]  ? __pfx_unmap_page_range+0x10/0x10
[   41.313822]  unmap_single_vma+0x1ac/0x2d0
[   41.314120]  unmap_vmas+0x210/0x470
[   41.314387]  ? __pfx_unmap_vmas+0x10/0x10
[   41.314683]  ? __pfx_lock_release+0x10/0x10
[   41.314992]  ? lock_release+0x592/0x870
[   41.315275]  ? mas_next_slot+0x133a/0x1a50
[   41.315588]  ? __pfx_lock_release+0x10/0x10
[   41.315896]  ? mlock_drain_local+0x27f/0x4b0
[   41.316212]  exit_mmap+0x19e/0xb10
[   41.316480]  ? __pfx_exit_mmap+0x10/0x10
[   41.316781]  ? trace_hardirqs_on+0x51/0x60
[   41.317090]  ? __khugepaged_exit+0x266/0x4c0
[   41.317408]  ? kmem_cache_free+0x15d/0x420
[   41.317716]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.318098]  __mmput+0xd6/0x390
[   41.318442]  mmput+0x74/0x90
[   41.318766]  do_exit+0xa03/0x29f0
[   41.319036]  ? trace_hardirqs_on+0x51/0x60
[   41.319336]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.319772]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.320107]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.320440]  ? __pfx_do_exit+0x10/0x10
[   41.320781]  ? __audit_syscall_entry+0x39c/0x500
[   41.321108]  __x64_sys_exit+0x50/0x60
[   41.321371]  x64_sys_call+0x20c9/0x20d0
[   41.321648]  do_syscall_64+0x6d/0x140
[   41.321916]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.322319] RIP: 0033:0x7f730f23ee5d
[   41.322592] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.323000] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.323496] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.323963] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.324492] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.325268] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.325840] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.326339]  </TASK>
[   41.326489] Modules linked in:
[   41.326948] ---[ end trace 0000000000000000 ]---
[   41.327252] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.327629] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.328774] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.329110] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.329555] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.330005] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.330437] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.330893] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.331480] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   41.332004] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.332355] CR2: 00007f730f29bc20 CR3: 0000000016146004 CR4: 0000000000770ef0
[   41.332788] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.333220] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.333651] PKRU: 55555554
[   41.333829] note: repro[8032] exited with preempt_count 1
[   41.334160] Fixing recursive fault but reboot is needed!
[   41.334491] BUG: scheduling while atomic: repro/8032/0x00000000
[   41.334846] INFO: lockdep is turned off.
[   41.335082] Modules linked in:
[   41.335273] Preemption disabled at:
[   41.335277] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   41.335817] CPU: 0 UID: 0 PID: 8032 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.336362] Tainted: [D]=DIE, [W]=WARN
[   41.336586] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.337240] Call Trace:
[   41.337395]  <TASK>
[   41.337530]  dump_stack_lvl+0x121/0x150
[   41.337777]  ? do_task_dead+0x28/0x110
[   41.338013]  dump_stack+0x19/0x20
[   41.338227]  __schedule_bug+0x12d/0x180
[   41.338473]  __schedule+0x210c/0x2eb0
[   41.338707]  ? rcu_is_watching+0x19/0xc0
[   41.338944]  ? lock_release+0x592/0x870
[   41.339175]  ? __pfx___schedule+0x10/0x10
[   41.339414]  ? debug_smp_processor_id+0x20/0x30
[   41.339685]  ? rcu_is_watching+0x19/0xc0
[   41.339916]  ? trace_irq_enable+0xe1/0x120
[   41.340163]  ? do_task_dead+0x4a/0x110
[   41.340392]  do_task_dead+0xe0/0x110
[   41.340613]  make_task_dead+0x384/0x3c0
[   41.340850]  rewind_stack_and_make_dead+0x16/0x20
[   41.341132] RIP: 0033:0x7f730f23ee5d
[   41.341343] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.341690] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.342126] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.342519] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.342909] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.343295] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.343698] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.344347]  </TASK>
[   41.662803] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#57] PREEMPT SMP KASAN NOPTI
[   41.663635] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.664152] CPU: 0 UID: 0 PID: 8205 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.664792] Tainted: [D]=DIE, [W]=WARN
[   41.665058] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.665814] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.666225] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.667446] RSP: 0018:ffff8880143bf7d8 EFLAGS: 00010202
[   41.667812] RAX: dffffc0000000000 RBX: ffffea00007616c0 RCX: ffffffff81b9e6e9
[   41.668292] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007616d0
[   41.668779] RBP: ffff8880143bf7f8 R08: 0000000000000000 R09: ffffed10024df684
[   41.669254] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.669828] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880126fb420
[   41.670416] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   41.670942] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.671321] CR2: 00007f730f3fca50 CR3: 0000000026236006 CR4: 0000000000770ef0
[   41.671791] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.672254] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.672719] PKRU: 55555554
[   41.672904] Call Trace:
[   41.673075]  <TASK>
[   41.673235]  ? show_regs+0xa8/0xc0
[   41.673483]  ? die_addr+0x5d/0xf0
[   41.673725]  ? exc_general_protection+0x1ae/0x340
[   41.674057]  ? asm_exc_general_protection+0x2b/0x30
[   41.674478]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.674901]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.675251]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.675605]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.676054]  zap_huge_pmd+0x494/0xd40
[   41.676377]  unmap_page_range+0x1ad6/0x4320
[   41.676666]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.677006]  ? __pfx_unmap_page_range+0x10/0x10
[   41.677411]  unmap_single_vma+0x1ac/0x2d0
[   41.677759]  unmap_vmas+0x210/0x470
[   41.678003]  ? __pfx_unmap_vmas+0x10/0x10
[   41.678273]  ? __pfx_lock_release+0x10/0x10
[   41.678558]  ? lock_release+0x592/0x870
[   41.678814]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.679135]  ? __pfx_lock_release+0x10/0x10
[   41.679411]  ? mlock_drain_local+0x27f/0x4b0
[   41.679701]  exit_mmap+0x19e/0xb10
[   41.679937]  ? __pfx_exit_mmap+0x10/0x10
[   41.680205]  ? trace_hardirqs_on+0x51/0x60
[   41.680548]  ? __khugepaged_exit+0x266/0x4c0
[   41.680928]  ? kmem_cache_free+0x15d/0x420
[   41.681207]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.681553]  __mmput+0xd6/0x390
[   41.681763]  mmput+0x74/0x90
[   41.681960]  do_exit+0xa03/0x29f0
[   41.682178]  ? trace_hardirqs_on+0x51/0x60
[   41.682440]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.682824]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.683127]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.683427]  ? __pfx_do_exit+0x10/0x10
[   41.683667]  ? __audit_syscall_entry+0x39c/0x500
[   41.683967]  __x64_sys_exit+0x50/0x60
[   41.684206]  x64_sys_call+0x20c9/0x20d0
[   41.684452]  do_syscall_64+0x6d/0x140
[   41.684698]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.685015] RIP: 0033:0x7f730f23ee5d
[   41.685243] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.685611] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.686064] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.686488] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.686915] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.687323] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.687736] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.688156]  </TASK>
[   41.688295] Modules linked in:
[   41.688529] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#58] PREEMPT SMP KASAN NOPTI
[   41.688646] ---[ end trace 0000000000000000 ]---
[   41.689644] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.689978] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.690646] CPU: 1 UID: 0 PID: 8213 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.690680] Tainted: [D]=DIE, [W]=WARN
[   41.690686] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.690698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.690727] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.690744] RSP: 0018:ffff8880216277d8 EFLAGS: 00010202
[   41.690758] RAX: dffffc0000000000 RBX: ffffea0000634ac0 RCX: ffffffff81b9e6e9
[   41.690770] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000634ad0
[   41.690781] RBP: ffff8880216277f8 R08: 0000000000000000 R09: ffffed10031f9b5c
[   41.690792] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.691246] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.692078] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888018fcdae0
[   41.692093] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.692107] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.692119] CR2: 00007f730f517910 CR3: 00000000217cc001 CR4: 0000000000770ef0
[   41.692133] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.692144] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.692154] PKRU: 55555554
[   41.692160] Call Trace:
[   41.692166]  <TASK>
[   41.692174]  ? show_regs+0xa8/0xc0
[   41.692199]  ? die_addr+0x5d/0xf0
[   41.692450] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.693456]  ? exc_general_protection+0x1ae/0x340
[   41.693784] 
[   41.695415]  ? asm_exc_general_protection+0x2b/0x30
[   41.695451]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.695475]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.695769] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.696403]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.696796] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.697427]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.697807] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.699369]  zap_huge_pmd+0x494/0xd40
[   41.699402]  unmap_page_range+0x1ad6/0x4320
[   41.699797] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.700485]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.700780] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.701380]  ? __pfx_unmap_page_range+0x10/0x10
[   41.701759] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   41.702370]  unmap_single_vma+0x1ac/0x2d0
[   41.702517] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.702736]  unmap_vmas+0x210/0x470
[   41.702848] CR2: 00007f730f3fca50 CR3: 0000000026236006 CR4: 0000000000770ef0
[   41.703150]  ? __pfx_unmap_vmas+0x10/0x10
[   41.703322] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.703768]  ? __pfx_lock_release+0x10/0x10
[   41.704016] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.704161]  ? lock_release+0x592/0x870
[   41.704417] PKRU: 55555554
[   41.704859]  ? mas_next_slot+0x133a/0x1a50
[   41.705127] note: repro[8205] exited with preempt_count 1
[   41.705734]  ? __pfx_lock_release+0x10/0x10
[   41.705997] Fixing recursive fault but reboot is needed!
[   41.706601]  ? mlock_drain_local+0x27f/0x4b0
[   41.716661]  exit_mmap+0x19e/0xb10
[   41.716983]  ? __pfx_exit_mmap+0x10/0x10
[   41.717345]  ? trace_hardirqs_on+0x51/0x60
[   41.717705]  ? __khugepaged_exit+0x266/0x4c0
[   41.718060]  ? kmem_cache_free+0x15d/0x420
[   41.718402]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.718843]  __mmput+0xd6/0x390
[   41.719115]  mmput+0x74/0x90
[   41.719374]  do_exit+0xa03/0x29f0
[   41.719662]  ? trace_hardirqs_on+0x51/0x60
[   41.720010]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.720510]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.720908]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.721301]  ? __pfx_do_exit+0x10/0x10
[   41.721617]  ? __audit_syscall_entry+0x39c/0x500
[   41.722005]  __x64_sys_exit+0x50/0x60
[   41.722315]  x64_sys_call+0x20c9/0x20d0
[   41.722634]  do_syscall_64+0x6d/0x140
[   41.722952]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.723363] RIP: 0033:0x7f730f23ee5d
[   41.723659] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.724144] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.724737] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.725287] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.725820] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.726347] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.726879] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.727418]  </TASK>
[   41.727596] Modules linked in:
[   41.728048] ---[ end trace 0000000000000000 ]---
[   41.728405] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.728856] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.730211] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.730770] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.731302] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.731832] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.732356] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.732886] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.733412] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.734029] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.734443] CR2: 00007f730f517910 CR3: 00000000217cc001 CR4: 0000000000770ef0
[   41.734974] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.735479] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.735988] PKRU: 55555554
[   41.736192] note: repro[8213] exited with preempt_count 1
[   41.736578] Fixing recursive fault but reboot is needed!
[   41.736960] BUG: scheduling while atomic: repro/8213/0x00000000
[   41.737386] INFO: lockdep is turned off.
[   41.737708] Modules linked in:
[   41.737949] Preemption disabled at:
[   41.737954] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   41.738769] CPU: 1 UID: 0 PID: 8213 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.739627] Tainted: [D]=DIE, [W]=WARN
[   41.739981] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.740835] Call Trace:
[   41.741021]  <TASK>
[   41.741192]  dump_stack_lvl+0x121/0x150
[   41.741491]  ? do_task_dead+0x28/0x110
[   41.741787]  dump_stack+0x19/0x20
[   41.742050]  __schedule_bug+0x12d/0x180
[   41.742351]  __schedule+0x210c/0x2eb0
[   41.742640]  ? rcu_is_watching+0x19/0xc0
[   41.742954]  ? lock_release+0x592/0x870
[   41.743259]  ? __pfx___schedule+0x10/0x10
[   41.743575]  ? debug_smp_processor_id+0x20/0x30
[   41.743932]  ? rcu_is_watching+0x19/0xc0
[   41.744220]  ? trace_irq_enable+0xe1/0x120
[   41.744525]  ? do_task_dead+0x4a/0x110
[   41.744808]  do_task_dead+0xe0/0x110
[   41.745078]  make_task_dead+0x384/0x3c0
[   41.745364]  rewind_stack_and_make_dead+0x16/0x20
[   41.745706] RIP: 0033:0x7f730f23ee5d
[   41.745965] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.746385] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.746907] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.747393] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.747884] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.748354] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.748832] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.749312]  </TASK>
[   41.910715] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#59] PREEMPT SMP KASAN NOPTI
[   41.911549] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.912063] CPU: 0 UID: 0 PID: 8337 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.912703] Tainted: [D]=DIE, [W]=WARN
[   41.912964] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.913716] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.914243] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.915426] RSP: 0018:ffff88802611f7d8 EFLAGS: 00010202
[   41.915782] RAX: dffffc0000000000 RBX: ffffea000098c540 RCX: ffffffff81b9e6e9
[   41.916247] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098c550
[   41.916713] RBP: ffff88802611f7f8 R08: 0000000000000000 R09: ffffed100283e5a4
[   41.917190] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.917656] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880141f2d20
[   41.918315] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   41.918840] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.919220] CR2: 00007f730f52b000 CR3: 00000000130ca001 CR4: 0000000000770ef0
[   41.919688] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.920144] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.920589] PKRU: 55555554
[   41.920775] Call Trace:
[   41.920939]  <TASK>
[   41.921088]  ? show_regs+0xa8/0xc0
[   41.921326]  ? die_addr+0x5d/0xf0
[   41.921559]  ? exc_general_protection+0x1ae/0x340
[   41.921884]  ? asm_exc_general_protection+0x2b/0x30
[   41.922216]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.922562]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.922907]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.923246]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.923584]  zap_huge_pmd+0x494/0xd40
[   41.923948]  unmap_page_range+0x1ad6/0x4320
[   41.924373]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.924739]  ? __pfx_unmap_page_range+0x10/0x10
[   41.925042]  unmap_single_vma+0x1ac/0x2d0
[   41.925306]  unmap_vmas+0x210/0x470
[   41.925542]  ? __pfx_unmap_vmas+0x10/0x10
[   41.925805]  ? __pfx_lock_release+0x10/0x10
[   41.926070]  ? lock_release+0x592/0x870
[   41.926314]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.926625]  ? __pfx_lock_release+0x10/0x10
[   41.926898]  ? mlock_drain_local+0x27f/0x4b0
[   41.927177]  exit_mmap+0x19e/0xb10
[   41.927408]  ? __pfx_exit_mmap+0x10/0x10
[   41.927668]  ? trace_hardirqs_on+0x51/0x60
[   41.927940]  ? __khugepaged_exit+0x266/0x4c0
[   41.928216]  ? kmem_cache_free+0x15d/0x420
[   41.928483]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.928823]  __mmput+0xd6/0x390
[   41.929037]  mmput+0x74/0x90
[   41.929232]  do_exit+0xa03/0x29f0
[   41.929454]  ? trace_hardirqs_on+0x51/0x60
[   41.929723]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.930292]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.930738]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.931043]  ? __pfx_do_exit+0x10/0x10
[   41.931289]  ? __audit_syscall_entry+0x39c/0x500
[   41.931578]  __x64_sys_exit+0x50/0x60
[   41.931816]  x64_sys_call+0x20c9/0x20d0
[   41.932055]  do_syscall_64+0x6d/0x140
[   41.932291]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.932597] RIP: 0033:0x7f730f23ee5d
[   41.932823] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.933188] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.933626] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.934039] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.934445] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.934855] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.935294] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.935716]  </TASK>
[   41.935850] Modules linked in:
[   41.936190] ---[ end trace 0000000000000000 ]---
[   41.936597] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.937052] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.938137] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.938442] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.938857] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.939268] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.939715] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.940351] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.940994] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   41.941497] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.941830] CR2: 00007f730f52b000 CR3: 00000000130ca001 CR4: 0000000000770ef0
[   41.941914] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#60] PREEMPT SMP KASAN NOPTI
[   41.942232] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.943298] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.943319] CPU: 1 UID: 0 PID: 8341 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.943696] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.944363] Tainted: [D]=DIE, [W]=WARN
[   41.944864] PKRU: 55555554
[   41.945490] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.945502] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.945712] note: repro[8337] exited with preempt_count 1
[   41.945961] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.946576] Fixing recursive fault but reboot is needed!
[   41.947075] RSP: 0018:ffff88802620f7d8 EFLAGS: 00010202
[   41.950100] RAX: dffffc0000000000 RBX: ffffea00009d2e80 RCX: ffffffff81b9e6e9
[   41.950749] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d2e90
[   41.951366] RBP: ffff88802620f7f8 R08: 0000000000000000 R09: ffffed1003b01a00
[   41.951983] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   41.952589] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d80d000
[   41.953453] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.954148] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.954652] CR2: 00007f8809cef000 CR3: 00000000262cc004 CR4: 0000000000770ef0
[   41.955273] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.955892] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.956500] PKRU: 55555554
[   41.956901] Call Trace:
[   41.957258]  <TASK>
[   41.957491]  ? show_regs+0xa8/0xc0
[   41.957831]  ? die_addr+0x5d/0xf0
[   41.958153]  ? exc_general_protection+0x1ae/0x340
[   41.958597]  ? asm_exc_general_protection+0x2b/0x30
[   41.959056]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.959520]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.959994]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.960460]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.960912]  zap_huge_pmd+0x494/0xd40
[   41.961248]  unmap_page_range+0x1ad6/0x4320
[   41.961632]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.962072]  ? __pfx_unmap_page_range+0x10/0x10
[   41.962483]  unmap_single_vma+0x1ac/0x2d0
[   41.963033]  unmap_vmas+0x210/0x470
[   41.963522]  ? __pfx_unmap_vmas+0x10/0x10
[   41.963888]  ? __pfx_lock_release+0x10/0x10
[   41.964250]  ? lock_release+0x592/0x870
[   41.964584]  ? mas_next_slot+0x133a/0x1a50
[   41.964951]  ? __pfx_lock_release+0x10/0x10
[   41.965320]  ? mlock_drain_local+0x27f/0x4b0
[   41.965703]  exit_mmap+0x19e/0xb10
[   41.966018]  ? __pfx_exit_mmap+0x10/0x10
[   41.966369]  ? trace_hardirqs_on+0x51/0x60
[   41.966743]  ? __khugepaged_exit+0x266/0x4c0
[   41.967116]  ? kmem_cache_free+0x15d/0x420
[   41.967478]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.967939]  __mmput+0xd6/0x390
[   41.968224]  mmput+0x74/0x90
[   41.968487]  do_exit+0xa03/0x29f0
[   41.968793]  ? trace_hardirqs_on+0x51/0x60
[   41.969347]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.970020]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.970418]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.970818]  ? __pfx_do_exit+0x10/0x10
[   41.971138]  ? __audit_syscall_entry+0x39c/0x500
[   41.971523]  __x64_sys_exit+0x50/0x60
[   41.971841]  x64_sys_call+0x20c9/0x20d0
[   41.972170]  do_syscall_64+0x6d/0x140
[   41.972486]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.972907] RIP: 0033:0x7f730f23ee5d
[   41.973204] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.973685] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.974274] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.974829] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.975378] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.976134] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   41.976692] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   41.977249]  </TASK>
[   41.977430] Modules linked in:
[   41.977934] ---[ end trace 0000000000000000 ]---
[   41.978296] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.978911] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.980280] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   41.980690] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   41.981225] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   41.982059] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   41.982831] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.983369] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   41.983904] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.984634] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.985127] CR2: 00007f8809cef000 CR3: 00000000262cc004 CR4: 0000000000770ef0
[   41.985650] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.986225] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.986796] PKRU: 55555554
[   41.987008] note: repro[8341] exited with preempt_count 1
[   41.987400] Fixing recursive fault but reboot is needed!
[   41.987985] BUG: scheduling while atomic: repro/8341/0x00000000
[   41.988577] INFO: lockdep is turned off.
[   41.988873] Modules linked in:
[   41.989107] Preemption disabled at:
[   41.989112] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   41.989911] CPU: 1 UID: 0 PID: 8341 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   41.990757] Tainted: [D]=DIE, [W]=WARN
[   41.991034] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.991836] Call Trace:
[   41.992025]  <TASK>
[   41.992185]  dump_stack_lvl+0x121/0x150
[   41.992472]  ? do_task_dead+0x28/0x110
[   41.992761]  dump_stack+0x19/0x20
[   41.993016]  __schedule_bug+0x12d/0x180
[   41.993307]  __schedule+0x210c/0x2eb0
[   41.993580]  ? rcu_is_watching+0x19/0xc0
[   41.994018]  ? lock_release+0x592/0x870
[   41.994426]  ? __pfx___schedule+0x10/0x10
[   41.994771]  ? debug_smp_processor_id+0x20/0x30
[   41.995102]  ? rcu_is_watching+0x19/0xc0
[   41.995389]  ? trace_irq_enable+0xe1/0x120
[   41.995701]  ? do_task_dead+0x4a/0x110
[   41.995988]  do_task_dead+0xe0/0x110
[   41.996263]  make_task_dead+0x384/0x3c0
[   41.996552]  rewind_stack_and_make_dead+0x16/0x20
[   41.996899] RIP: 0033:0x7f730f23ee5d
[   41.997160] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   41.997580] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.998102] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   41.998580] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.999075] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   41.999546] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   42.000017] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   42.000496]  </TASK>
[   42.249844] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#61] PREEMPT SMP KASAN NOPTI
[   42.250507] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   42.251032] CPU: 0 UID: 0 PID: 8536 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   42.251585] Tainted: [D]=DIE, [W]=WARN
[   42.251817] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.252453] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.252811] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.253852] RSP: 0018:ffff88800fa4f7d8 EFLAGS: 00010202
[   42.254177] RAX: dffffc0000000000 RBX: ffffea00005be580 RCX: ffffffff81b9e6e9
[   42.254584] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00005be590
[   42.254994] RBP: ffff88800fa4f7f8 R08: 0000000000000000 R09: ffffed100212952c
[   42.255412] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   42.255836] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801094a960
[   42.256244] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   42.256703] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.257025] CR2: 00007ffdcd14bac8 CR3: 000000001627c006 CR4: 0000000000770ef0
[   42.257444] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.257872] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.258296] PKRU: 55555554
[   42.258472] Call Trace:
[   42.258626]  <TASK>
[   42.258764]  ? show_regs+0xa8/0xc0
[   42.258989]  ? die_addr+0x5d/0xf0
[   42.259202]  ? exc_general_protection+0x1ae/0x340
[   42.259498]  ? asm_exc_general_protection+0x2b/0x30
[   42.259803]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   42.260194]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.260567]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   42.260881]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.261195]  zap_huge_pmd+0x494/0xd40
[   42.261430]  unmap_page_range+0x1ad6/0x4320
[   42.261704]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   42.262012]  ? __pfx_unmap_page_range+0x10/0x10
[   42.262293]  unmap_single_vma+0x1ac/0x2d0
[   42.262526]  unmap_vmas+0x210/0x470
[   42.262758]  ? __pfx_unmap_vmas+0x10/0x10
[   42.263022]  ? __pfx_lock_release+0x10/0x10
[   42.263281]  ? lock_release+0x592/0x870
[   42.263518]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   42.263827]  ? __pfx_lock_release+0x10/0x10
[   42.264091]  ? mlock_drain_local+0x27f/0x4b0
[   42.264366]  exit_mmap+0x19e/0xb10
[   42.264592]  ? __pfx_exit_mmap+0x10/0x10
[   42.264856]  ? trace_hardirqs_on+0x51/0x60
[   42.265122]  ? __khugepaged_exit+0x266/0x4c0
[   42.265388]  ? kmem_cache_free+0x15d/0x420
[   42.265652]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.266109]  __mmput+0xd6/0x390
[   42.266396]  mmput+0x74/0x90
[   42.266657]  do_exit+0xa03/0x29f0
[   42.266882]  ? trace_hardirqs_on+0x51/0x60
[   42.267146]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   42.267508]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   42.267808]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   42.268101]  ? __pfx_do_exit+0x10/0x10
[   42.268333]  ? __audit_syscall_entry+0x39c/0x500
[   42.268627]  __x64_sys_exit+0x50/0x60
[   42.268871]  x64_sys_call+0x20c9/0x20d0
[   42.269109]  do_syscall_64+0x6d/0x140
[   42.269350]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.269665] RIP: 0033:0x7f730f23ee5d
[   42.269890] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   42.270249] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.270701] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   42.271122] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.271532] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   42.271942] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   42.272359] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   42.272783]  </TASK>
[   42.272923] Modules linked in:
[   42.273309] ---[ end trace 0000000000000000 ]---
[   42.273683] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.274075] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.275221] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   42.275534] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   42.275935] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   42.276343] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   42.276751] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   42.277156] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   42.277565] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   42.278038] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.278370] CR2: 00007ffdcd14bac8 CR3: 000000001627c006 CR4: 0000000000770ef0
[   42.278803] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.279232] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.279634] PKRU: 55555554
[   42.279811] note: repro[8536] exited with preempt_count 1
[   42.280124] Fixing recursive fault but reboot is needed!
[   42.280435] BUG: scheduling while atomic: repro/8536/0x00000000
[   42.280784] INFO: lockdep is turned off.
[   42.281014] Modules linked in:
[   42.281201] Preemption disabled at:
[   42.281206] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   42.281749] CPU: 0 UID: 0 PID: 8536 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   42.282297] Tainted: [D]=DIE, [W]=WARN
[   42.282535] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.283191] Call Trace:
[   42.283345]  <TASK>
[   42.283485]  dump_stack_lvl+0x121/0x150
[   42.283740]  ? do_task_dead+0x28/0x110
[   42.283979]  dump_stack+0x19/0x20
[   42.284199]  __schedule_bug+0x12d/0x180
[   42.284435]  __schedule+0x210c/0x2eb0
[   42.284676]  ? rcu_is_watching+0x19/0xc0
[   42.284916]  ? lock_release+0x592/0x870
[   42.285236]  ? __pfx___schedule+0x10/0x10
[   42.285485]  ? debug_smp_processor_id+0x20/0x30
[   42.285779]  ? rcu_is_watching+0x19/0xc0
[   42.286030]  ? trace_irq_enable+0xe1/0x120
[   42.286296]  ? do_task_dead+0x4a/0x110
[   42.286542]  do_task_dead+0xe0/0x110
[   42.286782]  make_task_dead+0x384/0x3c0
[   42.287030]  rewind_stack_and_make_dead+0x16/0x20
[   42.287326] RIP: 0033:0x7f730f23ee5d
[   42.287548] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   42.287914] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.288345] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   42.288747] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.289159] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   42.289570] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   42.289989] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   42.290412]  </TASK>
[   42.531925] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#62] PREEMPT SMP KASAN NOPTI
[   42.533023] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   42.533708] CPU: 1 UID: 0 PID: 8724 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   42.534556] Tainted: [D]=DIE, [W]=WARN
[   42.534904] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.535889] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.536409] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.537984] RSP: 0018:ffff88802611f7d8 EFLAGS: 00010202
[   42.538445] RAX: dffffc0000000000 RBX: ffffea000098bb40 RCX: ffffffff81b9e6e9
[   42.539061] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098bb50
[   42.539682] RBP: ffff88802611f7f8 R08: 0000000000000000 R09: ffffed1003828398
[   42.540295] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   42.540909] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c141cc0
[   42.541521] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   42.542202] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.542688] CR2: 00007f730f517910 CR3: 000000002600e001 CR4: 0000000000770ef0
[   42.543280] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.543873] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.544461] PKRU: 55555554
[   42.544701] Call Trace:
[   42.544917]  <TASK>
[   42.545106]  ? show_regs+0xa8/0xc0
[   42.545414]  ? die_addr+0x5d/0xf0
[   42.545717]  ? exc_general_protection+0x1ae/0x340
[   42.546133]  ? asm_exc_general_protection+0x2b/0x30
[   42.546555]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   42.546983]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.547415]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   42.547844]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.548271]  zap_huge_pmd+0x494/0xd40
[   42.548589]  unmap_page_range+0x1ad6/0x4320
[   42.548954]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   42.549375]  ? __pfx_unmap_page_range+0x10/0x10
[   42.549766]  unmap_single_vma+0x1ac/0x2d0
[   42.550107]  unmap_vmas+0x210/0x470
[   42.550411]  ? __pfx_unmap_vmas+0x10/0x10
[   42.550752]  ? __pfx_lock_release+0x10/0x10
[   42.551100]  ? lock_release+0x592/0x870
[   42.551420]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   42.551831]  ? __pfx_lock_release+0x10/0x10
[   42.552185]  ? mlock_drain_local+0x27f/0x4b0
[   42.552547]  exit_mmap+0x19e/0xb10
[   42.552841]  ? __pfx_exit_mmap+0x10/0x10
[   42.553167]  ? trace_hardirqs_on+0x51/0x60
[   42.553513]  ? __khugepaged_exit+0x266/0x4c0
[   42.553864]  ? kmem_cache_free+0x15d/0x420
[   42.554201]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.554649]  __mmput+0xd6/0x390
[   42.554958]  mmput+0x74/0x90
[   42.555230]  do_exit+0xa03/0x29f0
[   42.555539]  ? trace_hardirqs_on+0x51/0x60
[   42.555917]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   42.556463]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   42.556900]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   42.557308]  ? __pfx_do_exit+0x10/0x10
[   42.557606]  ? __audit_syscall_entry+0x39c/0x500
[   42.557971]  __x64_sys_exit+0x50/0x60
[   42.558262]  x64_sys_call+0x20c9/0x20d0
[   42.558565]  do_syscall_64+0x6d/0x140
[   42.558862]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.559252] RIP: 0033:0x7f730f23ee5d
[   42.559534] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   42.559997] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.560564] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   42.561098] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.561630] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   42.562159] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   42.562676] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   42.563224]  </TASK>
[   42.563404] Modules linked in:
[   42.563777] ---[ end trace 0000000000000000 ]---
[   42.564122] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.564550] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.565976] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   42.566356] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   42.566963] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   42.567465] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   42.567971] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   42.568473] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   42.569160] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   42.569733] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.570141] CR2: 00007f730f517910 CR3: 000000002600e001 CR4: 0000000000770ef0
[   42.570666] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.571369] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.572073] PKRU: 55555554
[   42.572352] note: repro[8724] exited with preempt_count 1
[   42.572870] Fixing recursive fault but reboot is needed!
[   42.573403] BUG: scheduling while atomic: repro/8724/0x00000000
[   42.573974] INFO: lockdep is turned off.
[   42.574318] Modules linked in:
[   42.574621] Preemption disabled at:
[   42.574626] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   42.575513] CPU: 1 UID: 0 PID: 8724 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   42.576539] Tainted: [D]=DIE, [W]=WARN
[   42.576796] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.577546] Call Trace:
[   42.577720]  <TASK>
[   42.577871]  dump_stack_lvl+0x121/0x150
[   42.578145]  ? do_task_dead+0x28/0x110
[   42.578501]  dump_stack+0x19/0x20
[   42.578743]  __schedule_bug+0x12d/0x180
[   42.579014]  __schedule+0x210c/0x2eb0
[   42.579270]  ? rcu_is_watching+0x19/0xc0
[   42.579542]  ? lock_release+0x592/0x870
[   42.579809]  ? __pfx___schedule+0x10/0x10
[   42.580087]  ? debug_smp_processor_id+0x20/0x30
[   42.580410]  ? rcu_is_watching+0x19/0xc0
[   42.580764]  ? trace_irq_enable+0xe1/0x120
[   42.581044]  ? do_task_dead+0x4a/0x110
[   42.581302]  do_task_dead+0xe0/0x110
[   42.581551]  make_task_dead+0x384/0x3c0
[   42.581815]  rewind_stack_and_make_dead+0x16/0x20
[   42.582129] RIP: 0033:0x7f730f23ee5d
[   42.582368] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   42.582871] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.583363] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   42.583820] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.584278] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   42.584743] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   42.585228] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   42.585684]  </TASK>
[   43.137833] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#63] PREEMPT SMP KASAN NOPTI
[   43.138910] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.139578] CPU: 0 UID: 0 PID: 9117 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.140297] Tainted: [D]=DIE, [W]=WARN
[   43.140592] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.141437] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.141898] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.143267] RSP: 0018:ffff88801da877d8 EFLAGS: 00010202
[   43.143691] RAX: dffffc0000000000 RBX: ffffea0000510500 RCX: ffffffff81b9e6e9
[   43.144269] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000510510
[   43.144807] RBP: ffff88801da877f8 R08: 0000000000000000 R09: ffffed10023f9024
[   43.145308] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   43.145826] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011fc8120
[   43.146348] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   43.146915] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.147322] CR2: 00007f730f3fca50 CR3: 000000001fac8006 CR4: 0000000000770ef0
[   43.147826] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.148330] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.148833] PKRU: 55555554
[   43.149028] Call Trace:
[   43.149209]  <TASK>
[   43.149386]  ? show_regs+0xa8/0xc0
[   43.149669]  ? die_addr+0x5d/0xf0
[   43.149932]  ? exc_general_protection+0x1ae/0x340
[   43.150283]  ? asm_exc_general_protection+0x2b/0x30
[   43.150646]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.151232]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.151722]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.152109]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.152493]  zap_huge_pmd+0x494/0xd40
[   43.152782]  unmap_page_range+0x1ad6/0x4320
[   43.153097]  ? __pfx_lock_release+0x10/0x10
[   43.153408]  ? do_raw_spin_trylock+0xbf/0x190
[   43.153754]  ? __kasan_check_read+0x15/0x20
[   43.154063]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.154424]  ? __pfx_unmap_page_range+0x10/0x10
[   43.154763]  unmap_single_vma+0x1ac/0x2d0
[   43.155056]  unmap_vmas+0x210/0x470
[   43.155322]  ? __pfx_unmap_vmas+0x10/0x10
[   43.155643]  ? __pfx_lock_release+0x10/0x10
[   43.155951]  ? lock_release+0x592/0x870
[   43.156228]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.156582]  ? __pfx_lock_release+0x10/0x10
[   43.156900]  ? mlock_drain_local+0x27f/0x4b0
[   43.157376]  exit_mmap+0x19e/0xb10
[   43.157758]  ? __pfx_exit_mmap+0x10/0x10
[   43.158055]  ? trace_hardirqs_on+0x51/0x60
[   43.158372]  ? __khugepaged_exit+0x266/0x4c0
[   43.158688]  ? kmem_cache_free+0x15d/0x420
[   43.158992]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.159366]  __mmput+0xd6/0x390
[   43.159599]  mmput+0x74/0x90
[   43.159829]  do_exit+0xa03/0x29f0
[   43.160081]  ? trace_hardirqs_on+0x51/0x60
[   43.160381]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.160819]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.161162]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.161512]  ? __pfx_do_exit+0x10/0x10
[   43.161797]  ? __audit_syscall_entry+0x39c/0x500
[   43.162145]  __x64_sys_exit+0x50/0x60
[   43.162415]  x64_sys_call+0x20c9/0x20d0
[   43.162695]  do_syscall_64+0x6d/0x140
[   43.162965]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.163471] RIP: 0033:0x7f730f23ee5d
[   43.163825] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.164243] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.164730] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.165181] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.165643] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.166088] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.166537] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.166986]  </TASK>
[   43.167129] Modules linked in:
[   43.167513] ---[ end trace 0000000000000000 ]---
[   43.167809] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.168173] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.169262] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   43.169745] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   43.170291] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   43.170857] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   43.171271] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.171683] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   43.172092] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   43.172553] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.172969] CR2: 00007f730f3fca50 CR3: 000000001fac8006 CR4: 0000000000770ef0
[   43.173526] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.174088] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.174663] PKRU: 55555554
[   43.174896] note: repro[9117] exited with preempt_count 1
[   43.175323] Fixing recursive fault but reboot is needed!
[   43.175927] BUG: scheduling while atomic: repro/9117/0x00000000
[   43.176447] INFO: lockdep is turned off.
[   43.176677] Modules linked in:
[   43.176860] Preemption disabled at:
[   43.176863] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   43.177378] CPU: 0 UID: 0 PID: 9117 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.177915] Tainted: [D]=DIE, [W]=WARN
[   43.178132] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.178814] Call Trace:
[   43.179051]  <TASK>
[   43.179260]  dump_stack_lvl+0x121/0x150
[   43.179641]  ? do_task_dead+0x28/0x110
[   43.179961]  dump_stack+0x19/0x20
[   43.180169]  __schedule_bug+0x12d/0x180
[   43.180403]  __schedule+0x210c/0x2eb0
[   43.180624]  ? rcu_is_watching+0x19/0xc0
[   43.180856]  ? lock_release+0x592/0x870
[   43.181081]  ? __pfx___schedule+0x10/0x10
[   43.181313]  ? debug_smp_processor_id+0x20/0x30
[   43.181574]  ? rcu_is_watching+0x19/0xc0
[   43.181929]  ? trace_irq_enable+0xe1/0x120
[   43.182296]  ? do_task_dead+0x4a/0x110
[   43.182587]  do_task_dead+0xe0/0x110
[   43.182808]  make_task_dead+0x384/0x3c0
[   43.183038]  rewind_stack_and_make_dead+0x16/0x20
[   43.183310] RIP: 0033:0x7f730f23ee5d
[   43.183517] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.183863] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.184282] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.184690] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.185076] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.185458] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.185834] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.186212]  </TASK>
[   43.506038] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#64] PREEMPT SMP KASAN NOPTI
[   43.506948] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.507560] CPU: 0 UID: 0 PID: 9356 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.508494] Tainted: [D]=DIE, [W]=WARN
[   43.508863] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.509919] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.510484] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.512518] RSP: 0018:ffff88802625f7d8 EFLAGS: 00010202
[   43.513027] RAX: dffffc0000000000 RBX: ffffea00004057c0 RCX: ffffffff81b9e6e9
[   43.513702] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004057d0
[   43.514352] RBP: ffff88802625f7f8 R08: 0000000000000000 R09: ffffed1002537e3c
[   43.514996] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.515637] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880129bf1e0
[   43.516278] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   43.517002] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.517522] CR2: 00007f730f52b000 CR3: 0000000026246005 CR4: 0000000000770ef0
[   43.518165] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.518809] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.519449] PKRU: 55555554
[   43.519708] Call Trace:
[   43.519941]  <TASK>
[   43.520143]  ? show_regs+0xa8/0xc0
[   43.520600]  ? die_addr+0x5d/0xf0
[   43.520951]  ? exc_general_protection+0x1ae/0x340
[   43.521391]  ? asm_exc_general_protection+0x2b/0x30
[   43.521845]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.522310]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.522778]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.523242]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.523713]  zap_huge_pmd+0x494/0xd40
[   43.524179]  unmap_page_range+0x1ad6/0x4320
[   43.524741]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.525226]  ? __pfx_unmap_page_range+0x10/0x10
[   43.525648]  unmap_single_vma+0x1ac/0x2d0
[   43.526030]  unmap_vmas+0x210/0x470
[   43.526350]  ? __pfx_unmap_vmas+0x10/0x10
[   43.526707]  ? __pfx_lock_release+0x10/0x10
[   43.527074]  ? lock_release+0x592/0x870
[   43.527410]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.527840]  ? __pfx_lock_release+0x10/0x10
[   43.528209]  ? mlock_drain_local+0x27f/0x4b0
[   43.528588]  exit_mmap+0x19e/0xb10
[   43.528904]  ? __pfx_exit_mmap+0x10/0x10
[   43.529261]  ? trace_hardirqs_on+0x51/0x60
[   43.529632]  ? __khugepaged_exit+0x266/0x4c0
[   43.530015]  ? kmem_cache_free+0x15d/0x420
[   43.530554]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.531180]  __mmput+0xd6/0x390
[   43.531468]  mmput+0x74/0x90
[   43.531736]  do_exit+0xa03/0x29f0
[   43.532033]  ? trace_hardirqs_on+0x51/0x60
[   43.532385]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.532903]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.533311]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.533720]  ? __pfx_do_exit+0x10/0x10
[   43.534043]  ? __audit_syscall_entry+0x39c/0x500
[   43.534435]  __x64_sys_exit+0x50/0x60
[   43.534756]  x64_sys_call+0x20c9/0x20d0
[   43.535085]  do_syscall_64+0x6d/0x140
[   43.535406]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.535834] RIP: 0033:0x7f730f23ee5d
[   43.536140] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.536637] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.537444] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.538022] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.538578] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.539133] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.539689] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.540251]  </TASK>
[   43.540436] Modules linked in:
[   43.540860] ---[ end trace 0000000000000000 ]---
[   43.541239] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.541706] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.543436] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   43.543847] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   43.544387] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   43.545045] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   43.545583] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.546122] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   43.546756] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   43.547349] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.547777] CR2: 00007f730f52b000 CR3: 0000000026246005 CR4: 0000000000770ef0
[   43.548296] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.548897] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.549667] PKRU: 55555554
[   43.549886] note: repro[9356] exited with preempt_count 1
[   43.550283] Fixing recursive fault but reboot is needed!
[   43.550719] check_preemption_disabled: 9 callbacks suppressed
[   43.550727] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9356
[   43.551712] caller is debug_smp_processor_id+0x20/0x30
[   43.552103] CPU: 0 UID: 0 PID: 9356 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.552773] Tainted: [D]=DIE, [W]=WARN
[   43.553044] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.553835] Call Trace:
[   43.554019]  <TASK>
[   43.554180]  dump_stack_lvl+0x121/0x150
[   43.554478]  dump_stack+0x19/0x20
[   43.554738]  check_preemption_disabled+0x168/0x180
[   43.555092]  debug_smp_processor_id+0x20/0x30
[   43.555561]  __schedule+0x9a/0x2eb0
[   43.555923]  ? rcu_is_watching+0x19/0xc0
[   43.556217]  ? lock_release+0x592/0x870
[   43.556495]  ? __pfx___schedule+0x10/0x10
[   43.556787]  ? debug_smp_processor_id+0x20/0x30
[   43.557111]  ? rcu_is_watching+0x19/0xc0
[   43.557394]  ? trace_irq_enable+0xe1/0x120
[   43.557700]  ? do_task_dead+0x4a/0x110
[   43.557978]  do_task_dead+0xe0/0x110
[   43.558244]  make_task_dead+0x384/0x3c0
[   43.558524]  rewind_stack_and_make_dead+0x16/0x20
[   43.558860] RIP: 0033:0x7f730f23ee5d
[   43.559114] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.559534] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.560052] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.560533] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.561003] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.561474] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.561951] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.562430]  </TASK>
[   43.562633] BUG: scheduling while atomic: repro/9356/0x00000000
[   43.563161] INFO: lockdep is turned off.
[   43.563427] Modules linked in:
[   43.563641] Preemption disabled at:
[   43.563645] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   43.564249] CPU: 0 UID: 0 PID: 9356 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.564865] Tainted: [D]=DIE, [W]=WARN
[   43.565113] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.565834] Call Trace:
[   43.566001]  <TASK>
[   43.566148]  dump_stack_lvl+0x121/0x150
[   43.566413]  ? do_task_dead+0x28/0x110
[   43.566677]  dump_stack+0x19/0x20
[   43.566913]  __schedule_bug+0x12d/0x180
[   43.567174]  __schedule+0x210c/0x2eb0
[   43.567418]  ? rcu_is_watching+0x19/0xc0
[   43.567678]  ? lock_release+0x592/0x870
[   43.567932]  ? __pfx___schedule+0x10/0x10
[   43.568197]  ? debug_smp_processor_id+0x20/0x30
[   43.568494]  ? rcu_is_watching+0x19/0xc0
[   43.568863]  ? trace_irq_enable+0xe1/0x120
[   43.569246]  ? do_task_dead+0x4a/0x110
[   43.569506]  do_task_dead+0xe0/0x110
[   43.569752]  make_task_dead+0x384/0x3c0
[   43.570011]  rewind_stack_and_make_dead+0x16/0x20
[   43.570319] RIP: 0033:0x7f730f23ee5d
[   43.570555] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.570937] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.571412] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.571845] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.572276] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.572708] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.573140] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.573578]  </TASK>
[   43.651697] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#65] PREEMPT SMP KASAN NOPTI
[   43.652800] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.653474] CPU: 1 UID: 0 PID: 9455 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.654320] Tainted: [D]=DIE, [W]=WARN
[   43.654666] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.655669] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.656231] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.658160] RSP: 0018:ffff88801a7ff7d8 EFLAGS: 00010202
[   43.658646] RAX: dffffc0000000000 RBX: ffffea0000987e80 RCX: ffffffff81b9e6e9
[   43.659303] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000987e90
[   43.659949] RBP: ffff88801a7ff7f8 R08: 0000000000000000 R09: ffffed1002637ab4
[   43.660592] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.661219] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880131bd5a0
[   43.661849] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.662831] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.663442] CR2: 00007f730f516df0 CR3: 000000002744c005 CR4: 0000000000770ef0
[   43.664085] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.664712] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.665330] PKRU: 55555554
[   43.665588] Call Trace:
[   43.665817]  <TASK>
[   43.666030]  ? show_regs+0xa8/0xc0
[   43.666363]  ? die_addr+0x5d/0xf0
[   43.666703]  ? exc_general_protection+0x1ae/0x340
[   43.667156]  ? asm_exc_general_protection+0x2b/0x30
[   43.667617]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.668126]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.668610]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.669081]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.669537]  zap_huge_pmd+0x494/0xd40
[   43.669900]  unmap_page_range+0x1ad6/0x4320
[   43.670307]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.670751]  ? __pfx_unmap_page_range+0x10/0x10
[   43.671161]  unmap_single_vma+0x1ac/0x2d0
[   43.671539]  unmap_vmas+0x210/0x470
[   43.671879]  ? __pfx_unmap_vmas+0x10/0x10
[   43.672247]  ? __pfx_lock_release+0x10/0x10
[   43.672710]  ? lock_release+0x592/0x870
[   43.673228]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.673718]  ? __pfx_lock_release+0x10/0x10
[   43.674101]  ? mlock_drain_local+0x27f/0x4b0
[   43.674495]  exit_mmap+0x19e/0xb10
[   43.674815]  ? __pfx_exit_mmap+0x10/0x10
[   43.675184]  ? trace_hardirqs_on+0x51/0x60
[   43.675569]  ? __khugepaged_exit+0x266/0x4c0
[   43.675952]  ? kmem_cache_free+0x15d/0x420
[   43.676325]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.676802]  __mmput+0xd6/0x390
[   43.677092]  mmput+0x74/0x90
[   43.677362]  do_exit+0xa03/0x29f0
[   43.677675]  ? trace_hardirqs_on+0x51/0x60
[   43.678057]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.678600]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.679020]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.679417]  ? __pfx_do_exit+0x10/0x10
[   43.679746]  ? __audit_syscall_entry+0x39c/0x500
[   43.680150]  __x64_sys_exit+0x50/0x60
[   43.680470]  x64_sys_call+0x20c9/0x20d0
[   43.680800]  do_syscall_64+0x6d/0x140
[   43.681124]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.681543] RIP: 0033:0x7f730f23ee5d
[   43.681846] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.682355] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.682957] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.683519] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.684089] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.684649] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.685284] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.685993]  </TASK>
[   43.686172] Modules linked in:
[   43.686633] ---[ end trace 0000000000000000 ]---
[   43.686997] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.687441] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.688785] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   43.689185] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   43.689724] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   43.690249] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   43.690993] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.691847] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   43.692380] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.692952] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.693366] CR2: 00007f730f516df0 CR3: 000000002744c005 CR4: 0000000000770ef0
[   43.693875] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.694381] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.695040] PKRU: 55555554
[   43.695251] note: repro[9455] exited with preempt_count 1
[   43.695652] Fixing recursive fault but reboot is needed!
[   43.696032] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9455
[   43.696576] caller is debug_smp_processor_id+0x20/0x30
[   43.696960] CPU: 1 UID: 0 PID: 9455 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.697626] Tainted: [D]=DIE, [W]=WARN
[   43.698020] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.698817] Call Trace:
[   43.699000]  <TASK>
[   43.699160]  dump_stack_lvl+0x121/0x150
[   43.699449]  dump_stack+0x19/0x20
[   43.699706]  check_preemption_disabled+0x168/0x180
[   43.700050]  debug_smp_processor_id+0x20/0x30
[   43.700366]  __schedule+0x9a/0x2eb0
[   43.700625]  ? rcu_is_watching+0x19/0xc0
[   43.700916]  ? lock_release+0x592/0x870
[   43.701196]  ? __pfx___schedule+0x10/0x10
[   43.701486]  ? debug_smp_processor_id+0x20/0x30
[   43.701815]  ? rcu_is_watching+0x19/0xc0
[   43.702099]  ? trace_irq_enable+0xe1/0x120
[   43.702404]  ? do_task_dead+0x4a/0x110
[   43.702693]  do_task_dead+0xe0/0x110
[   43.702966]  make_task_dead+0x384/0x3c0
[   43.703252]  rewind_stack_and_make_dead+0x16/0x20
[   43.703582] RIP: 0033:0x7f730f23ee5d
[   43.703939] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.704462] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.704963] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.705430] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.705907] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.706376] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.706843] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.707314]  </TASK>
[   43.707687] BUG: scheduling while atomic: repro/9455/0x00000000
[   43.708090] INFO: lockdep is turned off.
[   43.708353] Modules linked in:
[   43.708607] Preemption disabled at:
[   43.708614] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   43.709332] CPU: 1 UID: 0 PID: 9455 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   43.709953] Tainted: [D]=DIE, [W]=WARN
[   43.710203] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.710910] Call Trace:
[   43.711120]  <TASK>
[   43.711319]  dump_stack_lvl+0x121/0x150
[   43.711645]  ? do_task_dead+0x28/0x110
[   43.711907]  dump_stack+0x19/0x20
[   43.712140]  __schedule_bug+0x12d/0x180
[   43.712402]  __schedule+0x210c/0x2eb0
[   43.712649]  ? rcu_is_watching+0x19/0xc0
[   43.712912]  ? lock_release+0x592/0x870
[   43.713170]  ? __pfx___schedule+0x10/0x10
[   43.713439]  ? debug_smp_processor_id+0x20/0x30
[   43.713742]  ? rcu_is_watching+0x19/0xc0
[   43.714005]  ? trace_irq_enable+0xe1/0x120
[   43.714286]  ? do_task_dead+0x4a/0x110
[   43.714547]  do_task_dead+0xe0/0x110
[   43.714801]  make_task_dead+0x384/0x3c0
[   43.715067]  rewind_stack_and_make_dead+0x16/0x20
[   43.715380] RIP: 0033:0x7f730f23ee5d
[   43.715618] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   43.715992] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.716452] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   43.716890] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.717324] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   43.717756] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   43.718186] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   43.718633]  </TASK>
[   44.148756] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#66] PREEMPT SMP KASAN NOPTI
[   44.149802] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.150597] CPU: 1 UID: 0 PID: 9698 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.151416] Tainted: [D]=DIE, [W]=WARN
[   44.151747] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.152711] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.153254] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.154993] RSP: 0018:ffff88800fbb77d8 EFLAGS: 00010202
[   44.155595] RAX: dffffc0000000000 RBX: ffffea0000509fc0 RCX: ffffffff81b9e6e9
[   44.156415] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000509fd0
[   44.157264] RBP: ffff88800fbb77f8 R08: 0000000000000000 R09: ffffed1003814ef0
[   44.158093] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.158857] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0a7780
[   44.159618] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   44.160481] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.161108] CR2: 00007f730f516df0 CR3: 000000002246e005 CR4: 0000000000770ef0
[   44.161879] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.162643] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.163411] PKRU: 55555554
[   44.163718] Call Trace:
[   44.163997]  <TASK>
[   44.164244]  ? show_regs+0xa8/0xc0
[   44.164639]  ? die_addr+0x5d/0xf0
[   44.165029]  ? exc_general_protection+0x1ae/0x340
[   44.165542]  ? asm_exc_general_protection+0x2b/0x30
[   44.166074]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.166617]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.167167]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.167715]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.168267]  zap_huge_pmd+0x494/0xd40
[   44.168680]  unmap_page_range+0x1ad6/0x4320
[   44.169146]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.169690]  ? __pfx_unmap_page_range+0x10/0x10
[   44.170200]  unmap_single_vma+0x1ac/0x2d0
[   44.170638]  unmap_vmas+0x210/0x470
[   44.171032]  ? __pfx_unmap_vmas+0x10/0x10
[   44.171462]  ? __pfx_lock_release+0x10/0x10
[   44.171909]  ? lock_release+0x592/0x870
[   44.172320]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.172848]  ? __pfx_lock_release+0x10/0x10
[   44.173277]  ? mlock_drain_local+0x27f/0x4b0
[   44.173724]  exit_mmap+0x19e/0xb10
[   44.174086]  ? __pfx_exit_mmap+0x10/0x10
[   44.174501]  ? trace_hardirqs_on+0x51/0x60
[   44.174935]  ? __khugepaged_exit+0x266/0x4c0
[   44.175374]  ? kmem_cache_free+0x15d/0x420
[   44.175805]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.176349]  __mmput+0xd6/0x390
[   44.176689]  mmput+0x74/0x90
[   44.177005]  do_exit+0xa03/0x29f0
[   44.177358]  ? trace_hardirqs_on+0x51/0x60
[   44.177788]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.178410]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.178904]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.179395]  ? __pfx_do_exit+0x10/0x10
[   44.179778]  ? __audit_syscall_entry+0x39c/0x500
[   44.180232]  __x64_sys_exit+0x50/0x60
[   44.180597]  x64_sys_call+0x20c9/0x20d0
[   44.180977]  do_syscall_64+0x6d/0x140
[   44.181346]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.181839] RIP: 0033:0x7f730f23ee5d
[   44.182191] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.182771] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.183479] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.184150] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.184818] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.185484] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.186150] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.186808]  </TASK>
[   44.187018] Modules linked in:
[   44.187409] ---[ end trace 0000000000000000 ]---
[   44.187511] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#67] PREEMPT SMP KASAN NOPTI
[   44.187840] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.188893] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.189519] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.190221] CPU: 0 UID: 0 PID: 9702 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.191895] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   44.192705] Tainted: [D]=DIE, [W]=WARN
[   44.193275] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   44.193614] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.194274] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   44.195269] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.195960] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   44.196461] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.197068] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.198686] RSP: 0018:ffff88801f0f77d8 EFLAGS: 00010202
[   44.199466] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   44.200015] RAX: dffffc0000000000 RBX: ffffea000085b540 RCX: ffffffff81b9e6e9
[   44.200646] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   44.201282] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000085b550
[   44.201933] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.202557] RBP: ffff88801f0f77f8 R08: 0000000000000000 R09: ffffed1003814f14
[   44.203278] CR2: 00007f730f516df0 CR3: 000000002246e005 CR4: 0000000000770ef0
[   44.203908] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.204822] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.205447] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0a78a0
[   44.206047] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.206681] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   44.207263] PKRU: 55555554
[   44.207970] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.208198] note: repro[9698] exited with preempt_count 1
[   44.208710] CR2: 00007f730f4f6658 CR3: 000000000f9e2004 CR4: 0000000000770ef0
[   44.209158] Fixing recursive fault but reboot is needed!
[   44.209794] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.210237] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9698
[   44.210873] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.211513] caller is debug_smp_processor_id+0x20/0x30
[   44.212182] PKRU: 55555554
[   44.212688] CPU: 1 UID: 0 PID: 9698 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.212947] Call Trace:
[   44.213724] Tainted: [D]=DIE, [W]=WARN
[   44.213968]  <TASK>
[   44.214246] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.214457]  ? show_regs+0xa8/0xc0
[   44.215438] Call Trace:
[   44.215779]  ? die_addr+0x5d/0xf0
[   44.216004]  <TASK>
[   44.216315]  ? exc_general_protection+0x1ae/0x340
[   44.216480]  dump_stack_lvl+0x121/0x150
[   44.216910]  ? asm_exc_general_protection+0x2b/0x30
[   44.217251]  dump_stack+0x19/0x20
[   44.217688]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.217944]  check_preemption_disabled+0x168/0x180
[   44.218399]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.218781]  debug_smp_processor_id+0x20/0x30
[   44.219238]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.219753]  __schedule+0x9a/0x2eb0
[   44.220212]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.220638]  ? rcu_is_watching+0x19/0xc0
[   44.221097]  zap_huge_pmd+0x494/0xd40
[   44.221383]  ? lock_release+0x592/0x870
[   44.221721]  unmap_page_range+0x1ad6/0x4320
[   44.221997]  ? __pfx___schedule+0x10/0x10
[   44.222389]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.222669]  ? debug_smp_processor_id+0x20/0x30
[   44.223125]  ? __pfx_unmap_page_range+0x10/0x10
[   44.223522]  ? rcu_is_watching+0x19/0xc0
[   44.223947]  unmap_single_vma+0x1ac/0x2d0
[   44.224230]  ? trace_irq_enable+0xe1/0x120
[   44.224612]  unmap_vmas+0x210/0x470
[   44.224906]  ? do_task_dead+0x4a/0x110
[   44.225227]  ? __pfx_unmap_vmas+0x10/0x10
[   44.225496]  do_task_dead+0xe0/0x110
[   44.225861]  ? __pfx_lock_release+0x10/0x10
[   44.226126]  make_task_dead+0x384/0x3c0
[   44.226499]  ? lock_release+0x592/0x870
[   44.226777]  rewind_stack_and_make_dead+0x16/0x20
[   44.227139]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.227564] RIP: 0033:0x7f730f23ee5d
[   44.228023]  ? __pfx_lock_release+0x10/0x10
[   44.228281] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.228687]  ? mlock_drain_local+0x27f/0x4b0
[   44.229122] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.229517]  exit_mmap+0x19e/0xb10
[   44.230040] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.230360]  ? __pfx_exit_mmap+0x10/0x10
[   44.230850] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.231216]  ? trace_hardirqs_on+0x51/0x60
[   44.231700] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.232073]  ? __khugepaged_exit+0x266/0x4c0
[   44.232550] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.232941]  ? kmem_cache_free+0x15d/0x420
[   44.233540] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.233928]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.234295]  </TASK>
[   44.234787]  __mmput+0xd6/0x390
[   44.235186]  mmput+0x74/0x90
[   44.235463]  do_exit+0xa03/0x29f0
[   44.235798]  ? trace_hardirqs_on+0x51/0x60
[   44.236197]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.236782]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.237249]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.237701]  ? __pfx_do_exit+0x10/0x10
[   44.238063]  ? __audit_syscall_entry+0x39c/0x500
[   44.238484]  __x64_sys_exit+0x50/0x60
[   44.238834]  x64_sys_call+0x20c9/0x20d0
[   44.239200]  do_syscall_64+0x6d/0x140
[   44.239546]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.240002] RIP: 0033:0x7f730f23ee5d
[   44.240323] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.240847] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.241485] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.242092] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.242696] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.243301] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.243906] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.244521]  </TASK>
[   44.244721] Modules linked in:
[   44.245045] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#68] PREEMPT SMP KASAN NOPTI
[   44.245313] ---[ end trace 0000000000000000 ]---
[   44.245613] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.246005] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.246344] CPU: 1 UID: 0 PID: 9706 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.246983] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.247235] Tainted: [D]=DIE, [W]=WARN
[   44.248689] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   44.248867] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.248875] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.249294] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   44.249793] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.250279] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   44.250591] RSP: 0018:ffff8880128d77d8 EFLAGS: 00010202
[   44.250599] RAX: dffffc0000000000 RBX: ffffea00004daf80 RCX: ffffffff81b9e6e9
[   44.250605] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004daf90
[   44.250611] RBP: ffff8880128d77f8 R08: 0000000000000000 R09: ffffed10020face4
[   44.250616] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.250622] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880107d6720
[   44.250627] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   44.250635] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.250641] CR2: 00007f730f29bc20 CR3: 0000000011bde003 CR4: 0000000000770ef0
[   44.250648] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.250653] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.250659] PKRU: 55555554
[   44.250662] Call Trace:
[   44.250666]  <TASK>
[   44.250670]  ? show_regs+0xa8/0xc0
[   44.250687]  ? die_addr+0x5d/0xf0
[   44.252165] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   44.252802]  ? exc_general_protection+0x1ae/0x340
[   44.253260] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.253625]  ? asm_exc_general_protection+0x2b/0x30
[   44.254157] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   44.254468]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.254482]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.254495]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.255035] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   44.255345]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.255971] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.256216]  zap_huge_pmd+0x494/0xd40
[   44.256762] CR2: 00007f730f4f6658 CR3: 000000000f9e2004 CR4: 0000000000770ef0
[   44.257063]  unmap_page_range+0x1ad6/0x4320
[   44.257597] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.257724]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.257914] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.258012]  ? __pfx_unmap_page_range+0x10/0x10
[   44.258276] PKRU: 55555554
[   44.258427]  unmap_single_vma+0x1ac/0x2d0
[   44.258986] note: repro[9702] exited with preempt_count 1
[   44.259162]  unmap_vmas+0x210/0x470
[   44.259698] Fixing recursive fault but reboot is needed!
[   44.259903]  ? __pfx_unmap_vmas+0x10/0x10
[   44.260414] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9702
[   44.260624]  ? __pfx_lock_release+0x10/0x10
[   44.261018] caller is debug_smp_processor_id+0x20/0x30
[   44.261215]  ? lock_release+0x592/0x870
[   44.261799] CPU: 0 UID: 0 PID: 9702 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.262009]  ? mas_next_slot+0x133a/0x1a50
[   44.262429] Tainted: [D]=DIE, [W]=WARN
[   44.262580]  ? __pfx_lock_release+0x10/0x10
[   44.263093] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.263271]  ? mlock_drain_local+0x27f/0x4b0
[   44.263782] Call Trace:
[   44.263998]  exit_mmap+0x19e/0xb10
[   44.264507]  <TASK>
[   44.264699]  ? __pfx_exit_mmap+0x10/0x10
[   44.264902]  dump_stack_lvl+0x121/0x150
[   44.265073]  ? trace_hardirqs_on+0x51/0x60
[   44.265463]  dump_stack+0x19/0x20
[   44.265628]  ? __khugepaged_exit+0x266/0x4c0
[   44.266014]  check_preemption_disabled+0x168/0x180
[   44.266185]  ? kmem_cache_free+0x15d/0x420
[   44.266739]  debug_smp_processor_id+0x20/0x30
[   44.266913]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.267282]  __schedule+0x9a/0x2eb0
[   44.267444]  __mmput+0xd6/0x390
[   44.268115]  ? rcu_is_watching+0x19/0xc0
[   44.268374]  mmput+0x74/0x90
[   44.268742]  ? lock_release+0x592/0x870
[   44.269008]  do_exit+0xa03/0x29f0
[   44.270015]  ? __pfx___schedule+0x10/0x10
[   44.270203]  ? trace_hardirqs_on+0x51/0x60
[   44.270396]  ? debug_smp_processor_id+0x20/0x30
[   44.270536]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.270698]  ? rcu_is_watching+0x19/0xc0
[   44.270860]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.271131]  ? trace_irq_enable+0xe1/0x120
[   44.271300]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.271539]  ? do_task_dead+0x4a/0x110
[   44.271719]  ? __pfx_do_exit+0x10/0x10
[   44.272056]  do_task_dead+0xe0/0x110
[   44.272226]  ? __audit_syscall_entry+0x39c/0x500
[   44.272535]  make_task_dead+0x384/0x3c0
[   44.272759]  __x64_sys_exit+0x50/0x60
[   44.273009]  rewind_stack_and_make_dead+0x16/0x20
[   44.273142]  x64_sys_call+0x20c9/0x20d0
[   44.273417] RIP: 0033:0x7f730f23ee5d
[   44.273542]  do_syscall_64+0x6d/0x140
[   44.273825] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.273967]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.274250] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   44.274420] RIP: 0033:0x7f730f23ee5d
[   44.274736]  ORIG_RAX: 000000000000003c
[   44.274992] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.275265] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.275466] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   44.275759] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.275963]  ORIG_RAX: 000000000000003c
[   44.276219] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.276376] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.276622] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.276817] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.277096] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.277249] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.277577]  </TASK>
[   44.277728] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.282426] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.282738]  </TASK>
[   44.282840] Modules linked in:
[   44.283117] ---[ end trace 0000000000000000 ]---
[   44.283324] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.283585] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.284444] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   44.284932] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   44.285571] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   44.285947] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   44.286080] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#69] PREEMPT SMP KASAN NOPTI
[   44.286242] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.287021] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.287034] CPU: 0 UID: 0 PID: 9718 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.287053] Tainted: [D]=DIE, [W]=WARN
[   44.287057] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.287065] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.287354] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   44.287842] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.288219] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   44.288455] RSP: 0018:ffff88802772f7d8 EFLAGS: 00010202
[   44.288913] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.289270] 
[   44.289559] CR2: 00007f730f29bc20 CR3: 0000000011bde003 CR4: 0000000000770ef0
[   44.290691] RAX: dffffc0000000000 RBX: ffffea00007cb5c0 RCX: ffffffff81b9e6e9
[   44.290700] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007cb5d0
[   44.291032] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.291352] RBP: ffff88802772f7f8 R08: 0000000000000000 R09: ffffed100429375c
[   44.291589] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.291696] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.291987] PKRU: 55555554
[   44.292429] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88802149bae0
[   44.292723] note: repro[9706] exited with preempt_count 1
[   44.293147] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   44.293437] Fixing recursive fault but reboot is needed!
[   44.293858] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.294150] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9706
[   44.294316] CR2: 00007f730f516df0 CR3: 000000002633e005 CR4: 0000000000770ef0
[   44.294638] caller is debug_smp_processor_id+0x20/0x30
[   44.294946] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.295271] CPU: 1 UID: 0 PID: 9706 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.295615] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.295856] Tainted: [D]=DIE, [W]=WARN
[   44.296337] PKRU: 55555554
[   44.296627] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.296933] Call Trace:
[   44.297223] Call Trace:
[   44.297777]  <TASK>
[   44.298066]  <TASK>
[   44.298286]  ? show_regs+0xa8/0xc0
[   44.298400]  dump_stack_lvl+0x121/0x150
[   44.299038]  ? die_addr+0x5d/0xf0
[   44.299146]  dump_stack+0x19/0x20
[   44.299295]  ? exc_general_protection+0x1ae/0x340
[   44.299388]  check_preemption_disabled+0x168/0x180
[   44.299526]  ? asm_exc_general_protection+0x2b/0x30
[   44.299666]  debug_smp_processor_id+0x20/0x30
[   44.299896]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.300035]  __schedule+0x9a/0x2eb0
[   44.300230]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.300426]  ? rcu_is_watching+0x19/0xc0
[   44.300838]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.301212]  ? lock_release+0x592/0x870
[   44.301619]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.301936]  ? __pfx___schedule+0x10/0x10
[   44.302155]  zap_huge_pmd+0x494/0xd40
[   44.302368]  ? debug_smp_processor_id+0x20/0x30
[   44.302602]  unmap_page_range+0x1ad6/0x4320
[   44.302810]  ? rcu_is_watching+0x19/0xc0
[   44.303038]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.303239]  ? trace_irq_enable+0xe1/0x120
[   44.303468]  ? __pfx_unmap_page_range+0x10/0x10
[   44.303622]  ? do_task_dead+0x4a/0x110
[   44.303885]  unmap_single_vma+0x1ac/0x2d0
[   44.304054]  do_task_dead+0xe0/0x110
[   44.304285]  unmap_vmas+0x210/0x470
[   44.304489]  make_task_dead+0x384/0x3c0
[   44.304725]  ? __pfx_unmap_vmas+0x10/0x10
[   44.304911]  rewind_stack_and_make_dead+0x16/0x20
[   44.305119]  ? __pfx_lock_release+0x10/0x10
[   44.305286] RIP: 0033:0x7f730f23ee5d
[   44.305488]  ? lock_release+0x592/0x870
[   44.305637] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.305853]  ? mas_next_slot+0x133a/0x1a50
[   44.306022] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   44.306299]  ? __pfx_lock_release+0x10/0x10
[   44.306474]  ORIG_RAX: 000000000000003c
[   44.306690]  ? mlock_drain_local+0x27f/0x4b0
[   44.306850] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.307205]  exit_mmap+0x19e/0xb10
[   44.307370] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.307663]  ? __pfx_exit_mmap+0x10/0x10
[   44.307835] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.308050]  ? trace_hardirqs_on+0x51/0x60
[   44.308222] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.308602]  ? __khugepaged_exit+0x266/0x4c0
[   44.308742] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.309125]  ? kmem_cache_free+0x15d/0x420
[   44.309295]  </TASK>
[   44.309669]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.311462]  __mmput+0xd6/0x390
[   44.311651]  mmput+0x74/0x90
[   44.311823]  do_exit+0xa03/0x29f0
[   44.312017]  ? trace_hardirqs_on+0x51/0x60
[   44.312250]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.312586]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.312860]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.313127]  ? __pfx_do_exit+0x10/0x10
[   44.313343]  ? __audit_syscall_entry+0x39c/0x500
[   44.313615]  __x64_sys_exit+0x50/0x60
[   44.313838]  x64_sys_call+0x20c9/0x20d0
[   44.314064]  do_syscall_64+0x6d/0x140
[   44.314302]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.314600] RIP: 0033:0x7f730f23ee5d
[   44.314818] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.315144] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.315556] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.315931] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.316316] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.316687] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.317043] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.317581]  </TASK>
[   44.317812] Modules linked in:
[   44.318305] ---[ end trace 0000000000000000 ]---
[   44.318708] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.319028] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.319949] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   44.320221] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   44.320572] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   44.320924] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   44.321274] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.321623] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   44.321975] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   44.322384] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.322701] CR2: 00007f730f516df0 CR3: 000000002633e005 CR4: 0000000000770ef0
[   44.323072] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.323441] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.323794] PKRU: 55555554
[   44.323937] note: repro[9718] exited with preempt_count 1
[   44.324205] Fixing recursive fault but reboot is needed!
[   44.324464] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9718
[   44.324833] caller is debug_smp_processor_id+0x20/0x30
[   44.325090] CPU: 0 UID: 0 PID: 9718 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.325546] Tainted: [D]=DIE, [W]=WARN
[   44.325737] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.326268] Call Trace:
[   44.326395]  <TASK>
[   44.326509]  dump_stack_lvl+0x121/0x150
[   44.326712]  dump_stack+0x19/0x20
[   44.326887]  check_preemption_disabled+0x168/0x180
[   44.327127]  debug_smp_processor_id+0x20/0x30
[   44.327346]  __schedule+0x9a/0x2eb0
[   44.327519]  ? rcu_is_watching+0x19/0xc0
[   44.327715]  ? lock_release+0x592/0x870
[   44.327906]  ? __pfx___schedule+0x10/0x10
[   44.328103]  ? debug_smp_processor_id+0x20/0x30
[   44.328324]  ? rcu_is_watching+0x19/0xc0
[   44.328517]  ? trace_irq_enable+0xe1/0x120
[   44.328725]  ? do_task_dead+0x4a/0x110
[   44.328915]  do_task_dead+0xe0/0x110
[   44.329098]  make_task_dead+0x384/0x3c0
[   44.329292]  rewind_stack_and_make_dead+0x16/0x20
[   44.329521] RIP: 0033:0x7f730f23ee5d
[   44.329699] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.329986] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.330339] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.330673] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.330994] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.331318] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.331637] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.331969]  </TASK>
[   44.332094] BUG: scheduling while atomic: repro/9718/0x00000000
[   44.332365] INFO: lockdep is turned off.
[   44.332545] Modules linked in:
[   44.332699] Preemption disabled at:
[   44.332702] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   44.333114] CPU: 0 UID: 0 PID: 9718 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.333955] Tainted: [D]=DIE, [W]=WARN
[   44.334299] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.335073] Call Trace:
[   44.335190]  <TASK>
[   44.335292]  dump_stack_lvl+0x121/0x150
[   44.335475]  ? do_task_dead+0x28/0x110
[   44.335654]  dump_stack+0x19/0x20
[   44.335816]  __schedule_bug+0x12d/0x180
[   44.336000]  __schedule+0x210c/0x2eb0
[   44.336171]  ? rcu_is_watching+0x19/0xc0
[   44.336353]  ? lock_release+0x592/0x870
[   44.336533]  ? __pfx___schedule+0x10/0x10
[   44.336722]  ? debug_smp_processor_id+0x20/0x30
[   44.336929]  ? rcu_is_watching+0x19/0xc0
[   44.337110]  ? trace_irq_enable+0xe1/0x120
[   44.337305]  ? do_task_dead+0x4a/0x110
[   44.337485]  do_task_dead+0xe0/0x110
[   44.337659]  make_task_dead+0x384/0x3c0
[   44.337843]  rewind_stack_and_make_dead+0x16/0x20
[   44.338054] RIP: 0033:0x7f730f23ee5d
[   44.338216] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.338480] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.338807] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.339111] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.339413] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.339719] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.340022] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.340335]  </TASK>
[   44.786915] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#70] PREEMPT SMP KASAN NOPTI
[   44.787714] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.788188] CPU: 0 UID: 0 PID: 10042 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.788775] Tainted: [D]=DIE, [W]=WARN
[   44.789004] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.789675] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.790032] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.791103] RSP: 0018:ffff888013af77d8 EFLAGS: 00010202
[   44.791421] RAX: dffffc0000000000 RBX: ffffea0000988640 RCX: ffffffff81b9e6e9
[   44.791847] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000988650
[   44.792269] RBP: ffff888013af77f8 R08: 0000000000000000 R09: ffffed10042ff2d8
[   44.792690] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   44.793110] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880217f96c0
[   44.793533] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   44.794016] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.794360] CR2: 00007ffdcd14bac8 CR3: 0000000021488003 CR4: 0000000000770ef0
[   44.794789] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.795212] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.795636] PKRU: 55555554
[   44.795804] Call Trace:
[   44.795955]  <TASK>
[   44.796090]  ? show_regs+0xa8/0xc0
[   44.796306]  ? die_addr+0x5d/0xf0
[   44.796518]  ? exc_general_protection+0x1ae/0x340
[   44.796815]  ? asm_exc_general_protection+0x2b/0x30
[   44.797118]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.797427]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.797739]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.798047]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.798357]  zap_huge_pmd+0x494/0xd40
[   44.798591]  unmap_page_range+0x1ad6/0x4320
[   44.798849]  ? __pfx_lock_release+0x10/0x10
[   44.799104]  ? do_raw_spin_trylock+0xbf/0x190
[   44.799373]  ? __kasan_check_read+0x15/0x20
[   44.799633]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.799940]  ? __pfx_unmap_page_range+0x10/0x10
[   44.800217]  unmap_single_vma+0x1ac/0x2d0
[   44.800461]  unmap_vmas+0x210/0x470
[   44.800688]  ? __pfx_unmap_vmas+0x10/0x10
[   44.800925]  ? __pfx_lock_release+0x10/0x10
[   44.801172]  ? lock_release+0x592/0x870
[   44.801403]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.801701]  ? __pfx_lock_release+0x10/0x10
[   44.801949]  ? mlock_drain_local+0x27f/0x4b0
[   44.802204]  exit_mmap+0x19e/0xb10
[   44.802415]  ? __pfx_exit_mmap+0x10/0x10
[   44.802653]  ? trace_hardirqs_on+0x51/0x60
[   44.802906]  ? __khugepaged_exit+0x266/0x4c0
[   44.803158]  ? kmem_cache_free+0x15d/0x420
[   44.803403]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.803716]  __mmput+0xd6/0x390
[   44.803910]  mmput+0x74/0x90
[   44.804087]  do_exit+0xa03/0x29f0
[   44.804289]  ? trace_hardirqs_on+0x51/0x60
[   44.804524]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.804865]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.805136]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.805407]  ? __pfx_do_exit+0x10/0x10
[   44.805625]  ? __audit_syscall_entry+0x39c/0x500
[   44.805891]  __x64_sys_exit+0x50/0x60
[   44.806105]  x64_sys_call+0x20c9/0x20d0
[   44.806325]  do_syscall_64+0x6d/0x140
[   44.806542]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.806828] RIP: 0033:0x7f730f23ee5d
[   44.807031] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.807362] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.807768] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.808148] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.808529] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.808911] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.809278] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.809656]  </TASK>
[   44.809781] Modules linked in:
[   44.810103] ---[ end trace 0000000000000000 ]---
[   44.810357] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.810686] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.812000] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   44.812434] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   44.812816] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   44.813204] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   44.813575] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.814098] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   44.814647] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   44.815251] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.815774] CR2: 00007ffdcd14bac8 CR3: 0000000021488003 CR4: 0000000000770ef0
[   44.816414] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.816880] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.817237] PKRU: 55555554
[   44.817383] note: repro[10042] exited with preempt_count 1
[   44.817677] Fixing recursive fault but reboot is needed!
[   44.817946] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10042
[   44.818337] caller is debug_smp_processor_id+0x20/0x30
[   44.818633] CPU: 0 UID: 0 PID: 10042 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.819116] Tainted: [D]=DIE, [W]=WARN
[   44.819311] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.819870] Call Trace:
[   44.820000]  <TASK>
[   44.820116]  dump_stack_lvl+0x121/0x150
[   44.820323]  dump_stack+0x19/0x20
[   44.820504]  check_preemption_disabled+0x168/0x180
[   44.820753]  debug_smp_processor_id+0x20/0x30
[   44.820979]  __schedule+0x9a/0x2eb0
[   44.821164]  ? rcu_is_watching+0x19/0xc0
[   44.821368]  ? lock_release+0x592/0x870
[   44.821569]  ? __pfx___schedule+0x10/0x10
[   44.821780]  ? debug_smp_processor_id+0x20/0x30
[   44.822013]  ? rcu_is_watching+0x19/0xc0
[   44.822214]  ? trace_irq_enable+0xe1/0x120
[   44.822431]  ? do_task_dead+0x4a/0x110
[   44.822637]  do_task_dead+0xe0/0x110
[   44.822835]  make_task_dead+0x384/0x3c0
[   44.823041]  rewind_stack_and_make_dead+0x16/0x20
[   44.823284] RIP: 0033:0x7f730f23ee5d
[   44.823471] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.823777] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.824147] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.824488] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.824828] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.825167] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.825505] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.825853]  </TASK>
[   44.826002] BUG: scheduling while atomic: repro/10042/0x00000000
[   44.826292] INFO: lockdep is turned off.
[   44.826489] Modules linked in:
[   44.826646] Preemption disabled at:
[   44.826649] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   44.827088] CPU: 0 UID: 0 PID: 10042 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.827539] Tainted: [D]=DIE, [W]=WARN
[   44.827749] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.828750] Call Trace:
[   44.828985]  <TASK>
[   44.829194]  dump_stack_lvl+0x121/0x150
[   44.829402]  ? do_task_dead+0x28/0x110
[   44.829591]  dump_stack+0x19/0x20
[   44.829763]  __schedule_bug+0x12d/0x180
[   44.829956]  __schedule+0x210c/0x2eb0
[   44.830137]  ? rcu_is_watching+0x19/0xc0
[   44.830328]  ? lock_release+0x592/0x870
[   44.830516]  ? __pfx___schedule+0x10/0x10
[   44.830715]  ? debug_smp_processor_id+0x20/0x30
[   44.830935]  ? rcu_is_watching+0x19/0xc0
[   44.831128]  ? trace_irq_enable+0xe1/0x120
[   44.831333]  ? do_task_dead+0x4a/0x110
[   44.831525]  do_task_dead+0xe0/0x110
[   44.831712]  make_task_dead+0x384/0x3c0
[   44.831908]  rewind_stack_and_make_dead+0x16/0x20
[   44.832138] RIP: 0033:0x7f730f23ee5d
[   44.832315] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.832616] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.832985] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.833316] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.833642] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.833963] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.834283] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.834611]  </TASK>
[   44.906178] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#71] PREEMPT SMP KASAN NOPTI
[   44.907051] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   44.907589] CPU: 1 UID: 0 PID: 10130 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.908267] Tainted: [D]=DIE, [W]=WARN
[   44.908539] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.909325] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.909753] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.911034] RSP: 0018:ffff88801f9977d8 EFLAGS: 00010202
[   44.911411] RAX: dffffc0000000000 RBX: ffffea00005105c0 RCX: ffffffff81b9e6e9
[   44.911899] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00005105d0
[   44.912376] RBP: ffff88801f9977f8 R08: 0000000000000000 R09: ffffed1003f269e0
[   44.912858] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   44.913339] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f934f00
[   44.913821] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   44.914362] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.914758] CR2: 00007f730f52b000 CR3: 000000002142e002 CR4: 0000000000770ef0
[   44.915242] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.915725] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.916204] PKRU: 55555554
[   44.916398] Call Trace:
[   44.916576]  <TASK>
[   44.916738]  ? show_regs+0xa8/0xc0
[   44.916988]  ? die_addr+0x5d/0xf0
[   44.917227]  ? exc_general_protection+0x1ae/0x340
[   44.917558]  ? asm_exc_general_protection+0x2b/0x30
[   44.917900]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   44.918247]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.918596]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   44.918950]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   44.919300]  zap_huge_pmd+0x494/0xd40
[   44.919567]  unmap_page_range+0x1ad6/0x4320
[   44.919872]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   44.920219]  ? __pfx_unmap_page_range+0x10/0x10
[   44.920542]  unmap_single_vma+0x1ac/0x2d0
[   44.920831]  unmap_vmas+0x210/0x470
[   44.921085]  ? __pfx_unmap_vmas+0x10/0x10
[   44.921365]  ? __pfx_lock_release+0x10/0x10
[   44.921652]  ? lock_release+0x592/0x870
[   44.921918]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   44.922253]  ? __pfx_lock_release+0x10/0x10
[   44.922544]  ? mlock_drain_local+0x27f/0x4b0
[   44.922847]  exit_mmap+0x19e/0xb10
[   44.923096]  ? __pfx_exit_mmap+0x10/0x10
[   44.923376]  ? trace_hardirqs_on+0x51/0x60
[   44.923667]  ? __khugepaged_exit+0x266/0x4c0
[   44.923965]  ? kmem_cache_free+0x15d/0x420
[   44.924245]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   44.924595]  __mmput+0xd6/0x390
[   44.924815]  mmput+0x74/0x90
[   44.925013]  do_exit+0xa03/0x29f0
[   44.925240]  ? trace_hardirqs_on+0x51/0x60
[   44.925515]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   44.925918]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   44.926234]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   44.926552]  ? __pfx_do_exit+0x10/0x10
[   44.926809]  ? __audit_syscall_entry+0x39c/0x500
[   44.927117]  __x64_sys_exit+0x50/0x60
[   44.927365]  x64_sys_call+0x20c9/0x20d0
[   44.927627]  do_syscall_64+0x6d/0x140
[   44.927882]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   44.928213] RIP: 0033:0x7f730f23ee5d
[   44.928450] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.928834] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.929309] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.929753] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.930187] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.930612] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.931037] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.931471]  </TASK>
[   44.931615] Modules linked in:
[   44.932018] ---[ end trace 0000000000000000 ]---
[   44.932308] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   44.932674] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   44.933771] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   44.934092] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   44.934535] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   44.934969] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   44.935389] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   44.935801] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   44.936214] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   44.936678] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   44.937013] CR2: 00007f730f52b000 CR3: 000000002142e002 CR4: 0000000000770ef0
[   44.937426] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   44.937841] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   44.938249] PKRU: 55555554
[   44.938429] note: repro[10130] exited with preempt_count 1
[   44.938776] Fixing recursive fault but reboot is needed!
[   44.939087] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10130
[   44.939539] caller is debug_smp_processor_id+0x20/0x30
[   44.939854] CPU: 1 UID: 0 PID: 10130 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.940391] Tainted: [D]=DIE, [W]=WARN
[   44.940606] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.941229] Call Trace:
[   44.941376]  <TASK>
[   44.941508]  dump_stack_lvl+0x121/0x150
[   44.941746]  dump_stack+0x19/0x20
[   44.941952]  check_preemption_disabled+0x168/0x180
[   44.942236]  debug_smp_processor_id+0x20/0x30
[   44.942493]  __schedule+0x9a/0x2eb0
[   44.942706]  ? rcu_is_watching+0x19/0xc0
[   44.942941]  ? lock_release+0x592/0x870
[   44.943169]  ? __pfx___schedule+0x10/0x10
[   44.943408]  ? debug_smp_processor_id+0x20/0x30
[   44.943674]  ? rcu_is_watching+0x19/0xc0
[   44.943911]  ? trace_irq_enable+0xe1/0x120
[   44.944159]  ? do_task_dead+0x4a/0x110
[   44.944389]  do_task_dead+0xe0/0x110
[   44.944666]  make_task_dead+0x384/0x3c0
[   44.945041]  rewind_stack_and_make_dead+0x16/0x20
[   44.945481] RIP: 0033:0x7f730f23ee5d
[   44.945797] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.946127] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.946537] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.946919] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.947300] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.947683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.948065] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.948456]  </TASK>
[   44.948618] BUG: scheduling while atomic: repro/10130/0x00000000
[   44.948950] INFO: lockdep is turned off.
[   44.949167] Modules linked in:
[   44.949344] Preemption disabled at:
[   44.949347] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   44.949842] CPU: 1 UID: 0 PID: 10130 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   44.950353] Tainted: [D]=DIE, [W]=WARN
[   44.950563] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   44.951150] Call Trace:
[   44.951290]  <TASK>
[   44.951413]  dump_stack_lvl+0x121/0x150
[   44.951632]  ? do_task_dead+0x28/0x110
[   44.951846]  dump_stack+0x19/0x20
[   44.952048]  __schedule_bug+0x12d/0x180
[   44.952265]  __schedule+0x210c/0x2eb0
[   44.952469]  ? rcu_is_watching+0x19/0xc0
[   44.952687]  ? lock_release+0x592/0x870
[   44.952901]  ? __pfx___schedule+0x10/0x10
[   44.953124]  ? debug_smp_processor_id+0x20/0x30
[   44.953375]  ? rcu_is_watching+0x19/0xc0
[   44.953592]  ? trace_irq_enable+0xe1/0x120
[   44.953827]  ? do_task_dead+0x4a/0x110
[   44.954043]  do_task_dead+0xe0/0x110
[   44.954252]  make_task_dead+0x384/0x3c0
[   44.954470]  rewind_stack_and_make_dead+0x16/0x20
[   44.954731] RIP: 0033:0x7f730f23ee5d
[   44.954929] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   44.955243] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   44.955628] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   44.955987] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   44.956346] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   44.956706] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   44.957065] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   44.957434]  </TASK>
[   45.226331] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#72] PREEMPT SMP KASAN NOPTI
[   45.227104] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.227577] CPU: 0 UID: 0 PID: 10317 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.228177] Tainted: [D]=DIE, [W]=WARN
[   45.228420] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.229352] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.229725] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.230803] RSP: 0018:ffff88801daa77d8 EFLAGS: 00010202
[   45.231121] RAX: dffffc0000000000 RBX: ffffea00004e6200 RCX: ffffffff81b9e6e9
[   45.231543] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004e6210
[   45.231968] RBP: ffff88801daa77f8 R08: 0000000000000000 R09: ffffed100381dbd4
[   45.232388] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.232809] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0edea0
[   45.233228] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.233707] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.234046] CR2: 00007ffdcd14bac8 CR3: 0000000010d70002 CR4: 0000000000770ef0
[   45.234451] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.234860] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.235263] PKRU: 55555554
[   45.235428] Call Trace:
[   45.235578]  <TASK>
[   45.235716]  ? show_regs+0xa8/0xc0
[   45.236029]  ? die_addr+0x5d/0xf0
[   45.236330]  ? exc_general_protection+0x1ae/0x340
[   45.236669]  ? asm_exc_general_protection+0x2b/0x30
[   45.236971]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.237281]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.237589]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.237905]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.238216]  zap_huge_pmd+0x494/0xd40
[   45.238452]  unmap_page_range+0x1ad6/0x4320
[   45.238718]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.239013]  ? __pfx_unmap_page_range+0x10/0x10
[   45.239285]  unmap_single_vma+0x1ac/0x2d0
[   45.239528]  unmap_vmas+0x210/0x470
[   45.239758]  ? __pfx_unmap_vmas+0x10/0x10
[   45.240013]  ? __pfx_lock_release+0x10/0x10
[   45.240270]  ? lock_release+0x592/0x870
[   45.240500]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.240788]  ? __pfx_lock_release+0x10/0x10
[   45.241034]  ? mlock_drain_local+0x27f/0x4b0
[   45.241437]  exit_mmap+0x19e/0xb10
[   45.241780]  ? __pfx_exit_mmap+0x10/0x10
[   45.242164]  ? trace_hardirqs_on+0x51/0x60
[   45.242565]  ? __khugepaged_exit+0x266/0x4c0
[   45.242977]  ? kmem_cache_free+0x15d/0x420
[   45.243287]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.243599]  __mmput+0xd6/0x390
[   45.243795]  mmput+0x74/0x90
[   45.243973]  do_exit+0xa03/0x29f0
[   45.244176]  ? trace_hardirqs_on+0x51/0x60
[   45.244416]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.244760]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.245035]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.245307]  ? __pfx_do_exit+0x10/0x10
[   45.245527]  ? __audit_syscall_entry+0x39c/0x500
[   45.245793]  __x64_sys_exit+0x50/0x60
[   45.246007]  x64_sys_call+0x20c9/0x20d0
[   45.246229]  do_syscall_64+0x6d/0x140
[   45.246446]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.246733] RIP: 0033:0x7f730f23ee5d
[   45.246937] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.247268] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.247674] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.248053] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.248430] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.248803] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.249172] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.249550]  </TASK>
[   45.249677] Modules linked in:
[   45.249995] ---[ end trace 0000000000000000 ]---
[   45.250243] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.250647] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.251585] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   45.251865] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   45.252234] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   45.252602] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   45.252977] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.253338] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   45.253700] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.254104] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.254401] CR2: 00007ffdcd14bac8 CR3: 0000000010d70002 CR4: 0000000000770ef0
[   45.254885] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.255255] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.255624] PKRU: 55555554
[   45.255774] note: repro[10317] exited with preempt_count 1
[   45.256053] Fixing recursive fault but reboot is needed!
[   45.256322] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10317
[   45.256710] caller is debug_smp_processor_id+0x20/0x30
[   45.256979] CPU: 0 UID: 0 PID: 10317 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.257462] Tainted: [D]=DIE, [W]=WARN
[   45.257652] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.258226] Call Trace:
[   45.258450]  <TASK>
[   45.258648]  dump_stack_lvl+0x121/0x150
[   45.259012]  dump_stack+0x19/0x20
[   45.259324]  check_preemption_disabled+0x168/0x180
[   45.259685]  debug_smp_processor_id+0x20/0x30
[   45.259913]  __schedule+0x9a/0x2eb0
[   45.260098]  ? rcu_is_watching+0x19/0xc0
[   45.260302]  ? lock_release+0x592/0x870
[   45.260502]  ? __pfx___schedule+0x10/0x10
[   45.260714]  ? debug_smp_processor_id+0x20/0x30
[   45.260947]  ? rcu_is_watching+0x19/0xc0
[   45.261153]  ? trace_irq_enable+0xe1/0x120
[   45.261371]  ? do_task_dead+0x4a/0x110
[   45.261572]  do_task_dead+0xe0/0x110
[   45.261762]  make_task_dead+0x384/0x3c0
[   45.261961]  rewind_stack_and_make_dead+0x16/0x20
[   45.262198] RIP: 0033:0x7f730f23ee5d
[   45.262379] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.262674] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.263045] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.263396] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.263743] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.264095] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.264448] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.264808]  </TASK>
[   45.265018] BUG: scheduling while atomic: repro/10317/0x00000000
[   45.265320] INFO: lockdep is turned off.
[   45.265523] Modules linked in:
[   45.265684] Preemption disabled at:
[   45.265687] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.266130] CPU: 0 UID: 0 PID: 10317 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.266588] Tainted: [D]=DIE, [W]=WARN
[   45.266767] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.267294] Call Trace:
[   45.267420]  <TASK>
[   45.267532]  dump_stack_lvl+0x121/0x150
[   45.267736]  ? do_task_dead+0x28/0x110
[   45.267930]  dump_stack+0x19/0x20
[   45.268108]  __schedule_bug+0x12d/0x180
[   45.268304]  __schedule+0x210c/0x2eb0
[   45.268496]  ? rcu_is_watching+0x19/0xc0
[   45.268696]  ? lock_release+0x592/0x870
[   45.268888]  ? __pfx___schedule+0x10/0x10
[   45.269092]  ? debug_smp_processor_id+0x20/0x30
[   45.269314]  ? rcu_is_watching+0x19/0xc0
[   45.269512]  ? trace_irq_enable+0xe1/0x120
[   45.269720]  ? do_task_dead+0x4a/0x110
[   45.269913]  do_task_dead+0xe0/0x110
[   45.270095]  make_task_dead+0x384/0x3c0
[   45.270295]  rewind_stack_and_make_dead+0x16/0x20
[   45.270526] RIP: 0033:0x7f730f23ee5d
[   45.270706] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.270994] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.271346] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.271679] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.272010] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.272343] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.272669] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.273001]  </TASK>
[   45.273055] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#73] PREEMPT SMP KASAN NOPTI
[   45.273627] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.273953] CPU: 1 UID: 0 PID: 10353 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.274364] Tainted: [D]=DIE, [W]=WARN
[   45.274530] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.275011] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.275272] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.276041] RSP: 0018:ffff888013bd77d8 EFLAGS: 00010202
[   45.276273] RAX: dffffc0000000000 RBX: ffffea000089e640 RCX: ffffffff81b9e6e9
[   45.276579] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089e650
[   45.276882] RBP: ffff888013bd77f8 R08: 0000000000000000 R09: ffffed1002c33ec0
[   45.277183] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.277481] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801619f600
[   45.277783] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   45.278123] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.278371] CR2: 00007f8809d68000 CR3: 0000000021566006 CR4: 0000000000770ef0
[   45.278681] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.278986] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.279290] PKRU: 55555554
[   45.279411] Call Trace:
[   45.279524]  <TASK>
[   45.279628]  ? show_regs+0xa8/0xc0
[   45.279796]  ? die_addr+0x5d/0xf0
[   45.279953]  ? exc_general_protection+0x1ae/0x340
[   45.280170]  ? asm_exc_general_protection+0x2b/0x30
[   45.280392]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.280621]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.280856]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.281085]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.281311]  zap_huge_pmd+0x494/0xd40
[   45.281485]  unmap_page_range+0x1ad6/0x4320
[   45.281684]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.281913]  ? __pfx_unmap_page_range+0x10/0x10
[   45.282126]  unmap_single_vma+0x1ac/0x2d0
[   45.282315]  unmap_vmas+0x210/0x470
[   45.282484]  ? __pfx_unmap_vmas+0x10/0x10
[   45.282666]  ? __pfx_lock_release+0x10/0x10
[   45.282854]  ? lock_release+0x592/0x870
[   45.283030]  ? mas_next_slot+0x133a/0x1a50
[   45.283218]  ? __pfx_lock_release+0x10/0x10
[   45.283410]  ? mlock_drain_local+0x27f/0x4b0
[   45.283608]  exit_mmap+0x19e/0xb10
[   45.283772]  ? __pfx_exit_mmap+0x10/0x10
[   45.283956]  ? trace_hardirqs_on+0x51/0x60
[   45.284147]  ? __khugepaged_exit+0x266/0x4c0
[   45.284342]  ? kmem_cache_free+0x15d/0x420
[   45.284531]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.284773]  __mmput+0xd6/0x390
[   45.284923]  mmput+0x74/0x90
[   45.285063]  do_exit+0xa03/0x29f0
[   45.285222]  ? trace_hardirqs_on+0x51/0x60
[   45.285412]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.285684]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.285898]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.286116]  ? __pfx_do_exit+0x10/0x10
[   45.286292]  ? __audit_syscall_entry+0x39c/0x500
[   45.286503]  __x64_sys_exit+0x50/0x60
[   45.286674]  x64_sys_call+0x20c9/0x20d0
[   45.286853]  do_syscall_64+0x6d/0x140
[   45.287025]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.287252] RIP: 0033:0x7f730f23ee5d
[   45.287413] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.287682] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.288008] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.288311] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.288615] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.288918] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.289221] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.289536]  </TASK>
[   45.289640] Modules linked in:
[   45.289921] ---[ end trace 0000000000000000 ]---
[   45.290130] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.290385] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.291201] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   45.291430] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   45.291730] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   45.292030] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   45.292333] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.292638] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   45.292948] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   45.293290] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.293538] CR2: 00007f8809d68000 CR3: 0000000021566006 CR4: 0000000000770ef0
[   45.293842] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.294147] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.294451] PKRU: 55555554
[   45.294590] note: repro[10353] exited with preempt_count 1
[   45.294829] Fixing recursive fault but reboot is needed!
[   45.295058] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10353
[   45.295386] caller is debug_smp_processor_id+0x20/0x30
[   45.295617] CPU: 1 UID: 0 PID: 10353 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.296030] Tainted: [D]=DIE, [W]=WARN
[   45.296197] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.296672] Call Trace:
[   45.296785]  <TASK>
[   45.296886]  dump_stack_lvl+0x121/0x150
[   45.297065]  dump_stack+0x19/0x20
[   45.297222]  check_preemption_disabled+0x168/0x180
[   45.297436]  debug_smp_processor_id+0x20/0x30
[   45.297630]  __schedule+0x9a/0x2eb0
[   45.297794]  ? rcu_is_watching+0x19/0xc0
[   45.297973]  ? lock_release+0x592/0x870
[   45.298147]  ? __pfx___schedule+0x10/0x10
[   45.298329]  ? debug_smp_processor_id+0x20/0x30
[   45.298536]  ? rcu_is_watching+0x19/0xc0
[   45.298715]  ? trace_irq_enable+0xe1/0x120
[   45.298904]  ? do_task_dead+0x4a/0x110
[   45.299080]  do_task_dead+0xe0/0x110
[   45.299251]  make_task_dead+0x384/0x3c0
[   45.299430]  rewind_stack_and_make_dead+0x16/0x20
[   45.299638] RIP: 0033:0x7f730f23ee5d
[   45.299798] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.300058] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.300379] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.300683] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.300983] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.301283] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.301581] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.301890]  </TASK>
[   45.302020] BUG: scheduling while atomic: repro/10353/0x00000000
[   45.302280] INFO: lockdep is turned off.
[   45.302451] Modules linked in:
[   45.302597] Preemption disabled at:
[   45.302600] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.302991] CPU: 1 UID: 0 PID: 10353 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.303394] Tainted: [D]=DIE, [W]=WARN
[   45.303559] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.304028] Call Trace:
[   45.304140]  <TASK>
[   45.304240]  dump_stack_lvl+0x121/0x150
[   45.304417]  ? do_task_dead+0x28/0x110
[   45.304587]  dump_stack+0x19/0x20
[   45.304745]  __schedule_bug+0x12d/0x180
[   45.304923]  __schedule+0x210c/0x2eb0
[   45.305087]  ? rcu_is_watching+0x19/0xc0
[   45.305263]  ? lock_release+0x592/0x870
[   45.305436]  ? __pfx___schedule+0x10/0x10
[   45.305615]  ? debug_smp_processor_id+0x20/0x30
[   45.305821]  ? rcu_is_watching+0x19/0xc0
[   45.305998]  ? trace_irq_enable+0xe1/0x120
[   45.306184]  ? do_task_dead+0x4a/0x110
[   45.306357]  do_task_dead+0xe0/0x110
[   45.306527]  make_task_dead+0x384/0x3c0
[   45.306706]  rewind_stack_and_make_dead+0x16/0x20
[   45.306917] RIP: 0033:0x7f730f23ee5d
[   45.307077] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.307337] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.307657] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.307957] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.308260] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.308559] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.308861] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.309166]  </TASK>
[   45.323396] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#74] PREEMPT SMP KASAN NOPTI
[   45.323926] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.324241] CPU: 1 UID: 0 PID: 10385 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.324638] Tainted: [D]=DIE, [W]=WARN
[   45.324799] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.325262] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.325516] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.326267] RSP: 0018:ffff8880263f77d8 EFLAGS: 00010202
[   45.326490] RAX: dffffc0000000000 RBX: ffffea0000583b40 RCX: ffffffff81b9e6e9
[   45.326787] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000583b50
[   45.327080] RBP: ffff8880263f77f8 R08: 0000000000000000 R09: ffffed100381da60
[   45.327374] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   45.327669] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0ed300
[   45.327964] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   45.328297] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.328537] CR2: 00007f730f51bfa8 CR3: 0000000026380004 CR4: 0000000000770ef0
[   45.328835] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.329130] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.329423] PKRU: 55555554
[   45.329543] Call Trace:
[   45.329653]  <TASK>
[   45.329753]  ? show_regs+0xa8/0xc0
[   45.329911]  ? die_addr+0x5d/0xf0
[   45.330065]  ? exc_general_protection+0x1ae/0x340
[   45.330278]  ? asm_exc_general_protection+0x2b/0x30
[   45.330497]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.330723]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.330946]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.331168]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.331392]  zap_huge_pmd+0x494/0xd40
[   45.331562]  unmap_page_range+0x1ad6/0x4320
[   45.331751]  ? __pfx_lock_release+0x10/0x10
[   45.331937]  ? do_raw_spin_trylock+0xbf/0x190
[   45.332132]  ? __kasan_check_read+0x15/0x20
[   45.332323]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.332545]  ? __pfx_unmap_page_range+0x10/0x10
[   45.332753]  unmap_single_vma+0x1ac/0x2d0
[   45.332934]  unmap_vmas+0x210/0x470
[   45.333095]  ? __pfx_unmap_vmas+0x10/0x10
[   45.333274]  ? __pfx_lock_release+0x10/0x10
[   45.333459]  ? lock_release+0x592/0x870
[   45.333627]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.333842]  ? __pfx_lock_release+0x10/0x10
[   45.334027]  ? mlock_drain_local+0x27f/0x4b0
[   45.334220]  exit_mmap+0x19e/0xb10
[   45.334380]  ? __pfx_exit_mmap+0x10/0x10
[   45.334562]  ? trace_hardirqs_on+0x51/0x60
[   45.334752]  ? __khugepaged_exit+0x266/0x4c0
[   45.334944]  ? kmem_cache_free+0x15d/0x420
[   45.335128]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.335360]  __mmput+0xd6/0x390
[   45.335506]  mmput+0x74/0x90
[   45.335640]  do_exit+0xa03/0x29f0
[   45.335794]  ? trace_hardirqs_on+0x51/0x60
[   45.335977]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.336241]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.336452]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.336661]  ? __pfx_do_exit+0x10/0x10
[   45.336834]  ? __audit_syscall_entry+0x39c/0x500
[   45.337039]  __x64_sys_exit+0x50/0x60
[   45.337205]  x64_sys_call+0x20c9/0x20d0
[   45.337383]  do_syscall_64+0x6d/0x140
[   45.337552]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.337774] RIP: 0033:0x7f730f23ee5d
[   45.337933] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.338194] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.338507] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.338802] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.339095] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.339387] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.339681] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.339979]  </TASK>
[   45.340080] Modules linked in:
[   45.340384] ---[ end trace 0000000000000000 ]---
[   45.340586] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.340838] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.341589] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   45.341904] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   45.342204] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   45.342622] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   45.342923] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.343219] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   45.343515] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   45.343851] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.344093] CR2: 00007f730f51bfa8 CR3: 0000000026380004 CR4: 0000000000770ef0
[   45.344389] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.344686] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.344983] PKRU: 55555554
[   45.345104] note: repro[10385] exited with preempt_count 1
[   45.345336] Fixing recursive fault but reboot is needed!
[   45.345560] BUG: scheduling while atomic: repro/10385/0x00000000
[   45.345816] INFO: lockdep is turned off.
[   45.345984] Modules linked in:
[   45.346120] Preemption disabled at:
[   45.346122] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.346520] CPU: 1 UID: 0 PID: 10385 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.346920] Tainted: [D]=DIE, [W]=WARN
[   45.347082] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.347545] Call Trace:
[   45.347656]  <TASK>
[   45.347756]  dump_stack_lvl+0x121/0x150
[   45.347933]  ? do_task_dead+0x28/0x110
[   45.348102]  dump_stack+0x19/0x20
[   45.348255]  __schedule_bug+0x12d/0x180
[   45.348428]  __schedule+0x210c/0x2eb0
[   45.348593]  ? rcu_is_watching+0x19/0xc0
[   45.348768]  ? lock_release+0x592/0x870
[   45.348939]  ? __pfx___schedule+0x10/0x10
[   45.349116]  ? debug_smp_processor_id+0x20/0x30
[   45.349314]  ? rcu_is_watching+0x19/0xc0
[   45.349488]  ? trace_irq_enable+0xe1/0x120
[   45.349675]  ? do_task_dead+0x4a/0x110
[   45.349844]  do_task_dead+0xe0/0x110
[   45.350008]  make_task_dead+0x384/0x3c0
[   45.350181]  rewind_stack_and_make_dead+0x16/0x20
[   45.350386] RIP: 0033:0x7f730f23ee5d
[   45.350544] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.350802] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.351116] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.351411] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.351707] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.352003] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.352298] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.352597]  </TASK>
[   45.353904] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#75] PREEMPT SMP KASAN NOPTI
[   45.354422] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.354740] CPU: 1 UID: 0 PID: 10409 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.355140] Tainted: [D]=DIE, [W]=WARN
[   45.355300] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.355769] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.356023] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.356773] RSP: 0018:ffff88802168f7d8 EFLAGS: 00010202
[   45.356996] RAX: dffffc0000000000 RBX: ffffea0000892380 RCX: ffffffff81b9e6e9
[   45.357292] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000892390
[   45.357587] RBP: ffff88802168f7f8 R08: 0000000000000000 R09: ffffed10025403c8
[   45.357884] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.358180] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012a01e40
[   45.358476] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   45.358811] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.359053] CR2: 00007f730f51bfa8 CR3: 000000001f2cc001 CR4: 0000000000770ef0
[   45.359350] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.359657] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.359955] PKRU: 55555554
[   45.360077] Call Trace:
[   45.360187]  <TASK>
[   45.360285]  ? show_regs+0xa8/0xc0
[   45.360446]  ? die_addr+0x5d/0xf0
[   45.360600]  ? exc_general_protection+0x1ae/0x340
[   45.360816]  ? asm_exc_general_protection+0x2b/0x30
[   45.361036]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.361259]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.361484]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.361711]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.361936]  zap_huge_pmd+0x494/0xd40
[   45.362108]  unmap_page_range+0x1ad6/0x4320
[   45.362302]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.362525]  ? __pfx_unmap_page_range+0x10/0x10
[   45.362734]  unmap_single_vma+0x1ac/0x2d0
[   45.362918]  unmap_vmas+0x210/0x470
[   45.363081]  ? __pfx_unmap_vmas+0x10/0x10
[   45.363261]  ? __pfx_lock_release+0x10/0x10
[   45.363446]  ? lock_release+0x592/0x870
[   45.363617]  ? mas_next_slot+0x133a/0x1a50
[   45.363805]  ? __pfx_lock_release+0x10/0x10
[   45.363992]  ? mlock_drain_local+0x27f/0x4b0
[   45.364185]  exit_mmap+0x19e/0xb10
[   45.364351]  ? __pfx_exit_mmap+0x10/0x10
[   45.364533]  ? trace_hardirqs_on+0x51/0x60
[   45.364723]  ? __khugepaged_exit+0x266/0x4c0
[   45.364915]  ? kmem_cache_free+0x15d/0x420
[   45.365101]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.365336]  __mmput+0xd6/0x390
[   45.365485]  mmput+0x74/0x90
[   45.365621]  do_exit+0xa03/0x29f0
[   45.365776]  ? trace_hardirqs_on+0x51/0x60
[   45.365961]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.366227]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.366440]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.366652]  ? __pfx_do_exit+0x10/0x10
[   45.366822]  ? __audit_syscall_entry+0x39c/0x500
[   45.367030]  __x64_sys_exit+0x50/0x60
[   45.367196]  x64_sys_call+0x20c9/0x20d0
[   45.367370]  do_syscall_64+0x6d/0x140
[   45.367540]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.367783] RIP: 0033:0x7f730f23ee5d
[   45.367957] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.368227] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.368544] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.368845] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.369141] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.369436] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.369735] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.370040]  </TASK>
[   45.370141] Modules linked in:
[   45.370357] ---[ end trace 0000000000000000 ]---
[   45.370565] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.370822] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.371600] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   45.371874] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   45.372204] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   45.372505] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   45.372805] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.373101] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   45.373397] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   45.373735] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.373976] CR2: 00007f730f51bfa8 CR3: 000000001f2cc001 CR4: 0000000000770ef0
[   45.374287] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.374595] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.374895] PKRU: 55555554
[   45.375017] note: repro[10409] exited with preempt_count 1
[   45.375247] Fixing recursive fault but reboot is needed!
[   45.375468] BUG: scheduling while atomic: repro/10409/0x00000000
[   45.375724] INFO: lockdep is turned off.
[   45.375947] Modules linked in:
[   45.376107] Preemption disabled at:
[   45.376110] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.376604] CPU: 1 UID: 0 PID: 10409 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.377117] Tainted: [D]=DIE, [W]=WARN
[   45.377301] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.377779] Call Trace:
[   45.377891]  <TASK>
[   45.377990]  dump_stack_lvl+0x121/0x150
[   45.378167]  ? do_task_dead+0x28/0x110
[   45.378339]  dump_stack+0x19/0x20
[   45.378494]  __schedule_bug+0x12d/0x180
[   45.378669]  __schedule+0x210c/0x2eb0
[   45.378837]  ? rcu_is_watching+0x19/0xc0
[   45.379011]  ? lock_release+0x592/0x870
[   45.379182]  ? __pfx___schedule+0x10/0x10
[   45.379361]  ? debug_smp_processor_id+0x20/0x30
[   45.379559]  ? rcu_is_watching+0x19/0xc0
[   45.379737]  ? trace_irq_enable+0xe1/0x120
[   45.379923]  ? do_task_dead+0x4a/0x110
[   45.380095]  do_task_dead+0xe0/0x110
[   45.380260]  make_task_dead+0x384/0x3c0
[   45.380435]  rewind_stack_and_make_dead+0x16/0x20
[   45.380642] RIP: 0033:0x7f730f23ee5d
[   45.380802] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.381056] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.381370] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.381666] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.382026] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.382357] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.382674] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.382975]  </TASK>
[   45.719971] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#76] PREEMPT SMP KASAN NOPTI
[   45.720595] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.720982] CPU: 0 UID: 0 PID: 10605 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.721462] Tainted: [D]=DIE, [W]=WARN
[   45.721748] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.722509] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.722817] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.723739] RSP: 0018:ffff888010fcf7d8 EFLAGS: 00010202
[   45.724016] RAX: dffffc0000000000 RBX: ffffea000070cb40 RCX: ffffffff81b9e6e9
[   45.724367] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000070cb50
[   45.724737] RBP: ffff888010fcf7f8 R08: 0000000000000000 R09: ffffed10025567ec
[   45.725208] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   45.725681] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012ab3f60
[   45.726153] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.726685] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.727070] CR2: 00007f730f52b000 CR3: 000000001029e006 CR4: 0000000000770ef0
[   45.727541] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.728012] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.728481] PKRU: 55555554
[   45.728668] Call Trace:
[   45.728844]  <TASK>
[   45.728998]  ? show_regs+0xa8/0xc0
[   45.729314]  ? die_addr+0x5d/0xf0
[   45.729617]  ? exc_general_protection+0x1ae/0x340
[   45.729943]  ? asm_exc_general_protection+0x2b/0x30
[   45.730278]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.730620]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.730965]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.731311]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.731657]  zap_huge_pmd+0x494/0xd40
[   45.731922]  unmap_page_range+0x1ad6/0x4320
[   45.732207]  ? __pfx_lock_release+0x10/0x10
[   45.732482]  ? do_raw_spin_trylock+0xbf/0x190
[   45.732770]  ? __kasan_check_read+0x15/0x20
[   45.733048]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.733376]  ? __pfx_unmap_page_range+0x10/0x10
[   45.733689]  unmap_single_vma+0x1ac/0x2d0
[   45.733966]  unmap_vmas+0x210/0x470
[   45.734205]  ? __pfx_unmap_vmas+0x10/0x10
[   45.734471]  ? __pfx_lock_release+0x10/0x10
[   45.734747]  ? lock_release+0x592/0x870
[   45.734999]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.735432]  ? __pfx_lock_release+0x10/0x10
[   45.735811]  ? mlock_drain_local+0x27f/0x4b0
[   45.736100]  exit_mmap+0x19e/0xb10
[   45.736334]  ? __pfx_exit_mmap+0x10/0x10
[   45.736599]  ? trace_hardirqs_on+0x51/0x60
[   45.736876]  ? __khugepaged_exit+0x266/0x4c0
[   45.737151]  ? kmem_cache_free+0x15d/0x420
[   45.737416]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.737757]  __mmput+0xd6/0x390
[   45.737965]  mmput+0x74/0x90
[   45.738157]  do_exit+0xa03/0x29f0
[   45.738373]  ? trace_hardirqs_on+0x51/0x60
[   45.738632]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.739008]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.739305]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.739598]  ? __pfx_do_exit+0x10/0x10
[   45.739833]  ? __audit_syscall_entry+0x39c/0x500
[   45.740120]  __x64_sys_exit+0x50/0x60
[   45.740350]  x64_sys_call+0x20c9/0x20d0
[   45.740589]  do_syscall_64+0x6d/0x140
[   45.740822]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.741132] RIP: 0033:0x7f730f23ee5d
[   45.741353] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.741720] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.742168] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.742579] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.742982] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.743391] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.743800] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.744216]  </TASK>
[   45.744351] Modules linked in:
[   45.744713] ---[ end trace 0000000000000000 ]---
[   45.745087] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.745441] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.746489] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   45.746797] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   45.747203] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   45.747608] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   45.748013] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.748414] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   45.748984] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.749520] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.749847] CR2: 00007f730f52b000 CR3: 000000001029e006 CR4: 0000000000770ef0
[   45.750262] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.750683] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.751087] PKRU: 55555554
[   45.751247] note: repro[10605] exited with preempt_count 1
[   45.751560] Fixing recursive fault but reboot is needed!
[   45.751859] BUG: scheduling while atomic: repro/10605/0x00000000
[   45.752201] INFO: lockdep is turned off.
[   45.752425] Modules linked in:
[   45.752606] Preemption disabled at:
[   45.752608] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.753196] CPU: 0 UID: 0 PID: 10605 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.754063] Tainted: [D]=DIE, [W]=WARN
[   45.754411] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.755464] Call Trace:
[   45.755615]  <TASK>
[   45.755746]  dump_stack_lvl+0x121/0x150
[   45.755982]  ? do_task_dead+0x28/0x110
[   45.756209]  dump_stack+0x19/0x20
[   45.756414]  __schedule_bug+0x12d/0x180
[   45.756648]  __schedule+0x210c/0x2eb0
[   45.756870]  ? rcu_is_watching+0x19/0xc0
[   45.757105]  ? lock_release+0x592/0x870
[   45.757334]  ? __pfx___schedule+0x10/0x10
[   45.757573]  ? debug_smp_processor_id+0x20/0x30
[   45.757848]  ? rcu_is_watching+0x19/0xc0
[   45.758079]  ? trace_irq_enable+0xe1/0x120
[   45.758324]  ? do_task_dead+0x4a/0x110
[   45.758552]  do_task_dead+0xe0/0x110
[   45.758770]  make_task_dead+0x384/0x3c0
[   45.758998]  rewind_stack_and_make_dead+0x16/0x20
[   45.759273] RIP: 0033:0x7f730f23ee5d
[   45.759484] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   45.759831] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.760255] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   45.760655] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.761054] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   45.761453] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   45.761853] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   45.762259]  </TASK>
[   45.997214] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#77] PREEMPT SMP KASAN NOPTI
[   45.998076] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.998781] CPU: 1 UID: 0 PID: 10796 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   45.999588] Tainted: [D]=DIE, [W]=WARN
[   45.999916] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.000732] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.001126] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.002288] RSP: 0018:ffff8880145ff7d8 EFLAGS: 00010202
[   46.002624] RAX: dffffc0000000000 RBX: ffffea00009d7e00 RCX: ffffffff81b9e6e9
[   46.003072] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d7e10
[   46.003516] RBP: ffff8880145ff7f8 R08: 0000000000000000 R09: ffffed1002793c0c
[   46.003958] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   46.004404] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013c9e060
[   46.004849] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   46.005465] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.005970] CR2: 00007ffdcd14bac8 CR3: 0000000011f04003 CR4: 0000000000770ef0
[   46.006487] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.006936] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.007376] PKRU: 55555554
[   46.007555] Call Trace:
[   46.007720]  <TASK>
[   46.007867]  ? show_regs+0xa8/0xc0
[   46.008099]  ? die_addr+0x5d/0xf0
[   46.008321]  ? exc_general_protection+0x1ae/0x340
[   46.008625]  ? asm_exc_general_protection+0x2b/0x30
[   46.008938]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.009256]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.009578]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.009904]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.010227]  zap_huge_pmd+0x494/0xd40
[   46.010469]  unmap_page_range+0x1ad6/0x4320
[   46.010751]  ? __pfx_lock_release+0x10/0x10
[   46.011016]  ? do_raw_spin_trylock+0xbf/0x190
[   46.011296]  ? __kasan_check_read+0x15/0x20
[   46.011566]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.011887]  ? __pfx_unmap_page_range+0x10/0x10
[   46.012184]  unmap_single_vma+0x1ac/0x2d0
[   46.012460]  unmap_vmas+0x210/0x470
[   46.012699]  ? __pfx_unmap_vmas+0x10/0x10
[   46.012957]  ? __pfx_lock_release+0x10/0x10
[   46.013219]  ? lock_release+0x592/0x870
[   46.013463]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   46.013794]  ? __pfx_lock_release+0x10/0x10
[   46.014064]  ? mlock_drain_local+0x27f/0x4b0
[   46.014346]  exit_mmap+0x19e/0xb10
[   46.014601]  ? __pfx_exit_mmap+0x10/0x10
[   46.014904]  ? trace_hardirqs_on+0x51/0x60
[   46.015164]  ? __khugepaged_exit+0x266/0x4c0
[   46.015428]  ? kmem_cache_free+0x15d/0x420
[   46.015689]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.016017]  __mmput+0xd6/0x390
[   46.016217]  mmput+0x74/0x90
[   46.016402]  do_exit+0xa03/0x29f0
[   46.016613]  ? trace_hardirqs_on+0x51/0x60
[   46.016869]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.017239]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.017531]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.017825]  ? __pfx_do_exit+0x10/0x10
[   46.018060]  ? __audit_syscall_entry+0x39c/0x500
[   46.018352]  __x64_sys_exit+0x50/0x60
[   46.018583]  x64_sys_call+0x20c9/0x20d0
[   46.018823]  do_syscall_64+0x6d/0x140
[   46.019059]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.019374] RIP: 0033:0x7f730f23ee5d
[   46.019596] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.019954] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.020390] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.020796] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.021194] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.021592] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.021990] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.022395]  </TASK>
[   46.022529] Modules linked in:
[   46.022832] ---[ end trace 0000000000000000 ]---
[   46.023101] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.023434] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.024440] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   46.024740] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   46.025144] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   46.025543] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   46.026066] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.026515] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   46.026920] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   46.027353] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.027666] CR2: 00007ffdcd14bac8 CR3: 0000000011f04003 CR4: 0000000000770ef0
[   46.028062] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.028445] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.028834] PKRU: 55555554
[   46.028991] note: repro[10796] exited with preempt_count 1
[   46.029298] Fixing recursive fault but reboot is needed!
[   46.029588] BUG: scheduling while atomic: repro/10796/0x00000000
[   46.030155] INFO: lockdep is turned off.
[   46.030372] Modules linked in:
[   46.030630] Preemption disabled at:
[   46.030635] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   46.031266] CPU: 1 UID: 0 PID: 10796 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.031977] Tainted: [D]=DIE, [W]=WARN
[   46.032281] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.033095] Call Trace:
[   46.033247]  <TASK>
[   46.033370]  dump_stack_lvl+0x121/0x150
[   46.033590]  ? do_task_dead+0x28/0x110
[   46.033811]  dump_stack+0x19/0x20
[   46.034011]  __schedule_bug+0x12d/0x180
[   46.034314]  __schedule+0x210c/0x2eb0
[   46.034598]  ? rcu_is_watching+0x19/0xc0
[   46.034844]  ? lock_release+0x592/0x870
[   46.035057]  ? __pfx___schedule+0x10/0x10
[   46.035278]  ? debug_smp_processor_id+0x20/0x30
[   46.035526]  ? rcu_is_watching+0x19/0xc0
[   46.035743]  ? trace_irq_enable+0xe1/0x120
[   46.035970]  ? do_task_dead+0x4a/0x110
[   46.036178]  do_task_dead+0xe0/0x110
[   46.036377]  make_task_dead+0x384/0x3c0
[   46.036592]  rewind_stack_and_make_dead+0x16/0x20
[   46.036845] RIP: 0033:0x7f730f23ee5d
[   46.037042] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.037357] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.037742] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.038104] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.038462] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.038872] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.039270] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.039782]  </TASK>
[   46.077462] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#78] PREEMPT SMP KASAN NOPTI
[   46.078082] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.078478] CPU: 0 UID: 0 PID: 10868 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.078961] Tainted: [D]=DIE, [W]=WARN
[   46.079151] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.079695] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.079997] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.080874] RSP: 0018:ffff8880260b77d8 EFLAGS: 00010202
[   46.081127] RAX: dffffc0000000000 RBX: ffffea000098aac0 RCX: ffffffff81b9e6e9
[   46.081466] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098aad0
[   46.081805] RBP: ffff8880260b77f8 R08: 0000000000000000 R09: ffffed1003b3e538
[   46.082140] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.082474] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d9f29c0
[   46.082812] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.083189] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.083464] CR2: 00007f730f516df0 CR3: 0000000022406005 CR4: 0000000000770ef0
[   46.083800] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.084134] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.084470] PKRU: 55555554
[   46.084604] Call Trace:
[   46.084728]  <TASK>
[   46.084837]  ? show_regs+0xa8/0xc0
[   46.085012]  ? die_addr+0x5d/0xf0
[   46.085181]  ? exc_general_protection+0x1ae/0x340
[   46.085417]  ? asm_exc_general_protection+0x2b/0x30
[   46.085658]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.085904]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.086151]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.086398]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.086646]  zap_huge_pmd+0x494/0xd40
[   46.086834]  unmap_page_range+0x1ad6/0x4320
[   46.087048]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.087294]  ? __pfx_unmap_page_range+0x10/0x10
[   46.087522]  unmap_single_vma+0x1ac/0x2d0
[   46.087726]  unmap_vmas+0x210/0x470
[   46.087906]  ? __pfx_unmap_vmas+0x10/0x10
[   46.088102]  ? __pfx_lock_release+0x10/0x10
[   46.088305]  ? lock_release+0x592/0x870
[   46.088491]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   46.088726]  ? __pfx_lock_release+0x10/0x10
[   46.088927]  ? mlock_drain_local+0x27f/0x4b0
[   46.089135]  exit_mmap+0x19e/0xb10
[   46.089306]  ? __pfx_exit_mmap+0x10/0x10
[   46.089499]  ? trace_hardirqs_on+0x51/0x60
[   46.089703]  ? __khugepaged_exit+0x266/0x4c0
[   46.089909]  ? kmem_cache_free+0x15d/0x420
[   46.090109]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.090360]  __mmput+0xd6/0x390
[   46.090517]  mmput+0x74/0x90
[   46.090661]  do_exit+0xa03/0x29f0
[   46.090827]  ? trace_hardirqs_on+0x51/0x60
[   46.091024]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.091307]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.091535]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.091765]  ? __pfx_do_exit+0x10/0x10
[   46.091947]  ? __audit_syscall_entry+0x39c/0x500
[   46.092169]  __x64_sys_exit+0x50/0x60
[   46.092349]  x64_sys_call+0x20c9/0x20d0
[   46.092543]  do_syscall_64+0x6d/0x140
[   46.092728]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.092965] RIP: 0033:0x7f730f23ee5d
[   46.093137] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.093412] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.093748] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.094061] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.094373] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.094685] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.094996] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.095313]  </TASK>
[   46.095419] Modules linked in:
[   46.095715] ---[ end trace 0000000000000000 ]---
[   46.095928] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.096194] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.097055] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   46.097418] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   46.097912] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   46.098317] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   46.098723] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.099027] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   46.099331] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.099675] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.099926] CR2: 00007f730f516df0 CR3: 0000000022406005 CR4: 0000000000770ef0
[   46.100234] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.100541] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.100850] PKRU: 55555554
[   46.100975] note: repro[10868] exited with preempt_count 1
[   46.101211] Fixing recursive fault but reboot is needed!
[   46.101440] BUG: scheduling while atomic: repro/10868/0x00000000
[   46.101701] INFO: lockdep is turned off.
[   46.101870] Modules linked in:
[   46.102006] Preemption disabled at:
[   46.102008] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   46.102392] CPU: 0 UID: 0 PID: 10868 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.102792] Tainted: [D]=DIE, [W]=WARN
[   46.102954] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.103415] Call Trace:
[   46.103527]  <TASK>
[   46.103625]  dump_stack_lvl+0x121/0x150
[   46.103802]  ? do_task_dead+0x28/0x110
[   46.103974]  dump_stack+0x19/0x20
[   46.104128]  __schedule_bug+0x12d/0x180
[   46.104302]  __schedule+0x210c/0x2eb0
[   46.104468]  ? rcu_is_watching+0x19/0xc0
[   46.104643]  ? lock_release+0x592/0x870
[   46.104815]  ? __pfx___schedule+0x10/0x10
[   46.104993]  ? debug_smp_processor_id+0x20/0x30
[   46.105191]  ? rcu_is_watching+0x19/0xc0
[   46.105364]  ? trace_irq_enable+0xe1/0x120
[   46.105549]  ? do_task_dead+0x4a/0x110
[   46.105735]  do_task_dead+0xe0/0x110
[   46.105902]  make_task_dead+0x384/0x3c0
[   46.106076]  rewind_stack_and_make_dead+0x16/0x20
[   46.106287] RIP: 0033:0x7f730f23ee5d
[   46.106446] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.106704] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.107019] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.107315] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.107611] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.107908] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.108204] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.108506]  </TASK>
[   46.497383] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#79] PREEMPT SMP KASAN NOPTI
[   46.498125] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.498576] CPU: 0 UID: 0 PID: 11155 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.499144] Tainted: [D]=DIE, [W]=WARN
[   46.499374] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.500036] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.500399] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.501480] RSP: 0018:ffff8880224377d8 EFLAGS: 00010202
[   46.501800] RAX: dffffc0000000000 RBX: ffffea0000897a40 RCX: ffffffff81b9e6e9
[   46.502224] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000897a50
[   46.502650] RBP: ffff8880224377f8 R08: 0000000000000000 R09: ffffed1003e6aee4
[   46.503068] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.503477] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f357720
[   46.503887] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.504347] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.504682] CR2: 00007f730f4f5ef8 CR3: 0000000011e72001 CR4: 0000000000770ef0
[   46.505094] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.505502] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.505911] PKRU: 55555554
[   46.506076] Call Trace:
[   46.506228]  <TASK>
[   46.506365]  ? show_regs+0xa8/0xc0
[   46.506585]  ? die_addr+0x5d/0xf0
[   46.506801]  ? exc_general_protection+0x1ae/0x340
[   46.507095]  ? asm_exc_general_protection+0x2b/0x30
[   46.507398]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.507710]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.508021]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.508328]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.508639]  zap_huge_pmd+0x494/0xd40
[   46.508867]  unmap_page_range+0x1ad6/0x4320
[   46.509125]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.509422]  ? __pfx_unmap_page_range+0x10/0x10
[   46.509711]  unmap_single_vma+0x1ac/0x2d0
[   46.509956]  unmap_vmas+0x210/0x470
[   46.510173]  ? __pfx_unmap_vmas+0x10/0x10
[   46.510412]  ? __pfx_lock_release+0x10/0x10
[   46.510660]  ? lock_release+0x592/0x870
[   46.510891]  ? mas_next_slot+0x133a/0x1a50
[   46.511137]  ? __pfx_lock_release+0x10/0x10
[   46.511387]  ? mlock_drain_local+0x27f/0x4b0
[   46.511643]  exit_mmap+0x19e/0xb10
[   46.511859]  ? __pfx_exit_mmap+0x10/0x10
[   46.512100]  ? trace_hardirqs_on+0x51/0x60
[   46.512351]  ? __khugepaged_exit+0x266/0x4c0
[   46.512608]  ? kmem_cache_free+0x15d/0x420
[   46.512857]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.513167]  __mmput+0xd6/0x390
[   46.513361]  mmput+0x74/0x90
[   46.513539]  do_exit+0xa03/0x29f0
[   46.513747]  ? trace_hardirqs_on+0x51/0x60
[   46.513993]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.514352]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.514636]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.514923]  ? __pfx_do_exit+0x10/0x10
[   46.515144]  ? __audit_syscall_entry+0x39c/0x500
[   46.515409]  __x64_sys_exit+0x50/0x60
[   46.515622]  x64_sys_call+0x20c9/0x20d0
[   46.515844]  do_syscall_64+0x6d/0x140
[   46.516061]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.516345] RIP: 0033:0x7f730f23ee5d
[   46.516552] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.516884] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.517289] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.517673] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.518054] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.518435] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.518821] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.519210]  </TASK>
[   46.519335] Modules linked in:
[   46.519705] ---[ end trace 0000000000000000 ]---
[   46.519957] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.520271] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.521216] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   46.521496] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   46.521943] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   46.522317] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   46.522820] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.523194] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   46.523567] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.523990] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.524295] CR2: 00007f730f4f5ef8 CR3: 0000000011e72001 CR4: 0000000000770ef0
[   46.524665] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.525030] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.525395] PKRU: 55555554
[   46.525544] note: repro[11155] exited with preempt_count 1
[   46.525830] Fixing recursive fault but reboot is needed!
[   46.526106] BUG: scheduling while atomic: repro/11155/0x00000000
[   46.526415] INFO: lockdep is turned off.
[   46.526687] Modules linked in:
[   46.526857] Preemption disabled at:
[   46.526860] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   46.527405] CPU: 0 UID: 0 PID: 11155 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.527897] Tainted: [D]=DIE, [W]=WARN
[   46.528095] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.528664] Call Trace:
[   46.528800]  <TASK>
[   46.528917]  dump_stack_lvl+0x121/0x150
[   46.529125]  ? do_task_dead+0x28/0x110
[   46.529327]  dump_stack+0x19/0x20
[   46.529510]  __schedule_bug+0x12d/0x180
[   46.529718]  __schedule+0x210c/0x2eb0
[   46.529913]  ? rcu_is_watching+0x19/0xc0
[   46.530120]  ? lock_release+0x592/0x870
[   46.530323]  ? __pfx___schedule+0x10/0x10
[   46.530535]  ? debug_smp_processor_id+0x20/0x30
[   46.530772]  ? rcu_is_watching+0x19/0xc0
[   46.530979]  ? trace_irq_enable+0xe1/0x120
[   46.531203]  ? do_task_dead+0x4a/0x110
[   46.531408]  do_task_dead+0xe0/0x110
[   46.531605]  make_task_dead+0x384/0x3c0
[   46.531899]  rewind_stack_and_make_dead+0x16/0x20
[   46.532342] RIP: 0033:0x7f730f23ee5d
[   46.532684] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.533135] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.533511] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.533865] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.534207] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.534547] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.534887] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.535234]  </TASK>
[   46.740297] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#80] PREEMPT SMP KASAN NOPTI
[   46.741353] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.741964] CPU: 1 UID: 0 PID: 11307 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.742740] Tainted: [D]=DIE, [W]=WARN
[   46.743050] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.743947] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.744436] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.745895] RSP: 0018:ffff888016c9f7d8 EFLAGS: 00010202
[   46.746325] RAX: dffffc0000000000 RBX: ffffea0000631d00 RCX: ffffffff81b9e6e9
[   46.746900] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000631d10
[   46.747449] RBP: ffff888016c9f7f8 R08: 0000000000000000 R09: ffffed1002561484
[   46.747995] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.748550] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012b0a420
[   46.749099] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   46.749719] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.750168] CR2: 00007f730f3fca50 CR3: 00000000224cc006 CR4: 0000000000770ef0
[   46.750719] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.751264] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.751812] PKRU: 55555554
[   46.752033] Call Trace:
[   46.752237]  <TASK>
[   46.752418]  ? show_regs+0xa8/0xc0
[   46.752713]  ? die_addr+0x5d/0xf0
[   46.752995]  ? exc_general_protection+0x1ae/0x340
[   46.753388]  ? asm_exc_general_protection+0x2b/0x30
[   46.753794]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.754206]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.754609]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.755010]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.755405]  zap_huge_pmd+0x494/0xd40
[   46.755707]  unmap_page_range+0x1ad6/0x4320
[   46.756050]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.756443]  ? __pfx_unmap_page_range+0x10/0x10
[   46.756817]  unmap_single_vma+0x1ac/0x2d0
[   46.757140]  unmap_vmas+0x210/0x470
[   46.757426]  ? __pfx_unmap_vmas+0x10/0x10
[   46.757742]  ? __pfx_lock_release+0x10/0x10
[   46.758069]  ? lock_release+0x592/0x870
[   46.758371]  ? mas_next_slot+0x133a/0x1a50
[   46.758701]  ? __pfx_lock_release+0x10/0x10
[   46.759032]  ? mlock_drain_local+0x27f/0x4b0
[   46.759372]  exit_mmap+0x19e/0xb10
[   46.759653]  ? __pfx_exit_mmap+0x10/0x10
[   46.759985]  ? trace_hardirqs_on+0x51/0x60
[   46.760318]  ? __khugepaged_exit+0x266/0x4c0
[   46.760656]  ? kmem_cache_free+0x15d/0x420
[   46.760989]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.761403]  __mmput+0xd6/0x390
[   46.761662]  mmput+0x74/0x90
[   46.761900]  do_exit+0xa03/0x29f0
[   46.762160]  ? trace_hardirqs_on+0x51/0x60
[   46.762474]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.762928]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.763287]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.763645]  ? __pfx_do_exit+0x10/0x10
[   46.763935]  ? __audit_syscall_entry+0x39c/0x500
[   46.764285]  __x64_sys_exit+0x50/0x60
[   46.764575]  x64_sys_call+0x20c9/0x20d0
[   46.764869]  do_syscall_64+0x6d/0x140
[   46.765156]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.765533] RIP: 0033:0x7f730f23ee5d
[   46.765805] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.766241] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.766778] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.767263] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.767749] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.768233] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.768714] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.769209]  </TASK>
[   46.769372] Modules linked in:
[   46.769648] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#81] PREEMPT SMP KASAN NOPTI
[   46.769798] ---[ end trace 0000000000000000 ]---
[   46.770695] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.770713] CPU: 0 UID: 0 PID: 11323 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.770738] Tainted: [D]=DIE, [W]=WARN
[   46.770744] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.770754] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.770781] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.770796] RSP: 0018:ffff8880225377d8 EFLAGS: 00010202
[   46.770811] RAX: dffffc0000000000 RBX: ffffea00007eb300 RCX: ffffffff81b9e6e9
[   46.771177] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.771800] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007eb310
[   46.772478] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.772800] RBP: ffff8880225377f8 R08: 0000000000000000 R09: ffffed10023ed060
[   46.773556] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   46.774084] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.775659] 
[   46.775996] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011f68300
[   46.776457] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   46.776942] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.777395] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   46.778853] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.778868] CR2: 00007f730f29bc20 CR3: 000000001f130001 CR4: 0000000000770ef0
[   46.778882] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.778891] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.778901] PKRU: 55555554
[   46.778907] Call Trace:
[   46.778914]  <TASK>
[   46.778923]  ? show_regs+0xa8/0xc0
[   46.779398] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   46.779822]  ? die_addr+0x5d/0xf0
[   46.780293] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.780435]  ? exc_general_protection+0x1ae/0x340
[   46.781053] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   46.781632]  ? asm_exc_general_protection+0x2b/0x30
[   46.782308] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   46.782950]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.783504] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.784078]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.784550] CR2: 00007f730f3fca50 CR3: 00000000224cc006 CR4: 0000000000770ef0
[   46.785171]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.785354] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.785590]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.785737] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.786023]  zap_huge_pmd+0x494/0xd40
[   46.786495] PKRU: 55555554
[   46.786749]  unmap_page_range+0x1ad6/0x4320
[   46.787339] note: repro[11307] exited with preempt_count 1
[   46.787741]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.788181] Fixing recursive fault but reboot is needed!
[   46.788562]  ? __pfx_unmap_page_range+0x10/0x10
[   46.795135]  unmap_single_vma+0x1ac/0x2d0
[   46.795713]  unmap_vmas+0x210/0x470
[   46.796013]  ? __pfx_unmap_vmas+0x10/0x10
[   46.796333]  ? __pfx_lock_release+0x10/0x10
[   46.796663]  ? lock_release+0x592/0x870
[   46.796979]  ? mas_next_slot+0x133a/0x1a50
[   46.797310]  ? __pfx_lock_release+0x10/0x10
[   46.797644]  ? mlock_drain_local+0x27f/0x4b0
[   46.798027]  exit_mmap+0x19e/0xb10
[   46.798380]  ? __pfx_exit_mmap+0x10/0x10
[   46.798809]  ? trace_hardirqs_on+0x51/0x60
[   46.799232]  ? __khugepaged_exit+0x266/0x4c0
[   46.799598]  ? kmem_cache_free+0x15d/0x420
[   46.799946]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.800372]  __mmput+0xd6/0x390
[   46.800632]  mmput+0x74/0x90
[   46.800876]  do_exit+0xa03/0x29f0
[   46.801152]  ? trace_hardirqs_on+0x51/0x60
[   46.801480]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.801956]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.802332]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.802710]  ? __pfx_do_exit+0x10/0x10
[   46.803012]  ? __audit_syscall_entry+0x39c/0x500
[   46.803377]  __x64_sys_exit+0x50/0x60
[   46.803674]  x64_sys_call+0x20c9/0x20d0
[   46.803986]  do_syscall_64+0x6d/0x140
[   46.804283]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.804662] RIP: 0033:0x7f730f23ee5d
[   46.804938] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.805375] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.805934] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.806460] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.806988] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.807493] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.808005] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.808521]  </TASK>
[   46.808695] Modules linked in:
[   46.809144] ---[ end trace 0000000000000000 ]---
[   46.809490] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.809923] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.811467] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   46.811849] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   46.812346] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   46.812838] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   46.813332] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.813824] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   46.814456] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.815330] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.815806] CR2: 00007f730f29bc20 CR3: 000000001f130001 CR4: 0000000000770ef0
[   46.816309] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.816817] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.817330] PKRU: 55555554
[   46.817530] note: repro[11323] exited with preempt_count 1
[   46.817912] Fixing recursive fault but reboot is needed!
[   46.818279] BUG: scheduling while atomic: repro/11323/0x00000000
[   46.818809] INFO: lockdep is turned off.
[   46.819085] Modules linked in:
[   46.819309] Preemption disabled at:
[   46.819313] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   46.819937] CPU: 0 UID: 0 PID: 11323 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   46.820568] Tainted: [D]=DIE, [W]=WARN
[   46.820824] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.821561] Call Trace:
[   46.821737]  <TASK>
[   46.821891]  dump_stack_lvl+0x121/0x150
[   46.822167]  ? do_task_dead+0x28/0x110
[   46.822436]  dump_stack+0x19/0x20
[   46.822679]  __schedule_bug+0x12d/0x180
[   46.822966]  __schedule+0x210c/0x2eb0
[   46.823225]  ? rcu_is_watching+0x19/0xc0
[   46.823498]  ? lock_release+0x592/0x870
[   46.823771]  ? __pfx___schedule+0x10/0x10
[   46.824050]  ? debug_smp_processor_id+0x20/0x30
[   46.824362]  ? rcu_is_watching+0x19/0xc0
[   46.824634]  ? trace_irq_enable+0xe1/0x120
[   46.824930]  ? do_task_dead+0x4a/0x110
[   46.825199]  do_task_dead+0xe0/0x110
[   46.825449]  make_task_dead+0x384/0x3c0
[   46.825716]  rewind_stack_and_make_dead+0x16/0x20
[   46.826028] RIP: 0033:0x7f730f23ee5d
[   46.826267] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   46.826676] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.827155] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   46.827634] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.828121] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   46.828588] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   46.829044] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   46.829507]  </TASK>
[   47.243365] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#82] PREEMPT SMP KASAN NOPTI
[   47.244260] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.244917] CPU: 1 UID: 0 PID: 11630 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.245745] Tainted: [D]=DIE, [W]=WARN
[   47.246075] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.247049] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.247565] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.249130] RSP: 0018:ffff88801c2b77d8 EFLAGS: 00010202
[   47.249587] RAX: dffffc0000000000 RBX: ffffea00007c5680 RCX: ffffffff81b9e6e9
[   47.250200] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007c5690
[   47.250792] RBP: ffff88801c2b77f8 R08: 0000000000000000 R09: ffffed1001c64448
[   47.251380] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   47.251972] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800e322240
[   47.252562] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.253230] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.253714] CR2: 00007f730f3fca50 CR3: 0000000026376006 CR4: 0000000000770ef0
[   47.254305] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.254899] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.255488] PKRU: 55555554
[   47.255726] Call Trace:
[   47.255935]  <TASK>
[   47.256119]  ? show_regs+0xa8/0xc0
[   47.256417]  ? die_addr+0x5d/0xf0
[   47.256709]  ? exc_general_protection+0x1ae/0x340
[   47.257110]  ? asm_exc_general_protection+0x2b/0x30
[   47.257520]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.257946]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.258373]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.258806]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.259232]  zap_huge_pmd+0x494/0xd40
[   47.259550]  unmap_page_range+0x1ad6/0x4320
[   47.259905]  ? __pfx_lock_release+0x10/0x10
[   47.260253]  ? do_raw_spin_trylock+0xbf/0x190
[   47.260621]  ? __kasan_check_read+0x15/0x20
[   47.260980]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.261399]  ? __pfx_unmap_page_range+0x10/0x10
[   47.261787]  unmap_single_vma+0x1ac/0x2d0
[   47.262128]  unmap_vmas+0x210/0x470
[   47.262431]  ? __pfx_unmap_vmas+0x10/0x10
[   47.262771]  ? __pfx_lock_release+0x10/0x10
[   47.263122]  ? lock_release+0x592/0x870
[   47.263441]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   47.263853]  ? __pfx_lock_release+0x10/0x10
[   47.264203]  ? mlock_drain_local+0x27f/0x4b0
[   47.264556]  exit_mmap+0x19e/0xb10
[   47.264844]  ? __pfx_exit_mmap+0x10/0x10
[   47.265170]  ? trace_hardirqs_on+0x51/0x60
[   47.265509]  ? __khugepaged_exit+0x266/0x4c0
[   47.265860]  ? kmem_cache_free+0x15d/0x420
[   47.266197]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.266625]  __mmput+0xd6/0x390
[   47.266890]  mmput+0x74/0x90
[   47.267133]  do_exit+0xa03/0x29f0
[   47.267409]  ? trace_hardirqs_on+0x51/0x60
[   47.267746]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.268231]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.268605]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.268982]  ? __pfx_do_exit+0x10/0x10
[   47.269279]  ? __audit_syscall_entry+0x39c/0x500
[   47.269640]  __x64_sys_exit+0x50/0x60
[   47.269934]  x64_sys_call+0x20c9/0x20d0
[   47.270235]  do_syscall_64+0x6d/0x140
[   47.270530]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.270923] RIP: 0033:0x7f730f23ee5d
[   47.271203] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.271655] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.272205] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.272720] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.273234] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.273749] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.274261] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.274786]  </TASK>
[   47.274955] Modules linked in:
[   47.275274] ---[ end trace 0000000000000000 ]---
[   47.275619] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.276051] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.277364] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   47.277741] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   47.278238] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   47.278827] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   47.279331] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.279831] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   47.280464] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.281419] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.282110] CR2: 00007f730f3fca50 CR3: 0000000026376006 CR4: 0000000000770ef0
[   47.282701] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.283187] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.283670] PKRU: 55555554
[   47.283868] note: repro[11630] exited with preempt_count 1
[   47.284242] Fixing recursive fault but reboot is needed!
[   47.284603] BUG: scheduling while atomic: repro/11630/0x00000000
[   47.285015] INFO: lockdep is turned off.
[   47.285286] Modules linked in:
[   47.285503] Preemption disabled at:
[   47.285506] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   47.286126] CPU: 1 UID: 0 PID: 11630 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.286776] Tainted: [D]=DIE, [W]=WARN
[   47.287037] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.287787] Call Trace:
[   47.287958]  <TASK>
[   47.288109]  dump_stack_lvl+0x121/0x150
[   47.288378]  ? do_task_dead+0x28/0x110
[   47.288641]  dump_stack+0x19/0x20
[   47.288879]  __schedule_bug+0x12d/0x180
[   47.289148]  __schedule+0x210c/0x2eb0
[   47.289402]  ? rcu_is_watching+0x19/0xc0
[   47.289676]  ? lock_release+0x592/0x870
[   47.289942]  ? __pfx___schedule+0x10/0x10
[   47.290219]  ? debug_smp_processor_id+0x20/0x30
[   47.290529]  ? rcu_is_watching+0x19/0xc0
[   47.290798]  ? trace_irq_enable+0xe1/0x120
[   47.291083]  ? do_task_dead+0x4a/0x110
[   47.291341]  do_task_dead+0xe0/0x110
[   47.291588]  make_task_dead+0x384/0x3c0
[   47.291852]  rewind_stack_and_make_dead+0x16/0x20
[   47.292165] RIP: 0033:0x7f730f23ee5d
[   47.292404] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.292800] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.293286] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.293741] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.294191] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.294633] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.295076] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.295526]  </TASK>
[   47.374360] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#83] PREEMPT SMP KASAN NOPTI
[   47.375587] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.376318] CPU: 0 UID: 0 PID: 11729 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.377241] Tainted: [D]=DIE, [W]=WARN
[   47.377618] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.378704] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.379281] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.380931] RSP: 0018:ffff88802147f7d8 EFLAGS: 00010202
[   47.381385] RAX: dffffc0000000000 RBX: ffffea000085b500 RCX: ffffffff81b9e6e9
[   47.381996] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000085b510
[   47.382594] RBP: ffff88802147f7f8 R08: 0000000000000000 R09: ffffed1001a7d580
[   47.383204] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.383805] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800d3eac00
[   47.384412] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   47.385098] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.385591] CR2: 00007f730f52b000 CR3: 00000000274e2004 CR4: 0000000000770ef0
[   47.386193] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.386796] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.387393] PKRU: 55555554
[   47.387634] Call Trace:
[   47.387860]  <TASK>
[   47.388057]  ? show_regs+0xa8/0xc0
[   47.388375]  ? die_addr+0x5d/0xf0
[   47.388695]  ? exc_general_protection+0x1ae/0x340
[   47.389105]  ? asm_exc_general_protection+0x2b/0x30
[   47.389526]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.389960]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.390395]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.390836]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.391269]  zap_huge_pmd+0x494/0xd40
[   47.391595]  unmap_page_range+0x1ad6/0x4320
[   47.391974]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.392404]  ? __pfx_unmap_page_range+0x10/0x10
[   47.392807]  unmap_single_vma+0x1ac/0x2d0
[   47.393162]  unmap_vmas+0x210/0x470
[   47.393477]  ? __pfx_unmap_vmas+0x10/0x10
[   47.393828]  ? __pfx_lock_release+0x10/0x10
[   47.394185]  ? lock_release+0x592/0x870
[   47.394520]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   47.394942]  ? __pfx_lock_release+0x10/0x10
[   47.395319]  ? mlock_drain_local+0x27f/0x4b0
[   47.395707]  exit_mmap+0x19e/0xb10
[   47.396015]  ? __pfx_exit_mmap+0x10/0x10
[   47.396359]  ? trace_hardirqs_on+0x51/0x60
[   47.396708]  ? __khugepaged_exit+0x266/0x4c0
[   47.397059]  ? kmem_cache_free+0x15d/0x420
[   47.397401]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.397835]  __mmput+0xd6/0x390
[   47.398102]  mmput+0x74/0x90
[   47.398350]  do_exit+0xa03/0x29f0
[   47.398639]  ? trace_hardirqs_on+0x51/0x60
[   47.398986]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.399477]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.399871]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.400260]  ? __pfx_do_exit+0x10/0x10
[   47.400575]  ? __audit_syscall_entry+0x39c/0x500
[   47.400958]  __x64_sys_exit+0x50/0x60
[   47.401266]  x64_sys_call+0x20c9/0x20d0
[   47.401582]  do_syscall_64+0x6d/0x140
[   47.401896]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.402302] RIP: 0033:0x7f730f23ee5d
[   47.402595] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.403071] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.403649] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.404178] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.404702] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.405226] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.405751] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.406281]  </TASK>
[   47.406457] Modules linked in:
[   47.406902] ---[ end trace 0000000000000000 ]---
[   47.407256] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.407699] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.409027] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   47.409422] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   47.409947] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   47.410623] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   47.411154] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.411773] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   47.412415] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   47.413136] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.413564] CR2: 00007f730f52b000 CR3: 00000000274e2004 CR4: 0000000000770ef0
[   47.414077] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.414684] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.415217] PKRU: 55555554
[   47.415434] note: repro[11729] exited with preempt_count 1
[   47.415836] Fixing recursive fault but reboot is needed!
[   47.416213] BUG: scheduling while atomic: repro/11729/0x00000000
[   47.416638] INFO: lockdep is turned off.
[   47.416925] Modules linked in:
[   47.417153] Preemption disabled at:
[   47.417157] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   47.417786] CPU: 0 UID: 0 PID: 11729 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.418453] Tainted: [D]=DIE, [W]=WARN
[   47.418725] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.419481] Call Trace:
[   47.419661]  <TASK>
[   47.419824]  dump_stack_lvl+0x121/0x150
[   47.420123]  ? do_task_dead+0x28/0x110
[   47.420403]  dump_stack+0x19/0x20
[   47.420663]  __schedule_bug+0x12d/0x180
[   47.420965]  __schedule+0x210c/0x2eb0
[   47.421258]  ? rcu_is_watching+0x19/0xc0
[   47.421560]  ? lock_release+0x592/0x870
[   47.421855]  ? __pfx___schedule+0x10/0x10
[   47.422146]  ? debug_smp_processor_id+0x20/0x30
[   47.422456]  ? rcu_is_watching+0x19/0xc0
[   47.422732]  ? trace_irq_enable+0xe1/0x120
[   47.423022]  ? do_task_dead+0x4a/0x110
[   47.423290]  do_task_dead+0xe0/0x110
[   47.423547]  make_task_dead+0x384/0x3c0
[   47.423824]  rewind_stack_and_make_dead+0x16/0x20
[   47.424147] RIP: 0033:0x7f730f23ee5d
[   47.424393] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.424808] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.425329] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.425825] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.426292] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.426773] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.427237] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.427727]  </TASK>
[   47.478692] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#84] PREEMPT SMP KASAN NOPTI
[   47.479724] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.480360] CPU: 1 UID: 0 PID: 11769 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.481397] Tainted: [D]=DIE, [W]=WARN
[   47.481733] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.482667] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.483187] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.484767] RSP: 0018:ffff88800fbb77d8 EFLAGS: 00010202
[   47.485317] RAX: dffffc0000000000 RBX: ffffea000098a340 RCX: ffffffff81b9e6e9
[   47.485899] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098a350
[   47.486476] RBP: ffff88800fbb77f8 R08: 0000000000000000 R09: ffffed10027410f0
[   47.487057] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   47.487629] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013a08780
[   47.488211] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.489158] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.489633] CR2: 00007f730f4f6658 CR3: 00000000275a2004 CR4: 0000000000770ef0
[   47.490215] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.490794] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.491370] PKRU: 55555554
[   47.491603] Call Trace:
[   47.491818]  <TASK>
[   47.492006]  ? show_regs+0xa8/0xc0
[   47.492314]  ? die_addr+0x5d/0xf0
[   47.492613]  ? exc_general_protection+0x1ae/0x340
[   47.493030]  ? asm_exc_general_protection+0x2b/0x30
[   47.493463]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.493904]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.494339]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.494795]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.495401]  zap_huge_pmd+0x494/0xd40
[   47.495734]  unmap_page_range+0x1ad6/0x4320
[   47.496081]  ? __pfx_lock_release+0x10/0x10
[   47.496438]  ? do_raw_spin_trylock+0xbf/0x190
[   47.496828]  ? __kasan_check_read+0x15/0x20
[   47.497207]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.497644]  ? __pfx_unmap_page_range+0x10/0x10
[   47.498127]  unmap_single_vma+0x1ac/0x2d0
[   47.498472]  unmap_vmas+0x210/0x470
[   47.498777]  ? __pfx_unmap_vmas+0x10/0x10
[   47.499105]  ? __pfx_lock_release+0x10/0x10
[   47.499448]  ? lru_add_drain+0x20a/0x420
[   47.499794]  ? mlock_drain_local+0x27f/0x4b0
[   47.500148]  exit_mmap+0x19e/0xb10
[   47.500440]  ? __pfx_exit_mmap+0x10/0x10
[   47.500775]  ? trace_hardirqs_on+0x51/0x60
[   47.501120]  ? __khugepaged_exit+0x266/0x4c0
[   47.501470]  ? kmem_cache_free+0x15d/0x420
[   47.501804]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.502235]  __mmput+0xd6/0x390
[   47.502499]  mmput+0x74/0x90
[   47.502737]  do_exit+0xa03/0x29f0
[   47.503007]  ? trace_hardirqs_on+0x51/0x60
[   47.503330]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.503812]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.504189]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.504562]  ? __pfx_do_exit+0x10/0x10
[   47.504866]  ? __audit_syscall_entry+0x39c/0x500
[   47.505228]  __x64_sys_exit+0x50/0x60
[   47.505520]  x64_sys_call+0x20c9/0x20d0
[   47.505825]  do_syscall_64+0x6d/0x140
[   47.506120]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.506509] RIP: 0033:0x7f730f23ee5d
[   47.506792] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.507243] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.507813] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.508334] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.508861] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.509381] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.509912] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.510444]  </TASK>
[   47.510621] Modules linked in:
[   47.511028] ---[ end trace 0000000000000000 ]---
[   47.511377] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.511803] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.513086] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   47.513465] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   47.513971] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   47.514622] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   47.515133] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.515568] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#85] PREEMPT SMP KASAN NOPTI
[   47.515635] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   47.516133] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.516605] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.516913] CPU: 0 UID: 0 PID: 11793 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.517443] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.517829] Tainted: [D]=DIE, [W]=WARN
[   47.518211] CR2: 00007f730f4f6658 CR3: 00000000275a2004 CR4: 0000000000770ef0
[   47.518367] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.519026] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.519301] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.519781] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.520016] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.520024] RSP: 0018:ffff88801d8d77d8 EFLAGS: 00010202
[   47.520031] RAX: dffffc0000000000 RBX: ffffea000051e780 RCX: ffffffff81b9e6e9
[   47.520036] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000051e790
[   47.520041] RBP: ffff88801d8d77f8 R08: 0000000000000000 R09: ffffed100215320c
[   47.520516] PKRU: 55555554
[   47.521251] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.521604] note: repro[11769] exited with preempt_count 1
[   47.521892] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010a99060
[   47.522366] Fixing recursive fault but reboot is needed!
[   47.522653] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   47.522661] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.522667] CR2: 00007f8809df2000 CR3: 00000000224ca004 CR4: 0000000000770ef0
[   47.522678] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.522683] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.525319] PKRU: 55555554
[   47.525442] Call Trace:
[   47.525551]  <TASK>
[   47.525650]  ? show_regs+0xa8/0xc0
[   47.525817]  ? die_addr+0x5d/0xf0
[   47.525971]  ? exc_general_protection+0x1ae/0x340
[   47.526191]  ? asm_exc_general_protection+0x2b/0x30
[   47.526425]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.526787]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.527185]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.527582]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.527982]  zap_huge_pmd+0x494/0xd40
[   47.528282]  unmap_page_range+0x1ad6/0x4320
[   47.528529]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.528752]  ? __pfx_unmap_page_range+0x10/0x10
[   47.528958]  unmap_single_vma+0x1ac/0x2d0
[   47.529141]  unmap_vmas+0x210/0x470
[   47.529304]  ? __pfx_unmap_vmas+0x10/0x10
[   47.529483]  ? __pfx_lock_release+0x10/0x10
[   47.529698]  ? lock_release+0x592/0x870
[   47.529917]  ? mas_next_slot+0x133a/0x1a50
[   47.530125]  ? __pfx_lock_release+0x10/0x10
[   47.530314]  ? mlock_drain_local+0x27f/0x4b0
[   47.530507]  exit_mmap+0x19e/0xb10
[   47.530667]  ? __pfx_exit_mmap+0x10/0x10
[   47.530850]  ? trace_hardirqs_on+0x51/0x60
[   47.531037]  ? __khugepaged_exit+0x266/0x4c0
[   47.531227]  ? kmem_cache_free+0x15d/0x420
[   47.531412]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.531645]  __mmput+0xd6/0x390
[   47.531795]  mmput+0x74/0x90
[   47.531930]  do_exit+0xa03/0x29f0
[   47.532084]  ? trace_hardirqs_on+0x51/0x60
[   47.532269]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.532536]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.532749]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.532960]  ? __pfx_do_exit+0x10/0x10
[   47.533130]  ? __audit_syscall_entry+0x39c/0x500
[   47.533338]  __x64_sys_exit+0x50/0x60
[   47.533505]  x64_sys_call+0x20c9/0x20d0
[   47.533679]  do_syscall_64+0x6d/0x140
[   47.533848]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.534069] RIP: 0033:0x7f730f23ee5d
[   47.534229] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.534486] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.534812] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.535109] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.535405] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.535703] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.535998] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.536301]  </TASK>
[   47.536402] Modules linked in:
[   47.536687] ---[ end trace 0000000000000000 ]---
[   47.536892] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.537146] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.537902] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   47.538128] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   47.538426] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   47.538803] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   47.539107] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.539419] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   47.539733] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   47.540067] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.540309] CR2: 00007f8809df2000 CR3: 00000000224ca004 CR4: 0000000000770ef0
[   47.540607] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.540906] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.541201] PKRU: 55555554
[   47.541323] note: repro[11793] exited with preempt_count 1
[   47.541553] Fixing recursive fault but reboot is needed!
[   47.541777] BUG: scheduling while atomic: repro/11793/0x00000000
[   47.542028] INFO: lockdep is turned off.
[   47.542196] Modules linked in:
[   47.542338] Preemption disabled at:
[   47.542340] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   47.542918] CPU: 0 UID: 0 PID: 11793 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.543420] Tainted: [D]=DIE, [W]=WARN
[   47.543664] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.544380] Call Trace:
[   47.544547]  <TASK>
[   47.544700]  dump_stack_lvl+0x121/0x150
[   47.544963]  ? do_task_dead+0x28/0x110
[   47.545223]  dump_stack+0x19/0x20
[   47.545405]  __schedule_bug+0x12d/0x180
[   47.545581]  __schedule+0x210c/0x2eb0
[   47.545749]  ? rcu_is_watching+0x19/0xc0
[   47.545922]  ? lock_release+0x592/0x870
[   47.546093]  ? __pfx___schedule+0x10/0x10
[   47.546270]  ? debug_smp_processor_id+0x20/0x30
[   47.546472]  ? rcu_is_watching+0x19/0xc0
[   47.546645]  ? trace_irq_enable+0xe1/0x120
[   47.546833]  ? do_task_dead+0x4a/0x110
[   47.547006]  do_task_dead+0xe0/0x110
[   47.547176]  make_task_dead+0x384/0x3c0
[   47.547361]  rewind_stack_and_make_dead+0x16/0x20
[   47.547572] RIP: 0033:0x7f730f23ee5d
[   47.547740] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.548012] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.548360] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.548684] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.548979] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.549274] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.549569] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.549872]  </TASK>
[   47.765996] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#86] PREEMPT SMP KASAN NOPTI
[   47.766941] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.767517] CPU: 1 UID: 0 PID: 11888 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.768250] Tainted: [D]=DIE, [W]=WARN
[   47.768545] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.769402] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.769872] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.771256] RSP: 0018:ffff88802616f7d8 EFLAGS: 00010202
[   47.771650] RAX: dffffc0000000000 RBX: ffffea0000768a00 RCX: ffffffff81b9e6e9
[   47.772176] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000768a10
[   47.772699] RBP: ffff88802616f7f8 R08: 0000000000000000 R09: ffffed1001ce8f74
[   47.773220] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.773740] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800e747ba0
[   47.774260] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.774852] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.775280] CR2: 00007ffdcd14bac8 CR3: 0000000027446004 CR4: 0000000000770ef0
[   47.775818] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.776341] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.776867] PKRU: 55555554
[   47.777079] Call Trace:
[   47.777272]  <TASK>
[   47.777445]  ? show_regs+0xa8/0xc0
[   47.777725]  ? die_addr+0x5d/0xf0
[   47.777995]  ? exc_general_protection+0x1ae/0x340
[   47.778368]  ? asm_exc_general_protection+0x2b/0x30
[   47.778763]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.779157]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.779541]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.779926]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.780305]  zap_huge_pmd+0x494/0xd40
[   47.780591]  unmap_page_range+0x1ad6/0x4320
[   47.780922]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.781297]  ? __pfx_unmap_page_range+0x10/0x10
[   47.781646]  unmap_single_vma+0x1ac/0x2d0
[   47.781963]  unmap_vmas+0x210/0x470
[   47.782239]  ? __pfx_unmap_vmas+0x10/0x10
[   47.782542]  ? __pfx_lock_release+0x10/0x10
[   47.782857]  ? lock_release+0x592/0x870
[   47.783143]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   47.783507]  ? __pfx_lock_release+0x10/0x10
[   47.783825]  ? mlock_drain_local+0x27f/0x4b0
[   47.784155]  exit_mmap+0x19e/0xb10
[   47.784413]  ? __pfx_exit_mmap+0x10/0x10
[   47.784708]  ? trace_hardirqs_on+0x51/0x60
[   47.785015]  ? __khugepaged_exit+0x266/0x4c0
[   47.785323]  ? kmem_cache_free+0x15d/0x420
[   47.785623]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.786008]  __mmput+0xd6/0x390
[   47.786244]  mmput+0x74/0x90
[   47.786462]  do_exit+0xa03/0x29f0
[   47.786713]  ? trace_hardirqs_on+0x51/0x60
[   47.787015]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.787447]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.787795]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.788139]  ? __pfx_do_exit+0x10/0x10
[   47.788416]  ? __audit_syscall_entry+0x39c/0x500
[   47.788753]  __x64_sys_exit+0x50/0x60
[   47.789023]  x64_sys_call+0x20c9/0x20d0
[   47.789300]  do_syscall_64+0x6d/0x140
[   47.789574]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.789933] RIP: 0033:0x7f730f23ee5d
[   47.790189] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.790591] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.791083] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.791543] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.792005] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.792467] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.792937] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.793413]  </TASK>
[   47.793570] Modules linked in:
[   47.793968] ---[ end trace 0000000000000000 ]---
[   47.794284] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.794811] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.796118] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   47.796472] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   47.796924] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   47.797825] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   47.798281] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.799266] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   47.799727] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.800356] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.800728] CR2: 00007ffdcd14bac8 CR3: 0000000027446004 CR4: 0000000000770ef0
[   47.801315] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.801762] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.802280] PKRU: 55555554
[   47.802461] note: repro[11888] exited with preempt_count 1
[   47.802846] Fixing recursive fault but reboot is needed!
[   47.803174] BUG: scheduling while atomic: repro/11888/0x00000000
[   47.803550] INFO: lockdep is turned off.
[   47.803801] Modules linked in:
[   47.804005] Preemption disabled at:
[   47.804008] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   47.804787] CPU: 1 UID: 0 PID: 11888 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.805682] Tainted: [D]=DIE, [W]=WARN
[   47.806226] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.807474] Call Trace:
[   47.807733]  <TASK>
[   47.807916]  dump_stack_lvl+0x121/0x150
[   47.808245]  ? do_task_dead+0x28/0x110
[   47.808649]  dump_stack+0x19/0x20
[   47.808941]  __schedule_bug+0x12d/0x180
[   47.809270]  __schedule+0x210c/0x2eb0
[   47.809580]  ? rcu_is_watching+0x19/0xc0
[   47.809919]  ? lock_release+0x592/0x870
[   47.810242]  ? __pfx___schedule+0x10/0x10
[   47.810579]  ? debug_smp_processor_id+0x20/0x30
[   47.810991]  ? rcu_is_watching+0x19/0xc0
[   47.811409]  ? trace_irq_enable+0xe1/0x120
[   47.811859]  ? do_task_dead+0x4a/0x110
[   47.812269]  do_task_dead+0xe0/0x110
[   47.812663]  make_task_dead+0x384/0x3c0
[   47.813001]  rewind_stack_and_make_dead+0x16/0x20
[   47.813378] RIP: 0033:0x7f730f23ee5d
[   47.813666] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.814143] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.814732] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.815280] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.815830] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.816377] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.816919] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.817459]  </TASK>
[   47.889374] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#87] PREEMPT SMP KASAN NOPTI
[   47.889941] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.890287] CPU: 0 UID: 0 PID: 11968 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.890714] Tainted: [D]=DIE, [W]=WARN
[   47.890888] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.891395] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.891668] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.892515] RSP: 0018:ffff8880214577d8 EFLAGS: 00010202
[   47.892993] RAX: dffffc0000000000 RBX: ffffea00004f39c0 RCX: ffffffff81b9e6e9
[   47.893633] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004f39d0
[   47.894278] RBP: ffff8880214577f8 R08: 0000000000000000 R09: ffffed1002377bd4
[   47.894916] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.895493] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011bbdea0
[   47.895806] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   47.896150] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.896401] CR2: 00007ffdcd14bac8 CR3: 00000000308aa005 CR4: 0000000000770ef0
[   47.896715] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.897023] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.897333] PKRU: 55555554
[   47.897456] Call Trace:
[   47.897569]  <TASK>
[   47.897675]  ? show_regs+0xa8/0xc0
[   47.897841]  ? die_addr+0x5d/0xf0
[   47.898002]  ? exc_general_protection+0x1ae/0x340
[   47.898221]  ? asm_exc_general_protection+0x2b/0x30
[   47.898448]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.898685]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.898917]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.899151]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.899387]  zap_huge_pmd+0x494/0xd40
[   47.899564]  unmap_page_range+0x1ad6/0x4320
[   47.899772]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.900006]  ? __pfx_unmap_page_range+0x10/0x10
[   47.900219]  unmap_single_vma+0x1ac/0x2d0
[   47.900407]  unmap_vmas+0x210/0x470
[   47.900576]  ? __pfx_unmap_vmas+0x10/0x10
[   47.900765]  ? __pfx_lock_release+0x10/0x10
[   47.900955]  ? lock_release+0x592/0x870
[   47.901128]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   47.901349]  ? __pfx_lock_release+0x10/0x10
[   47.901539]  ? mlock_drain_local+0x27f/0x4b0
[   47.901737]  exit_mmap+0x19e/0xb10
[   47.901898]  ? __pfx_exit_mmap+0x10/0x10
[   47.902082]  ? trace_hardirqs_on+0x51/0x60
[   47.902272]  ? __khugepaged_exit+0x266/0x4c0
[   47.902464]  ? kmem_cache_free+0x15d/0x420
[   47.902653]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.902893]  __mmput+0xd6/0x390
[   47.903047]  mmput+0x74/0x90
[   47.903183]  do_exit+0xa03/0x29f0
[   47.903339]  ? trace_hardirqs_on+0x51/0x60
[   47.903530]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.903805]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.904024]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.904232]  ? __pfx_do_exit+0x10/0x10
[   47.904402]  ? __audit_syscall_entry+0x39c/0x500
[   47.904607]  __x64_sys_exit+0x50/0x60
[   47.904776]  x64_sys_call+0x20c9/0x20d0
[   47.904947]  do_syscall_64+0x6d/0x140
[   47.905115]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.905338] RIP: 0033:0x7f730f23ee5d
[   47.905499] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.905755] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.906064] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.906353] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.906644] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.906941] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.907233] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.907532]  </TASK>
[   47.907631] Modules linked in:
[   47.907884] ---[ end trace 0000000000000000 ]---
[   47.908087] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.908336] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.909097] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   47.909371] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   47.909934] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   47.910626] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   47.910944] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.911239] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   47.911537] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   47.911875] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.912118] CR2: 00007ffdcd14bac8 CR3: 00000000308aa005 CR4: 0000000000770ef0
[   47.912484] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.912840] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.913248] PKRU: 55555554
[   47.913387] note: repro[11968] exited with preempt_count 1
[   47.913630] Fixing recursive fault but reboot is needed!
[   47.913860] BUG: scheduling while atomic: repro/11968/0x00000000
[   47.914110] INFO: lockdep is turned off.
[   47.914276] Modules linked in:
[   47.914414] Preemption disabled at:
[   47.914416] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   47.914815] CPU: 0 UID: 0 PID: 11968 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   47.915210] Tainted: [D]=DIE, [W]=WARN
[   47.915371] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.915841] Call Trace:
[   47.915953]  <TASK>
[   47.916050]  dump_stack_lvl+0x121/0x150
[   47.916229]  ? do_task_dead+0x28/0x110
[   47.916401]  dump_stack+0x19/0x20
[   47.916593]  __schedule_bug+0x12d/0x180
[   47.916830]  __schedule+0x210c/0x2eb0
[   47.917045]  ? rcu_is_watching+0x19/0xc0
[   47.917235]  ? lock_release+0x592/0x870
[   47.917421]  ? __pfx___schedule+0x10/0x10
[   47.917609]  ? debug_smp_processor_id+0x20/0x30
[   47.917812]  ? rcu_is_watching+0x19/0xc0
[   47.917986]  ? trace_irq_enable+0xe1/0x120
[   47.918170]  ? do_task_dead+0x4a/0x110
[   47.918387]  do_task_dead+0xe0/0x110
[   47.918609]  make_task_dead+0x384/0x3c0
[   47.918845]  rewind_stack_and_make_dead+0x16/0x20
[   47.919075] RIP: 0033:0x7f730f23ee5d
[   47.919242] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   47.919532] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.919953] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   47.920279] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.920589] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   47.920879] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   47.921168] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   47.921466]  </TASK>
[   48.174803] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#88] PREEMPT SMP KASAN NOPTI
[   48.175602] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.176099] CPU: 0 UID: 0 PID: 12155 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.176726] Tainted: [D]=DIE, [W]=WARN
[   48.176975] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.177709] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.178101] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.179284] RSP: 0018:ffff8880225977d8 EFLAGS: 00010202
[   48.179631] RAX: dffffc0000000000 RBX: ffffea000085b480 RCX: ffffffff81b9e6e9
[   48.180093] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000085b490
[   48.180552] RBP: ffff8880225977f8 R08: 0000000000000000 R09: ffffed1002d9ca84
[   48.181004] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.181453] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888016ce5420
[   48.181903] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   48.182408] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.182779] CR2: 00007f730f24e1f0 CR3: 00000000216ba005 CR4: 0000000000770ef0
[   48.183232] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.183687] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.184139] PKRU: 55555554
[   48.184311] Call Trace:
[   48.184470]  <TASK>
[   48.184611]  ? show_regs+0xa8/0xc0
[   48.184837]  ? die_addr+0x5d/0xf0
[   48.185058]  ? exc_general_protection+0x1ae/0x340
[   48.185366]  ? asm_exc_general_protection+0x2b/0x30
[   48.185710]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.186036]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.186364]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.186695]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.187022]  zap_huge_pmd+0x494/0xd40
[   48.187267]  unmap_page_range+0x1ad6/0x4320
[   48.187544]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.187857]  ? __pfx_unmap_page_range+0x10/0x10
[   48.188142]  unmap_single_vma+0x1ac/0x2d0
[   48.188393]  unmap_vmas+0x210/0x470
[   48.188614]  ? __pfx_unmap_vmas+0x10/0x10
[   48.188835]  ? __pfx_lock_release+0x10/0x10
[   48.189039]  ? lock_release+0x592/0x870
[   48.189218]  ? mas_next_slot+0x133a/0x1a50
[   48.189412]  ? __pfx_lock_release+0x10/0x10
[   48.189609]  ? mlock_drain_local+0x27f/0x4b0
[   48.189823]  exit_mmap+0x19e/0xb10
[   48.189995]  ? __pfx_exit_mmap+0x10/0x10
[   48.190187]  ? trace_hardirqs_on+0x51/0x60
[   48.190387]  ? __khugepaged_exit+0x266/0x4c0
[   48.190590]  ? kmem_cache_free+0x15d/0x420
[   48.190831]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.191156]  __mmput+0xd6/0x390
[   48.191361]  mmput+0x74/0x90
[   48.191548]  do_exit+0xa03/0x29f0
[   48.191766]  ? trace_hardirqs_on+0x51/0x60
[   48.192020]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.192392]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.192687]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.192982]  ? __pfx_do_exit+0x10/0x10
[   48.193224]  ? __audit_syscall_entry+0x39c/0x500
[   48.193517]  __x64_sys_exit+0x50/0x60
[   48.193718]  x64_sys_call+0x20c9/0x20d0
[   48.193904]  do_syscall_64+0x6d/0x140
[   48.194077]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.194306] RIP: 0033:0x7f730f23ee5d
[   48.194470] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.194738] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.195064] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.195368] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.195674] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.195969] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.196265] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.196567]  </TASK>
[   48.196669] Modules linked in:
[   48.196964] ---[ end trace 0000000000000000 ]---
[   48.197172] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.197424] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.198182] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   48.198408] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   48.198806] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   48.199109] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   48.199408] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.199713] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   48.200008] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   48.200336] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.200576] CR2: 00007f730f24e1f0 CR3: 00000000216ba005 CR4: 0000000000770ef0
[   48.200960] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.201330] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.201654] PKRU: 55555554
[   48.201780] note: repro[12155] exited with preempt_count 1
[   48.202009] Fixing recursive fault but reboot is needed!
[   48.202227] BUG: scheduling while atomic: repro/12155/0x00000000
[   48.202546] INFO: lockdep is turned off.
[   48.202718] Modules linked in:
[   48.202852] Preemption disabled at:
[   48.202854] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   48.203231] CPU: 0 UID: 0 PID: 12155 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.203623] Tainted: [D]=DIE, [W]=WARN
[   48.203784] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.204244] Call Trace:
[   48.204353]  <TASK>
[   48.204450]  dump_stack_lvl+0x121/0x150
[   48.204623]  ? do_task_dead+0x28/0x110
[   48.204794]  dump_stack+0x19/0x20
[   48.204946]  __schedule_bug+0x12d/0x180
[   48.205118]  __schedule+0x210c/0x2eb0
[   48.205281]  ? rcu_is_watching+0x19/0xc0
[   48.205456]  ? lock_release+0x592/0x870
[   48.205626]  ? __pfx___schedule+0x10/0x10
[   48.205803]  ? debug_smp_processor_id+0x20/0x30
[   48.206002]  ? rcu_is_watching+0x19/0xc0
[   48.206174]  ? trace_irq_enable+0xe1/0x120
[   48.206380]  ? do_task_dead+0x4a/0x110
[   48.206598]  do_task_dead+0xe0/0x110
[   48.206821]  make_task_dead+0x384/0x3c0
[   48.207034]  rewind_stack_and_make_dead+0x16/0x20
[   48.207242] RIP: 0033:0x7f730f23ee5d
[   48.207398] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.207650] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.207963] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.208256] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.208644] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.209017] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.209319] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.209624]  </TASK>
[   48.570706] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#89] PREEMPT SMP KASAN NOPTI
[   48.571232] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.571548] CPU: 1 UID: 0 PID: 12472 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.572026] Tainted: [D]=DIE, [W]=WARN
[   48.572222] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.572780] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.573035] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.573789] RSP: 0018:ffff888011c1f7d8 EFLAGS: 00010202
[   48.574013] RAX: dffffc0000000000 RBX: ffffea000085e8c0 RCX: ffffffff81b9e6e9
[   48.574309] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000085e8d0
[   48.574605] RBP: ffff888011c1f7f8 R08: 0000000000000000 R09: ffffed10023ed048
[   48.574904] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   48.575201] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011f68240
[   48.575497] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.575832] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.576074] CR2: 00007ffdcd14bac8 CR3: 000000001fb18006 CR4: 0000000000770ef0
[   48.576371] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.576668] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.576965] PKRU: 55555554
[   48.577084] Call Trace:
[   48.577194]  <TASK>
[   48.577292]  ? show_regs+0xa8/0xc0
[   48.577452]  ? die_addr+0x5d/0xf0
[   48.577604]  ? exc_general_protection+0x1ae/0x340
[   48.577822]  ? asm_exc_general_protection+0x2b/0x30
[   48.578039]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.578262]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.578485]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.578710]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.578934]  zap_huge_pmd+0x494/0xd40
[   48.579105]  unmap_page_range+0x1ad6/0x4320
[   48.579291]  ? __pfx_lock_release+0x10/0x10
[   48.579473]  ? do_raw_spin_trylock+0xbf/0x190
[   48.579667]  ? __kasan_check_read+0x15/0x20
[   48.579857]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.580078]  ? __pfx_unmap_page_range+0x10/0x10
[   48.580283]  unmap_single_vma+0x1ac/0x2d0
[   48.580466]  unmap_vmas+0x210/0x470
[   48.580627]  ? __pfx_unmap_vmas+0x10/0x10
[   48.580810]  ? __pfx_lock_release+0x10/0x10
[   48.580995]  ? lock_release+0x592/0x870
[   48.581165]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   48.581382]  ? __pfx_lock_release+0x10/0x10
[   48.581569]  ? mlock_drain_local+0x27f/0x4b0
[   48.581765]  exit_mmap+0x19e/0xb10
[   48.581926]  ? __pfx_exit_mmap+0x10/0x10
[   48.582108]  ? trace_hardirqs_on+0x51/0x60
[   48.582296]  ? __khugepaged_exit+0x266/0x4c0
[   48.582486]  ? kmem_cache_free+0x15d/0x420
[   48.582677]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.582911]  __mmput+0xd6/0x390
[   48.583057]  mmput+0x74/0x90
[   48.583192]  do_exit+0xa03/0x29f0
[   48.583345]  ? trace_hardirqs_on+0x51/0x60
[   48.583531]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.583798]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.584010]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.584219]  ? __pfx_do_exit+0x10/0x10
[   48.584388]  ? __audit_syscall_entry+0x39c/0x500
[   48.584593]  __x64_sys_exit+0x50/0x60
[   48.584763]  x64_sys_call+0x20c9/0x20d0
[   48.584934]  do_syscall_64+0x6d/0x140
[   48.585103]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.585323] RIP: 0033:0x7f730f23ee5d
[   48.585481] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.585740] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.586055] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.586352] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.586647] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.586944] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.587239] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.587545]  </TASK>
[   48.587645] Modules linked in:
[   48.588088] ---[ end trace 0000000000000000 ]---
[   48.588300] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.588815] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.590122] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   48.590345] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   48.591592] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   48.591909] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   48.592203] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.592496] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   48.592795] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.593126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.593367] CR2: 00007ffdcd14bac8 CR3: 000000001fb18006 CR4: 0000000000770ef0
[   48.593661] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.593955] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.594249] PKRU: 55555554
[   48.594369] note: repro[12472] exited with preempt_count 1
[   48.594684] Fixing recursive fault but reboot is needed!
[   48.594908] check_preemption_disabled: 15 callbacks suppressed
[   48.594912] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12472
[   48.595474] caller is debug_smp_processor_id+0x20/0x30
[   48.595700] CPU: 1 UID: 0 PID: 12472 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.596095] Tainted: [D]=DIE, [W]=WARN
[   48.596256] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.596721] Call Trace:
[   48.596831]  <TASK>
[   48.596928]  dump_stack_lvl+0x121/0x150
[   48.597103]  dump_stack+0x19/0x20
[   48.597256]  check_preemption_disabled+0x168/0x180
[   48.597465]  debug_smp_processor_id+0x20/0x30
[   48.597657]  __schedule+0x9a/0x2eb0
[   48.597814]  ? rcu_is_watching+0x19/0xc0
[   48.597989]  ? lock_release+0x592/0x870
[   48.598160]  ? __pfx___schedule+0x10/0x10
[   48.598338]  ? debug_smp_processor_id+0x20/0x30
[   48.598538]  ? rcu_is_watching+0x19/0xc0
[   48.598713]  ? trace_irq_enable+0xe1/0x120
[   48.598898]  ? do_task_dead+0x4a/0x110
[   48.599071]  do_task_dead+0xe0/0x110
[   48.599235]  make_task_dead+0x384/0x3c0
[   48.599409]  rewind_stack_and_make_dead+0x16/0x20
[   48.599615] RIP: 0033:0x7f730f23ee5d
[   48.599775] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.600030] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.600345] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.600640] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.600937] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.601233] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.601529] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.601832]  </TASK>
[   48.602032] BUG: scheduling while atomic: repro/12472/0x00000000
[   48.602288] INFO: lockdep is turned off.
[   48.602456] Modules linked in:
[   48.602656] Preemption disabled at:
[   48.602658] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   48.603044] CPU: 1 UID: 0 PID: 12472 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.603442] Tainted: [D]=DIE, [W]=WARN
[   48.603603] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.604079] Call Trace:
[   48.604189]  <TASK>
[   48.604288]  dump_stack_lvl+0x121/0x150
[   48.604462]  ? do_task_dead+0x28/0x110
[   48.604759]  dump_stack+0x19/0x20
[   48.605044]  __schedule_bug+0x12d/0x180
[   48.605367]  __schedule+0x210c/0x2eb0
[   48.605669]  ? rcu_is_watching+0x19/0xc0
[   48.605993]  ? lock_release+0x592/0x870
[   48.606204]  ? __pfx___schedule+0x10/0x10
[   48.606383]  ? debug_smp_processor_id+0x20/0x30
[   48.606585]  ? rcu_is_watching+0x19/0xc0
[   48.606760]  ? trace_irq_enable+0xe1/0x120
[   48.606946]  ? do_task_dead+0x4a/0x110
[   48.607118]  do_task_dead+0xe0/0x110
[   48.607284]  make_task_dead+0x384/0x3c0
[   48.607457]  rewind_stack_and_make_dead+0x16/0x20
[   48.607662] RIP: 0033:0x7f730f23ee5d
[   48.607822] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.608078] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.608391] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.608688] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.608984] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.609279] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.609860] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.610265]  </TASK>
[   48.621615] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#90] PREEMPT SMP KASAN NOPTI
[   48.622358] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.622680] CPU: 1 UID: 0 PID: 12520 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.623077] Tainted: [D]=DIE, [W]=WARN
[   48.623265] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.623807] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.624062] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.624815] RSP: 0018:ffff8880308ff7d8 EFLAGS: 00010202
[   48.625040] RAX: dffffc0000000000 RBX: ffffea0000444040 RCX: ffffffff81b9e6e9
[   48.625337] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000444050
[   48.625635] RBP: ffff8880308ff7f8 R08: 0000000000000000 R09: ffffed1003f62d80
[   48.625934] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.626230] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fb16c00
[   48.626528] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.626865] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.627108] CR2: 00007f730f3fca50 CR3: 0000000027448001 CR4: 0000000000770ef0
[   48.627530] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.627830] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.628127] PKRU: 55555554
[   48.628249] Call Trace:
[   48.628360]  <TASK>
[   48.628458]  ? show_regs+0xa8/0xc0
[   48.628617]  ? die_addr+0x5d/0xf0
[   48.628774]  ? exc_general_protection+0x1ae/0x340
[   48.628989]  ? asm_exc_general_protection+0x2b/0x30
[   48.629208]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.629430]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.629655]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.629880]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.630120]  zap_huge_pmd+0x494/0xd40
[   48.630408]  unmap_page_range+0x1ad6/0x4320
[   48.630604]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.630828]  ? __pfx_unmap_page_range+0x10/0x10
[   48.631035]  unmap_single_vma+0x1ac/0x2d0
[   48.631216]  unmap_vmas+0x210/0x470
[   48.631378]  ? __pfx_unmap_vmas+0x10/0x10
[   48.631557]  ? __pfx_lock_release+0x10/0x10
[   48.631744]  ? lock_release+0x592/0x870
[   48.632029]  ? mas_next_slot+0x133a/0x1a50
[   48.632215]  ? __pfx_lock_release+0x10/0x10
[   48.632402]  ? mlock_drain_local+0x27f/0x4b0
[   48.632595]  exit_mmap+0x19e/0xb10
[   48.632756]  ? __pfx_exit_mmap+0x10/0x10
[   48.632936]  ? trace_hardirqs_on+0x51/0x60
[   48.633125]  ? __khugepaged_exit+0x266/0x4c0
[   48.633317]  ? kmem_cache_free+0x15d/0x420
[   48.633502]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.633779]  __mmput+0xd6/0x390
[   48.633999]  mmput+0x74/0x90
[   48.634135]  do_exit+0xa03/0x29f0
[   48.634288]  ? trace_hardirqs_on+0x51/0x60
[   48.634472]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.634742]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.634956]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.635166]  ? __pfx_do_exit+0x10/0x10
[   48.635382]  ? __audit_syscall_entry+0x39c/0x500
[   48.635635]  __x64_sys_exit+0x50/0x60
[   48.635804]  x64_sys_call+0x20c9/0x20d0
[   48.635979]  do_syscall_64+0x6d/0x140
[   48.636147]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.636368] RIP: 0033:0x7f730f23ee5d
[   48.636528] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.636825] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.637221] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.637520] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.637827] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.638131] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.638540] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.638845]  </TASK>
[   48.638947] Modules linked in:
[   48.639174] ---[ end trace 0000000000000000 ]---
[   48.639380] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.639645] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.640595] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   48.640833] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   48.641201] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   48.641567] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   48.641867] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.642164] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   48.642534] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.642927] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.643171] CR2: 00007f730f3fca50 CR3: 0000000027448001 CR4: 0000000000770ef0
[   48.643470] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.643835] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.644227] PKRU: 55555554
[   48.644350] note: repro[12520] exited with preempt_count 1
[   48.644582] Fixing recursive fault but reboot is needed!
[   48.644808] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12520
[   48.645201] caller is debug_smp_processor_id+0x20/0x30
[   48.645425] CPU: 1 UID: 0 PID: 12520 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.645822] Tainted: [D]=DIE, [W]=WARN
[   48.645983] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.646555] Call Trace:
[   48.646667]  <TASK>
[   48.646767]  dump_stack_lvl+0x121/0x150
[   48.646943]  dump_stack+0x19/0x20
[   48.647097]  check_preemption_disabled+0x168/0x180
[   48.647307]  debug_smp_processor_id+0x20/0x30
[   48.647499]  __schedule+0x9a/0x2eb0
[   48.647765]  ? rcu_is_watching+0x19/0xc0
[   48.647941]  ? lock_release+0x592/0x870
[   48.648112]  ? __pfx___schedule+0x10/0x10
[   48.648289]  ? debug_smp_processor_id+0x20/0x30
[   48.648488]  ? rcu_is_watching+0x19/0xc0
[   48.648662]  ? trace_irq_enable+0xe1/0x120
[   48.648849]  ? do_task_dead+0x4a/0x110
[   48.649022]  do_task_dead+0xe0/0x110
[   48.649207]  make_task_dead+0x384/0x3c0
[   48.649459]  rewind_stack_and_make_dead+0x16/0x20
[   48.649668] RIP: 0033:0x7f730f23ee5d
[   48.649831] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.650089] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.650406] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.650704] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.651001] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.651298] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.651594] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.651901]  </TASK>
[   48.652018] BUG: scheduling while atomic: repro/12520/0x00000000
[   48.652272] INFO: lockdep is turned off.
[   48.652445] Modules linked in:
[   48.652583] Preemption disabled at:
[   48.652585] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   48.652968] CPU: 1 UID: 0 PID: 12520 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.653368] Tainted: [D]=DIE, [W]=WARN
[   48.653529] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.653995] Call Trace:
[   48.654125]  <TASK>
[   48.654241]  dump_stack_lvl+0x121/0x150
[   48.654448]  ? do_task_dead+0x28/0x110
[   48.654652]  dump_stack+0x19/0x20
[   48.654836]  __schedule_bug+0x12d/0x180
[   48.655014]  __schedule+0x210c/0x2eb0
[   48.655179]  ? rcu_is_watching+0x19/0xc0
[   48.655352]  ? lock_release+0x592/0x870
[   48.655524]  ? __pfx___schedule+0x10/0x10
[   48.655704]  ? debug_smp_processor_id+0x20/0x30
[   48.655903]  ? rcu_is_watching+0x19/0xc0
[   48.656076]  ? trace_irq_enable+0xe1/0x120
[   48.656262]  ? do_task_dead+0x4a/0x110
[   48.656435]  do_task_dead+0xe0/0x110
[   48.656601]  make_task_dead+0x384/0x3c0
[   48.656777]  rewind_stack_and_make_dead+0x16/0x20
[   48.656985] RIP: 0033:0x7f730f23ee5d
[   48.657143] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.657401] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.657719] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.658019] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.658316] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.658616] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.658916] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.659220]  </TASK>
[   48.823078] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#91] PREEMPT SMP KASAN NOPTI
[   48.823621] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.823954] CPU: 1 UID: 0 PID: 12622 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.824369] Tainted: [D]=DIE, [W]=WARN
[   48.824537] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.825013] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.825274] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.826041] RSP: 0018:ffff88801fa5f7d8 EFLAGS: 00010202
[   48.826269] RAX: dffffc0000000000 RBX: ffffea000039c980 RCX: ffffffff81b9e6e9
[   48.826572] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000039c990
[   48.826876] RBP: ffff88801fa5f7f8 R08: 0000000000000000 R09: ffffed10027570b4
[   48.827178] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.827479] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013ab85a0
[   48.827786] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.828126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.828375] CR2: 00007f730f51bfa8 CR3: 0000000027510005 CR4: 0000000000770ef0
[   48.828677] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.828972] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.829269] PKRU: 55555554
[   48.829390] Call Trace:
[   48.829501]  <TASK>
[   48.829599]  ? show_regs+0xa8/0xc0
[   48.829762]  ? die_addr+0x5d/0xf0
[   48.829916]  ? exc_general_protection+0x1ae/0x340
[   48.830131]  ? asm_exc_general_protection+0x2b/0x30
[   48.830350]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.830587]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.830880]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.831153]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.831463]  zap_huge_pmd+0x494/0xd40
[   48.831687]  unmap_page_range+0x1ad6/0x4320
[   48.831912]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.832164]  ? __pfx_unmap_page_range+0x10/0x10
[   48.832370]  unmap_single_vma+0x1ac/0x2d0
[   48.832574]  unmap_vmas+0x210/0x470
[   48.832787]  ? __pfx_unmap_vmas+0x10/0x10
[   48.832990]  ? __pfx_lock_release+0x10/0x10
[   48.833197]  ? lock_release+0x592/0x870
[   48.833367]  ? mas_next_slot+0x133a/0x1a50
[   48.833550]  ? __pfx_lock_release+0x10/0x10
[   48.833740]  ? mlock_drain_local+0x27f/0x4b0
[   48.833932]  exit_mmap+0x19e/0xb10
[   48.834091]  ? __pfx_exit_mmap+0x10/0x10
[   48.834271]  ? trace_hardirqs_on+0x51/0x60
[   48.834459]  ? __khugepaged_exit+0x266/0x4c0
[   48.834650]  ? kmem_cache_free+0x15d/0x420
[   48.834836]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.835069]  __mmput+0xd6/0x390
[   48.835237]  mmput+0x74/0x90
[   48.835424]  do_exit+0xa03/0x29f0
[   48.835636]  ? trace_hardirqs_on+0x51/0x60
[   48.835866]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.836169]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.836384]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.836595]  ? __pfx_do_exit+0x10/0x10
[   48.836775]  ? __audit_syscall_entry+0x39c/0x500
[   48.836984]  __x64_sys_exit+0x50/0x60
[   48.837151]  x64_sys_call+0x20c9/0x20d0
[   48.837324]  do_syscall_64+0x6d/0x140
[   48.837493]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.837808] RIP: 0033:0x7f730f23ee5d
[   48.838078] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.838513] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.839054] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.839452] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.839752] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.840046] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.840343] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.840645]  </TASK>
[   48.840748] Modules linked in:
[   48.841029] ---[ end trace 0000000000000000 ]---
[   48.841235] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.841488] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.842267] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   48.842507] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   48.842807] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   48.843102] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   48.843399] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.843698] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   48.843994] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.844408] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.844725] CR2: 00007f730f51bfa8 CR3: 0000000027510005 CR4: 0000000000770ef0
[   48.845125] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.845426] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.845727] PKRU: 55555554
[   48.845849] note: repro[12622] exited with preempt_count 1
[   48.846089] Fixing recursive fault but reboot is needed!
[   48.846375] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12622
[   48.846738] caller is debug_smp_processor_id+0x20/0x30
[   48.846967] CPU: 1 UID: 0 PID: 12622 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.847366] Tainted: [D]=DIE, [W]=WARN
[   48.847526] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.847995] Call Trace:
[   48.848107]  <TASK>
[   48.848205]  dump_stack_lvl+0x121/0x150
[   48.848380]  dump_stack+0x19/0x20
[   48.848534]  check_preemption_disabled+0x168/0x180
[   48.848747]  debug_smp_processor_id+0x20/0x30
[   48.848940]  __schedule+0x9a/0x2eb0
[   48.849097]  ? rcu_is_watching+0x19/0xc0
[   48.849273]  ? lock_release+0x592/0x870
[   48.849446]  ? __pfx___schedule+0x10/0x10
[   48.849623]  ? debug_smp_processor_id+0x20/0x30
[   48.849824]  ? rcu_is_watching+0x19/0xc0
[   48.849997]  ? trace_irq_enable+0xe1/0x120
[   48.850182]  ? do_task_dead+0x4a/0x110
[   48.850355]  do_task_dead+0xe0/0x110
[   48.850522]  make_task_dead+0x384/0x3c0
[   48.850699]  rewind_stack_and_make_dead+0x16/0x20
[   48.850951] RIP: 0033:0x7f730f23ee5d
[   48.851140] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.851448] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.851881] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.852201] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.852497] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.852842] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.853187] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.853612]  </TASK>
[   48.853773] BUG: scheduling while atomic: repro/12622/0x00000000
[   48.854067] INFO: lockdep is turned off.
[   48.854318] Modules linked in:
[   48.854682] Preemption disabled at:
[   48.854690] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   48.855467] CPU: 1 UID: 0 PID: 12622 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   48.855977] Tainted: [D]=DIE, [W]=WARN
[   48.856138] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.856600] Call Trace:
[   48.856713]  <TASK>
[   48.856810]  dump_stack_lvl+0x121/0x150
[   48.856985]  ? do_task_dead+0x28/0x110
[   48.857157]  dump_stack+0x19/0x20
[   48.857312]  __schedule_bug+0x12d/0x180
[   48.857488]  __schedule+0x210c/0x2eb0
[   48.857652]  ? rcu_is_watching+0x19/0xc0
[   48.857828]  ? lock_release+0x592/0x870
[   48.857998]  ? __pfx___schedule+0x10/0x10
[   48.858196]  ? debug_smp_processor_id+0x20/0x30
[   48.858589]  ? rcu_is_watching+0x19/0xc0
[   48.858767]  ? trace_irq_enable+0xe1/0x120
[   48.858952]  ? do_task_dead+0x4a/0x110
[   48.859123]  do_task_dead+0xe0/0x110
[   48.859289]  make_task_dead+0x384/0x3c0
[   48.859472]  rewind_stack_and_make_dead+0x16/0x20
[   48.859805] RIP: 0033:0x7f730f23ee5d
[   48.859964] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   48.860222] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.860538] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   48.860835] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.861131] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   48.861428] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   48.861725] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   48.862029]  </TASK>
[   48.864083] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   48.866859] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   49.145664] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#92] PREEMPT SMP KASAN NOPTI
[   49.146350] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.146722] CPU: 1 UID: 0 PID: 12871 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.147175] Tainted: [D]=DIE, [W]=WARN
[   49.147357] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.147893] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.148182] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.149042] RSP: 0018:ffff88801137f7d8 EFLAGS: 00010202
[   49.149302] RAX: dffffc0000000000 RBX: ffffea0000582000 RCX: ffffffff81b9e6e9
[   49.149641] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000582010
[   49.149982] RBP: ffff88801137f7f8 R08: 0000000000000000 R09: ffffed10042ff38c
[   49.150318] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.150655] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880217f9c60
[   49.150995] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   49.151373] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.151646] CR2: 00007f730f517910 CR3: 0000000030810002 CR4: 0000000000770ef0
[   49.151986] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.152313] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.152638] PKRU: 55555554
[   49.152772] Call Trace:
[   49.152893]  <TASK>
[   49.153003]  ? show_regs+0xa8/0xc0
[   49.153226]  ? die_addr+0x5d/0xf0
[   49.153451]  ? exc_general_protection+0x1ae/0x340
[   49.153761]  ? asm_exc_general_protection+0x2b/0x30
[   49.154082]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.154412]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.154746]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.155075]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.155405]  zap_huge_pmd+0x494/0xd40
[   49.155654]  unmap_page_range+0x1ad6/0x4320
[   49.155932]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.156250]  ? __pfx_unmap_page_range+0x10/0x10
[   49.156543]  unmap_single_vma+0x1ac/0x2d0
[   49.156801]  unmap_vmas+0x210/0x470
[   49.157030]  ? __pfx_unmap_vmas+0x10/0x10
[   49.157286]  ? __pfx_lock_release+0x10/0x10
[   49.157550]  ? lock_release+0x592/0x870
[   49.157796]  ? mas_next_slot+0x133a/0x1a50
[   49.158058]  ? __pfx_lock_release+0x10/0x10
[   49.158325]  ? mlock_drain_local+0x27f/0x4b0
[   49.158603]  exit_mmap+0x19e/0xb10
[   49.158829]  ? __pfx_exit_mmap+0x10/0x10
[   49.159086]  ? trace_hardirqs_on+0x51/0x60
[   49.159354]  ? __khugepaged_exit+0x266/0x4c0
[   49.159626]  ? kmem_cache_free+0x15d/0x420
[   49.159889]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.160227]  __mmput+0xd6/0x390
[   49.160434]  mmput+0x74/0x90
[   49.160623]  do_exit+0xa03/0x29f0
[   49.160842]  ? trace_hardirqs_on+0x51/0x60
[   49.161104]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.161485]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.161780]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.162077]  ? __pfx_do_exit+0x10/0x10
[   49.162312]  ? __audit_syscall_entry+0x39c/0x500
[   49.162599]  __x64_sys_exit+0x50/0x60
[   49.162823]  x64_sys_call+0x20c9/0x20d0
[   49.163061]  do_syscall_64+0x6d/0x140
[   49.163295]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.163612] RIP: 0033:0x7f730f23ee5d
[   49.163833] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.164193] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.164630] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.165040] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.165447] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.165851] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.166261] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.166690]  </TASK>
[   49.166826] Modules linked in:
[   49.167151] ---[ end trace 0000000000000000 ]---
[   49.167425] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.167773] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.168806] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   49.169105] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   49.169500] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   49.169900] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   49.170294] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.170755] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   49.171151] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   49.171602] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.171930] CR2: 00007f730f517910 CR3: 0000000030810002 CR4: 0000000000770ef0
[   49.172331] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.172731] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.173128] PKRU: 55555554
[   49.173288] note: repro[12871] exited with preempt_count 1
[   49.173598] Fixing recursive fault but reboot is needed!
[   49.173895] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12871
[   49.174333] caller is debug_smp_processor_id+0x20/0x30
[   49.174717] CPU: 1 UID: 0 PID: 12871 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.175253] Tainted: [D]=DIE, [W]=WARN
[   49.175466] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.176099] Call Trace:
[   49.176243]  <TASK>
[   49.176371]  dump_stack_lvl+0x121/0x150
[   49.176601]  dump_stack+0x19/0x20
[   49.176802]  check_preemption_disabled+0x168/0x180
[   49.177081]  debug_smp_processor_id+0x20/0x30
[   49.177334]  __schedule+0x9a/0x2eb0
[   49.177540]  ? rcu_is_watching+0x19/0xc0
[   49.177773]  ? lock_release+0x592/0x870
[   49.177998]  ? __pfx___schedule+0x10/0x10
[   49.178233]  ? debug_smp_processor_id+0x20/0x30
[   49.178498]  ? rcu_is_watching+0x19/0xc0
[   49.178726]  ? trace_irq_enable+0xe1/0x120
[   49.178972]  ? do_task_dead+0x4a/0x110
[   49.179194]  do_task_dead+0xe0/0x110
[   49.179415]  make_task_dead+0x384/0x3c0
[   49.179641]  rewind_stack_and_make_dead+0x16/0x20
[   49.179915] RIP: 0033:0x7f730f23ee5d
[   49.180127] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.180468] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.180891] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.181284] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.181676] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.182070] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.182465] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.182867]  </TASK>
[   49.183088] BUG: scheduling while atomic: repro/12871/0x00000000
[   49.183424] INFO: lockdep is turned off.
[   49.183647] Modules linked in:
[   49.183831] Preemption disabled at:
[   49.183833] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   49.184422] CPU: 1 UID: 0 PID: 12871 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.185150] Tainted: [D]=DIE, [W]=WARN
[   49.185457] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.186357] Call Trace:
[   49.186508]  <TASK>
[   49.186633]  dump_stack_lvl+0x121/0x150
[   49.186863]  ? do_task_dead+0x28/0x110
[   49.187093]  dump_stack+0x19/0x20
[   49.187293]  __schedule_bug+0x12d/0x180
[   49.187522]  __schedule+0x210c/0x2eb0
[   49.187738]  ? rcu_is_watching+0x19/0xc0
[   49.187965]  ? lock_release+0x592/0x870
[   49.188189]  ? __pfx___schedule+0x10/0x10
[   49.188423]  ? debug_smp_processor_id+0x20/0x30
[   49.188687]  ? rcu_is_watching+0x19/0xc0
[   49.188908]  ? trace_irq_enable+0xe1/0x120
[   49.189152]  ? do_task_dead+0x4a/0x110
[   49.189376]  do_task_dead+0xe0/0x110
[   49.189592]  make_task_dead+0x384/0x3c0
[   49.189823]  rewind_stack_and_make_dead+0x16/0x20
[   49.190093] RIP: 0033:0x7f730f23ee5d
[   49.190303] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.190641] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.191062] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.191452] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.191845] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.192235] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.192632] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.193034]  </TASK>
[   49.206651] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#93] PREEMPT SMP KASAN NOPTI
[   49.207572] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.208143] CPU: 0 UID: 0 PID: 12927 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.208981] Tainted: [D]=DIE, [W]=WARN
[   49.209438] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.210345] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.210830] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.212204] RSP: 0018:ffff88800fa1f7d8 EFLAGS: 00010202
[   49.212613] RAX: dffffc0000000000 RBX: ffffea00008558c0 RCX: ffffffff81b9e6e9
[   49.213154] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008558d0
[   49.213667] RBP: ffff88800fa1f7f8 R08: 0000000000000000 R09: ffffed100215326c
[   49.214184] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.214704] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010a99360
[   49.215221] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   49.215998] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.216418] CR2: 00007f730f29bc20 CR3: 0000000026002005 CR4: 0000000000770ef0
[   49.216981] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.217501] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.218023] PKRU: 55555554
[   49.218237] Call Trace:
[   49.218426]  <TASK>
[   49.218596]  ? show_regs+0xa8/0xc0
[   49.218876]  ? die_addr+0x5d/0xf0
[   49.219143]  ? exc_general_protection+0x1ae/0x340
[   49.219513]  ? asm_exc_general_protection+0x2b/0x30
[   49.219898]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.220287]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.220681]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.221069]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.221667]  zap_huge_pmd+0x494/0xd40
[   49.222075]  unmap_page_range+0x1ad6/0x4320
[   49.222416]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.222794]  ? __pfx_unmap_page_range+0x10/0x10
[   49.223145]  unmap_single_vma+0x1ac/0x2d0
[   49.223454]  unmap_vmas+0x210/0x470
[   49.223730]  ? __pfx_unmap_vmas+0x10/0x10
[   49.224028]  ? __pfx_lock_release+0x10/0x10
[   49.224334]  ? lock_release+0x592/0x870
[   49.224619]  ? mas_next_slot+0x133a/0x1a50
[   49.224937]  ? __pfx_lock_release+0x10/0x10
[   49.225249]  ? mlock_drain_local+0x27f/0x4b0
[   49.225570]  exit_mmap+0x19e/0xb10
[   49.225842]  ? __pfx_exit_mmap+0x10/0x10
[   49.226145]  ? trace_hardirqs_on+0x51/0x60
[   49.226463]  ? __khugepaged_exit+0x266/0x4c0
[   49.226788]  ? kmem_cache_free+0x15d/0x420
[   49.227099]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.227482]  __mmput+0xd6/0x390
[   49.227827]  mmput+0x74/0x90
[   49.228150]  do_exit+0xa03/0x29f0
[   49.228417]  ? trace_hardirqs_on+0x51/0x60
[   49.228727]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.229176]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.229554]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.229899]  ? __pfx_do_exit+0x10/0x10
[   49.230172]  ? __audit_syscall_entry+0x39c/0x500
[   49.230502]  __x64_sys_exit+0x50/0x60
[   49.230774]  x64_sys_call+0x20c9/0x20d0
[   49.231048]  do_syscall_64+0x6d/0x140
[   49.231317]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.231677] RIP: 0033:0x7f730f23ee5d
[   49.231933] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.232340] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.232849] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.233320] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.233796] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.234468] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.234956] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.235440]  </TASK>
[   49.235602] Modules linked in:
[   49.236017] ---[ end trace 0000000000000000 ]---
[   49.236477] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.236875] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.238036] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   49.238394] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   49.238974] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   49.239450] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   49.239908] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.240572] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   49.241050] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   49.241549] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.241925] CR2: 00007f730f29bc20 CR3: 0000000026002005 CR4: 0000000000770ef0
[   49.242369] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.243005] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.243467] PKRU: 55555554
[   49.243656] note: repro[12927] exited with preempt_count 1
[   49.244010] Fixing recursive fault but reboot is needed!
[   49.244334] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12927
[   49.244897] caller is debug_smp_processor_id+0x20/0x30
[   49.245247] CPU: 0 UID: 0 PID: 12927 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.245881] Tainted: [D]=DIE, [W]=WARN
[   49.246185] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.247076] Call Trace:
[   49.247283]  <TASK>
[   49.247465]  dump_stack_lvl+0x121/0x150
[   49.247800]  dump_stack+0x19/0x20
[   49.248087]  check_preemption_disabled+0x168/0x180
[   49.248658]  debug_smp_processor_id+0x20/0x30
[   49.249110]  __schedule+0x9a/0x2eb0
[   49.249402]  ? rcu_is_watching+0x19/0xc0
[   49.249677]  ? lock_release+0x592/0x870
[   49.249931]  ? __pfx___schedule+0x10/0x10
[   49.250208]  ? debug_smp_processor_id+0x20/0x30
[   49.250534]  ? rcu_is_watching+0x19/0xc0
[   49.250805]  ? trace_irq_enable+0xe1/0x120
[   49.251084]  ? do_task_dead+0x4a/0x110
[   49.251349]  do_task_dead+0xe0/0x110
[   49.251584]  make_task_dead+0x384/0x3c0
[   49.251839]  rewind_stack_and_make_dead+0x16/0x20
[   49.252147] RIP: 0033:0x7f730f23ee5d
[   49.252374] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.252742] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.253178] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.253586] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.254020] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.254454] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.254870] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.255296]  </TASK>
[   49.255632] BUG: scheduling while atomic: repro/12927/0x00000000
[   49.256257] INFO: lockdep is turned off.
[   49.256561] Modules linked in:
[   49.256811] Preemption disabled at:
[   49.256815] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   49.257487] CPU: 0 UID: 0 PID: 12927 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.258112] Tainted: [D]=DIE, [W]=WARN
[   49.258327] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.258949] Call Trace:
[   49.259094]  <TASK>
[   49.259222]  dump_stack_lvl+0x121/0x150
[   49.259453]  ? do_task_dead+0x28/0x110
[   49.259684]  dump_stack+0x19/0x20
[   49.259896]  __schedule_bug+0x12d/0x180
[   49.260139]  __schedule+0x210c/0x2eb0
[   49.260373]  ? rcu_is_watching+0x19/0xc0
[   49.260602]  ? lock_release+0x592/0x870
[   49.260836]  ? __pfx___schedule+0x10/0x10
[   49.261074]  ? debug_smp_processor_id+0x20/0x30
[   49.261328]  ? rcu_is_watching+0x19/0xc0
[   49.261646]  ? trace_irq_enable+0xe1/0x120
[   49.261987]  ? do_task_dead+0x4a/0x110
[   49.262299]  do_task_dead+0xe0/0x110
[   49.262525]  make_task_dead+0x384/0x3c0
[   49.262752]  rewind_stack_and_make_dead+0x16/0x20
[   49.263016] RIP: 0033:0x7f730f23ee5d
[   49.263218] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.263544] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.263949] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.264325] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.264706] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.265080] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.265443] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.265817]  </TASK>
[   49.421795] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#94] PREEMPT SMP KASAN NOPTI
[   49.422780] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.423381] CPU: 0 UID: 0 PID: 13018 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.424154] Tainted: [D]=DIE, [W]=WARN
[   49.424563] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.425511] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.425991] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.427405] RSP: 0018:ffff88801d8477d8 EFLAGS: 00010202
[   49.427816] RAX: dffffc0000000000 RBX: ffffea000089cf40 RCX: ffffffff81b9e6e9
[   49.428353] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089cf50
[   49.428897] RBP: ffff88801d8477f8 R08: 0000000000000000 R09: ffffed10044f8860
[   49.429447] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.429971] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880227c4300
[   49.430587] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   49.431278] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.431821] CR2: 00007f730f52b000 CR3: 0000000030942003 CR4: 0000000000770ef0
[   49.432503] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.433187] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.433859] PKRU: 55555554
[   49.434128] Call Trace:
[   49.434377]  <TASK>
[   49.434598]  ? show_regs+0xa8/0xc0
[   49.434964]  ? die_addr+0x5d/0xf0
[   49.435311]  ? exc_general_protection+0x1ae/0x340
[   49.435734]  ? asm_exc_general_protection+0x2b/0x30
[   49.436213]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.436730]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.437242]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.437758]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.438282]  zap_huge_pmd+0x494/0xd40
[   49.438684]  unmap_page_range+0x1ad6/0x4320
[   49.439124]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.439621]  ? __pfx_unmap_page_range+0x10/0x10
[   49.440092]  unmap_single_vma+0x1ac/0x2d0
[   49.440504]  unmap_vmas+0x210/0x470
[   49.440871]  ? __pfx_unmap_vmas+0x10/0x10
[   49.441275]  ? __pfx_lock_release+0x10/0x10
[   49.441691]  ? lock_release+0x592/0x870
[   49.442073]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   49.442560]  ? __pfx_lock_release+0x10/0x10
[   49.442984]  ? mlock_drain_local+0x27f/0x4b0
[   49.443418]  exit_mmap+0x19e/0xb10
[   49.443748]  ? __pfx_exit_mmap+0x10/0x10
[   49.444141]  ? trace_hardirqs_on+0x51/0x60
[   49.444539]  ? __khugepaged_exit+0x266/0x4c0
[   49.444948]  ? kmem_cache_free+0x15d/0x420
[   49.445342]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.445857]  __mmput+0xd6/0x390
[   49.446129]  mmput+0x74/0x90
[   49.446344]  do_exit+0xa03/0x29f0
[   49.446594]  ? trace_hardirqs_on+0x51/0x60
[   49.446892]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.447314]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.447690]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.448134]  ? __pfx_do_exit+0x10/0x10
[   49.448489]  ? __audit_syscall_entry+0x39c/0x500
[   49.448934]  __x64_sys_exit+0x50/0x60
[   49.449251]  x64_sys_call+0x20c9/0x20d0
[   49.449523]  do_syscall_64+0x6d/0x140
[   49.449798]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.450153] RIP: 0033:0x7f730f23ee5d
[   49.450405] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.450818] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.451326] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.451807] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.452279] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.452761] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.453223] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.453693]  </TASK>
[   49.453846] Modules linked in:
[   49.454169] ---[ end trace 0000000000000000 ]---
[   49.454487] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.454883] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.456047] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   49.456390] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   49.456848] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   49.457302] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   49.457760] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.458215] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   49.458683] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   49.459189] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.459549] CR2: 00007f730f52b000 CR3: 0000000030942003 CR4: 0000000000770ef0
[   49.459990] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.460424] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.460865] PKRU: 55555554
[   49.461046] note: repro[13018] exited with preempt_count 1
[   49.461389] Fixing recursive fault but reboot is needed!
[   49.461722] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13018
[   49.462199] caller is debug_smp_processor_id+0x20/0x30
[   49.462549] CPU: 0 UID: 0 PID: 13018 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.463158] Tainted: [D]=DIE, [W]=WARN
[   49.463553] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.464526] Call Trace:
[   49.464763]  <TASK>
[   49.464967]  dump_stack_lvl+0x121/0x150
[   49.465277]  dump_stack+0x19/0x20
[   49.465492]  check_preemption_disabled+0x168/0x180
[   49.465798]  debug_smp_processor_id+0x20/0x30
[   49.466072]  __schedule+0x9a/0x2eb0
[   49.466298]  ? rcu_is_watching+0x19/0xc0
[   49.466547]  ? lock_release+0x592/0x870
[   49.466791]  ? __pfx___schedule+0x10/0x10
[   49.467042]  ? debug_smp_processor_id+0x20/0x30
[   49.467324]  ? rcu_is_watching+0x19/0xc0
[   49.467568]  ? trace_irq_enable+0xe1/0x120
[   49.467835]  ? do_task_dead+0x4a/0x110
[   49.468075]  do_task_dead+0xe0/0x110
[   49.468305]  make_task_dead+0x384/0x3c0
[   49.468552]  rewind_stack_and_make_dead+0x16/0x20
[   49.468846] RIP: 0033:0x7f730f23ee5d
[   49.469068] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.469431] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.469881] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.470298] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.470716] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.471116] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.471515] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.471932]  </TASK>
[   49.472198] BUG: scheduling while atomic: repro/13018/0x00000000
[   49.472544] INFO: lockdep is turned off.
[   49.472777] Modules linked in:
[   49.472961] Preemption disabled at:
[   49.472964] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   49.473479] CPU: 0 UID: 0 PID: 13018 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   49.474016] Tainted: [D]=DIE, [W]=WARN
[   49.474232] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.474861] Call Trace:
[   49.475009]  <TASK>
[   49.475136]  dump_stack_lvl+0x121/0x150
[   49.475366]  ? do_task_dead+0x28/0x110
[   49.475592]  dump_stack+0x19/0x20
[   49.475797]  __schedule_bug+0x12d/0x180
[   49.476028]  __schedule+0x210c/0x2eb0
[   49.476244]  ? rcu_is_watching+0x19/0xc0
[   49.476480]  ? lock_release+0x592/0x870
[   49.476710]  ? __pfx___schedule+0x10/0x10
[   49.476943]  ? debug_smp_processor_id+0x20/0x30
[   49.477202]  ? rcu_is_watching+0x19/0xc0
[   49.477428]  ? trace_irq_enable+0xe1/0x120
[   49.477669]  ? do_task_dead+0x4a/0x110
[   49.477902]  do_task_dead+0xe0/0x110
[   49.478120]  make_task_dead+0x384/0x3c0
[   49.478347]  rewind_stack_and_make_dead+0x16/0x20
[   49.478617] RIP: 0033:0x7f730f23ee5d
[   49.478832] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   49.479170] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.479584] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   49.479978] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.480366] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   49.480763] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   49.481141] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   49.481524]  </TASK>
[   49.999426] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#95] PREEMPT SMP KASAN NOPTI
[   49.999948] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.000261] CPU: 0 UID: 0 PID: 13472 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.000653] Tainted: [D]=DIE, [W]=WARN
[   50.000815] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.001274] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.001527] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.002270] RSP: 0018:ffff888010cdf7d8 EFLAGS: 00010202
[   50.002494] RAX: dffffc0000000000 RBX: ffffea000040adc0 RCX: ffffffff81b9e6e9
[   50.002789] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000040add0
[   50.003087] RBP: ffff888010cdf7f8 R08: 0000000000000000 R09: ffffed1001d74054
[   50.003384] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   50.003680] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800eba02a0
[   50.003974] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.004306] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.004547] CR2: 00007f730f517910 CR3: 000000000fb58004 CR4: 0000000000770ef0
[   50.004845] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.005142] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.005436] PKRU: 55555554
[   50.005556] Call Trace:
[   50.005666]  <TASK>
[   50.005768]  ? show_regs+0xa8/0xc0
[   50.005927]  ? die_addr+0x5d/0xf0
[   50.006082]  ? exc_general_protection+0x1ae/0x340
[   50.006295]  ? asm_exc_general_protection+0x2b/0x30
[   50.006515]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.006740]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.006963]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.007196]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.007426]  zap_huge_pmd+0x494/0xd40
[   50.007601]  unmap_page_range+0x1ad6/0x4320
[   50.007792]  ? __pfx_lock_release+0x10/0x10
[   50.007980]  ? do_raw_spin_trylock+0xbf/0x190
[   50.008178]  ? __kasan_check_read+0x15/0x20
[   50.008372]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.008598]  ? __pfx_unmap_page_range+0x10/0x10
[   50.008809]  unmap_single_vma+0x1ac/0x2d0
[   50.008995]  unmap_vmas+0x210/0x470
[   50.009161]  ? __pfx_unmap_vmas+0x10/0x10
[   50.009344]  ? __pfx_lock_release+0x10/0x10
[   50.009529]  ? lock_release+0x592/0x870
[   50.009706]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.009944]  ? __pfx_lock_release+0x10/0x10
[   50.010135]  ? mlock_drain_local+0x27f/0x4b0
[   50.010332]  exit_mmap+0x19e/0xb10
[   50.010495]  ? __pfx_exit_mmap+0x10/0x10
[   50.010737]  ? trace_hardirqs_on+0x51/0x60
[   50.011062]  ? __khugepaged_exit+0x266/0x4c0
[   50.011423]  ? kmem_cache_free+0x15d/0x420
[   50.011836]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.012315]  __mmput+0xd6/0x390
[   50.012580]  mmput+0x74/0x90
[   50.012844]  do_exit+0xa03/0x29f0
[   50.013137]  ? trace_hardirqs_on+0x51/0x60
[   50.013412]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.013687]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.013908]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.014123]  ? __pfx_do_exit+0x10/0x10
[   50.014296]  ? __audit_syscall_entry+0x39c/0x500
[   50.014506]  __x64_sys_exit+0x50/0x60
[   50.014679]  x64_sys_call+0x20c9/0x20d0
[   50.014855]  do_syscall_64+0x6d/0x140
[   50.015027]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.015253] RIP: 0033:0x7f730f23ee5d
[   50.015416] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.015680] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.016063] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.016425] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.016757] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.017061] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.017363] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.017676]  </TASK>
[   50.017779] Modules linked in:
[   50.018054] ---[ end trace 0000000000000000 ]---
[   50.018260] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.018584] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.019472] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   50.019773] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   50.020106] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   50.020413] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   50.020711] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.021006] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   50.021306] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.021644] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.021890] CR2: 00007f730f517910 CR3: 000000000fb58004 CR4: 0000000000770ef0
[   50.022188] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.022577] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.022882] PKRU: 55555554
[   50.023005] note: repro[13472] exited with preempt_count 1
[   50.023238] Fixing recursive fault but reboot is needed!
[   50.023464] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13472
[   50.023798] caller is debug_smp_processor_id+0x20/0x30
[   50.024032] CPU: 0 UID: 0 PID: 13472 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.024440] Tainted: [D]=DIE, [W]=WARN
[   50.024602] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.025069] Call Trace:
[   50.025180]  <TASK>
[   50.025279]  dump_stack_lvl+0x121/0x150
[   50.025455]  dump_stack+0x19/0x20
[   50.025626]  check_preemption_disabled+0x168/0x180
[   50.025844]  debug_smp_processor_id+0x20/0x30
[   50.026038]  __schedule+0x9a/0x2eb0
[   50.026202]  ? rcu_is_watching+0x19/0xc0
[   50.026377]  ? lock_release+0x592/0x870
[   50.026552]  ? __pfx___schedule+0x10/0x10
[   50.026913]  ? debug_smp_processor_id+0x20/0x30
[   50.027343]  ? rcu_is_watching+0x19/0xc0
[   50.027721]  ? trace_irq_enable+0xe1/0x120
[   50.028122]  ? do_task_dead+0x4a/0x110
[   50.028492]  do_task_dead+0xe0/0x110
[   50.028697]  make_task_dead+0x384/0x3c0
[   50.028872]  rewind_stack_and_make_dead+0x16/0x20
[   50.029080] RIP: 0033:0x7f730f23ee5d
[   50.029238] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.029497] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.029832] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.030129] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.030423] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.030721] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.031018] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.031321]  </TASK>
[   50.031436] BUG: scheduling while atomic: repro/13472/0x00000000
[   50.031694] INFO: lockdep is turned off.
[   50.031860] Modules linked in:
[   50.032005] Preemption disabled at:
[   50.032007] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   50.032389] CPU: 0 UID: 0 PID: 13472 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.032787] Tainted: [D]=DIE, [W]=WARN
[   50.032953] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.033419] Call Trace:
[   50.033530]  <TASK>
[   50.033644]  dump_stack_lvl+0x121/0x150
[   50.033823]  ? do_task_dead+0x28/0x110
[   50.033995]  dump_stack+0x19/0x20
[   50.034149]  __schedule_bug+0x12d/0x180
[   50.034324]  __schedule+0x210c/0x2eb0
[   50.034489]  ? rcu_is_watching+0x19/0xc0
[   50.034663]  ? lock_release+0x592/0x870
[   50.034834]  ? __pfx___schedule+0x10/0x10
[   50.035012]  ? debug_smp_processor_id+0x20/0x30
[   50.035211]  ? rcu_is_watching+0x19/0xc0
[   50.035384]  ? trace_irq_enable+0xe1/0x120
[   50.035571]  ? do_task_dead+0x4a/0x110
[   50.035748]  do_task_dead+0xe0/0x110
[   50.035915]  make_task_dead+0x384/0x3c0
[   50.036090]  rewind_stack_and_make_dead+0x16/0x20
[   50.036297] RIP: 0033:0x7f730f23ee5d
[   50.036457] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.036716] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.037032] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.037328] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.037638] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.037939] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.038233] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.038540]  </TASK>
[   50.132239] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#96] PREEMPT SMP KASAN NOPTI
[   50.133104] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.133636] CPU: 1 UID: 0 PID: 13579 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.134307] Tainted: [D]=DIE, [W]=WARN
[   50.134581] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.135709] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.136140] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.137419] RSP: 0018:ffff8880308977d8 EFLAGS: 00010202
[   50.137894] RAX: dffffc0000000000 RBX: ffffea00004cf980 RCX: ffffffff81b9e6e9
[   50.138534] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004cf990
[   50.139178] RBP: ffff8880308977f8 R08: 0000000000000000 R09: ffffed1003e6a9a4
[   50.139819] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.140462] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f354d20
[   50.141102] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.142051] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.142577] CR2: 00007f730f4f5ef8 CR3: 0000000013f52001 CR4: 0000000000770ef0
[   50.143226] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.143874] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.144515] PKRU: 55555554
[   50.144766] Call Trace:
[   50.144996]  <TASK>
[   50.145198]  ? show_regs+0xa8/0xc0
[   50.145522]  ? die_addr+0x5d/0xf0
[   50.145840]  ? exc_general_protection+0x1ae/0x340
[   50.146277]  ? asm_exc_general_protection+0x2b/0x30
[   50.146728]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.147190]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.147858]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.148362]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.148828]  zap_huge_pmd+0x494/0xd40
[   50.149177]  unmap_page_range+0x1ad6/0x4320
[   50.149573]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.150031]  ? __pfx_unmap_page_range+0x10/0x10
[   50.150454]  unmap_single_vma+0x1ac/0x2d0
[   50.150832]  unmap_vmas+0x210/0x470
[   50.151162]  ? __pfx_unmap_vmas+0x10/0x10
[   50.151527]  ? __pfx_lock_release+0x10/0x10
[   50.151896]  ? lock_release+0x592/0x870
[   50.152232]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.152656]  ? __pfx_lock_release+0x10/0x10
[   50.153030]  ? mlock_drain_local+0x27f/0x4b0
[   50.153410]  exit_mmap+0x19e/0xb10
[   50.153839]  ? __pfx_exit_mmap+0x10/0x10
[   50.154305]  ? trace_hardirqs_on+0x51/0x60
[   50.154678]  ? __khugepaged_exit+0x266/0x4c0
[   50.155051]  ? kmem_cache_free+0x15d/0x420
[   50.155417]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.155889]  __mmput+0xd6/0x390
[   50.156178]  mmput+0x74/0x90
[   50.156445]  do_exit+0xa03/0x29f0
[   50.156750]  ? trace_hardirqs_on+0x51/0x60
[   50.157114]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.157637]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.158045]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.158451]  ? __pfx_do_exit+0x10/0x10
[   50.158779]  ? __audit_syscall_entry+0x39c/0x500
[   50.159172]  __x64_sys_exit+0x50/0x60
[   50.159488]  x64_sys_call+0x20c9/0x20d0
[   50.159941]  do_syscall_64+0x6d/0x140
[   50.160386]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.160818] RIP: 0033:0x7f730f23ee5d
[   50.161121] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.161616] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.162227] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.162804] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.163369] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.163919] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.164468] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.165027]  </TASK>
[   50.165210] Modules linked in:
[   50.165595] ---[ end trace 0000000000000000 ]---
[   50.165968] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.166777] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.168192] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   50.168594] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   50.169132] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   50.169667] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   50.170044] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.170408] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   50.170865] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.171330] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.171662] CR2: 00007f730f4f5ef8 CR3: 0000000013f52001 CR4: 0000000000770ef0
[   50.172082] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.172771] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.173395] PKRU: 55555554
[   50.173640] note: repro[13579] exited with preempt_count 1
[   50.174105] Fixing recursive fault but reboot is needed!
[   50.174579] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13579
[   50.175236] caller is debug_smp_processor_id+0x20/0x30
[   50.175681] CPU: 1 UID: 0 PID: 13579 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.176373] Tainted: [D]=DIE, [W]=WARN
[   50.176650] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.177462] Call Trace:
[   50.177652]  <TASK>
[   50.177820]  dump_stack_lvl+0x121/0x150
[   50.178120]  dump_stack+0x19/0x20
[   50.178493]  check_preemption_disabled+0x168/0x180
[   50.179010]  debug_smp_processor_id+0x20/0x30
[   50.179353]  __schedule+0x9a/0x2eb0
[   50.179614]  ? rcu_is_watching+0x19/0xc0
[   50.179907]  ? lock_release+0x592/0x870
[   50.180191]  ? __pfx___schedule+0x10/0x10
[   50.180487]  ? debug_smp_processor_id+0x20/0x30
[   50.180822]  ? rcu_is_watching+0x19/0xc0
[   50.181111]  ? trace_irq_enable+0xe1/0x120
[   50.181418]  ? do_task_dead+0x4a/0x110
[   50.181706]  do_task_dead+0xe0/0x110
[   50.181978]  make_task_dead+0x384/0x3c0
[   50.182267]  rewind_stack_and_make_dead+0x16/0x20
[   50.182610] RIP: 0033:0x7f730f23ee5d
[   50.182875] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.183310] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.183847] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.184350] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.185040] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.185591] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.186078] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.186574]  </TASK>
[   50.186767] BUG: scheduling while atomic: repro/13579/0x00000000
[   50.187191] INFO: lockdep is turned off.
[   50.187457] Modules linked in:
[   50.187673] Preemption disabled at:
[   50.187677] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   50.188275] CPU: 1 UID: 0 PID: 13579 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.188905] Tainted: [D]=DIE, [W]=WARN
[   50.189157] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.189899] Call Trace:
[   50.190076]  <TASK>
[   50.190226]  dump_stack_lvl+0x121/0x150
[   50.190499]  ? do_task_dead+0x28/0x110
[   50.190866]  dump_stack+0x19/0x20
[   50.191196]  __schedule_bug+0x12d/0x180
[   50.191550]  __schedule+0x210c/0x2eb0
[   50.191807]  ? rcu_is_watching+0x19/0xc0
[   50.192071]  ? lock_release+0x592/0x870
[   50.192331]  ? __pfx___schedule+0x10/0x10
[   50.192602]  ? debug_smp_processor_id+0x20/0x30
[   50.192907]  ? rcu_is_watching+0x19/0xc0
[   50.193171]  ? trace_irq_enable+0xe1/0x120
[   50.193451]  ? do_task_dead+0x4a/0x110
[   50.193713]  do_task_dead+0xe0/0x110
[   50.193963]  make_task_dead+0x384/0x3c0
[   50.194225]  rewind_stack_and_make_dead+0x16/0x20
[   50.194537] RIP: 0033:0x7f730f23ee5d
[   50.194777] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.195162] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.195634] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.196080] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.196524] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.196968] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.197413] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.197868]  </TASK>
[   50.566661] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#97] PREEMPT SMP KASAN NOPTI
[   50.567928] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.568540] CPU: 0 UID: 0 PID: 13875 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.569288] Tainted: [D]=DIE, [W]=WARN
[   50.569590] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.570460] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.570929] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.572365] RSP: 0018:ffff8880260177d8 EFLAGS: 00010202
[   50.572781] RAX: dffffc0000000000 RBX: ffffea000089cc80 RCX: ffffffff81b9e6e9
[   50.573334] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089cc90
[   50.573885] RBP: ffff8880260177f8 R08: 0000000000000000 R09: ffffed1002020ba4
[   50.574415] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   50.574952] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010105d20
[   50.575481] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.576084] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.576518] CR2: 00007ffdcd14bac8 CR3: 00000000216d0001 CR4: 0000000000770ef0
[   50.577048] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.577581] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.578115] PKRU: 55555554
[   50.578329] Call Trace:
[   50.578526]  <TASK>
[   50.578704]  ? show_regs+0xa8/0xc0
[   50.578982]  ? die_addr+0x5d/0xf0
[   50.579252]  ? exc_general_protection+0x1ae/0x340
[   50.579628]  ? asm_exc_general_protection+0x2b/0x30
[   50.580004]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.580363]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.580665]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.580965]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.581264]  zap_huge_pmd+0x494/0xd40
[   50.581486]  unmap_page_range+0x1ad6/0x4320
[   50.581734]  ? __pfx_lock_release+0x10/0x10
[   50.581974]  ? do_raw_spin_trylock+0xbf/0x190
[   50.582228]  ? __kasan_check_read+0x15/0x20
[   50.582476]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.582861]  ? __pfx_unmap_page_range+0x10/0x10
[   50.583212]  unmap_single_vma+0x1ac/0x2d0
[   50.583522]  unmap_vmas+0x210/0x470
[   50.583800]  ? __pfx_unmap_vmas+0x10/0x10
[   50.584105]  ? __pfx_lock_release+0x10/0x10
[   50.584420]  ? lock_release+0x592/0x870
[   50.584708]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.585066]  ? __pfx_lock_release+0x10/0x10
[   50.585374]  ? mlock_drain_local+0x27f/0x4b0
[   50.585695]  exit_mmap+0x19e/0xb10
[   50.585956]  ? __pfx_exit_mmap+0x10/0x10
[   50.586255]  ? trace_hardirqs_on+0x51/0x60
[   50.586568]  ? __khugepaged_exit+0x266/0x4c0
[   50.586890]  ? kmem_cache_free+0x15d/0x420
[   50.587198]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.587587]  __mmput+0xd6/0x390
[   50.587836]  mmput+0x74/0x90
[   50.588064]  do_exit+0xa03/0x29f0
[   50.588275]  ? trace_hardirqs_on+0x51/0x60
[   50.588516]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.588872]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.589152]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.589431]  ? __pfx_do_exit+0x10/0x10
[   50.589649]  ? __audit_syscall_entry+0x39c/0x500
[   50.589910]  __x64_sys_exit+0x50/0x60
[   50.590116]  x64_sys_call+0x20c9/0x20d0
[   50.590327]  do_syscall_64+0x6d/0x140
[   50.590533]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.590813] RIP: 0033:0x7f730f23ee5d
[   50.591012] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.591338] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.591724] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.592092] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.592454] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.592823] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.593183] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.593555]  </TASK>
[   50.593679] Modules linked in:
[   50.594009] ---[ end trace 0000000000000000 ]---
[   50.594258] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.594619] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.595525] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   50.595794] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   50.596150] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   50.596504] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   50.596862] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.597217] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   50.597565] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.597956] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.598241] CR2: 00007ffdcd14bac8 CR3: 00000000216d0001 CR4: 0000000000770ef0
[   50.598596] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.598943] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.599289] PKRU: 55555554
[   50.599437] note: repro[13875] exited with preempt_count 1
[   50.599711] Fixing recursive fault but reboot is needed!
[   50.599970] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13875
[   50.600342] caller is debug_smp_processor_id+0x20/0x30
[   50.600600] CPU: 0 UID: 0 PID: 13875 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.601069] Tainted: [D]=DIE, [W]=WARN
[   50.601264] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.601804] Call Trace:
[   50.601930]  <TASK>
[   50.602041]  dump_stack_lvl+0x121/0x150
[   50.602240]  dump_stack+0x19/0x20
[   50.602413]  check_preemption_disabled+0x168/0x180
[   50.602652]  debug_smp_processor_id+0x20/0x30
[   50.602935]  __schedule+0x9a/0x2eb0
[   50.603168]  ? rcu_is_watching+0x19/0xc0
[   50.603430]  ? lock_release+0x592/0x870
[   50.603686]  ? __pfx___schedule+0x10/0x10
[   50.603913]  ? debug_smp_processor_id+0x20/0x30
[   50.604353]  ? rcu_is_watching+0x19/0xc0
[   50.604730]  ? trace_irq_enable+0xe1/0x120
[   50.605109]  ? do_task_dead+0x4a/0x110
[   50.605305]  do_task_dead+0xe0/0x110
[   50.605492]  make_task_dead+0x384/0x3c0
[   50.605690]  rewind_stack_and_make_dead+0x16/0x20
[   50.605927] RIP: 0033:0x7f730f23ee5d
[   50.606112] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.606404] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.606763] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.607088] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.607414] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.607741] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.608065] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.608396]  </TASK>
[   50.608579] BUG: scheduling while atomic: repro/13875/0x00000000
[   50.608865] INFO: lockdep is turned off.
[   50.609050] Modules linked in:
[   50.609199] Preemption disabled at:
[   50.609202] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   50.609621] CPU: 0 UID: 0 PID: 13875 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.610056] Tainted: [D]=DIE, [W]=WARN
[   50.610232] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.610734] Call Trace:
[   50.610853]  <TASK>
[   50.610958]  dump_stack_lvl+0x121/0x150
[   50.611145]  ? do_task_dead+0x28/0x110
[   50.611329]  dump_stack+0x19/0x20
[   50.611497]  __schedule_bug+0x12d/0x180
[   50.611687]  __schedule+0x210c/0x2eb0
[   50.611864]  ? rcu_is_watching+0x19/0xc0
[   50.612053]  ? lock_release+0x592/0x870
[   50.612237]  ? __pfx___schedule+0x10/0x10
[   50.612429]  ? debug_smp_processor_id+0x20/0x30
[   50.612644]  ? rcu_is_watching+0x19/0xc0
[   50.612835]  ? trace_irq_enable+0xe1/0x120
[   50.613036]  ? do_task_dead+0x4a/0x110
[   50.613219]  do_task_dead+0xe0/0x110
[   50.613397]  make_task_dead+0x384/0x3c0
[   50.613593]  rewind_stack_and_make_dead+0x16/0x20
[   50.613826] RIP: 0033:0x7f730f23ee5d
[   50.613995] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.614263] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.614595] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.614910] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.615224] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.615538] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.615857] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.616176]  </TASK>
[   50.840283] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#98] PREEMPT SMP KASAN NOPTI
[   50.841045] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.841653] CPU: 0 UID: 0 PID: 14076 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.842422] Tainted: [D]=DIE, [W]=WARN
[   50.842736] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.843640] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.844127] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.845543] RSP: 0018:ffff8880227077d8 EFLAGS: 00010202
[   50.845961] RAX: dffffc0000000000 RBX: ffffea0000769f00 RCX: ffffffff81b9e6e9
[   50.846511] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000769f10
[   50.847065] RBP: ffff8880227077f8 R08: 0000000000000000 R09: ffffed1002c68598
[   50.847615] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.848168] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888016342cc0
[   50.848711] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.849314] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.849750] CR2: 00007f730f52b000 CR3: 00000000133f6003 CR4: 0000000000770ef0
[   50.850285] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.850821] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.851357] PKRU: 55555554
[   50.851569] Call Trace:
[   50.851768]  <TASK>
[   50.851941]  ? show_regs+0xa8/0xc0
[   50.852217]  ? die_addr+0x5d/0xf0
[   50.852486]  ? exc_general_protection+0x1ae/0x340
[   50.852865]  ? asm_exc_general_protection+0x2b/0x30
[   50.853253]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.853651]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.854053]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.854453]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.854853]  zap_huge_pmd+0x494/0xd40
[   50.855145]  unmap_page_range+0x1ad6/0x4320
[   50.855473]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.855857]  ? __pfx_unmap_page_range+0x10/0x10
[   50.856205]  unmap_single_vma+0x1ac/0x2d0
[   50.856515]  unmap_vmas+0x210/0x470
[   50.856791]  ? __pfx_unmap_vmas+0x10/0x10
[   50.857097]  ? __pfx_lock_release+0x10/0x10
[   50.857412]  ? lock_release+0x592/0x870
[   50.857704]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.858076]  ? __pfx_lock_release+0x10/0x10
[   50.858394]  ? mlock_drain_local+0x27f/0x4b0
[   50.858725]  exit_mmap+0x19e/0xb10
[   50.858993]  ? __pfx_exit_mmap+0x10/0x10
[   50.859297]  ? trace_hardirqs_on+0x51/0x60
[   50.859608]  ? __khugepaged_exit+0x266/0x4c0
[   50.859926]  ? kmem_cache_free+0x15d/0x420
[   50.860232]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.860620]  __mmput+0xd6/0x390
[   50.860864]  mmput+0x74/0x90
[   50.861084]  do_exit+0xa03/0x29f0
[   50.861336]  ? trace_hardirqs_on+0x51/0x60
[   50.861639]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.862085]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.862438]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.862790]  ? __pfx_do_exit+0x10/0x10
[   50.863069]  ? __audit_syscall_entry+0x39c/0x500
[   50.863410]  __x64_sys_exit+0x50/0x60
[   50.863686]  x64_sys_call+0x20c9/0x20d0
[   50.863961]  do_syscall_64+0x6d/0x140
[   50.864228]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.864584] RIP: 0033:0x7f730f23ee5d
[   50.864842] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.865263] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.865780] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.866264] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.866748] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.867235] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.867720] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.868213]  </TASK>
[   50.868367] Modules linked in:
[   50.868627] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#99] PREEMPT SMP KASAN NOPTI
[   50.868748] ---[ end trace 0000000000000000 ]---
[   50.869686] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.869996] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.870618] CPU: 1 UID: 0 PID: 14080 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.870644] Tainted: [D]=DIE, [W]=WARN
[   50.870650] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.870661] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.870695] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.870711] RSP: 0018:ffff88801d8477d8 EFLAGS: 00010202
[   50.871097] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.871882] 
[   50.872136] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   50.873078] RAX: dffffc0000000000 RBX: ffffea000089da80 RCX: ffffffff81b9e6e9
[   50.873445] 
[   50.873448] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   50.874943] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089da90
[   50.875288] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   50.876745] RBP: ffff88801d8477f8 R08: 0000000000000000 R09: ffffed1006108854
[   50.876853] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   50.877270] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.877713] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.877851] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880308442a0
[   50.878290] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   50.878861] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.879312] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.879884] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.880332] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.880889] CR2: 00007f730f29bc20 CR3: 000000001fa76002 CR4: 0000000000770ef0
[   50.881316] CR2: 00007f730f52b000 CR3: 00000000133f6003 CR4: 0000000000770ef0
[   50.881888] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.882315] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.882950] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.883441] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.883897] PKRU: 55555554
[   50.884247] PKRU: 55555554
[   50.884786] Call Trace:
[   50.884794]  <TASK>
[   50.885224] note: repro[14076] exited with preempt_count 1
[   50.885842]  ? show_regs+0xa8/0xc0
[   50.886567] Fixing recursive fault but reboot is needed!
[   50.887137]  ? die_addr+0x5d/0xf0
[   50.887554] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14076
[   50.887775]  ? exc_general_protection+0x1ae/0x340
[   50.887936] caller is debug_smp_processor_id+0x20/0x30
[   50.888144]  ? asm_exc_general_protection+0x2b/0x30
[   50.888267] CPU: 0 UID: 0 PID: 14076 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.888692]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.888894] Tainted: [D]=DIE, [W]=WARN
[   50.889295]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.889490] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.890085]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.890355] Call Trace:
[   50.890757]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.891035]  <TASK>
[   50.891753]  zap_huge_pmd+0x494/0xd40
[   50.892046]  dump_stack_lvl+0x121/0x150
[   50.892341]  unmap_page_range+0x1ad6/0x4320
[   50.892625]  dump_stack+0x19/0x20
[   50.893491]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.893767]  check_preemption_disabled+0x168/0x180
[   50.893986]  ? __pfx_unmap_page_range+0x10/0x10
[   50.894268]  debug_smp_processor_id+0x20/0x30
[   50.894505]  unmap_single_vma+0x1ac/0x2d0
[   50.894702]  __schedule+0x9a/0x2eb0
[   50.895048]  unmap_vmas+0x210/0x470
[   50.895280]  ? rcu_is_watching+0x19/0xc0
[   50.895536]  ? __pfx_unmap_vmas+0x10/0x10
[   50.895810]  ? lock_release+0x592/0x870
[   50.896165]  ? __pfx_lock_release+0x10/0x10
[   50.896420]  ? __pfx___schedule+0x10/0x10
[   50.896750]  ? lock_release+0x592/0x870
[   50.896977]  ? debug_smp_processor_id+0x20/0x30
[   50.897238]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.897436]  ? rcu_is_watching+0x19/0xc0
[   50.897738]  ? __pfx_lock_release+0x10/0x10
[   50.897962]  ? trace_irq_enable+0xe1/0x120
[   50.898255]  ? mlock_drain_local+0x27f/0x4b0
[   50.898482]  ? do_task_dead+0x4a/0x110
[   50.898795]  exit_mmap+0x19e/0xb10
[   50.899007]  do_task_dead+0xe0/0x110
[   50.899347]  ? __pfx_exit_mmap+0x10/0x10
[   50.899617]  make_task_dead+0x384/0x3c0
[   50.899921]  ? trace_hardirqs_on+0x51/0x60
[   50.900152]  rewind_stack_and_make_dead+0x16/0x20
[   50.900459]  ? __khugepaged_exit+0x266/0x4c0
[   50.900694] RIP: 0033:0x7f730f23ee5d
[   50.900978]  ? kmem_cache_free+0x15d/0x420
[   50.901173] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.901448]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.901664] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   50.901958]  __mmput+0xd6/0x390
[   50.902183]  ORIG_RAX: 000000000000003c
[   50.902556]  mmput+0x74/0x90
[   50.902874] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.903208]  do_exit+0xa03/0x29f0
[   50.903513] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.904070]  ? trace_hardirqs_on+0x51/0x60
[   50.904402] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.904774]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.904954] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.905232]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.905396] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.905903]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.906100]  </TASK>
[   50.906594]  ? __pfx_do_exit+0x10/0x10
[   50.909898]  ? __audit_syscall_entry+0x39c/0x500
[   50.910246]  __x64_sys_exit+0x50/0x60
[   50.910520]  x64_sys_call+0x20c9/0x20d0
[   50.910811]  do_syscall_64+0x6d/0x140
[   50.911087]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.911451] RIP: 0033:0x7f730f23ee5d
[   50.911712] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.912133] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.912654] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.913159] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.913821] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.914343] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.914833] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.915325]  </TASK>
[   50.915489] Modules linked in:
[   50.915838] ---[ end trace 0000000000000000 ]---
[   50.916172] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.916655] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.918055] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   50.918412] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   50.919002] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   50.919596] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   50.920179] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.920890] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   50.921537] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.922155] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.922565] CR2: 00007f730f29bc20 CR3: 000000001fa76002 CR4: 0000000000770ef0
[   50.923045] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.923516] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.923986] PKRU: 55555554
[   50.924177] note: repro[14080] exited with preempt_count 1
[   50.924538] Fixing recursive fault but reboot is needed!
[   50.924879] BUG: scheduling while atomic: repro/14080/0x00000000
[   50.925262] INFO: lockdep is turned off.
[   50.925515] Modules linked in:
[   50.925730] Preemption disabled at:
[   50.925735] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   50.926497] CPU: 1 UID: 0 PID: 14080 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.927131] Tainted: [D]=DIE, [W]=WARN
[   50.927374] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.928085] Call Trace:
[   50.928252]  <TASK>
[   50.928399]  dump_stack_lvl+0x121/0x150
[   50.928665]  ? do_task_dead+0x28/0x110
[   50.928929]  dump_stack+0x19/0x20
[   50.929163]  __schedule_bug+0x12d/0x180
[   50.929427]  __schedule+0x210c/0x2eb0
[   50.929681]  ? rcu_is_watching+0x19/0xc0
[   50.929947]  ? lock_release+0x592/0x870
[   50.930208]  ? __pfx___schedule+0x10/0x10
[   50.930482]  ? debug_smp_processor_id+0x20/0x30
[   50.930791]  ? rcu_is_watching+0x19/0xc0
[   50.931055]  ? trace_irq_enable+0xe1/0x120
[   50.931338]  ? do_task_dead+0x4a/0x110
[   50.931600]  do_task_dead+0xe0/0x110
[   50.931854]  make_task_dead+0x384/0x3c0
[   50.932110]  rewind_stack_and_make_dead+0x16/0x20
[   50.932414] RIP: 0033:0x7f730f23ee5d
[   50.932648] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   50.933030] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.933497] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   50.933989] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.934435] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   50.934870] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   50.935310] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   50.935755]  </TASK>
[   50.983257] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#100] PREEMPT SMP KASAN NOPTI
[   50.984162] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.984585] CPU: 1 UID: 0 PID: 14200 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   50.985133] Tainted: [D]=DIE, [W]=WARN
[   50.985417] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.986259] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.986715] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.987651] RSP: 0018:ffff88802619f7d8 EFLAGS: 00010202
[   50.987931] RAX: dffffc0000000000 RBX: ffffea00008587c0 RCX: ffffffff81b9e6e9
[   50.988287] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008587d0
[   50.988647] RBP: ffff88802619f7f8 R08: 0000000000000000 R09: ffffed10025402c0
[   50.989012] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.989366] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012a01600
[   50.989727] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.990126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.990414] CR2: 00007f730f4f5e28 CR3: 0000000011648003 CR4: 0000000000770ef0
[   50.990769] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.991126] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.991476] PKRU: 55555554
[   50.991618] Call Trace:
[   50.991755]  <TASK>
[   50.991872]  ? show_regs+0xa8/0xc0
[   50.992061]  ? die_addr+0x5d/0xf0
[   50.992246]  ? exc_general_protection+0x1ae/0x340
[   50.992515]  ? asm_exc_general_protection+0x2b/0x30
[   50.992781]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.993046]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.993317]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.993584]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.993855]  zap_huge_pmd+0x494/0xd40
[   50.994056]  unmap_page_range+0x1ad6/0x4320
[   50.994285]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.994539]  ? __pfx_unmap_page_range+0x10/0x10
[   50.994786]  unmap_single_vma+0x1ac/0x2d0
[   50.995002]  unmap_vmas+0x210/0x470
[   50.995193]  ? __pfx_unmap_vmas+0x10/0x10
[   50.995412]  ? __pfx_lock_release+0x10/0x10
[   50.995627]  ? lock_release+0x592/0x870
[   50.995830]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   50.996081]  ? __pfx_lock_release+0x10/0x10
[   50.996302]  ? mlock_drain_local+0x27f/0x4b0
[   50.996530]  exit_mmap+0x19e/0xb10
[   50.996758]  ? __pfx_exit_mmap+0x10/0x10
[   50.996968]  ? trace_hardirqs_on+0x51/0x60
[   50.997184]  ? __khugepaged_exit+0x266/0x4c0
[   50.997403]  ? kmem_cache_free+0x15d/0x420
[   50.997610]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.997876]  __mmput+0xd6/0x390
[   50.998040]  mmput+0x74/0x90
[   50.998191]  do_exit+0xa03/0x29f0
[   50.998366]  ? trace_hardirqs_on+0x51/0x60
[   50.998574]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.998873]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.999108]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.999342]  ? __pfx_do_exit+0x10/0x10
[   50.999531]  ? __audit_syscall_entry+0x39c/0x500
[   50.999764]  __x64_sys_exit+0x50/0x60
[   50.999951]  x64_sys_call+0x20c9/0x20d0
[   51.000138]  do_syscall_64+0x6d/0x140
[   51.000326]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.000568] RIP: 0033:0x7f730f23ee5d
[   51.000745] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   51.001023] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.001362] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   51.001683] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.002005] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   51.002328] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   51.002648] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   51.003097]  </TASK>
[   51.003222] Modules linked in:
[   51.003566] ---[ end trace 0000000000000000 ]---
[   51.003803] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.004074] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.004868] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   51.005101] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   51.005412] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   51.005730] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   51.006040] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.006349] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   51.006777] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   51.007123] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.007373] CR2: 00007f730f4f5e28 CR3: 0000000011648003 CR4: 0000000000770ef0
[   51.007681] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.007985] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.008288] PKRU: 55555554
[   51.008412] note: repro[14200] exited with preempt_count 1
[   51.008649] Fixing recursive fault but reboot is needed!
[   51.008881] BUG: scheduling while atomic: repro/14200/0x00000000
[   51.009141] INFO: lockdep is turned off.
[   51.009312] Modules linked in:
[   51.009454] Preemption disabled at:
[   51.009456] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   51.009855] CPU: 1 UID: 0 PID: 14200 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   51.010262] Tainted: [D]=DIE, [W]=WARN
[   51.010424] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.010895] Call Trace:
[   51.011008]  <TASK>
[   51.011111]  dump_stack_lvl+0x121/0x150
[   51.011289]  ? do_task_dead+0x28/0x110
[   51.011463]  dump_stack+0x19/0x20
[   51.011620]  __schedule_bug+0x12d/0x180
[   51.011799]  __schedule+0x210c/0x2eb0
[   51.011966]  ? rcu_is_watching+0x19/0xc0
[   51.012140]  ? lock_release+0x592/0x870
[   51.012313]  ? __pfx___schedule+0x10/0x10
[   51.012494]  ? debug_smp_processor_id+0x20/0x30
[   51.012697]  ? rcu_is_watching+0x19/0xc0
[   51.012871]  ? trace_irq_enable+0xe1/0x120
[   51.013057]  ? do_task_dead+0x4a/0x110
[   51.013232]  do_task_dead+0xe0/0x110
[   51.013399]  make_task_dead+0x384/0x3c0
[   51.013574]  rewind_stack_and_make_dead+0x16/0x20
[   51.013781] RIP: 0033:0x7f730f23ee5d
[   51.013977] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   51.014278] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.014709] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   51.015073] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.015406] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   51.015708] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   51.016009] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   51.016315]  </TASK>
[   51.633119] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#101] PREEMPT SMP KASAN NOPTI
[   51.634002] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.634535] CPU: 1 UID: 0 PID: 14599 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   51.635213] Tainted: [D]=DIE, [W]=WARN
[   51.635485] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.636276] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.636707] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.637994] RSP: 0018:ffff888013e677d8 EFLAGS: 00010202
[   51.638377] RAX: dffffc0000000000 RBX: ffffea000085e940 RCX: ffffffff81b9e6e9
[   51.638887] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000085e950
[   51.639391] RBP: ffff888013e677f8 R08: 0000000000000000 R09: ffffed10027a92a8
[   51.639889] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.640373] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013d49540
[   51.640863] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   51.641409] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.641809] CR2: 00007f730f52b000 CR3: 00000000309b8003 CR4: 0000000000770ef0
[   51.642294] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.642788] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.643296] PKRU: 55555554
[   51.643501] Call Trace:
[   51.643690]  <TASK>
[   51.643855]  ? show_regs+0xa8/0xc0
[   51.644126]  ? die_addr+0x5d/0xf0
[   51.644390]  ? exc_general_protection+0x1ae/0x340
[   51.644752]  ? asm_exc_general_protection+0x2b/0x30
[   51.645127]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.645507]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.645880]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.646249]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.646603]  zap_huge_pmd+0x494/0xd40
[   51.646876]  unmap_page_range+0x1ad6/0x4320
[   51.647182]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.647530]  ? __pfx_unmap_page_range+0x10/0x10
[   51.647857]  unmap_single_vma+0x1ac/0x2d0
[   51.648145]  unmap_vmas+0x210/0x470
[   51.648403]  ? __pfx_unmap_vmas+0x10/0x10
[   51.648699]  ? __pfx_lock_release+0x10/0x10
[   51.648990]  ? lock_release+0x592/0x870
[   51.649256]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   51.649597]  ? __pfx_lock_release+0x10/0x10
[   51.649893]  ? mlock_drain_local+0x27f/0x4b0
[   51.650195]  exit_mmap+0x19e/0xb10
[   51.650445]  ? __pfx_exit_mmap+0x10/0x10
[   51.650742]  ? trace_hardirqs_on+0x51/0x60
[   51.651043]  ? __khugepaged_exit+0x266/0x4c0
[   51.651349]  ? kmem_cache_free+0x15d/0x420
[   51.651653]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.652027]  __mmput+0xd6/0x390
[   51.652246]  mmput+0x74/0x90
[   51.652451]  do_exit+0xa03/0x29f0
[   51.652690]  ? trace_hardirqs_on+0x51/0x60
[   51.652971]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.653373]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.653701]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.654022]  ? __pfx_do_exit+0x10/0x10
[   51.654278]  ? __audit_syscall_entry+0x39c/0x500
[   51.654588]  __x64_sys_exit+0x50/0x60
[   51.654842]  x64_sys_call+0x20c9/0x20d0
[   51.655318]  do_syscall_64+0x6d/0x140
[   51.655602]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.656040] RIP: 0033:0x7f730f23ee5d
[   51.656374] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   51.656839] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.657406] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   51.657869] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.658305] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   51.658736] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   51.659163] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   51.659607]  </TASK>
[   51.659759] Modules linked in:
[   51.660024] ---[ end trace 0000000000000000 ]---
[   51.660322] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.660705] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.661844] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   51.662169] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   51.662609] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   51.663247] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   51.663804] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.664228] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   51.664666] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   51.665168] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.665531] CR2: 00007f730f52b000 CR3: 00000000309b8003 CR4: 0000000000770ef0
[   51.665977] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.666406] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.666852] PKRU: 55555554
[   51.667026] note: repro[14599] exited with preempt_count 1
[   51.667359] Fixing recursive fault but reboot is needed!
[   51.667687] BUG: scheduling while atomic: repro/14599/0x00000000
[   51.668049] INFO: lockdep is turned off.
[   51.668284] Modules linked in:
[   51.668468] Preemption disabled at:
[   51.668472] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   51.669006] CPU: 1 UID: 0 PID: 14599 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   51.669555] Tainted: [D]=DIE, [W]=WARN
[   51.669783] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.670429] Call Trace:
[   51.670591]  <TASK>
[   51.670740]  dump_stack_lvl+0x121/0x150
[   51.670983]  ? do_task_dead+0x28/0x110
[   51.671220]  dump_stack+0x19/0x20
[   51.671433]  __schedule_bug+0x12d/0x180
[   51.671683]  __schedule+0x210c/0x2eb0
[   51.671909]  ? rcu_is_watching+0x19/0xc0
[   51.672147]  ? lock_release+0x592/0x870
[   51.672381]  ? __pfx___schedule+0x10/0x10
[   51.672624]  ? debug_smp_processor_id+0x20/0x30
[   51.672904]  ? rcu_is_watching+0x19/0xc0
[   51.673150]  ? trace_irq_enable+0xe1/0x120
[   51.673396]  ? do_task_dead+0x4a/0x110
[   51.673621]  do_task_dead+0xe0/0x110
[   51.673844]  make_task_dead+0x384/0x3c0
[   51.674078]  rewind_stack_and_make_dead+0x16/0x20
[   51.674351] RIP: 0033:0x7f730f23ee5d
[   51.674571] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   51.674914] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.675331] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   51.675738] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.676138] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   51.676534] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   51.676937] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   51.677336]  </TASK>
[   51.871825] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#102] PREEMPT SMP KASAN NOPTI
[   51.872699] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.873226] CPU: 1 UID: 0 PID: 14742 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   51.873907] Tainted: [D]=DIE, [W]=WARN
[   51.874181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.874980] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.875414] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.876696] RSP: 0018:ffff8880103ef7d8 EFLAGS: 00010202
[   51.877079] RAX: dffffc0000000000 RBX: ffffea0000896980 RCX: ffffffff81b9e6e9
[   51.877582] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000896990
[   51.878102] RBP: ffff8880103ef7f8 R08: 0000000000000000 R09: ffffed1003872a84
[   51.878614] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.879123] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c395420
[   51.879623] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   51.880176] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.880577] CR2: 00007f730f4f6658 CR3: 0000000030a2a005 CR4: 0000000000770ef0
[   51.881060] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.881556] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.882042] PKRU: 55555554
[   51.882237] Call Trace:
[   51.882422]  <TASK>
[   51.882585]  ? show_regs+0xa8/0xc0
[   51.882852]  ? die_addr+0x5d/0xf0
[   51.883106]  ? exc_general_protection+0x1ae/0x340
[   51.883456]  ? asm_exc_general_protection+0x2b/0x30
[   51.883817]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.884185]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.884552]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.884915]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.885270]  zap_huge_pmd+0x494/0xd40
[   51.885538]  unmap_page_range+0x1ad6/0x4320
[   51.885849]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.886198]  ? __pfx_unmap_page_range+0x10/0x10
[   51.886539]  unmap_single_vma+0x1ac/0x2d0
[   51.886842]  unmap_vmas+0x210/0x470
[   51.887104]  ? __pfx_unmap_vmas+0x10/0x10
[   51.887386]  ? __pfx_lock_release+0x10/0x10
[   51.887679]  ? lock_release+0x592/0x870
[   51.887952]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   51.888291]  ? __pfx_lock_release+0x10/0x10
[   51.888584]  ? mlock_drain_local+0x27f/0x4b0
[   51.888891]  exit_mmap+0x19e/0xb10
[   51.889146]  ? __pfx_exit_mmap+0x10/0x10
[   51.889439]  ? trace_hardirqs_on+0x51/0x60
[   51.889743]  ? __khugepaged_exit+0x266/0x4c0
[   51.890059]  ? kmem_cache_free+0x15d/0x420
[   51.890357]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.890729]  __mmput+0xd6/0x390
[   51.890950]  mmput+0x74/0x90
[   51.891154]  do_exit+0xa03/0x29f0
[   51.891383]  ? trace_hardirqs_on+0x51/0x60
[   51.891661]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.892083]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.892405]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.892732]  ? __pfx_do_exit+0x10/0x10
[   51.893001]  ? __audit_syscall_entry+0x39c/0x500
[   51.893329]  __x64_sys_exit+0x50/0x60
[   51.893603]  x64_sys_call+0x20c9/0x20d0
[   51.893883]  do_syscall_64+0x6d/0x140
[   51.894144]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.894491] RIP: 0033:0x7f730f23ee5d
[   51.894747] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   51.895151] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.895638] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   51.896082] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.896510] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   51.896952] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   51.897418] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   51.897874]  </TASK>
[   51.898020] Modules linked in:
[   51.898428] ---[ end trace 0000000000000000 ]---
[   51.898784] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.899151] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.900254] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   51.900579] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   51.901027] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   51.901455] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   51.901871] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.902286] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   51.902719] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   51.903197] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.903536] CR2: 00007f730f4f6658 CR3: 0000000030a2a005 CR4: 0000000000770ef0
[   51.903967] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.904393] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.904818] PKRU: 55555554
[   51.904989] note: repro[14742] exited with preempt_count 1
[   51.905312] Fixing recursive fault but reboot is needed!
[   51.905621] BUG: scheduling while atomic: repro/14742/0x00000000
[   51.905972] INFO: lockdep is turned off.
[   51.906213] Modules linked in:
[   51.906411] Preemption disabled at:
[   51.906415] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   51.906989] CPU: 1 UID: 0 PID: 14742 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   51.907528] Tainted: [D]=DIE, [W]=WARN
[   51.907751] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.908377] Call Trace:
[   51.908526]  <TASK>
[   51.908659]  dump_stack_lvl+0x121/0x150
[   51.908909]  ? do_task_dead+0x28/0x110
[   51.909140]  dump_stack+0x19/0x20
[   51.909348]  __schedule_bug+0x12d/0x180
[   51.909582]  __schedule+0x210c/0x2eb0
[   51.909808]  ? rcu_is_watching+0x19/0xc0
[   51.910042]  ? lock_release+0x592/0x870
[   51.910270]  ? __pfx___schedule+0x10/0x10
[   51.910510]  ? debug_smp_processor_id+0x20/0x30
[   51.910789]  ? rcu_is_watching+0x19/0xc0
[   51.911022]  ? trace_irq_enable+0xe1/0x120
[   51.911271]  ? do_task_dead+0x4a/0x110
[   51.911502]  do_task_dead+0xe0/0x110
[   51.911801]  make_task_dead+0x384/0x3c0
[   51.912179]  rewind_stack_and_make_dead+0x16/0x20
[   51.912624] RIP: 0033:0x7f730f23ee5d
[   51.912973] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   51.913355] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.913771] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   51.914159] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.914573] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   51.914996] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   51.915413] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   51.915824]  </TASK>
[   52.019493] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#103] PREEMPT SMP KASAN NOPTI
[   52.020501] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.021038] CPU: 0 UID: 0 PID: 14853 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.021735] Tainted: [D]=DIE, [W]=WARN
[   52.022015] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.022834] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.023275] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.024810] RSP: 0018:ffff88802170f7d8 EFLAGS: 00010202
[   52.025284] RAX: dffffc0000000000 RBX: ffffea0000896940 RCX: ffffffff81b9e6e9
[   52.025921] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000896950
[   52.026551] RBP: ffff88802170f7f8 R08: 0000000000000000 R09: ffffed100255b0f0
[   52.027185] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.027685] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012ad8780
[   52.028184] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.028747] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.029156] CR2: 00007f730f516df0 CR3: 0000000016144003 CR4: 0000000000770ef0
[   52.029658] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.030156] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.030655] PKRU: 55555554
[   52.030859] Call Trace:
[   52.031046]  <TASK>
[   52.031211]  ? show_regs+0xa8/0xc0
[   52.031476]  ? die_addr+0x5d/0xf0
[   52.031735]  ? exc_general_protection+0x1ae/0x340
[   52.032093]  ? asm_exc_general_protection+0x2b/0x30
[   52.032450]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.032813]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.033175]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.033537]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.033903]  zap_huge_pmd+0x494/0xd40
[   52.034177]  unmap_page_range+0x1ad6/0x4320
[   52.034488]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.034852]  ? __pfx_unmap_page_range+0x10/0x10
[   52.035187]  unmap_single_vma+0x1ac/0x2d0
[   52.035482]  unmap_vmas+0x210/0x470
[   52.035745]  ? __pfx_unmap_vmas+0x10/0x10
[   52.036034]  ? __pfx_lock_release+0x10/0x10
[   52.036331]  ? lock_release+0x592/0x870
[   52.036604]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.036955]  ? __pfx_lock_release+0x10/0x10
[   52.037257]  ? mlock_drain_local+0x27f/0x4b0
[   52.037567]  exit_mmap+0x19e/0xb10
[   52.037832]  ? __pfx_exit_mmap+0x10/0x10
[   52.038122]  ? trace_hardirqs_on+0x51/0x60
[   52.038420]  ? __khugepaged_exit+0x266/0x4c0
[   52.038723]  ? kmem_cache_free+0x15d/0x420
[   52.039012]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.039377]  __mmput+0xd6/0x390
[   52.039665]  mmput+0x74/0x90
[   52.039880]  do_exit+0xa03/0x29f0
[   52.040160]  ? trace_hardirqs_on+0x51/0x60
[   52.040457]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.040883]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.041214]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.041547]  ? __pfx_do_exit+0x10/0x10
[   52.041814]  ? __audit_syscall_entry+0x39c/0x500
[   52.042134]  __x64_sys_exit+0x50/0x60
[   52.042393]  x64_sys_call+0x20c9/0x20d0
[   52.042660]  do_syscall_64+0x6d/0x140
[   52.042925]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.043270] RIP: 0033:0x7f730f23ee5d
[   52.043518] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.043918] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.044393] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.044839] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.045285] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.045732] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.046178] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.046631]  </TASK>
[   52.046784] Modules linked in:
[   52.047169] ---[ end trace 0000000000000000 ]---
[   52.047474] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.047860] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.049016] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   52.049361] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   52.049795] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   52.050224] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   52.050755] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.051186] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   52.051633] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.052131] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.052498] CR2: 00007f730f516df0 CR3: 0000000016144003 CR4: 0000000000770ef0
[   52.052949] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.053381] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.053815] PKRU: 55555554
[   52.053992] note: repro[14853] exited with preempt_count 1
[   52.054326] Fixing recursive fault but reboot is needed!
[   52.054765] BUG: scheduling while atomic: repro/14853/0x00000000
[   52.055126] INFO: lockdep is turned off.
[   52.055359] Modules linked in:
[   52.055548] Preemption disabled at:
[   52.055551] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   52.056104] CPU: 0 UID: 0 PID: 14853 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.056681] Tainted: [D]=DIE, [W]=WARN
[   52.056914] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.057561] Call Trace:
[   52.057719]  <TASK>
[   52.057855]  dump_stack_lvl+0x121/0x150
[   52.058106]  ? do_task_dead+0x28/0x110
[   52.058352]  dump_stack+0x19/0x20
[   52.058569]  __schedule_bug+0x12d/0x180
[   52.058834]  __schedule+0x210c/0x2eb0
[   52.059075]  ? rcu_is_watching+0x19/0xc0
[   52.059337]  ? lock_release+0x592/0x870
[   52.059576]  ? __pfx___schedule+0x10/0x10
[   52.059816]  ? debug_smp_processor_id+0x20/0x30
[   52.060082]  ? rcu_is_watching+0x19/0xc0
[   52.060314]  ? trace_irq_enable+0xe1/0x120
[   52.060559]  ? do_task_dead+0x4a/0x110
[   52.060791]  do_task_dead+0xe0/0x110
[   52.061012]  make_task_dead+0x384/0x3c0
[   52.061244]  rewind_stack_and_make_dead+0x16/0x20
[   52.061517] RIP: 0033:0x7f730f23ee5d
[   52.061731] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.062073] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.062490] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.062873] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.063253] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.063633] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.064016] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.064405]  </TASK>
[   52.076287] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#104] PREEMPT SMP KASAN NOPTI
[   52.076980] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.077414] CPU: 0 UID: 0 PID: 14861 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.077963] Tainted: [D]=DIE, [W]=WARN
[   52.078194] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.078828] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.079177] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.080225] RSP: 0018:ffff8880276d77d8 EFLAGS: 00010202
[   52.080526] RAX: dffffc0000000000 RBX: ffffea000089cec0 RCX: ffffffff81b9e6e9
[   52.080923] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089ced0
[   52.081318] RBP: ffff8880276d77f8 R08: 0000000000000000 R09: ffffed1003e28550
[   52.081715] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.082204] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f142a80
[   52.082727] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.083316] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.083708] CR2: 00007f730f516df0 CR3: 00000000274b0005 CR4: 0000000000770ef0
[   52.084091] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.084471] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.084853] PKRU: 55555554
[   52.085008] Call Trace:
[   52.085148]  <TASK>
[   52.085275]  ? show_regs+0xa8/0xc0
[   52.085480]  ? die_addr+0x5d/0xf0
[   52.085679]  ? exc_general_protection+0x1ae/0x340
[   52.085951]  ? asm_exc_general_protection+0x2b/0x30
[   52.086231]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.086508]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.086789]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.087068]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.087347]  zap_huge_pmd+0x494/0xd40
[   52.087559]  unmap_page_range+0x1ad6/0x4320
[   52.087804]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.088079]  ? __pfx_unmap_page_range+0x10/0x10
[   52.088335]  unmap_single_vma+0x1ac/0x2d0
[   52.088562]  unmap_vmas+0x210/0x470
[   52.088770]  ? __pfx_unmap_vmas+0x10/0x10
[   52.088994]  ? __pfx_lock_release+0x10/0x10
[   52.089222]  ? lock_release+0x592/0x870
[   52.089435]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.089706]  ? __pfx_lock_release+0x10/0x10
[   52.089937]  ? mlock_drain_local+0x27f/0x4b0
[   52.090171]  exit_mmap+0x19e/0xb10
[   52.090364]  ? __pfx_exit_mmap+0x10/0x10
[   52.090583]  ? trace_hardirqs_on+0x51/0x60
[   52.090809]  ? __khugepaged_exit+0x266/0x4c0
[   52.091039]  ? kmem_cache_free+0x15d/0x420
[   52.091262]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.091543]  __mmput+0xd6/0x390
[   52.091721]  mmput+0x74/0x90
[   52.091882]  do_exit+0xa03/0x29f0
[   52.092075]  ? trace_hardirqs_on+0x51/0x60
[   52.092299]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.092621]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.092880]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.093136]  ? __pfx_do_exit+0x10/0x10
[   52.093343]  ? __audit_syscall_entry+0x39c/0x500
[   52.093593]  __x64_sys_exit+0x50/0x60
[   52.093796]  x64_sys_call+0x20c9/0x20d0
[   52.094005]  do_syscall_64+0x6d/0x140
[   52.094205]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.094464] RIP: 0033:0x7f730f23ee5d
[   52.094652] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.094957] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.095327] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.095675] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.096023] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.096369] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.096718] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.097072]  </TASK>
[   52.097189] Modules linked in:
[   52.097519] ---[ end trace 0000000000000000 ]---
[   52.097754] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.098043] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.098922] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   52.099180] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   52.099518] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   52.099857] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   52.100195] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.100533] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   52.100869] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.101231] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.101502] CR2: 00007f730f516df0 CR3: 00000000274b0005 CR4: 0000000000770ef0
[   52.101834] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.102164] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.102506] PKRU: 55555554
[   52.102642] note: repro[14861] exited with preempt_count 1
[   52.102904] Fixing recursive fault but reboot is needed!
[   52.103155] BUG: scheduling while atomic: repro/14861/0x00000000
[   52.103437] INFO: lockdep is turned off.
[   52.103621] Modules linked in:
[   52.103777] Preemption disabled at:
[   52.103780] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   52.104197] CPU: 0 UID: 0 PID: 14861 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.104631] Tainted: [D]=DIE, [W]=WARN
[   52.104811] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.105313] Call Trace:
[   52.105432]  <TASK>
[   52.105541]  dump_stack_lvl+0x121/0x150
[   52.105733]  ? do_task_dead+0x28/0x110
[   52.105918]  dump_stack+0x19/0x20
[   52.106092]  __schedule_bug+0x12d/0x180
[   52.106291]  __schedule+0x210c/0x2eb0
[   52.106479]  ? rcu_is_watching+0x19/0xc0
[   52.106682]  ? lock_release+0x592/0x870
[   52.106870]  ? __pfx___schedule+0x10/0x10
[   52.107061]  ? debug_smp_processor_id+0x20/0x30
[   52.107276]  ? rcu_is_watching+0x19/0xc0
[   52.107461]  ? trace_irq_enable+0xe1/0x120
[   52.107657]  ? do_task_dead+0x4a/0x110
[   52.107837]  do_task_dead+0xe0/0x110
[   52.108010]  make_task_dead+0x384/0x3c0
[   52.108193]  rewind_stack_and_make_dead+0x16/0x20
[   52.108408] RIP: 0033:0x7f730f23ee5d
[   52.108574] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.108846] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.109174] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.109485] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.109809] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.110120] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.110433] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.110743]  </TASK>
[   52.140844] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#105] PREEMPT SMP KASAN NOPTI
[   52.141895] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.142540] CPU: 1 UID: 0 PID: 14900 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.143523] Tainted: [D]=DIE, [W]=WARN
[   52.144057] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.145035] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.145579] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.147097] RSP: 0018:ffff8880141777d8 EFLAGS: 00010202
[   52.147740] RAX: dffffc0000000000 RBX: ffffea000050e4c0 RCX: ffffffff81b9e6e9
[   52.148464] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000050e4d0
[   52.149049] RBP: ffff8880141777f8 R08: 0000000000000000 R09: ffffed1001f6b63c
[   52.149625] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.150213] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800fb5b1e0
[   52.150834] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   52.151482] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.151966] CR2: 00007f730f4f5ef8 CR3: 0000000030a5e005 CR4: 0000000000770ef0
[   52.152543] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.153128] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.153780] PKRU: 55555554
[   52.154118] Call Trace:
[   52.154416]  <TASK>
[   52.154611]  ? show_regs+0xa8/0xc0
[   52.154966]  ? die_addr+0x5d/0xf0
[   52.155264]  ? exc_general_protection+0x1ae/0x340
[   52.155666]  ? asm_exc_general_protection+0x2b/0x30
[   52.156084]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.156508]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.156936]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.157356]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.157785]  zap_huge_pmd+0x494/0xd40
[   52.158104]  unmap_page_range+0x1ad6/0x4320
[   52.158487]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.158930]  ? __pfx_unmap_page_range+0x10/0x10
[   52.159346]  unmap_single_vma+0x1ac/0x2d0
[   52.159696]  unmap_vmas+0x210/0x470
[   52.160001]  ? __pfx_unmap_vmas+0x10/0x10
[   52.160337]  ? __pfx_lock_release+0x10/0x10
[   52.160687]  ? lock_release+0x592/0x870
[   52.161002]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.161412]  ? __pfx_lock_release+0x10/0x10
[   52.161813]  ? mlock_drain_local+0x27f/0x4b0
[   52.162335]  exit_mmap+0x19e/0xb10
[   52.162726]  ? __pfx_exit_mmap+0x10/0x10
[   52.163068]  ? trace_hardirqs_on+0x51/0x60
[   52.163429]  ? __khugepaged_exit+0x266/0x4c0
[   52.163787]  ? kmem_cache_free+0x15d/0x420
[   52.164121]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.164543]  __mmput+0xd6/0x390
[   52.164820]  mmput+0x74/0x90
[   52.165067]  do_exit+0xa03/0x29f0
[   52.165351]  ? trace_hardirqs_on+0x51/0x60
[   52.165699]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.166186]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.166567]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.166950]  ? __pfx_do_exit+0x10/0x10
[   52.167254]  ? __audit_syscall_entry+0x39c/0x500
[   52.167625]  __x64_sys_exit+0x50/0x60
[   52.167932]  x64_sys_call+0x20c9/0x20d0
[   52.168387]  do_syscall_64+0x6d/0x140
[   52.168831]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.169229] RIP: 0033:0x7f730f23ee5d
[   52.169517] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.169985] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.170556] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.171089] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.171597] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.172119] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.172649] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.173176]  </TASK>
[   52.173348] Modules linked in:
[   52.173808] ---[ end trace 0000000000000000 ]---
[   52.174163] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.174918] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.176423] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   52.176904] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   52.177547] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   52.178168] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   52.178766] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.179257] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   52.179752] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   52.179754] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#106] PREEMPT SMP KASAN NOPTI
[   52.180316] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.181321] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.181715] CR2: 00007f730f4f5ef8 CR3: 0000000030a5e005 CR4: 0000000000770ef0
[   52.182224] CPU: 0 UID: 0 PID: 14912 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.182737] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.183333] Tainted: [D]=DIE, [W]=WARN
[   52.183815] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.184111] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.184605] PKRU: 55555554
[   52.185361] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.185556] note: repro[14900] exited with preempt_count 1
[   52.185944] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.186300] Fixing recursive fault but reboot is needed!
[   52.187574] RSP: 0018:ffff8880108277d8 EFLAGS: 00010202
[   52.187591] RAX: dffffc0000000000 RBX: ffffea000050c680 RCX: ffffffff81b9e6e9
[   52.188757] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000050c690
[   52.189224] RBP: ffff8880108277f8 R08: 0000000000000000 R09: ffffed1003f62c60
[   52.189693] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.190159] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fb16300
[   52.190629] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.191155] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.191535] CR2: 00007f880996c000 CR3: 00000000217a0003 CR4: 0000000000770ef0
[   52.192008] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.192478] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.192949] PKRU: 55555554
[   52.193184] Call Trace:
[   52.193420]  <TASK>
[   52.193633]  ? show_regs+0xa8/0xc0
[   52.193982]  ? die_addr+0x5d/0xf0
[   52.194314]  ? exc_general_protection+0x1ae/0x340
[   52.194664]  ? asm_exc_general_protection+0x2b/0x30
[   52.194998]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.195338]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.195681]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.196018]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.196360]  zap_huge_pmd+0x494/0xd40
[   52.196618]  unmap_page_range+0x1ad6/0x4320
[   52.196913]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.197361]  ? __pfx_unmap_page_range+0x10/0x10
[   52.197713]  unmap_single_vma+0x1ac/0x2d0
[   52.197993]  unmap_vmas+0x210/0x470
[   52.198240]  ? __pfx_unmap_vmas+0x10/0x10
[   52.198513]  ? __pfx_lock_release+0x10/0x10
[   52.198793]  ? lock_release+0x592/0x870
[   52.199050]  ? mas_next_slot+0x133a/0x1a50
[   52.199328]  ? __pfx_lock_release+0x10/0x10
[   52.199609]  ? mlock_drain_local+0x27f/0x4b0
[   52.199904]  exit_mmap+0x19e/0xb10
[   52.200143]  ? __pfx_exit_mmap+0x10/0x10
[   52.200421]  ? trace_hardirqs_on+0x51/0x60
[   52.200781]  ? __khugepaged_exit+0x266/0x4c0
[   52.201143]  ? kmem_cache_free+0x15d/0x420
[   52.201449]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.201815]  __mmput+0xd6/0x390
[   52.202027]  mmput+0x74/0x90
[   52.202222]  do_exit+0xa03/0x29f0
[   52.202443]  ? trace_hardirqs_on+0x51/0x60
[   52.202719]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.203103]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.203407]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.203714]  ? __pfx_do_exit+0x10/0x10
[   52.203976]  ? __audit_syscall_entry+0x39c/0x500
[   52.204384]  __x64_sys_exit+0x50/0x60
[   52.204652]  x64_sys_call+0x20c9/0x20d0
[   52.204903]  do_syscall_64+0x6d/0x140
[   52.205146]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.205461] RIP: 0033:0x7f730f23ee5d
[   52.205684] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.206038] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.206476] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.206893] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.207321] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.207737] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.208147] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.208571]  </TASK>
[   52.208715] Modules linked in:
[   52.209086] ---[ end trace 0000000000000000 ]---
[   52.209370] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.209724] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.210871] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   52.211178] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   52.211575] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   52.211976] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   52.212371] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.212771] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   52.213168] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.213618] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.213945] CR2: 00007f880996c000 CR3: 00000000217a0003 CR4: 0000000000770ef0
[   52.214347] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.214843] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.215229] PKRU: 55555554
[   52.215387] note: repro[14912] exited with preempt_count 1
[   52.215689] Fixing recursive fault but reboot is needed!
[   52.215981] BUG: scheduling while atomic: repro/14912/0x00000000
[   52.216308] INFO: lockdep is turned off.
[   52.216530] Modules linked in:
[   52.216712] Preemption disabled at:
[   52.216716] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   52.217217] CPU: 0 UID: 0 PID: 14912 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.217733] Tainted: [D]=DIE, [W]=WARN
[   52.217943] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.218546] Call Trace:
[   52.218693]  <TASK>
[   52.218821]  dump_stack_lvl+0x121/0x150
[   52.219048]  ? do_task_dead+0x28/0x110
[   52.219270]  dump_stack+0x19/0x20
[   52.219469]  __schedule_bug+0x12d/0x180
[   52.219691]  __schedule+0x210c/0x2eb0
[   52.219897]  ? rcu_is_watching+0x19/0xc0
[   52.220116]  ? lock_release+0x592/0x870
[   52.220329]  ? __pfx___schedule+0x10/0x10
[   52.220551]  ? debug_smp_processor_id+0x20/0x30
[   52.220802]  ? rcu_is_watching+0x19/0xc0
[   52.221020]  ? trace_irq_enable+0xe1/0x120
[   52.221253]  ? do_task_dead+0x4a/0x110
[   52.221471]  do_task_dead+0xe0/0x110
[   52.221680]  make_task_dead+0x384/0x3c0
[   52.221897]  rewind_stack_and_make_dead+0x16/0x20
[   52.222155] RIP: 0033:0x7f730f23ee5d
[   52.222354] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.222680] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.223079] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.223452] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.223825] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.224185] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.224548] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.224919]  </TASK>
[   52.728657] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#107] PREEMPT SMP KASAN NOPTI
[   52.729503] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.730021] CPU: 0 UID: 0 PID: 15194 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.730686] Tainted: [D]=DIE, [W]=WARN
[   52.730948] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.731703] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.732111] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.733333] RSP: 0018:ffff8880143e77d8 EFLAGS: 00010202
[   52.733696] RAX: dffffc0000000000 RBX: ffffea0000988d40 RCX: ffffffff81b9e6e9
[   52.734175] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000988d50
[   52.734649] RBP: ffff8880143e77f8 R08: 0000000000000000 R09: ffffed1002757174
[   52.735134] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.735616] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013ab8ba0
[   52.736093] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.736630] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.737010] CR2: 00007f730f52b000 CR3: 000000002176a001 CR4: 0000000000770ef0
[   52.737477] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.737940] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.738401] PKRU: 55555554
[   52.738588] Call Trace:
[   52.738762]  <TASK>
[   52.738915]  ? show_regs+0xa8/0xc0
[   52.739162]  ? die_addr+0x5d/0xf0
[   52.739402]  ? exc_general_protection+0x1ae/0x340
[   52.739734]  ? asm_exc_general_protection+0x2b/0x30
[   52.740082]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.740431]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.740821]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.741198]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.741548]  zap_huge_pmd+0x494/0xd40
[   52.741804]  unmap_page_range+0x1ad6/0x4320
[   52.742099]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.742534]  ? __pfx_unmap_page_range+0x10/0x10
[   52.742922]  unmap_single_vma+0x1ac/0x2d0
[   52.743197]  unmap_vmas+0x210/0x470
[   52.743443]  ? __pfx_unmap_vmas+0x10/0x10
[   52.743717]  ? __pfx_lock_release+0x10/0x10
[   52.744006]  ? lock_release+0x592/0x870
[   52.744332]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.744677]  ? __pfx_lock_release+0x10/0x10
[   52.744956]  ? mlock_drain_local+0x27f/0x4b0
[   52.745240]  exit_mmap+0x19e/0xb10
[   52.745534]  ? __pfx_exit_mmap+0x10/0x10
[   52.745824]  ? trace_hardirqs_on+0x51/0x60
[   52.746108]  ? __khugepaged_exit+0x266/0x4c0
[   52.746405]  ? kmem_cache_free+0x15d/0x420
[   52.746685]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.747038]  __mmput+0xd6/0x390
[   52.747266]  mmput+0x74/0x90
[   52.747470]  do_exit+0xa03/0x29f0
[   52.747706]  ? trace_hardirqs_on+0x51/0x60
[   52.747989]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.748394]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.748719]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.749030]  ? __pfx_do_exit+0x10/0x10
[   52.749285]  ? __audit_syscall_entry+0x39c/0x500
[   52.749595]  __x64_sys_exit+0x50/0x60
[   52.749841]  x64_sys_call+0x20c9/0x20d0
[   52.750086]  do_syscall_64+0x6d/0x140
[   52.750332]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.750654] RIP: 0033:0x7f730f23ee5d
[   52.750885] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.751259] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.751719] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.752231] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.752958] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.753536] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.754165] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.754660]  </TASK>
[   52.754804] Modules linked in:
[   52.755059] ---[ end trace 0000000000000000 ]---
[   52.755338] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.755688] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.756735] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   52.757034] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   52.757429] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   52.757876] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   52.758408] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.758963] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   52.759498] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.760103] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.760537] CR2: 00007f730f52b000 CR3: 000000002176a001 CR4: 0000000000770ef0
[   52.761083] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.761618] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.762156] PKRU: 55555554
[   52.762370] note: repro[15194] exited with preempt_count 1
[   52.762838] Fixing recursive fault but reboot is needed!
[   52.763226] BUG: scheduling while atomic: repro/15194/0x00000000
[   52.763667] INFO: lockdep is turned off.
[   52.763961] Modules linked in:
[   52.764195] Preemption disabled at:
[   52.764198] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   52.764858] CPU: 0 UID: 0 PID: 15194 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.765551] Tainted: [D]=DIE, [W]=WARN
[   52.765831] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.766646] Call Trace:
[   52.766838]  <TASK>
[   52.767005]  dump_stack_lvl+0x121/0x150
[   52.767300]  ? do_task_dead+0x28/0x110
[   52.767580]  dump_stack+0x19/0x20
[   52.767833]  __schedule_bug+0x12d/0x180
[   52.768123]  __schedule+0x210c/0x2eb0
[   52.768396]  ? rcu_is_watching+0x19/0xc0
[   52.768689]  ? lock_release+0x592/0x870
[   52.768973]  ? __pfx___schedule+0x10/0x10
[   52.769267]  ? debug_smp_processor_id+0x20/0x30
[   52.769600]  ? rcu_is_watching+0x19/0xc0
[   52.769890]  ? trace_irq_enable+0xe1/0x120
[   52.770196]  ? do_task_dead+0x4a/0x110
[   52.770478]  do_task_dead+0xe0/0x110
[   52.770743]  make_task_dead+0x384/0x3c0
[   52.771022]  rewind_stack_and_make_dead+0x16/0x20
[   52.771354] RIP: 0033:0x7f730f23ee5d
[   52.771611] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.772034] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.772550] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.772947] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.773321] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.773723] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.774220] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.774645]  </TASK>
[   52.790814] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#108] PREEMPT SMP KASAN NOPTI
[   52.791346] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.791665] CPU: 1 UID: 0 PID: 15242 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.792067] Tainted: [D]=DIE, [W]=WARN
[   52.792241] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.792749] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.793025] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.793797] RSP: 0018:ffff8880261df7d8 EFLAGS: 00010202
[   52.794024] RAX: dffffc0000000000 RBX: ffffea0000c222c0 RCX: ffffffff81b9e6e9
[   52.794326] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c222d0
[   52.794635] RBP: ffff8880261df7f8 R08: 0000000000000000 R09: ffffed1002741090
[   52.794939] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.795235] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013a08480
[   52.795530] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   52.795870] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.796120] CR2: 00007f730f29bc20 CR3: 00000000106a6003 CR4: 0000000000770ef0
[   52.796437] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.796790] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.797141] PKRU: 55555554
[   52.797286] Call Trace:
[   52.797399]  <TASK>
[   52.797501]  ? show_regs+0xa8/0xc0
[   52.797663]  ? die_addr+0x5d/0xf0
[   52.797822]  ? exc_general_protection+0x1ae/0x340
[   52.798039]  ? asm_exc_general_protection+0x2b/0x30
[   52.798260]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.798489]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.798721]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.798948]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.799174]  zap_huge_pmd+0x494/0xd40
[   52.799351]  unmap_page_range+0x1ad6/0x4320
[   52.799553]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.799785]  ? __pfx_unmap_page_range+0x10/0x10
[   52.800004]  unmap_single_vma+0x1ac/0x2d0
[   52.800197]  unmap_vmas+0x210/0x470
[   52.800369]  ? __pfx_unmap_vmas+0x10/0x10
[   52.800561]  ? __pfx_lock_release+0x10/0x10
[   52.800758]  ? lock_release+0x592/0x870
[   52.800935]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   52.801168]  ? __pfx_lock_release+0x10/0x10
[   52.801371]  ? mlock_drain_local+0x27f/0x4b0
[   52.801582]  exit_mmap+0x19e/0xb10
[   52.801771]  ? __pfx_exit_mmap+0x10/0x10
[   52.802023]  ? trace_hardirqs_on+0x51/0x60
[   52.802270]  ? __khugepaged_exit+0x266/0x4c0
[   52.802524]  ? kmem_cache_free+0x15d/0x420
[   52.802849]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.803281]  __mmput+0xd6/0x390
[   52.803509]  mmput+0x74/0x90
[   52.803689]  do_exit+0xa03/0x29f0
[   52.803893]  ? trace_hardirqs_on+0x51/0x60
[   52.804139]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.804498]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.804784]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.805064]  ? __pfx_do_exit+0x10/0x10
[   52.805291]  ? __audit_syscall_entry+0x39c/0x500
[   52.805566]  __x64_sys_exit+0x50/0x60
[   52.805791]  x64_sys_call+0x20c9/0x20d0
[   52.806021]  do_syscall_64+0x6d/0x140
[   52.806242]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.806537] RIP: 0033:0x7f730f23ee5d
[   52.806749] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.807096] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.807519] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.807918] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.808315] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.808714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.809111] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.809517]  </TASK>
[   52.809648] Modules linked in:
[   52.809964] ---[ end trace 0000000000000000 ]---
[   52.810339] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.810716] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.811495] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   52.811741] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   52.812056] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   52.812376] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   52.812680] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.812994] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   52.813304] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   52.813650] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.813903] CR2: 00007f730f29bc20 CR3: 00000000106a6003 CR4: 0000000000770ef0
[   52.814211] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.814527] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.814833] PKRU: 55555554
[   52.814957] note: repro[15242] exited with preempt_count 1
[   52.815193] Fixing recursive fault but reboot is needed!
[   52.815421] BUG: scheduling while atomic: repro/15242/0x00000000
[   52.815680] INFO: lockdep is turned off.
[   52.815853] Modules linked in:
[   52.816004] Preemption disabled at:
[   52.816007] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   52.816451] CPU: 1 UID: 0 PID: 15242 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   52.816926] Tainted: [D]=DIE, [W]=WARN
[   52.817093] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.817568] Call Trace:
[   52.817683]  <TASK>
[   52.817785]  dump_stack_lvl+0x121/0x150
[   52.817966]  ? do_task_dead+0x28/0x110
[   52.818148]  dump_stack+0x19/0x20
[   52.818349]  __schedule_bug+0x12d/0x180
[   52.818583]  __schedule+0x210c/0x2eb0
[   52.818800]  ? rcu_is_watching+0x19/0xc0
[   52.819035]  ? lock_release+0x592/0x870
[   52.819273]  ? __pfx___schedule+0x10/0x10
[   52.819580]  ? debug_smp_processor_id+0x20/0x30
[   52.819926]  ? rcu_is_watching+0x19/0xc0
[   52.820224]  ? trace_irq_enable+0xe1/0x120
[   52.820539]  ? do_task_dead+0x4a/0x110
[   52.820766]  do_task_dead+0xe0/0x110
[   52.820987]  make_task_dead+0x384/0x3c0
[   52.821218]  rewind_stack_and_make_dead+0x16/0x20
[   52.821496] RIP: 0033:0x7f730f23ee5d
[   52.821708] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   52.822056] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.822651] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   52.823168] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.823573] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   52.823975] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   52.824378] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   52.824789]  </TASK>
[   53.186286] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#109] PREEMPT SMP KASAN NOPTI
[   53.187171] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.187743] CPU: 0 UID: 0 PID: 15528 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.188656] Tainted: [D]=DIE, [W]=WARN
[   53.188942] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.189759] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.190197] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.191494] RSP: 0018:ffff8880108277d8 EFLAGS: 00010202
[   53.191872] RAX: dffffc0000000000 RBX: ffffea0000485140 RCX: ffffffff81b9e6e9
[   53.192371] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000485150
[   53.192871] RBP: ffff8880108277f8 R08: 0000000000000000 R09: ffffed10028f5afc
[   53.193370] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.193870] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad7e0
[   53.194371] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   53.194939] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.195346] CR2: 00007f730f516df0 CR3: 0000000027516003 CR4: 0000000000770ef0
[   53.195820] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.196182] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.196541] PKRU: 55555554
[   53.196689] Call Trace:
[   53.196825]  <TASK>
[   53.196946]  ? show_regs+0xa8/0xc0
[   53.197223]  ? die_addr+0x5d/0xf0
[   53.197491]  ? exc_general_protection+0x1ae/0x340
[   53.197849]  ? asm_exc_general_protection+0x2b/0x30
[   53.198119]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.198393]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.198669]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.198958]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.199252]  zap_huge_pmd+0x494/0xd40
[   53.199464]  unmap_page_range+0x1ad6/0x4320
[   53.199703]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.199968]  ? __pfx_unmap_page_range+0x10/0x10
[   53.200219]  unmap_single_vma+0x1ac/0x2d0
[   53.200434]  unmap_vmas+0x210/0x470
[   53.200627]  ? __pfx_unmap_vmas+0x10/0x10
[   53.200842]  ? __pfx_lock_release+0x10/0x10
[   53.201058]  ? lock_release+0x592/0x870
[   53.201259]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.201513]  ? __pfx_lock_release+0x10/0x10
[   53.201741]  ? mlock_drain_local+0x27f/0x4b0
[   53.201970]  exit_mmap+0x19e/0xb10
[   53.202160]  ? __pfx_exit_mmap+0x10/0x10
[   53.202374]  ? trace_hardirqs_on+0x51/0x60
[   53.202599]  ? __khugepaged_exit+0x266/0x4c0
[   53.202830]  ? kmem_cache_free+0x15d/0x420
[   53.203054]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.203450]  __mmput+0xd6/0x390
[   53.203693]  mmput+0x74/0x90
[   53.203912]  do_exit+0xa03/0x29f0
[   53.204112]  ? trace_hardirqs_on+0x51/0x60
[   53.204333]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.204648]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.204892]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.205138]  ? __pfx_do_exit+0x10/0x10
[   53.205338]  ? __audit_syscall_entry+0x39c/0x500
[   53.205579]  __x64_sys_exit+0x50/0x60
[   53.205773]  x64_sys_call+0x20c9/0x20d0
[   53.205971]  do_syscall_64+0x6d/0x140
[   53.206166]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.206422] RIP: 0033:0x7f730f23ee5d
[   53.206607] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.206906] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.207271] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.207612] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.207954] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.208294] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.208635] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.208977]  </TASK>
[   53.209090] Modules linked in:
[   53.209375] ---[ end trace 0000000000000000 ]---
[   53.209701] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.210090] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.210965] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   53.211216] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   53.211549] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   53.211606] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#110] PREEMPT SMP KASAN NOPTI
[   53.211884] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   53.212536] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.212862] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.213248] CPU: 1 UID: 0 PID: 15552 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.213564] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   53.214047] Tainted: [D]=DIE, [W]=WARN
[   53.214357] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   53.214553] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.214561] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.214922] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.215496] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.215759] CR2: 00007f730f516df0 CR3: 0000000027516003 CR4: 0000000000770ef0
[   53.216055] RSP: 0018:ffff888013c177d8 EFLAGS: 00010202
[   53.216956] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.217483] 
[   53.217760] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.218445] RAX: dffffc0000000000 RBX: ffffea000049ebc0 RCX: ffffffff81b9e6e9
[   53.218622] PKRU: 55555554
[   53.219223] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000049ebd0
[   53.219767] note: repro[15528] exited with preempt_count 1
[   53.219903] RBP: ffff888013c177f8 R08: 0000000000000000 R09: ffffed1006138248
[   53.220211] Fixing recursive fault but reboot is needed!
[   53.220503] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.221464] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880309c1240
[   53.221828] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.222235] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.222529] CR2: 00007ffdcd14bac8 CR3: 000000001c0c0001 CR4: 0000000000770ef0
[   53.222894] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.223255] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.223615] PKRU: 55555554
[   53.223763] Call Trace:
[   53.223898]  <TASK>
[   53.224018]  ? show_regs+0xa8/0xc0
[   53.224209]  ? die_addr+0x5d/0xf0
[   53.224391]  ? exc_general_protection+0x1ae/0x340
[   53.224641]  ? asm_exc_general_protection+0x2b/0x30
[   53.224902]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.225167]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.225433]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.225703]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.225970]  zap_huge_pmd+0x494/0xd40
[   53.226172]  unmap_page_range+0x1ad6/0x4320
[   53.226405]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.226669]  ? __pfx_unmap_page_range+0x10/0x10
[   53.226917]  unmap_single_vma+0x1ac/0x2d0
[   53.227137]  unmap_vmas+0x210/0x470
[   53.227340]  ? __pfx_unmap_vmas+0x10/0x10
[   53.227556]  ? __pfx_lock_release+0x10/0x10
[   53.227778]  ? lock_release+0x592/0x870
[   53.227978]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.228237]  ? __pfx_lock_release+0x10/0x10
[   53.228459]  ? mlock_drain_local+0x27f/0x4b0
[   53.228689]  exit_mmap+0x19e/0xb10
[   53.228878]  ? __pfx_exit_mmap+0x10/0x10
[   53.229092]  ? trace_hardirqs_on+0x51/0x60
[   53.229315]  ? __khugepaged_exit+0x266/0x4c0
[   53.229542]  ? kmem_cache_free+0x15d/0x420
[   53.229756]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.230024]  __mmput+0xd6/0x390
[   53.230193]  mmput+0x74/0x90
[   53.230348]  do_exit+0xa03/0x29f0
[   53.230525]  ? trace_hardirqs_on+0x51/0x60
[   53.230739]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.231046]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.231290]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.231533]  ? __pfx_do_exit+0x10/0x10
[   53.231728]  ? __audit_syscall_entry+0x39c/0x500
[   53.231966]  __x64_sys_exit+0x50/0x60
[   53.232157]  x64_sys_call+0x20c9/0x20d0
[   53.232354]  do_syscall_64+0x6d/0x140
[   53.232547]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.232802] RIP: 0033:0x7f730f23ee5d
[   53.232985] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.233285] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.233649] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.233990] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.234319] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.234649] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.234996] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.235332]  </TASK>
[   53.235444] Modules linked in:
[   53.235772] ---[ end trace 0000000000000000 ]---
[   53.236000] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.236283] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.237126] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   53.237376] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   53.237710] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   53.238041] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   53.238369] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.238806] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   53.239133] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.239495] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.239763] CR2: 00007ffdcd14bac8 CR3: 000000001c0c0001 CR4: 0000000000770ef0
[   53.240089] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.240412] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.240736] PKRU: 55555554
[   53.240868] note: repro[15552] exited with preempt_count 1
[   53.241120] Fixing recursive fault but reboot is needed!
[   53.241363] BUG: scheduling while atomic: repro/15552/0x00000000
[   53.241664] INFO: lockdep is turned off.
[   53.241849] Modules linked in:
[   53.241999] Preemption disabled at:
[   53.242001] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   53.242419] CPU: 1 UID: 0 PID: 15552 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.242849] Tainted: [D]=DIE, [W]=WARN
[   53.243020] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.243519] Call Trace:
[   53.243637]  <TASK>
[   53.243750]  dump_stack_lvl+0x121/0x150
[   53.243944]  ? do_task_dead+0x28/0x110
[   53.244131]  dump_stack+0x19/0x20
[   53.244294]  __schedule_bug+0x12d/0x180
[   53.244479]  __schedule+0x210c/0x2eb0
[   53.244658]  ? rcu_is_watching+0x19/0xc0
[   53.244850]  ? lock_release+0x592/0x870
[   53.245036]  ? __pfx___schedule+0x10/0x10
[   53.245226]  ? debug_smp_processor_id+0x20/0x30
[   53.245441]  ? rcu_is_watching+0x19/0xc0
[   53.245630]  ? trace_irq_enable+0xe1/0x120
[   53.245832]  ? do_task_dead+0x4a/0x110
[   53.246014]  do_task_dead+0xe0/0x110
[   53.246188]  make_task_dead+0x384/0x3c0
[   53.246371]  rewind_stack_and_make_dead+0x16/0x20
[   53.246588] RIP: 0033:0x7f730f23ee5d
[   53.246759] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.247029] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.247360] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.247673] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.247975] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.248288] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.248592] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.248913]  </TASK>
[   53.283450] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#111] PREEMPT SMP KASAN NOPTI
[   53.284049] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.284432] CPU: 1 UID: 0 PID: 15616 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.284875] Tainted: [D]=DIE, [W]=WARN
[   53.285043] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.285526] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.285794] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.286582] RSP: 0018:ffff88800e6bf7d8 EFLAGS: 00010202
[   53.286820] RAX: dffffc0000000000 RBX: ffffea000098d340 RCX: ffffffff81b9e6e9
[   53.287132] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098d350
[   53.287439] RBP: ffff88800e6bf7f8 R08: 0000000000000000 R09: ffffed1003f608fc
[   53.287743] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.288045] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fb047e0
[   53.288346] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.288688] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.288936] CR2: 00007f730f4f5ef8 CR3: 0000000030a54003 CR4: 0000000000770ef0
[   53.289241] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.289544] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.289847] PKRU: 55555554
[   53.289970] Call Trace:
[   53.290083]  <TASK>
[   53.290184]  ? show_regs+0xa8/0xc0
[   53.290346]  ? die_addr+0x5d/0xf0
[   53.290504]  ? exc_general_protection+0x1ae/0x340
[   53.290723]  ? asm_exc_general_protection+0x2b/0x30
[   53.290942]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.291165]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.291388]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.291610]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.291835]  zap_huge_pmd+0x494/0xd40
[   53.292006]  unmap_page_range+0x1ad6/0x4320
[   53.292199]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.292432]  ? __pfx_unmap_page_range+0x10/0x10
[   53.292640]  unmap_single_vma+0x1ac/0x2d0
[   53.292828]  unmap_vmas+0x210/0x470
[   53.292992]  ? __pfx_unmap_vmas+0x10/0x10
[   53.293171]  ? __pfx_lock_release+0x10/0x10
[   53.293361]  ? lock_release+0x592/0x870
[   53.293533]  ? mas_next_slot+0x133a/0x1a50
[   53.293719]  ? __pfx_lock_release+0x10/0x10
[   53.293906]  ? mlock_drain_local+0x27f/0x4b0
[   53.294100]  exit_mmap+0x19e/0xb10
[   53.294260]  ? __pfx_exit_mmap+0x10/0x10
[   53.294442]  ? trace_hardirqs_on+0x51/0x60
[   53.294632]  ? __khugepaged_exit+0x266/0x4c0
[   53.294826]  ? kmem_cache_free+0x15d/0x420
[   53.295012]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.295246]  __mmput+0xd6/0x390
[   53.295392]  mmput+0x74/0x90
[   53.295526]  do_exit+0xa03/0x29f0
[   53.295682]  ? trace_hardirqs_on+0x51/0x60
[   53.295866]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.296131]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.296342]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.296553]  ? __pfx_do_exit+0x10/0x10
[   53.296723]  ? __audit_syscall_entry+0x39c/0x500
[   53.296929]  __x64_sys_exit+0x50/0x60
[   53.297094]  x64_sys_call+0x20c9/0x20d0
[   53.297265]  do_syscall_64+0x6d/0x140
[   53.297433]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.297654] RIP: 0033:0x7f730f23ee5d
[   53.297813] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.298069] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.298383] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.298680] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.298984] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.299288] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.299584] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.299896]  </TASK>
[   53.299997] Modules linked in:
[   53.300288] ---[ end trace 0000000000000000 ]---
[   53.300489] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.300742] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.301501] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   53.301727] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   53.302024] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   53.302320] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   53.302683] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.302983] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   53.303281] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.303615] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.303860] CR2: 00007f730f4f5ef8 CR3: 0000000030a54003 CR4: 0000000000770ef0
[   53.304160] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.304456] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.304756] PKRU: 55555554
[   53.304879] note: repro[15616] exited with preempt_count 1
[   53.305112] Fixing recursive fault but reboot is needed!
[   53.305335] BUG: scheduling while atomic: repro/15616/0x00000000
[   53.305598] INFO: lockdep is turned off.
[   53.305769] Modules linked in:
[   53.305906] Preemption disabled at:
[   53.305908] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   53.306300] CPU: 1 UID: 0 PID: 15616 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.306706] Tainted: [D]=DIE, [W]=WARN
[   53.306869] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.307334] Call Trace:
[   53.307445]  <TASK>
[   53.307543]  dump_stack_lvl+0x121/0x150
[   53.307721]  ? do_task_dead+0x28/0x110
[   53.307892]  dump_stack+0x19/0x20
[   53.308045]  __schedule_bug+0x12d/0x180
[   53.308220]  __schedule+0x210c/0x2eb0
[   53.308385]  ? rcu_is_watching+0x19/0xc0
[   53.308559]  ? lock_release+0x592/0x870
[   53.308731]  ? __pfx___schedule+0x10/0x10
[   53.308909]  ? debug_smp_processor_id+0x20/0x30
[   53.309108]  ? rcu_is_watching+0x19/0xc0
[   53.309281]  ? trace_irq_enable+0xe1/0x120
[   53.309466]  ? do_task_dead+0x4a/0x110
[   53.309638]  do_task_dead+0xe0/0x110
[   53.309805]  make_task_dead+0x384/0x3c0
[   53.309980]  rewind_stack_and_make_dead+0x16/0x20
[   53.310186] RIP: 0033:0x7f730f23ee5d
[   53.310345] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.310600] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.310918] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.311215] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.311518] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.311822] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.312125] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.312428]  </TASK>
[   53.488348] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#112] PREEMPT SMP KASAN NOPTI
[   53.489036] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.489662] CPU: 1 UID: 0 PID: 15724 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.490239] Tainted: [D]=DIE, [W]=WARN
[   53.490455] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.491073] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.491412] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.492396] RSP: 0018:ffff88802759f7d8 EFLAGS: 00010202
[   53.492689] RAX: dffffc0000000000 RBX: ffffea0000696700 RCX: ffffffff81b9e6e9
[   53.493069] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000696710
[   53.493456] RBP: ffff88802759f7f8 R08: 0000000000000000 R09: ffffed1004481998
[   53.493840] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.494221] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88802240ccc0
[   53.494601] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.495030] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.495343] CR2: 00007f730f24e1f0 CR3: 0000000030b3c005 CR4: 0000000000770ef0
[   53.495726] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.496109] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.496489] PKRU: 55555554
[   53.496643] Call Trace:
[   53.496786]  <TASK>
[   53.496913]  ? show_regs+0xa8/0xc0
[   53.497156]  ? die_addr+0x5d/0xf0
[   53.497353]  ? exc_general_protection+0x1ae/0x340
[   53.497620]  ? asm_exc_general_protection+0x2b/0x30
[   53.497898]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.498180]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.498469]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.498753]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.499035]  zap_huge_pmd+0x494/0xd40
[   53.499251]  unmap_page_range+0x1ad6/0x4320
[   53.499497]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.499779]  ? __pfx_unmap_page_range+0x10/0x10
[   53.500039]  unmap_single_vma+0x1ac/0x2d0
[   53.500269]  unmap_vmas+0x210/0x470
[   53.500562]  ? __pfx_unmap_vmas+0x10/0x10
[   53.500886]  ? __pfx_lock_release+0x10/0x10
[   53.501213]  ? lock_release+0x592/0x870
[   53.501427]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   53.501701]  ? __pfx_lock_release+0x10/0x10
[   53.501936]  ? mlock_drain_local+0x27f/0x4b0
[   53.502178]  exit_mmap+0x19e/0xb10
[   53.502374]  ? __pfx_exit_mmap+0x10/0x10
[   53.502596]  ? trace_hardirqs_on+0x51/0x60
[   53.502826]  ? __khugepaged_exit+0x266/0x4c0
[   53.503061]  ? kmem_cache_free+0x15d/0x420
[   53.503288]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.503573]  __mmput+0xd6/0x390
[   53.503753]  mmput+0x74/0x90
[   53.503915]  do_exit+0xa03/0x29f0
[   53.504102]  ? trace_hardirqs_on+0x51/0x60
[   53.504326]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.504648]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.504906]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.505162]  ? __pfx_do_exit+0x10/0x10
[   53.505367]  ? __audit_syscall_entry+0x39c/0x500
[   53.505616]  __x64_sys_exit+0x50/0x60
[   53.505820]  x64_sys_call+0x20c9/0x20d0
[   53.506029]  do_syscall_64+0x6d/0x140
[   53.506236]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.506507] RIP: 0033:0x7f730f23ee5d
[   53.506791] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.507244] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.507678] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.508031] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.508381] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.508732] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.509082] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.509437]  </TASK>
[   53.509558] Modules linked in:
[   53.509771] ---[ end trace 0000000000000000 ]---
[   53.510009] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.510303] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.511207] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   53.511475] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   53.511829] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   53.512180] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   53.512520] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.512861] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   53.513202] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.513598] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.513882] CR2: 00007f730f24e1f0 CR3: 0000000030b3c005 CR4: 0000000000770ef0
[   53.514226] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.514582] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.514934] PKRU: 55555554
[   53.515138] note: repro[15724] exited with preempt_count 1
[   53.515514] Fixing recursive fault but reboot is needed!
[   53.515935] BUG: scheduling while atomic: repro/15724/0x00000000
[   53.516475] INFO: lockdep is turned off.
[   53.516841] Modules linked in:
[   53.517096] Preemption disabled at:
[   53.517098] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   53.517537] CPU: 1 UID: 0 PID: 15724 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.517995] Tainted: [D]=DIE, [W]=WARN
[   53.518176] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.518694] Call Trace:
[   53.518817]  <TASK>
[   53.518926]  dump_stack_lvl+0x121/0x150
[   53.519122]  ? do_task_dead+0x28/0x110
[   53.519313]  dump_stack+0x19/0x20
[   53.519485]  __schedule_bug+0x12d/0x180
[   53.519682]  __schedule+0x210c/0x2eb0
[   53.519870]  ? rcu_is_watching+0x19/0xc0
[   53.520065]  ? lock_release+0x592/0x870
[   53.520256]  ? __pfx___schedule+0x10/0x10
[   53.520455]  ? debug_smp_processor_id+0x20/0x30
[   53.520986]  ? rcu_is_watching+0x19/0xc0
[   53.521185]  ? trace_irq_enable+0xe1/0x120
[   53.521389]  ? do_task_dead+0x4a/0x110
[   53.521578]  do_task_dead+0xe0/0x110
[   53.521768]  make_task_dead+0x384/0x3c0
[   53.521962]  rewind_stack_and_make_dead+0x16/0x20
[   53.522191] RIP: 0033:0x7f730f23ee5d
[   53.522368] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.522652] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.523000] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.523381] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.523833] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.524242] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.524931] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.525263]  </TASK>
[   53.944500] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#113] PREEMPT SMP KASAN NOPTI
[   53.945450] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.946022] CPU: 0 UID: 0 PID: 16065 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.946737] Tainted: [D]=DIE, [W]=WARN
[   53.947022] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.947852] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.948296] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.949589] RSP: 0018:ffff88802250f7d8 EFLAGS: 00010202
[   53.949986] RAX: dffffc0000000000 RBX: ffffea00009dcf80 RCX: ffffffff81b9e6e9
[   53.950510] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009dcf90
[   53.951020] RBP: ffff88802250f7f8 R08: 0000000000000000 R09: ffffed1001a0e350
[   53.951523] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.952026] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800d071a80
[   53.952526] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   53.953091] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.953500] CR2: 00007f730f29bc20 CR3: 0000000013640003 CR4: 0000000000770ef0
[   53.954006] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.954505] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.955007] PKRU: 55555554
[   53.955203] Call Trace:
[   53.955389]  <TASK>
[   53.955557]  ? show_regs+0xa8/0xc0
[   53.955830]  ? die_addr+0x5d/0xf0
[   53.956097]  ? exc_general_protection+0x1ae/0x340
[   53.956476]  ? asm_exc_general_protection+0x2b/0x30
[   53.956845]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.957211]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.957579]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.957950]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.958318]  zap_huge_pmd+0x494/0xd40
[   53.958592]  unmap_page_range+0x1ad6/0x4320
[   53.958912]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.959275]  ? __pfx_unmap_page_range+0x10/0x10
[   53.959609]  unmap_single_vma+0x1ac/0x2d0
[   53.959911]  unmap_vmas+0x210/0x470
[   53.960177]  ? __pfx_unmap_vmas+0x10/0x10
[   53.960468]  ? __pfx_lock_release+0x10/0x10
[   53.960773]  ? lock_release+0x592/0x870
[   53.961053]  ? mas_next_slot+0x133a/0x1a50
[   53.961353]  ? __pfx_lock_release+0x10/0x10
[   53.961681]  ? mlock_drain_local+0x27f/0x4b0
[   53.962020]  exit_mmap+0x19e/0xb10
[   53.962273]  ? __pfx_exit_mmap+0x10/0x10
[   53.962563]  ? trace_hardirqs_on+0x51/0x60
[   53.962864]  ? __khugepaged_exit+0x266/0x4c0
[   53.963164]  ? kmem_cache_free+0x15d/0x420
[   53.963453]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   53.963823]  __mmput+0xd6/0x390
[   53.964051]  mmput+0x74/0x90
[   53.964261]  do_exit+0xa03/0x29f0
[   53.964501]  ? trace_hardirqs_on+0x51/0x60
[   53.964789]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   53.965206]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   53.965538]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   53.965871]  ? __pfx_do_exit+0x10/0x10
[   53.966137]  ? __audit_syscall_entry+0x39c/0x500
[   53.966459]  __x64_sys_exit+0x50/0x60
[   53.966721]  x64_sys_call+0x20c9/0x20d0
[   53.966988]  do_syscall_64+0x6d/0x140
[   53.967252]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   53.967599] RIP: 0033:0x7f730f23ee5d
[   53.967850] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.968241] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   53.968718] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.969171] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.969622] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.970072] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.970519] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.970977]  </TASK>
[   53.971129] Modules linked in:
[   53.971532] ---[ end trace 0000000000000000 ]---
[   53.971840] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.972219] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.973362] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   53.973686] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   53.974305] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   53.974844] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   53.975275] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   53.975705] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   53.976133] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   53.976616] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.976632] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#114] PREEMPT SMP KASAN NOPTI
[   53.976971] CR2: 00007f730f29bc20 CR3: 0000000013640003 CR4: 0000000000770ef0
[   53.977470] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   53.977894] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.978200] CPU: 1 UID: 0 PID: 16073 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.978649] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.978995] Tainted: [D]=DIE, [W]=WARN
[   53.979397] PKRU: 55555554
[   53.979554] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.979807] note: repro[16065] exited with preempt_count 1
[   53.980269] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   53.980780] Fixing recursive fault but reboot is needed!
[   53.981102] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   53.981415] check_preemption_disabled: 14 callbacks suppressed
[   53.981422] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16065
[   53.982204] RSP: 0018:ffff88801056f7d8 EFLAGS: 00010202
[   53.982562] caller is debug_smp_processor_id+0x20/0x30
[   53.982981] 
[   53.982985] RAX: dffffc0000000000 RBX: ffffea0000707a40 RCX: ffffffff81b9e6e9
[   53.983309] CPU: 0 UID: 0 PID: 16065 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   53.983596] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000707a50
[   53.983708] Tainted: [D]=DIE, [W]=WARN
[   53.984000] RBP: ffff88801056f7f8 R08: 0000000000000000 R09: ffffed1001f6b6c0
[   53.984513] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   53.984807] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   53.985019] Call Trace:
[   53.985311] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800fb5b600
[   53.985957]  <TASK>
[   53.986268] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   53.986419]  dump_stack_lvl+0x121/0x150
[   53.986816] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   53.986951]  dump_stack+0x19/0x20
[   53.987400] CR2: 00007f88099a1000 CR3: 0000000030982001 CR4: 0000000000770ef0
[   53.987627]  check_preemption_disabled+0x168/0x180
[   53.987872] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   53.988064]  debug_smp_processor_id+0x20/0x30
[   53.988353] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   53.988612]  __schedule+0x9a/0x2eb0
[   53.988907] PKRU: 55555554
[   53.989146]  ? rcu_is_watching+0x19/0xc0
[   53.989470] Call Trace:
[   53.989663]  ? lock_release+0x592/0x870
[   53.989802]  <TASK>
[   53.990015]  ? __pfx___schedule+0x10/0x10
[   53.990139]  ? show_regs+0xa8/0xc0
[   53.990349]  ? debug_smp_processor_id+0x20/0x30
[   53.990443]  ? die_addr+0x5d/0xf0
[   53.990659]  ? rcu_is_watching+0x19/0xc0
[   53.990807]  ? exc_general_protection+0x1ae/0x340
[   53.991052]  ? trace_irq_enable+0xe1/0x120
[   53.991201]  ? asm_exc_general_protection+0x2b/0x30
[   53.991409]  ? do_task_dead+0x4a/0x110
[   53.991609]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   53.991830]  do_task_dead+0xe0/0x110
[   53.992035]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.992243]  make_task_dead+0x384/0x3c0
[   53.992457]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   53.992654]  rewind_stack_and_make_dead+0x16/0x20
[   53.992871]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   53.993075] RIP: 0033:0x7f730f23ee5d
[   53.993290]  zap_huge_pmd+0x494/0xd40
[   53.993537] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   53.993781]  unmap_page_range+0x1ad6/0x4320
[   53.993970] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   53.994157]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   53.994466]  ORIG_RAX: 000000000000003c
[   53.994646]  ? __pfx_unmap_page_range+0x10/0x10
[   53.994917] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   53.995135]  unmap_single_vma+0x1ac/0x2d0
[   53.995338] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   53.995534]  unmap_vmas+0x210/0x470
[   53.995894] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   53.996070]  ? __pfx_unmap_vmas+0x10/0x10
[   53.996696] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   53.996846]  ? __pfx_lock_release+0x10/0x10
[   53.997470] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   53.997639]  ? lock_release+0x592/0x870
[   53.998004]  </TASK>
[   53.998175]  ? mas_next_slot+0x133a/0x1a50
[   53.998986]  ? __pfx_lock_release+0x10/0x10
[   53.999228]  ? mlock_drain_local+0x27f/0x4b0
[   53.999511]  exit_mmap+0x19e/0xb10
[   53.999691]  ? __pfx_exit_mmap+0x10/0x10
[   53.999880]  ? trace_hardirqs_on+0x51/0x60
[   54.000074]  ? __khugepaged_exit+0x266/0x4c0
[   54.000271]  ? kmem_cache_free+0x15d/0x420
[   54.000463]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.000703]  __mmput+0xd6/0x390
[   54.000852]  mmput+0x74/0x90
[   54.001022]  do_exit+0xa03/0x29f0
[   54.001234]  ? trace_hardirqs_on+0x51/0x60
[   54.001487]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.001818]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.002063]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.002306]  ? __pfx_do_exit+0x10/0x10
[   54.002505]  ? __audit_syscall_entry+0x39c/0x500
[   54.002741]  __x64_sys_exit+0x50/0x60
[   54.002988]  x64_sys_call+0x20c9/0x20d0
[   54.003205]  do_syscall_64+0x6d/0x140
[   54.003488]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.003812] RIP: 0033:0x7f730f23ee5d
[   54.004034] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.004389] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.004748] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.005047] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.005346] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.005683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.006077] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.006384]  </TASK>
[   54.006488] Modules linked in:
[   54.006825] ---[ end trace 0000000000000000 ]---
[   54.007123] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.007486] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.007556] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#115] PREEMPT SMP KASAN NOPTI
[   54.008344] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.008925] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.009143] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.009494] CPU: 0 UID: 0 PID: 16093 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.009783] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.010224] Tainted: [D]=DIE, [W]=WARN
[   54.010593] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.010693] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.010993] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.011539] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.011862] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.012137] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.012533] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.014019] RSP: 0018:ffff88802742f7d8 EFLAGS: 00010202
[   54.014351] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.014595] RAX: dffffc0000000000 RBX: ffffea00007c5600 RCX: ffffffff81b9e6e9
[   54.014602] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007c5610
[   54.014608] RBP: ffff88802742f7f8 R08: 0000000000000000 R09: ffffed1003b00a24
[   54.014614] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.014619] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d805120
[   54.014625] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.014633] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.014639] CR2: 00007f88099a8000 CR3: 000000001dbf8005 CR4: 0000000000770ef0
[   54.014647] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.014652] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.014658] PKRU: 55555554
[   54.014661] Call Trace:
[   54.014665]  <TASK>
[   54.014670]  ? show_regs+0xa8/0xc0
[   54.014687]  ? die_addr+0x5d/0xf0
[   54.014699]  ? exc_general_protection+0x1ae/0x340
[   54.014942] CR2: 00007f88099a1000 CR3: 0000000030982001 CR4: 0000000000770ef0
[   54.015274]  ? asm_exc_general_protection+0x2b/0x30
[   54.015563] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.015902]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.016300] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.016623]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.016969] PKRU: 55555554
[   54.017228]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.017520] note: repro[16073] exited with preempt_count 1
[   54.017834]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.018126] Fixing recursive fault but reboot is needed!
[   54.018252]  zap_huge_pmd+0x494/0xd40
[   54.018360] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16073
[   54.018465]  unmap_page_range+0x1ad6/0x4320
[   54.018680] caller is debug_smp_processor_id+0x20/0x30
[   54.018771]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.018964] CPU: 1 UID: 0 PID: 16073 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.019277]  ? __pfx_unmap_page_range+0x10/0x10
[   54.019484] Tainted: [D]=DIE, [W]=WARN
[   54.019794]  unmap_single_vma+0x1ac/0x2d0
[   54.020002] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.020311]  unmap_vmas+0x210/0x470
[   54.020522] Call Trace:
[   54.020648]  ? __pfx_unmap_vmas+0x10/0x10
[   54.020859]  <TASK>
[   54.021096]  ? __pfx_lock_release+0x10/0x10
[   54.021311]  dump_stack_lvl+0x121/0x150
[   54.021539]  ? lock_release+0x592/0x870
[   54.021698]  dump_stack+0x19/0x20
[   54.022027]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.022204]  check_preemption_disabled+0x168/0x180
[   54.022427]  ? __pfx_lock_release+0x10/0x10
[   54.022636]  debug_smp_processor_id+0x20/0x30
[   54.023030]  ? mlock_drain_local+0x27f/0x4b0
[   54.023218]  __schedule+0x9a/0x2eb0
[   54.023382]  exit_mmap+0x19e/0xb10
[   54.023547]  ? rcu_is_watching+0x19/0xc0
[   54.024025]  ? __pfx_exit_mmap+0x10/0x10
[   54.024175]  ? lock_release+0x592/0x870
[   54.024295]  ? trace_hardirqs_on+0x51/0x60
[   54.024459]  ? __pfx___schedule+0x10/0x10
[   54.024559]  ? __khugepaged_exit+0x266/0x4c0
[   54.024734]  ? debug_smp_processor_id+0x20/0x30
[   54.024897]  ? kmem_cache_free+0x15d/0x420
[   54.025060]  ? rcu_is_watching+0x19/0xc0
[   54.025208]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.025411]  ? trace_irq_enable+0xe1/0x120
[   54.025615]  __mmput+0xd6/0x390
[   54.025790]  ? do_task_dead+0x4a/0x110
[   54.025973]  mmput+0x74/0x90
[   54.026152]  do_task_dead+0xe0/0x110
[   54.026300]  do_exit+0xa03/0x29f0
[   54.026446]  make_task_dead+0x384/0x3c0
[   54.026610]  ? trace_hardirqs_on+0x51/0x60
[   54.026782]  rewind_stack_and_make_dead+0x16/0x20
[   54.026942]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.027114] RIP: 0033:0x7f730f23ee5d
[   54.027281]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.027462] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.027649]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.027822] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.027992]  ? __pfx_do_exit+0x10/0x10
[   54.028214]  ORIG_RAX: 000000000000003c
[   54.028388]  ? __audit_syscall_entry+0x39c/0x500
[   54.028521] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.028863]  __x64_sys_exit+0x50/0x60
[   54.028994] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.029318]  x64_sys_call+0x20c9/0x20d0
[   54.029468] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.029815]  do_syscall_64+0x6d/0x140
[   54.029995] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.030192]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.030449] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.030602] RIP: 0033:0x7f730f23ee5d
[   54.030813]  </TASK>
[   54.031060] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.034643] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.034965] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.035259] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.035555] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.035852] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.036160] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.036473]  </TASK>
[   54.036575] Modules linked in:
[   54.036866] ---[ end trace 0000000000000000 ]---
[   54.037081] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.037341] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.037848] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#116] PREEMPT SMP KASAN NOPTI
[   54.038126] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.038630] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.038640] CPU: 1 UID: 0 PID: 16113 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.038652] Tainted: [D]=DIE, [W]=WARN
[   54.038655] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.038661] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.038677] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.038685] RSP: 0018:ffff88802265f7d8 EFLAGS: 00010202
[   54.038692] RAX: dffffc0000000000 RBX: ffffea0000855b40 RCX: ffffffff81b9e6e9
[   54.038698] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000855b50
[   54.038703] RBP: ffff88802265f7f8 R08: 0000000000000000 R09: ffffed1002537f08
[   54.038921] 
[   54.039226] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.039609] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.039769] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880129bf840
[   54.040233] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.040469] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.041212] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.041426] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.041720] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.042011] CR2: 00007f88099af000 CR3: 0000000022738002 CR4: 0000000000770ef0
[   54.042309] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.042381] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.042739] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.042962] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.043252] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.043541] PKRU: 55555554
[   54.043544] Call Trace:
[   54.043547]  <TASK>
[   54.043551]  ? show_regs+0xa8/0xc0
[   54.043564]  ? die_addr+0x5d/0xf0
[   54.043575]  ? exc_general_protection+0x1ae/0x340
[   54.043591]  ? asm_exc_general_protection+0x2b/0x30
[   54.043928] CR2: 00007f88099a8000 CR3: 000000001dbf8005 CR4: 0000000000770ef0
[   54.044227]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.044462] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.044753]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.045346] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.045638]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.046265] PKRU: 55555554
[   54.046592]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.046604]  zap_huge_pmd+0x494/0xd40
[   54.046618]  unmap_page_range+0x1ad6/0x4320
[   54.046636]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.046648]  ? __pfx_unmap_page_range+0x10/0x10
[   54.046946] note: repro[16093] exited with preempt_count 1
[   54.047185]  unmap_single_vma+0x1ac/0x2d0
[   54.047297] Fixing recursive fault but reboot is needed!
[   54.047407]  unmap_vmas+0x210/0x470
[   54.047499] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16093
[   54.047647]  ? __pfx_unmap_vmas+0x10/0x10
[   54.047801] caller is debug_smp_processor_id+0x20/0x30
[   54.047996]  ? __pfx_lock_release+0x10/0x10
[   54.048214] CPU: 0 UID: 0 PID: 16093 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.048502]  ? lock_release+0x592/0x870
[   54.048718] Tainted: [D]=DIE, [W]=WARN
[   54.049005]  ? mas_next_slot+0x133a/0x1a50
[   54.049216] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.049507]  ? __pfx_lock_release+0x10/0x10
[   54.049720] Call Trace:
[   54.049839]  ? mlock_drain_local+0x27f/0x4b0
[   54.050049]  <TASK>
[   54.050208]  exit_mmap+0x19e/0xb10
[   54.050387]  dump_stack_lvl+0x121/0x150
[   54.050598]  ? __pfx_exit_mmap+0x10/0x10
[   54.050791]  dump_stack+0x19/0x20
[   54.051017]  ? trace_hardirqs_on+0x51/0x60
[   54.051180]  check_preemption_disabled+0x168/0x180
[   54.051400]  ? __khugepaged_exit+0x266/0x4c0
[   54.051555]  debug_smp_processor_id+0x20/0x30
[   54.051871]  ? kmem_cache_free+0x15d/0x420
[   54.052042]  __schedule+0x9a/0x2eb0
[   54.052255]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.052429]  ? rcu_is_watching+0x19/0xc0
[   54.052813]  __mmput+0xd6/0x390
[   54.052978]  ? lock_release+0x592/0x870
[   54.053194]  mmput+0x74/0x90
[   54.053367]  ? __pfx___schedule+0x10/0x10
[   54.053865]  do_exit+0xa03/0x29f0
[   54.054047]  ? debug_smp_processor_id+0x20/0x30
[   54.054151]  ? trace_hardirqs_on+0x51/0x60
[   54.054340]  ? rcu_is_watching+0x19/0xc0
[   54.054435]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.054580]  ? trace_irq_enable+0xe1/0x120
[   54.054743]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.054913]  ? do_task_dead+0x4a/0x110
[   54.055052]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.055224]  do_task_dead+0xe0/0x110
[   54.055422]  ? __pfx_do_exit+0x10/0x10
[   54.055608]  make_task_dead+0x384/0x3c0
[   54.055791]  ? __audit_syscall_entry+0x39c/0x500
[   54.055973]  rewind_stack_and_make_dead+0x16/0x20
[   54.056122]  __x64_sys_exit+0x50/0x60
[   54.056346] RIP: 0033:0x7f730f23ee5d
[   54.056512]  x64_sys_call+0x20c9/0x20d0
[   54.056647] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.056812]  do_syscall_64+0x6d/0x140
[   54.056949] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.057117]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.057258]  ORIG_RAX: 000000000000003c
[   54.057447] RIP: 0033:0x7f730f23ee5d
[   54.057618] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.057784] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.058041] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.058212] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.058414] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.058571]  ORIG_RAX: 000000000000003c
[   54.058776] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.058928] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.059086] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.059248] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.059447]  </TASK>
[   54.059637] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.064331] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.064629] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.064934]  </TASK>
[   54.065035] Modules linked in:
[   54.065223] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#117] PREEMPT SMP KASAN NOPTI
[   54.065252] ---[ end trace 0000000000000000 ]---
[   54.065749] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.065943] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.066251] CPU: 0 UID: 0 PID: 16125 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.066496] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.066877] Tainted: [D]=DIE, [W]=WARN
[   54.067621] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.067785] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.068004] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.068464] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.068758] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.069003] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.069293] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.070036] RSP: 0018:ffff888030ae77d8 EFLAGS: 00010202
[   54.070328] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.070549] RAX: dffffc0000000000 RBX: ffffea0000854e80 RCX: ffffffff81b9e6e9
[   54.070555] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000854e90
[   54.070851] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.071152] RBP: ffff888030ae77f8 R08: 0000000000000000 R09: ffffed1002831f20
[   54.071444] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.071742] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.072034] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.072360] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801418f900
[   54.072651] CR2: 00007f88099af000 CR3: 0000000022738002 CR4: 0000000000770ef0
[   54.072889] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.073182] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.073471] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.073800] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.074091] CR2: 00007f730f52b000 CR3: 0000000011e74006 CR4: 0000000000770ef0
[   54.074328] PKRU: 55555554
[   54.074625] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.074631] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.074929] note: repro[16113] exited with preempt_count 1
[   54.075048] PKRU: 55555554
[   54.075348] Fixing recursive fault but reboot is needed!
[   54.075630] Call Trace:
[   54.075858] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16113
[   54.075979]  <TASK>
[   54.076196] caller is debug_smp_processor_id+0x20/0x30
[   54.076307]  ? show_regs+0xa8/0xc0
[   54.076623] CPU: 1 UID: 0 PID: 16113 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.076720]  ? die_addr+0x5d/0xf0
[   54.076934] Tainted: [D]=DIE, [W]=WARN
[   54.077079]  ? exc_general_protection+0x1ae/0x340
[   54.077469] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.077618]  ? asm_exc_general_protection+0x2b/0x30
[   54.077773] Call Trace:
[   54.078005]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.078460]  <TASK>
[   54.078823]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.078931]  dump_stack_lvl+0x121/0x150
[   54.079171]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.079265]  dump_stack+0x19/0x20
[   54.079477]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.079637]  check_preemption_disabled+0x168/0x180
[   54.079858]  zap_huge_pmd+0x494/0xd40
[   54.080000]  debug_smp_processor_id+0x20/0x30
[   54.080218]  unmap_page_range+0x1ad6/0x4320
[   54.080414]  __schedule+0x9a/0x2eb0
[   54.080577]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.080755]  ? rcu_is_watching+0x19/0xc0
[   54.080932]  ? __pfx_unmap_page_range+0x10/0x10
[   54.081079]  ? lock_release+0x592/0x870
[   54.081292]  unmap_single_vma+0x1ac/0x2d0
[   54.081452]  ? __pfx___schedule+0x10/0x10
[   54.081644]  unmap_vmas+0x210/0x470
[   54.081806]  ? debug_smp_processor_id+0x20/0x30
[   54.081975]  ? __pfx_unmap_vmas+0x10/0x10
[   54.082139]  ? rcu_is_watching+0x19/0xc0
[   54.082287]  ? __pfx_lock_release+0x10/0x10
[   54.082477]  ? trace_irq_enable+0xe1/0x120
[   54.082643]  ? lock_release+0x592/0x870
[   54.082811]  ? do_task_dead+0x4a/0x110
[   54.082985]  ? mas_next_slot+0x133a/0x1a50
[   54.083156]  do_task_dead+0xe0/0x110
[   54.083317]  ? __pfx_lock_release+0x10/0x10
[   54.083475]  make_task_dead+0x384/0x3c0
[   54.083648]  ? mlock_drain_local+0x27f/0x4b0
[   54.083799]  rewind_stack_and_make_dead+0x16/0x20
[   54.083976]  exit_mmap+0x19e/0xb10
[   54.084134] RIP: 0033:0x7f730f23ee5d
[   54.084316]  ? __pfx_exit_mmap+0x10/0x10
[   54.084509] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.084658]  ? trace_hardirqs_on+0x51/0x60
[   54.084807] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.084976]  ? __khugepaged_exit+0x266/0x4c0
[   54.085226]  ORIG_RAX: 000000000000003c
[   54.085398]  ? kmem_cache_free+0x15d/0x420
[   54.085613] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.085796]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.085955] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.086127]  __mmput+0xd6/0x390
[   54.086481] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.086712]  mmput+0x74/0x90
[   54.087011] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.087152]  do_exit+0xa03/0x29f0
[   54.087443] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.087576]  ? trace_hardirqs_on+0x51/0x60
[   54.087877]  </TASK>
[   54.088016]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.088836]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.089049]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.089262]  ? __pfx_do_exit+0x10/0x10
[   54.089433]  ? __audit_syscall_entry+0x39c/0x500
[   54.089641]  __x64_sys_exit+0x50/0x60
[   54.089810]  x64_sys_call+0x20c9/0x20d0
[   54.089981]  do_syscall_64+0x6d/0x140
[   54.090151]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.090372] RIP: 0033:0x7f730f23ee5d
[   54.090531] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.090792] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.091107] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.091404] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.091702] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.091998] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.092296] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.092598]  </TASK>
[   54.092702] Modules linked in:
[   54.092874] ---[ end trace 0000000000000000 ]---
[   54.093073] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.093324] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.094084] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.094720] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.095366] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.095833] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.096143] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.096449] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.096750] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.097087] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.097330] CR2: 00007f730f52b000 CR3: 0000000011e74006 CR4: 0000000000770ef0
[   54.097630] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.097931] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.098229] PKRU: 55555554
[   54.098351] note: repro[16125] exited with preempt_count 1
[   54.098634] Fixing recursive fault but reboot is needed!
[   54.098861] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16125
[   54.099187] caller is debug_smp_processor_id+0x20/0x30
[   54.099415] CPU: 0 UID: 0 PID: 16125 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.099815] Tainted: [D]=DIE, [W]=WARN
[   54.099978] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.100445] Call Trace:
[   54.100557]  <TASK>
[   54.100656]  dump_stack_lvl+0x121/0x150
[   54.100836]  dump_stack+0x19/0x20
[   54.100991]  check_preemption_disabled+0x168/0x180
[   54.101203]  debug_smp_processor_id+0x20/0x30
[   54.101398]  __schedule+0x9a/0x2eb0
[   54.101557]  ? rcu_is_watching+0x19/0xc0
[   54.101735]  ? lock_release+0x592/0x870
[   54.101907]  ? __pfx___schedule+0x10/0x10
[   54.102085]  ? debug_smp_processor_id+0x20/0x30
[   54.102285]  ? rcu_is_watching+0x19/0xc0
[   54.102459]  ? trace_irq_enable+0xe1/0x120
[   54.102649]  ? do_task_dead+0x4a/0x110
[   54.102824]  do_task_dead+0xe0/0x110
[   54.102991]  make_task_dead+0x384/0x3c0
[   54.103167]  rewind_stack_and_make_dead+0x16/0x20
[   54.103373] RIP: 0033:0x7f730f23ee5d
[   54.103532] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.103791] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.104109] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.104406] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.104705] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.105002] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.105299] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.105602]  </TASK>
[   54.105713] BUG: scheduling while atomic: repro/16125/0x00000000
[   54.105969] INFO: lockdep is turned off.
[   54.106137] Modules linked in:
[   54.106275] Preemption disabled at:
[   54.106277] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.106289] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#118] PREEMPT SMP KASAN NOPTI
[   54.106443] CPU: 0 UID: 0 PID: 16125 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.106686] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.107171] Tainted: [D]=DIE, [W]=WARN
[   54.107550] CPU: 1 UID: 0 PID: 16129 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.107858] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.108017] Tainted: [D]=DIE, [W]=WARN
[   54.108399] Call Trace:
[   54.108856] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.109016]  <TASK>
[   54.109122] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.109584]  dump_stack_lvl+0x121/0x150
[   54.109678] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.109921]  ? do_task_dead+0x28/0x110
[   54.110081] RSP: 0018:ffff88800f95f7d8 EFLAGS: 00010202
[   54.110932]  dump_stack+0x19/0x20
[   54.111088] 
[   54.111345]  __schedule_bug+0x12d/0x180
[   54.111486] RAX: dffffc0000000000 RBX: ffffea0000c25100 RCX: ffffffff81b9e6e9
[   54.111559]  __schedule+0x210c/0x2eb0
[   54.111719] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c25110
[   54.112019]  ? rcu_is_watching+0x19/0xc0
[   54.112214] RBP: ffff88800f95f7f8 R08: 0000000000000000 R09: ffffed10022b8720
[   54.112507]  ? lock_release+0x592/0x870
[   54.112692] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.112986]  ? __pfx___schedule+0x10/0x10
[   54.113146] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880115c3900
[   54.113440]  ? debug_smp_processor_id+0x20/0x30
[   54.113605] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.113898]  ? rcu_is_watching+0x19/0xc0
[   54.114087] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.114415]  ? trace_irq_enable+0xe1/0x120
[   54.114578] CR2: 00007f88099ee000 CR3: 000000001faea005 CR4: 0000000000770ef0
[   54.114819]  ? do_task_dead+0x4a/0x110
[   54.114990] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.115292]  do_task_dead+0xe0/0x110
[   54.115448] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.115754]  make_task_dead+0x384/0x3c0
[   54.115905] PKRU: 55555554
[   54.116200]  rewind_stack_and_make_dead+0x16/0x20
[   54.116360] Call Trace:
[   54.116477] RIP: 0033:0x7f730f23ee5d
[   54.116676]  <TASK>
[   54.116782] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.116935]  ? show_regs+0xa8/0xc0
[   54.117029] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.117283]  ? die_addr+0x5d/0xf0
[   54.117426]  ORIG_RAX: 000000000000003c
[   54.117643]  ? exc_general_protection+0x1ae/0x340
[   54.117786] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.117954]  ? asm_exc_general_protection+0x2b/0x30
[   54.118145] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.118439]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.118637] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.118930]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.119141] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.119434]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.119645] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.119938]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.120155]  </TASK>
[   54.120442]  zap_huge_pmd+0x494/0xd40
[   54.120910]  unmap_page_range+0x1ad6/0x4320
[   54.121105]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.121328]  ? __pfx_unmap_page_range+0x10/0x10
[   54.121545]  unmap_single_vma+0x1ac/0x2d0
[   54.121734]  unmap_vmas+0x210/0x470
[   54.121901]  ? __pfx_unmap_vmas+0x10/0x10
[   54.122083]  ? __pfx_lock_release+0x10/0x10
[   54.122270]  ? lock_release+0x592/0x870
[   54.122444]  ? mas_next_slot+0x133a/0x1a50
[   54.122633]  ? __pfx_lock_release+0x10/0x10
[   54.122823]  ? mlock_drain_local+0x27f/0x4b0
[   54.123018]  exit_mmap+0x19e/0xb10
[   54.123181]  ? __pfx_exit_mmap+0x10/0x10
[   54.123364]  ? trace_hardirqs_on+0x51/0x60
[   54.123556]  ? __khugepaged_exit+0x266/0x4c0
[   54.123751]  ? kmem_cache_free+0x15d/0x420
[   54.123939]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.124176]  __mmput+0xd6/0x390
[   54.124324]  mmput+0x74/0x90
[   54.124461]  do_exit+0xa03/0x29f0
[   54.124618]  ? trace_hardirqs_on+0x51/0x60
[   54.124854]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.125167]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.125456]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.125701]  ? __pfx_do_exit+0x10/0x10
[   54.125876]  ? __audit_syscall_entry+0x39c/0x500
[   54.126092]  __x64_sys_exit+0x50/0x60
[   54.126264]  x64_sys_call+0x20c9/0x20d0
[   54.126443]  do_syscall_64+0x6d/0x140
[   54.126615]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.126843] RIP: 0033:0x7f730f23ee5d
[   54.127006] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.127265] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.127587] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.127890] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.128190] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.128489] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.128787] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.129091]  </TASK>
[   54.129192] Modules linked in:
[   54.129383] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#119] PREEMPT SMP KASAN NOPTI
[   54.129402] ---[ end trace 0000000000000000 ]---
[   54.129407] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.129905] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.130102] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.130341] CPU: 0 UID: 0 PID: 16181 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.130657] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.131394] Tainted: [D]=DIE, [W]=WARN
[   54.131784] 
[   54.131999] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.132159] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.132231] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.132698] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.132990] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.133347] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.133637] RSP: 0018:ffff888013bd77d8 EFLAGS: 00010202
[   54.134442] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.134735] 
[   54.134738] RAX: dffffc0000000000 RBX: ffffea000063e140 RCX: ffffffff81b9e6e9
[   54.134743] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000063e150
[   54.134967] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.135256] RBP: ffff888013bd77f8 R08: 0000000000000000 R09: ffffed10044f88fc
[   54.135330] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.135619] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.135916] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.136206] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880227c47e0
[   54.136502] CR2: 00007f88099ee000 CR3: 000000001faea005 CR4: 0000000000770ef0
[   54.136831] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.137129] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.137363] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.137661] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.138057] CR2: 00007f730f24e1f0 CR3: 0000000030820002 CR4: 0000000000770ef0
[   54.138391] PKRU: 55555554
[   54.138993] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.139000] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.139005] PKRU: 55555554
[   54.139249] note: repro[16129] exited with preempt_count 1
[   54.139644] Call Trace:
[   54.139940] Fixing recursive fault but reboot is needed!
[   54.140098]  <TASK>
[   54.140392] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16129
[   54.140790]  ? show_regs+0xa8/0xc0
[   54.140907] caller is debug_smp_processor_id+0x20/0x30
[   54.141213]  ? die_addr+0x5d/0xf0
[   54.141323] CPU: 1 UID: 0 PID: 16129 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.141618]  ? exc_general_protection+0x1ae/0x340
[   54.141719] Tainted: [D]=DIE, [W]=WARN
[   54.142150]  ? asm_exc_general_protection+0x2b/0x30
[   54.142292] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.142637]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.142787] Call Trace:
[   54.143316]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.143515]  <TASK>
[   54.143725]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.143930]  dump_stack_lvl+0x121/0x150
[   54.144560]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.144776]  dump_stack+0x19/0x20
[   54.144920]  zap_huge_pmd+0x494/0xd40
[   54.145136]  check_preemption_disabled+0x168/0x180
[   54.145267]  unmap_page_range+0x1ad6/0x4320
[   54.145482]  debug_smp_processor_id+0x20/0x30
[   54.145714]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.145917]  __schedule+0x9a/0x2eb0
[   54.146192]  ? __pfx_unmap_page_range+0x10/0x10
[   54.146347]  ? rcu_is_watching+0x19/0xc0
[   54.146701]  unmap_single_vma+0x1ac/0x2d0
[   54.146873]  ? lock_release+0x592/0x870
[   54.147125]  unmap_vmas+0x210/0x470
[   54.147335]  ? __pfx___schedule+0x10/0x10
[   54.147540]  ? __pfx_unmap_vmas+0x10/0x10
[   54.147731]  ? debug_smp_processor_id+0x20/0x30
[   54.147953]  ? __pfx_lock_release+0x10/0x10
[   54.148122]  ? rcu_is_watching+0x19/0xc0
[   54.148341]  ? lock_release+0x592/0x870
[   54.148491]  ? trace_irq_enable+0xe1/0x120
[   54.148720]  ? mas_next_slot+0x133a/0x1a50
[   54.148890]  ? do_task_dead+0x4a/0x110
[   54.149148]  ? __pfx_lock_release+0x10/0x10
[   54.149327]  do_task_dead+0xe0/0x110
[   54.149552]  ? mlock_drain_local+0x27f/0x4b0
[   54.149717]  make_task_dead+0x384/0x3c0
[   54.149955]  exit_mmap+0x19e/0xb10
[   54.150125]  rewind_stack_and_make_dead+0x16/0x20
[   54.150353]  ? __pfx_exit_mmap+0x10/0x10
[   54.150528] RIP: 0033:0x7f730f23ee5d
[   54.150742]  ? trace_hardirqs_on+0x51/0x60
[   54.150917] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.151139]  ? __khugepaged_exit+0x266/0x4c0
[   54.151282] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.151551]  ? kmem_cache_free+0x15d/0x420
[   54.151719]  ORIG_RAX: 000000000000003c
[   54.151929]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.152099] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.152588]  __mmput+0xd6/0x390
[   54.152771] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.153088]  mmput+0x74/0x90
[   54.153258] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.153478]  do_exit+0xa03/0x29f0
[   54.153701] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.154092]  ? trace_hardirqs_on+0x51/0x60
[   54.154228] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.154619]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.154751]  </TASK>
[   54.155142]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.157227]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.157723]  ? __pfx_do_exit+0x10/0x10
[   54.158035]  ? __audit_syscall_entry+0x39c/0x500
[   54.158252]  __x64_sys_exit+0x50/0x60
[   54.158422]  x64_sys_call+0x20c9/0x20d0
[   54.158596]  do_syscall_64+0x6d/0x140
[   54.158773]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.159004] RIP: 0033:0x7f730f23ee5d
[   54.159168] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.159425] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.159748] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.160047] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.160345] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.160657] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.160969] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.161285]  </TASK>
[   54.161388] Modules linked in:
[   54.161627] ---[ end trace 0000000000000000 ]---
[   54.161715] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#120] PREEMPT SMP KASAN NOPTI
[   54.161834] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.162327] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.162592] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.162877] CPU: 1 UID: 0 PID: 16165 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.163620] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.164005] Tainted: [D]=DIE, [W]=WARN
[   54.164223] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.164379] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.164732] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.165242] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.165548] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.165786] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.166078] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.166821] RSP: 0018:ffff8880308cf7d8 EFLAGS: 00010202
[   54.166829] RAX: dffffc0000000000 RBX: ffffea0000c21080 RCX: ffffffff81b9e6e9
[   54.167128] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.167343] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c21090
[   54.167634] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.167924] RBP: ffff8880308cf7f8 R08: 0000000000000000 R09: ffffed1003b34944
[   54.168217] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.168542] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.168838] CR2: 00007f730f24e1f0 CR3: 0000000030820002 CR4: 0000000000770ef0
[   54.169075] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d9a4a20
[   54.169367] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.169657] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.169952] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.170242] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.170578] PKRU: 55555554
[   54.170862] CR2: 00007f88099ee000 CR3: 0000000021482001 CR4: 0000000000770ef0
[   54.171102] note: repro[16181] exited with preempt_count 1
[   54.171220] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.171510] Fixing recursive fault but reboot is needed!
[   54.171738] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.172039] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16181
[   54.172257] PKRU: 55555554
[   54.172564] caller is debug_smp_processor_id+0x20/0x30
[   54.172881] Call Trace:
[   54.173005] CPU: 0 UID: 0 PID: 16181 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.173216]  <TASK>
[   54.173326] Tainted: [D]=DIE, [W]=WARN
[   54.173710]  ? show_regs+0xa8/0xc0
[   54.173813] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.173972]  ? die_addr+0x5d/0xf0
[   54.174117] Call Trace:
[   54.174576]  ? exc_general_protection+0x1ae/0x340
[   54.174727]  <TASK>
[   54.174840]  ? asm_exc_general_protection+0x2b/0x30
[   54.175034]  dump_stack_lvl+0x121/0x150
[   54.175130]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.175335]  dump_stack+0x19/0x20
[   54.175496]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.175711]  check_preemption_disabled+0x168/0x180
[   54.175854]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.176181]  debug_smp_processor_id+0x20/0x30
[   54.176378]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.176716]  __schedule+0x9a/0x2eb0
[   54.176900]  zap_huge_pmd+0x494/0xd40
[   54.177232]  ? rcu_is_watching+0x19/0xc0
[   54.177381]  unmap_page_range+0x1ad6/0x4320
[   54.177616]  ? lock_release+0x592/0x870
[   54.177788]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.177956]  ? __pfx___schedule+0x10/0x10
[   54.178118]  ? __pfx_unmap_page_range+0x10/0x10
[   54.178327]  ? debug_smp_processor_id+0x20/0x30
[   54.178497]  unmap_single_vma+0x1ac/0x2d0
[   54.178686]  ? rcu_is_watching+0x19/0xc0
[   54.178877]  unmap_vmas+0x210/0x470
[   54.179044]  ? trace_irq_enable+0xe1/0x120
[   54.179211]  ? __pfx_unmap_vmas+0x10/0x10
[   54.179358]  ? do_task_dead+0x4a/0x110
[   54.179528]  ? __pfx_lock_release+0x10/0x10
[   54.179700]  do_task_dead+0xe0/0x110
[   54.179859]  ? lock_release+0x592/0x870
[   54.180036]  make_task_dead+0x384/0x3c0
[   54.180187]  ? mas_next_slot+0x133a/0x1a50
[   54.180350]  rewind_stack_and_make_dead+0x16/0x20
[   54.180510]  ? __pfx_lock_release+0x10/0x10
[   54.180685] RIP: 0033:0x7f730f23ee5d
[   54.180885]  ? mlock_drain_local+0x27f/0x4b0
[   54.181056] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.181211]  exit_mmap+0x19e/0xb10
[   54.181386] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   54.181643]  ? __pfx_exit_mmap+0x10/0x10
[   54.181788]  ORIG_RAX: 000000000000003c
[   54.182009]  ? trace_hardirqs_on+0x51/0x60
[   54.182170] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.182334]  ? __khugepaged_exit+0x266/0x4c0
[   54.182503] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.182797]  ? kmem_cache_free+0x15d/0x420
[   54.182977] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.183270]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.183438] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.183734]  __mmput+0xd6/0x390
[   54.183955] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.184248]  mmput+0x74/0x90
[   54.184397]  </TASK>
[   54.184682]  do_exit+0xa03/0x29f0
[   54.185054]  ? trace_hardirqs_on+0x51/0x60
[   54.185239]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.185506]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.185721]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.185931]  ? __pfx_do_exit+0x10/0x10
[   54.186101]  ? __audit_syscall_entry+0x39c/0x500
[   54.186308]  __x64_sys_exit+0x50/0x60
[   54.186475]  x64_sys_call+0x20c9/0x20d0
[   54.186648]  do_syscall_64+0x6d/0x140
[   54.186817]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.187039] RIP: 0033:0x7f730f23ee5d
[   54.187198] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.187456] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.187775] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.188071] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.188367] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.188662] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.188958] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.189261]  </TASK>
[   54.189362] Modules linked in:
[   54.189600] ---[ end trace 0000000000000000 ]---
[   54.189806] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.190059] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.190914] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.191142] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.191441] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.191747] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.192046] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.192345] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.192643] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.192981] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.193225] CR2: 00007f88099ee000 CR3: 0000000021482001 CR4: 0000000000770ef0
[   54.193526] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.193827] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.194132] PKRU: 55555554
[   54.194260] note: repro[16165] exited with preempt_count 1
[   54.194553] Fixing recursive fault but reboot is needed!
[   54.194783] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16165
[   54.195111] caller is debug_smp_processor_id+0x20/0x30
[   54.195426] CPU: 1 UID: 0 PID: 16165 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.195833] Tainted: [D]=DIE, [W]=WARN
[   54.195996] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.196464] Call Trace:
[   54.196575]  <TASK>
[   54.196675]  dump_stack_lvl+0x121/0x150
[   54.196851]  dump_stack+0x19/0x20
[   54.197005]  check_preemption_disabled+0x168/0x180
[   54.197214]  debug_smp_processor_id+0x20/0x30
[   54.197407]  __schedule+0x9a/0x2eb0
[   54.197566]  ? rcu_is_watching+0x19/0xc0
[   54.197745]  ? lock_release+0x592/0x870
[   54.197917]  ? __pfx___schedule+0x10/0x10
[   54.198095]  ? debug_smp_processor_id+0x20/0x30
[   54.198295]  ? rcu_is_watching+0x19/0xc0
[   54.198470]  ? trace_irq_enable+0xe1/0x120
[   54.198658]  ? do_task_dead+0x4a/0x110
[   54.198833]  do_task_dead+0xe0/0x110
[   54.198998]  make_task_dead+0x384/0x3c0
[   54.199172]  rewind_stack_and_make_dead+0x16/0x20
[   54.199379] RIP: 0033:0x7f730f23ee5d
[   54.199539] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.199801] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.200119] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.200416] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.200715] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.201012] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.201309] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.201613]  </TASK>
[   54.201777] BUG: scheduling while atomic: repro/16165/0x00000000
[   54.202034] INFO: lockdep is turned off.
[   54.202203] Modules linked in:
[   54.202340] Preemption disabled at:
[   54.202342] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.202778] CPU: 1 UID: 0 PID: 16165 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.203177] Tainted: [D]=DIE, [W]=WARN
[   54.203339] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.203810] Call Trace:
[   54.203923]  <TASK>
[   54.204021]  dump_stack_lvl+0x121/0x150
[   54.204198]  ? do_task_dead+0x28/0x110
[   54.204370]  dump_stack+0x19/0x20
[   54.204525]  __schedule_bug+0x12d/0x180
[   54.204704]  __schedule+0x210c/0x2eb0
[   54.204870]  ? rcu_is_watching+0x19/0xc0
[   54.205044]  ? lock_release+0x592/0x870
[   54.205218]  ? __pfx___schedule+0x10/0x10
[   54.205397]  ? debug_smp_processor_id+0x20/0x30
[   54.205599]  ? rcu_is_watching+0x19/0xc0
[   54.205775]  ? trace_irq_enable+0xe1/0x120
[   54.205962]  ? do_task_dead+0x4a/0x110
[   54.206135]  do_task_dead+0xe0/0x110
[   54.206301]  make_task_dead+0x384/0x3c0
[   54.206477]  rewind_stack_and_make_dead+0x16/0x20
[   54.206688] RIP: 0033:0x7f730f23ee5d
[   54.206846] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.207105] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.207422] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.207723] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.208027] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.208325] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.208624] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.208930]  </TASK>
[   54.421901] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#121] PREEMPT SMP KASAN NOPTI
[   54.423035] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.423580] CPU: 1 UID: 0 PID: 16252 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.424129] Tainted: [D]=DIE, [W]=WARN
[   54.424454] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.425094] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.425521] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.426545] RSP: 0018:ffff8880276377d8 EFLAGS: 00010202
[   54.426934] RAX: dffffc0000000000 RBX: ffffea0000858a40 RCX: ffffffff81b9e6e9
[   54.427401] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000858a50
[   54.427814] RBP: ffff8880276377f8 R08: 0000000000000000 R09: ffffed1002c33ee4
[   54.428294] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.428695] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801619f720
[   54.429186] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.429631] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.429954] CR2: 00007f730f52b000 CR3: 0000000026054006 CR4: 0000000000770ef0
[   54.430360] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.430870] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.431269] PKRU: 55555554
[   54.431539] Call Trace:
[   54.431686]  <TASK>
[   54.431816]  ? show_regs+0xa8/0xc0
[   54.432023]  ? die_addr+0x5d/0xf0
[   54.432226]  ? exc_general_protection+0x1ae/0x340
[   54.432591]  ? asm_exc_general_protection+0x2b/0x30
[   54.432881]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.433181]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.433580]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.433881]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.434291]  zap_huge_pmd+0x494/0xd40
[   54.434575]  unmap_page_range+0x1ad6/0x4320
[   54.434829]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.435147]  ? __pfx_unmap_page_range+0x10/0x10
[   54.435485]  unmap_single_vma+0x1ac/0x2d0
[   54.435722]  unmap_vmas+0x210/0x470
[   54.435941]  ? __pfx_unmap_vmas+0x10/0x10
[   54.436318]  ? __pfx_lock_release+0x10/0x10
[   54.436561]  ? lock_release+0x592/0x870
[   54.436788]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.437214]  ? __pfx_lock_release+0x10/0x10
[   54.437459]  ? mlock_drain_local+0x27f/0x4b0
[   54.437727]  exit_mmap+0x19e/0xb10
[   54.438025]  ? __pfx_exit_mmap+0x10/0x10
[   54.438268]  ? trace_hardirqs_on+0x51/0x60
[   54.438518]  ? __khugepaged_exit+0x266/0x4c0
[   54.438887]  ? kmem_cache_free+0x15d/0x420
[   54.439131]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.439437]  __mmput+0xd6/0x390
[   54.439735]  mmput+0x74/0x90
[   54.439911]  do_exit+0xa03/0x29f0
[   54.440110]  ? trace_hardirqs_on+0x51/0x60
[   54.440353]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.440730]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.441097]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.441344]  ? __pfx_do_exit+0x10/0x10
[   54.441540]  ? __audit_syscall_entry+0x39c/0x500
[   54.441777]  __x64_sys_exit+0x50/0x60
[   54.441966]  x64_sys_call+0x20c9/0x20d0
[   54.442186]  do_syscall_64+0x6d/0x140
[   54.442426]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.442815] RIP: 0033:0x7f730f23ee5d
[   54.443030] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.443385] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.443823] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.444218] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.444673] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.445008] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.445440] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.445838]  </TASK>
[   54.445969] Modules linked in:
[   54.446318] ---[ end trace 0000000000000000 ]---
[   54.446725] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.447136] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.448220] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.448511] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.448968] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.449364] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.449770] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.450202] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.450774] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   54.451288] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.451538] CR2: 00007f730f52b000 CR3: 0000000026054006 CR4: 0000000000770ef0
[   54.451867] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.452318] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.452622] PKRU: 55555554
[   54.452750] note: repro[16252] exited with preempt_count 1
[   54.452992] Fixing recursive fault but reboot is needed!
[   54.453320] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16252
[   54.453646] caller is debug_smp_processor_id+0x20/0x30
[   54.453877] CPU: 1 UID: 0 PID: 16252 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.454277] Tainted: [D]=DIE, [W]=WARN
[   54.454439] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.455028] Call Trace:
[   54.455139]  <TASK>
[   54.455238]  dump_stack_lvl+0x121/0x150
[   54.455413]  dump_stack+0x19/0x20
[   54.455665]  check_preemption_disabled+0x168/0x180
[   54.455973]  debug_smp_processor_id+0x20/0x30
[   54.456249]  __schedule+0x9a/0x2eb0
[   54.456476]  ? rcu_is_watching+0x19/0xc0
[   54.456731]  ? lock_release+0x592/0x870
[   54.456937]  ? __pfx___schedule+0x10/0x10
[   54.457158]  ? debug_smp_processor_id+0x20/0x30
[   54.457357]  ? rcu_is_watching+0x19/0xc0
[   54.457529]  ? trace_irq_enable+0xe1/0x120
[   54.457719]  ? do_task_dead+0x4a/0x110
[   54.457891]  do_task_dead+0xe0/0x110
[   54.458057]  make_task_dead+0x384/0x3c0
[   54.458232]  rewind_stack_and_make_dead+0x16/0x20
[   54.458437] RIP: 0033:0x7f730f23ee5d
[   54.458596] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.458954] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.459272] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.459568] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.459964] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.460261] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.460580] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.460911]  </TASK>
[   54.461071] BUG: scheduling while atomic: repro/16252/0x00000000
[   54.461329] INFO: lockdep is turned off.
[   54.461496] Modules linked in:
[   54.461634] Preemption disabled at:
[   54.461636] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.462037] CPU: 1 UID: 0 PID: 16252 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.462510] Tainted: [D]=DIE, [W]=WARN
[   54.462677] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.463204] Call Trace:
[   54.463316]  <TASK>
[   54.463414]  dump_stack_lvl+0x121/0x150
[   54.463589]  ? do_task_dead+0x28/0x110
[   54.463762]  dump_stack+0x19/0x20
[   54.463944]  __schedule_bug+0x12d/0x180
[   54.464135]  __schedule+0x210c/0x2eb0
[   54.464300]  ? rcu_is_watching+0x19/0xc0
[   54.464473]  ? lock_release+0x592/0x870
[   54.464662]  ? __pfx___schedule+0x10/0x10
[   54.464903]  ? debug_smp_processor_id+0x20/0x30
[   54.465160]  ? rcu_is_watching+0x19/0xc0
[   54.465334]  ? trace_irq_enable+0xe1/0x120
[   54.465520]  ? do_task_dead+0x4a/0x110
[   54.465695]  do_task_dead+0xe0/0x110
[   54.465861]  make_task_dead+0x384/0x3c0
[   54.466036]  rewind_stack_and_make_dead+0x16/0x20
[   54.466243] RIP: 0033:0x7f730f23ee5d
[   54.466411] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.466756] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.467071] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.467397] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.467744] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.468040] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.468366] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.468744]  </TASK>
[   54.559722] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#122] PREEMPT SMP KASAN NOPTI
[   54.560249] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.560567] CPU: 0 UID: 0 PID: 16344 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.560969] Tainted: [D]=DIE, [W]=WARN
[   54.561130] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.561610] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.561948] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.562856] RSP: 0018:ffff88803195f7d8 EFLAGS: 00010202
[   54.563082] RAX: dffffc0000000000 RBX: ffffea000089fe40 RCX: ffffffff81b9e6e9
[   54.563380] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089fe50
[   54.563678] RBP: ffff88803195f7f8 R08: 0000000000000000 R09: ffffed1006109c90
[   54.563972] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.564266] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88803084e480
[   54.564562] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.564897] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.565140] CR2: 0000000000404200 CR3: 000000001fb6e002 CR4: 0000000000770ef0
[   54.565436] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.565736] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.566032] PKRU: 55555554
[   54.566154] Call Trace:
[   54.566265]  <TASK>
[   54.566366]  ? show_regs+0xa8/0xc0
[   54.566527]  ? die_addr+0x5d/0xf0
[   54.566686]  ? exc_general_protection+0x1ae/0x340
[   54.566901]  ? asm_exc_general_protection+0x2b/0x30
[   54.567121]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.567346]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.567571]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.567798]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.568029]  zap_huge_pmd+0x494/0xd40
[   54.568202]  unmap_page_range+0x1ad6/0x4320
[   54.568398]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.568622]  ? __pfx_unmap_page_range+0x10/0x10
[   54.568833]  unmap_single_vma+0x1ac/0x2d0
[   54.569017]  unmap_vmas+0x210/0x470
[   54.569181]  ? __pfx_unmap_vmas+0x10/0x10
[   54.569364]  ? __pfx_lock_release+0x10/0x10
[   54.569550]  ? lock_release+0x592/0x870
[   54.569723]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.569939]  ? __pfx_lock_release+0x10/0x10
[   54.570126]  ? mlock_drain_local+0x27f/0x4b0
[   54.570319]  exit_mmap+0x19e/0xb10
[   54.570479]  ? __pfx_exit_mmap+0x10/0x10
[   54.570658]  ? trace_hardirqs_on+0x51/0x60
[   54.570848]  ? __khugepaged_exit+0x266/0x4c0
[   54.571039]  ? kmem_cache_free+0x15d/0x420
[   54.571225]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.571459]  __mmput+0xd6/0x390
[   54.571605]  mmput+0x74/0x90
[   54.571742]  do_exit+0xa03/0x29f0
[   54.571896]  ? trace_hardirqs_on+0x51/0x60
[   54.572080]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.572346]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.572559]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.572774]  ? __pfx_do_exit+0x10/0x10
[   54.572945]  ? __audit_syscall_entry+0x39c/0x500
[   54.573151]  __x64_sys_exit+0x50/0x60
[   54.573318]  x64_sys_call+0x20c9/0x20d0
[   54.573493]  do_syscall_64+0x6d/0x140
[   54.573664]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.573886] RIP: 0033:0x7f730f23ee5d
[   54.574047] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.574307] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.574625] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.574925] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.575220] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.575520] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.575822] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.576129]  </TASK>
[   54.576231] Modules linked in:
[   54.576492] ---[ end trace 0000000000000000 ]---
[   54.576698] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.576947] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.577702] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.577927] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.578225] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.578612] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.578916] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.579213] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.579511] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.579848] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.580093] CR2: 0000000000404200 CR3: 000000001fb6e002 CR4: 0000000000770ef0
[   54.580393] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.580694] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.580995] PKRU: 55555554
[   54.581116] note: repro[16344] exited with preempt_count 1
[   54.581349] Fixing recursive fault but reboot is needed!
[   54.581573] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16344
[   54.581905] caller is debug_smp_processor_id+0x20/0x30
[   54.582133] CPU: 0 UID: 0 PID: 16344 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.582536] Tainted: [D]=DIE, [W]=WARN
[   54.582702] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.583173] Call Trace:
[   54.583286]  <TASK>
[   54.583385]  dump_stack_lvl+0x121/0x150
[   54.583562]  dump_stack+0x19/0x20
[   54.583718]  check_preemption_disabled+0x168/0x180
[   54.583929]  debug_smp_processor_id+0x20/0x30
[   54.584122]  __schedule+0x9a/0x2eb0
[   54.584282]  ? rcu_is_watching+0x19/0xc0
[   54.584458]  ? lock_release+0x592/0x870
[   54.584632]  ? __pfx___schedule+0x10/0x10
[   54.584814]  ? debug_smp_processor_id+0x20/0x30
[   54.585015]  ? rcu_is_watching+0x19/0xc0
[   54.585191]  ? trace_irq_enable+0xe1/0x120
[   54.585378]  ? do_task_dead+0x4a/0x110
[   54.585552]  do_task_dead+0xe0/0x110
[   54.585722]  make_task_dead+0x384/0x3c0
[   54.585896]  rewind_stack_and_make_dead+0x16/0x20
[   54.586108] RIP: 0033:0x7f730f23ee5d
[   54.586268] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.586528] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.586853] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.587152] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.587449] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.587749] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.588046] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.588350]  </TASK>
[   54.588556] BUG: scheduling while atomic: repro/16344/0x00000000
[   54.588818] INFO: lockdep is turned off.
[   54.588986] Modules linked in:
[   54.589126] Preemption disabled at:
[   54.589129] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.589513] CPU: 0 UID: 0 PID: 16344 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.589910] Tainted: [D]=DIE, [W]=WARN
[   54.590072] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.590541] Call Trace:
[   54.590653]  <TASK>
[   54.590756]  dump_stack_lvl+0x121/0x150
[   54.590931]  ? do_task_dead+0x28/0x110
[   54.591102]  dump_stack+0x19/0x20
[   54.591258]  __schedule_bug+0x12d/0x180
[   54.591435]  __schedule+0x210c/0x2eb0
[   54.591601]  ? rcu_is_watching+0x19/0xc0
[   54.591780]  ? lock_release+0x592/0x870
[   54.591951]  ? __pfx___schedule+0x10/0x10
[   54.592130]  ? debug_smp_processor_id+0x20/0x30
[   54.592332]  ? rcu_is_watching+0x19/0xc0
[   54.592507]  ? trace_irq_enable+0xe1/0x120
[   54.592697]  ? do_task_dead+0x4a/0x110
[   54.592871]  do_task_dead+0xe0/0x110
[   54.593036]  make_task_dead+0x384/0x3c0
[   54.593212]  rewind_stack_and_make_dead+0x16/0x20
[   54.593419] RIP: 0033:0x7f730f23ee5d
[   54.593579] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.593840] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.594157] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.594453] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.594753] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.595047] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.595343] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.595647]  </TASK>
[   54.706724] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#123] PREEMPT SMP KASAN NOPTI
[   54.707259] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.707573] CPU: 0 UID: 0 PID: 16429 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.707970] Tainted: [D]=DIE, [W]=WARN
[   54.708130] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.708589] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.708843] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.709583] RSP: 0018:ffff8880319577d8 EFLAGS: 00010202
[   54.709806] RAX: dffffc0000000000 RBX: ffffea000040ac40 RCX: ffffffff81b9e6e9
[   54.710098] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000040ac50
[   54.710390] RBP: ffff8880319577f8 R08: 0000000000000000 R09: ffffed10044f258c
[   54.710683] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.710975] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888022792c60
[   54.711266] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.711594] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.711834] CR2: 00007ffdcd14bac8 CR3: 000000001a648004 CR4: 0000000000770ef0
[   54.712128] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.712421] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.712715] PKRU: 55555554
[   54.712833] Call Trace:
[   54.712945]  <TASK>
[   54.713042]  ? show_regs+0xa8/0xc0
[   54.713200]  ? die_addr+0x5d/0xf0
[   54.713353]  ? exc_general_protection+0x1ae/0x340
[   54.713566]  ? asm_exc_general_protection+0x2b/0x30
[   54.713786]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.714007]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.714229]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.714451]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.714676]  zap_huge_pmd+0x494/0xd40
[   54.714844]  unmap_page_range+0x1ad6/0x4320
[   54.715037]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.715257]  ? __pfx_unmap_page_range+0x10/0x10
[   54.715462]  unmap_single_vma+0x1ac/0x2d0
[   54.715641]  unmap_vmas+0x210/0x470
[   54.715803]  ? __pfx_unmap_vmas+0x10/0x10
[   54.715981]  ? __pfx_lock_release+0x10/0x10
[   54.716164]  ? lock_release+0x592/0x870
[   54.716333]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.716547]  ? __pfx_lock_release+0x10/0x10
[   54.716734]  ? mlock_drain_local+0x27f/0x4b0
[   54.716926]  exit_mmap+0x19e/0xb10
[   54.717083]  ? __pfx_exit_mmap+0x10/0x10
[   54.717263]  ? trace_hardirqs_on+0x51/0x60
[   54.717463]  ? __khugepaged_exit+0x266/0x4c0
[   54.717660]  ? kmem_cache_free+0x15d/0x420
[   54.717850]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.718081]  __mmput+0xd6/0x390
[   54.718227]  mmput+0x74/0x90
[   54.718359]  do_exit+0xa03/0x29f0
[   54.718512]  ? trace_hardirqs_on+0x51/0x60
[   54.718699]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.718968]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.719179]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.719390]  ? __pfx_do_exit+0x10/0x10
[   54.719560]  ? __audit_syscall_entry+0x39c/0x500
[   54.719791]  __x64_sys_exit+0x50/0x60
[   54.720023]  x64_sys_call+0x20c9/0x20d0
[   54.720259]  do_syscall_64+0x6d/0x140
[   54.720456]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.720709] RIP: 0033:0x7f730f23ee5d
[   54.720871] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.721127] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.721443] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.721744] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.722040] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.722332] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.722629] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.722945]  </TASK>
[   54.723084] Modules linked in:
[   54.723481] ---[ end trace 0000000000000000 ]---
[   54.723707] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.723964] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.724715] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.724941] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.725236] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.725531] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.725830] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.726128] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.726425] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.726799] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.727042] CR2: 00007ffdcd14bac8 CR3: 000000001a648004 CR4: 0000000000770ef0
[   54.727338] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.727676] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.728024] PKRU: 55555554
[   54.728193] note: repro[16429] exited with preempt_count 1
[   54.728525] Fixing recursive fault but reboot is needed!
[   54.728919] BUG: scheduling while atomic: repro/16429/0x00000000
[   54.729173] INFO: lockdep is turned off.
[   54.729339] Modules linked in:
[   54.729474] Preemption disabled at:
[   54.729477] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.730009] CPU: 0 UID: 0 PID: 16429 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.730407] Tainted: [D]=DIE, [W]=WARN
[   54.730575] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.731221] Call Trace:
[   54.731365]  <TASK>
[   54.731477]  dump_stack_lvl+0x121/0x150
[   54.731683]  ? do_task_dead+0x28/0x110
[   54.731872]  dump_stack+0x19/0x20
[   54.732025]  __schedule_bug+0x12d/0x180
[   54.732207]  __schedule+0x210c/0x2eb0
[   54.732436]  ? rcu_is_watching+0x19/0xc0
[   54.732677]  ? lock_release+0x592/0x870
[   54.732887]  ? __pfx___schedule+0x10/0x10
[   54.733087]  ? debug_smp_processor_id+0x20/0x30
[   54.733288]  ? rcu_is_watching+0x19/0xc0
[   54.733461]  ? trace_irq_enable+0xe1/0x120
[   54.733650]  ? do_task_dead+0x4a/0x110
[   54.733824]  do_task_dead+0xe0/0x110
[   54.733989]  make_task_dead+0x384/0x3c0
[   54.734164]  rewind_stack_and_make_dead+0x16/0x20
[   54.734373] RIP: 0033:0x7f730f23ee5d
[   54.734533] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.734792] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.735144] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.735449] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.735749] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.736048] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.736345] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.736650]  </TASK>
[   54.798257] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#124] PREEMPT SMP KASAN NOPTI
[   54.798779] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.799091] CPU: 0 UID: 0 PID: 16489 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.799490] Tainted: [D]=DIE, [W]=WARN
[   54.799650] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.800110] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.800363] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.801114] RSP: 0018:ffff888018ce77d8 EFLAGS: 00010202
[   54.801336] RAX: dffffc0000000000 RBX: ffffea0000c287c0 RCX: ffffffff81b9e6e9
[   54.801639] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c287d0
[   54.802028] RBP: ffff888018ce77f8 R08: 0000000000000000 R09: ffffed10020fac90
[   54.802377] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   54.802684] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880107d6480
[   54.802979] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.803309] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.803550] CR2: 00007ffdcd14bac8 CR3: 00000000309be005 CR4: 0000000000770ef0
[   54.803860] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.804267] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.804635] PKRU: 55555554
[   54.804778] Call Trace:
[   54.804895]  <TASK>
[   54.804998]  ? show_regs+0xa8/0xc0
[   54.805158]  ? die_addr+0x5d/0xf0
[   54.805313]  ? exc_general_protection+0x1ae/0x340
[   54.805608]  ? asm_exc_general_protection+0x2b/0x30
[   54.805910]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.806166]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.806415]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.806640]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.806869]  zap_huge_pmd+0x494/0xd40
[   54.807041]  unmap_page_range+0x1ad6/0x4320
[   54.807230]  ? __pfx_lock_release+0x10/0x10
[   54.807414]  ? do_raw_spin_trylock+0xbf/0x190
[   54.807649]  ? __kasan_check_read+0x15/0x20
[   54.807911]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.808190]  ? __pfx_unmap_page_range+0x10/0x10
[   54.808428]  unmap_single_vma+0x1ac/0x2d0
[   54.808634]  unmap_vmas+0x210/0x470
[   54.808799]  ? __pfx_unmap_vmas+0x10/0x10
[   54.808979]  ? __pfx_lock_release+0x10/0x10
[   54.809162]  ? lock_release+0x592/0x870
[   54.809334]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.809549]  ? __pfx_lock_release+0x10/0x10
[   54.809737]  ? mlock_drain_local+0x27f/0x4b0
[   54.809930]  exit_mmap+0x19e/0xb10
[   54.810091]  ? __pfx_exit_mmap+0x10/0x10
[   54.810272]  ? trace_hardirqs_on+0x51/0x60
[   54.810461]  ? __khugepaged_exit+0x266/0x4c0
[   54.810652]  ? kmem_cache_free+0x15d/0x420
[   54.810838]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.811071]  __mmput+0xd6/0x390
[   54.811218]  mmput+0x74/0x90
[   54.811354]  do_exit+0xa03/0x29f0
[   54.811508]  ? trace_hardirqs_on+0x51/0x60
[   54.811695]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.811958]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.812168]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.812377]  ? __pfx_do_exit+0x10/0x10
[   54.812546]  ? __audit_syscall_entry+0x39c/0x500
[   54.812754]  __x64_sys_exit+0x50/0x60
[   54.812921]  x64_sys_call+0x20c9/0x20d0
[   54.813093]  do_syscall_64+0x6d/0x140
[   54.813261]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.813482] RIP: 0033:0x7f730f23ee5d
[   54.813646] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.813908] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.814225] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.814525] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.814836] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.815133] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.815431] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.815737]  </TASK>
[   54.815838] Modules linked in:
[   54.816113] ---[ end trace 0000000000000000 ]---
[   54.816314] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.816564] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.817317] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   54.817626] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   54.818414] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   54.819304] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   54.819605] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.819904] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   54.820199] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.820532] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.820779] CR2: 00007ffdcd14bac8 CR3: 00000000309be005 CR4: 0000000000770ef0
[   54.821076] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.821372] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.821666] PKRU: 55555554
[   54.821788] note: repro[16489] exited with preempt_count 1
[   54.822017] Fixing recursive fault but reboot is needed!
[   54.822238] BUG: scheduling while atomic: repro/16489/0x00000000
[   54.822546] INFO: lockdep is turned off.
[   54.822717] Modules linked in:
[   54.822853] Preemption disabled at:
[   54.822856] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.823239] CPU: 0 UID: 0 PID: 16489 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   54.823635] Tainted: [D]=DIE, [W]=WARN
[   54.823798] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.824399] Call Trace:
[   54.824536]  <TASK>
[   54.824646]  dump_stack_lvl+0x121/0x150
[   54.824855]  ? do_task_dead+0x28/0x110
[   54.825087]  dump_stack+0x19/0x20
[   54.825296]  __schedule_bug+0x12d/0x180
[   54.825506]  __schedule+0x210c/0x2eb0
[   54.825698]  ? rcu_is_watching+0x19/0xc0
[   54.825884]  ? lock_release+0x592/0x870
[   54.826056]  ? __pfx___schedule+0x10/0x10
[   54.826234]  ? debug_smp_processor_id+0x20/0x30
[   54.826435]  ? rcu_is_watching+0x19/0xc0
[   54.826608]  ? trace_irq_enable+0xe1/0x120
[   54.826796]  ? do_task_dead+0x4a/0x110
[   54.826969]  do_task_dead+0xe0/0x110
[   54.827134]  make_task_dead+0x384/0x3c0
[   54.827309]  rewind_stack_and_make_dead+0x16/0x20
[   54.827514] RIP: 0033:0x7f730f23ee5d
[   54.827673] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   54.827930] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.828245] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   54.828539] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.828835] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   54.829131] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   54.829426] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   54.829728]  </TASK>
[   55.399214] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#125] PREEMPT SMP KASAN NOPTI
[   55.400004] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.400476] CPU: 0 UID: 0 PID: 16923 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   55.401309] Tainted: [D]=DIE, [W]=WARN
[   55.401548] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.402245] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.402627] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.403727] RSP: 0018:ffff88801a45f7d8 EFLAGS: 00010202
[   55.404044] RAX: dffffc0000000000 RBX: ffffea00004c2700 RCX: ffffffff81b9e6e9
[   55.404462] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004c2710
[   55.404882] RBP: ffff88801a45f7f8 R08: 0000000000000000 R09: ffffed10024b28fc
[   55.405303] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.405724] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880125947e0
[   55.406146] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.406617] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.406968] CR2: 00007ffdcd14bac8 CR3: 0000000030836004 CR4: 0000000000770ef0
[   55.407391] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.407818] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.408241] PKRU: 55555554
[   55.408411] Call Trace:
[   55.408568]  <TASK>
[   55.408712]  ? show_regs+0xa8/0xc0
[   55.409033]  ? die_addr+0x5d/0xf0
[   55.409348]  ? exc_general_protection+0x1ae/0x340
[   55.409692]  ? asm_exc_general_protection+0x2b/0x30
[   55.410006]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.410327]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.410641]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.410956]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.411268]  zap_huge_pmd+0x494/0xd40
[   55.411580]  unmap_page_range+0x1ad6/0x4320
[   55.411953]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.412288]  ? __pfx_unmap_page_range+0x10/0x10
[   55.412575]  unmap_single_vma+0x1ac/0x2d0
[   55.412832]  unmap_vmas+0x210/0x470
[   55.413057]  ? __pfx_unmap_vmas+0x10/0x10
[   55.413310]  ? __pfx_lock_release+0x10/0x10
[   55.413573]  ? lock_release+0x592/0x870
[   55.413898]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.414263]  ? __pfx_lock_release+0x10/0x10
[   55.414532]  ? mlock_drain_local+0x27f/0x4b0
[   55.414815]  exit_mmap+0x19e/0xb10
[   55.415061]  ? __pfx_exit_mmap+0x10/0x10
[   55.415394]  ? trace_hardirqs_on+0x51/0x60
[   55.415704]  ? __khugepaged_exit+0x266/0x4c0
[   55.415976]  ? kmem_cache_free+0x15d/0x420
[   55.416224]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.416534]  __mmput+0xd6/0x390
[   55.416731]  mmput+0x74/0x90
[   55.416910]  do_exit+0xa03/0x29f0
[   55.417116]  ? trace_hardirqs_on+0x51/0x60
[   55.417362]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.417722]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.418061]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.418402]  ? __pfx_do_exit+0x10/0x10
[   55.418716]  ? __audit_syscall_entry+0x39c/0x500
[   55.419099]  __x64_sys_exit+0x50/0x60
[   55.419368]  x64_sys_call+0x20c9/0x20d0
[   55.419625]  do_syscall_64+0x6d/0x140
[   55.419853]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.420142] RIP: 0033:0x7f730f23ee5d
[   55.420363] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   55.420826] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.421332] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   55.421758] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.422139] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   55.422526] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   55.422915] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   55.423308]  </TASK>
[   55.423438] Modules linked in:
[   55.423811] ---[ end trace 0000000000000000 ]---
[   55.424074] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.424401] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.425352] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   55.425633] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   55.426009] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   55.426383] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   55.426875] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.427262] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   55.427906] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.428632] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.428947] CR2: 00007ffdcd14bac8 CR3: 0000000030836004 CR4: 0000000000770ef0
[   55.429323] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.429697] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.430060] PKRU: 55555554
[   55.430207] note: repro[16923] exited with preempt_count 1
[   55.430559] Fixing recursive fault but reboot is needed!
[   55.430839] BUG: scheduling while atomic: repro/16923/0x00000000
[   55.431150] INFO: lockdep is turned off.
[   55.431355] Modules linked in:
[   55.431522] Preemption disabled at:
[   55.431525] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   55.431999] CPU: 0 UID: 0 PID: 16923 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   55.432487] Tainted: [D]=DIE, [W]=WARN
[   55.432686] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.433268] Call Trace:
[   55.433413]  <TASK>
[   55.433540]  dump_stack_lvl+0x121/0x150
[   55.433772]  ? do_task_dead+0x28/0x110
[   55.433995]  dump_stack+0x19/0x20
[   55.434185]  __schedule_bug+0x12d/0x180
[   55.434393]  __schedule+0x210c/0x2eb0
[   55.434592]  ? rcu_is_watching+0x19/0xc0
[   55.434846]  ? lock_release+0x592/0x870
[   55.435068]  ? __pfx___schedule+0x10/0x10
[   55.435330]  ? debug_smp_processor_id+0x20/0x30
[   55.435655]  ? rcu_is_watching+0x19/0xc0
[   55.435937]  ? trace_irq_enable+0xe1/0x120
[   55.436210]  ? do_task_dead+0x4a/0x110
[   55.436445]  do_task_dead+0xe0/0x110
[   55.436662]  make_task_dead+0x384/0x3c0
[   55.436871]  rewind_stack_and_make_dead+0x16/0x20
[   55.437116] RIP: 0033:0x7f730f23ee5d
[   55.437305] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   55.437610] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.437988] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   55.438333] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.438674] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   55.439014] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   55.439354] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   55.439704]  </TASK>
[   55.465331] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#126] PREEMPT SMP KASAN NOPTI
[   55.466423] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.467389] CPU: 1 UID: 0 PID: 16971 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   55.468240] Tainted: [D]=DIE, [W]=WARN
[   55.468580] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.469540] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.470061] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.471585] RSP: 0018:ffff8880261277d8 EFLAGS: 00010202
[   55.472334] RAX: dffffc0000000000 RBX: ffffea00004f7a00 RCX: ffffffff81b9e6e9
[   55.472942] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004f7a10
[   55.473543] RBP: ffff8880261277f8 R08: 0000000000000000 R09: ffffed1003f2689c
[   55.474148] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.474750] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f9344e0
[   55.475355] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.476292] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.476845] CR2: 00007f730f516df0 CR3: 000000001431e004 CR4: 0000000000770ef0
[   55.477424] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.478009] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.478583] PKRU: 55555554
[   55.478818] Call Trace:
[   55.479031]  <TASK>
[   55.479222]  ? show_regs+0xa8/0xc0
[   55.479530]  ? die_addr+0x5d/0xf0
[   55.479833]  ? exc_general_protection+0x1ae/0x340
[   55.480421]  ? asm_exc_general_protection+0x2b/0x30
[   55.480902]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.481338]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.481777]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.482212]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.482647]  zap_huge_pmd+0x494/0xd40
[   55.482984]  unmap_page_range+0x1ad6/0x4320
[   55.483359]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.483795]  ? __pfx_unmap_page_range+0x10/0x10
[   55.484196]  unmap_single_vma+0x1ac/0x2d0
[   55.484548]  unmap_vmas+0x210/0x470
[   55.484867]  ? __pfx_unmap_vmas+0x10/0x10
[   55.485217]  ? __pfx_lock_release+0x10/0x10
[   55.485576]  ? lock_release+0x592/0x870
[   55.485908]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   55.486510]  ? __pfx_lock_release+0x10/0x10
[   55.486943]  ? mlock_drain_local+0x27f/0x4b0
[   55.487302]  exit_mmap+0x19e/0xb10
[   55.487600]  ? __pfx_exit_mmap+0x10/0x10
[   55.487951]  ? trace_hardirqs_on+0x51/0x60
[   55.488297]  ? __khugepaged_exit+0x266/0x4c0
[   55.488650]  ? kmem_cache_free+0x15d/0x420
[   55.488997]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.489432]  __mmput+0xd6/0x390
[   55.489704]  mmput+0x74/0x90
[   55.489954]  do_exit+0xa03/0x29f0
[   55.490238]  ? trace_hardirqs_on+0x51/0x60
[   55.490582]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.491079]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.491471]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.491864]  ? __pfx_do_exit+0x10/0x10
[   55.492180]  ? __audit_syscall_entry+0x39c/0x500
[   55.492717]  __x64_sys_exit+0x50/0x60
[   55.493108]  x64_sys_call+0x20c9/0x20d0
[   55.493428]  do_syscall_64+0x6d/0x140
[   55.493741]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.494135] RIP: 0033:0x7f730f23ee5d
[   55.494415] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   55.494883] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.495443] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   55.495977] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.496502] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   55.497030] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   55.497560] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   55.498168]  </TASK>
[   55.498426] Modules linked in:
[   55.499026] ---[ end trace 0000000000000000 ]---
[   55.499432] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.499881] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.501174] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   55.501555] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   55.502064] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   55.502693] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   55.503207] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.503715] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   55.504220] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.504853] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.505556] CR2: 00007f730f516df0 CR3: 000000001431e004 CR4: 0000000000770ef0
[   55.506072] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.506595] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.507088] PKRU: 55555554
[   55.507287] note: repro[16971] exited with preempt_count 1
[   55.507667] Fixing recursive fault but reboot is needed!
[   55.508040] BUG: scheduling while atomic: repro/16971/0x00000000
[   55.508452] INFO: lockdep is turned off.
[   55.508728] Modules linked in:
[   55.508949] Preemption disabled at:
[   55.508953] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   55.509581] CPU: 1 UID: 0 PID: 16971 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   55.510235] Tainted: [D]=DIE, [W]=WARN
[   55.510501] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.511537] Call Trace:
[   55.511735]  <TASK>
[   55.511896]  dump_stack_lvl+0x121/0x150
[   55.512185]  ? do_task_dead+0x28/0x110
[   55.512469]  dump_stack+0x19/0x20
[   55.512792]  __schedule_bug+0x12d/0x180
[   55.513172]  __schedule+0x210c/0x2eb0
[   55.513530]  ? rcu_is_watching+0x19/0xc0
[   55.513911]  ? lock_release+0x592/0x870
[   55.514250]  ? __pfx___schedule+0x10/0x10
[   55.514530]  ? debug_smp_processor_id+0x20/0x30
[   55.514846]  ? rcu_is_watching+0x19/0xc0
[   55.515130]  ? trace_irq_enable+0xe1/0x120
[   55.515428]  ? do_task_dead+0x4a/0x110
[   55.515703]  do_task_dead+0xe0/0x110
[   55.515966]  make_task_dead+0x384/0x3c0
[   55.516243]  rewind_stack_and_make_dead+0x16/0x20
[   55.516571] RIP: 0033:0x7f730f23ee5d
[   55.516826] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   55.517424] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.518034] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   55.518501] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.518974] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   55.519443] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   55.519916] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   55.520388]  </TASK>
[   55.921263] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#127] PREEMPT SMP KASAN NOPTI
[   55.922099] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.922609] CPU: 0 UID: 0 PID: 17237 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   55.923527] Tainted: [D]=DIE, [W]=WARN
[   55.923785] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.924528] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.924933] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.926222] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   55.926636] RAX: dffffc0000000000 RBX: ffffea000098c240 RCX: ffffffff81b9e6e9
[   55.927271] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098c250
[   55.927913] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10026db1b0
[   55.928560] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.929140] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880136d8d80
[   55.929606] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.930131] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.930512] CR2: 00007f730f29bc20 CR3: 0000000022530006 CR4: 0000000000770ef0
[   55.931045] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.931704] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.932191] PKRU: 55555554
[   55.932372] Call Trace:
[   55.932539]  <TASK>
[   55.932689]  ? show_regs+0xa8/0xc0
[   55.932932]  ? die_addr+0x5d/0xf0
[   55.933167]  ? exc_general_protection+0x1ae/0x340
[   55.933490]  ? asm_exc_general_protection+0x2b/0x30
[   55.933825]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.934166]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.934518]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.934987]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.935390]  zap_huge_pmd+0x494/0xd40
[   55.935648]  unmap_page_range+0x1ad6/0x4320
[   55.935948]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.936277]  ? __pfx_unmap_page_range+0x10/0x10
[   55.936576]  unmap_single_vma+0x1ac/0x2d0
[   55.936847]  unmap_vmas+0x210/0x470
[   55.937083]  ? __pfx_unmap_vmas+0x10/0x10
[   55.937455]  ? __pfx_lock_release+0x10/0x10
[   55.937865]  ? lock_release+0x592/0x870
[   55.938184]  ? mas_next_slot+0x133a/0x1a50
[   55.938452]  ? __pfx_lock_release+0x10/0x10
[   55.938726]  ? mlock_drain_local+0x27f/0x4b0
[   55.939010]  exit_mmap+0x19e/0xb10
[   55.939243]  ? __pfx_exit_mmap+0x10/0x10
[   55.939505]  ? trace_hardirqs_on+0x51/0x60
[   55.939779]  ? __khugepaged_exit+0x266/0x4c0
[   55.940053]  ? kmem_cache_free+0x15d/0x420
[   55.940321]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.940646]  __mmput+0xd6/0x390
[   55.940852]  mmput+0x74/0x90
[   55.941036]  do_exit+0xa03/0x29f0
[   55.941252]  ? trace_hardirqs_on+0x51/0x60
[   55.941513]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.941883]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.942176]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.942468]  ? __pfx_do_exit+0x10/0x10
[   55.942706]  ? __audit_syscall_entry+0x39c/0x500
[   55.942991]  __x64_sys_exit+0x50/0x60
[   55.943222]  x64_sys_call+0x20c9/0x20d0
[   55.943463]  do_syscall_64+0x6d/0x140
[   55.943700]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.944006] RIP: 0033:0x7f730f23ee5d
[   55.944225] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   55.944571] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.944994] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   55.945389] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.945978] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   55.946499] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   55.946897] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   55.947300]  </TASK>
[   55.947434] Modules linked in:
[   55.947816] ---[ end trace 0000000000000000 ]---
[   55.948086] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.948422] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.949414] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   55.949704] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   55.950083] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   55.950601] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   55.950992] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.951375] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   55.951760] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.952400] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.952755] CR2: 00007f730f29bc20 CR3: 0000000022530006 CR4: 0000000000770ef0
[   55.953141] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.953521] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.953894] PKRU: 55555554
[   55.954048] note: repro[17237] exited with preempt_count 1
[   55.954341] Fixing recursive fault but reboot is needed!
[   55.954634] BUG: scheduling while atomic: repro/17237/0x00000000
[   55.954956] INFO: lockdep is turned off.
[   55.955166] Modules linked in:
[   55.955338] Preemption disabled at:
[   55.955341] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   55.955825] CPU: 0 UID: 0 PID: 17237 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   55.956323] Tainted: [D]=DIE, [W]=WARN
[   55.956543] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.957245] Call Trace:
[   55.957430]  <TASK>
[   55.957584]  dump_stack_lvl+0x121/0x150
[   55.957868]  ? do_task_dead+0x28/0x110
[   55.958170]  dump_stack+0x19/0x20
[   55.958435]  __schedule_bug+0x12d/0x180
[   55.958738]  __schedule+0x210c/0x2eb0
[   55.959076]  ? rcu_is_watching+0x19/0xc0
[   55.959433]  ? lock_release+0x592/0x870
[   55.959788]  ? __pfx___schedule+0x10/0x10
[   55.960052]  ? debug_smp_processor_id+0x20/0x30
[   55.960298]  ? rcu_is_watching+0x19/0xc0
[   55.960512]  ? trace_irq_enable+0xe1/0x120
[   55.960742]  ? do_task_dead+0x4a/0x110
[   55.960955]  do_task_dead+0xe0/0x110
[   55.961160]  make_task_dead+0x384/0x3c0
[   55.961375]  rewind_stack_and_make_dead+0x16/0x20
[   55.961629] RIP: 0033:0x7f730f23ee5d
[   55.961825] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   55.962133] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.962510] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   55.962864] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.963222] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   55.963626] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   55.964096] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   55.964504]  </TASK>
[   56.044098] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#128] PREEMPT SMP KASAN NOPTI
[   56.044914] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.045346] CPU: 0 UID: 0 PID: 17316 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.045945] Tainted: [D]=DIE, [W]=WARN
[   56.046231] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.046895] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.047219] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.048215] RSP: 0018:ffff88801c2077d8 EFLAGS: 00010202
[   56.048601] RAX: dffffc0000000000 RBX: ffffea0000898f80 RCX: ffffffff81b9e6e9
[   56.049026] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000898f90
[   56.049417] RBP: ffff88801c2077f8 R08: 0000000000000000 R09: ffffed1002c6843c
[   56.049787] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.050154] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880163421e0
[   56.050520] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.050935] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.051235] CR2: 00007f730f51bfa8 CR3: 0000000013d90005 CR4: 0000000000770ef0
[   56.051606] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.051974] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.052342] PKRU: 55555554
[   56.052491] Call Trace:
[   56.052628]  <TASK>
[   56.052754]  ? show_regs+0xa8/0xc0
[   56.052955]  ? die_addr+0x5d/0xf0
[   56.053141]  ? exc_general_protection+0x1ae/0x340
[   56.053398]  ? asm_exc_general_protection+0x2b/0x30
[   56.053663]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.053936]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.054206]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.054478]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.054751]  zap_huge_pmd+0x494/0xd40
[   56.054957]  unmap_page_range+0x1ad6/0x4320
[   56.055190]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.055459]  ? __pfx_unmap_page_range+0x10/0x10
[   56.055713]  unmap_single_vma+0x1ac/0x2d0
[   56.055935]  unmap_vmas+0x210/0x470
[   56.056131]  ? __pfx_unmap_vmas+0x10/0x10
[   56.056347]  ? __pfx_lock_release+0x10/0x10
[   56.056569]  ? lock_release+0x592/0x870
[   56.056772]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.057027]  ? __pfx_lock_release+0x10/0x10
[   56.057246]  ? mlock_drain_local+0x27f/0x4b0
[   56.057472]  exit_mmap+0x19e/0xb10
[   56.057659]  ? __pfx_exit_mmap+0x10/0x10
[   56.057872]  ? trace_hardirqs_on+0x51/0x60
[   56.058092]  ? __khugepaged_exit+0x266/0x4c0
[   56.058315]  ? kmem_cache_free+0x15d/0x420
[   56.058534]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.058809]  __mmput+0xd6/0x390
[   56.058980]  mmput+0x74/0x90
[   56.059137]  do_exit+0xa03/0x29f0
[   56.059317]  ? trace_hardirqs_on+0x51/0x60
[   56.059533]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.059848]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.060103]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.060352]  ? __pfx_do_exit+0x10/0x10
[   56.060553]  ? __audit_syscall_entry+0x39c/0x500
[   56.060796]  __x64_sys_exit+0x50/0x60
[   56.060989]  x64_sys_call+0x20c9/0x20d0
[   56.061187]  do_syscall_64+0x6d/0x140
[   56.061380]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.061632] RIP: 0033:0x7f730f23ee5d
[   56.061816] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.062109] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.062475] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.062820] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.063165] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.063506] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.063846] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.064195]  </TASK>
[   56.064309] Modules linked in:
[   56.064596] ---[ end trace 0000000000000000 ]---
[   56.064823] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.065099] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.066078] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.066411] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.066976] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.067424] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.067871] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.068313] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.068758] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.069255] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.069608] CR2: 00007f730f51bfa8 CR3: 0000000013d90005 CR4: 0000000000770ef0
[   56.070113] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.070602] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.071039] PKRU: 55555554
[   56.071214] note: repro[17316] exited with preempt_count 1
[   56.071546] Fixing recursive fault but reboot is needed!
[   56.071702] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#129] PREEMPT SMP KASAN NOPTI
[   56.072953] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.073625] CPU: 1 UID: 0 PID: 17320 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.074476] Tainted: [D]=DIE, [W]=WARN
[   56.074823] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.075821] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.076361] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.077964] RSP: 0018:ffff8880113af7d8 EFLAGS: 00010202
[   56.078441] RAX: dffffc0000000000 RBX: ffffea00009d6c00 RCX: ffffffff81b9e6e9
[   56.079076] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d6c10
[   56.079708] RBP: ffff8880113af7f8 R08: 0000000000000000 R09: ffffed1003b63b8c
[   56.080337] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.080971] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801db1dc60
[   56.081602] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.082316] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.082840] CR2: 00007f8809a47008 CR3: 0000000030882003 CR4: 0000000000770ef0
[   56.083478] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.084121] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.084760] PKRU: 55555554
[   56.085015] Call Trace:
[   56.085250]  <TASK>
[   56.085459]  ? show_regs+0xa8/0xc0
[   56.085804]  ? die_addr+0x5d/0xf0
[   56.086135]  ? exc_general_protection+0x1ae/0x340
[   56.086594]  ? asm_exc_general_protection+0x2b/0x30
[   56.087065]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.087542]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.088044]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.088525]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.089011]  zap_huge_pmd+0x494/0xd40
[   56.089373]  unmap_page_range+0x1ad6/0x4320
[   56.089798]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.090291]  ? __pfx_unmap_page_range+0x10/0x10
[   56.090742]  unmap_single_vma+0x1ac/0x2d0
[   56.091154]  unmap_vmas+0x210/0x470
[   56.091515]  ? __pfx_unmap_vmas+0x10/0x10
[   56.091917]  ? __pfx_lock_release+0x10/0x10
[   56.092326]  ? lock_release+0x592/0x870
[   56.092717]  ? mas_next_slot+0x133a/0x1a50
[   56.093121]  ? __pfx_lock_release+0x10/0x10
[   56.093536]  ? mlock_drain_local+0x27f/0x4b0
[   56.093967]  exit_mmap+0x19e/0xb10
[   56.094316]  ? __pfx_exit_mmap+0x10/0x10
[   56.094717]  ? trace_hardirqs_on+0x51/0x60
[   56.095132]  ? __khugepaged_exit+0x266/0x4c0
[   56.095564]  ? kmem_cache_free+0x15d/0x420
[   56.095978]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.096490]  __mmput+0xd6/0x390
[   56.096816]  mmput+0x74/0x90
[   56.097110]  do_exit+0xa03/0x29f0
[   56.097453]  ? trace_hardirqs_on+0x51/0x60
[   56.097859]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.098460]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.099065]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.099660]  ? __pfx_do_exit+0x10/0x10
[   56.100141]  ? __audit_syscall_entry+0x39c/0x500
[   56.100725]  __x64_sys_exit+0x50/0x60
[   56.101191]  x64_sys_call+0x20c9/0x20d0
[   56.101678]  do_syscall_64+0x6d/0x140
[   56.102152]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.102784] RIP: 0033:0x7f730f23ee5d
[   56.103215] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.103915] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.104775] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.105580] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.106385] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.107073] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.107717] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.108357]  </TASK>
[   56.108565] Modules linked in:
[   56.109081] ---[ end trace 0000000000000000 ]---
[   56.109501] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.110024] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.112115] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.112697] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.112831] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   56.113463] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.115477] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.115712] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   56.116255] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.117849] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.118623] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.119455] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.120058] CR2: 00007f8809a47008 CR3: 0000000030882003 CR4: 0000000000770ef0
[   56.120796] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.121526] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.122267] PKRU: 55555554
[   56.122589] note: repro[17320] exited with preempt_count 1
[   56.123378] Fixing recursive fault but reboot is needed!
[   56.123933] BUG: scheduling while atomic: repro/17320/0x00000000
[   56.124553] INFO: lockdep is turned off.
[   56.124973] Modules linked in:
[   56.125306] Preemption disabled at:
[   56.125311] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.126277] CPU: 1 UID: 0 PID: 17320 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.127427] Tainted: [D]=DIE, [W]=WARN
[   56.127819] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.128931] Call Trace:
[   56.129189]  <TASK>
[   56.129414]  dump_stack_lvl+0x121/0x150
[   56.129820]  ? do_task_dead+0x28/0x110
[   56.130214]  dump_stack+0x19/0x20
[   56.130568]  __schedule_bug+0x12d/0x180
[   56.130976]  __schedule+0x210c/0x2eb0
[   56.131356]  ? rcu_is_watching+0x19/0xc0
[   56.131763]  ? lock_release+0x592/0x870
[   56.132159]  ? __pfx___schedule+0x10/0x10
[   56.132568]  ? debug_smp_processor_id+0x20/0x30
[   56.133015]  ? rcu_is_watching+0x19/0xc0
[   56.133400]  ? trace_irq_enable+0xe1/0x120
[   56.133813]  ? do_task_dead+0x4a/0x110
[   56.134192]  do_task_dead+0xe0/0x110
[   56.134557]  make_task_dead+0x384/0x3c0
[   56.134945]  rewind_stack_and_make_dead+0x16/0x20
[   56.135403] RIP: 0033:0x7f730f23ee5d
[   56.135758] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.136335] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.137047] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.137718] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.138324] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.138995] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.139659] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.140325]  </TASK>
[   56.165907] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#130] PREEMPT SMP KASAN NOPTI
[   56.166855] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.167442] CPU: 1 UID: 0 PID: 17372 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.168182] Tainted: [D]=DIE, [W]=WARN
[   56.168536] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.169193] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.169610] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.170715] RSP: 0018:ffff8880227077d8 EFLAGS: 00010202
[   56.171014] RAX: dffffc0000000000 RBX: ffffea00004c1700 RCX: ffffffff81b9e6e9
[   56.171407] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004c1710
[   56.171899] RBP: ffff8880227077f8 R08: 0000000000000000 R09: ffffed1003e6afec
[   56.172294] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.172687] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f357f60
[   56.173089] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.173614] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.173942] CR2: 0000000000404200 CR3: 0000000026372006 CR4: 0000000000770ef0
[   56.174381] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.174769] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.175306] PKRU: 55555554
[   56.175513] Call Trace:
[   56.175705]  <TASK>
[   56.175872]  ? show_regs+0xa8/0xc0
[   56.176140]  ? die_addr+0x5d/0xf0
[   56.176487]  ? exc_general_protection+0x1ae/0x340
[   56.177077]  ? asm_exc_general_protection+0x2b/0x30
[   56.177604]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.178050]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.178470]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.178762]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.179094]  zap_huge_pmd+0x494/0xd40
[   56.179347]  unmap_page_range+0x1ad6/0x4320
[   56.179588]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.179868]  ? __pfx_unmap_page_range+0x10/0x10
[   56.180123]  unmap_single_vma+0x1ac/0x2d0
[   56.180363]  unmap_vmas+0x210/0x470
[   56.180591]  ? __pfx_unmap_vmas+0x10/0x10
[   56.180818]  ? __pfx_lock_release+0x10/0x10
[   56.181047]  ? lock_release+0x592/0x870
[   56.181260]  ? mas_next_slot+0x133a/0x1a50
[   56.181489]  ? __pfx_lock_release+0x10/0x10
[   56.181814]  ? mlock_drain_local+0x27f/0x4b0
[   56.182055]  exit_mmap+0x19e/0xb10
[   56.182252]  ? __pfx_exit_mmap+0x10/0x10
[   56.182577]  ? trace_hardirqs_on+0x51/0x60
[   56.182816]  ? __khugepaged_exit+0x266/0x4c0
[   56.183054]  ? kmem_cache_free+0x15d/0x420
[   56.183373]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.183662]  __mmput+0xd6/0x390
[   56.183840]  mmput+0x74/0x90
[   56.184003]  do_exit+0xa03/0x29f0
[   56.184189]  ? trace_hardirqs_on+0x51/0x60
[   56.184412]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.184735]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.185002]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.185329]  ? __pfx_do_exit+0x10/0x10
[   56.185534]  ? __audit_syscall_entry+0x39c/0x500
[   56.185848]  __x64_sys_exit+0x50/0x60
[   56.186172]  x64_sys_call+0x20c9/0x20d0
[   56.186448]  do_syscall_64+0x6d/0x140
[   56.186749]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.187060] RIP: 0033:0x7f730f23ee5d
[   56.187251] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.187635] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.188015] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.188472] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.188823] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.189264] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.189610] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.189969]  </TASK>
[   56.190087] Modules linked in:
[   56.190360] ---[ end trace 0000000000000000 ]---
[   56.190637] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.190938] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.191826] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.192082] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.192422] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.193056] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.193699] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.194196] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.194641] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.195162] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.195779] CR2: 0000000000404200 CR3: 0000000026372006 CR4: 0000000000770ef0
[   56.196241] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.196700] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.197158] PKRU: 55555554
[   56.197339] note: repro[17372] exited with preempt_count 1
[   56.197686] Fixing recursive fault but reboot is needed!
[   56.198021] BUG: scheduling while atomic: repro/17372/0x00000000
[   56.198399] INFO: lockdep is turned off.
[   56.198682] Modules linked in:
[   56.198885] Preemption disabled at:
[   56.198888] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.199456] CPU: 1 UID: 0 PID: 17372 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.200054] Tainted: [D]=DIE, [W]=WARN
[   56.200295] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.200997] Call Trace:
[   56.201158]  <TASK>
[   56.201299]  dump_stack_lvl+0x121/0x150
[   56.201551]  ? do_task_dead+0x28/0x110
[   56.201794]  dump_stack+0x19/0x20
[   56.202013]  __schedule_bug+0x12d/0x180
[   56.202263]  __schedule+0x210c/0x2eb0
[   56.202497]  ? rcu_is_watching+0x19/0xc0
[   56.202743]  ? lock_release+0x592/0x870
[   56.202982]  ? __pfx___schedule+0x10/0x10
[   56.203231]  ? debug_smp_processor_id+0x20/0x30
[   56.203510]  ? rcu_is_watching+0x19/0xc0
[   56.203755]  ? trace_irq_enable+0xe1/0x120
[   56.204014]  ? do_task_dead+0x4a/0x110
[   56.204251]  do_task_dead+0xe0/0x110
[   56.204479]  make_task_dead+0x384/0x3c0
[   56.204722]  rewind_stack_and_make_dead+0x16/0x20
[   56.205017] RIP: 0033:0x7f730f23ee5d
[   56.205239] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.205604] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.206048] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.206454] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.206865] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.207275] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.207687] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.208103]  </TASK>
[   56.389417] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#131] PREEMPT SMP KASAN NOPTI
[   56.390515] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.391206] CPU: 1 UID: 0 PID: 17445 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.392063] Tainted: [D]=DIE, [W]=WARN
[   56.392407] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.393416] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.393955] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.395637] RSP: 0018:ffff88802614f7d8 EFLAGS: 00010202
[   56.396115] RAX: dffffc0000000000 RBX: ffffea00007e9940 RCX: ffffffff81b9e6e9
[   56.396756] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00007e9950
[   56.397393] RBP: ffff88802614f7f8 R08: 0000000000000000 R09: ffffed1003806708
[   56.398034] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   56.398676] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c033840
[   56.399292] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.399985] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.400484] CR2: 00007f730f29bc20 CR3: 0000000011030004 CR4: 0000000000770ef0
[   56.401103] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.401719] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.402330] PKRU: 55555554
[   56.402575] Call Trace:
[   56.402802]  <TASK>
[   56.403000]  ? show_regs+0xa8/0xc0
[   56.403318]  ? die_addr+0x5d/0xf0
[   56.403628]  ? exc_general_protection+0x1ae/0x340
[   56.404065]  ? asm_exc_general_protection+0x2b/0x30
[   56.404488]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.404932]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.405372]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.405815]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.406257]  zap_huge_pmd+0x494/0xd40
[   56.406586]  unmap_page_range+0x1ad6/0x4320
[   56.406954]  ? __pfx_lock_release+0x10/0x10
[   56.407316]  ? do_raw_spin_trylock+0xbf/0x190
[   56.407699]  ? __kasan_check_read+0x15/0x20
[   56.408067]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.408503]  ? __pfx_unmap_page_range+0x10/0x10
[   56.408907]  unmap_single_vma+0x1ac/0x2d0
[   56.409266]  unmap_vmas+0x210/0x470
[   56.409582]  ? __pfx_unmap_vmas+0x10/0x10
[   56.409934]  ? __pfx_lock_release+0x10/0x10
[   56.410294]  ? lock_release+0x592/0x870
[   56.410627]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.411052]  ? __pfx_lock_release+0x10/0x10
[   56.411403]  ? mlock_drain_local+0x27f/0x4b0
[   56.411768]  exit_mmap+0x19e/0xb10
[   56.412065]  ? __pfx_exit_mmap+0x10/0x10
[   56.412403]  ? trace_hardirqs_on+0x51/0x60
[   56.412758]  ? __khugepaged_exit+0x266/0x4c0
[   56.413117]  ? kmem_cache_free+0x15d/0x420
[   56.413464]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.413909]  __mmput+0xd6/0x390
[   56.414181]  mmput+0x74/0x90
[   56.414431]  do_exit+0xa03/0x29f0
[   56.414724]  ? trace_hardirqs_on+0x51/0x60
[   56.415081]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.415588]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.415993]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.416393]  ? __pfx_do_exit+0x10/0x10
[   56.416714]  ? __audit_syscall_entry+0x39c/0x500
[   56.417103]  __x64_sys_exit+0x50/0x60
[   56.417415]  x64_sys_call+0x20c9/0x20d0
[   56.417733]  do_syscall_64+0x6d/0x140
[   56.418038]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.418443] RIP: 0033:0x7f730f23ee5d
[   56.418734] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.419207] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.419791] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.420339] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.420891] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.421438] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.421977] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.422514]  </TASK>
[   56.422693] Modules linked in:
[   56.423001] ---[ end trace 0000000000000000 ]---
[   56.423357] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.423802] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.425171] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.425569] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.426106] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.426744] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.427267] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.427783] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.428301] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.428887] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.429308] CR2: 00007f730f29bc20 CR3: 0000000011030004 CR4: 0000000000770ef0
[   56.429829] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.430345] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.430976] PKRU: 55555554
[   56.431186] note: repro[17445] exited with preempt_count 1
[   56.431588] Fixing recursive fault but reboot is needed!
[   56.431969] BUG: scheduling while atomic: repro/17445/0x00000000
[   56.432395] INFO: lockdep is turned off.
[   56.432678] Modules linked in:
[   56.432904] Preemption disabled at:
[   56.432907] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.433605] CPU: 1 UID: 0 PID: 17445 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.434279] Tainted: [D]=DIE, [W]=WARN
[   56.434550] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.435341] Call Trace:
[   56.435523]  <TASK>
[   56.435686]  dump_stack_lvl+0x121/0x150
[   56.435976]  ? do_task_dead+0x28/0x110
[   56.436258]  dump_stack+0x19/0x20
[   56.436504]  __schedule_bug+0x12d/0x180
[   56.436787]  __schedule+0x210c/0x2eb0
[   56.437052]  ? rcu_is_watching+0x19/0xc0
[   56.437333]  ? lock_release+0x592/0x870
[   56.437608]  ? __pfx___schedule+0x10/0x10
[   56.437897]  ? debug_smp_processor_id+0x20/0x30
[   56.438219]  ? rcu_is_watching+0x19/0xc0
[   56.438499]  ? trace_irq_enable+0xe1/0x120
[   56.438798]  ? do_task_dead+0x4a/0x110
[   56.439072]  do_task_dead+0xe0/0x110
[   56.439335]  make_task_dead+0x384/0x3c0
[   56.439613]  rewind_stack_and_make_dead+0x16/0x20
[   56.439950] RIP: 0033:0x7f730f23ee5d
[   56.440205] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.440626] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.441135] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.441609] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.442083] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.442555] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.443028] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.443514]  </TASK>
[   56.643259] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#132] PREEMPT SMP KASAN NOPTI
[   56.644452] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.645132] CPU: 0 UID: 0 PID: 17617 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.645998] Tainted: [D]=DIE, [W]=WARN
[   56.646343] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.647354] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.647912] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.649535] RSP: 0018:ffff8880277ff7d8 EFLAGS: 00010202
[   56.650017] RAX: dffffc0000000000 RBX: ffffea0000c2df80 RCX: ffffffff81b9e6e9
[   56.650656] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2df90
[   56.651307] RBP: ffff8880277ff7f8 R08: 0000000000000000 R09: ffffed100254b0f0
[   56.651963] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.652606] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012a58780
[   56.653263] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.654001] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.654537] CR2: 00007f730f3fca50 CR3: 0000000027682002 CR4: 0000000000770ef0
[   56.655191] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.655835] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.656492] PKRU: 55555554
[   56.656752] Call Trace:
[   56.656992]  <TASK>
[   56.657210]  ? show_regs+0xa8/0xc0
[   56.657551]  ? die_addr+0x5d/0xf0
[   56.657891]  ? exc_general_protection+0x1ae/0x340
[   56.658357]  ? asm_exc_general_protection+0x2b/0x30
[   56.658844]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.659327]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.659816]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.660302]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.660833]  zap_huge_pmd+0x494/0xd40
[   56.661321]  unmap_page_range+0x1ad6/0x4320
[   56.661826]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.662365]  ? __pfx_unmap_page_range+0x10/0x10
[   56.662820]  unmap_single_vma+0x1ac/0x2d0
[   56.663216]  unmap_vmas+0x210/0x470
[   56.663578]  ? __pfx_unmap_vmas+0x10/0x10
[   56.663973]  ? __pfx_lock_release+0x10/0x10
[   56.664367]  ? lock_release+0x592/0x870
[   56.664742]  ? mas_next_slot+0x133a/0x1a50
[   56.665136]  ? __pfx_lock_release+0x10/0x10
[   56.665535]  ? mlock_drain_local+0x27f/0x4b0
[   56.665952]  exit_mmap+0x19e/0xb10
[   56.666292]  ? __pfx_exit_mmap+0x10/0x10
[   56.666683]  ? trace_hardirqs_on+0x51/0x60
[   56.667088]  ? __khugepaged_exit+0x266/0x4c0
[   56.667499]  ? kmem_cache_free+0x15d/0x420
[   56.667899]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.668401]  __mmput+0xd6/0x390
[   56.668717]  mmput+0x74/0x90
[   56.669004]  do_exit+0xa03/0x29f0
[   56.669335]  ? trace_hardirqs_on+0x51/0x60
[   56.669731]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.670301]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.670762]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.671218]  ? __pfx_do_exit+0x10/0x10
[   56.671582]  ? __audit_syscall_entry+0x39c/0x500
[   56.672029]  __x64_sys_exit+0x50/0x60
[   56.672385]  x64_sys_call+0x20c9/0x20d0
[   56.672757]  do_syscall_64+0x6d/0x140
[   56.673118]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.673593] RIP: 0033:0x7f730f23ee5d
[   56.673934] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.674477] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.675153] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.675791] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.676425] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.677059] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.677689] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.678332]  </TASK>
[   56.678546] Modules linked in:
[   56.679038] ---[ end trace 0000000000000000 ]---
[   56.679468] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.680005] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.681632] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.681712] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#133] PREEMPT SMP KASAN NOPTI
[   56.682112] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.683210] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.683229] CPU: 1 UID: 0 PID: 17647 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.683258] Tainted: [D]=DIE, [W]=WARN
[   56.683264] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.683277] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.684184] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.684859] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.685793] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.686127] RSP: 0018:ffff88802614f7d8 EFLAGS: 00010202
[   56.687134] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.687614] 
[   56.688269] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.689861] RAX: dffffc0000000000 RBX: ffffea0000c61700 RCX: ffffffff81b9e6e9
[   56.690676] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.691118] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c61710
[   56.691130] RBP: ffff88802614f7f8 R08: 0000000000000000 R09: ffffed10026668cc
[   56.691821] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.691970] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.692593] CR2: 00007f730f3fca50 CR3: 0000000027682002 CR4: 0000000000770ef0
[   56.693218] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013334660
[   56.694075] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.694704] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.694721] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.695413] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.695938] CR2: 00007f8809cd9000 CR3: 0000000031a26001 CR4: 0000000000770ef0
[   56.695954] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.696570] PKRU: 55555554
[   56.697195] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.697891] note: repro[17617] exited with preempt_count 1
[   56.698511] PKRU: 55555554
[   56.698519] Call Trace:
[   56.698525]  <TASK>
[   56.698533]  ? show_regs+0xa8/0xc0
[   56.699302] Fixing recursive fault but reboot is needed!
[   56.699818]  ? die_addr+0x5d/0xf0
[   56.705162]  ? exc_general_protection+0x1ae/0x340
[   56.705625]  ? asm_exc_general_protection+0x2b/0x30
[   56.706099]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.706581]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.707064]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.707546]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.708032]  zap_huge_pmd+0x494/0xd40
[   56.708402]  unmap_page_range+0x1ad6/0x4320
[   56.709036]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.709552]  ? __pfx_unmap_page_range+0x10/0x10
[   56.710004]  unmap_single_vma+0x1ac/0x2d0
[   56.710401]  unmap_vmas+0x210/0x470
[   56.710757]  ? __pfx_unmap_vmas+0x10/0x10
[   56.711142]  ? __pfx_lock_release+0x10/0x10
[   56.711537]  ? lock_release+0x592/0x870
[   56.711907]  ? mas_next_slot+0x133a/0x1a50
[   56.712304]  ? __pfx_lock_release+0x10/0x10
[   56.712709]  ? mlock_drain_local+0x27f/0x4b0
[   56.713124]  exit_mmap+0x19e/0xb10
[   56.713467]  ? __pfx_exit_mmap+0x10/0x10
[   56.713873]  ? trace_hardirqs_on+0x51/0x60
[   56.714279]  ? __khugepaged_exit+0x266/0x4c0
[   56.714699]  ? kmem_cache_free+0x15d/0x420
[   56.715300]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.715817]  __mmput+0xd6/0x390
[   56.716130]  mmput+0x74/0x90
[   56.716418]  do_exit+0xa03/0x29f0
[   56.716752]  ? trace_hardirqs_on+0x51/0x60
[   56.717148]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.717723]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.718179]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.718631]  ? __pfx_do_exit+0x10/0x10
[   56.719004]  ? __audit_syscall_entry+0x39c/0x500
[   56.719474]  __x64_sys_exit+0x50/0x60
[   56.719846]  x64_sys_call+0x20c9/0x20d0
[   56.720219]  do_syscall_64+0x6d/0x140
[   56.720584]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.721370] RIP: 0033:0x7f730f23ee5d
[   56.721789] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.722339] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.723028] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.723662] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.724301] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.724934] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.725567] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.726214]  </TASK>
[   56.726429] Modules linked in:
[   56.726955] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#134] PREEMPT SMP KASAN NOPTI
[   56.726991] ---[ end trace 0000000000000000 ]---
[   56.728040] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.728460] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.729119] CPU: 0 UID: 0 PID: 17655 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.729622] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.730460] Tainted: [D]=DIE, [W]=WARN
[   56.732260] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.732399] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.732411] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.733063] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.734043] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.734060] RSP: 0018:ffff888013c177d8 EFLAGS: 00010202
[   56.734075] RAX: dffffc0000000000 RBX: ffffea000051c1c0 RCX: ffffffff81b9e6e9
[   56.734087] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000051c1d0
[   56.734098] RBP: ffff888013c177f8 R08: 0000000000000000 R09: ffffed1003b7fcb4
[   56.734109] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.734119] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801dbfe5a0
[   56.734130] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.734144] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.734156] CR2: 00007f730f3fca50 CR3: 000000001a5e2001 CR4: 0000000000770ef0
[   56.734170] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.734180] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.734708] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.735311] PKRU: 55555554
[   56.737038] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.737494] Call Trace:
[   56.738122] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.738746]  <TASK>
[   56.738755]  ? show_regs+0xa8/0xc0
[   56.739383] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.740006]  ? die_addr+0x5d/0xf0
[   56.740624] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.741327]  ? exc_general_protection+0x1ae/0x340
[   56.741834] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.742460]  ? asm_exc_general_protection+0x2b/0x30
[   56.743083] CR2: 00007f8809cd9000 CR3: 0000000031a26001 CR4: 0000000000770ef0
[   56.743697]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.744325] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.744571]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.745194] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.745421]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.746400] PKRU: 55555554
[   56.746603]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.746964] note: repro[17647] exited with preempt_count 1
[   56.747589]  zap_huge_pmd+0x494/0xd40
[   56.747892] Fixing recursive fault but reboot is needed!
[   56.748608]  unmap_page_range+0x1ad6/0x4320
[   56.755688]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.756178]  ? __pfx_unmap_page_range+0x10/0x10
[   56.756630]  unmap_single_vma+0x1ac/0x2d0
[   56.757037]  unmap_vmas+0x210/0x470
[   56.757399]  ? __pfx_unmap_vmas+0x10/0x10
[   56.757790]  ? __pfx_lock_release+0x10/0x10
[   56.758198]  ? lock_release+0x592/0x870
[   56.758573]  ? mas_next_slot+0x133a/0x1a50
[   56.758977]  ? __pfx_lock_release+0x10/0x10
[   56.759381]  ? mlock_drain_local+0x27f/0x4b0
[   56.759797]  exit_mmap+0x19e/0xb10
[   56.760149]  ? __pfx_exit_mmap+0x10/0x10
[   56.760541]  ? trace_hardirqs_on+0x51/0x60
[   56.760961]  ? __khugepaged_exit+0x266/0x4c0
[   56.761375]  ? kmem_cache_free+0x15d/0x420
[   56.761776]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.762287]  __mmput+0xd6/0x390
[   56.762605]  mmput+0x74/0x90
[   56.762894]  do_exit+0xa03/0x29f0
[   56.763227]  ? trace_hardirqs_on+0x51/0x60
[   56.763634]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.764225]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.764696]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.765162]  ? __pfx_do_exit+0x10/0x10
[   56.765537]  ? __audit_syscall_entry+0x39c/0x500
[   56.765994]  __x64_sys_exit+0x50/0x60
[   56.766355]  x64_sys_call+0x20c9/0x20d0
[   56.766734]  do_syscall_64+0x6d/0x140
[   56.767094]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.767573] RIP: 0033:0x7f730f23ee5d
[   56.767924] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.768485] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.769181] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.769829] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.770484] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.771127] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.771777] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.772439]  </TASK>
[   56.772655] Modules linked in:
[   56.773059] ---[ end trace 0000000000000000 ]---
[   56.773499] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.774053] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.775761] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   56.776781] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   56.777442] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   56.778097] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   56.778927] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.779579] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   56.780228] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.780963] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.781497] CR2: 00007f730f3fca50 CR3: 000000001a5e2001 CR4: 0000000000770ef0
[   56.782152] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.782882] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.783686] PKRU: 55555554
[   56.783958] note: repro[17655] exited with preempt_count 1
[   56.784458] Fixing recursive fault but reboot is needed!
[   56.784955] BUG: scheduling while atomic: repro/17655/0x00000000
[   56.785510] INFO: lockdep is turned off.
[   56.785887] Modules linked in:
[   56.786189] Preemption disabled at:
[   56.786194] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.787084] CPU: 0 UID: 0 PID: 17655 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   56.787974] Tainted: [D]=DIE, [W]=WARN
[   56.788331] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.789353] Call Trace:
[   56.789595]  <TASK>
[   56.789815]  dump_stack_lvl+0x121/0x150
[   56.790213]  ? do_task_dead+0x28/0x110
[   56.790612]  dump_stack+0x19/0x20
[   56.791009]  __schedule_bug+0x12d/0x180
[   56.791412]  __schedule+0x210c/0x2eb0
[   56.791775]  ? rcu_is_watching+0x19/0xc0
[   56.792159]  ? lock_release+0x592/0x870
[   56.792543]  ? __pfx___schedule+0x10/0x10
[   56.792945]  ? debug_smp_processor_id+0x20/0x30
[   56.793375]  ? rcu_is_watching+0x19/0xc0
[   56.793757]  ? trace_irq_enable+0xe1/0x120
[   56.794166]  ? do_task_dead+0x4a/0x110
[   56.794544]  do_task_dead+0xe0/0x110
[   56.794909]  make_task_dead+0x384/0x3c0
[   56.795291]  rewind_stack_and_make_dead+0x16/0x20
[   56.795744] RIP: 0033:0x7f730f23ee5d
[   56.796093] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   56.796655] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.797357] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   56.798008] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.798702] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   56.799349] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   56.800006] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   56.800666]  </TASK>
[   57.220967] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#135] PREEMPT SMP KASAN NOPTI
[   57.222047] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.222708] CPU: 0 UID: 0 PID: 17890 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   57.223918] Tainted: [D]=DIE, [W]=WARN
[   57.224257] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.225238] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.225779] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.227398] RSP: 0018:ffff888030ba77d8 EFLAGS: 00010202
[   57.227871] RAX: dffffc0000000000 RBX: ffffea0000c20680 RCX: ffffffff81b9e6e9
[   57.228495] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c20690
[   57.229136] RBP: ffff888030ba77f8 R08: 0000000000000000 R09: ffffed1002540218
[   57.229765] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.230387] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012a010c0
[   57.231026] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   57.232090] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.232604] CR2: 00007f730f3fca50 CR3: 0000000018f80001 CR4: 0000000000770ef0
[   57.233239] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.233868] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.234491] PKRU: 55555554
[   57.234749] Call Trace:
[   57.234979]  <TASK>
[   57.235184]  ? show_regs+0xa8/0xc0
[   57.235517]  ? die_addr+0x5d/0xf0
[   57.235851]  ? exc_general_protection+0x1ae/0x340
[   57.236307]  ? asm_exc_general_protection+0x2b/0x30
[   57.236780]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.237255]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.238010]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.238560]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.239103]  zap_huge_pmd+0x494/0xd40
[   57.239482]  unmap_page_range+0x1ad6/0x4320
[   57.239916]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.240407]  ? __pfx_unmap_page_range+0x10/0x10
[   57.240857]  unmap_single_vma+0x1ac/0x2d0
[   57.241242]  unmap_vmas+0x210/0x470
[   57.241590]  ? __pfx_unmap_vmas+0x10/0x10
[   57.241995]  ? __pfx_lock_release+0x10/0x10
[   57.242397]  ? lock_release+0x592/0x870
[   57.242790]  ? mas_next_slot+0x133a/0x1a50
[   57.243196]  ? __pfx_lock_release+0x10/0x10
[   57.243607]  ? mlock_drain_local+0x27f/0x4b0
[   57.244034]  exit_mmap+0x19e/0xb10
[   57.244390]  ? __pfx_exit_mmap+0x10/0x10
[   57.244805]  ? trace_hardirqs_on+0x51/0x60
[   57.245262]  ? __khugepaged_exit+0x266/0x4c0
[   57.245688]  ? kmem_cache_free+0x15d/0x420
[   57.246103]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.246620]  __mmput+0xd6/0x390
[   57.246954]  mmput+0x74/0x90
[   57.247255]  do_exit+0xa03/0x29f0
[   57.247610]  ? trace_hardirqs_on+0x51/0x60
[   57.248016]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.248578]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.249034]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.249529]  ? __pfx_do_exit+0x10/0x10
[   57.249909]  ? __audit_syscall_entry+0x39c/0x500
[   57.250366]  __x64_sys_exit+0x50/0x60
[   57.250735]  x64_sys_call+0x20c9/0x20d0
[   57.251107]  do_syscall_64+0x6d/0x140
[   57.251491]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.251990] RIP: 0033:0x7f730f23ee5d
[   57.252335] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   57.252896] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.253601] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   57.254262] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.254917] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   57.255621] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   57.256287] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   57.256958]  </TASK>
[   57.257196] Modules linked in:
[   57.257731] ---[ end trace 0000000000000000 ]---
[   57.258189] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.258909] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.260568] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   57.261061] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   57.261730] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   57.262388] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   57.263251] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.263966] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   57.264626] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   57.265347] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.265916] CR2: 00007f730f3fca50 CR3: 0000000018f80001 CR4: 0000000000770ef0
[   57.266613] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.267169] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#136] PREEMPT SMP KASAN NOPTI
[   57.267283] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.268384] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.269015] PKRU: 55555554
[   57.269687] CPU: 1 UID: 0 PID: 17902 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   57.269940] note: repro[17890] exited with preempt_count 1
[   57.270798] Tainted: [D]=DIE, [W]=WARN
[   57.270805] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.270819] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.271299] Fixing recursive fault but reboot is needed!
[   57.271657] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.275501] RSP: 0018:ffff8880308ff7d8 EFLAGS: 00010202
[   57.276173] RAX: dffffc0000000000 RBX: ffffea000089a600 RCX: ffffffff81b9e6e9
[   57.276836] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089a610
[   57.277507] RBP: ffff8880308ff7f8 R08: 0000000000000000 R09: ffffed10042f9cfc
[   57.278170] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.278867] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880217ce7e0
[   57.279533] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   57.280281] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.280816] CR2: 00007f8809cf4000 CR3: 000000001f104003 CR4: 0000000000770ef0
[   57.281476] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.282128] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.282790] PKRU: 55555554
[   57.283059] Call Trace:
[   57.283330]  <TASK>
[   57.283674]  ? show_regs+0xa8/0xc0
[   57.284206]  ? die_addr+0x5d/0xf0
[   57.284549]  ? exc_general_protection+0x1ae/0x340
[   57.285050]  ? asm_exc_general_protection+0x2b/0x30
[   57.285536]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.286036]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.286539]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.287047]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.287675]  zap_huge_pmd+0x494/0xd40
[   57.288249]  unmap_page_range+0x1ad6/0x4320
[   57.288704]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.289203]  ? __pfx_unmap_page_range+0x10/0x10
[   57.289657]  unmap_single_vma+0x1ac/0x2d0
[   57.290081]  unmap_vmas+0x210/0x470
[   57.290441]  ? __pfx_unmap_vmas+0x10/0x10
[   57.290842]  ? __pfx_lock_release+0x10/0x10
[   57.291250]  ? lock_release+0x592/0x870
[   57.291631]  ? mas_next_slot+0x133a/0x1a50
[   57.292038]  ? __pfx_lock_release+0x10/0x10
[   57.292456]  ? mlock_drain_local+0x27f/0x4b0
[   57.292888]  exit_mmap+0x19e/0xb10
[   57.293254]  ? __pfx_exit_mmap+0x10/0x10
[   57.293760]  ? trace_hardirqs_on+0x51/0x60
[   57.294382]  ? __khugepaged_exit+0x266/0x4c0
[   57.294870]  ? kmem_cache_free+0x15d/0x420
[   57.295399]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.295936]  __mmput+0xd6/0x390
[   57.296263]  mmput+0x74/0x90
[   57.296559]  do_exit+0xa03/0x29f0
[   57.296899]  ? trace_hardirqs_on+0x51/0x60
[   57.297310]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.297898]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.298364]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.298841]  ? __pfx_do_exit+0x10/0x10
[   57.299213]  ? __audit_syscall_entry+0x39c/0x500
[   57.299689]  __x64_sys_exit+0x50/0x60
[   57.300261]  x64_sys_call+0x20c9/0x20d0
[   57.300792]  do_syscall_64+0x6d/0x140
[   57.301157]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.301636] RIP: 0033:0x7f730f23ee5d
[   57.301980] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   57.302533] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.303216] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   57.303856] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.304852] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   57.305489] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   57.306133] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   57.306787]  </TASK>
[   57.307004] Modules linked in:
[   57.307339] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#137] PREEMPT SMP KASAN NOPTI
[   57.307536] ---[ end trace 0000000000000000 ]---
[   57.308422] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.308842] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.309484] CPU: 0 UID: 0 PID: 17934 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   57.309988] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.310799] Tainted: [D]=DIE, [W]=WARN
[   57.310806] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.310818] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.310847] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.310863] RSP: 0018:ffff8880163177d8 EFLAGS: 00010202
[   57.310878] RAX: dffffc0000000000 RBX: ffffea0000989c80 RCX: ffffffff81b9e6e9
[   57.310889] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000989c90
[   57.310901] RBP: ffff8880163177f8 R08: 0000000000000000 R09: ffffed1003819630
[   57.310912] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.310922] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0cb180
[   57.310933] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   57.310947] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.310959] CR2: 00007f730f3fca50 CR3: 000000001f896003 CR4: 0000000000770ef0
[   57.310973] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.312579] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   57.312916] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.314046] 
[   57.314537] PKRU: 55555554
[   57.314544] Call Trace:
[   57.314550]  <TASK>
[   57.314559]  ? show_regs+0xa8/0xc0
[   57.314585]  ? die_addr+0x5d/0xf0
[   57.314610]  ? exc_general_protection+0x1ae/0x340
[   57.314643]  ? asm_exc_general_protection+0x2b/0x30
[   57.314681]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.316513] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   57.316975]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.317852] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   57.318465]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.319388] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   57.319946]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.320782] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.321479]  zap_huge_pmd+0x494/0xd40
[   57.322175] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   57.322796]  unmap_page_range+0x1ad6/0x4320
[   57.323639] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   57.324113]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.324935] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.325087]  ? __pfx_unmap_page_range+0x10/0x10
[   57.325479] CR2: 00007f8809cf4000 CR3: 000000001f104003 CR4: 0000000000770ef0
[   57.325721]  unmap_single_vma+0x1ac/0x2d0
[   57.325978] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.326286]  unmap_vmas+0x210/0x470
[   57.326709] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.327107]  ? __pfx_unmap_vmas+0x10/0x10
[   57.327683] PKRU: 55555554
[   57.328128]  ? __pfx_lock_release+0x10/0x10
[   57.328972] note: repro[17902] exited with preempt_count 1
[   57.329413]  ? lock_release+0x592/0x870
[   57.330300] Fixing recursive fault but reboot is needed!
[   57.330736]  ? mas_next_slot+0x133a/0x1a50
[   57.341504]  ? __pfx_lock_release+0x10/0x10
[   57.341907]  ? mlock_drain_local+0x27f/0x4b0
[   57.342316]  exit_mmap+0x19e/0xb10
[   57.342654]  ? __pfx_exit_mmap+0x10/0x10
[   57.343042]  ? trace_hardirqs_on+0x51/0x60
[   57.343432]  ? __khugepaged_exit+0x266/0x4c0
[   57.343830]  ? kmem_cache_free+0x15d/0x420
[   57.344216]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.344706]  __mmput+0xd6/0x390
[   57.345008]  mmput+0x74/0x90
[   57.345293]  do_exit+0xa03/0x29f0
[   57.345613]  ? trace_hardirqs_on+0x51/0x60
[   57.345998]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.346549]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.346995]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.347433]  ? __pfx_do_exit+0x10/0x10
[   57.347790]  ? __audit_syscall_entry+0x39c/0x500
[   57.348217]  __x64_sys_exit+0x50/0x60
[   57.348563]  x64_sys_call+0x20c9/0x20d0
[   57.348923]  do_syscall_64+0x6d/0x140
[   57.349275]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.349755] RIP: 0033:0x7f730f23ee5d
[   57.350127] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   57.350685] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.351341] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   57.351964] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.352580] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   57.353202] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   57.353823] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   57.354450]  </TASK>
[   57.354658] Modules linked in:
[   57.355024] ---[ end trace 0000000000000000 ]---
[   57.355441] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.355968] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.357549] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   57.358022] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   57.358657] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   57.359289] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   57.359916] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.360534] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   57.361165] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   57.361867] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.362348] CR2: 00007f730f3fca50 CR3: 000000001f896003 CR4: 0000000000770ef0
[   57.362964] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.363555] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.364148] PKRU: 55555554
[   57.364389] note: repro[17934] exited with preempt_count 1
[   57.364889] Fixing recursive fault but reboot is needed!
[   57.365329] BUG: scheduling while atomic: repro/17934/0x00000000
[   57.365835] INFO: lockdep is turned off.
[   57.366166] Modules linked in:
[   57.366436] Preemption disabled at:
[   57.366441] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   57.367239] CPU: 0 UID: 0 PID: 17934 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   57.368036] Tainted: [D]=DIE, [W]=WARN
[   57.368354] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.369283] Call Trace:
[   57.369502]  <TASK>
[   57.369703]  dump_stack_lvl+0x121/0x150
[   57.370050]  ? do_task_dead+0x28/0x110
[   57.370389]  dump_stack+0x19/0x20
[   57.370706]  __schedule_bug+0x12d/0x180
[   57.371056]  __schedule+0x210c/0x2eb0
[   57.371366]  ? rcu_is_watching+0x19/0xc0
[   57.371699]  ? lock_release+0x592/0x870
[   57.372021]  ? __pfx___schedule+0x10/0x10
[   57.372357]  ? debug_smp_processor_id+0x20/0x30
[   57.372736]  ? rcu_is_watching+0x19/0xc0
[   57.373063]  ? trace_irq_enable+0xe1/0x120
[   57.373411]  ? do_task_dead+0x4a/0x110
[   57.373741]  do_task_dead+0xe0/0x110
[   57.374055]  make_task_dead+0x384/0x3c0
[   57.374384]  rewind_stack_and_make_dead+0x16/0x20
[   57.374777] RIP: 0033:0x7f730f23ee5d
[   57.375075] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   57.375558] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.376158] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   57.376725] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.377283] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   57.377824] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   57.378358] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   57.378908]  </TASK>
[   58.058708] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#138] PREEMPT SMP KASAN NOPTI
[   58.059803] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.060723] CPU: 0 UID: 0 PID: 18308 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   58.061582] Tainted: [D]=DIE, [W]=WARN
[   58.061931] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.062925] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.063468] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.065416] RSP: 0018:ffff88801a77f7d8 EFLAGS: 00010202
[   58.065921] RAX: dffffc0000000000 RBX: ffffea000049a040 RCX: ffffffff81b9e6e9
[   58.066571] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000049a050
[   58.067210] RBP: ffff88801a77f7f8 R08: 0000000000000000 R09: ffffed10034d7a6c
[   58.067847] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   58.068479] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801a6bd360
[   58.069118] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.069838] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.070595] CR2: 00007f730f517910 CR3: 0000000031a2a001 CR4: 0000000000770ef0
[   58.071338] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.071983] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.072622] PKRU: 55555554
[   58.072884] Call Trace:
[   58.073120]  <TASK>
[   58.073332]  ? show_regs+0xa8/0xc0
[   58.073679]  ? die_addr+0x5d/0xf0
[   58.074014]  ? exc_general_protection+0x1ae/0x340
[   58.074475]  ? asm_exc_general_protection+0x2b/0x30
[   58.074955]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.075440]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.075933]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.076421]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.077107]  zap_huge_pmd+0x494/0xd40
[   58.077480]  unmap_page_range+0x1ad6/0x4320
[   58.077904]  ? __pfx_lock_release+0x10/0x10
[   58.078310]  ? do_raw_spin_trylock+0xbf/0x190
[   58.078738]  ? __kasan_check_read+0x15/0x20
[   58.079150]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.079632]  ? __pfx_unmap_page_range+0x10/0x10
[   58.080089]  unmap_single_vma+0x1ac/0x2d0
[   58.080684]  unmap_vmas+0x210/0x470
[   58.081185]  ? __pfx_unmap_vmas+0x10/0x10
[   58.081574]  ? __pfx_lock_release+0x10/0x10
[   58.081988]  ? lock_release+0x592/0x870
[   58.082358]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.082830]  ? __pfx_lock_release+0x10/0x10
[   58.083235]  ? mlock_drain_local+0x27f/0x4b0
[   58.083654]  exit_mmap+0x19e/0xb10
[   58.084008]  ? __pfx_exit_mmap+0x10/0x10
[   58.084400]  ? trace_hardirqs_on+0x51/0x60
[   58.084818]  ? __khugepaged_exit+0x266/0x4c0
[   58.085234]  ? kmem_cache_free+0x15d/0x420
[   58.085635]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.086148]  __mmput+0xd6/0x390
[   58.086499]  mmput+0x74/0x90
[   58.086924]  do_exit+0xa03/0x29f0
[   58.087401]  ? trace_hardirqs_on+0x51/0x60
[   58.087826]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.088431]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.088926]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.089428]  ? __pfx_do_exit+0x10/0x10
[   58.089808]  ? __audit_syscall_entry+0x39c/0x500
[   58.090270]  __x64_sys_exit+0x50/0x60
[   58.090632]  x64_sys_call+0x20c9/0x20d0
[   58.091009]  do_syscall_64+0x6d/0x140
[   58.091383]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.091877] RIP: 0033:0x7f730f23ee5d
[   58.092238] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   58.092825] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.093525] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   58.094166] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.094800] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   58.095435] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   58.096066] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   58.096724]  </TASK>
[   58.097047] Modules linked in:
[   58.097745] ---[ end trace 0000000000000000 ]---
[   58.098214] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.098918] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.100567] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   58.101035] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   58.101639] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   58.102241] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   58.102870] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.103816] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   58.104417] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.105083] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.105549] CR2: 00007f730f517910 CR3: 0000000031a2a001 CR4: 0000000000770ef0
[   58.106162] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.106822] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.107405] PKRU: 55555554
[   58.107639] note: repro[18308] exited with preempt_count 1
[   58.108085] Fixing recursive fault but reboot is needed!
[   58.108513] BUG: scheduling while atomic: repro/18308/0x00000000
[   58.109010] INFO: lockdep is turned off.
[   58.109511] Modules linked in:
[   58.109938] Preemption disabled at:
[   58.109944] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   58.110726] CPU: 0 UID: 0 PID: 18308 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   58.111497] Tainted: [D]=DIE, [W]=WARN
[   58.111814] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.112692] Call Trace:
[   58.112897]  <TASK>
[   58.113074]  dump_stack_lvl+0x121/0x150
[   58.113397]  ? do_task_dead+0x28/0x110
[   58.113718]  dump_stack+0x19/0x20
[   58.114006]  __schedule_bug+0x12d/0x180
[   58.114330]  __schedule+0x210c/0x2eb0
[   58.114637]  ? rcu_is_watching+0x19/0xc0
[   58.114962]  ? lock_release+0x592/0x870
[   58.115279]  ? __pfx___schedule+0x10/0x10
[   58.115778]  ? debug_smp_processor_id+0x20/0x30
[   58.116274]  ? rcu_is_watching+0x19/0xc0
[   58.116595]  ? trace_irq_enable+0xe1/0x120
[   58.116942]  ? do_task_dead+0x4a/0x110
[   58.117261]  do_task_dead+0xe0/0x110
[   58.117569]  make_task_dead+0x384/0x3c0
[   58.117898]  rewind_stack_and_make_dead+0x16/0x20
[   58.118284] RIP: 0033:0x7f730f23ee5d
[   58.118580] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   58.119053] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.119635] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   58.120167] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.120691] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   58.121210] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   58.121742] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   58.122317]  </TASK>
[   58.716428] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#139] PREEMPT SMP KASAN NOPTI
[   58.717524] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.718209] CPU: 0 UID: 0 PID: 18661 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   58.719342] Tainted: [D]=DIE, [W]=WARN
[   58.719708] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.720714] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.721260] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.722890] RSP: 0018:ffff88800fa1f7d8 EFLAGS: 00010202
[   58.723400] RAX: dffffc0000000000 RBX: ffffea0000c60900 RCX: ffffffff81b9e6e9
[   58.724075] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c60910
[   58.725141] RBP: ffff88800fa1f7f8 R08: 0000000000000000 R09: ffffed10044f2454
[   58.725817] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   58.726496] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880227922a0
[   58.727141] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.727885] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.728463] CR2: 00007f730f29bc20 CR3: 000000002240a001 CR4: 0000000000770ef0
[   58.729476] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.730171] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.730834] PKRU: 55555554
[   58.731102] Call Trace:
[   58.731343]  <TASK>
[   58.731558]  ? show_regs+0xa8/0xc0
[   58.731907]  ? die_addr+0x5d/0xf0
[   58.732251]  ? exc_general_protection+0x1ae/0x340
[   58.732712]  ? asm_exc_general_protection+0x2b/0x30
[   58.733186]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.733676]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.734163]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.734651]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.735417]  zap_huge_pmd+0x494/0xd40
[   58.735835]  unmap_page_range+0x1ad6/0x4320
[   58.736254]  ? __pfx_lock_release+0x10/0x10
[   58.736688]  ? do_raw_spin_trylock+0xbf/0x190
[   58.737111]  ? __kasan_check_read+0x15/0x20
[   58.737519]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.738002]  ? __pfx_unmap_page_range+0x10/0x10
[   58.738448]  unmap_single_vma+0x1ac/0x2d0
[   58.738847]  unmap_vmas+0x210/0x470
[   58.739202]  ? __pfx_unmap_vmas+0x10/0x10
[   58.739594]  ? __pfx_lock_release+0x10/0x10
[   58.739996]  ? lock_release+0x592/0x870
[   58.740364]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.740839]  ? __pfx_lock_release+0x10/0x10
[   58.741461]  ? mlock_drain_local+0x27f/0x4b0
[   58.741987]  exit_mmap+0x19e/0xb10
[   58.742335]  ? __pfx_exit_mmap+0x10/0x10
[   58.742738]  ? trace_hardirqs_on+0x51/0x60
[   58.743151]  ? __khugepaged_exit+0x266/0x4c0
[   58.743568]  ? kmem_cache_free+0x15d/0x420
[   58.743974]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.744481]  __mmput+0xd6/0x390
[   58.744798]  mmput+0x74/0x90
[   58.745085]  do_exit+0xa03/0x29f0
[   58.745416]  ? trace_hardirqs_on+0x51/0x60
[   58.745819]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.746398]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.746858]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.747313]  ? __pfx_do_exit+0x10/0x10
[   58.747887]  ? __audit_syscall_entry+0x39c/0x500
[   58.748358]  __x64_sys_exit+0x50/0x60
[   58.748726]  x64_sys_call+0x20c9/0x20d0
[   58.749098]  do_syscall_64+0x6d/0x140
[   58.749464]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.749921] RIP: 0033:0x7f730f23ee5d
[   58.750244] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   58.750766] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.751408] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   58.752301] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.752906] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   58.753509] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   58.754117] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   58.754737]  </TASK>
[   58.754942] Modules linked in:
[   58.755512] ---[ end trace 0000000000000000 ]---
[   58.756218] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.756740] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.758232] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   58.758786] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   58.759372] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   58.760305] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   58.760902] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.761480] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   58.762128] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.762816] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.763302] CR2: 00007f730f29bc20 CR3: 000000002240a001 CR4: 0000000000770ef0
[   58.763900] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.764475] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.765061] PKRU: 55555554
[   58.765300] note: repro[18661] exited with preempt_count 1
[   58.765757] Fixing recursive fault but reboot is needed!
[   58.766178] BUG: scheduling while atomic: repro/18661/0x00000000
[   58.766678] INFO: lockdep is turned off.
[   58.766998] Modules linked in:
[   58.767247] Preemption disabled at:
[   58.767251] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   58.767973] CPU: 0 UID: 0 PID: 18661 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   58.768726] Tainted: [D]=DIE, [W]=WARN
[   58.769033] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.770007] Call Trace:
[   58.770327]  <TASK>
[   58.770605]  dump_stack_lvl+0x121/0x150
[   58.770973]  ? do_task_dead+0x28/0x110
[   58.771320]  dump_stack+0x19/0x20
[   58.771627]  __schedule_bug+0x12d/0x180
[   58.771968]  __schedule+0x210c/0x2eb0
[   58.772286]  ? rcu_is_watching+0x19/0xc0
[   58.772622]  ? lock_release+0x592/0x870
[   58.772948]  ? __pfx___schedule+0x10/0x10
[   58.773279]  ? debug_smp_processor_id+0x20/0x30
[   58.773648]  ? rcu_is_watching+0x19/0xc0
[   58.773971]  ? trace_irq_enable+0xe1/0x120
[   58.774309]  ? do_task_dead+0x4a/0x110
[   58.774614]  do_task_dead+0xe0/0x110
[   58.774912]  make_task_dead+0x384/0x3c0
[   58.775222]  rewind_stack_and_make_dead+0x16/0x20
[   58.775589] RIP: 0033:0x7f730f23ee5d
[   58.775873] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   58.776564] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.777239] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   58.777798] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.778329] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   58.778874] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   58.779414] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   58.779934]  </TASK>
[   58.968320] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#140] PREEMPT SMP KASAN NOPTI
[   58.969414] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.970282] CPU: 0 UID: 0 PID: 18773 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   58.971136] Tainted: [D]=DIE, [W]=WARN
[   58.971479] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.972467] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.973016] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.975060] RSP: 0018:ffff8880103477d8 EFLAGS: 00010202
[   58.975540] RAX: dffffc0000000000 RBX: ffffea0000c2f640 RCX: ffffffff81b9e6e9
[   58.976178] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2f650
[   58.976812] RBP: ffff8880103477f8 R08: 0000000000000000 R09: ffffed1001c0263c
[   58.977444] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.978352] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800e0131e0
[   58.978993] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.979678] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.980168] CR2: 00007f730f516df0 CR3: 000000000f6e8003 CR4: 0000000000770ef0
[   58.980773] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.981370] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.982366] PKRU: 55555554
[   58.982611] Call Trace:
[   58.982841]  <TASK>
[   58.983055]  ? show_regs+0xa8/0xc0
[   58.983384]  ? die_addr+0x5d/0xf0
[   58.983703]  ? exc_general_protection+0x1ae/0x340
[   58.984139]  ? asm_exc_general_protection+0x2b/0x30
[   58.984585]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.985048]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.985505]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.986264]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.986780]  zap_huge_pmd+0x494/0xd40
[   58.987131]  unmap_page_range+0x1ad6/0x4320
[   58.987533]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.987989]  ? __pfx_unmap_page_range+0x10/0x10
[   58.988412]  unmap_single_vma+0x1ac/0x2d0
[   58.988791]  unmap_vmas+0x210/0x470
[   58.989121]  ? __pfx_unmap_vmas+0x10/0x10
[   58.989472]  ? __pfx_lock_release+0x10/0x10
[   58.990037]  ? lock_release+0x592/0x870
[   58.990550]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.990979]  ? __pfx_lock_release+0x10/0x10
[   58.991345]  ? mlock_drain_local+0x27f/0x4b0
[   58.991726]  exit_mmap+0x19e/0xb10
[   58.992040]  ? __pfx_exit_mmap+0x10/0x10
[   58.992391]  ? trace_hardirqs_on+0x51/0x60
[   58.992762]  ? __khugepaged_exit+0x266/0x4c0
[   58.993137]  ? kmem_cache_free+0x15d/0x420
[   58.993495]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.993952]  __mmput+0xd6/0x390
[   58.994234]  mmput+0x74/0x90
[   58.994496]  do_exit+0xa03/0x29f0
[   58.994796]  ? trace_hardirqs_on+0x51/0x60
[   58.995158]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.995677]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.996332]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.996868]  ? __pfx_do_exit+0x10/0x10
[   58.997188]  ? __audit_syscall_entry+0x39c/0x500
[   58.997585]  __x64_sys_exit+0x50/0x60
[   58.997903]  x64_sys_call+0x20c9/0x20d0
[   58.998223]  do_syscall_64+0x6d/0x140
[   58.998537]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.998949] RIP: 0033:0x7f730f23ee5d
[   58.999242] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   58.999713] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.000295] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.000841] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.001390] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.001931] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.002455] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.002988]  </TASK>
[   59.003266] Modules linked in:
[   59.003870] ---[ end trace 0000000000000000 ]---
[   59.004244] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.004693] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.006029] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   59.006621] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   59.007157] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   59.007683] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   59.008207] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.008729] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   59.009230] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   59.009394] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#141] PREEMPT SMP KASAN NOPTI
[   59.009815] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.010867] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.010888] CPU: 1 UID: 0 PID: 18777 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.010915] Tainted: [D]=DIE, [W]=WARN
[   59.010921] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.010932] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.010961] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.010978] RSP: 0018:ffff88801c2b77d8 EFLAGS: 00010202
[   59.010993] RAX: dffffc0000000000 RBX: ffffea00004125c0 RCX: ffffffff81b9e6e9
[   59.011401] CR2: 00007f730f516df0 CR3: 000000000f6e8003 CR4: 0000000000770ef0
[   59.012057] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004125d0
[   59.012832] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.013163] RBP: ffff88801c2b77f8 R08: 0000000000000000 R09: ffffed1003f62138
[   59.014152] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.014808] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.014822] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fb109c0
[   59.014835] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   59.016194] PKRU: 55555554
[   59.016817] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.017308] note: repro[18773] exited with preempt_count 1
[   59.018152] CR2: 00007f8809d26000 CR3: 000000001c390005 CR4: 0000000000770ef0
[   59.018770] Fixing recursive fault but reboot is needed!
[   59.019571] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.020197] check_preemption_disabled: 17 callbacks suppressed
[   59.020205] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18773
[   59.021034] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.021504] caller is debug_smp_processor_id+0x20/0x30
[   59.022344] PKRU: 55555554
[   59.022885] CPU: 0 UID: 0 PID: 18773 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.023196] Call Trace:
[   59.023566] Tainted: [D]=DIE, [W]=WARN
[   59.024211]  <TASK>
[   59.024661] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.025294]  ? show_regs+0xa8/0xc0
[   59.025745] Call Trace:
[   59.025752]  <TASK>
[   59.026437]  ? die_addr+0x5d/0xf0
[   59.026930]  dump_stack_lvl+0x121/0x150
[   59.027771]  ? exc_general_protection+0x1ae/0x340
[   59.028099]  dump_stack+0x19/0x20
[   59.028443]  ? asm_exc_general_protection+0x2b/0x30
[   59.029012]  check_preemption_disabled+0x168/0x180
[   59.029322]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.029555]  debug_smp_processor_id+0x20/0x30
[   59.029825]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.030855]  __schedule+0x9a/0x2eb0
[   59.031271]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.031434]  ? rcu_is_watching+0x19/0xc0
[   59.031707]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.031920]  ? lock_release+0x592/0x870
[   59.032386]  zap_huge_pmd+0x494/0xd40
[   59.032682]  ? __pfx___schedule+0x10/0x10
[   59.033095]  unmap_page_range+0x1ad6/0x4320
[   59.033398]  ? debug_smp_processor_id+0x20/0x30
[   59.033988]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.034284]  ? rcu_is_watching+0x19/0xc0
[   59.034814]  ? __pfx_unmap_page_range+0x10/0x10
[   59.035267]  ? trace_irq_enable+0xe1/0x120
[   59.035700]  unmap_single_vma+0x1ac/0x2d0
[   59.036081]  ? do_task_dead+0x4a/0x110
[   59.036557]  unmap_vmas+0x210/0x470
[   59.036865]  do_task_dead+0xe0/0x110
[   59.037334]  ? __pfx_unmap_vmas+0x10/0x10
[   59.037556]  make_task_dead+0x384/0x3c0
[   59.038039]  ? __pfx_lock_release+0x10/0x10
[   59.038297]  rewind_stack_and_make_dead+0x16/0x20
[   59.038783]  ? lock_release+0x592/0x870
[   59.039077] RIP: 0033:0x7f730f23ee5d
[   59.039431]  ? mas_next_slot+0x133a/0x1a50
[   59.039697] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.040065]  ? __pfx_lock_release+0x10/0x10
[   59.040294] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   59.040641]  ? mlock_drain_local+0x27f/0x4b0
[   59.040842]  ORIG_RAX: 000000000000003c
[   59.041175]  exit_mmap+0x19e/0xb10
[   59.041398] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.041753]  ? __pfx_exit_mmap+0x10/0x10
[   59.041987] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.042415]  ? trace_hardirqs_on+0x51/0x60
[   59.042629] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.042969]  ? __khugepaged_exit+0x266/0x4c0
[   59.043204] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.043757]  ? kmem_cache_free+0x15d/0x420
[   59.043987] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.044453]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.044699]  </TASK>
[   59.045040]  __mmput+0xd6/0x390
[   59.051690]  mmput+0x74/0x90
[   59.052109]  do_exit+0xa03/0x29f0
[   59.052439]  ? trace_hardirqs_on+0x51/0x60
[   59.052840]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.053414]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.053883]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.054339]  ? __pfx_do_exit+0x10/0x10
[   59.054819]  ? __audit_syscall_entry+0x39c/0x500
[   59.055261]  __x64_sys_exit+0x50/0x60
[   59.055620]  x64_sys_call+0x20c9/0x20d0
[   59.055996]  do_syscall_64+0x6d/0x140
[   59.056359]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.056922] RIP: 0033:0x7f730f23ee5d
[   59.057263] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.057815] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.058493] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.059139] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.060018] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.060868] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.061627] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.062279]  </TASK>
[   59.062495] Modules linked in:
[   59.062879] ---[ end trace 0000000000000000 ]---
[   59.063413] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.063953] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.065728] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   59.066210] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   59.067005] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   59.067785] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   59.068428] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.069072] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   59.069717] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   59.070433] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.071131] CR2: 00007f8809d26000 CR3: 000000001c390005 CR4: 0000000000770ef0
[   59.071834] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.072644] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.073297] PKRU: 55555554
[   59.073557] note: repro[18777] exited with preempt_count 1
[   59.074056] Fixing recursive fault but reboot is needed!
[   59.074586] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18777
[   59.075440] caller is debug_smp_processor_id+0x20/0x30
[   59.076054] CPU: 1 UID: 0 PID: 18777 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.076914] Tainted: [D]=DIE, [W]=WARN
[   59.077260] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.078398] Call Trace:
[   59.078638]  <TASK>
[   59.078850]  dump_stack_lvl+0x121/0x150
[   59.079226]  dump_stack+0x19/0x20
[   59.079555]  check_preemption_disabled+0x168/0x180
[   59.080032]  debug_smp_processor_id+0x20/0x30
[   59.080525]  __schedule+0x9a/0x2eb0
[   59.080865]  ? rcu_is_watching+0x19/0xc0
[   59.081239]  ? lock_release+0x592/0x870
[   59.081604]  ? __pfx___schedule+0x10/0x10
[   59.082021]  ? debug_smp_processor_id+0x20/0x30
[   59.082429]  ? rcu_is_watching+0x19/0xc0
[   59.082786]  ? trace_irq_enable+0xe1/0x120
[   59.083163]  ? do_task_dead+0x4a/0x110
[   59.083510]  do_task_dead+0xe0/0x110
[   59.083855]  make_task_dead+0x384/0x3c0
[   59.084210]  rewind_stack_and_make_dead+0x16/0x20
[   59.084639] RIP: 0033:0x7f730f23ee5d
[   59.084980] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.085532] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.086200] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.086809] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.087413] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.088019] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.088623] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.089218]  </TASK>
[   59.089467] BUG: scheduling while atomic: repro/18777/0x00000000
[   59.090172] INFO: lockdep is turned off.
[   59.090685] Modules linked in:
[   59.090951] Preemption disabled at:
[   59.090957] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   59.091700] CPU: 1 UID: 0 PID: 18777 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.092604] Tainted: [D]=DIE, [W]=WARN
[   59.092919] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.093933] Call Trace:
[   59.094192]  <TASK>
[   59.094379]  dump_stack_lvl+0x121/0x150
[   59.094720]  ? do_task_dead+0x28/0x110
[   59.095048]  dump_stack+0x19/0x20
[   59.095343]  __schedule_bug+0x12d/0x180
[   59.095775]  __schedule+0x210c/0x2eb0
[   59.096093]  ? rcu_is_watching+0x19/0xc0
[   59.096430]  ? lock_release+0x592/0x870
[   59.096854]  ? __pfx___schedule+0x10/0x10
[   59.097197]  ? debug_smp_processor_id+0x20/0x30
[   59.097584]  ? rcu_is_watching+0x19/0xc0
[   59.097972]  ? trace_irq_enable+0xe1/0x120
[   59.098314]  ? do_task_dead+0x4a/0x110
[   59.098729]  do_task_dead+0xe0/0x110
[   59.099205]  make_task_dead+0x384/0x3c0
[   59.099624]  rewind_stack_and_make_dead+0x16/0x20
[   59.100234] RIP: 0033:0x7f730f23ee5d
[   59.100617] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.101381] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.102400] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.103247] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.104093] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.104946] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.105653] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.106468]  </TASK>
[   59.792318] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#142] PREEMPT SMP KASAN NOPTI
[   59.793414] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.794129] CPU: 1 UID: 0 PID: 19226 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.795022] Tainted: [D]=DIE, [W]=WARN
[   59.795369] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.796433] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.796999] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.798648] RSP: 0018:ffff8880274af7d8 EFLAGS: 00010202
[   59.799134] RAX: dffffc0000000000 RBX: ffffea0000c2c780 RCX: ffffffff81b9e6e9
[   59.799788] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2c790
[   59.800460] RBP: ffff8880274af7f8 R08: 0000000000000000 R09: ffffed1001ec35b0
[   59.801125] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.801798] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f61ad80
[   59.802481] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   59.803225] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.803764] CR2: 00007f730f3fca50 CR3: 00000000274a2001 CR4: 0000000000770ef0
[   59.804435] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.805087] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.805744] PKRU: 55555554
[   59.806002] Call Trace:
[   59.806241]  <TASK>
[   59.806450]  ? show_regs+0xa8/0xc0
[   59.806801]  ? die_addr+0x5d/0xf0
[   59.807139]  ? exc_general_protection+0x1ae/0x340
[   59.807596]  ? asm_exc_general_protection+0x2b/0x30
[   59.808080]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.808562]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.809052]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.809547]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.810037]  zap_huge_pmd+0x494/0xd40
[   59.810403]  unmap_page_range+0x1ad6/0x4320
[   59.810834]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.811316]  ? __pfx_unmap_page_range+0x10/0x10
[   59.811766]  unmap_single_vma+0x1ac/0x2d0
[   59.812175]  unmap_vmas+0x210/0x470
[   59.812536]  ? __pfx_unmap_vmas+0x10/0x10
[   59.812935]  ? __pfx_lock_release+0x10/0x10
[   59.813332]  ? lock_release+0x592/0x870
[   59.813704]  ? mas_next_slot+0x133a/0x1a50
[   59.814101]  ? __pfx_lock_release+0x10/0x10
[   59.814507]  ? mlock_drain_local+0x27f/0x4b0
[   59.814931]  exit_mmap+0x19e/0xb10
[   59.815274]  ? __pfx_exit_mmap+0x10/0x10
[   59.815682]  ? trace_hardirqs_on+0x51/0x60
[   59.816095]  ? __khugepaged_exit+0x266/0x4c0
[   59.816504]  ? kmem_cache_free+0x15d/0x420
[   59.816966]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.817502]  __mmput+0xd6/0x390
[   59.817822]  mmput+0x74/0x90
[   59.818114]  do_exit+0xa03/0x29f0
[   59.818448]  ? trace_hardirqs_on+0x51/0x60
[   59.818855]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.819443]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.819912]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.820379]  ? __pfx_do_exit+0x10/0x10
[   59.820747]  ? __audit_syscall_entry+0x39c/0x500
[   59.821205]  __x64_sys_exit+0x50/0x60
[   59.821561]  x64_sys_call+0x20c9/0x20d0
[   59.821941]  do_syscall_64+0x6d/0x140
[   59.822321]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.822835] RIP: 0033:0x7f730f23ee5d
[   59.823209] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.823800] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.824496] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.825156] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.825824] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.826466] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.827112] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.827771]  </TASK>
[   59.827988] Modules linked in:
[   59.828478] ---[ end trace 0000000000000000 ]---
[   59.828916] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.829467] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.831323] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   59.831840] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   59.832507] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   59.833168] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   59.833863] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.834583] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   59.835239] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   59.835979] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.836509] CR2: 00007f730f3fca50 CR3: 00000000274a2001 CR4: 0000000000770ef0
[   59.837208] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.837852] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.838534] PKRU: 55555554
[   59.838835] note: repro[19226] exited with preempt_count 1
[   59.839392] Fixing recursive fault but reboot is needed!
[   59.839912] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19226
[   59.840622] caller is debug_smp_processor_id+0x20/0x30
[   59.841108] CPU: 1 UID: 0 PID: 19226 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.841915] Tainted: [D]=DIE, [W]=WARN
[   59.842268] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.843291] Call Trace:
[   59.843534]  <TASK>
[   59.843752]  dump_stack_lvl+0x121/0x150
[   59.844132]  dump_stack+0x19/0x20
[   59.844475]  check_preemption_disabled+0x168/0x180
[   59.844925]  debug_smp_processor_id+0x20/0x30
[   59.845332]  __schedule+0x9a/0x2eb0
[   59.845677]  ? rcu_is_watching+0x19/0xc0
[   59.846060]  ? lock_release+0x592/0x870
[   59.846441]  ? __pfx___schedule+0x10/0x10
[   59.846836]  ? debug_smp_processor_id+0x20/0x30
[   59.847252]  ? rcu_is_watching+0x19/0xc0
[   59.847617]  ? trace_irq_enable+0xe1/0x120
[   59.848002]  ? do_task_dead+0x4a/0x110
[   59.848366]  do_task_dead+0xe0/0x110
[   59.848716]  make_task_dead+0x384/0x3c0
[   59.849085]  rewind_stack_and_make_dead+0x16/0x20
[   59.849517] RIP: 0033:0x7f730f23ee5d
[   59.849895] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.850472] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.851197] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.851812] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.852390] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.852984] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.853582] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.854188]  </TASK>
[   59.854449] BUG: scheduling while atomic: repro/19226/0x00000000
[   59.855010] INFO: lockdep is turned off.
[   59.855376] Modules linked in:
[   59.855651] Preemption disabled at:
[   59.855655] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   59.856429] CPU: 1 UID: 0 PID: 19226 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   59.857226] Tainted: [D]=DIE, [W]=WARN
[   59.857556] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.858438] Call Trace:
[   59.858650]  <TASK>
[   59.858834]  dump_stack_lvl+0x121/0x150
[   59.859164]  ? do_task_dead+0x28/0x110
[   59.859485]  dump_stack+0x19/0x20
[   59.859773]  __schedule_bug+0x12d/0x180
[   59.860100]  __schedule+0x210c/0x2eb0
[   59.860408]  ? rcu_is_watching+0x19/0xc0
[   59.860744]  ? lock_release+0x592/0x870
[   59.861062]  ? __pfx___schedule+0x10/0x10
[   59.861397]  ? debug_smp_processor_id+0x20/0x30
[   59.861774]  ? rcu_is_watching+0x19/0xc0
[   59.862101]  ? trace_irq_enable+0xe1/0x120
[   59.862443]  ? do_task_dead+0x4a/0x110
[   59.862769]  do_task_dead+0xe0/0x110
[   59.863099]  make_task_dead+0x384/0x3c0
[   59.863443]  rewind_stack_and_make_dead+0x16/0x20
[   59.863851] RIP: 0033:0x7f730f23ee5d
[   59.864171] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   59.864692] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.865285] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   59.865848] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.866411] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   59.866978] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   59.867548] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   59.868107]  </TASK>
[   60.446613] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#143] PREEMPT SMP KASAN NOPTI
[   60.447759] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.448454] CPU: 1 UID: 0 PID: 19581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.449328] Tainted: [D]=DIE, [W]=WARN
[   60.449679] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.450701] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.451248] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.452925] RSP: 0018:ffff8880274cf7d8 EFLAGS: 00010202
[   60.453416] RAX: dffffc0000000000 RBX: ffffea000058d500 RCX: ffffffff81b9e6e9
[   60.454086] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000058d510
[   60.454742] RBP: ffff8880274cf7f8 R08: 0000000000000000 R09: ffffed100220e230
[   60.455397] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.456052] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011071180
[   60.456706] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.457440] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.457989] CR2: 00007f730f3fca50 CR3: 0000000022728004 CR4: 0000000000770ef0
[   60.458639] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.459300] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.459972] PKRU: 55555554
[   60.460236] Call Trace:
[   60.460474]  <TASK>
[   60.460693]  ? show_regs+0xa8/0xc0
[   60.461040]  ? die_addr+0x5d/0xf0
[   60.461382]  ? exc_general_protection+0x1ae/0x340
[   60.461859]  ? asm_exc_general_protection+0x2b/0x30
[   60.462347]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.462844]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.463339]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.463842]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.464342]  zap_huge_pmd+0x494/0xd40
[   60.464724]  unmap_page_range+0x1ad6/0x4320
[   60.465257]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.465967]  ? __pfx_unmap_page_range+0x10/0x10
[   60.466589]  unmap_single_vma+0x1ac/0x2d0
[   60.467146]  unmap_vmas+0x210/0x470
[   60.467638]  ? __pfx_unmap_vmas+0x10/0x10
[   60.468179]  ? __pfx_lock_release+0x10/0x10
[   60.468730]  ? lock_release+0x592/0x870
[   60.469184]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.469664]  ? __pfx_lock_release+0x10/0x10
[   60.470088]  ? mlock_drain_local+0x27f/0x4b0
[   60.470509]  exit_mmap+0x19e/0xb10
[   60.470869]  ? __pfx_exit_mmap+0x10/0x10
[   60.471269]  ? trace_hardirqs_on+0x51/0x60
[   60.471690]  ? __khugepaged_exit+0x266/0x4c0
[   60.472109]  ? kmem_cache_free+0x15d/0x420
[   60.472519]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.473049]  __mmput+0xd6/0x390
[   60.473369]  mmput+0x74/0x90
[   60.473658]  do_exit+0xa03/0x29f0
[   60.473996]  ? trace_hardirqs_on+0x51/0x60
[   60.474394]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.474989]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.475458]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.475924]  ? __pfx_do_exit+0x10/0x10
[   60.476292]  ? __audit_syscall_entry+0x39c/0x500
[   60.476752]  __x64_sys_exit+0x50/0x60
[   60.477186]  x64_sys_call+0x20c9/0x20d0
[   60.477699]  do_syscall_64+0x6d/0x140
[   60.478191]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.478836] RIP: 0033:0x7f730f23ee5d
[   60.479312] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.480085] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.481034] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.481915] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.482795] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.483683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.484566] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   60.485467]  </TASK>
[   60.485775] Modules linked in:
[   60.486435] ---[ end trace 0000000000000000 ]---
[   60.487278] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.487887] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.489560] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   60.490053] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   60.490750] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   60.491409] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   60.492058] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.492710] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   60.493366] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.494103] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.494667] CR2: 00007f730f3fca50 CR3: 0000000022728004 CR4: 0000000000770ef0
[   60.495342] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.496005] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.496666] PKRU: 55555554
[   60.496942] note: repro[19581] exited with preempt_count 1
[   60.497465] Fixing recursive fault but reboot is needed!
[   60.497968] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19581
[   60.498729] caller is debug_smp_processor_id+0x20/0x30
[   60.499225] CPU: 1 UID: 0 PID: 19581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.500105] Tainted: [D]=DIE, [W]=WARN
[   60.500463] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.501485] Call Trace:
[   60.501728]  <TASK>
[   60.501940]  dump_stack_lvl+0x121/0x150
[   60.502324]  dump_stack+0x19/0x20
[   60.502665]  check_preemption_disabled+0x168/0x180
[   60.503146]  debug_smp_processor_id+0x20/0x30
[   60.503577]  __schedule+0x9a/0x2eb0
[   60.503937]  ? rcu_is_watching+0x19/0xc0
[   60.504321]  ? lock_release+0x592/0x870
[   60.504713]  ? __pfx___schedule+0x10/0x10
[   60.505107]  ? debug_smp_processor_id+0x20/0x30
[   60.505543]  ? rcu_is_watching+0x19/0xc0
[   60.505933]  ? trace_irq_enable+0xe1/0x120
[   60.506340]  ? do_task_dead+0x4a/0x110
[   60.506722]  do_task_dead+0xe0/0x110
[   60.507087]  make_task_dead+0x384/0x3c0
[   60.507470]  rewind_stack_and_make_dead+0x16/0x20
[   60.507935] RIP: 0033:0x7f730f23ee5d
[   60.508286] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.508849] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.509541] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.510197] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.510861] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.511512] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.512169] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   60.512851]  </TASK>
[   60.513117] BUG: scheduling while atomic: repro/19581/0x00000000
[   60.513680] INFO: lockdep is turned off.
[   60.514060] Modules linked in:
[   60.514358] Preemption disabled at:
[   60.514364] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   60.515232] CPU: 1 UID: 0 PID: 19581 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.516110] Tainted: [D]=DIE, [W]=WARN
[   60.516459] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.517486] Call Trace:
[   60.517737]  <TASK>
[   60.517957]  dump_stack_lvl+0x121/0x150
[   60.518341]  ? do_task_dead+0x28/0x110
[   60.518728]  dump_stack+0x19/0x20
[   60.519070]  __schedule_bug+0x12d/0x180
[   60.519453]  __schedule+0x210c/0x2eb0
[   60.519823]  ? rcu_is_watching+0x19/0xc0
[   60.520205]  ? lock_release+0x592/0x870
[   60.520584]  ? __pfx___schedule+0x10/0x10
[   60.520984]  ? debug_smp_processor_id+0x20/0x30
[   60.521414]  ? rcu_is_watching+0x19/0xc0
[   60.521796]  ? trace_irq_enable+0xe1/0x120
[   60.522196]  ? do_task_dead+0x4a/0x110
[   60.522570]  do_task_dead+0xe0/0x110
[   60.522943]  make_task_dead+0x384/0x3c0
[   60.523330]  rewind_stack_and_make_dead+0x16/0x20
[   60.523787] RIP: 0033:0x7f730f23ee5d
[   60.524133] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.524703] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.525397] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.526053] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.526726] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.527372] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.528018] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   60.528658]  </TASK>
[   60.591428] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#144] PREEMPT SMP KASAN NOPTI
[   60.592499] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.593159] CPU: 1 UID: 0 PID: 19668 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.593996] Tainted: [D]=DIE, [W]=WARN
[   60.594330] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.595313] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.595844] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.597436] RSP: 0018:ffff8880263577d8 EFLAGS: 00010202
[   60.597894] RAX: dffffc0000000000 RBX: ffffea0000c2ef80 RCX: ffffffff81b9e6e9
[   60.598482] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2ef90
[   60.599083] RBP: ffff8880263577f8 R08: 0000000000000000 R09: ffffed10042addec
[   60.599679] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.600276] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88802156ef60
[   60.600868] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.601538] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.602029] CR2: 00007f730f4f5e28 CR3: 0000000022532006 CR4: 0000000000770ef0
[   60.602629] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.603231] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.603831] PKRU: 55555554
[   60.604062] Call Trace:
[   60.604282]  <TASK>
[   60.604477]  ? show_regs+0xa8/0xc0
[   60.604800]  ? die_addr+0x5d/0xf0
[   60.605110]  ? exc_general_protection+0x1ae/0x340
[   60.605528]  ? asm_exc_general_protection+0x2b/0x30
[   60.605978]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.606424]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.606850]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.607277]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.607698]  zap_huge_pmd+0x494/0xd40
[   60.608023]  unmap_page_range+0x1ad6/0x4320
[   60.608393]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.608808]  ? __pfx_unmap_page_range+0x10/0x10
[   60.609204]  unmap_single_vma+0x1ac/0x2d0
[   60.609552]  unmap_vmas+0x210/0x470
[   60.609863]  ? __pfx_unmap_vmas+0x10/0x10
[   60.610205]  ? __pfx_lock_release+0x10/0x10
[   60.610559]  ? lock_release+0x592/0x870
[   60.610888]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.611306]  ? __pfx_lock_release+0x10/0x10
[   60.611664]  ? mlock_drain_local+0x27f/0x4b0
[   60.612035]  exit_mmap+0x19e/0xb10
[   60.612342]  ? __pfx_exit_mmap+0x10/0x10
[   60.612687]  ? trace_hardirqs_on+0x51/0x60
[   60.613044]  ? __khugepaged_exit+0x266/0x4c0
[   60.613403]  ? kmem_cache_free+0x15d/0x420
[   60.613758]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.614202]  __mmput+0xd6/0x390
[   60.614476]  mmput+0x74/0x90
[   60.614735]  do_exit+0xa03/0x29f0
[   60.615023]  ? trace_hardirqs_on+0x51/0x60
[   60.615352]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.615836]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.616213]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.616589]  ? __pfx_do_exit+0x10/0x10
[   60.616904]  ? __audit_syscall_entry+0x39c/0x500
[   60.617280]  __x64_sys_exit+0x50/0x60
[   60.617577]  x64_sys_call+0x20c9/0x20d0
[   60.617896]  do_syscall_64+0x6d/0x140
[   60.618195]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.618592] RIP: 0033:0x7f730f23ee5d
[   60.618882] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.619345] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.619917] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.620449] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.620965] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.621467] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.621980] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   60.622492]  </TASK>
[   60.622662] Modules linked in:
[   60.622967] ---[ end trace 0000000000000000 ]---
[   60.623305] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.623736] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.625042] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   60.625422] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   60.625926] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   60.626410] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   60.627014] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.627500] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   60.627985] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.628527] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.628930] CR2: 00007f730f4f5e28 CR3: 0000000022532006 CR4: 0000000000770ef0
[   60.629407] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.629874] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.630338] PKRU: 55555554
[   60.630663] note: repro[19668] exited with preempt_count 1
[   60.631032] Fixing recursive fault but reboot is needed!
[   60.631379] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19668
[   60.631886] caller is debug_smp_processor_id+0x20/0x30
[   60.632237] CPU: 1 UID: 0 PID: 19668 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.632873] Tainted: [D]=DIE, [W]=WARN
[   60.633125] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.633858] Call Trace:
[   60.634032]  <TASK>
[   60.634182]  dump_stack_lvl+0x121/0x150
[   60.634456]  dump_stack+0x19/0x20
[   60.634700]  check_preemption_disabled+0x168/0x180
[   60.635015]  debug_smp_processor_id+0x20/0x30
[   60.635302]  __schedule+0x9a/0x2eb0
[   60.635538]  ? rcu_is_watching+0x19/0xc0
[   60.635809]  ? lock_release+0x592/0x870
[   60.636066]  ? __pfx___schedule+0x10/0x10
[   60.636335]  ? debug_smp_processor_id+0x20/0x30
[   60.636631]  ? rcu_is_watching+0x19/0xc0
[   60.636896]  ? trace_irq_enable+0xe1/0x120
[   60.637174]  ? do_task_dead+0x4a/0x110
[   60.637432]  do_task_dead+0xe0/0x110
[   60.637686]  make_task_dead+0x384/0x3c0
[   60.637951]  rewind_stack_and_make_dead+0x16/0x20
[   60.638260] RIP: 0033:0x7f730f23ee5d
[   60.638498] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.638888] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.639373] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.639821] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.640268] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.640714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.641143] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   60.641577]  </TASK>
[   60.641748] BUG: scheduling while atomic: repro/19668/0x00000000
[   60.642117] INFO: lockdep is turned off.
[   60.642359] Modules linked in:
[   60.642567] Preemption disabled at:
[   60.642571] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   60.643114] CPU: 1 UID: 0 PID: 19668 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.643667] Tainted: [D]=DIE, [W]=WARN
[   60.643897] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.644546] Call Trace:
[   60.644707]  <TASK>
[   60.644843]  dump_stack_lvl+0x121/0x150
[   60.645086]  ? do_task_dead+0x28/0x110
[   60.645323]  dump_stack+0x19/0x20
[   60.645548]  __schedule_bug+0x12d/0x180
[   60.645796]  __schedule+0x210c/0x2eb0
[   60.646024]  ? rcu_is_watching+0x19/0xc0
[   60.646268]  ? lock_release+0x592/0x870
[   60.646508]  ? __pfx___schedule+0x10/0x10
[   60.646772]  ? debug_smp_processor_id+0x20/0x30
[   60.647050]  ? rcu_is_watching+0x19/0xc0
[   60.647290]  ? trace_irq_enable+0xe1/0x120
[   60.647547]  ? do_task_dead+0x4a/0x110
[   60.647792]  do_task_dead+0xe0/0x110
[   60.648023]  make_task_dead+0x384/0x3c0
[   60.648257]  rewind_stack_and_make_dead+0x16/0x20
[   60.648534] RIP: 0033:0x7f730f23ee5d
[   60.648748] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.649095] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.649521] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.649923] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.650323] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.650725] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.651124] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   60.651525]  </TASK>
[   60.961807] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#145] PREEMPT SMP KASAN NOPTI
[   60.963353] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.964255] CPU: 0 UID: 0 PID: 19828 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   60.965388] Tainted: [D]=DIE, [W]=WARN
[   60.965848] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.967138] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.967819] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.969693] RSP: 0018:ffff88802624f7d8 EFLAGS: 00010202
[   60.970162] RAX: dffffc0000000000 RBX: ffffea0000c68280 RCX: ffffffff81b9e6e9
[   60.970894] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c68290
[   60.971699] RBP: ffff88802624f7f8 R08: 0000000000000000 R09: ffffed1003f5b200
[   60.972498] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.973271] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fad9000
[   60.974038] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   60.974904] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.975526] CR2: 00007f730f51bfa8 CR3: 000000001061c004 CR4: 0000000000770ef0
[   60.976295] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.977063] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.977829] PKRU: 55555554
[   60.978132] Call Trace:
[   60.978409]  <TASK>
[   60.978656]  ? show_regs+0xa8/0xc0
[   60.979061]  ? die_addr+0x5d/0xf0
[   60.979448]  ? exc_general_protection+0x1ae/0x340
[   60.979986]  ? asm_exc_general_protection+0x2b/0x30
[   60.980531]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.981076]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.981621]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.982166]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.982715]  zap_huge_pmd+0x494/0xd40
[   60.983122]  unmap_page_range+0x1ad6/0x4320
[   60.983586]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.984124]  ? __pfx_unmap_page_range+0x10/0x10
[   60.984622]  unmap_single_vma+0x1ac/0x2d0
[   60.985064]  unmap_vmas+0x210/0x470
[   60.985452]  ? __pfx_unmap_vmas+0x10/0x10
[   60.985887]  ? __pfx_lock_release+0x10/0x10
[   60.986332]  ? lock_release+0x592/0x870
[   60.986750]  ? mas_next_slot+0x133a/0x1a50
[   60.987185]  ? __pfx_lock_release+0x10/0x10
[   60.987614]  ? mlock_drain_local+0x27f/0x4b0
[   60.988060]  exit_mmap+0x19e/0xb10
[   60.988384]  ? __pfx_exit_mmap+0x10/0x10
[   60.988734]  ? trace_hardirqs_on+0x51/0x60
[   60.989079]  ? __khugepaged_exit+0x266/0x4c0
[   60.989430]  ? kmem_cache_free+0x15d/0x420
[   60.989767]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.990190]  __mmput+0xd6/0x390
[   60.990454]  mmput+0x74/0x90
[   60.990767]  do_exit+0xa03/0x29f0
[   60.991121]  ? trace_hardirqs_on+0x51/0x60
[   60.991546]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.992173]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.992667]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.993161]  ? __pfx_do_exit+0x10/0x10
[   60.993535]  ? __audit_syscall_entry+0x39c/0x500
[   60.993993]  __x64_sys_exit+0x50/0x60
[   60.994360]  x64_sys_call+0x20c9/0x20d0
[   60.994742]  do_syscall_64+0x6d/0x140
[   60.995110]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.995600] RIP: 0033:0x7f730f23ee5d
[   60.995952] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   60.996530] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.997245] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   60.997912] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.998579] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   60.999247] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   60.999896] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   61.000546]  </TASK>
[   61.000759] Modules linked in:
[   61.001252] ---[ end trace 0000000000000000 ]---
[   61.001685] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.002325] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.004012] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   61.004475] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   61.005094] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   61.005711] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   61.006327] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.006959] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   61.007578] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   61.008276] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.008783] CR2: 00007f730f51bfa8 CR3: 000000001061c004 CR4: 0000000000770ef0
[   61.009408] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.010006] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.010612] PKRU: 55555554
[   61.010855] note: repro[19828] exited with preempt_count 1
[   61.011315] Fixing recursive fault but reboot is needed!
[   61.011762] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19828
[   61.012409] caller is debug_smp_processor_id+0x20/0x30
[   61.012855] CPU: 0 UID: 0 PID: 19828 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   61.013646] Tainted: [D]=DIE, [W]=WARN
[   61.013965] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.014870] Call Trace:
[   61.015078]  <TASK>
[   61.015261]  dump_stack_lvl+0x121/0x150
[   61.015591]  dump_stack+0x19/0x20
[   61.015881]  check_preemption_disabled+0x168/0x180
[   61.016281]  debug_smp_processor_id+0x20/0x30
[   61.016646]  __schedule+0x9a/0x2eb0
[   61.016947]  ? rcu_is_watching+0x19/0xc0
[   61.017277]  ? lock_release+0x592/0x870
[   61.017599]  ? __pfx___schedule+0x10/0x10
[   61.017943]  ? debug_smp_processor_id+0x20/0x30
[   61.018321]  ? rcu_is_watching+0x19/0xc0
[   61.018651]  ? trace_irq_enable+0xe1/0x120
[   61.019142]  ? do_task_dead+0x4a/0x110
[   61.019622]  do_task_dead+0xe0/0x110
[   61.020089]  make_task_dead+0x384/0x3c0
[   61.020431]  rewind_stack_and_make_dead+0x16/0x20
[   61.020811] RIP: 0033:0x7f730f23ee5d
[   61.021101] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   61.021577] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.022166] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   61.022721] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.023272] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   61.023810] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   61.024343] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   61.024886]  </TASK>
[   61.025158] BUG: scheduling while atomic: repro/19828/0x00000000
[   61.025616] INFO: lockdep is turned off.
[   61.025918] Modules linked in:
[   61.026160] Preemption disabled at:
[   61.026163] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   61.026927] CPU: 0 UID: 0 PID: 19828 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   61.027617] Tainted: [D]=DIE, [W]=WARN
[   61.027897] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.028711] Call Trace:
[   61.028900]  <TASK>
[   61.029067]  dump_stack_lvl+0x121/0x150
[   61.029366]  ? do_task_dead+0x28/0x110
[   61.029659]  dump_stack+0x19/0x20
[   61.029923]  __schedule_bug+0x12d/0x180
[   61.030221]  __schedule+0x210c/0x2eb0
[   61.030502]  ? rcu_is_watching+0x19/0xc0
[   61.030803]  ? lock_release+0x592/0x870
[   61.031089]  ? __pfx___schedule+0x10/0x10
[   61.031384]  ? debug_smp_processor_id+0x20/0x30
[   61.031719]  ? rcu_is_watching+0x19/0xc0
[   61.032008]  ? trace_irq_enable+0xe1/0x120
[   61.032313]  ? do_task_dead+0x4a/0x110
[   61.032596]  do_task_dead+0xe0/0x110
[   61.032870]  make_task_dead+0x384/0x3c0
[   61.033158]  rewind_stack_and_make_dead+0x16/0x20
[   61.033501] RIP: 0033:0x7f730f23ee5d
[   61.033769] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   61.034203] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.034748] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   61.035251] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.035753] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   61.036241] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   61.036733] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   61.037228]  </TASK>
[   61.687107] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#146] PREEMPT SMP KASAN NOPTI
[   61.688354] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.689134] CPU: 0 UID: 0 PID: 20243 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   61.690109] Tainted: [D]=DIE, [W]=WARN
[   61.690501] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.691652] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.692267] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.694126] RSP: 0018:ffff8880318ef7d8 EFLAGS: 00010202
[   61.694648] RAX: dffffc0000000000 RBX: ffffea0000c683c0 RCX: ffffffff81b9e6e9
[   61.695344] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c683d0
[   61.696044] RBP: ffff8880318ef7f8 R08: 0000000000000000 R09: ffffed10026fc120
[   61.696740] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.697432] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880137e0900
[   61.698129] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   61.698929] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.699534] CR2: 00007f730f3fca50 CR3: 00000000147b0004 CR4: 0000000000770ef0
[   61.700236] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.700938] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.701632] PKRU: 55555554
[   61.701912] Call Trace:
[   61.702164]  <TASK>
[   61.702388]  ? show_regs+0xa8/0xc0
[   61.702753]  ? die_addr+0x5d/0xf0
[   61.703104]  ? exc_general_protection+0x1ae/0x340
[   61.703577]  ? asm_exc_general_protection+0x2b/0x30
[   61.704061]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.704556]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.705056]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.705553]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.706054]  zap_huge_pmd+0x494/0xd40
[   61.706422]  unmap_page_range+0x1ad6/0x4320
[   61.706835]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.707304]  ? __pfx_unmap_page_range+0x10/0x10
[   61.707743]  unmap_single_vma+0x1ac/0x2d0
[   61.708126]  unmap_vmas+0x210/0x470
[   61.708468]  ? __pfx_unmap_vmas+0x10/0x10
[   61.708851]  ? __pfx_lock_release+0x10/0x10
[   61.709241]  ? lock_release+0x592/0x870
[   61.709602]  ? mas_next_slot+0x133a/0x1a50
[   61.709994]  ? __pfx_lock_release+0x10/0x10
[   61.710388]  ? mlock_drain_local+0x27f/0x4b0
[   61.710800]  exit_mmap+0x19e/0xb10
[   61.711131]  ? __pfx_exit_mmap+0x10/0x10
[   61.711426]  ? trace_hardirqs_on+0x51/0x60
[   61.711740]  ? __khugepaged_exit+0x266/0x4c0
[   61.712051]  ? kmem_cache_free+0x15d/0x420
[   61.712350]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.712798]  __mmput+0xd6/0x390
[   61.713040]  mmput+0x74/0x90
[   61.713258]  do_exit+0xa03/0x29f0
[   61.713507]  ? trace_hardirqs_on+0x51/0x60
[   61.713810]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.714238]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.714572]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.714904]  ? __pfx_do_exit+0x10/0x10
[   61.715169]  ? __audit_syscall_entry+0x39c/0x500
[   61.715577]  __x64_sys_exit+0x50/0x60
[   61.715868]  x64_sys_call+0x20c9/0x20d0
[   61.716138]  do_syscall_64+0x6d/0x140
[   61.716456]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.716927] RIP: 0033:0x7f730f23ee5d
[   61.717210] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   61.717631] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.718135] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   61.718598] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.719062] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   61.719514] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   61.719960] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   61.720412]  </TASK>
[   61.720561] Modules linked in:
[   61.720901] ---[ end trace 0000000000000000 ]---
[   61.721204] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.721580] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.722780] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   61.723119] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   61.723558] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   61.724137] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   61.724569] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.724999] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   61.725437] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   61.725921] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.726272] CR2: 00007f730f3fca50 CR3: 00000000147b0004 CR4: 0000000000770ef0
[   61.726720] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.727151] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.727581] PKRU: 55555554
[   61.727757] note: repro[20243] exited with preempt_count 1
[   61.728089] Fixing recursive fault but reboot is needed!
[   61.728409] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20243
[   61.728877] caller is debug_smp_processor_id+0x20/0x30
[   61.729199] CPU: 0 UID: 0 PID: 20243 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   61.729753] Tainted: [D]=DIE, [W]=WARN
[   61.729976] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.730618] Call Trace:
[   61.730771]  <TASK>
[   61.730905]  dump_stack_lvl+0x121/0x150
[   61.731147]  dump_stack+0x19/0x20
[   61.731358]  check_preemption_disabled+0x168/0x180
[   61.731647]  debug_smp_processor_id+0x20/0x30
[   61.731914]  __schedule+0x9a/0x2eb0
[   61.732131]  ? rcu_is_watching+0x19/0xc0
[   61.732371]  ? lock_release+0x592/0x870
[   61.732607]  ? __pfx___schedule+0x10/0x10
[   61.732852]  ? debug_smp_processor_id+0x20/0x30
[   61.733126]  ? rcu_is_watching+0x19/0xc0
[   61.733354]  ? trace_irq_enable+0xe1/0x120
[   61.733603]  ? do_task_dead+0x4a/0x110
[   61.733833]  do_task_dead+0xe0/0x110
[   61.734057]  make_task_dead+0x384/0x3c0
[   61.734290]  rewind_stack_and_make_dead+0x16/0x20
[   61.734562] RIP: 0033:0x7f730f23ee5d
[   61.734773] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   61.735112] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.735529] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   61.735922] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.736314] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   61.736714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   61.737106] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   61.737507]  </TASK>
[   61.737664] BUG: scheduling while atomic: repro/20243/0x00000000
[   61.738005] INFO: lockdep is turned off.
[   61.738225] Modules linked in:
[   61.738401] Preemption disabled at:
[   61.738404] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   61.738909] CPU: 0 UID: 0 PID: 20243 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   61.739419] Tainted: [D]=DIE, [W]=WARN
[   61.739626] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.740224] Call Trace:
[   61.740365]  <TASK>
[   61.740491]  dump_stack_lvl+0x121/0x150
[   61.740727]  ? do_task_dead+0x28/0x110
[   61.740947]  dump_stack+0x19/0x20
[   61.741145]  __schedule_bug+0x12d/0x180
[   61.741369]  __schedule+0x210c/0x2eb0
[   61.741573]  ? rcu_is_watching+0x19/0xc0
[   61.741792]  ? lock_release+0x592/0x870
[   61.742004]  ? __pfx___schedule+0x10/0x10
[   61.742225]  ? debug_smp_processor_id+0x20/0x30
[   61.742473]  ? rcu_is_watching+0x19/0xc0
[   61.742691]  ? trace_irq_enable+0xe1/0x120
[   61.742921]  ? do_task_dead+0x4a/0x110
[   61.743134]  do_task_dead+0xe0/0x110
[   61.743339]  make_task_dead+0x384/0x3c0
[   61.743554]  rewind_stack_and_make_dead+0x16/0x20
[   61.743813] RIP: 0033:0x7f730f23ee5d
[   61.744009] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   61.744328] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.744794] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   61.745165] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.745531] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   61.745890] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   61.746247] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   61.746615]  </TASK>
[   62.337175] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#147] PREEMPT SMP KASAN NOPTI
[   62.338248] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.338908] CPU: 0 UID: 0 PID: 20609 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   62.339788] Tainted: [D]=DIE, [W]=WARN
[   62.340302] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.341272] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.341811] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.343390] RSP: 0018:ffff8880105577d8 EFLAGS: 00010202
[   62.344136] RAX: dffffc0000000000 RBX: ffffea00009d1cc0 RCX: ffffffff81b9e6e9
[   62.344864] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d1cd0
[   62.345489] RBP: ffff8880105577f8 R08: 0000000000000000 R09: ffffed1001f28180
[   62.346117] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   62.346758] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f940c00
[   62.347383] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   62.348090] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.348600] CR2: 00007ffdcd14bac8 CR3: 000000000f682006 CR4: 0000000000770ef0
[   62.349270] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.349901] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.350523] PKRU: 55555554
[   62.350782] Call Trace:
[   62.351013]  <TASK>
[   62.351221]  ? show_regs+0xa8/0xc0
[   62.351559]  ? die_addr+0x5d/0xf0
[   62.352028]  ? exc_general_protection+0x1ae/0x340
[   62.352700]  ? asm_exc_general_protection+0x2b/0x30
[   62.353171]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.353701]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.354205]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.354695]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.355173]  zap_huge_pmd+0x494/0xd40
[   62.355533]  unmap_page_range+0x1ad6/0x4320
[   62.355934]  ? __pfx_lock_release+0x10/0x10
[   62.356321]  ? do_raw_spin_trylock+0xbf/0x190
[   62.356738]  ? __kasan_check_read+0x15/0x20
[   62.357142]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.357614]  ? __pfx_unmap_page_range+0x10/0x10
[   62.358065]  unmap_single_vma+0x1ac/0x2d0
[   62.358689]  unmap_vmas+0x210/0x470
[   62.359083]  ? __pfx_unmap_vmas+0x10/0x10
[   62.359466]  ? __pfx_lock_release+0x10/0x10
[   62.359887]  ? lock_release+0x592/0x870
[   62.360250]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   62.360715]  ? __pfx_lock_release+0x10/0x10
[   62.361111]  ? mlock_drain_local+0x27f/0x4b0
[   62.361522]  exit_mmap+0x19e/0xb10
[   62.361865]  ? __pfx_exit_mmap+0x10/0x10
[   62.362247]  ? trace_hardirqs_on+0x51/0x60
[   62.362644]  ? __khugepaged_exit+0x266/0x4c0
[   62.363057]  ? kmem_cache_free+0x15d/0x420
[   62.363450]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.363962]  __mmput+0xd6/0x390
[   62.364442]  mmput+0x74/0x90
[   62.364888]  do_exit+0xa03/0x29f0
[   62.365245]  ? trace_hardirqs_on+0x51/0x60
[   62.365641]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.366211]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.366660]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.367115]  ? __pfx_do_exit+0x10/0x10
[   62.367479]  ? __audit_syscall_entry+0x39c/0x500
[   62.367920]  __x64_sys_exit+0x50/0x60
[   62.368272]  x64_sys_call+0x20c9/0x20d0
[   62.368634]  do_syscall_64+0x6d/0x140
[   62.369004]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.369494] RIP: 0033:0x7f730f23ee5d
[   62.369874] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   62.370438] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.371114] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   62.371737] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.372356] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   62.372975] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   62.373592] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   62.374292]  </TASK>
[   62.374502] Modules linked in:
[   62.375131] ---[ end trace 0000000000000000 ]---
[   62.375545] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.376052] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.377631] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   62.378087] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   62.378774] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   62.379623] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   62.380254] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.380853] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   62.381502] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   62.382433] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.383173] CR2: 00007ffdcd14bac8 CR3: 000000000f682006 CR4: 0000000000770ef0
[   62.383958] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.384759] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.385850] PKRU: 55555554
[   62.386160] note: repro[20609] exited with preempt_count 1
[   62.386779] Fixing recursive fault but reboot is needed!
[   62.387346] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20609
[   62.388186] caller is debug_smp_processor_id+0x20/0x30
[   62.388756] CPU: 0 UID: 0 PID: 20609 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   62.389773] Tainted: [D]=DIE, [W]=WARN
[   62.390183] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.391335] Call Trace:
[   62.391600]  <TASK>
[   62.391836]  dump_stack_lvl+0x121/0x150
[   62.392260]  dump_stack+0x19/0x20
[   62.392627]  check_preemption_disabled+0x168/0x180
[   62.393144]  debug_smp_processor_id+0x20/0x30
[   62.393610]  __schedule+0x9a/0x2eb0
[   62.393991]  ? rcu_is_watching+0x19/0xc0
[   62.394413]  ? lock_release+0x592/0x870
[   62.394834]  ? __pfx___schedule+0x10/0x10
[   62.395263]  ? debug_smp_processor_id+0x20/0x30
[   62.395744]  ? rcu_is_watching+0x19/0xc0
[   62.396161]  ? trace_irq_enable+0xe1/0x120
[   62.396609]  ? do_task_dead+0x4a/0x110
[   62.397012]  do_task_dead+0xe0/0x110
[   62.397390]  make_task_dead+0x384/0x3c0
[   62.397798]  rewind_stack_and_make_dead+0x16/0x20
[   62.398275] RIP: 0033:0x7f730f23ee5d
[   62.398640] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   62.399241] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.400289] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   62.400981] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.401668] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   62.402363] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   62.403026] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   62.403694]  </TASK>
[   62.404036] BUG: scheduling while atomic: repro/20609/0x00000000
[   62.404604] INFO: lockdep is turned off.
[   62.404979] Modules linked in:
[   62.405280] Preemption disabled at:
[   62.405285] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   62.406629] CPU: 0 UID: 0 PID: 20609 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   62.407521] Tainted: [D]=DIE, [W]=WARN
[   62.407883] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.408911] Call Trace:
[   62.409089]  <TASK>
[   62.409244]  dump_stack_lvl+0x121/0x150
[   62.409524]  ? do_task_dead+0x28/0x110
[   62.409803]  dump_stack+0x19/0x20
[   62.410053]  __schedule_bug+0x12d/0x180
[   62.410333]  __schedule+0x210c/0x2eb0
[   62.410598]  ? rcu_is_watching+0x19/0xc0
[   62.410881]  ? lock_release+0x592/0x870
[   62.411158]  ? __pfx___schedule+0x10/0x10
[   62.411446]  ? debug_smp_processor_id+0x20/0x30
[   62.411819]  ? rcu_is_watching+0x19/0xc0
[   62.412234]  ? trace_irq_enable+0xe1/0x120
[   62.412635]  ? do_task_dead+0x4a/0x110
[   62.412951]  do_task_dead+0xe0/0x110
[   62.413232]  make_task_dead+0x384/0x3c0
[   62.413514]  rewind_stack_and_make_dead+0x16/0x20
[   62.413848] RIP: 0033:0x7f730f23ee5d
[   62.414104] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   62.414521] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.415031] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   62.415492] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.415949] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   62.416401] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   62.416860] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   62.417323]  </TASK>
[   62.834555] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#148] PREEMPT SMP KASAN NOPTI
[   62.835674] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.836348] CPU: 1 UID: 0 PID: 20859 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   62.837545] Tainted: [D]=DIE, [W]=WARN
[   62.837929] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.838976] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.839534] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.841190] RSP: 0018:ffff88801d98f7d8 EFLAGS: 00010202
[   62.841911] RAX: dffffc0000000000 RBX: ffffea000098e480 RCX: ffffffff81b9e6e9
[   62.842550] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000098e490
[   62.843189] RBP: ffff88801d98f7f8 R08: 0000000000000000 R09: ffffed1004483398
[   62.843834] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.844503] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888022419cc0
[   62.845151] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   62.846171] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.846698] CR2: 00007f730f52b000 CR3: 0000000027430005 CR4: 0000000000770ef0
[   62.847356] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.848010] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.848668] PKRU: 55555554
[   62.848941] Call Trace:
[   62.849281]  <TASK>
[   62.849620]  ? show_regs+0xa8/0xc0
[   62.850131]  ? die_addr+0x5d/0xf0
[   62.850479]  ? exc_general_protection+0x1ae/0x340
[   62.850961]  ? asm_exc_general_protection+0x2b/0x30
[   62.851463]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.851962]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.852455]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.852987]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.853496]  zap_huge_pmd+0x494/0xd40
[   62.853875]  unmap_page_range+0x1ad6/0x4320
[   62.854328]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.854881]  ? __pfx_unmap_page_range+0x10/0x10
[   62.855405]  unmap_single_vma+0x1ac/0x2d0
[   62.855827]  unmap_vmas+0x210/0x470
[   62.856189]  ? __pfx_unmap_vmas+0x10/0x10
[   62.856582]  ? __pfx_lock_release+0x10/0x10
[   62.856998]  ? lock_release+0x592/0x870
[   62.857374]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   62.857857]  ? __pfx_lock_release+0x10/0x10
[   62.858273]  ? mlock_drain_local+0x27f/0x4b0
[   62.858706]  exit_mmap+0x19e/0xb10
[   62.859066]  ? __pfx_exit_mmap+0x10/0x10
[   62.859482]  ? trace_hardirqs_on+0x51/0x60
[   62.859900]  ? __khugepaged_exit+0x266/0x4c0
[   62.860327]  ? kmem_cache_free+0x15d/0x420
[   62.860758]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.861301]  __mmput+0xd6/0x390
[   62.861633]  mmput+0x74/0x90
[   62.861942]  do_exit+0xa03/0x29f0
[   62.862292]  ? trace_hardirqs_on+0x51/0x60
[   62.862711]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.863305]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.863897]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.864573]  ? __pfx_do_exit+0x10/0x10
[   62.864964]  ? __audit_syscall_entry+0x39c/0x500
[   62.865423]  __x64_sys_exit+0x50/0x60
[   62.865810]  x64_sys_call+0x20c9/0x20d0
[   62.866177]  do_syscall_64+0x6d/0x140
[   62.866530]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.867011] RIP: 0033:0x7f730f23ee5d
[   62.867327] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   62.867840] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.868475] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   62.869074] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.869701] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   62.870314] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   62.870914] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   62.871541]  </TASK>
[   62.871739] Modules linked in:
[   62.872249] ---[ end trace 0000000000000000 ]---
[   62.872682] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.873213] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.874779] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   62.875234] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   62.875856] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   62.876436] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   62.877029] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.877600] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   62.878298] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   62.879156] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.879662] CR2: 00007f730f52b000 CR3: 0000000027430005 CR4: 0000000000770ef0
[   62.880252] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.880818] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.881354] PKRU: 55555554
[   62.881572] note: repro[20859] exited with preempt_count 1
[   62.881992] Fixing recursive fault but reboot is needed!
[   62.882394] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20859
[   62.883008] caller is debug_smp_processor_id+0x20/0x30
[   62.883435] CPU: 1 UID: 0 PID: 20859 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   62.884165] Tainted: [D]=DIE, [W]=WARN
[   62.884462] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.885302] Call Trace:
[   62.885501]  <TASK>
[   62.885681]  dump_stack_lvl+0x121/0x150
[   62.886000]  dump_stack+0x19/0x20
[   62.886290]  check_preemption_disabled+0x168/0x180
[   62.886842]  debug_smp_processor_id+0x20/0x30
[   62.887298]  __schedule+0x9a/0x2eb0
[   62.887587]  ? rcu_is_watching+0x19/0xc0
[   62.887902]  ? lock_release+0x592/0x870
[   62.888202]  ? __pfx___schedule+0x10/0x10
[   62.888521]  ? debug_smp_processor_id+0x20/0x30
[   62.888878]  ? rcu_is_watching+0x19/0xc0
[   62.889175]  ? trace_irq_enable+0xe1/0x120
[   62.889504]  ? do_task_dead+0x4a/0x110
[   62.889830]  do_task_dead+0xe0/0x110
[   62.890123]  make_task_dead+0x384/0x3c0
[   62.890431]  rewind_stack_and_make_dead+0x16/0x20
[   62.890794] RIP: 0033:0x7f730f23ee5d
[   62.891065] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   62.891511] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.892063] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   62.892591] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.893571] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   62.894252] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   62.894932] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   62.895624]  </TASK>
[   62.895929] BUG: scheduling while atomic: repro/20859/0x00000000
[   62.896479] INFO: lockdep is turned off.
[   62.896855] Modules linked in:
[   62.897153] Preemption disabled at:
[   62.897160] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   62.898026] CPU: 1 UID: 0 PID: 20859 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   62.898928] Tainted: [D]=DIE, [W]=WARN
[   62.899294] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.900321] Call Trace:
[   62.900564]  <TASK>
[   62.900782]  dump_stack_lvl+0x121/0x150
[   62.901162]  ? do_task_dead+0x28/0x110
[   62.901525]  dump_stack+0x19/0x20
[   62.901879]  __schedule_bug+0x12d/0x180
[   62.902177]  __schedule+0x210c/0x2eb0
[   62.902442]  ? rcu_is_watching+0x19/0xc0
[   62.902722]  ? lock_release+0x592/0x870
[   62.902993]  ? __pfx___schedule+0x10/0x10
[   62.903274]  ? debug_smp_processor_id+0x20/0x30
[   62.903586]  ? rcu_is_watching+0x19/0xc0
[   62.903851]  ? trace_irq_enable+0xe1/0x120
[   62.904136]  ? do_task_dead+0x4a/0x110
[   62.904398]  do_task_dead+0xe0/0x110
[   62.904650]  make_task_dead+0x384/0x3c0
[   62.904919]  rewind_stack_and_make_dead+0x16/0x20
[   62.905359] RIP: 0033:0x7f730f23ee5d
[   62.905706] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   62.906116] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.906593] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   62.907037] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.907486] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   62.907936] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   62.908377] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   62.908818]  </TASK>
[   63.202545] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#149] PREEMPT SMP KASAN NOPTI
[   63.203070] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.203387] CPU: 0 UID: 0 PID: 21071 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.203788] Tainted: [D]=DIE, [W]=WARN
[   63.203949] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.204411] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.204664] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.205414] RSP: 0018:ffff888010fcf7d8 EFLAGS: 00010202
[   63.205637] RAX: dffffc0000000000 RBX: ffffea0000c2a1c0 RCX: ffffffff81b9e6e9
[   63.205933] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2a1d0
[   63.206227] RBP: ffff888010fcf7f8 R08: 0000000000000000 R09: ffffed1001f1a998
[   63.206522] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   63.206817] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f8d4cc0
[   63.207111] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   63.207447] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.207691] CR2: 00007f730f24e1f0 CR3: 000000000f684002 CR4: 0000000000770ef0
[   63.207989] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.208283] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.208579] PKRU: 55555554
[   63.208700] Call Trace:
[   63.208813]  <TASK>
[   63.208912]  ? show_regs+0xa8/0xc0
[   63.209071]  ? die_addr+0x5d/0xf0
[   63.209225]  ? exc_general_protection+0x1ae/0x340
[   63.209437]  ? asm_exc_general_protection+0x2b/0x30
[   63.209656]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.209880]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.210103]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.210326]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.210552]  zap_huge_pmd+0x494/0xd40
[   63.210726]  unmap_page_range+0x1ad6/0x4320
[   63.210913]  ? __pfx_lock_release+0x10/0x10
[   63.211100]  ? do_raw_spin_trylock+0xbf/0x190
[   63.211294]  ? __kasan_check_read+0x15/0x20
[   63.211485]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.211713]  ? __pfx_unmap_page_range+0x10/0x10
[   63.211920]  unmap_single_vma+0x1ac/0x2d0
[   63.212103]  unmap_vmas+0x210/0x470
[   63.212267]  ? __pfx_unmap_vmas+0x10/0x10
[   63.212447]  ? __pfx_lock_release+0x10/0x10
[   63.212630]  ? lock_release+0x592/0x870
[   63.212803]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   63.213019]  ? __pfx_lock_release+0x10/0x10
[   63.213205]  ? mlock_drain_local+0x27f/0x4b0
[   63.213398]  exit_mmap+0x19e/0xb10
[   63.213557]  ? __pfx_exit_mmap+0x10/0x10
[   63.213741]  ? trace_hardirqs_on+0x51/0x60
[   63.213929]  ? __khugepaged_exit+0x266/0x4c0
[   63.214119]  ? kmem_cache_free+0x15d/0x420
[   63.214305]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.214538]  __mmput+0xd6/0x390
[   63.214686]  mmput+0x74/0x90
[   63.214820]  do_exit+0xa03/0x29f0
[   63.214974]  ? trace_hardirqs_on+0x51/0x60
[   63.215158]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.215424]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.215637]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.215849]  ? __pfx_do_exit+0x10/0x10
[   63.216019]  ? __audit_syscall_entry+0x39c/0x500
[   63.216226]  __x64_sys_exit+0x50/0x60
[   63.216392]  x64_sys_call+0x20c9/0x20d0
[   63.216564]  do_syscall_64+0x6d/0x140
[   63.216735]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.216957] RIP: 0033:0x7f730f23ee5d
[   63.217116] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.217372] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.217690] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.217987] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.218284] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.218580] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.218876] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.219177]  </TASK>
[   63.219277] Modules linked in:
[   63.219556] ---[ end trace 0000000000000000 ]---
[   63.219759] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.220009] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.220768] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   63.220990] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   63.221287] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   63.221584] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   63.221884] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.222180] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   63.222536] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   63.222874] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.223117] CR2: 00007f730f24e1f0 CR3: 000000000f684002 CR4: 0000000000770ef0
[   63.223416] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.223715] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.224021] PKRU: 55555554
[   63.224142] note: repro[21071] exited with preempt_count 1
[   63.224373] Fixing recursive fault but reboot is needed!
[   63.224643] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21071
[   63.225174] caller is debug_smp_processor_id+0x20/0x30
[   63.225536] CPU: 0 UID: 0 PID: 21071 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.226081] Tainted: [D]=DIE, [W]=WARN
[   63.226242] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.226716] Call Trace:
[   63.226827]  <TASK>
[   63.226925]  dump_stack_lvl+0x121/0x150
[   63.227102]  dump_stack+0x19/0x20
[   63.227256]  check_preemption_disabled+0x168/0x180
[   63.227467]  debug_smp_processor_id+0x20/0x30
[   63.227660]  __schedule+0x9a/0x2eb0
[   63.227819]  ? rcu_is_watching+0x19/0xc0
[   63.227994]  ? lock_release+0x592/0x870
[   63.228164]  ? __pfx___schedule+0x10/0x10
[   63.228342]  ? debug_smp_processor_id+0x20/0x30
[   63.228541]  ? rcu_is_watching+0x19/0xc0
[   63.228716]  ? trace_irq_enable+0xe1/0x120
[   63.228901]  ? do_task_dead+0x4a/0x110
[   63.229074]  do_task_dead+0xe0/0x110
[   63.229240]  make_task_dead+0x384/0x3c0
[   63.229415]  rewind_stack_and_make_dead+0x16/0x20
[   63.229621] RIP: 0033:0x7f730f23ee5d
[   63.229781] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.230041] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.230359] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.230657] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.230954] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.231256] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.231555] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.231859]  </TASK>
[   63.232040] BUG: scheduling while atomic: repro/21071/0x00000000
[   63.232296] INFO: lockdep is turned off.
[   63.232465] Modules linked in:
[   63.232602] Preemption disabled at:
[   63.232604] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   63.232989] CPU: 0 UID: 0 PID: 21071 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.233386] Tainted: [D]=DIE, [W]=WARN
[   63.233547] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.234013] Call Trace:
[   63.234124]  <TASK>
[   63.234223]  dump_stack_lvl+0x121/0x150
[   63.234398]  ? do_task_dead+0x28/0x110
[   63.234569]  dump_stack+0x19/0x20
[   63.234725]  __schedule_bug+0x12d/0x180
[   63.234901]  __schedule+0x210c/0x2eb0
[   63.235065]  ? rcu_is_watching+0x19/0xc0
[   63.235239]  ? lock_release+0x592/0x870
[   63.235410]  ? __pfx___schedule+0x10/0x10
[   63.235589]  ? debug_smp_processor_id+0x20/0x30
[   63.235789]  ? rcu_is_watching+0x19/0xc0
[   63.235965]  ? trace_irq_enable+0xe1/0x120
[   63.236153]  ? do_task_dead+0x4a/0x110
[   63.236328]  do_task_dead+0xe0/0x110
[   63.236494]  make_task_dead+0x384/0x3c0
[   63.236672]  rewind_stack_and_make_dead+0x16/0x20
[   63.236879] RIP: 0033:0x7f730f23ee5d
[   63.237039] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.237298] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.237614] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.237912] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.238209] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.238508] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.238808] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.239113]  </TASK>
[   63.602936] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#150] PREEMPT SMP KASAN NOPTI
[   63.604069] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.604754] CPU: 1 UID: 0 PID: 21337 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.605609] Tainted: [D]=DIE, [W]=WARN
[   63.605961] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.606961] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.607505] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.609437] RSP: 0018:ffff88801108f7d8 EFLAGS: 00010202
[   63.609926] RAX: dffffc0000000000 RBX: ffffea0000c6ce40 RCX: ffffffff81b9e6e9
[   63.610561] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c6ce50
[   63.611202] RBP: ffff88801108f7f8 R08: 0000000000000000 R09: ffffed10042e2920
[   63.611846] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   63.612479] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888021714900
[   63.613124] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   63.613941] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.614687] CR2: 00007f730f516df0 CR3: 0000000027650005 CR4: 0000000000770ef0
[   63.615326] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.615970] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.616604] PKRU: 55555554
[   63.616869] Call Trace:
[   63.617103]  <TASK>
[   63.617314]  ? show_regs+0xa8/0xc0
[   63.617656]  ? die_addr+0x5d/0xf0
[   63.618004]  ? exc_general_protection+0x1ae/0x340
[   63.618470]  ? asm_exc_general_protection+0x2b/0x30
[   63.618956]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.619444]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.619941]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.620703]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.621195]  zap_huge_pmd+0x494/0xd40
[   63.621567]  unmap_page_range+0x1ad6/0x4320
[   63.622002]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.622487]  ? __pfx_unmap_page_range+0x10/0x10
[   63.622943]  unmap_single_vma+0x1ac/0x2d0
[   63.623342]  unmap_vmas+0x210/0x470
[   63.623707]  ? __pfx_unmap_vmas+0x10/0x10
[   63.624082]  ? __pfx_lock_release+0x10/0x10
[   63.624459]  ? lock_release+0x592/0x870
[   63.624816]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   63.625262]  ? __pfx_lock_release+0x10/0x10
[   63.625649]  ? mlock_drain_local+0x27f/0x4b0
[   63.626165]  exit_mmap+0x19e/0xb10
[   63.626691]  ? __pfx_exit_mmap+0x10/0x10
[   63.627155]  ? trace_hardirqs_on+0x51/0x60
[   63.627596]  ? __khugepaged_exit+0x266/0x4c0
[   63.628042]  ? kmem_cache_free+0x15d/0x420
[   63.628439]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.628937]  __mmput+0xd6/0x390
[   63.629246]  mmput+0x74/0x90
[   63.629535]  do_exit+0xa03/0x29f0
[   63.629862]  ? trace_hardirqs_on+0x51/0x60
[   63.630262]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.630829]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.631275]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.631744]  ? __pfx_do_exit+0x10/0x10
[   63.632134]  ? __audit_syscall_entry+0x39c/0x500
[   63.632564]  __x64_sys_exit+0x50/0x60
[   63.632933]  x64_sys_call+0x20c9/0x20d0
[   63.633300]  do_syscall_64+0x6d/0x140
[   63.633663]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.634135] RIP: 0033:0x7f730f23ee5d
[   63.634474] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.635019] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.635682] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.636306] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.637248] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.637921] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.638541] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.639132]  </TASK>
[   63.639332] Modules linked in:
[   63.639708] ---[ end trace 0000000000000000 ]---
[   63.640101] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.640569] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.641963] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   63.642401] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   63.643378] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   63.643959] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   63.644514] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.645075] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   63.645630] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   63.646261] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.646736] CR2: 00007f730f516df0 CR3: 0000000027650005 CR4: 0000000000770ef0
[   63.647292] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.647828] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.648356] PKRU: 55555554
[   63.648572] note: repro[21337] exited with preempt_count 1
[   63.649241] Fixing recursive fault but reboot is needed!
[   63.649768] BUG: scheduling while atomic: repro/21337/0x00000000
[   63.650218] INFO: lockdep is turned off.
[   63.650532] Modules linked in:
[   63.650787] Preemption disabled at:
[   63.650791] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   63.651479] CPU: 1 UID: 0 PID: 21337 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.652285] Tainted: [D]=DIE, [W]=WARN
[   63.652635] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.653560] Call Trace:
[   63.653761]  <TASK>
[   63.653938]  dump_stack_lvl+0x121/0x150
[   63.654250]  ? do_task_dead+0x28/0x110
[   63.654555]  dump_stack+0x19/0x20
[   63.654836]  __schedule_bug+0x12d/0x180
[   63.655139]  __schedule+0x210c/0x2eb0
[   63.655421]  ? rcu_is_watching+0x19/0xc0
[   63.655722]  ? lock_release+0x592/0x870
[   63.656018]  ? __pfx___schedule+0x10/0x10
[   63.656324]  ? debug_smp_processor_id+0x20/0x30
[   63.656667]  ? rcu_is_watching+0x19/0xc0
[   63.656975]  ? trace_irq_enable+0xe1/0x120
[   63.657541]  ? do_task_dead+0x4a/0x110
[   63.658037]  do_task_dead+0xe0/0x110
[   63.658409]  make_task_dead+0x384/0x3c0
[   63.658803]  rewind_stack_and_make_dead+0x16/0x20
[   63.659267] RIP: 0033:0x7f730f23ee5d
[   63.659622] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.660204] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.660905] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.661545] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.662187] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.662829] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.663468] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.664121]  </TASK>
[   63.677267] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#151] PREEMPT SMP KASAN NOPTI
[   63.678156] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.678728] CPU: 0 UID: 0 PID: 21385 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.679405] Tainted: [D]=DIE, [W]=WARN
[   63.679834] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.680848] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.681280] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.682538] RSP: 0018:ffff88800db9f7d8 EFLAGS: 00010202
[   63.682913] RAX: dffffc0000000000 RBX: ffffea0000585d40 RCX: ffffffff81b9e6e9
[   63.683395] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000585d50
[   63.683878] RBP: ffff88800db9f7f8 R08: 0000000000000000 R09: ffffed10021e60cc
[   63.684358] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   63.684841] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010f30660
[   63.685327] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   63.686057] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.686722] CR2: 0000000000404200 CR3: 00000000132e8005 CR4: 0000000000770ef0
[   63.687308] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.687889] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.688455] PKRU: 55555554
[   63.688690] Call Trace:
[   63.688902]  <TASK>
[   63.689074]  ? show_regs+0xa8/0xc0
[   63.689322]  ? die_addr+0x5d/0xf0
[   63.689567]  ? exc_general_protection+0x1ae/0x340
[   63.689911]  ? asm_exc_general_protection+0x2b/0x30
[   63.690258]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.690613]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.690975]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.691331]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.691693]  zap_huge_pmd+0x494/0xd40
[   63.691965]  unmap_page_range+0x1ad6/0x4320
[   63.692407]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.692906]  ? __pfx_unmap_page_range+0x10/0x10
[   63.693237]  unmap_single_vma+0x1ac/0x2d0
[   63.693527]  unmap_vmas+0x210/0x470
[   63.693790]  ? __pfx_unmap_vmas+0x10/0x10
[   63.694072]  ? __pfx_lock_release+0x10/0x10
[   63.694363]  ? lock_release+0x592/0x870
[   63.694630]  ? mas_next_slot+0x133a/0x1a50
[   63.694922]  ? __pfx_lock_release+0x10/0x10
[   63.695214]  ? mlock_drain_local+0x27f/0x4b0
[   63.695519]  exit_mmap+0x19e/0xb10
[   63.695780]  ? __pfx_exit_mmap+0x10/0x10
[   63.696065]  ? trace_hardirqs_on+0x51/0x60
[   63.696361]  ? __khugepaged_exit+0x266/0x4c0
[   63.696668]  ? kmem_cache_free+0x15d/0x420
[   63.696962]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.697329]  __mmput+0xd6/0x390
[   63.697567]  mmput+0x74/0x90
[   63.697784]  do_exit+0xa03/0x29f0
[   63.698032]  ? trace_hardirqs_on+0x51/0x60
[   63.698504]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.699241]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.699663]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.700089]  ? __pfx_do_exit+0x10/0x10
[   63.700424]  ? __audit_syscall_entry+0x39c/0x500
[   63.700836]  __x64_sys_exit+0x50/0x60
[   63.701172]  x64_sys_call+0x20c9/0x20d0
[   63.701511]  do_syscall_64+0x6d/0x140
[   63.701846]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.702278] RIP: 0033:0x7f730f23ee5d
[   63.702579] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.703076] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.703689] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.704263] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.705111] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.705735] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.706308] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.706895]  </TASK>
[   63.707086] Modules linked in:
[   63.707584] ---[ end trace 0000000000000000 ]---
[   63.707967] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.708431] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.710073] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   63.710588] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   63.711401] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   63.711975] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   63.712533] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.713093] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   63.713649] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   63.714258] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.714831] CR2: 0000000000404200 CR3: 00000000132e8005 CR4: 0000000000770ef0
[   63.715373] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.715913] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.716448] PKRU: 55555554
[   63.716663] note: repro[21385] exited with preempt_count 1
[   63.717274] Fixing recursive fault but reboot is needed!
[   63.717826] BUG: scheduling while atomic: repro/21385/0x00000000
[   63.718287] INFO: lockdep is turned off.
[   63.718676] Modules linked in:
[   63.718925] Preemption disabled at:
[   63.718928] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   63.719998] CPU: 0 UID: 0 PID: 21385 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.720897] Tainted: [D]=DIE, [W]=WARN
[   63.721175] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.721991] Call Trace:
[   63.722178]  <TASK>
[   63.722344]  dump_stack_lvl+0x121/0x150
[   63.722645]  ? do_task_dead+0x28/0x110
[   63.722943]  dump_stack+0x19/0x20
[   63.723333]  __schedule_bug+0x12d/0x180
[   63.723777]  __schedule+0x210c/0x2eb0
[   63.724095]  ? rcu_is_watching+0x19/0xc0
[   63.724386]  ? lock_release+0x592/0x870
[   63.724675]  ? __pfx___schedule+0x10/0x10
[   63.724974]  ? debug_smp_processor_id+0x20/0x30
[   63.725308]  ? rcu_is_watching+0x19/0xc0
[   63.725597]  ? trace_irq_enable+0xe1/0x120
[   63.725910]  ? do_task_dead+0x4a/0x110
[   63.726195]  do_task_dead+0xe0/0x110
[   63.726470]  make_task_dead+0x384/0x3c0
[   63.726761]  rewind_stack_and_make_dead+0x16/0x20
[   63.727106] RIP: 0033:0x7f730f23ee5d
[   63.727369] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   63.727804] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.728336] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   63.728839] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.729337] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   63.729824] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   63.730309] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   63.730807]  </TASK>
[   63.986001] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#152] PREEMPT SMP KASAN NOPTI
[   63.986885] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.987436] CPU: 1 UID: 0 PID: 21540 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   63.988106] Tainted: [D]=DIE, [W]=WARN
[   63.988379] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.989420] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.989904] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.991194] RSP: 0018:ffff888031b0f7d8 EFLAGS: 00010202
[   63.991572] RAX: dffffc0000000000 RBX: ffffea0000c26700 RCX: ffffffff81b9e6e9
[   63.992084] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c26710
[   63.992586] RBP: ffff888031b0f7f8 R08: 0000000000000000 R09: ffffed100288f2d8
[   63.993093] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   63.993599] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880144796c0
[   63.994115] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   63.994690] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.995090] CR2: 00007f730f517910 CR3: 0000000030a9c005 CR4: 0000000000770ef0
[   63.995567] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.996046] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.996523] PKRU: 55555554
[   63.996722] Call Trace:
[   63.996900]  <TASK>
[   63.997058]  ? show_regs+0xa8/0xc0
[   63.997442]  ? die_addr+0x5d/0xf0
[   63.997836]  ? exc_general_protection+0x1ae/0x340
[   63.998186]  ? asm_exc_general_protection+0x2b/0x30
[   63.998549]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.998919]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.999288]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.999656]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.000030]  zap_huge_pmd+0x494/0xd40
[   64.000313]  unmap_page_range+0x1ad6/0x4320
[   64.000621]  ? __pfx_lock_release+0x10/0x10
[   64.000929]  ? do_raw_spin_trylock+0xbf/0x190
[   64.001248]  ? __kasan_check_read+0x15/0x20
[   64.001557]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.001932]  ? __pfx_unmap_page_range+0x10/0x10
[   64.002268]  unmap_single_vma+0x1ac/0x2d0
[   64.002568]  unmap_vmas+0x210/0x470
[   64.002839]  ? __pfx_unmap_vmas+0x10/0x10
[   64.003133]  ? __pfx_lock_release+0x10/0x10
[   64.003555]  ? lock_release+0x592/0x870
[   64.003942]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.004312]  ? __pfx_lock_release+0x10/0x10
[   64.004604]  ? mlock_drain_local+0x27f/0x4b0
[   64.004913]  exit_mmap+0x19e/0xb10
[   64.005173]  ? __pfx_exit_mmap+0x10/0x10
[   64.005460]  ? trace_hardirqs_on+0x51/0x60
[   64.005761]  ? __khugepaged_exit+0x266/0x4c0
[   64.006064]  ? kmem_cache_free+0x15d/0x420
[   64.006354]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.006719]  __mmput+0xd6/0x390
[   64.006952]  mmput+0x74/0x90
[   64.007160]  do_exit+0xa03/0x29f0
[   64.007400]  ? trace_hardirqs_on+0x51/0x60
[   64.007691]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.008103]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.008425]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.008756]  ? __pfx_do_exit+0x10/0x10
[   64.009016]  ? __audit_syscall_entry+0x39c/0x500
[   64.009329]  __x64_sys_exit+0x50/0x60
[   64.009701]  x64_sys_call+0x20c9/0x20d0
[   64.010066]  do_syscall_64+0x6d/0x140
[   64.010375]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.010720] RIP: 0033:0x7f730f23ee5d
[   64.010961] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.011350] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.011833] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.012273] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.012708] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.013131] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.013551] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.013987]  </TASK>
[   64.014131] Modules linked in:
[   64.014448] ---[ end trace 0000000000000000 ]---
[   64.014858] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.015223] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.016316] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   64.016828] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   64.017260] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   64.017683] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   64.018099] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.018624] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   64.019121] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.019968] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.020527] CR2: 00007f730f517910 CR3: 0000000030a9c005 CR4: 0000000000770ef0
[   64.021180] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.021595] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.022013] PKRU: 55555554
[   64.022181] note: repro[21540] exited with preempt_count 1
[   64.022541] Fixing recursive fault but reboot is needed!
[   64.022859] check_preemption_disabled: 2 callbacks suppressed
[   64.022865] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21540
[   64.023622] caller is debug_smp_processor_id+0x20/0x30
[   64.023921] CPU: 1 UID: 0 PID: 21540 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.024453] Tainted: [D]=DIE, [W]=WARN
[   64.024816] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.025479] Call Trace:
[   64.025626]  <TASK>
[   64.025762]  dump_stack_lvl+0x121/0x150
[   64.026113]  dump_stack+0x19/0x20
[   64.026364]  check_preemption_disabled+0x168/0x180
[   64.026645]  debug_smp_processor_id+0x20/0x30
[   64.026907]  __schedule+0x9a/0x2eb0
[   64.027118]  ? rcu_is_watching+0x19/0xc0
[   64.027528]  ? lock_release+0x592/0x870
[   64.027761]  ? __pfx___schedule+0x10/0x10
[   64.027991]  ? debug_smp_processor_id+0x20/0x30
[   64.028247]  ? rcu_is_watching+0x19/0xc0
[   64.028540]  ? trace_irq_enable+0xe1/0x120
[   64.028893]  ? do_task_dead+0x4a/0x110
[   64.029118]  do_task_dead+0xe0/0x110
[   64.029330]  make_task_dead+0x384/0x3c0
[   64.029555]  rewind_stack_and_make_dead+0x16/0x20
[   64.029838] RIP: 0033:0x7f730f23ee5d
[   64.030090] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.030421] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.030831] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.031314] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.031703] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.032085] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.032466] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.032855]  </TASK>
[   64.033008] BUG: scheduling while atomic: repro/21540/0x00000000
[   64.033359] INFO: lockdep is turned off.
[   64.033569] Modules linked in:
[   64.033745] Preemption disabled at:
[   64.033748] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   64.034228] CPU: 1 UID: 0 PID: 21540 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.034736] Tainted: [D]=DIE, [W]=WARN
[   64.034937] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.035699] Call Trace:
[   64.035936]  <TASK>
[   64.036147]  dump_stack_lvl+0x121/0x150
[   64.036525]  ? do_task_dead+0x28/0x110
[   64.036996]  dump_stack+0x19/0x20
[   64.037269]  __schedule_bug+0x12d/0x180
[   64.037490]  __schedule+0x210c/0x2eb0
[   64.037703]  ? rcu_is_watching+0x19/0xc0
[   64.037918]  ? lock_release+0x592/0x870
[   64.038126]  ? __pfx___schedule+0x10/0x10
[   64.038343]  ? debug_smp_processor_id+0x20/0x30
[   64.038588]  ? rcu_is_watching+0x19/0xc0
[   64.038874]  ? trace_irq_enable+0xe1/0x120
[   64.039101]  ? do_task_dead+0x4a/0x110
[   64.039312]  do_task_dead+0xe0/0x110
[   64.039515]  make_task_dead+0x384/0x3c0
[   64.039733]  rewind_stack_and_make_dead+0x16/0x20
[   64.039982] RIP: 0033:0x7f730f23ee5d
[   64.040173] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.040482] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.040867] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.041225] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.041573] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.041925] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.042275] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.042631]  </TASK>
[   64.043131] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#153] PREEMPT SMP KASAN NOPTI
[   64.043839] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.044218] CPU: 1 UID: 0 PID: 21584 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.044826] Tainted: [D]=DIE, [W]=WARN
[   64.045020] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.045640] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.046027] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.047213] RSP: 0018:ffff8880319e77d8 EFLAGS: 00010202
[   64.047518] RAX: dffffc0000000000 RBX: ffffea00009d5e40 RCX: ffffffff81b9e6e9
[   64.047979] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d5e50
[   64.048438] RBP: ffff8880319e77f8 R08: 0000000000000000 R09: ffffed10042e2878
[   64.049011] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.049355] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880217143c0
[   64.049706] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.050219] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.050487] CR2: 00007f730f517910 CR3: 00000000308e2001 CR4: 0000000000770ef0
[   64.050826] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.051154] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.051542] PKRU: 55555554
[   64.051804] Call Trace:
[   64.052039]  <TASK>
[   64.052249]  ? show_regs+0xa8/0xc0
[   64.052591]  ? die_addr+0x5d/0xf0
[   64.052902]  ? exc_general_protection+0x1ae/0x340
[   64.053248]  ? asm_exc_general_protection+0x2b/0x30
[   64.053583]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.053907]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.054160]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.054405]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.054650]  zap_huge_pmd+0x494/0xd40
[   64.054850]  unmap_page_range+0x1ad6/0x4320
[   64.055209]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.055452]  ? __pfx_unmap_page_range+0x10/0x10
[   64.055682]  unmap_single_vma+0x1ac/0x2d0
[   64.055883]  unmap_vmas+0x210/0x470
[   64.056062]  ? __pfx_unmap_vmas+0x10/0x10
[   64.056259]  ? __pfx_lock_release+0x10/0x10
[   64.056460]  ? lock_release+0x592/0x870
[   64.056647]  ? mas_next_slot+0x133a/0x1a50
[   64.056960]  ? __pfx_lock_release+0x10/0x10
[   64.057164]  ? mlock_drain_local+0x27f/0x4b0
[   64.057374]  exit_mmap+0x19e/0xb10
[   64.057550]  ? __pfx_exit_mmap+0x10/0x10
[   64.057751]  ? trace_hardirqs_on+0x51/0x60
[   64.057970]  ? __khugepaged_exit+0x266/0x4c0
[   64.058238]  ? kmem_cache_free+0x15d/0x420
[   64.058497]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.058806]  __mmput+0xd6/0x390
[   64.058965]  mmput+0x74/0x90
[   64.059110]  do_exit+0xa03/0x29f0
[   64.059341]  ? trace_hardirqs_on+0x51/0x60
[   64.059594]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.060007]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.060248]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.060474]  ? __pfx_do_exit+0x10/0x10
[   64.060657]  ? __audit_syscall_entry+0x39c/0x500
[   64.060876]  __x64_sys_exit+0x50/0x60
[   64.061053]  x64_sys_call+0x20c9/0x20d0
[   64.061233]  do_syscall_64+0x6d/0x140
[   64.061410]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.061640] RIP: 0033:0x7f730f23ee5d
[   64.061807] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.062072] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.062398] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.062709] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.063014] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.063319] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.063621] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.063928]  </TASK>
[   64.064030] Modules linked in:
[   64.064220] ---[ end trace 0000000000000000 ]---
[   64.064427] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.064759] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.065782] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   64.066195] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   64.066651] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   64.067056] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   64.067454] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.067863] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   64.068285] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.068789] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.069152] CR2: 00007f730f517910 CR3: 00000000308e2001 CR4: 0000000000770ef0
[   64.069600] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.070018] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.070417] PKRU: 55555554
[   64.070590] note: repro[21584] exited with preempt_count 1
[   64.070907] Fixing recursive fault but reboot is needed!
[   64.071208] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21584
[   64.071647] caller is debug_smp_processor_id+0x20/0x30
[   64.072062] CPU: 1 UID: 0 PID: 21584 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.072739] Tainted: [D]=DIE, [W]=WARN
[   64.072956] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.073587] Call Trace:
[   64.073734]  <TASK>
[   64.073867]  dump_stack_lvl+0x121/0x150
[   64.074096]  dump_stack+0x19/0x20
[   64.074300]  check_preemption_disabled+0x168/0x180
[   64.074582]  debug_smp_processor_id+0x20/0x30
[   64.074841]  __schedule+0x9a/0x2eb0
[   64.075053]  ? rcu_is_watching+0x19/0xc0
[   64.075283]  ? lock_release+0x592/0x870
[   64.075510]  ? __pfx___schedule+0x10/0x10
[   64.075745]  ? debug_smp_processor_id+0x20/0x30
[   64.076009]  ? rcu_is_watching+0x19/0xc0
[   64.076238]  ? trace_irq_enable+0xe1/0x120
[   64.076479]  ? do_task_dead+0x4a/0x110
[   64.076706]  do_task_dead+0xe0/0x110
[   64.076923]  make_task_dead+0x384/0x3c0
[   64.077153]  rewind_stack_and_make_dead+0x16/0x20
[   64.077435] RIP: 0033:0x7f730f23ee5d
[   64.077646] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.077996] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.078593] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.079037] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.079432] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.079739] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.080042] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.080351]  </TASK>
[   64.080543] BUG: scheduling while atomic: repro/21584/0x00000000
[   64.080813] INFO: lockdep is turned off.
[   64.080982] Modules linked in:
[   64.081121] Preemption disabled at:
[   64.081124] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   64.081515] CPU: 1 UID: 0 PID: 21584 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.081925] Tainted: [D]=DIE, [W]=WARN
[   64.082087] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.082571] Call Trace:
[   64.082689]  <TASK>
[   64.082789]  dump_stack_lvl+0x121/0x150
[   64.082971]  ? do_task_dead+0x28/0x110
[   64.083152]  dump_stack+0x19/0x20
[   64.083314]  __schedule_bug+0x12d/0x180
[   64.083493]  __schedule+0x210c/0x2eb0
[   64.083661]  ? rcu_is_watching+0x19/0xc0
[   64.083839]  ? lock_release+0x592/0x870
[   64.084190]  ? __pfx___schedule+0x10/0x10
[   64.084921]  ? debug_smp_processor_id+0x20/0x30
[   64.085336]  ? rcu_is_watching+0x19/0xc0
[   64.085565]  ? trace_irq_enable+0xe1/0x120
[   64.085817]  ? do_task_dead+0x4a/0x110
[   64.086046]  do_task_dead+0xe0/0x110
[   64.086263]  make_task_dead+0x384/0x3c0
[   64.086502]  rewind_stack_and_make_dead+0x16/0x20
[   64.086773] RIP: 0033:0x7f730f23ee5d
[   64.086985] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.087331] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.087760] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.088154] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.088547] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.088946] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.089338] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.089735]  </TASK>
[   64.470792] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#154] PREEMPT SMP KASAN NOPTI
[   64.472215] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.473021] CPU: 0 UID: 0 PID: 21838 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.473936] Tainted: [D]=DIE, [W]=WARN
[   64.474289] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.475304] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.475863] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.477494] RSP: 0018:ffff88802767f7d8 EFLAGS: 00010202
[   64.478159] RAX: dffffc0000000000 RBX: ffffea0000c696c0 RCX: ffffffff81b9e6e9
[   64.478833] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c696d0
[   64.479515] RBP: ffff88802767f7f8 R08: 0000000000000000 R09: ffffed1001d741a4
[   64.480244] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   64.480895] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800eba0d20
[   64.481524] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   64.482248] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.482794] CR2: 00007f730f51a3f4 CR3: 0000000031a9c001 CR4: 0000000000770ef0
[   64.483439] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.484119] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.484737] PKRU: 55555554
[   64.485062] Call Trace:
[   64.485366]  <TASK>
[   64.485638]  ? show_regs+0xa8/0xc0
[   64.486152]  ? die_addr+0x5d/0xf0
[   64.486527]  ? exc_general_protection+0x1ae/0x340
[   64.486993]  ? asm_exc_general_protection+0x2b/0x30
[   64.487463]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.487932]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.488399]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.488875]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.489347]  zap_huge_pmd+0x494/0xd40
[   64.489708]  unmap_page_range+0x1ad6/0x4320
[   64.490343]  ? __pfx_lock_release+0x10/0x10
[   64.490753]  ? do_raw_spin_trylock+0xbf/0x190
[   64.491164]  ? __kasan_check_read+0x15/0x20
[   64.491556]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.492005]  ? __pfx_unmap_page_range+0x10/0x10
[   64.492441]  unmap_single_vma+0x1ac/0x2d0
[   64.492823]  unmap_vmas+0x210/0x470
[   64.493161]  ? __pfx_unmap_vmas+0x10/0x10
[   64.493533]  ? __pfx_lock_release+0x10/0x10
[   64.494120]  ? lock_release+0x592/0x870
[   64.494633]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.495060]  ? __pfx_lock_release+0x10/0x10
[   64.495434]  ? mlock_drain_local+0x27f/0x4b0
[   64.495892]  exit_mmap+0x19e/0xb10
[   64.496216]  ? __pfx_exit_mmap+0x10/0x10
[   64.496567]  ? trace_hardirqs_on+0x51/0x60
[   64.496944]  ? __khugepaged_exit+0x266/0x4c0
[   64.497310]  ? kmem_cache_free+0x15d/0x420
[   64.497689]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.498147]  __mmput+0xd6/0x390
[   64.498432]  mmput+0x74/0x90
[   64.498707]  do_exit+0xa03/0x29f0
[   64.499017]  ? trace_hardirqs_on+0x51/0x60
[   64.499398]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.499936]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.500359]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.500778]  ? __pfx_do_exit+0x10/0x10
[   64.501125]  ? __audit_syscall_entry+0x39c/0x500
[   64.501530]  __x64_sys_exit+0x50/0x60
[   64.501877]  x64_sys_call+0x20c9/0x20d0
[   64.502477]  do_syscall_64+0x6d/0x140
[   64.502954]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.503378] RIP: 0033:0x7f730f23ee5d
[   64.503676] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.504154] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.504741] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.505278] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.505820] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.506488] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.507328] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.508069]  </TASK>
[   64.508309] Modules linked in:
[   64.508743] ---[ end trace 0000000000000000 ]---
[   64.509226] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.509835] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.511697] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   64.512219] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   64.513237] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   64.513943] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   64.514657] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.515358] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   64.516052] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   64.516769] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.517227] CR2: 00007f730f51a3f4 CR3: 0000000031a9c001 CR4: 0000000000770ef0
[   64.517778] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.518303] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.518861] PKRU: 55555554
[   64.519079] note: repro[21838] exited with preempt_count 1
[   64.519482] Fixing recursive fault but reboot is needed!
[   64.519887] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21838
[   64.520471] caller is debug_smp_processor_id+0x20/0x30
[   64.520868] CPU: 0 UID: 0 PID: 21838 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.521539] Tainted: [D]=DIE, [W]=WARN
[   64.521866] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.522654] Call Trace:
[   64.522925]  <TASK>
[   64.523161]  dump_stack_lvl+0x121/0x150
[   64.523553]  dump_stack+0x19/0x20
[   64.523816]  check_preemption_disabled+0x168/0x180
[   64.524168]  debug_smp_processor_id+0x20/0x30
[   64.524496]  __schedule+0x9a/0x2eb0
[   64.524766]  ? rcu_is_watching+0x19/0xc0
[   64.525054]  ? lock_release+0x592/0x870
[   64.525336]  ? __pfx___schedule+0x10/0x10
[   64.525628]  ? debug_smp_processor_id+0x20/0x30
[   64.525963]  ? rcu_is_watching+0x19/0xc0
[   64.526252]  ? trace_irq_enable+0xe1/0x120
[   64.526560]  ? do_task_dead+0x4a/0x110
[   64.526895]  do_task_dead+0xe0/0x110
[   64.527195]  make_task_dead+0x384/0x3c0
[   64.527489]  rewind_stack_and_make_dead+0x16/0x20
[   64.527839] RIP: 0033:0x7f730f23ee5d
[   64.528107] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.528534] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.529266] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.529912] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.530382] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.530861] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.531337] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.531831]  </TASK>
[   64.532023] BUG: scheduling while atomic: repro/21838/0x00000000
[   64.532434] INFO: lockdep is turned off.
[   64.532762] Modules linked in:
[   64.532984] Preemption disabled at:
[   64.532988] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   64.533547] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#155] PREEMPT SMP KASAN NOPTI
[   64.533596] CPU: 0 UID: 0 PID: 21838 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.534533] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.535158] Tainted: [D]=DIE, [W]=WARN
[   64.535739] CPU: 1 UID: 0 PID: 21878 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.535982] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.536962] Tainted: [D]=DIE, [W]=WARN
[   64.537751] Call Trace:
[   64.538052] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.538225]  <TASK>
[   64.539090] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.539230]  dump_stack_lvl+0x121/0x150
[   64.539680] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.539940]  ? do_task_dead+0x28/0x110
[   64.541329] RSP: 0018:ffff8880105277d8 EFLAGS: 00010202
[   64.541562]  dump_stack+0x19/0x20
[   64.541986] RAX: dffffc0000000000 RBX: ffffea0000c2c300 RCX: ffffffff81b9e6e9
[   64.542198]  __schedule_bug+0x12d/0x180
[   64.542961] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2c310
[   64.543203]  __schedule+0x210c/0x2eb0
[   64.543731] RBP: ffff8880105277f8 R08: 0000000000000000 R09: ffffed10026fc0c0
[   64.543964]  ? rcu_is_watching+0x19/0xc0
[   64.544485] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.544733]  ? lock_release+0x592/0x870
[   64.545254] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880137e0600
[   64.545587]  ? __pfx___schedule+0x10/0x10
[   64.546105] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.546358]  ? debug_smp_processor_id+0x20/0x30
[   64.546941] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.547219]  ? rcu_is_watching+0x19/0xc0
[   64.547644] CR2: 00007f8809da9000 CR3: 000000000f92c001 CR4: 0000000000770ef0
[   64.547889]  ? trace_irq_enable+0xe1/0x120
[   64.548544] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.548805]  ? do_task_dead+0x4a/0x110
[   64.549453] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.549754]  do_task_dead+0xe0/0x110
[   64.550245] PKRU: 55555554
[   64.550523]  make_task_dead+0x384/0x3c0
[   64.550723] Call Trace:
[   64.551020]  rewind_stack_and_make_dead+0x16/0x20
[   64.551199]  <TASK>
[   64.551555] RIP: 0033:0x7f730f23ee5d
[   64.551722]  ? show_regs+0xa8/0xc0
[   64.551997] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.552246]  ? die_addr+0x5d/0xf0
[   64.552712] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.552960]  ? exc_general_protection+0x1ae/0x340
[   64.553510] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.553855]  ? asm_exc_general_protection+0x2b/0x30
[   64.554364] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.554724]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.555453] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.555819]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.556337] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.556705]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.557223] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.557678]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.558077]  </TASK>
[   64.558531]  zap_huge_pmd+0x494/0xd40
[   64.559050]  unmap_page_range+0x1ad6/0x4320
[   64.559459]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.559934]  ? __pfx_unmap_page_range+0x10/0x10
[   64.560371]  unmap_single_vma+0x1ac/0x2d0
[   64.560804]  unmap_vmas+0x210/0x470
[   64.561293]  ? __pfx_unmap_vmas+0x10/0x10
[   64.561761]  ? __pfx_lock_release+0x10/0x10
[   64.562157]  ? lock_release+0x592/0x870
[   64.562524]  ? mas_next_slot+0x133a/0x1a50
[   64.562920]  ? __pfx_lock_release+0x10/0x10
[   64.563321]  ? mlock_drain_local+0x27f/0x4b0
[   64.563727]  exit_mmap+0x19e/0xb10
[   64.564054]  ? __pfx_exit_mmap+0x10/0x10
[   64.564428]  ? trace_hardirqs_on+0x51/0x60
[   64.564820]  ? __khugepaged_exit+0x266/0x4c0
[   64.565215]  ? kmem_cache_free+0x15d/0x420
[   64.565593]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.566081]  __mmput+0xd6/0x390
[   64.566384]  mmput+0x74/0x90
[   64.566661]  do_exit+0xa03/0x29f0
[   64.566984]  ? trace_hardirqs_on+0x51/0x60
[   64.567516]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.568145]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.568587]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.569014]  ? __pfx_do_exit+0x10/0x10
[   64.569352]  ? __audit_syscall_entry+0x39c/0x500
[   64.569762]  __x64_sys_exit+0x50/0x60
[   64.570091]  x64_sys_call+0x20c9/0x20d0
[   64.570432]  do_syscall_64+0x6d/0x140
[   64.570768]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.571208] RIP: 0033:0x7f730f23ee5d
[   64.571523] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.572039] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.572676] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.573270] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.574083] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.574683] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.575276] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.575862]  </TASK>
[   64.576054] Modules linked in:
[   64.576480] ---[ end trace 0000000000000000 ]---
[   64.576871] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.577352] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.578957] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   64.579378] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   64.580180] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   64.580751] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   64.581307] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.581863] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   64.582679] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.583649] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.584130] CR2: 00007f8809da9000 CR3: 000000000f92c001 CR4: 0000000000770ef0
[   64.584688] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.585234] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.585774] PKRU: 55555554
[   64.586082] note: repro[21878] exited with preempt_count 1
[   64.586691] Fixing recursive fault but reboot is needed!
[   64.587093] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21878
[   64.587681] caller is debug_smp_processor_id+0x20/0x30
[   64.588088] CPU: 1 UID: 0 PID: 21878 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.588808] Tainted: [D]=DIE, [W]=WARN
[   64.589098] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.589941] Call Trace:
[   64.590130]  <TASK>
[   64.590295]  dump_stack_lvl+0x121/0x150
[   64.590599]  dump_stack+0x19/0x20
[   64.590867]  check_preemption_disabled+0x168/0x180
[   64.591231]  debug_smp_processor_id+0x20/0x30
[   64.591562]  __schedule+0x9a/0x2eb0
[   64.591949]  ? rcu_is_watching+0x19/0xc0
[   64.592370]  ? lock_release+0x592/0x870
[   64.592729]  ? __pfx___schedule+0x10/0x10
[   64.593036]  ? debug_smp_processor_id+0x20/0x30
[   64.593379]  ? rcu_is_watching+0x19/0xc0
[   64.593681]  ? trace_irq_enable+0xe1/0x120
[   64.594010]  ? do_task_dead+0x4a/0x110
[   64.594305]  do_task_dead+0xe0/0x110
[   64.594588]  make_task_dead+0x384/0x3c0
[   64.594891]  rewind_stack_and_make_dead+0x16/0x20
[   64.595248] RIP: 0033:0x7f730f23ee5d
[   64.595512] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.595947] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.596478] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.596979] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.597479] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.597985] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.598485] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.598996]  </TASK>
[   64.599329] BUG: scheduling while atomic: repro/21878/0x00000000
[   64.599980] INFO: lockdep is turned off.
[   64.600257] Modules linked in:
[   64.600479] Preemption disabled at:
[   64.600482] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   64.601107] CPU: 1 UID: 0 PID: 21878 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   64.601759] Tainted: [D]=DIE, [W]=WARN
[   64.602019] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.602768] Call Trace:
[   64.602945]  <TASK>
[   64.603101]  dump_stack_lvl+0x121/0x150
[   64.603374]  ? do_task_dead+0x28/0x110
[   64.603642]  dump_stack+0x19/0x20
[   64.603885]  __schedule_bug+0x12d/0x180
[   64.604157]  __schedule+0x210c/0x2eb0
[   64.604414]  ? rcu_is_watching+0x19/0xc0
[   64.604694]  ? lock_release+0x592/0x870
[   64.604968]  ? __pfx___schedule+0x10/0x10
[   64.605346]  ? debug_smp_processor_id+0x20/0x30
[   64.605788]  ? rcu_is_watching+0x19/0xc0
[   64.606118]  ? trace_irq_enable+0xe1/0x120
[   64.606403]  ? do_task_dead+0x4a/0x110
[   64.606665]  do_task_dead+0xe0/0x110
[   64.606922]  make_task_dead+0x384/0x3c0
[   64.607187]  rewind_stack_and_make_dead+0x16/0x20
[   64.607502] RIP: 0033:0x7f730f23ee5d
[   64.607747] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   64.608145] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.608633] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   64.609092] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.609548] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   64.610008] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   64.610454] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   64.610907]  </TASK>
[   65.399341] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#156] PREEMPT SMP KASAN NOPTI
[   65.400455] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.401186] CPU: 0 UID: 0 PID: 22432 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.401972] Tainted: [D]=DIE, [W]=WARN
[   65.402287] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.403243] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.403980] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.405518] RSP: 0018:ffff888016def7d8 EFLAGS: 00010202
[   65.405941] RAX: dffffc0000000000 RBX: ffffea00009d0e40 RCX: ffffffff81b9e6e9
[   65.406484] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d0e50
[   65.407037] RBP: ffff888016def7f8 R08: 0000000000000000 R09: ffffed1001eb7854
[   65.407581] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.408266] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f5bc2a0
[   65.408982] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.409690] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.410326] CR2: 00007ffdcd14bac8 CR3: 0000000011e76005 CR4: 0000000000770ef0
[   65.410962] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.411508] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.412062] PKRU: 55555554
[   65.412284] Call Trace:
[   65.412484]  <TASK>
[   65.412674]  ? show_regs+0xa8/0xc0
[   65.412972]  ? die_addr+0x5d/0xf0
[   65.413244]  ? exc_general_protection+0x1ae/0x340
[   65.413693]  ? asm_exc_general_protection+0x2b/0x30
[   65.414214]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.414742]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.415152]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.415542]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.416136]  zap_huge_pmd+0x494/0xd40
[   65.416537]  unmap_page_range+0x1ad6/0x4320
[   65.416881]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.417276]  ? __pfx_unmap_page_range+0x10/0x10
[   65.417635]  unmap_single_vma+0x1ac/0x2d0
[   65.417958]  unmap_vmas+0x210/0x470
[   65.418247]  ? __pfx_unmap_vmas+0x10/0x10
[   65.418556]  ? __pfx_lock_release+0x10/0x10
[   65.418881]  ? lock_release+0x592/0x870
[   65.419186]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.419576]  ? __pfx_lock_release+0x10/0x10
[   65.419914]  ? mlock_drain_local+0x27f/0x4b0
[   65.420258]  exit_mmap+0x19e/0xb10
[   65.420538]  ? __pfx_exit_mmap+0x10/0x10
[   65.420856]  ? trace_hardirqs_on+0x51/0x60
[   65.421180]  ? __khugepaged_exit+0x266/0x4c0
[   65.421495]  ? kmem_cache_free+0x15d/0x420
[   65.421878]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.422463]  __mmput+0xd6/0x390
[   65.422775]  mmput+0x74/0x90
[   65.423059]  do_exit+0xa03/0x29f0
[   65.423322]  ? trace_hardirqs_on+0x51/0x60
[   65.423628]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.424137]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.424596]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.424960]  ? __pfx_do_exit+0x10/0x10
[   65.425244]  ? __audit_syscall_entry+0x39c/0x500
[   65.425616]  __x64_sys_exit+0x50/0x60
[   65.425900]  x64_sys_call+0x20c9/0x20d0
[   65.426186]  do_syscall_64+0x6d/0x140
[   65.426462]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.426838] RIP: 0033:0x7f730f23ee5d
[   65.427101] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.427524] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.428049] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.428753] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.429242] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.429723] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.430198] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.430683]  </TASK>
[   65.430846] Modules linked in:
[   65.431234] ---[ end trace 0000000000000000 ]---
[   65.431557] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.431962] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.433147] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   65.433490] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   65.433945] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   65.434788] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   65.435377] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.435839] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   65.436299] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.436866] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.437260] CR2: 00007ffdcd14bac8 CR3: 0000000011e76005 CR4: 0000000000770ef0
[   65.437881] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.438355] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.439139] PKRU: 55555554
[   65.439346] note: repro[22432] exited with preempt_count 1
[   65.439697] Fixing recursive fault but reboot is needed!
[   65.440036] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22432
[   65.440531] caller is debug_smp_processor_id+0x20/0x30
[   65.440878] CPU: 0 UID: 0 PID: 22432 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.441481] Tainted: [D]=DIE, [W]=WARN
[   65.441727] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.442415] Call Trace:
[   65.442576]  <TASK>
[   65.442729]  dump_stack_lvl+0x121/0x150
[   65.442990]  dump_stack+0x19/0x20
[   65.443219]  check_preemption_disabled+0x168/0x180
[   65.443522]  debug_smp_processor_id+0x20/0x30
[   65.443801]  __schedule+0x9a/0x2eb0
[   65.444032]  ? rcu_is_watching+0x19/0xc0
[   65.444282]  ? lock_release+0x592/0x870
[   65.444527]  ? __pfx___schedule+0x10/0x10
[   65.444906]  ? debug_smp_processor_id+0x20/0x30
[   65.445334]  ? rcu_is_watching+0x19/0xc0
[   65.445588]  ? trace_irq_enable+0xe1/0x120
[   65.445856]  ? do_task_dead+0x4a/0x110
[   65.446104]  do_task_dead+0xe0/0x110
[   65.446341]  make_task_dead+0x384/0x3c0
[   65.446592]  rewind_stack_and_make_dead+0x16/0x20
[   65.446896] RIP: 0033:0x7f730f23ee5d
[   65.447123] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.447490] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.447943] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.448358] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.448767] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.449173] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.449632] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.450127]  </TASK>
[   65.450362] BUG: scheduling while atomic: repro/22432/0x00000000
[   65.450824] INFO: lockdep is turned off.
[   65.451054] Modules linked in:
[   65.451241] Preemption disabled at:
[   65.451244] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   65.451874] CPU: 0 UID: 0 PID: 22432 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.452413] Tainted: [D]=DIE, [W]=WARN
[   65.452628] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.453248] Call Trace:
[   65.453394]  <TASK>
[   65.453524]  dump_stack_lvl+0x121/0x150
[   65.453762]  ? do_task_dead+0x28/0x110
[   65.453992]  dump_stack+0x19/0x20
[   65.454209]  __schedule_bug+0x12d/0x180
[   65.454447]  __schedule+0x210c/0x2eb0
[   65.454666]  ? rcu_is_watching+0x19/0xc0
[   65.455003]  ? lock_release+0x592/0x870
[   65.455343]  ? __pfx___schedule+0x10/0x10
[   65.455723]  ? debug_smp_processor_id+0x20/0x30
[   65.456029]  ? rcu_is_watching+0x19/0xc0
[   65.456264]  ? trace_irq_enable+0xe1/0x120
[   65.456513]  ? do_task_dead+0x4a/0x110
[   65.456754]  do_task_dead+0xe0/0x110
[   65.456978]  make_task_dead+0x384/0x3c0
[   65.457212]  rewind_stack_and_make_dead+0x16/0x20
[   65.457485] RIP: 0033:0x7f730f23ee5d
[   65.457698] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.458030] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.458499] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.458956] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.459428] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.459814] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.460192] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.460576]  </TASK>
[   65.659031] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#157] PREEMPT SMP KASAN NOPTI
[   65.660408] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.661287] CPU: 0 UID: 0 PID: 22559 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.662406] Tainted: [D]=DIE, [W]=WARN
[   65.662864] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.664047] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.664588] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.665881] RSP: 0018:ffff8880274677d8 EFLAGS: 00010202
[   65.666252] RAX: dffffc0000000000 RBX: ffffea00004104c0 RCX: ffffffff81b9e6e9
[   65.666747] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004104d0
[   65.667238] RBP: ffff8880274677f8 R08: 0000000000000000 R09: ffffed100381da54
[   65.667733] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.668221] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0ed2a0
[   65.668721] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.669274] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.669688] CR2: 00007f730f3fca50 CR3: 0000000030bbc006 CR4: 0000000000770ef0
[   65.670183] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.670685] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.671339] PKRU: 55555554
[   65.671618] Call Trace:
[   65.671883]  <TASK>
[   65.672102]  ? show_regs+0xa8/0xc0
[   65.672394]  ? die_addr+0x5d/0xf0
[   65.672690]  ? exc_general_protection+0x1ae/0x340
[   65.673031]  ? asm_exc_general_protection+0x2b/0x30
[   65.673385]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.673765]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.674123]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.674485]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.674869]  zap_huge_pmd+0x494/0xd40
[   65.675141]  unmap_page_range+0x1ad6/0x4320
[   65.675461]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.675816]  ? __pfx_unmap_page_range+0x10/0x10
[   65.676163]  unmap_single_vma+0x1ac/0x2d0
[   65.676453]  unmap_vmas+0x210/0x470
[   65.676722]  ? __pfx_unmap_vmas+0x10/0x10
[   65.677023]  ? __pfx_lock_release+0x10/0x10
[   65.677305]  ? lock_release+0x592/0x870
[   65.677565]  ? mas_next_slot+0x133a/0x1a50
[   65.677850]  ? __pfx_lock_release+0x10/0x10
[   65.678146]  ? mlock_drain_local+0x27f/0x4b0
[   65.678442]  exit_mmap+0x19e/0xb10
[   65.678758]  ? __pfx_exit_mmap+0x10/0x10
[   65.679122]  ? trace_hardirqs_on+0x51/0x60
[   65.679517]  ? __khugepaged_exit+0x266/0x4c0
[   65.679901]  ? kmem_cache_free+0x15d/0x420
[   65.680279]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.680757]  __mmput+0xd6/0x390
[   65.680987]  mmput+0x74/0x90
[   65.681192]  do_exit+0xa03/0x29f0
[   65.681426]  ? trace_hardirqs_on+0x51/0x60
[   65.681712]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.682133]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.682460]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.682808]  ? __pfx_do_exit+0x10/0x10
[   65.683082]  ? __audit_syscall_entry+0x39c/0x500
[   65.683401]  __x64_sys_exit+0x50/0x60
[   65.683656]  x64_sys_call+0x20c9/0x20d0
[   65.683915]  do_syscall_64+0x6d/0x140
[   65.684180]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.684522] RIP: 0033:0x7f730f23ee5d
[   65.684834] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.685331] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.685967] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.686546] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.686990] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.687432] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.687893] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.688343]  </TASK>
[   65.688493] Modules linked in:
[   65.688889] ---[ end trace 0000000000000000 ]---
[   65.689274] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.689773] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.691454] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   65.691904] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   65.692495] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   65.693098] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   65.693698] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.694270] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   65.694855] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.695479] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.695937] CR2: 00007f730f3fca50 CR3: 0000000030bbc006 CR4: 0000000000770ef0
[   65.696479] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.697041] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.697562] PKRU: 55555554
[   65.697762] note: repro[22559] exited with preempt_count 1
[   65.698188] Fixing recursive fault but reboot is needed!
[   65.698610] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22559
[   65.699191] caller is debug_smp_processor_id+0x20/0x30
[   65.699802] CPU: 0 UID: 0 PID: 22559 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.700511] Tainted: [D]=DIE, [W]=WARN
[   65.700806] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.701686] Call Trace:
[   65.701882]  <TASK>
[   65.702053]  dump_stack_lvl+0x121/0x150
[   65.702359]  dump_stack+0x19/0x20
[   65.702628]  check_preemption_disabled+0x168/0x180
[   65.702994]  debug_smp_processor_id+0x20/0x30
[   65.703323]  __schedule+0x9a/0x2eb0
[   65.703609]  ? rcu_is_watching+0x19/0xc0
[   65.703909]  ? lock_release+0x592/0x870
[   65.704222]  ? __pfx___schedule+0x10/0x10
[   65.704549]  ? debug_smp_processor_id+0x20/0x30
[   65.704921]  ? rcu_is_watching+0x19/0xc0
[   65.705256]  ? trace_irq_enable+0xe1/0x120
[   65.705565]  ? do_task_dead+0x4a/0x110
[   65.705835]  do_task_dead+0xe0/0x110
[   65.706055]  make_task_dead+0x384/0x3c0
[   65.706300]  rewind_stack_and_make_dead+0x16/0x20
[   65.706578] RIP: 0033:0x7f730f23ee5d
[   65.706789] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.707119] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.707540] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.707928] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.708312] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.708708] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.709094] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.709496]  </TASK>
[   65.709791] BUG: scheduling while atomic: repro/22559/0x00000000
[   65.710225] INFO: lockdep is turned off.
[   65.710528] Modules linked in:
[   65.710752] Preemption disabled at:
[   65.710758] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   65.711381] CPU: 0 UID: 0 PID: 22559 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.712032] Tainted: [D]=DIE, [W]=WARN
[   65.712300] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.713057] Call Trace:
[   65.713238]  <TASK>
[   65.713401]  dump_stack_lvl+0x121/0x150
[   65.713694]  ? do_task_dead+0x28/0x110
[   65.713973]  dump_stack+0x19/0x20
[   65.714225]  __schedule_bug+0x12d/0x180
[   65.714511]  __schedule+0x210c/0x2eb0
[   65.714794]  ? rcu_is_watching+0x19/0xc0
[   65.715086]  ? lock_release+0x592/0x870
[   65.715362]  ? __pfx___schedule+0x10/0x10
[   65.715599]  ? debug_smp_processor_id+0x20/0x30
[   65.715860]  ? rcu_is_watching+0x19/0xc0
[   65.716086]  ? trace_irq_enable+0xe1/0x120
[   65.716317]  ? do_task_dead+0x4a/0x110
[   65.716531]  do_task_dead+0xe0/0x110
[   65.716738]  make_task_dead+0x384/0x3c0
[   65.716970]  rewind_stack_and_make_dead+0x16/0x20
[   65.717234] RIP: 0033:0x7f730f23ee5d
[   65.717436] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.717760] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.718161] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.718534] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.718896] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.719265] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.719629] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.719998]  </TASK>
[   65.897471] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#158] PREEMPT SMP KASAN NOPTI
[   65.898231] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.898689] CPU: 1 UID: 0 PID: 22669 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.899238] Tainted: [D]=DIE, [W]=WARN
[   65.899459] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.900112] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.900468] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.901517] RSP: 0018:ffff888031a4f7d8 EFLAGS: 00010202
[   65.901831] RAX: dffffc0000000000 RBX: ffffea0000c63080 RCX: ffffffff81b9e6e9
[   65.902247] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c63090
[   65.902665] RBP: ffff888031a4f7f8 R08: 0000000000000000 R09: ffffed1006347200
[   65.903313] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.904039] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888031a39000
[   65.904589] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.905072] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.905420] CR2: 00007f730f4f5e28 CR3: 00000000308d4001 CR4: 0000000000770ef0
[   65.905844] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.906252] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.906651] PKRU: 55555554
[   65.906816] Call Trace:
[   65.906964]  <TASK>
[   65.907096]  ? show_regs+0xa8/0xc0
[   65.907320]  ? die_addr+0x5d/0xf0
[   65.907526]  ? exc_general_protection+0x1ae/0x340
[   65.907817]  ? asm_exc_general_protection+0x2b/0x30
[   65.908110]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.908409]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.908712]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.909011]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.909312]  zap_huge_pmd+0x494/0xd40
[   65.909539]  unmap_page_range+0x1ad6/0x4320
[   65.909799]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.910090]  ? __pfx_unmap_page_range+0x10/0x10
[   65.910358]  unmap_single_vma+0x1ac/0x2d0
[   65.910596]  unmap_vmas+0x210/0x470
[   65.910813]  ? __pfx_unmap_vmas+0x10/0x10
[   65.911046]  ? __pfx_lock_release+0x10/0x10
[   65.911286]  ? lock_release+0x592/0x870
[   65.911510]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.911796]  ? __pfx_lock_release+0x10/0x10
[   65.912039]  ? mlock_drain_local+0x27f/0x4b0
[   65.912288]  exit_mmap+0x19e/0xb10
[   65.912496]  ? __pfx_exit_mmap+0x10/0x10
[   65.912741]  ? trace_hardirqs_on+0x51/0x60
[   65.913079]  ? __khugepaged_exit+0x266/0x4c0
[   65.913397]  ? kmem_cache_free+0x15d/0x420
[   65.913674]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.913978]  __mmput+0xd6/0x390
[   65.914166]  mmput+0x74/0x90
[   65.914339]  do_exit+0xa03/0x29f0
[   65.914538]  ? trace_hardirqs_on+0x51/0x60
[   65.914781]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.915125]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.915396]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.915662]  ? __pfx_do_exit+0x10/0x10
[   65.915877]  ? __audit_syscall_entry+0x39c/0x500
[   65.916136]  __x64_sys_exit+0x50/0x60
[   65.916343]  x64_sys_call+0x20c9/0x20d0
[   65.916559]  do_syscall_64+0x6d/0x140
[   65.916775]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.917051] RIP: 0033:0x7f730f23ee5d
[   65.917252] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.917574] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.917981] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.918353] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.918729] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.919101] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.919472] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.919858]  </TASK>
[   65.919985] Modules linked in:
[   65.920260] ---[ end trace 0000000000000000 ]---
[   65.920505] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.920817] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.921744] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   65.922017] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   65.922377] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   65.922757] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   65.923120] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.923481] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   65.923847] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.924244] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.924532] CR2: 00007f730f4f5e28 CR3: 00000000308d4001 CR4: 0000000000770ef0
[   65.924889] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.925239] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.925601] PKRU: 55555554
[   65.925754] note: repro[22669] exited with preempt_count 1
[   65.926028] Fixing recursive fault but reboot is needed!
[   65.926290] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22669
[   65.926687] caller is debug_smp_processor_id+0x20/0x30
[   65.926951] CPU: 1 UID: 0 PID: 22669 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.927420] Tainted: [D]=DIE, [W]=WARN
[   65.927611] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.928156] Call Trace:
[   65.928283]  <TASK>
[   65.928396]  dump_stack_lvl+0x121/0x150
[   65.928598]  dump_stack+0x19/0x20
[   65.928779]  check_preemption_disabled+0x168/0x180
[   65.929021]  debug_smp_processor_id+0x20/0x30
[   65.929243]  __schedule+0x9a/0x2eb0
[   65.929427]  ? rcu_is_watching+0x19/0xc0
[   65.929628]  ? lock_release+0x592/0x870
[   65.929827]  ? __pfx___schedule+0x10/0x10
[   65.930035]  ? debug_smp_processor_id+0x20/0x30
[   65.930262]  ? rcu_is_watching+0x19/0xc0
[   65.930462]  ? trace_irq_enable+0xe1/0x120
[   65.930693]  ? do_task_dead+0x4a/0x110
[   65.930963]  do_task_dead+0xe0/0x110
[   65.931223]  make_task_dead+0x384/0x3c0
[   65.931452]  rewind_stack_and_make_dead+0x16/0x20
[   65.931722] RIP: 0033:0x7f730f23ee5d
[   65.931908] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.932202] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.932556] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.932889] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.933282] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.933656] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.934114] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.934497]  </TASK>
[   65.934628] BUG: scheduling while atomic: repro/22669/0x00000000
[   65.935185] INFO: lockdep is turned off.
[   65.935526] Modules linked in:
[   65.935824] Preemption disabled at:
[   65.935830] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   65.936475] CPU: 1 UID: 0 PID: 22669 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.936920] Tainted: [D]=DIE, [W]=WARN
[   65.937101] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.937603] Call Trace:
[   65.937732]  <TASK>
[   65.937842]  dump_stack_lvl+0x121/0x150
[   65.938032]  ? do_task_dead+0x28/0x110
[   65.938217]  dump_stack+0x19/0x20
[   65.938384]  __schedule_bug+0x12d/0x180
[   65.938575]  __schedule+0x210c/0x2eb0
[   65.938758]  ? rcu_is_watching+0x19/0xc0
[   65.938947]  ? lock_release+0x592/0x870
[   65.939132]  ? __pfx___schedule+0x10/0x10
[   65.939325]  ? debug_smp_processor_id+0x20/0x30
[   65.939551]  ? rcu_is_watching+0x19/0xc0
[   65.939744]  ? trace_irq_enable+0xe1/0x120
[   65.939786] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#159] PREEMPT SMP KASAN NOPTI
[   65.939944]  ? do_task_dead+0x4a/0x110
[   65.941126] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.941314]  do_task_dead+0xe0/0x110
[   65.941978] CPU: 0 UID: 0 PID: 22705 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   65.942135]  make_task_dead+0x384/0x3c0
[   65.942984] Tainted: [D]=DIE, [W]=WARN
[   65.943153]  rewind_stack_and_make_dead+0x16/0x20
[   65.943502] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.943740] RIP: 0033:0x7f730f23ee5d
[   65.944776] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.944933] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.945443] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.945706] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.947312] RSP: 0018:ffff88801448f7d8 EFLAGS: 00010202
[   65.947634] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.947636] 
[   65.947641] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.948104] RAX: dffffc0000000000 RBX: ffffea000050ad00 RCX: ffffffff81b9e6e9
[   65.948403] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.948558] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000050ad10
[   65.948851] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.949480] RBP: ffff88801448f7f8 R08: 0000000000000000 R09: ffffed1001ec34cc
[   65.949775] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.950400] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.950707]  </TASK>
[   65.951331] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f61a660
[   65.953251] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.953984] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.954516] CR2: 00007f8809df9000 CR3: 00000000319ca002 CR4: 0000000000770ef0
[   65.955168] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.955812] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.956452] PKRU: 55555554
[   65.956718] Call Trace:
[   65.956964]  <TASK>
[   65.957186]  ? show_regs+0xa8/0xc0
[   65.957530]  ? die_addr+0x5d/0xf0
[   65.957865]  ? exc_general_protection+0x1ae/0x340
[   65.958323]  ? asm_exc_general_protection+0x2b/0x30
[   65.958844]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.959551]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.960046]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.960549]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.961039]  zap_huge_pmd+0x494/0xd40
[   65.961406]  unmap_page_range+0x1ad6/0x4320
[   65.961962]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.962592]  ? __pfx_unmap_page_range+0x10/0x10
[   65.963167]  unmap_single_vma+0x1ac/0x2d0
[   65.963685]  unmap_vmas+0x210/0x470
[   65.964138]  ? __pfx_unmap_vmas+0x10/0x10
[   65.964643]  ? __pfx_lock_release+0x10/0x10
[   65.965165]  ? lock_release+0x592/0x870
[   65.965647]  ? mas_next_slot+0x133a/0x1a50
[   65.966172]  ? __pfx_lock_release+0x10/0x10
[   65.966701]  ? mlock_drain_local+0x27f/0x4b0
[   65.967241]  exit_mmap+0x19e/0xb10
[   65.967689]  ? __pfx_exit_mmap+0x10/0x10
[   65.968199]  ? trace_hardirqs_on+0x51/0x60
[   65.968728]  ? __khugepaged_exit+0x266/0x4c0
[   65.969263]  ? kmem_cache_free+0x15d/0x420
[   65.969792]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.970456]  __mmput+0xd6/0x390
[   65.970867]  mmput+0x74/0x90
[   65.971244]  do_exit+0xa03/0x29f0
[   65.971679]  ? trace_hardirqs_on+0x51/0x60
[   65.972199]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.972961]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.973565]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.974172]  ? __pfx_do_exit+0x10/0x10
[   65.974650]  ? __audit_syscall_entry+0x39c/0x500
[   65.975236]  __x64_sys_exit+0x50/0x60
[   65.975711]  x64_sys_call+0x20c9/0x20d0
[   65.976195]  do_syscall_64+0x6d/0x140
[   65.976667]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.977302] RIP: 0033:0x7f730f23ee5d
[   65.977754] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   65.978487] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.979396] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   65.980191] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.980838] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   65.981480] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   65.982126] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   65.982839]  </TASK>
[   65.983120] Modules linked in:
[   65.983734] ---[ end trace 0000000000000000 ]---
[   65.984308] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.985022] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.987328] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   65.987972] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   65.988825] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   65.989677] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   65.990546] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.991402] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   65.992256] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.993214] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.993766] CR2: 00007f8809df9000 CR3: 00000000319ca002 CR4: 0000000000770ef0
[   65.994413] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.995094] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.995819] PKRU: 55555554
[   65.996160] note: repro[22705] exited with preempt_count 1
[   65.996821] Fixing recursive fault but reboot is needed!
[   65.997455] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22705
[   65.998384] caller is debug_smp_processor_id+0x20/0x30
[   65.999057] CPU: 0 UID: 0 PID: 22705 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.000205] Tainted: [D]=DIE, [W]=WARN
[   66.000665] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.002013] Call Trace:
[   66.002325]  <TASK>
[   66.002600]  dump_stack_lvl+0x121/0x150
[   66.003093]  dump_stack+0x19/0x20
[   66.003524]  check_preemption_disabled+0x168/0x180
[   66.004121]  debug_smp_processor_id+0x20/0x30
[   66.004661]  __schedule+0x9a/0x2eb0
[   66.005110]  ? rcu_is_watching+0x19/0xc0
[   66.005500]  ? lock_release+0x592/0x870
[   66.005879]  ? __pfx___schedule+0x10/0x10
[   66.006262]  ? debug_smp_processor_id+0x20/0x30
[   66.006701]  ? rcu_is_watching+0x19/0xc0
[   66.007188]  ? trace_irq_enable+0xe1/0x120
[   66.007716]  ? do_task_dead+0x4a/0x110
[   66.008197]  do_task_dead+0xe0/0x110
[   66.008655]  make_task_dead+0x384/0x3c0
[   66.009150]  rewind_stack_and_make_dead+0x16/0x20
[   66.009748] RIP: 0033:0x7f730f23ee5d
[   66.010199] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.010928] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.011788] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.012590] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.013396] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.014204] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.015011] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.015835]  </TASK>
[   66.016162] BUG: scheduling while atomic: repro/22705/0x00000000
[   66.016857] INFO: lockdep is turned off.
[   66.017311] Modules linked in:
[   66.017677] Preemption disabled at:
[   66.017682] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   66.018776] CPU: 0 UID: 0 PID: 22705 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.019903] Tainted: [D]=DIE, [W]=WARN
[   66.020314] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.021524] Call Trace:
[   66.021810]  <TASK>
[   66.022059]  dump_stack_lvl+0x121/0x150
[   66.022502]  ? do_task_dead+0x28/0x110
[   66.022938]  dump_stack+0x19/0x20
[   66.023327]  __schedule_bug+0x12d/0x180
[   66.023771]  __schedule+0x210c/0x2eb0
[   66.024185]  ? rcu_is_watching+0x19/0xc0
[   66.024623]  ? lock_release+0x592/0x870
[   66.025061]  ? __pfx___schedule+0x10/0x10
[   66.025511]  ? debug_smp_processor_id+0x20/0x30
[   66.025996]  ? rcu_is_watching+0x19/0xc0
[   66.026414]  ? trace_irq_enable+0xe1/0x120
[   66.026863]  ? do_task_dead+0x4a/0x110
[   66.027278]  do_task_dead+0xe0/0x110
[   66.027680]  make_task_dead+0x384/0x3c0
[   66.028101]  rewind_stack_and_make_dead+0x16/0x20
[   66.028602] RIP: 0033:0x7f730f23ee5d
[   66.028987] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.029618] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.030400] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.031137] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.031867] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.032592] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.033311] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.034020]  </TASK>
[   66.218682] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#160] PREEMPT SMP KASAN NOPTI
[   66.219210] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.219569] CPU: 1 UID: 0 PID: 22816 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.219968] Tainted: [D]=DIE, [W]=WARN
[   66.220132] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.220598] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.220865] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.221628] RSP: 0018:ffff888011ddf7d8 EFLAGS: 00010202
[   66.221859] RAX: dffffc0000000000 RBX: ffffea0000987f00 RCX: ffffffff81b9e6e9
[   66.222160] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000987f10
[   66.222464] RBP: ffff888011ddf7f8 R08: 0000000000000000 R09: ffffed10031f9a30
[   66.222760] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.223176] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888018fcd180
[   66.223570] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.223922] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.224168] CR2: 0000000000404118 CR3: 0000000030932004 CR4: 0000000000770ef0
[   66.224468] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.224767] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.225069] PKRU: 55555554
[   66.225189] Call Trace:
[   66.225302]  <TASK>
[   66.225402]  ? show_regs+0xa8/0xc0
[   66.225568]  ? die_addr+0x5d/0xf0
[   66.225729]  ? exc_general_protection+0x1ae/0x340
[   66.225953]  ? asm_exc_general_protection+0x2b/0x30
[   66.226179]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.226408]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.226637]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.226870]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.227098]  zap_huge_pmd+0x494/0xd40
[   66.227276]  unmap_page_range+0x1ad6/0x4320
[   66.227470]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.227701]  ? __pfx_unmap_page_range+0x10/0x10
[   66.227917]  unmap_single_vma+0x1ac/0x2d0
[   66.228105]  unmap_vmas+0x210/0x470
[   66.228274]  ? __pfx_unmap_vmas+0x10/0x10
[   66.228463]  ? __pfx_lock_release+0x10/0x10
[   66.228655]  ? lock_release+0x592/0x870
[   66.228830]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.229113]  ? __pfx_lock_release+0x10/0x10
[   66.229360]  ? mlock_drain_local+0x27f/0x4b0
[   66.229638]  exit_mmap+0x19e/0xb10
[   66.229856]  ? __pfx_exit_mmap+0x10/0x10
[   66.230044]  ? trace_hardirqs_on+0x51/0x60
[   66.230239]  ? __khugepaged_exit+0x266/0x4c0
[   66.230438]  ? kmem_cache_free+0x15d/0x420
[   66.230628]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.230870]  __mmput+0xd6/0x390
[   66.231024]  mmput+0x74/0x90
[   66.231165]  do_exit+0xa03/0x29f0
[   66.231331]  ? trace_hardirqs_on+0x51/0x60
[   66.231523]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.231803]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.232032]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.232256]  ? __pfx_do_exit+0x10/0x10
[   66.232435]  ? __audit_syscall_entry+0x39c/0x500
[   66.232647]  __x64_sys_exit+0x50/0x60
[   66.232825]  x64_sys_call+0x20c9/0x20d0
[   66.233004]  do_syscall_64+0x6d/0x140
[   66.233178]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.233413] RIP: 0033:0x7f730f23ee5d
[   66.233580] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.233848] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.234172] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.234482] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.234785] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.235087] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.235389] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.235698]  </TASK>
[   66.235801] Modules linked in:
[   66.235964] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#161] PREEMPT SMP KASAN NOPTI
[   66.236083] ---[ end trace 0000000000000000 ]---
[   66.237907] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.238111] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.238826] CPU: 0 UID: 0 PID: 22820 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.239070] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.239954] Tainted: [D]=DIE, [W]=WARN
[   66.240801] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   66.241206] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.241432] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   66.242513] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.242818] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   66.243327] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.243728] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   66.245346] RSP: 0018:ffff8880145c77d8 EFLAGS: 00010202
[   66.245638] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.245640] 
[   66.245646] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   66.246114] RAX: dffffc0000000000 RBX: ffffea0000c684c0 RCX: ffffffff81b9e6e9
[   66.246405] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.246558] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c684d0
[   66.246571] RBP: ffff8880145c77f8 R08: 0000000000000000 R09: ffffed1003824460
[   66.246863] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.247494] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.247828] CR2: 0000000000404118 CR3: 0000000030932004 CR4: 0000000000770ef0
[   66.248453] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c122300
[   66.248762] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.249271] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   66.249585] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.250290] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.250628] PKRU: 55555554
[   66.251244] CR2: 00007f730f4f5e28 CR3: 0000000013f50003 CR4: 0000000000770ef0
[   66.251577] note: repro[22816] exited with preempt_count 1
[   66.252213] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.252452] Fixing recursive fault but reboot is needed!
[   66.252707] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.253001] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22816
[   66.253485] PKRU: 55555554
[   66.253778] caller is debug_smp_processor_id+0x20/0x30
[   66.254247] Call Trace:
[   66.254585] CPU: 1 UID: 0 PID: 22816 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.255234]  <TASK>
[   66.255362] Tainted: [D]=DIE, [W]=WARN
[   66.255822]  ? show_regs+0xa8/0xc0
[   66.255928] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.256762]  ? die_addr+0x5d/0xf0
[   66.256856] Call Trace:
[   66.257200]  ? exc_general_protection+0x1ae/0x340
[   66.257343]  <TASK>
[   66.258345]  ? asm_exc_general_protection+0x2b/0x30
[   66.258478]  dump_stack_lvl+0x121/0x150
[   66.258715]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.258907]  dump_stack+0x19/0x20
[   66.259108]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.259310]  check_preemption_disabled+0x168/0x180
[   66.259662]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.259875]  debug_smp_processor_id+0x20/0x30
[   66.260183]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.260394]  __schedule+0x9a/0x2eb0
[   66.260829]  zap_huge_pmd+0x494/0xd40
[   66.261050]  ? rcu_is_watching+0x19/0xc0
[   66.261446]  unmap_page_range+0x1ad6/0x4320
[   66.261655]  ? lock_release+0x592/0x870
[   66.261989]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.262131]  ? __pfx___schedule+0x10/0x10
[   66.262493]  ? __pfx_unmap_page_range+0x10/0x10
[   66.262665]  ? debug_smp_processor_id+0x20/0x30
[   66.263023]  unmap_single_vma+0x1ac/0x2d0
[   66.263221]  ? rcu_is_watching+0x19/0xc0
[   66.263587]  unmap_vmas+0x210/0x470
[   66.263776]  ? trace_irq_enable+0xe1/0x120
[   66.264199]  ? __pfx_unmap_vmas+0x10/0x10
[   66.264366]  ? do_task_dead+0x4a/0x110
[   66.264721]  ? __pfx_lock_release+0x10/0x10
[   66.264877]  do_task_dead+0xe0/0x110
[   66.265245]  ? lock_release+0x592/0x870
[   66.265419]  make_task_dead+0x384/0x3c0
[   66.265759]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.265939]  rewind_stack_and_make_dead+0x16/0x20
[   66.266267]  ? __pfx_lock_release+0x10/0x10
[   66.266425] RIP: 0033:0x7f730f23ee5d
[   66.266782]  ? mlock_drain_local+0x27f/0x4b0
[   66.266982] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.267416]  exit_mmap+0x19e/0xb10
[   66.267590] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   66.267924]  ? __pfx_exit_mmap+0x10/0x10
[   66.268098]  ORIG_RAX: 000000000000003c
[   66.268654]  ? trace_hardirqs_on+0x51/0x60
[   66.268793] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.269263]  ? __khugepaged_exit+0x266/0x4c0
[   66.269421] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.269772]  ? kmem_cache_free+0x15d/0x420
[   66.269942] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.270575]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.270761] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.271391]  __mmput+0xd6/0x390
[   66.271557] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.272169]  mmput+0x74/0x90
[   66.272394]  </TASK>
[   66.272985]  do_exit+0xa03/0x29f0
[   66.274457]  ? trace_hardirqs_on+0x51/0x60
[   66.274838]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.275381]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.275815]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.276246]  ? __pfx_do_exit+0x10/0x10
[   66.276593]  ? __audit_syscall_entry+0x39c/0x500
[   66.277016]  __x64_sys_exit+0x50/0x60
[   66.277355]  x64_sys_call+0x20c9/0x20d0
[   66.277710]  do_syscall_64+0x6d/0x140
[   66.278053]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.278505] RIP: 0033:0x7f730f23ee5d
[   66.278831] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.279354] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.280009] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.280617] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.281198] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.281781] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.282358] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.283012]  </TASK>
[   66.283230] Modules linked in:
[   66.283686] ---[ end trace 0000000000000000 ]---
[   66.284081] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.284566] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.286752] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   66.287329] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   66.288092] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   66.288825] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   66.289554] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.290287] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   66.291110] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   66.291942] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.292538] CR2: 00007f730f4f5e28 CR3: 0000000013f50003 CR4: 0000000000770ef0
[   66.293280] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.294015] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.294785] PKRU: 55555554
[   66.295079] note: repro[22820] exited with preempt_count 1
[   66.295619] Fixing recursive fault but reboot is needed!
[   66.296145] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22820
[   66.296914] caller is debug_smp_processor_id+0x20/0x30
[   66.297439] CPU: 0 UID: 0 PID: 22820 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.298388] Tainted: [D]=DIE, [W]=WARN
[   66.298787] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.300127] Call Trace:
[   66.300437]  <TASK>
[   66.300680]  dump_stack_lvl+0x121/0x150
[   66.301085]  dump_stack+0x19/0x20
[   66.301440]  check_preemption_disabled+0x168/0x180
[   66.301938]  debug_smp_processor_id+0x20/0x30
[   66.302384]  __schedule+0x9a/0x2eb0
[   66.302737]  ? rcu_is_watching+0x19/0xc0
[   66.303123]  ? lock_release+0x592/0x870
[   66.303504]  ? __pfx___schedule+0x10/0x10
[   66.303903]  ? debug_smp_processor_id+0x20/0x30
[   66.304345]  ? rcu_is_watching+0x19/0xc0
[   66.304732]  ? trace_irq_enable+0xe1/0x120
[   66.305141]  ? do_task_dead+0x4a/0x110
[   66.305517]  do_task_dead+0xe0/0x110
[   66.305887]  make_task_dead+0x384/0x3c0
[   66.306272]  rewind_stack_and_make_dead+0x16/0x20
[   66.306734] RIP: 0033:0x7f730f23ee5d
[   66.307085] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.307662] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.308379] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.309023] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.309661] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.310306] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.310950] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.311600]  </TASK>
[   66.311849] BUG: scheduling while atomic: repro/22820/0x00000000
[   66.312394] INFO: lockdep is turned off.
[   66.312756] Modules linked in:
[   66.313045] Preemption disabled at:
[   66.313049] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   66.313840] CPU: 0 UID: 0 PID: 22820 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.314666] Tainted: [D]=DIE, [W]=WARN
[   66.315002] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.315977] Call Trace:
[   66.316204]  <TASK>
[   66.316403]  dump_stack_lvl+0x121/0x150
[   66.316760]  ? do_task_dead+0x28/0x110
[   66.317107]  dump_stack+0x19/0x20
[   66.317419]  __schedule_bug+0x12d/0x180
[   66.317771]  __schedule+0x210c/0x2eb0
[   66.318106]  ? rcu_is_watching+0x19/0xc0
[   66.318460]  ? lock_release+0x592/0x870
[   66.318812]  ? __pfx___schedule+0x10/0x10
[   66.319170]  ? debug_smp_processor_id+0x20/0x30
[   66.319561]  ? rcu_is_watching+0x19/0xc0
[   66.319906]  ? trace_irq_enable+0xe1/0x120
[   66.320268]  ? do_task_dead+0x4a/0x110
[   66.320602]  do_task_dead+0xe0/0x110
[   66.320929]  make_task_dead+0x384/0x3c0
[   66.321268]  rewind_stack_and_make_dead+0x16/0x20
[   66.321676] RIP: 0033:0x7f730f23ee5d
[   66.321987] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.322499] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.323132] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.323721] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.324290] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.324863] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.325434] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.326016]  </TASK>
[   66.362346] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#162] PREEMPT SMP KASAN NOPTI
[   66.362891] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.363209] CPU: 1 UID: 0 PID: 22936 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.363614] Tainted: [D]=DIE, [W]=WARN
[   66.363777] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.364242] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.364499] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.365342] RSP: 0018:ffff88801d8477d8 EFLAGS: 00010202
[   66.365618] RAX: dffffc0000000000 RBX: ffffea000058b640 RCX: ffffffff81b9e6e9
[   66.366056] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000058b650
[   66.366402] RBP: ffff88801d8477f8 R08: 0000000000000000 R09: ffffed1002423c0c
[   66.366751] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.367060] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801211e060
[   66.367362] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.367711] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.367956] CR2: 00007f730f517910 CR3: 0000000010822005 CR4: 0000000000770ef0
[   66.368254] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.368557] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.368856] PKRU: 55555554
[   66.368976] Call Trace:
[   66.369086]  <TASK>
[   66.369185]  ? show_regs+0xa8/0xc0
[   66.369347]  ? die_addr+0x5d/0xf0
[   66.369500]  ? exc_general_protection+0x1ae/0x340
[   66.369724]  ? asm_exc_general_protection+0x2b/0x30
[   66.369950]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.370182]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.370425]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.370656]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.370886]  zap_huge_pmd+0x494/0xd40
[   66.371058]  unmap_page_range+0x1ad6/0x4320
[   66.371255]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.371478]  ? __pfx_unmap_page_range+0x10/0x10
[   66.371689]  unmap_single_vma+0x1ac/0x2d0
[   66.371875]  unmap_vmas+0x210/0x470
[   66.372058]  ? __pfx_unmap_vmas+0x10/0x10
[   66.372310]  ? __pfx_lock_release+0x10/0x10
[   66.372557]  ? lock_release+0x592/0x870
[   66.372767]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.372988]  ? __pfx_lock_release+0x10/0x10
[   66.373177]  ? mlock_drain_local+0x27f/0x4b0
[   66.373372]  exit_mmap+0x19e/0xb10
[   66.373535]  ? __pfx_exit_mmap+0x10/0x10
[   66.373723]  ? trace_hardirqs_on+0x51/0x60
[   66.373915]  ? __khugepaged_exit+0x266/0x4c0
[   66.374108]  ? kmem_cache_free+0x15d/0x420
[   66.374294]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.374530]  __mmput+0xd6/0x390
[   66.374680]  mmput+0x74/0x90
[   66.374817]  do_exit+0xa03/0x29f0
[   66.374972]  ? trace_hardirqs_on+0x51/0x60
[   66.375160]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.375427]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.375639]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.375853]  ? __pfx_do_exit+0x10/0x10
[   66.376024]  ? __audit_syscall_entry+0x39c/0x500
[   66.376232]  __x64_sys_exit+0x50/0x60
[   66.376398]  x64_sys_call+0x20c9/0x20d0
[   66.376569]  do_syscall_64+0x6d/0x140
[   66.376743]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.376964] RIP: 0033:0x7f730f23ee5d
[   66.377122] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.377379] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.377700] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.377996] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.378292] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.378588] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.378884] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.379187]  </TASK>
[   66.379288] Modules linked in:
[   66.379567] ---[ end trace 0000000000000000 ]---
[   66.379886] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.380154] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.381028] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   66.381286] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   66.381582] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   66.381881] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   66.382178] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.382571] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   66.382875] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.383211] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.383490] CR2: 00007f730f517910 CR3: 0000000010822005 CR4: 0000000000770ef0
[   66.383887] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.384242] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.384572] PKRU: 55555554
[   66.384709] note: repro[22936] exited with preempt_count 1
[   66.384953] Fixing recursive fault but reboot is needed!
[   66.385178] BUG: scheduling while atomic: repro/22936/0x00000000
[   66.385434] INFO: lockdep is turned off.
[   66.385601] Modules linked in:
[   66.385739] Preemption disabled at:
[   66.385741] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   66.386132] CPU: 1 UID: 0 PID: 22936 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   66.386532] Tainted: [D]=DIE, [W]=WARN
[   66.386697] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.387162] Call Trace:
[   66.387274]  <TASK>
[   66.387374]  dump_stack_lvl+0x121/0x150
[   66.387553]  ? do_task_dead+0x28/0x110
[   66.387728]  dump_stack+0x19/0x20
[   66.387886]  __schedule_bug+0x12d/0x180
[   66.388063]  __schedule+0x210c/0x2eb0
[   66.388230]  ? rcu_is_watching+0x19/0xc0
[   66.388407]  ? lock_release+0x592/0x870
[   66.388580]  ? __pfx___schedule+0x10/0x10
[   66.388764]  ? debug_smp_processor_id+0x20/0x30
[   66.388966]  ? rcu_is_watching+0x19/0xc0
[   66.389142]  ? trace_irq_enable+0xe1/0x120
[   66.389330]  ? do_task_dead+0x4a/0x110
[   66.389505]  do_task_dead+0xe0/0x110
[   66.389692]  make_task_dead+0x384/0x3c0
[   66.389883]  rewind_stack_and_make_dead+0x16/0x20
[   66.390115] RIP: 0033:0x7f730f23ee5d
[   66.390323] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   66.390602] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.390924] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   66.391224] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.391523] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   66.391823] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   66.392121] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   66.392425]  </TASK>
[   67.077035] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#163] PREEMPT SMP KASAN NOPTI
[   67.077872] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.078383] CPU: 1 UID: 0 PID: 23399 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   67.079028] Tainted: [D]=DIE, [W]=WARN
[   67.079287] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.080050] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.080460] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.081681] RSP: 0018:ffff88801c0af7d8 EFLAGS: 00010202
[   67.082042] RAX: dffffc0000000000 RBX: ffffea0000464ec0 RCX: ffffffff81b9e6e9
[   67.082521] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000464ed0
[   67.083002] RBP: ffff88801c0af7f8 R08: 0000000000000000 R09: ffffed100285a60c
[   67.083470] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.083932] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880142d3060
[   67.084405] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   67.084953] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.085352] CR2: 00007f730f517910 CR3: 0000000031b32004 CR4: 0000000000770ef0
[   67.085854] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.086336] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.086823] PKRU: 55555554
[   67.087019] Call Trace:
[   67.087193]  <TASK>
[   67.087352]  ? show_regs+0xa8/0xc0
[   67.087610]  ? die_addr+0x5d/0xf0
[   67.087870]  ? exc_general_protection+0x1ae/0x340
[   67.088215]  ? asm_exc_general_protection+0x2b/0x30
[   67.088574]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.088947]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.089324]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.089713]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.090106]  zap_huge_pmd+0x494/0xd40
[   67.090369]  unmap_page_range+0x1ad6/0x4320
[   67.090672]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.091017]  ? __pfx_unmap_page_range+0x10/0x10
[   67.091328]  unmap_single_vma+0x1ac/0x2d0
[   67.091600]  unmap_vmas+0x210/0x470
[   67.091851]  ? __pfx_unmap_vmas+0x10/0x10
[   67.092118]  ? __pfx_lock_release+0x10/0x10
[   67.092395]  ? lock_release+0x592/0x870
[   67.092648]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   67.092972]  ? __pfx_lock_release+0x10/0x10
[   67.093259]  ? mlock_drain_local+0x27f/0x4b0
[   67.093555]  exit_mmap+0x19e/0xb10
[   67.093796]  ? __pfx_exit_mmap+0x10/0x10
[   67.094071]  ? trace_hardirqs_on+0x51/0x60
[   67.094352]  ? __khugepaged_exit+0x266/0x4c0
[   67.094638]  ? kmem_cache_free+0x15d/0x420
[   67.094915]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.095264]  __mmput+0xd6/0x390
[   67.095479]  mmput+0x74/0x90
[   67.095674]  do_exit+0xa03/0x29f0
[   67.095895]  ? trace_hardirqs_on+0x51/0x60
[   67.096160]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.096549]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.096857]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.097165]  ? __pfx_do_exit+0x10/0x10
[   67.097416]  ? __audit_syscall_entry+0x39c/0x500
[   67.097714]  __x64_sys_exit+0x50/0x60
[   67.097958]  x64_sys_call+0x20c9/0x20d0
[   67.098202]  do_syscall_64+0x6d/0x140
[   67.098443]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.098765] RIP: 0033:0x7f730f23ee5d
[   67.098994] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   67.099361] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.099820] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   67.100249] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.100680] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   67.101110] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   67.101548] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   67.101975]  </TASK>
[   67.102117] Modules linked in:
[   67.102355] ---[ end trace 0000000000000000 ]---
[   67.102757] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.103110] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.104172] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   67.104493] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   67.104918] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   67.105332] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   67.105759] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.106176] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   67.106682] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   67.107134] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.107463] CR2: 00007f730f517910 CR3: 0000000031b32004 CR4: 0000000000770ef0
[   67.107869] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.108276] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.108679] PKRU: 55555554
[   67.108842] note: repro[23399] exited with preempt_count 1
[   67.109155] Fixing recursive fault but reboot is needed!
[   67.109457] BUG: scheduling while atomic: repro/23399/0x00000000
[   67.109852] INFO: lockdep is turned off.
[   67.110079] Modules linked in:
[   67.110264] Preemption disabled at:
[   67.110267] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   67.110802] CPU: 1 UID: 0 PID: 23399 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   67.111339] Tainted: [D]=DIE, [W]=WARN
[   67.111558] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.112169] Call Trace:
[   67.112314]  <TASK>
[   67.112440]  dump_stack_lvl+0x121/0x150
[   67.112671]  ? do_task_dead+0x28/0x110
[   67.112894]  dump_stack+0x19/0x20
[   67.113102]  __schedule_bug+0x12d/0x180
[   67.113331]  __schedule+0x210c/0x2eb0
[   67.113546]  ? rcu_is_watching+0x19/0xc0
[   67.113776]  ? lock_release+0x592/0x870
[   67.113999]  ? __pfx___schedule+0x10/0x10
[   67.114230]  ? debug_smp_processor_id+0x20/0x30
[   67.114490]  ? rcu_is_watching+0x19/0xc0
[   67.114720]  ? trace_irq_enable+0xe1/0x120
[   67.114964]  ? do_task_dead+0x4a/0x110
[   67.115187]  do_task_dead+0xe0/0x110
[   67.115403]  make_task_dead+0x384/0x3c0
[   67.115632]  rewind_stack_and_make_dead+0x16/0x20
[   67.115902] RIP: 0033:0x7f730f23ee5d
[   67.116103] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   67.116431] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.116836] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   67.117212] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.117589] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   67.117967] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   67.118346] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   67.118742]  </TASK>
[   67.937937] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#164] PREEMPT SMP KASAN NOPTI
[   67.939236] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.939944] CPU: 1 UID: 0 PID: 23913 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   67.940830] Tainted: [D]=DIE, [W]=WARN
[   67.941180] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.942345] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.942905] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.944477] RSP: 0018:ffff8880145e77d8 EFLAGS: 00010202
[   67.944968] RAX: dffffc0000000000 RBX: ffffea0000895dc0 RCX: ffffffff81b9e6e9
[   67.945608] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000895dd0
[   67.946255] RBP: ffff8880145e77f8 R08: 0000000000000000 R09: ffffed1004c320fc
[   67.946904] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.947554] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880261907e0
[   67.948201] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   67.948927] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.949456] CR2: 00007f730f4f5ef8 CR3: 00000000309e2001 CR4: 0000000000770ef0
[   67.950108] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.950753] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.951397] PKRU: 55555554
[   67.951656] Call Trace:
[   67.951894]  <TASK>
[   67.952112]  ? show_regs+0xa8/0xc0
[   67.952456]  ? die_addr+0x5d/0xf0
[   67.952801]  ? exc_general_protection+0x1ae/0x340
[   67.953256]  ? asm_exc_general_protection+0x2b/0x30
[   67.953719]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.954185]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.954649]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.955124]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.955588]  zap_huge_pmd+0x494/0xd40
[   67.955937]  unmap_page_range+0x1ad6/0x4320
[   67.956343]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.956812]  ? __pfx_unmap_page_range+0x10/0x10
[   67.957242]  unmap_single_vma+0x1ac/0x2d0
[   67.957615]  unmap_vmas+0x210/0x470
[   67.957952]  ? __pfx_unmap_vmas+0x10/0x10
[   67.958326]  ? __pfx_lock_release+0x10/0x10
[   67.958710]  ? lock_release+0x592/0x870
[   67.959069]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   67.959517]  ? __pfx_lock_release+0x10/0x10
[   67.959905]  ? mlock_drain_local+0x27f/0x4b0
[   67.960300]  exit_mmap+0x19e/0xb10
[   67.960638]  ? __pfx_exit_mmap+0x10/0x10
[   67.961004]  ? trace_hardirqs_on+0x51/0x60
[   67.961374]  ? __khugepaged_exit+0x266/0x4c0
[   67.961757]  ? kmem_cache_free+0x15d/0x420
[   67.962123]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.962655]  __mmput+0xd6/0x390
[   67.962957]  mmput+0x74/0x90
[   67.963222]  do_exit+0xa03/0x29f0
[   67.963536]  ? trace_hardirqs_on+0x51/0x60
[   67.964032]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.964576]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.965005]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.965422]  ? __pfx_do_exit+0x10/0x10
[   67.965796]  ? __audit_syscall_entry+0x39c/0x500
[   67.966316]  __x64_sys_exit+0x50/0x60
[   67.966649]  x64_sys_call+0x20c9/0x20d0
[   67.966993]  do_syscall_64+0x6d/0x140
[   67.967325]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.967773] RIP: 0033:0x7f730f23ee5d
[   67.968085] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   67.968590] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.969189] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   67.969756] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.970313] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   67.970879] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   67.971437] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   67.972015]  </TASK>
[   67.972203] Modules linked in:
[   67.972529] ---[ end trace 0000000000000000 ]---
[   67.972668] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#165] PREEMPT SMP KASAN NOPTI
[   67.972913] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.974000] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.974454] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.975123] CPU: 0 UID: 0 PID: 23921 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   67.976623] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   67.977458] Tainted: [D]=DIE, [W]=WARN
[   67.977858] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   67.978191] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.978736] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   67.979723] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.980257] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   67.980775] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.981294] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.982918] RSP: 0018:ffff8880319ff7d8 EFLAGS: 00010202
[   67.983442] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   67.983906] RAX: dffffc0000000000 RBX: ffffea0000894d80 RCX: ffffffff81b9e6e9
[   67.984524] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   67.985154] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000894d90
[   67.985720] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.986358] RBP: ffff8880319ff7f8 R08: 0000000000000000 R09: ffffed1004c32018
[   67.986832] CR2: 00007f730f4f5ef8 CR3: 00000000309e2001 CR4: 0000000000770ef0
[   67.987443] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.987959] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.988586] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880261900c0
[   67.989089] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.989732] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   67.990223] PKRU: 55555554
[   67.990934] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.990948] CR2: 00007f730f29bc20 CR3: 0000000031aa6004 CR4: 0000000000770ef0
[   67.991146] note: repro[23913] exited with preempt_count 1
[   67.991676] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.992142] Fixing recursive fault but reboot is needed!
[   67.992621] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.994214] PKRU: 55555554
[   67.994475] Call Trace:
[   67.994711]  <TASK>
[   67.994927]  ? show_regs+0xa8/0xc0
[   67.995274]  ? die_addr+0x5d/0xf0
[   67.995605]  ? exc_general_protection+0x1ae/0x340
[   67.996064]  ? asm_exc_general_protection+0x2b/0x30
[   67.996535]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.997017]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.997500]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.997986]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.998466]  zap_huge_pmd+0x494/0xd40
[   67.998839]  unmap_page_range+0x1ad6/0x4320
[   67.999257]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.999736]  ? __pfx_unmap_page_range+0x10/0x10
[   68.000179]  unmap_single_vma+0x1ac/0x2d0
[   68.000568]  unmap_vmas+0x210/0x470
[   68.000920]  ? __pfx_unmap_vmas+0x10/0x10
[   68.001305]  ? __pfx_lock_release+0x10/0x10
[   68.001708]  ? lock_release+0x592/0x870
[   68.002076]  ? mas_next_slot+0x133a/0x1a50
[   68.002474]  ? __pfx_lock_release+0x10/0x10
[   68.002881]  ? mlock_drain_local+0x27f/0x4b0
[   68.003295]  exit_mmap+0x19e/0xb10
[   68.003639]  ? __pfx_exit_mmap+0x10/0x10
[   68.004027]  ? trace_hardirqs_on+0x51/0x60
[   68.004428]  ? __khugepaged_exit+0x266/0x4c0
[   68.004837]  ? kmem_cache_free+0x15d/0x420
[   68.005232]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.005737]  __mmput+0xd6/0x390
[   68.006049]  mmput+0x74/0x90
[   68.006338]  do_exit+0xa03/0x29f0
[   68.006668]  ? trace_hardirqs_on+0x51/0x60
[   68.007069]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.007640]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.008097]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.008552]  ? __pfx_do_exit+0x10/0x10
[   68.008919]  ? __audit_syscall_entry+0x39c/0x500
[   68.009361]  __x64_sys_exit+0x50/0x60
[   68.009719]  x64_sys_call+0x20c9/0x20d0
[   68.010087]  do_syscall_64+0x6d/0x140
[   68.010449]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.010926] RIP: 0033:0x7f730f23ee5d
[   68.011266] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   68.011820] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.012516] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   68.013157] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.013797] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   68.014432] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   68.015073] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   68.015722]  </TASK>
[   68.015937] Modules linked in:
[   68.016487] ---[ end trace 0000000000000000 ]---
[   68.016926] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.017282] systemd-journald[146]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   68.017464] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.019043] systemd-journald[146]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   68.022048] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   68.022656] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   68.023317] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   68.023966] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   68.024612] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.025271] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   68.025933] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   68.026688] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.027225] CR2: 00007f730f29bc20 CR3: 0000000031aa6004 CR4: 0000000000770ef0
[   68.027884] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.028551] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.029202] PKRU: 55555554
[   68.029464] note: repro[23921] exited with preempt_count 1
[   68.029963] Fixing recursive fault but reboot is needed!
[   68.030448] BUG: scheduling while atomic: repro/23921/0x00000000
[   68.031024] INFO: lockdep is turned off.
[   68.031397] Modules linked in:
[   68.031705] Preemption disabled at:
[   68.031711] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   68.032551] CPU: 0 UID: 0 PID: 23921 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   68.033432] Tainted: [D]=DIE, [W]=WARN
[   68.033805] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.034832] Call Trace:
[   68.035061]  <TASK>
[   68.035276]  dump_stack_lvl+0x121/0x150
[   68.035658]  ? do_task_dead+0x28/0x110
[   68.036043]  dump_stack+0x19/0x20
[   68.036386]  __schedule_bug+0x12d/0x180
[   68.036768]  __schedule+0x210c/0x2eb0
[   68.037124]  ? rcu_is_watching+0x19/0xc0
[   68.037504]  ? lock_release+0x592/0x870
[   68.037892]  ? __pfx___schedule+0x10/0x10
[   68.038281]  ? debug_smp_processor_id+0x20/0x30
[   68.038725]  ? rcu_is_watching+0x19/0xc0
[   68.039106]  ? trace_irq_enable+0xe1/0x120
[   68.039507]  ? do_task_dead+0x4a/0x110
[   68.039886]  do_task_dead+0xe0/0x110
[   68.040252]  make_task_dead+0x384/0x3c0
[   68.040634]  rewind_stack_and_make_dead+0x16/0x20
[   68.041086] RIP: 0033:0x7f730f23ee5d
[   68.041428] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   68.041996] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.042691] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   68.043340] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.043997] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   68.044653] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   68.045323] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   68.045990]  </TASK>
[   68.668295] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#166] PREEMPT SMP KASAN NOPTI
[   68.669411] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.670096] CPU: 0 UID: 0 PID: 24301 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   68.671277] Tainted: [D]=DIE, [W]=WARN
[   68.671623] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.672629] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.673176] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.674802] RSP: 0018:ffff88802170f7d8 EFLAGS: 00010202
[   68.675287] RAX: dffffc0000000000 RBX: ffffea0000c69240 RCX: ffffffff81b9e6e9
[   68.676081] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c69250
[   68.676946] RBP: ffff88802170f7f8 R08: 0000000000000000 R09: ffffed1003b7fcc0
[   68.677799] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.678646] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801dbfe600
[   68.679501] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   68.680454] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.681117] CR2: 00007f730f4f5e28 CR3: 00000000225ae006 CR4: 0000000000770ef0
[   68.681931] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.682743] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.683548] PKRU: 55555554
[   68.683885] Call Trace:
[   68.684187]  <TASK>
[   68.684453]  ? show_regs+0xa8/0xc0
[   68.684879]  ? die_addr+0x5d/0xf0
[   68.685290]  ? exc_general_protection+0x1ae/0x340
[   68.685863]  ? asm_exc_general_protection+0x2b/0x30
[   68.686458]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.687067]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.687663]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.688246]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.688929]  zap_huge_pmd+0x494/0xd40
[   68.689609]  unmap_page_range+0x1ad6/0x4320
[   68.690113]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.690691]  ? __pfx_unmap_page_range+0x10/0x10
[   68.691221]  unmap_single_vma+0x1ac/0x2d0
[   68.691690]  unmap_vmas+0x210/0x470
[   68.692109]  ? __pfx_unmap_vmas+0x10/0x10
[   68.692572]  ? __pfx_lock_release+0x10/0x10
[   68.693309]  ? lock_release+0x592/0x870
[   68.693895]  ? mas_next_slot+0x133a/0x1a50
[   68.694367]  ? __pfx_lock_release+0x10/0x10
[   68.694851]  ? mlock_drain_local+0x27f/0x4b0
[   68.695342]  exit_mmap+0x19e/0xb10
[   68.695746]  ? __pfx_exit_mmap+0x10/0x10
[   68.696200]  ? trace_hardirqs_on+0x51/0x60
[   68.696649]  ? __khugepaged_exit+0x266/0x4c0
[   68.697114]  ? kmem_cache_free+0x15d/0x420
[   68.697560]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.698131]  __mmput+0xd6/0x390
[   68.698480]  mmput+0x74/0x90
[   68.698806]  do_exit+0xa03/0x29f0
[   68.699173]  ? trace_hardirqs_on+0x51/0x60
[   68.699617]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.700270]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.700789]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.701303]  ? __pfx_do_exit+0x10/0x10
[   68.701714]  ? __audit_syscall_entry+0x39c/0x500
[   68.702193]  __x64_sys_exit+0x50/0x60
[   68.702576]  x64_sys_call+0x20c9/0x20d0
[   68.702975]  do_syscall_64+0x6d/0x140
[   68.703361]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.703876] RIP: 0033:0x7f730f23ee5d
[   68.704244] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   68.704850] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.705590] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   68.706287] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.706985] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   68.707684] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   68.708377] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   68.709058]  </TASK>
[   68.709278] Modules linked in:
[   68.709787] ---[ end trace 0000000000000000 ]---
[   68.710236] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.710935] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.712655] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   68.713164] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   68.713837] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   68.714561] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   68.715208] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.715853] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   68.716492] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   68.717218] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.717745] CR2: 00007f730f4f5e28 CR3: 00000000225ae006 CR4: 0000000000770ef0
[   68.718386] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.719053] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.719697] PKRU: 55555554
[   68.719945] note: repro[24301] exited with preempt_count 1
[   68.720420] Fixing recursive fault but reboot is needed!
[   68.720882] BUG: scheduling while atomic: repro/24301/0x00000000
[   68.721403] INFO: lockdep is turned off.
[   68.721748] Modules linked in:
[   68.722026] Preemption disabled at:
[   68.722030] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   68.722839] CPU: 0 UID: 0 PID: 24301 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   68.723665] Tainted: [D]=DIE, [W]=WARN
[   68.723988] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.724922] Call Trace:
[   68.725138]  <TASK>
[   68.725328]  dump_stack_lvl+0x121/0x150
[   68.725668]  ? do_task_dead+0x28/0x110
[   68.726005]  dump_stack+0x19/0x20
[   68.726304]  __schedule_bug+0x12d/0x180
[   68.726647]  __schedule+0x210c/0x2eb0
[   68.726972]  ? rcu_is_watching+0x19/0xc0
[   68.727320]  ? lock_release+0x592/0x870
[   68.727655]  ? __pfx___schedule+0x10/0x10
[   68.728010]  ? debug_smp_processor_id+0x20/0x30
[   68.728403]  ? rcu_is_watching+0x19/0xc0
[   68.728735]  ? trace_irq_enable+0xe1/0x120
[   68.729085]  ? do_task_dead+0x4a/0x110
[   68.729409]  do_task_dead+0xe0/0x110
[   68.729722]  make_task_dead+0x384/0x3c0
[   68.730051]  rewind_stack_and_make_dead+0x16/0x20
[   68.730442] RIP: 0033:0x7f730f23ee5d
[   68.730747] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   68.731242] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.731853] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   68.732423] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.732997] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   68.733565] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   68.734135] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   68.734715]  </TASK>
[   69.075546] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#167] PREEMPT SMP KASAN NOPTI
[   69.076664] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.077362] CPU: 0 UID: 0 PID: 24525 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.078238] Tainted: [D]=DIE, [W]=WARN
[   69.078587] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.079609] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.080165] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.081826] RSP: 0018:ffff888011f3f7d8 EFLAGS: 00010202
[   69.082330] RAX: dffffc0000000000 RBX: ffffea00009d94c0 RCX: ffffffff81b9e6e9
[   69.082978] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00009d94d0
[   69.083640] RBP: ffff888011f3f7f8 R08: 0000000000000000 R09: ffffed100255b09c
[   69.084297] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.084945] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012ad84e0
[   69.085583] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   69.086309] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.086843] CR2: 00007f730f4f6658 CR3: 0000000016ee6002 CR4: 0000000000770ef0
[   69.087487] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.088124] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.088769] PKRU: 55555554
[   69.089028] Call Trace:
[   69.089268]  <TASK>
[   69.089480]  ? show_regs+0xa8/0xc0
[   69.089830]  ? die_addr+0x5d/0xf0
[   69.090160]  ? exc_general_protection+0x1ae/0x340
[   69.090620]  ? asm_exc_general_protection+0x2b/0x30
[   69.091107]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.091601]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.092091]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.092580]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.093072]  zap_huge_pmd+0x494/0xd40
[   69.093440]  unmap_page_range+0x1ad6/0x4320
[   69.093865]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.094359]  ? __pfx_unmap_page_range+0x10/0x10
[   69.094805]  unmap_single_vma+0x1ac/0x2d0
[   69.095201]  unmap_vmas+0x210/0x470
[   69.095553]  ? __pfx_unmap_vmas+0x10/0x10
[   69.095950]  ? __pfx_lock_release+0x10/0x10
[   69.096355]  ? lock_release+0x592/0x870
[   69.096727]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   69.097197]  ? __pfx_lock_release+0x10/0x10
[   69.097601]  ? mlock_drain_local+0x27f/0x4b0
[   69.098024]  exit_mmap+0x19e/0xb10
[   69.098371]  ? __pfx_exit_mmap+0x10/0x10
[   69.098763]  ? trace_hardirqs_on+0x51/0x60
[   69.099167]  ? __khugepaged_exit+0x266/0x4c0
[   69.099585]  ? kmem_cache_free+0x15d/0x420
[   69.099989]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.100507]  __mmput+0xd6/0x390
[   69.100831]  mmput+0x74/0x90
[   69.101118]  do_exit+0xa03/0x29f0
[   69.101460]  ? trace_hardirqs_on+0x51/0x60
[   69.101870]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.102453]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.102920]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.103389]  ? __pfx_do_exit+0x10/0x10
[   69.103758]  ? __audit_syscall_entry+0x39c/0x500
[   69.104193]  __x64_sys_exit+0x50/0x60
[   69.104557]  x64_sys_call+0x20c9/0x20d0
[   69.104933]  do_syscall_64+0x6d/0x140
[   69.105301]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.105790] RIP: 0033:0x7f730f23ee5d
[   69.106130] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.106700] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.107384] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.108024] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.108674] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.109317] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.109968] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.110612]  </TASK>
[   69.110839] Modules linked in:
[   69.111310] ---[ end trace 0000000000000000 ]---
[   69.111753] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.112304] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.113961] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   69.114459] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   69.115308] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   69.116134] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   69.116800] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.117445] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   69.118103] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   69.119000] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.119535] CR2: 00007f730f4f6658 CR3: 0000000016ee6002 CR4: 0000000000770ef0
[   69.120195] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.121032] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.121697] PKRU: 55555554
[   69.121962] note: repro[24525] exited with preempt_count 1
[   69.122595] Fixing recursive fault but reboot is needed!
[   69.123101] check_preemption_disabled: 5 callbacks suppressed
[   69.123110] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24525
[   69.124945] caller is debug_smp_processor_id+0x20/0x30
[   69.125450] CPU: 0 UID: 0 PID: 24525 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.126478] Tainted: [D]=DIE, [W]=WARN
[   69.126841] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.127865] Call Trace:
[   69.128107]  <TASK>
[   69.128326]  dump_stack_lvl+0x121/0x150
[   69.128730]  dump_stack+0x19/0x20
[   69.129072]  check_preemption_disabled+0x168/0x180
[   69.129526]  debug_smp_processor_id+0x20/0x30
[   69.129996]  __schedule+0x9a/0x2eb0
[   69.130350]  ? rcu_is_watching+0x19/0xc0
[   69.130733]  ? lock_release+0x592/0x870
[   69.131105]  ? __pfx___schedule+0x10/0x10
[   69.131492]  ? debug_smp_processor_id+0x20/0x30
[   69.131935]  ? rcu_is_watching+0x19/0xc0
[   69.132315]  ? trace_irq_enable+0xe1/0x120
[   69.132719]  ? do_task_dead+0x4a/0x110
[   69.133099]  do_task_dead+0xe0/0x110
[   69.133467]  make_task_dead+0x384/0x3c0
[   69.133855]  rewind_stack_and_make_dead+0x16/0x20
[   69.134312] RIP: 0033:0x7f730f23ee5d
[   69.134661] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.135239] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.135931] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.136587] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.137234] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.137899] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.138555] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.139224]  </TASK>
[   69.139566] BUG: scheduling while atomic: repro/24525/0x00000000
[   69.140120] INFO: lockdep is turned off.
[   69.140483] Modules linked in:
[   69.140788] Preemption disabled at:
[   69.140793] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   69.141625] CPU: 0 UID: 0 PID: 24525 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.142500] Tainted: [D]=DIE, [W]=WARN
[   69.142850] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.143885] Call Trace:
[   69.144123]  <TASK>
[   69.144334]  dump_stack_lvl+0x121/0x150
[   69.144731]  ? do_task_dead+0x28/0x110
[   69.145105]  dump_stack+0x19/0x20
[   69.145439]  __schedule_bug+0x12d/0x180
[   69.145825]  __schedule+0x210c/0x2eb0
[   69.146179]  ? rcu_is_watching+0x19/0xc0
[   69.146555]  ? lock_release+0x592/0x870
[   69.146927]  ? __pfx___schedule+0x10/0x10
[   69.147312]  ? debug_smp_processor_id+0x20/0x30
[   69.147766]  ? rcu_is_watching+0x19/0xc0
[   69.148145]  ? trace_irq_enable+0xe1/0x120
[   69.148551]  ? do_task_dead+0x4a/0x110
[   69.148931]  do_task_dead+0xe0/0x110
[   69.149298]  make_task_dead+0x384/0x3c0
[   69.149683]  rewind_stack_and_make_dead+0x16/0x20
[   69.150139] RIP: 0033:0x7f730f23ee5d
[   69.150481] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.151039] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.151727] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.152383] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.153031] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.153687] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.154342] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.155008]  </TASK>
[   69.697444] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#168] PREEMPT SMP KASAN NOPTI
[   69.698584] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.699274] CPU: 1 UID: 0 PID: 24835 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.700140] Tainted: [D]=DIE, [W]=WARN
[   69.700486] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.701519] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.702174] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.703829] RSP: 0018:ffff8880227e77d8 EFLAGS: 00010202
[   69.704345] RAX: dffffc0000000000 RBX: ffffea0000c688c0 RCX: ffffffff81b9e6e9
[   69.705027] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c688d0
[   69.705676] RBP: ffff8880227e77f8 R08: 0000000000000000 R09: ffffed1001ed0230
[   69.706327] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.706978] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f681180
[   69.707625] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   69.708368] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.708936] CR2: 00007f730f4f5e28 CR3: 0000000026232006 CR4: 0000000000770ef0
[   69.709613] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.710274] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.710925] PKRU: 55555554
[   69.711184] Call Trace:
[   69.711420]  <TASK>
[   69.711630]  ? show_regs+0xa8/0xc0
[   69.711980]  ? die_addr+0x5d/0xf0
[   69.712323]  ? exc_general_protection+0x1ae/0x340
[   69.712797]  ? asm_exc_general_protection+0x2b/0x30
[   69.713271]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.713764]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.714252]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.714757]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.715263]  zap_huge_pmd+0x494/0xd40
[   69.715642]  unmap_page_range+0x1ad6/0x4320
[   69.716076]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.716553]  ? __pfx_unmap_page_range+0x10/0x10
[   69.717010]  unmap_single_vma+0x1ac/0x2d0
[   69.717408]  unmap_vmas+0x210/0x470
[   69.717788]  ? __pfx_unmap_vmas+0x10/0x10
[   69.718200]  ? __pfx_lock_release+0x10/0x10
[   69.718599]  ? lock_release+0x592/0x870
[   69.718983]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   69.719459]  ? __pfx_lock_release+0x10/0x10
[   69.719876]  ? mlock_drain_local+0x27f/0x4b0
[   69.720299]  exit_mmap+0x19e/0xb10
[   69.720655]  ? __pfx_exit_mmap+0x10/0x10
[   69.721074]  ? trace_hardirqs_on+0x51/0x60
[   69.721485]  ? __khugepaged_exit+0x266/0x4c0
[   69.721908]  ? kmem_cache_free+0x15d/0x420
[   69.722323]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.722866]  __mmput+0xd6/0x390
[   69.723181]  mmput+0x74/0x90
[   69.723479]  do_exit+0xa03/0x29f0
[   69.723816]  ? trace_hardirqs_on+0x51/0x60
[   69.724216]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.724806]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.725279]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.725740]  ? __pfx_do_exit+0x10/0x10
[   69.726115]  ? __audit_syscall_entry+0x39c/0x500
[   69.726570]  __x64_sys_exit+0x50/0x60
[   69.726928]  x64_sys_call+0x20c9/0x20d0
[   69.727307]  do_syscall_64+0x6d/0x140
[   69.727678]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.728168] RIP: 0033:0x7f730f23ee5d
[   69.728511] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.729075] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.729783] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.730427] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.731078] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.731736] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.732419] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.733097]  </TASK>
[   69.733314] Modules linked in:
[   69.733840] ---[ end trace 0000000000000000 ]---
[   69.734283] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.735024] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.736742] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   69.737237] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   69.737895] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   69.738682] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   69.739335] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.739988] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   69.740657] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   69.741425] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.741995] CR2: 00007f730f4f5e28 CR3: 0000000026232006 CR4: 0000000000770ef0
[   69.742721] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.743371] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.744016] PKRU: 55555554
[   69.744282] note: repro[24835] exited with preempt_count 1
[   69.744783] Fixing recursive fault but reboot is needed!
[   69.745254] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24835
[   69.745943] caller is debug_smp_processor_id+0x20/0x30
[   69.746407] CPU: 1 UID: 0 PID: 24835 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.747244] Tainted: [D]=DIE, [W]=WARN
[   69.747581] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.748550] Call Trace:
[   69.748790]  <TASK>
[   69.748994]  dump_stack_lvl+0x121/0x150
[   69.749349]  dump_stack+0x19/0x20
[   69.749653]  check_preemption_disabled+0x168/0x180
[   69.750079]  debug_smp_processor_id+0x20/0x30
[   69.750464]  __schedule+0x9a/0x2eb0
[   69.750781]  ? rcu_is_watching+0x19/0xc0
[   69.751127]  ? lock_release+0x592/0x870
[   69.751467]  ? __pfx___schedule+0x10/0x10
[   69.751823]  ? debug_smp_processor_id+0x20/0x30
[   69.752220]  ? rcu_is_watching+0x19/0xc0
[   69.752566]  ? trace_irq_enable+0xe1/0x120
[   69.752930]  ? do_task_dead+0x4a/0x110
[   69.753278]  do_task_dead+0xe0/0x110
[   69.753609]  make_task_dead+0x384/0x3c0
[   69.753967]  rewind_stack_and_make_dead+0x16/0x20
[   69.754379] RIP: 0033:0x7f730f23ee5d
[   69.754716] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.755224] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.755864] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.756449] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.757042] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.757625] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.758227] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.758817]  </TASK>
[   69.759042] BUG: scheduling while atomic: repro/24835/0x00000000
[   69.759530] INFO: lockdep is turned off.
[   69.759847] Modules linked in:
[   69.760105] Preemption disabled at:
[   69.760110] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   69.760828] CPU: 1 UID: 0 PID: 24835 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.761583] Tainted: [D]=DIE, [W]=WARN
[   69.761887] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.762778] Call Trace:
[   69.762981]  <TASK>
[   69.763170]  dump_stack_lvl+0x121/0x150
[   69.763498]  ? do_task_dead+0x28/0x110
[   69.763824]  dump_stack+0x19/0x20
[   69.764111]  __schedule_bug+0x12d/0x180
[   69.764445]  __schedule+0x210c/0x2eb0
[   69.764762]  ? rcu_is_watching+0x19/0xc0
[   69.765093]  ? lock_release+0x592/0x870
[   69.765409]  ? __pfx___schedule+0x10/0x10
[   69.765751]  ? debug_smp_processor_id+0x20/0x30
[   69.766115]  ? rcu_is_watching+0x19/0xc0
[   69.766419]  ? trace_irq_enable+0xe1/0x120
[   69.766752]  ? do_task_dead+0x4a/0x110
[   69.767061]  do_task_dead+0xe0/0x110
[   69.767356]  make_task_dead+0x384/0x3c0
[   69.767664]  rewind_stack_and_make_dead+0x16/0x20
[   69.768041] RIP: 0033:0x7f730f23ee5d
[   69.768331] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.768794] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.769365] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.769898] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.770450] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.770990] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.771530] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.772080]  </TASK>
[   69.834340] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#169] PREEMPT SMP KASAN NOPTI
[   69.835305] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.835908] CPU: 1 UID: 0 PID: 24919 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.836666] Tainted: [D]=DIE, [W]=WARN
[   69.836983] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.837860] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.838330] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.839696] RSP: 0018:ffff888011ddf7d8 EFLAGS: 00010202
[   69.840101] RAX: dffffc0000000000 RBX: ffffea0000633cc0 RCX: ffffffff81b9e6e9
[   69.840641] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000633cd0
[   69.841176] RBP: ffff888011ddf7f8 R08: 0000000000000000 R09: ffffed1004c592cc
[   69.841733] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.842296] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880262c9660
[   69.842870] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   69.843469] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.843910] CR2: 00007f730f3fca50 CR3: 0000000013540002 CR4: 0000000000770ef0
[   69.844453] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.844998] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.845533] PKRU: 55555554
[   69.845776] Call Trace:
[   69.845982]  <TASK>
[   69.846178]  ? show_regs+0xa8/0xc0
[   69.846477]  ? die_addr+0x5d/0xf0
[   69.846767]  ? exc_general_protection+0x1ae/0x340
[   69.847151]  ? asm_exc_general_protection+0x2b/0x30
[   69.847552]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.847952]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.848361]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.848765]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.849153]  zap_huge_pmd+0x494/0xd40
[   69.849447]  unmap_page_range+0x1ad6/0x4320
[   69.849783]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.850157]  ? __pfx_unmap_page_range+0x10/0x10
[   69.850513]  unmap_single_vma+0x1ac/0x2d0
[   69.850825]  unmap_vmas+0x210/0x470
[   69.851100]  ? __pfx_unmap_vmas+0x10/0x10
[   69.851408]  ? __pfx_lock_release+0x10/0x10
[   69.851720]  ? lock_release+0x592/0x870
[   69.852013]  ? mas_next_slot+0x133a/0x1a50
[   69.852317]  ? __pfx_lock_release+0x10/0x10
[   69.852617]  ? mlock_drain_local+0x27f/0x4b0
[   69.852932]  exit_mmap+0x19e/0xb10
[   69.853190]  ? __pfx_exit_mmap+0x10/0x10
[   69.853484]  ? trace_hardirqs_on+0x51/0x60
[   69.853789]  ? __khugepaged_exit+0x266/0x4c0
[   69.854098]  ? kmem_cache_free+0x15d/0x420
[   69.854397]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.854785]  __mmput+0xd6/0x390
[   69.855038]  mmput+0x74/0x90
[   69.855263]  do_exit+0xa03/0x29f0
[   69.855528]  ? trace_hardirqs_on+0x51/0x60
[   69.855840]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.856275]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.856615]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.856965]  ? __pfx_do_exit+0x10/0x10
[   69.857245]  ? __audit_syscall_entry+0x39c/0x500
[   69.857583]  __x64_sys_exit+0x50/0x60
[   69.857859]  x64_sys_call+0x20c9/0x20d0
[   69.858135]  do_syscall_64+0x6d/0x140
[   69.858409]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.858773] RIP: 0033:0x7f730f23ee5d
[   69.859030] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.859432] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.859930] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.860394] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.860857] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.861319] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.861769] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.862232]  </TASK>
[   69.862384] Modules linked in:
[   69.862634] ---[ end trace 0000000000000000 ]---
[   69.862937] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.863318] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.864462] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   69.864805] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   69.865267] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   69.865724] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   69.866180] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.866647] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   69.867090] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   69.867578] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.867931] CR2: 00007f730f3fca50 CR3: 0000000013540002 CR4: 0000000000770ef0
[   69.868370] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.868802] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.869253] PKRU: 55555554
[   69.869431] note: repro[24919] exited with preempt_count 1
[   69.869790] Fixing recursive fault but reboot is needed!
[   69.870121] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24919
[   69.870640] caller is debug_smp_processor_id+0x20/0x30
[   69.870955] CPU: 1 UID: 0 PID: 24919 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.871509] Tainted: [D]=DIE, [W]=WARN
[   69.871738] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.872403] Call Trace:
[   69.872562]  <TASK>
[   69.872707]  dump_stack_lvl+0x121/0x150
[   69.872962]  dump_stack+0x19/0x20
[   69.873188]  check_preemption_disabled+0x168/0x180
[   69.873502]  debug_smp_processor_id+0x20/0x30
[   69.873781]  __schedule+0x9a/0x2eb0
[   69.874002]  ? rcu_is_watching+0x19/0xc0
[   69.874245]  ? lock_release+0x592/0x870
[   69.874486]  ? __pfx___schedule+0x10/0x10
[   69.874736]  ? debug_smp_processor_id+0x20/0x30
[   69.875005]  ? rcu_is_watching+0x19/0xc0
[   69.875240]  ? trace_irq_enable+0xe1/0x120
[   69.875499]  ? do_task_dead+0x4a/0x110
[   69.875746]  do_task_dead+0xe0/0x110
[   69.875978]  make_task_dead+0x384/0x3c0
[   69.876213]  rewind_stack_and_make_dead+0x16/0x20
[   69.876492] RIP: 0033:0x7f730f23ee5d
[   69.876715] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.877076] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.877505] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.877911] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.878326] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.878757] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.879159] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.879556]  </TASK>
[   69.879707] BUG: scheduling while atomic: repro/24919/0x00000000
[   69.880041] INFO: lockdep is turned off.
[   69.880261] Modules linked in:
[   69.880440] Preemption disabled at:
[   69.880443] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   69.880947] CPU: 1 UID: 0 PID: 24919 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   69.881565] Tainted: [D]=DIE, [W]=WARN
[   69.881843] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.882652] Call Trace:
[   69.882835]  <TASK>
[   69.882996]  dump_stack_lvl+0x121/0x150
[   69.883283]  ? do_task_dead+0x28/0x110
[   69.883563]  dump_stack+0x19/0x20
[   69.883818]  __schedule_bug+0x12d/0x180
[   69.884105]  __schedule+0x210c/0x2eb0
[   69.884376]  ? rcu_is_watching+0x19/0xc0
[   69.884662]  ? lock_release+0x592/0x870
[   69.884948]  ? __pfx___schedule+0x10/0x10
[   69.885243]  ? debug_smp_processor_id+0x20/0x30
[   69.885572]  ? rcu_is_watching+0x19/0xc0
[   69.885861]  ? trace_irq_enable+0xe1/0x120
[   69.886166]  ? do_task_dead+0x4a/0x110
[   69.886448]  do_task_dead+0xe0/0x110
[   69.886724]  make_task_dead+0x384/0x3c0
[   69.887017]  rewind_stack_and_make_dead+0x16/0x20
[   69.887349] RIP: 0033:0x7f730f23ee5d
[   69.887604] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   69.888026] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.888543] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   69.889036] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.889519] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   69.890008] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   69.890496] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   69.890993]  </TASK>
[   70.083063] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#170] PREEMPT SMP KASAN NOPTI
[   70.084509] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.085406] CPU: 1 UID: 0 PID: 24999 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.086551] Tainted: [D]=DIE, [W]=WARN
[   70.087011] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.088346] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.089045] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.091103] RSP: 0018:ffff88801a5977d8 EFLAGS: 00010202
[   70.091706] RAX: dffffc0000000000 RBX: ffffea00004f8e80 RCX: ffffffff81b9e6e9
[   70.092507] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004f8e90
[   70.093311] RBP: ffff88801a5977f8 R08: 0000000000000000 R09: ffffed1001ed72b4
[   70.094115] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   70.094918] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f6b95a0
[   70.095723] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   70.096625] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.097280] CR2: 00007f730f3fca50 CR3: 000000001faa6004 CR4: 0000000000770ef0
[   70.098084] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.098852] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.099610] PKRU: 55555554
[   70.099918] Call Trace:
[   70.100196]  <TASK>
[   70.100441]  ? show_regs+0xa8/0xc0
[   70.100840]  ? die_addr+0x5d/0xf0
[   70.101226]  ? exc_general_protection+0x1ae/0x340
[   70.101764]  ? asm_exc_general_protection+0x2b/0x30
[   70.102314]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.102885]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.103456]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.104029]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.104598]  zap_huge_pmd+0x494/0xd40
[   70.105026]  unmap_page_range+0x1ad6/0x4320
[   70.105390]  ? __pfx_lock_release+0x10/0x10
[   70.105744]  ? do_raw_spin_trylock+0xbf/0x190
[   70.106113]  ? __kasan_check_read+0x15/0x20
[   70.106480]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.106909]  ? __pfx_unmap_page_range+0x10/0x10
[   70.107308]  unmap_single_vma+0x1ac/0x2d0
[   70.107658]  unmap_vmas+0x210/0x470
[   70.107969]  ? __pfx_unmap_vmas+0x10/0x10
[   70.108319]  ? __pfx_lock_release+0x10/0x10
[   70.108662]  ? lock_release+0x592/0x870
[   70.108991]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   70.109395]  ? __pfx_lock_release+0x10/0x10
[   70.109746]  ? mlock_drain_local+0x27f/0x4b0
[   70.110108]  exit_mmap+0x19e/0xb10
[   70.110407]  ? __pfx_exit_mmap+0x10/0x10
[   70.110745]  ? trace_hardirqs_on+0x51/0x60
[   70.111106]  ? __khugepaged_exit+0x266/0x4c0
[   70.111472]  ? kmem_cache_free+0x15d/0x420
[   70.111829]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.112270]  __mmput+0xd6/0x390
[   70.112547]  mmput+0x74/0x90
[   70.112807]  do_exit+0xa03/0x29f0
[   70.113093]  ? trace_hardirqs_on+0x51/0x60
[   70.113446]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.113958]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.114352]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.114738]  ? __pfx_do_exit+0x10/0x10
[   70.115043]  ? __audit_syscall_entry+0x39c/0x500
[   70.115413]  __x64_sys_exit+0x50/0x60
[   70.115715]  x64_sys_call+0x20c9/0x20d0
[   70.116022]  do_syscall_64+0x6d/0x140
[   70.116322]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.116719] RIP: 0033:0x7f730f23ee5d
[   70.117001] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.117462] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.118030] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.118563] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.119100] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.119636] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.120174] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.120729]  </TASK>
[   70.120908] Modules linked in:
[   70.121375] ---[ end trace 0000000000000000 ]---
[   70.121742] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.122298] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.123806] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   70.124191] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   70.124707] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   70.125223] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   70.125738] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.126248] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   70.126780] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   70.127339] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.127739] CR2: 00007f730f3fca50 CR3: 000000001faa6004 CR4: 0000000000770ef0
[   70.128240] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.128725] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.129386] PKRU: 55555554
[   70.129585] note: repro[24999] exited with preempt_count 1
[   70.129964] Fixing recursive fault but reboot is needed!
[   70.130325] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24999
[   70.131073] caller is debug_smp_processor_id+0x20/0x30
[   70.131657] CPU: 1 UID: 0 PID: 24999 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.132593] Tainted: [D]=DIE, [W]=WARN
[   70.132953] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.134109] Call Trace:
[   70.134354]  <TASK>
[   70.134567]  dump_stack_lvl+0x121/0x150
[   70.134986]  dump_stack+0x19/0x20
[   70.135393]  check_preemption_disabled+0x168/0x180
[   70.135903]  debug_smp_processor_id+0x20/0x30
[   70.136333]  __schedule+0x9a/0x2eb0
[   70.136688]  ? rcu_is_watching+0x19/0xc0
[   70.137184]  ? lock_release+0x592/0x870
[   70.137564]  ? __pfx___schedule+0x10/0x10
[   70.137950]  ? debug_smp_processor_id+0x20/0x30
[   70.138416]  ? rcu_is_watching+0x19/0xc0
[   70.139069]  ? trace_irq_enable+0xe1/0x120
[   70.139739]  ? do_task_dead+0x4a/0x110
[   70.140361]  do_task_dead+0xe0/0x110
[   70.140837]  make_task_dead+0x384/0x3c0
[   70.141248]  rewind_stack_and_make_dead+0x16/0x20
[   70.141745] RIP: 0033:0x7f730f23ee5d
[   70.142185] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.142830] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.143543] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.144318] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.144901] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.145492] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.146139] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.146726]  </TASK>
[   70.146965] BUG: scheduling while atomic: repro/24999/0x00000000
[   70.147464] INFO: lockdep is turned off.
[   70.147784] Modules linked in:
[   70.148083] Preemption disabled at:
[   70.148089] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   70.148854] CPU: 1 UID: 0 PID: 24999 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.149620] Tainted: [D]=DIE, [W]=WARN
[   70.149933] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.150958] Call Trace:
[   70.151168]  <TASK>
[   70.151357]  dump_stack_lvl+0x121/0x150
[   70.151694]  ? do_task_dead+0x28/0x110
[   70.152018]  dump_stack+0x19/0x20
[   70.152307]  __schedule_bug+0x12d/0x180
[   70.152647]  __schedule+0x210c/0x2eb0
[   70.152963]  ? rcu_is_watching+0x19/0xc0
[   70.153297]  ? lock_release+0x592/0x870
[   70.153624]  ? __pfx___schedule+0x10/0x10
[   70.154011]  ? debug_smp_processor_id+0x20/0x30
[   70.154534]  ? rcu_is_watching+0x19/0xc0
[   70.154945]  ? trace_irq_enable+0xe1/0x120
[   70.155375]  ? do_task_dead+0x4a/0x110
[   70.155774]  do_task_dead+0xe0/0x110
[   70.156154]  make_task_dead+0x384/0x3c0
[   70.156555]  rewind_stack_and_make_dead+0x16/0x20
[   70.157130] RIP: 0033:0x7f730f23ee5d
[   70.157496] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.158104] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.158848] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.159544] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.160353] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.161023] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.161693] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.162430]  </TASK>
[   70.167262] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#171] PREEMPT SMP KASAN NOPTI
[   70.168356] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.169041] CPU: 1 UID: 0 PID: 25031 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.169902] Tainted: [D]=DIE, [W]=WARN
[   70.170247] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.171261] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.171821] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.173550] RSP: 0018:ffff88801451f7d8 EFLAGS: 00010202
[   70.174033] RAX: dffffc0000000000 RBX: ffffea0000470780 RCX: ffffffff81b9e6e9
[   70.174659] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000470790
[   70.175473] RBP: ffff88801451f7f8 R08: 0000000000000000 R09: ffffed1003b63b50
[   70.176092] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.176712] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801db1da80
[   70.177327] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   70.178046] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.178628] CR2: 00007f730f3fca50 CR3: 0000000013542005 CR4: 0000000000770ef0
[   70.179249] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.179870] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.180483] PKRU: 55555554
[   70.180816] Call Trace:
[   70.181122]  <TASK>
[   70.181312]  ? show_regs+0xa8/0xc0
[   70.181618]  ? die_addr+0x5d/0xf0
[   70.181922]  ? exc_general_protection+0x1ae/0x340
[   70.182337]  ? asm_exc_general_protection+0x2b/0x30
[   70.182767]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.183218]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.183745]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.184186]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.184621]  zap_huge_pmd+0x494/0xd40
[   70.184941]  unmap_page_range+0x1ad6/0x4320
[   70.185304]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.185726]  ? __pfx_unmap_page_range+0x10/0x10
[   70.186113]  unmap_single_vma+0x1ac/0x2d0
[   70.186454]  unmap_vmas+0x210/0x470
[   70.186882]  ? __pfx_unmap_vmas+0x10/0x10
[   70.187221]  ? __pfx_lock_release+0x10/0x10
[   70.187569]  ? lock_release+0x592/0x870
[   70.187895]  ? mas_next_slot+0x133a/0x1a50
[   70.188242]  ? __pfx_lock_release+0x10/0x10
[   70.188594]  ? mlock_drain_local+0x27f/0x4b0
[   70.188959]  exit_mmap+0x19e/0xb10
[   70.189256]  ? __pfx_exit_mmap+0x10/0x10
[   70.189594]  ? trace_hardirqs_on+0x51/0x60
[   70.189985]  ? __khugepaged_exit+0x266/0x4c0
[   70.190386]  ? kmem_cache_free+0x15d/0x420
[   70.190724]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.191153]  __mmput+0xd6/0x390
[   70.191417]  mmput+0x74/0x90
[   70.191659]  do_exit+0xa03/0x29f0
[   70.191940]  ? trace_hardirqs_on+0x51/0x60
[   70.192274]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.192943]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.193331]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.193722]  ? __pfx_do_exit+0x10/0x10
[   70.194031]  ? __audit_syscall_entry+0x39c/0x500
[   70.194406]  __x64_sys_exit+0x50/0x60
[   70.194711]  x64_sys_call+0x20c9/0x20d0
[   70.195035]  do_syscall_64+0x6d/0x140
[   70.195507]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.195916] RIP: 0033:0x7f730f23ee5d
[   70.196207] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.196684] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.197331] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.197870] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.198498] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.199031] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.199561] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.200177]  </TASK>
[   70.200352] Modules linked in:
[   70.200632] ---[ end trace 0000000000000000 ]---
[   70.200988] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.201433] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.202862] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   70.203256] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   70.203775] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   70.204288] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   70.204802] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.205316] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   70.205817] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   70.206378] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.206797] CR2: 00007f730f3fca50 CR3: 0000000013542005 CR4: 0000000000770ef0
[   70.207298] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.207823] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.208409] PKRU: 55555554
[   70.208609] note: repro[25031] exited with preempt_count 1
[   70.208997] Fixing recursive fault but reboot is needed!
[   70.209399] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25031
[   70.209892] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#172] PREEMPT SMP KASAN NOPTI
[   70.209970] caller is debug_smp_processor_id+0x20/0x30
[   70.211036] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.211394] CPU: 1 UID: 0 PID: 25031 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.212232] CPU: 0 UID: 0 PID: 25079 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.212846] Tainted: [D]=DIE, [W]=WARN
[   70.213676] Tainted: [D]=DIE, [W]=WARN
[   70.213917] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.214256] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.214998] Call Trace:
[   70.215003]  <TASK>
[   70.215988] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.216157]  dump_stack_lvl+0x121/0x150
[   70.216459] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.216822]  dump_stack+0x19/0x20
[   70.217164] RSP: 0018:ffff888031b1f7d8 EFLAGS: 00010202
[   70.218320]  check_preemption_disabled+0x168/0x180
[   70.218621] 
[   70.218952]  debug_smp_processor_id+0x20/0x30
[   70.219377] RAX: dffffc0000000000 RBX: ffffea00004127c0 RCX: ffffffff81b9e6e9
[   70.219483]  __schedule+0x9a/0x2eb0
[   70.219877] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00004127d0
[   70.220315]  ? rcu_is_watching+0x19/0xc0
[   70.220766] RBP: ffff888031b1f7f8 R08: 0000000000000000 R09: ffffed1003b27454
[   70.221200]  ? lock_release+0x592/0x870
[   70.221547] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.221983]  ? __pfx___schedule+0x10/0x10
[   70.222325] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d93a2a0
[   70.222764]  ? debug_smp_processor_id+0x20/0x30
[   70.223160] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.223597]  ? rcu_is_watching+0x19/0xc0
[   70.224046] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.224525]  ? trace_irq_enable+0xe1/0x120
[   70.225009] CR2: 00007f8809920000 CR3: 0000000031b3a004 CR4: 0000000000770ef0
[   70.225356]  ? do_task_dead+0x4a/0x110
[   70.225726] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.226147]  do_task_dead+0xe0/0x110
[   70.226486] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.226895]  make_task_dead+0x384/0x3c0
[   70.227213] PKRU: 55555554
[   70.227629]  rewind_stack_and_make_dead+0x16/0x20
[   70.227970] Call Trace:
[   70.228136] RIP: 0033:0x7f730f23ee5d
[   70.228556]  <TASK>
[   70.228707] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.229097]  ? show_regs+0xa8/0xc0
[   70.229225] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   70.229775]  ? die_addr+0x5d/0xf0
[   70.229971]  ORIG_RAX: 000000000000003c
[   70.229975] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.230448]  ? exc_general_protection+0x1ae/0x340
[   70.230637] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.231144]  ? asm_exc_general_protection+0x2b/0x30
[   70.231535] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.231972]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.232357] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.232797]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.233190] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.233654]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.234050]  </TASK>
[   70.234506]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.236143]  zap_huge_pmd+0x494/0xd40
[   70.236515]  unmap_page_range+0x1ad6/0x4320
[   70.236952]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.237435]  ? __pfx_unmap_page_range+0x10/0x10
[   70.237896]  unmap_single_vma+0x1ac/0x2d0
[   70.238295]  unmap_vmas+0x210/0x470
[   70.238817]  ? __pfx_unmap_vmas+0x10/0x10
[   70.239402]  ? __pfx_lock_release+0x10/0x10
[   70.239813]  ? lock_release+0x592/0x870
[   70.240223]  ? mas_next_slot+0x133a/0x1a50
[   70.240643]  ? __pfx_lock_release+0x10/0x10
[   70.241178]  ? mlock_drain_local+0x27f/0x4b0
[   70.241735]  exit_mmap+0x19e/0xb10
[   70.242187]  ? __pfx_exit_mmap+0x10/0x10
[   70.242703]  ? trace_hardirqs_on+0x51/0x60
[   70.243236]  ? __khugepaged_exit+0x266/0x4c0
[   70.243785]  ? kmem_cache_free+0x15d/0x420
[   70.244412]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.245103]  __mmput+0xd6/0x390
[   70.245522]  mmput+0x74/0x90
[   70.245908]  do_exit+0xa03/0x29f0
[   70.246344]  ? trace_hardirqs_on+0x51/0x60
[   70.246874]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.247633]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.248370]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.249022]  ? __pfx_do_exit+0x10/0x10
[   70.249508]  ? __audit_syscall_entry+0x39c/0x500
[   70.250101]  __x64_sys_exit+0x50/0x60
[   70.250578]  x64_sys_call+0x20c9/0x20d0
[   70.251077]  do_syscall_64+0x6d/0x140
[   70.251555]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.252189] RIP: 0033:0x7f730f23ee5d
[   70.252636] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.253373] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.254282] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.255364] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.256500] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.257427] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.258288] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.259160]  </TASK>
[   70.259446] Modules linked in:
[   70.260162] ---[ end trace 0000000000000000 ]---
[   70.260741] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.261459] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.263975] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   70.264799] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   70.265718] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   70.266745] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   70.267603] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.268457] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   70.269308] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.270272] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.271004] CR2: 00007f8809920000 CR3: 0000000031b3a004 CR4: 0000000000770ef0
[   70.271936] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.272794] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.273644] PKRU: 55555554
[   70.273991] note: repro[25079] exited with preempt_count 1
[   70.274690] Fixing recursive fault but reboot is needed!
[   70.275468] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25079
[   70.276412] caller is debug_smp_processor_id+0x20/0x30
[   70.277056] CPU: 0 UID: 0 PID: 25079 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.278204] Tainted: [D]=DIE, [W]=WARN
[   70.278665] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.280192] Call Trace:
[   70.280507]  <TASK>
[   70.280789]  dump_stack_lvl+0x121/0x150
[   70.281288]  dump_stack+0x19/0x20
[   70.281731]  check_preemption_disabled+0x168/0x180
[   70.282332]  debug_smp_processor_id+0x20/0x30
[   70.282891]  __schedule+0x9a/0x2eb0
[   70.283340]  ? rcu_is_watching+0x19/0xc0
[   70.283835]  ? lock_release+0x592/0x870
[   70.284318]  ? __pfx___schedule+0x10/0x10
[   70.284826]  ? debug_smp_processor_id+0x20/0x30
[   70.285389]  ? rcu_is_watching+0x19/0xc0
[   70.285884]  ? trace_irq_enable+0xe1/0x120
[   70.286651]  ? do_task_dead+0x4a/0x110
[   70.287288]  do_task_dead+0xe0/0x110
[   70.287854]  make_task_dead+0x384/0x3c0
[   70.288362]  rewind_stack_and_make_dead+0x16/0x20
[   70.288957] RIP: 0033:0x7f730f23ee5d
[   70.289409] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.290151] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.291063] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.291913] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.292760] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.293607] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.294458] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.295323]  </TASK>
[   70.295683] BUG: scheduling while atomic: repro/25079/0x00000000
[   70.296667] INFO: lockdep is turned off.
[   70.297252] Modules linked in:
[   70.297641] Preemption disabled at:
[   70.297646] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   70.298746] CPU: 0 UID: 0 PID: 25079 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.299832] Tainted: [D]=DIE, [W]=WARN
[   70.300268] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.301538] Call Trace:
[   70.301838]  <TASK>
[   70.302098]  dump_stack_lvl+0x121/0x150
[   70.302563]  ? do_task_dead+0x28/0x110
[   70.303021]  dump_stack+0x19/0x20
[   70.303428]  __schedule_bug+0x12d/0x180
[   70.303896]  __schedule+0x210c/0x2eb0
[   70.304334]  ? rcu_is_watching+0x19/0xc0
[   70.304804]  ? lock_release+0x592/0x870
[   70.305262]  ? __pfx___schedule+0x10/0x10
[   70.305741]  ? debug_smp_processor_id+0x20/0x30
[   70.306248]  ? rcu_is_watching+0x19/0xc0
[   70.306694]  ? trace_irq_enable+0xe1/0x120
[   70.307162]  ? do_task_dead+0x4a/0x110
[   70.307593]  do_task_dead+0xe0/0x110
[   70.308016]  make_task_dead+0x384/0x3c0
[   70.308457]  rewind_stack_and_make_dead+0x16/0x20
[   70.308983] RIP: 0033:0x7f730f23ee5d
[   70.309386] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.310052] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.310872] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.311636] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.312405] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.313176] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.313928] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.314668]  </TASK>
[   70.830042] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#173] PREEMPT SMP KASAN NOPTI
[   70.831420] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.832330] CPU: 0 UID: 0 PID: 25321 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.833422] Tainted: [D]=DIE, [W]=WARN
[   70.833885] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.835160] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.835866] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.837931] RSP: 0018:ffff88801c2777d8 EFLAGS: 00010202
[   70.838761] RAX: dffffc0000000000 RBX: ffffea0000c2f6c0 RCX: ffffffff81b9e6e9
[   70.839722] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c2f6d0
[   70.840525] RBP: ffff88801c2777f8 R08: 0000000000000000 R09: ffffed1003f58ab4
[   70.841294] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.842063] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801fac55a0
[   70.842829] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.843693] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.844320] CR2: 00007f730f29bc20 CR3: 00000000224aa004 CR4: 0000000000770ef0
[   70.845473] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.846251] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.847026] PKRU: 55555554
[   70.847332] Call Trace:
[   70.847613]  <TASK>
[   70.847866]  ? show_regs+0xa8/0xc0
[   70.848262]  ? die_addr+0x5d/0xf0
[   70.848634]  ? exc_general_protection+0x1ae/0x340
[   70.849153]  ? asm_exc_general_protection+0x2b/0x30
[   70.849694]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.850245]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.850829]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.851623]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.852176]  zap_huge_pmd+0x494/0xd40
[   70.852586]  unmap_page_range+0x1ad6/0x4320
[   70.853056]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.853596]  ? __pfx_unmap_page_range+0x10/0x10
[   70.854099]  unmap_single_vma+0x1ac/0x2d0
[   70.854544]  unmap_vmas+0x210/0x470
[   70.854923]  ? __pfx_unmap_vmas+0x10/0x10
[   70.855339]  ? __pfx_lock_release+0x10/0x10
[   70.855772]  ? lock_release+0x592/0x870
[   70.856167]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   70.856668]  ? __pfx_lock_release+0x10/0x10
[   70.857109]  ? mlock_drain_local+0x27f/0x4b0
[   70.857772]  exit_mmap+0x19e/0xb10
[   70.858142]  ? __pfx_exit_mmap+0x10/0x10
[   70.858559]  ? trace_hardirqs_on+0x51/0x60
[   70.859002]  ? __khugepaged_exit+0x266/0x4c0
[   70.859444]  ? kmem_cache_free+0x15d/0x420
[   70.859993]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.860530]  __mmput+0xd6/0x390
[   70.860853]  mmput+0x74/0x90
[   70.861144]  do_exit+0xa03/0x29f0
[   70.861480]  ? trace_hardirqs_on+0x51/0x60
[   70.861886]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.862460]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.862927]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.863397]  ? __pfx_do_exit+0x10/0x10
[   70.863768]  ? __audit_syscall_entry+0x39c/0x500
[   70.864228]  __x64_sys_exit+0x50/0x60
[   70.864588]  x64_sys_call+0x20c9/0x20d0
[   70.864972]  do_syscall_64+0x6d/0x140
[   70.865336]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.865821] RIP: 0033:0x7f730f23ee5d
[   70.866173] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.866748] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.867440] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.868098] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.868752] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.869392] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.870053] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.870725]  </TASK>
[   70.870944] Modules linked in:
[   70.871456] ---[ end trace 0000000000000000 ]---
[   70.871902] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.872459] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.874125] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   70.874802] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   70.875476] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   70.876131] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   70.876789] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.877443] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   70.878151] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.879057] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.879603] CR2: 00007f730f29bc20 CR3: 00000000224aa004 CR4: 0000000000770ef0
[   70.880362] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.881031] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.881692] PKRU: 55555554
[   70.881953] note: repro[25321] exited with preempt_count 1
[   70.882463] Fixing recursive fault but reboot is needed!
[   70.883025] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25321
[   70.883740] caller is debug_smp_processor_id+0x20/0x30
[   70.884228] CPU: 0 UID: 0 PID: 25321 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.885091] Tainted: [D]=DIE, [W]=WARN
[   70.885449] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.886469] Call Trace:
[   70.886714]  <TASK>
[   70.886926]  dump_stack_lvl+0x121/0x150
[   70.887319]  dump_stack+0x19/0x20
[   70.887650]  check_preemption_disabled+0x168/0x180
[   70.888118]  debug_smp_processor_id+0x20/0x30
[   70.888543]  __schedule+0x9a/0x2eb0
[   70.888892]  ? rcu_is_watching+0x19/0xc0
[   70.889282]  ? lock_release+0x592/0x870
[   70.889660]  ? __pfx___schedule+0x10/0x10
[   70.890062]  ? debug_smp_processor_id+0x20/0x30
[   70.890495]  ? rcu_is_watching+0x19/0xc0
[   70.890886]  ? trace_irq_enable+0xe1/0x120
[   70.891291]  ? do_task_dead+0x4a/0x110
[   70.891673]  do_task_dead+0xe0/0x110
[   70.892036]  make_task_dead+0x384/0x3c0
[   70.892415]  rewind_stack_and_make_dead+0x16/0x20
[   70.892862] RIP: 0033:0x7f730f23ee5d
[   70.893203] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.893764] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.894467] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.895129] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.895786] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.896438] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.897087] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.897757]  </TASK>
[   70.898095] BUG: scheduling while atomic: repro/25321/0x00000000
[   70.898793] INFO: lockdep is turned off.
[   70.899162] Modules linked in:
[   70.899455] Preemption disabled at:
[   70.899460] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   70.900305] CPU: 0 UID: 0 PID: 25321 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   70.901178] Tainted: [D]=DIE, [W]=WARN
[   70.901538] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.902575] Call Trace:
[   70.902815]  <TASK>
[   70.903020]  dump_stack_lvl+0x121/0x150
[   70.903406]  ? do_task_dead+0x28/0x110
[   70.903789]  dump_stack+0x19/0x20
[   70.904128]  __schedule_bug+0x12d/0x180
[   70.904507]  __schedule+0x210c/0x2eb0
[   70.904871]  ? rcu_is_watching+0x19/0xc0
[   70.905251]  ? lock_release+0x592/0x870
[   70.905622]  ? __pfx___schedule+0x10/0x10
[   70.906015]  ? debug_smp_processor_id+0x20/0x30
[   70.906459]  ? rcu_is_watching+0x19/0xc0
[   70.906839]  ? trace_irq_enable+0xe1/0x120
[   70.907248]  ? do_task_dead+0x4a/0x110
[   70.907624]  do_task_dead+0xe0/0x110
[   70.907995]  make_task_dead+0x384/0x3c0
[   70.908374]  rewind_stack_and_make_dead+0x16/0x20
[   70.908837] RIP: 0033:0x7f730f23ee5d
[   70.909182] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   70.909742] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.910441] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   70.911104] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.911754] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   70.912401] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   70.913064] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   70.913730]  </TASK>
[   71.665208] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#174] PREEMPT SMP KASAN NOPTI
[   71.666309] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   71.667178] CPU: 1 UID: 0 PID: 25765 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   71.668160] Tainted: [D]=DIE, [W]=WARN
[   71.668505] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.669502] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.670046] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.672044] RSP: 0018:ffff8880319e77d8 EFLAGS: 00010202
[   71.672523] RAX: dffffc0000000000 RBX: ffffea0000c64bc0 RCX: ffffffff81b9e6e9
[   71.673159] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c64bd0
[   71.673810] RBP: ffff8880319e77f8 R08: 0000000000000000 R09: ffffed10023e6b68
[   71.674461] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   71.675107] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011f35b40
[   71.676049] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   71.676776] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.677297] CR2: 00007f730f517910 CR3: 0000000026192005 CR4: 0000000000770ef0
[   71.677945] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.678583] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.679224] PKRU: 55555554
[   71.679635] Call Trace:
[   71.680000]  <TASK>
[   71.680212]  ? show_regs+0xa8/0xc0
[   71.680553]  ? die_addr+0x5d/0xf0
[   71.680890]  ? exc_general_protection+0x1ae/0x340
[   71.681357]  ? asm_exc_general_protection+0x2b/0x30
[   71.681832]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   71.682314]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.682806]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   71.683291]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.684079]  zap_huge_pmd+0x494/0xd40
[   71.684479]  unmap_page_range+0x1ad6/0x4320
[   71.684940]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   71.685456]  ? __pfx_unmap_page_range+0x10/0x10
[   71.685936]  unmap_single_vma+0x1ac/0x2d0
[   71.686339]  unmap_vmas+0x210/0x470
[   71.686707]  ? __pfx_unmap_vmas+0x10/0x10
[   71.687096]  ? __pfx_lock_release+0x10/0x10
[   71.687492]  ? lock_release+0x592/0x870
[   71.688070]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   71.688599]  ? __pfx_lock_release+0x10/0x10
[   71.689012]  ? mlock_drain_local+0x27f/0x4b0
[   71.689449]  exit_mmap+0x19e/0xb10
[   71.689828]  ? __pfx_exit_mmap+0x10/0x10
[   71.690256]  ? trace_hardirqs_on+0x51/0x60
[   71.690688]  ? __khugepaged_exit+0x266/0x4c0
[   71.691100]  ? kmem_cache_free+0x15d/0x420
[   71.691502]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   71.692307]  __mmput+0xd6/0x390
[   71.692651]  mmput+0x74/0x90
[   71.692945]  do_exit+0xa03/0x29f0
[   71.693276]  ? trace_hardirqs_on+0x51/0x60
[   71.693677]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   71.694249]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   71.694707]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   71.695167]  ? __pfx_do_exit+0x10/0x10
[   71.695596]  ? __audit_syscall_entry+0x39c/0x500
[   71.696308]  __x64_sys_exit+0x50/0x60
[   71.696756]  x64_sys_call+0x20c9/0x20d0
[   71.697144]  do_syscall_64+0x6d/0x140
[   71.697523]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   71.698015] RIP: 0033:0x7f730f23ee5d
[   71.698383] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   71.698946] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.699667] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   71.700330] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.700994] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   71.701630] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   71.702268] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   71.703102]  </TASK>
[   71.703320] Modules linked in:
[   71.703858] ---[ end trace 0000000000000000 ]---
[   71.704295] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.704843] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.707093] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   71.707789] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   71.708737] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   71.709550] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   71.710193] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   71.710862] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   71.711488] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   71.712213] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.713037] CR2: 00007f730f517910 CR3: 0000000026192005 CR4: 0000000000770ef0
[   71.713657] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.714284] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.714919] PKRU: 55555554
[   71.715169] note: repro[25765] exited with preempt_count 1
[   71.715627] Fixing recursive fault but reboot is needed!
[   71.716066] BUG: using smp_processor_id() in preemptible [00000000] code: repro/25765
[   71.716702] caller is debug_smp_processor_id+0x20/0x30
[   71.717327] CPU: 1 UID: 0 PID: 25765 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   71.718110] Tainted: [D]=DIE, [W]=WARN
[   71.718429] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.719338] Call Trace:
[   71.719555]  <TASK>
[   71.719753]  dump_stack_lvl+0x121/0x150
[   71.720099]  dump_stack+0x19/0x20
[   71.720403]  check_preemption_disabled+0x168/0x180
[   71.721059]  debug_smp_processor_id+0x20/0x30
[   71.721537]  __schedule+0x9a/0x2eb0
[   71.721849]  ? rcu_is_watching+0x19/0xc0
[   71.722180]  ? lock_release+0x592/0x870
[   71.722517]  ? __pfx___schedule+0x10/0x10
[   71.722873]  ? debug_smp_processor_id+0x20/0x30
[   71.723270]  ? rcu_is_watching+0x19/0xc0
[   71.723604]  ? trace_irq_enable+0xe1/0x120
[   71.723985]  ? do_task_dead+0x4a/0x110
[   71.724315]  do_task_dead+0xe0/0x110
[   71.724638]  make_task_dead+0x384/0x3c0
[   71.724984]  rewind_stack_and_make_dead+0x16/0x20
[   71.725377] RIP: 0033:0x7f730f23ee5d
[   71.725687] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   71.726188] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.726858] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   71.727656] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.728241] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   71.728819] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   71.729390] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   71.729962]  </TASK>
[   71.730311] BUG: scheduling while atomic: repro/25765/0x00000000
[   71.730886] INFO: lockdep is turned off.
[   71.731192] Modules linked in:
[   71.731434] Preemption disabled at:
[   71.731438] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   71.732145] CPU: 1 UID: 0 PID: 25765 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   71.732859] Tainted: [D]=DIE, [W]=WARN
[   71.733147] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.733992] Call Trace:
[   71.734200]  <TASK>
[   71.734373]  dump_stack_lvl+0x121/0x150
[   71.734687]  ? do_task_dead+0x28/0x110
[   71.734991]  dump_stack+0x19/0x20
[   71.735266]  __schedule_bug+0x12d/0x180
[   71.735577]  __schedule+0x210c/0x2eb0
[   71.735870]  ? rcu_is_watching+0x19/0xc0
[   71.736185]  ? lock_release+0x592/0x870
[   71.736498]  ? __pfx___schedule+0x10/0x10
[   71.736816]  ? debug_smp_processor_id+0x20/0x30
[   71.737182]  ? rcu_is_watching+0x19/0xc0
[   71.737497]  ? trace_irq_enable+0xe1/0x120
[   71.737828]  ? do_task_dead+0x4a/0x110
[   71.738143]  do_task_dead+0xe0/0x110
[   71.738426]  make_task_dead+0x384/0x3c0
[   71.738724]  rewind_stack_and_make_dead+0x16/0x20
[   71.739104] RIP: 0033:0x7f730f23ee5d
[   71.739387] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   71.739867] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.740421] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   71.740932] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.741443] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   71.741952] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   71.742464] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   71.742991]  </TASK>
[   72.246975] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#175] PREEMPT SMP KASAN NOPTI
[   72.248348] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   72.249188] CPU: 0 UID: 0 PID: 26072 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.250103] Tainted: [D]=DIE, [W]=WARN
[   72.250460] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.251505] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.252050] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.253643] RSP: 0018:ffff8880215b77d8 EFLAGS: 00010202
[   72.254212] RAX: dffffc0000000000 RBX: ffffea000089e4c0 RCX: ffffffff81b9e6e9
[   72.254925] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000089e4d0
[   72.255745] RBP: ffff8880215b77f8 R08: 0000000000000000 R09: ffffed10023e0744
[   72.256575] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   72.257389] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011f03a20
[   72.258276] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   72.259195] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.259834] CR2: 00007f730f52b000 CR3: 000000001a594004 CR4: 0000000000770ef0
[   72.260604] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.261379] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.262181] PKRU: 55555554
[   72.262495] Call Trace:
[   72.262783]  <TASK>
[   72.263037]  ? show_regs+0xa8/0xc0
[   72.263452]  ? die_addr+0x5d/0xf0
[   72.263863]  ? exc_general_protection+0x1ae/0x340
[   72.264425]  ? asm_exc_general_protection+0x2b/0x30
[   72.264997]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   72.265588]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.266108]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   72.266603]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.267058]  zap_huge_pmd+0x494/0xd40
[   72.267412]  unmap_page_range+0x1ad6/0x4320
[   72.267776]  ? __pfx_lock_release+0x10/0x10
[   72.268131]  ? do_raw_spin_trylock+0xbf/0x190
[   72.268502]  ? __kasan_check_read+0x15/0x20
[   72.268883]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   72.269333]  ? __pfx_unmap_page_range+0x10/0x10
[   72.269763]  unmap_single_vma+0x1ac/0x2d0
[   72.270141]  unmap_vmas+0x210/0x470
[   72.270466]  ? __pfx_unmap_vmas+0x10/0x10
[   72.270818]  ? __pfx_lock_release+0x10/0x10
[   72.271181]  ? lock_release+0x592/0x870
[   72.271511]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   72.271945]  ? __pfx_lock_release+0x10/0x10
[   72.272310]  ? mlock_drain_local+0x27f/0x4b0
[   72.272688]  exit_mmap+0x19e/0xb10
[   72.272992]  ? __pfx_exit_mmap+0x10/0x10
[   72.273323]  ? trace_hardirqs_on+0x51/0x60
[   72.273667]  ? __khugepaged_exit+0x266/0x4c0
[   72.274018]  ? kmem_cache_free+0x15d/0x420
[   72.274358]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   72.274786]  __mmput+0xd6/0x390
[   72.275208]  mmput+0x74/0x90
[   72.275598]  do_exit+0xa03/0x29f0
[   72.275983]  ? trace_hardirqs_on+0x51/0x60
[   72.276338]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   72.276826]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   72.277223]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   72.277609]  ? __pfx_do_exit+0x10/0x10
[   72.277921]  ? __audit_syscall_entry+0x39c/0x500
[   72.278302]  __x64_sys_exit+0x50/0x60
[   72.278609]  x64_sys_call+0x20c9/0x20d0
[   72.278927]  do_syscall_64+0x6d/0x140
[   72.279238]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   72.279658] RIP: 0033:0x7f730f23ee5d
[   72.279950] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.280408] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.280960] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.281821] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.282373] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.282917] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.283545] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.284257]  </TASK>
[   72.284493] Modules linked in:
[   72.285086] ---[ end trace 0000000000000000 ]---
[   72.285509] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.285956] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.287521] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   72.287901] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   72.288400] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   72.288911] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   72.289425] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   72.289935] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   72.290424] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   72.290994] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.291399] CR2: 00007f730f52b000 CR3: 000000001a594004 CR4: 0000000000770ef0
[   72.292157] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.292637] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.293166] PKRU: 55555554
[   72.293363] note: repro[26072] exited with preempt_count 1
[   72.293741] Fixing recursive fault but reboot is needed!
[   72.294113] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26072
[   72.294655] caller is debug_smp_processor_id+0x20/0x30
[   72.295028] CPU: 0 UID: 0 PID: 26072 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.295656] Tainted: [D]=DIE, [W]=WARN
[   72.295920] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.296656] Call Trace:
[   72.296836]  <TASK>
[   72.296991]  dump_stack_lvl+0x121/0x150
[   72.297268]  dump_stack+0x19/0x20
[   72.297510]  check_preemption_disabled+0x168/0x180
[   72.297563] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#176] PREEMPT SMP KASAN NOPTI
[   72.298029]  debug_smp_processor_id+0x20/0x30
[   72.299559] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   72.299863]  __schedule+0x9a/0x2eb0
[   72.300760] CPU: 1 UID: 0 PID: 26083 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.301081]  ? rcu_is_watching+0x19/0xc0
[   72.302198] Tainted: [D]=DIE, [W]=WARN
[   72.302450]  ? lock_release+0x592/0x870
[   72.302906] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.303163]  ? __pfx___schedule+0x10/0x10
[   72.304582] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.304840]  ? debug_smp_processor_id+0x20/0x30
[   72.305485] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.305793]  ? rcu_is_watching+0x19/0xc0
[   72.307835] RSP: 0018:ffff8880274677d8 EFLAGS: 00010202
[   72.308092]  ? trace_irq_enable+0xe1/0x120
[   72.308986] RAX: dffffc0000000000 RBX: ffffea0000767340 RCX: ffffffff81b9e6e9
[   72.309243]  ? do_task_dead+0x4a/0x110
[   72.310094] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000767350
[   72.310337]  do_task_dead+0xe0/0x110
[   72.311138] RBP: ffff8880274677f8 R08: 0000000000000000 R09: ffffed1003842f80
[   72.311367]  make_task_dead+0x384/0x3c0
[   72.312161] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   72.312402]  rewind_stack_and_make_dead+0x16/0x20
[   72.313169] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c217c00
[   72.313446] RIP: 0033:0x7f730f23ee5d
[   72.314215] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   72.314424] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.315583] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.315950] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.316572] CR2: 00007f8809956010 CR3: 0000000030a2e001 CR4: 0000000000770ef0
[   72.317173] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.318016] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.318419] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.319179] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.319561] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.320327] PKRU: 55555554
[   72.320737] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.321267] Call Trace:
[   72.321661] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.321927]  <TASK>
[   72.322328]  </TASK>
[   72.322551]  ? show_regs+0xa8/0xc0
[   72.323042]  ? die_addr+0x5d/0xf0
[   72.323415]  ? exc_general_protection+0x1ae/0x340
[   72.323946]  ? asm_exc_general_protection+0x2b/0x30
[   72.324483]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   72.325040]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.325594]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   72.326157]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.326732]  zap_huge_pmd+0x494/0xd40
[   72.327149]  unmap_page_range+0x1ad6/0x4320
[   72.327619]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   72.328148]  ? __pfx_unmap_page_range+0x10/0x10
[   72.328633]  unmap_single_vma+0x1ac/0x2d0
[   72.329298]  unmap_vmas+0x210/0x470
[   72.329789]  ? __pfx_unmap_vmas+0x10/0x10
[   72.330211]  ? __pfx_lock_release+0x10/0x10
[   72.330645]  ? lock_release+0x592/0x870
[   72.331055]  ? mas_next_slot+0x133a/0x1a50
[   72.331490]  ? __pfx_lock_release+0x10/0x10
[   72.331931]  ? mlock_drain_local+0x27f/0x4b0
[   72.332380]  exit_mmap+0x19e/0xb10
[   72.332758]  ? __pfx_exit_mmap+0x10/0x10
[   72.333179]  ? trace_hardirqs_on+0x51/0x60
[   72.333616]  ? __khugepaged_exit+0x266/0x4c0
[   72.334067]  ? kmem_cache_free+0x15d/0x420
[   72.334500]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   72.335058]  __mmput+0xd6/0x390
[   72.335563]  mmput+0x74/0x90
[   72.335940]  do_exit+0xa03/0x29f0
[   72.336284]  ? trace_hardirqs_on+0x51/0x60
[   72.336700]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   72.337301]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   72.337784]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   72.338260]  ? __pfx_do_exit+0x10/0x10
[   72.338637]  ? __audit_syscall_entry+0x39c/0x500
[   72.339102]  __x64_sys_exit+0x50/0x60
[   72.339475]  x64_sys_call+0x20c9/0x20d0
[   72.339854]  do_syscall_64+0x6d/0x140
[   72.340219]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   72.340698] RIP: 0033:0x7f730f23ee5d
[   72.341041] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.341873] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.342600] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.343248] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.343893] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.344538] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.345181] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.345834]  </TASK>
[   72.346047] Modules linked in:
[   72.346542] ---[ end trace 0000000000000000 ]---
[   72.346969] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.347486] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.349327] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   72.349841] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   72.350895] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   72.351718] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   72.352312] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   72.352910] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   72.353506] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   72.354182] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.354750] CR2: 00007f8809956010 CR3: 0000000030a2e001 CR4: 0000000000770ef0
[   72.355594] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.356220] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.356803] PKRU: 55555554
[   72.357035] note: repro[26083] exited with preempt_count 1
[   72.357482] Fixing recursive fault but reboot is needed!
[   72.357917] BUG: using smp_processor_id() in preemptible [00000000] code: repro/26083
[   72.358565] caller is debug_smp_processor_id+0x20/0x30
[   72.359004] CPU: 1 UID: 0 PID: 26083 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.359778] Tainted: [D]=DIE, [W]=WARN
[   72.360092] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.360992] Call Trace:
[   72.361288]  <TASK>
[   72.361549]  dump_stack_lvl+0x121/0x150
[   72.361904]  dump_stack+0x19/0x20
[   72.362186]  check_preemption_disabled+0x168/0x180
[   72.362576]  debug_smp_processor_id+0x20/0x30
[   72.362940]  __schedule+0x9a/0x2eb0
[   72.363234]  ? rcu_is_watching+0x19/0xc0
[   72.363557]  ? lock_release+0x592/0x870
[   72.363877]  ? __pfx___schedule+0x10/0x10
[   72.364207]  ? debug_smp_processor_id+0x20/0x30
[   72.364574]  ? rcu_is_watching+0x19/0xc0
[   72.364900]  ? trace_irq_enable+0xe1/0x120
[   72.365243]  ? do_task_dead+0x4a/0x110
[   72.365560]  do_task_dead+0xe0/0x110
[   72.365868]  make_task_dead+0x384/0x3c0
[   72.366183]  rewind_stack_and_make_dead+0x16/0x20
[   72.366557] RIP: 0033:0x7f730f23ee5d
[   72.366849] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.367543] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.368264] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.368807] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.369347] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.369882] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.370403] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.370937]  </TASK>
[   72.371159] BUG: scheduling while atomic: repro/26083/0x00000000
[   72.371603] INFO: lockdep is turned off.
[   72.371897] Modules linked in:
[   72.372133] Preemption disabled at:
[   72.372136] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   72.372820] CPU: 1 UID: 0 PID: 26083 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.373496] Tainted: [D]=DIE, [W]=WARN
[   72.373770] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.374565] Call Trace:
[   72.374757]  <TASK>
[   72.374920]  dump_stack_lvl+0x121/0x150
[   72.375214]  ? do_task_dead+0x28/0x110
[   72.375616]  dump_stack+0x19/0x20
[   72.375984]  __schedule_bug+0x12d/0x180
[   72.376347]  __schedule+0x210c/0x2eb0
[   72.376617]  ? rcu_is_watching+0x19/0xc0
[   72.376905]  ? lock_release+0x592/0x870
[   72.377182]  ? __pfx___schedule+0x10/0x10
[   72.377471]  ? debug_smp_processor_id+0x20/0x30
[   72.377797]  ? rcu_is_watching+0x19/0xc0
[   72.378080]  ? trace_irq_enable+0xe1/0x120
[   72.378380]  ? do_task_dead+0x4a/0x110
[   72.378658]  do_task_dead+0xe0/0x110
[   72.378932]  make_task_dead+0x384/0x3c0
[   72.379214]  rewind_stack_and_make_dead+0x16/0x20
[   72.379547] RIP: 0033:0x7f730f23ee5d
[   72.379804] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.380225] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.380742] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.381228] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.381705] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.382175] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.382652] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.383135]  </TASK>
[   72.749155] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#177] PREEMPT SMP KASAN NOPTI
[   72.750411] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   72.751049] CPU: 1 UID: 0 PID: 26322 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.751849] Tainted: [D]=DIE, [W]=WARN
[   72.752169] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.753106] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.753593] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.755054] RSP: 0018:ffff88800fbc77d8 EFLAGS: 00010202
[   72.755482] RAX: dffffc0000000000 RBX: ffffea0000c26180 RCX: ffffffff81b9e6e9
[   72.756289] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c26190
[   72.756866] RBP: ffff88800fbc77f8 R08: 0000000000000000 R09: ffffed10042ff09c
[   72.757438] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   72.758012] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880217f84e0
[   72.758588] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   72.759237] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.759700] CR2: 00007f730f4f5e28 CR3: 0000000030972004 CR4: 0000000000770ef0
[   72.760254] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.760809] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.761359] PKRU: 55555554
[   72.761578] Call Trace:
[   72.761781]  <TASK>
[   72.761959]  ? show_regs+0xa8/0xc0
[   72.762363]  ? die_addr+0x5d/0xf0
[   72.762700]  ? exc_general_protection+0x1ae/0x340
[   72.763098]  ? asm_exc_general_protection+0x2b/0x30
[   72.763500]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   72.763914]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.764315]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   72.764718]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.765116]  zap_huge_pmd+0x494/0xd40
[   72.765415]  unmap_page_range+0x1ad6/0x4320
[   72.765797]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   72.766358]  ? __pfx_unmap_page_range+0x10/0x10
[   72.766806]  unmap_single_vma+0x1ac/0x2d0
[   72.767129]  unmap_vmas+0x210/0x470
[   72.767416]  ? __pfx_unmap_vmas+0x10/0x10
[   72.767737]  ? __pfx_lock_release+0x10/0x10
[   72.768056]  ? lock_release+0x592/0x870
[   72.768349]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   72.768724]  ? __pfx_lock_release+0x10/0x10
[   72.769044]  ? mlock_drain_local+0x27f/0x4b0
[   72.769374]  exit_mmap+0x19e/0xb10
[   72.769643]  ? __pfx_exit_mmap+0x10/0x10
[   72.769955]  ? trace_hardirqs_on+0x51/0x60
[   72.770277]  ? __khugepaged_exit+0x266/0x4c0
[   72.770604]  ? kmem_cache_free+0x15d/0x420
[   72.770916]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   72.771320]  __mmput+0xd6/0x390
[   72.771570]  mmput+0x74/0x90
[   72.771800]  do_exit+0xa03/0x29f0
[   72.772062]  ? trace_hardirqs_on+0x51/0x60
[   72.772514]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   72.773061]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   72.773417]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   72.773771]  ? __pfx_do_exit+0x10/0x10
[   72.774052]  ? __audit_syscall_entry+0x39c/0x500
[   72.774394]  __x64_sys_exit+0x50/0x60
[   72.774675]  x64_sys_call+0x20c9/0x20d0
[   72.774963]  do_syscall_64+0x6d/0x140
[   72.775242]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   72.775610] RIP: 0033:0x7f730f23ee5d
[   72.775875] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.776445] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.777159] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.777830] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.778354] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.779034] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.779520] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.780014]  </TASK>
[   72.780175] Modules linked in:
[   72.780454] ---[ end trace 0000000000000000 ]---
[   72.780782] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.781185] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.782412] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   72.782777] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   72.783249] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   72.783722] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   72.784202] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   72.784676] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   72.785298] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   72.785813] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.786188] CR2: 00007f730f4f5e28 CR3: 0000000030972004 CR4: 0000000000770ef0
[   72.786663] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.787127] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.787586] PKRU: 55555554
[   72.787770] note: repro[26322] exited with preempt_count 1
[   72.788125] Fixing recursive fault but reboot is needed!
[   72.788468] BUG: scheduling while atomic: repro/26322/0x00000000
[   72.788842] INFO: lockdep is turned off.
[   72.789088] Modules linked in:
[   72.789288] Preemption disabled at:
[   72.789291] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   72.789857] CPU: 1 UID: 0 PID: 26322 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   72.790455] Tainted: [D]=DIE, [W]=WARN
[   72.790699] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.791635] Call Trace:
[   72.791803]  <TASK>
[   72.791948]  dump_stack_lvl+0x121/0x150
[   72.792207]  ? do_task_dead+0x28/0x110
[   72.792459]  dump_stack+0x19/0x20
[   72.792844]  __schedule_bug+0x12d/0x180
[   72.793336]  __schedule+0x210c/0x2eb0
[   72.793805]  ? rcu_is_watching+0x19/0xc0
[   72.794181]  ? lock_release+0x592/0x870
[   72.794424]  ? __pfx___schedule+0x10/0x10
[   72.794681]  ? debug_smp_processor_id+0x20/0x30
[   72.794967]  ? rcu_is_watching+0x19/0xc0
[   72.795215]  ? trace_irq_enable+0xe1/0x120
[   72.795479]  ? do_task_dead+0x4a/0x110
[   72.795725]  do_task_dead+0xe0/0x110
[   72.795961]  make_task_dead+0x384/0x3c0
[   72.796212]  rewind_stack_and_make_dead+0x16/0x20
[   72.796510] RIP: 0033:0x7f730f23ee5d
[   72.796768] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   72.797282] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.797843] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   72.798266] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.798690] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   72.799112] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   72.799529] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   72.799945]  </TASK>
[   73.173593] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#178] PREEMPT SMP KASAN NOPTI
[   73.174534] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.175124] CPU: 0 UID: 0 PID: 26583 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.175854] Tainted: [D]=DIE, [W]=WARN
[   73.176148] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.177011] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.177472] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.178843] RSP: 0018:ffff88803098f7d8 EFLAGS: 00010202
[   73.179259] RAX: dffffc0000000000 RBX: ffffea0000c64dc0 RCX: ffffffff81b9e6e9
[   73.179816] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c64dd0
[   73.180346] RBP: ffff88803098f7f8 R08: 0000000000000000 R09: ffffed10044e5ac0
[   73.180914] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.181462] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88802272d600
[   73.182006] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.182611] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.183045] CR2: 00007f730f29bc20 CR3: 00000000145c6002 CR4: 0000000000770ef0
[   73.183582] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.184129] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.184658] PKRU: 55555554
[   73.184874] Call Trace:
[   73.185077]  <TASK>
[   73.185254]  ? show_regs+0xa8/0xc0
[   73.185536]  ? die_addr+0x5d/0xf0
[   73.185819]  ? exc_general_protection+0x1ae/0x340
[   73.186181]  ? asm_exc_general_protection+0x2b/0x30
[   73.186547]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.186942]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.187377]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.187757]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.188142]  zap_huge_pmd+0x494/0xd40
[   73.188426]  unmap_page_range+0x1ad6/0x4320
[   73.188761]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.189142]  ? __pfx_unmap_page_range+0x10/0x10
[   73.189491]  unmap_single_vma+0x1ac/0x2d0
[   73.189799]  unmap_vmas+0x210/0x470
[   73.190072]  ? __pfx_unmap_vmas+0x10/0x10
[   73.190374]  ? __pfx_lock_release+0x10/0x10
[   73.190687]  ? lock_release+0x592/0x870
[   73.190974]  ? mas_next_slot+0x133a/0x1a50
[   73.191344]  ? __pfx_lock_release+0x10/0x10
[   73.191673]  ? mlock_drain_local+0x27f/0x4b0
[   73.191999]  exit_mmap+0x19e/0xb10
[   73.192274]  ? __pfx_exit_mmap+0x10/0x10
[   73.192584]  ? trace_hardirqs_on+0x51/0x60
[   73.192911]  ? __khugepaged_exit+0x266/0x4c0
[   73.193288]  ? kmem_cache_free+0x15d/0x420
[   73.193584]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.193961]  __mmput+0xd6/0x390
[   73.194195]  mmput+0x74/0x90
[   73.194458]  do_exit+0xa03/0x29f0
[   73.194803]  ? trace_hardirqs_on+0x51/0x60
[   73.195117]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.195549]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.195898]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.196239]  ? __pfx_do_exit+0x10/0x10
[   73.196527]  ? __audit_syscall_entry+0x39c/0x500
[   73.196912]  __x64_sys_exit+0x50/0x60
[   73.197182]  x64_sys_call+0x20c9/0x20d0
[   73.197461]  do_syscall_64+0x6d/0x140
[   73.197736]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.198099] RIP: 0033:0x7f730f23ee5d
[   73.198355] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.198774] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.199293] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.199775] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.200237] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.200700] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.201167] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.201642]  </TASK>
[   73.201801] Modules linked in:
[   73.202192] ---[ end trace 0000000000000000 ]---
[   73.202572] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.202965] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.204256] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   73.204718] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   73.205165] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   73.205612] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   73.206055] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.206513] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   73.206961] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.207462] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.207828] CR2: 00007f730f29bc20 CR3: 00000000145c6002 CR4: 0000000000770ef0
[   73.208266] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.208696] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.209124] PKRU: 55555554
[   73.209308] note: repro[26583] exited with preempt_count 1
[   73.209642] Fixing recursive fault but reboot is needed!
[   73.209965] BUG: scheduling while atomic: repro/26583/0x00000000
[   73.210337] INFO: lockdep is turned off.
[   73.210594] Modules linked in:
[   73.210799] Preemption disabled at:
[   73.210803] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.211375] CPU: 0 UID: 0 PID: 26583 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.211947] Tainted: [D]=DIE, [W]=WARN
[   73.212177] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.212844] Call Trace:
[   73.213002]  <TASK>
[   73.213138]  dump_stack_lvl+0x121/0x150
[   73.213383]  ? do_task_dead+0x28/0x110
[   73.213619]  dump_stack+0x19/0x20
[   73.213833]  __schedule_bug+0x12d/0x180
[   73.214074]  __schedule+0x210c/0x2eb0
[   73.214302]  ? rcu_is_watching+0x19/0xc0
[   73.214548]  ? lock_release+0x592/0x870
[   73.214788]  ? __pfx___schedule+0x10/0x10
[   73.215034]  ? debug_smp_processor_id+0x20/0x30
[   73.215308]  ? rcu_is_watching+0x19/0xc0
[   73.215547]  ? trace_irq_enable+0xe1/0x120
[   73.215804]  ? do_task_dead+0x4a/0x110
[   73.216042]  do_task_dead+0xe0/0x110
[   73.216269]  make_task_dead+0x384/0x3c0
[   73.216509]  rewind_stack_and_make_dead+0x16/0x20
[   73.216796] RIP: 0033:0x7f730f23ee5d
[   73.217015] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.217372] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.217797] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.218198] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.218656] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.219201] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.219618] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.220031]  </TASK>
[   73.259205] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#179] PREEMPT SMP KASAN NOPTI
[   73.260444] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.261189] CPU: 1 UID: 0 PID: 26639 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.262086] Tainted: [D]=DIE, [W]=WARN
[   73.262445] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.263501] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.264067] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.265775] RSP: 0018:ffff888031abf7d8 EFLAGS: 00010202
[   73.266275] RAX: dffffc0000000000 RBX: ffffea00003e5680 RCX: ffffffff81b9e6e9
[   73.266946] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00003e5690
[   73.267605] RBP: ffff888031abf7f8 R08: 0000000000000000 R09: ffffed10021e6108
[   73.268247] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.268889] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010f30840
[   73.269528] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.270257] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.270781] CR2: 00007f730f52b000 CR3: 0000000030b80001 CR4: 0000000000770ef0
[   73.271422] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.272064] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.272707] PKRU: 55555554
[   73.272961] Call Trace:
[   73.273194]  <TASK>
[   73.273399]  ? show_regs+0xa8/0xc0
[   73.273732]  ? die_addr+0x5d/0xf0
[   73.274044]  ? exc_general_protection+0x1ae/0x340
[   73.274476]  ? asm_exc_general_protection+0x2b/0x30
[   73.274924]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.275382]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.275844]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.276307]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.276770]  zap_huge_pmd+0x494/0xd40
[   73.277112]  unmap_page_range+0x1ad6/0x4320
[   73.277503]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.277959]  ? __pfx_unmap_page_range+0x10/0x10
[   73.278376]  unmap_single_vma+0x1ac/0x2d0
[   73.278747]  unmap_vmas+0x210/0x470
[   73.279075]  ? __pfx_unmap_vmas+0x10/0x10
[   73.279437]  ? __pfx_lock_release+0x10/0x10
[   73.279805]  ? lock_release+0x592/0x870
[   73.280139]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   73.280563]  ? __pfx_lock_release+0x10/0x10
[   73.280932]  ? mlock_drain_local+0x27f/0x4b0
[   73.281308]  exit_mmap+0x19e/0xb10
[   73.281617]  ? __pfx_exit_mmap+0x10/0x10
[   73.281972]  ? trace_hardirqs_on+0x51/0x60
[   73.282337]  ? __khugepaged_exit+0x266/0x4c0
[   73.282713]  ? kmem_cache_free+0x15d/0x420
[   73.283074]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.283537]  __mmput+0xd6/0x390
[   73.283823]  mmput+0x74/0x90
[   73.284082]  do_exit+0xa03/0x29f0
[   73.284370]  ? trace_hardirqs_on+0x51/0x60
[   73.284721]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.285229]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.285633]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.286040]  ? __pfx_do_exit+0x10/0x10
[   73.286360]  ? __audit_syscall_entry+0x39c/0x500
[   73.286752]  __x64_sys_exit+0x50/0x60
[   73.287065]  x64_sys_call+0x20c9/0x20d0
[   73.287393]  do_syscall_64+0x6d/0x140
[   73.287711]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.288132] RIP: 0033:0x7f730f23ee5d
[   73.288434] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.288930] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.289536] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.290110] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.290682] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.291250] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.291802] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.292362]  </TASK>
[   73.292544] Modules linked in:
[   73.292813] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#180] PREEMPT SMP KASAN NOPTI
[   73.292938] ---[ end trace 0000000000000000 ]---
[   73.293856] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.294207] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.294831] CPU: 0 UID: 0 PID: 26651 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.294858] Tainted: [D]=DIE, [W]=WARN
[   73.294863] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.294874] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.294901] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.294917] RSP: 0018:ffff88801119f7d8 EFLAGS: 00010202
[   73.294931] RAX: dffffc0000000000 RBX: ffffea000043cdc0 RCX: ffffffff81b9e6e9
[   73.294942] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea000043cdd0
[   73.294953] RBP: ffff88801119f7f8 R08: 0000000000000000 R09: ffffed100207e290
[   73.295385] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.296160] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.296445] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   73.297475] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880103f1480
[   73.297906] 
[   73.297910] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   73.299440] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.299456] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.299467] CR2: 00007f730f29bc20 CR3: 000000001f840002 CR4: 0000000000770ef0
[   73.299480] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.299490] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.299499] PKRU: 55555554
[   73.299505] Call Trace:
[   73.299510]  <TASK>
[   73.299518]  ? show_regs+0xa8/0xc0
[   73.299541]  ? die_addr+0x5d/0xf0
[   73.299919] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   73.300485]  ? exc_general_protection+0x1ae/0x340
[   73.300995] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   73.301629]  ? asm_exc_general_protection+0x2b/0x30
[   73.303051] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.303712]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.304204] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   73.304709]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.304827] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.305401]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.306254] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.306827]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.306853]  zap_huge_pmd+0x494/0xd40
[   73.306879]  unmap_page_range+0x1ad6/0x4320
[   73.307371] CR2: 00007f730f52b000 CR3: 0000000030b80001 CR4: 0000000000770ef0
[   73.307975]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.308455] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.308678]  ? __pfx_unmap_page_range+0x10/0x10
[   73.308846] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.309029]  unmap_single_vma+0x1ac/0x2d0
[   73.309255] PKRU: 55555554
[   73.309521]  unmap_vmas+0x210/0x470
[   73.309997] note: repro[26639] exited with preempt_count 1
[   73.310376]  ? __pfx_unmap_vmas+0x10/0x10
[   73.310876] Fixing recursive fault but reboot is needed!
[   73.311230]  ? __pfx_lock_release+0x10/0x10
[   73.319821]  ? lock_release+0x592/0x870
[   73.320133]  ? mas_next_slot+0x133a/0x1a50
[   73.320461]  ? __pfx_lock_release+0x10/0x10
[   73.320796]  ? mlock_drain_local+0x27f/0x4b0
[   73.321136]  exit_mmap+0x19e/0xb10
[   73.321423]  ? __pfx_exit_mmap+0x10/0x10
[   73.321744]  ? trace_hardirqs_on+0x51/0x60
[   73.322077]  ? __khugepaged_exit+0x266/0x4c0
[   73.322471]  ? kmem_cache_free+0x15d/0x420
[   73.322872]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.323378]  __mmput+0xd6/0x390
[   73.323674]  mmput+0x74/0x90
[   73.323934]  do_exit+0xa03/0x29f0
[   73.324192]  ? trace_hardirqs_on+0x51/0x60
[   73.324506]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.324967]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.325338]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.325694]  ? __pfx_do_exit+0x10/0x10
[   73.325983]  ? __audit_syscall_entry+0x39c/0x500
[   73.326333]  __x64_sys_exit+0x50/0x60
[   73.326615]  x64_sys_call+0x20c9/0x20d0
[   73.326908]  do_syscall_64+0x6d/0x140
[   73.327193]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.327571] RIP: 0033:0x7f730f23ee5d
[   73.327839] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.328269] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.328805] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.329295] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.329777] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.330263] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.330747] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.331241]  </TASK>
[   73.331404] Modules linked in:
[   73.331826] ---[ end trace 0000000000000000 ]---
[   73.332259] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.332797] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.333603] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#181] PREEMPT SMP KASAN NOPTI
[   73.334462] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   73.335002] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.335005] 
[   73.335013] CPU: 1 UID: 0 PID: 26655 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.335394] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   73.335726] Tainted: [D]=DIE, [W]=WARN
[   73.335835] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   73.336243] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.336699] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   73.336867] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.337319] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.337814] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.338268] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   73.338545] RSP: 0018:ffff888018c877d8 EFLAGS: 00010202
[   73.338559] RAX: dffffc0000000000 RBX: ffffea0000438880 RCX: ffffffff81b9e6e9
[   73.338571] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000438890
[   73.338581] RBP: ffff888018c877f8 R08: 0000000000000000 R09: ffffed1003e20fe0
[   73.338592] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.338601] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f107f00
[   73.338612] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.338626] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.338637] CR2: 00007ffdcd14bac8 CR3: 00000000276ec006 CR4: 0000000000770ef0
[   73.338651] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.338661] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.338675] PKRU: 55555554
[   73.338681] Call Trace:
[   73.338687]  <TASK>
[   73.338695]  ? show_regs+0xa8/0xc0
[   73.338720]  ? die_addr+0x5d/0xf0
[   73.339345] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.340351]  ? exc_general_protection+0x1ae/0x340
[   73.340984] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.341214]  ? asm_exc_general_protection+0x2b/0x30
[   73.341709] CR2: 00007f730f29bc20 CR3: 000000001f840002 CR4: 0000000000770ef0
[   73.342016]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.342453] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.342747]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.342760]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.342772]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.342784]  zap_huge_pmd+0x494/0xd40
[   73.342799]  unmap_page_range+0x1ad6/0x4320
[   73.342817]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.342830]  ? __pfx_unmap_page_range+0x10/0x10
[   73.342846]  unmap_single_vma+0x1ac/0x2d0
[   73.342860]  unmap_vmas+0x210/0x470
[   73.342873]  ? __pfx_unmap_vmas+0x10/0x10
[   73.343320] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.343651]  ? __pfx_lock_release+0x10/0x10
[   73.344009] PKRU: 55555554
[   73.344305]  ? lock_release+0x592/0x870
[   73.344753] note: repro[26651] exited with preempt_count 1
[   73.345047]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   73.345223] Fixing recursive fault but reboot is needed!
[   73.345331]  ? __pfx_lock_release+0x10/0x10
[   73.350872]  ? mlock_drain_local+0x27f/0x4b0
[   73.351071]  exit_mmap+0x19e/0xb10
[   73.351232]  ? __pfx_exit_mmap+0x10/0x10
[   73.351412]  ? trace_hardirqs_on+0x51/0x60
[   73.351602]  ? __khugepaged_exit+0x266/0x4c0
[   73.351797]  ? kmem_cache_free+0x15d/0x420
[   73.351982]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.352215]  __mmput+0xd6/0x390
[   73.352361]  mmput+0x74/0x90
[   73.352494]  do_exit+0xa03/0x29f0
[   73.352646]  ? trace_hardirqs_on+0x51/0x60
[   73.352830]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.353093]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.353303]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.353512]  ? __pfx_do_exit+0x10/0x10
[   73.353682]  ? __audit_syscall_entry+0x39c/0x500
[   73.353892]  __x64_sys_exit+0x50/0x60
[   73.354058]  x64_sys_call+0x20c9/0x20d0
[   73.354229]  do_syscall_64+0x6d/0x140
[   73.354397]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.354734] RIP: 0033:0x7f730f23ee5d
[   73.354972] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.355356] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.355809] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.356189] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.356568] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.356879] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.357172] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.357471]  </TASK>
[   73.357571] Modules linked in:
[   73.357822] ---[ end trace 0000000000000000 ]---
[   73.358024] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.358276] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.359116] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   73.359341] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   73.359637] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   73.359936] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   73.360234] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.360528] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   73.360826] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.361158] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.361400] CR2: 00007ffdcd14bac8 CR3: 00000000276ec006 CR4: 0000000000770ef0
[   73.361698] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.361992] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.362286] PKRU: 55555554
[   73.362406] note: repro[26655] exited with preempt_count 1
[   73.362695] Fixing recursive fault but reboot is needed!
[   73.362919] BUG: scheduling while atomic: repro/26655/0x00000000
[   73.363170] INFO: lockdep is turned off.
[   73.363335] Modules linked in:
[   73.363470] Preemption disabled at:
[   73.363473] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.363859] CPU: 1 UID: 0 PID: 26655 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.364255] Tainted: [D]=DIE, [W]=WARN
[   73.364416] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.364878] Call Trace:
[   73.364989]  <TASK>
[   73.365087]  dump_stack_lvl+0x121/0x150
[   73.365264]  ? do_task_dead+0x28/0x110
[   73.365435]  dump_stack+0x19/0x20
[   73.365589]  __schedule_bug+0x12d/0x180
[   73.365764]  __schedule+0x210c/0x2eb0
[   73.365929]  ? rcu_is_watching+0x19/0xc0
[   73.366103]  ? lock_release+0x592/0x870
[   73.366273]  ? __pfx___schedule+0x10/0x10
[   73.366451]  ? debug_smp_processor_id+0x20/0x30
[   73.366651]  ? rcu_is_watching+0x19/0xc0
[   73.366824]  ? trace_irq_enable+0xe1/0x120
[   73.367010]  ? do_task_dead+0x4a/0x110
[   73.367182]  do_task_dead+0xe0/0x110
[   73.367346]  make_task_dead+0x384/0x3c0
[   73.367519]  rewind_stack_and_make_dead+0x16/0x20
[   73.367726] RIP: 0033:0x7f730f23ee5d
[   73.367883] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.368139] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.368454] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.368750] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.369045] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.369341] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.369637] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.369940]  </TASK>
[   73.556460] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#182] PREEMPT SMP KASAN NOPTI
[   73.557559] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.558234] CPU: 0 UID: 0 PID: 26747 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.559346] Tainted: [D]=DIE, [W]=WARN
[   73.559776] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.560771] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.561308] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.562912] RSP: 0018:ffff8880145277d8 EFLAGS: 00010202
[   73.563713] RAX: dffffc0000000000 RBX: ffffea0000c26980 RCX: ffffffff81b9e6e9
[   73.564347] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000c26990
[   73.564988] RBP: ffff8880145277f8 R08: 0000000000000000 R09: ffffed1004eca5d4
[   73.565622] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.566257] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888027652ea0
[   73.566894] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.567963] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.568482] CR2: 00007f730f52b000 CR3: 00000000276ea006 CR4: 0000000000770ef0
[   73.569131] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.569765] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.570394] PKRU: 55555554
[   73.570651] Call Trace:
[   73.570892]  <TASK>
[   73.571103]  ? show_regs+0xa8/0xc0
[   73.571626]  ? die_addr+0x5d/0xf0
[   73.572070]  ? exc_general_protection+0x1ae/0x340
[   73.572530]  ? asm_exc_general_protection+0x2b/0x30
[   73.572984]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.573442]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.573902]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.574357]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.574816]  zap_huge_pmd+0x494/0xd40
[   73.575162]  unmap_page_range+0x1ad6/0x4320
[   73.575557]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.576010]  ? __pfx_unmap_page_range+0x10/0x10
[   73.576431]  unmap_single_vma+0x1ac/0x2d0
[   73.576808]  unmap_vmas+0x210/0x470
[   73.577141]  ? __pfx_unmap_vmas+0x10/0x10
[   73.577729]  ? __pfx_lock_release+0x10/0x10
[   73.578266]  ? lock_release+0x592/0x870
[   73.578613]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   73.579057]  ? __pfx_lock_release+0x10/0x10
[   73.579438]  ? mlock_drain_local+0x27f/0x4b0
[   73.579832]  exit_mmap+0x19e/0xb10
[   73.580156]  ? __pfx_exit_mmap+0x10/0x10
[   73.580522]  ? trace_hardirqs_on+0x51/0x60
[   73.580914]  ? __khugepaged_exit+0x266/0x4c0
[   73.581303]  ? kmem_cache_free+0x15d/0x420
[   73.581893]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.582465]  __mmput+0xd6/0x390
[   73.582754]  mmput+0x74/0x90
[   73.583023]  do_exit+0xa03/0x29f0
[   73.583323]  ? trace_hardirqs_on+0x51/0x60
[   73.583688]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.584202]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.584616]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.585029]  ? __pfx_do_exit+0x10/0x10
[   73.585357]  ? __audit_syscall_entry+0x39c/0x500
[   73.585789]  __x64_sys_exit+0x50/0x60
[   73.586145]  x64_sys_call+0x20c9/0x20d0
[   73.586512]  do_syscall_64+0x6d/0x140
[   73.586899]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.587369] RIP: 0033:0x7f730f23ee5d
[   73.587681] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.588470] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.589090] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.589664] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.590239] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.590806] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.591351] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.592009]  </TASK>
[   73.592264] Modules linked in:
[   73.592833] ---[ end trace 0000000000000000 ]---
[   73.593213] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.593678] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.595251] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   73.595673] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   73.596220] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   73.596766] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   73.597310] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.597856] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   73.598389] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.599234] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.599673] CR2: 00007f730f52b000 CR3: 00000000276ea006 CR4: 0000000000770ef0
[   73.600202] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.600727] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.601259] PKRU: 55555554
[   73.601475] note: repro[26747] exited with preempt_count 1
[   73.601925] Fixing recursive fault but reboot is needed!
[   73.602847] BUG: scheduling while atomic: repro/26747/0x00000000
[   73.603368] INFO: lockdep is turned off.
[   73.603662] Modules linked in:
[   73.603906] Preemption disabled at:
[   73.603910] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.604584] CPU: 0 UID: 0 PID: 26747 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   73.605282] Tainted: [D]=DIE, [W]=WARN
[   73.605567] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.606410] Call Trace:
[   73.606610]  <TASK>
[   73.606795]  dump_stack_lvl+0x121/0x150
[   73.607126]  ? do_task_dead+0x28/0x110
[   73.607436]  dump_stack+0x19/0x20
[   73.607720]  __schedule_bug+0x12d/0x180
[   73.608109]  __schedule+0x210c/0x2eb0
[   73.608647]  ? rcu_is_watching+0x19/0xc0
[   73.609260]  ? lock_release+0x592/0x870
[   73.609705]  ? __pfx___schedule+0x10/0x10
[   73.610104]  ? debug_smp_processor_id+0x20/0x30
[   73.610551]  ? rcu_is_watching+0x19/0xc0
[   73.610942]  ? trace_irq_enable+0xe1/0x120
[   73.611356]  ? do_task_dead+0x4a/0x110
[   73.611742]  do_task_dead+0xe0/0x110
[   73.612098]  make_task_dead+0x384/0x3c0
[   73.612469]  rewind_stack_and_make_dead+0x16/0x20
[   73.612918] RIP: 0033:0x7f730f23ee5d
[   73.613260] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   73.613823] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.614513] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   73.615423] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.616068] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   73.616714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   73.617354] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   73.618010]  </TASK>
[   74.149430] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#183] PREEMPT SMP KASAN NOPTI
[   74.150623] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   74.151506] CPU: 1 UID: 0 PID: 27120 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   74.152442] Tainted: [D]=DIE, [W]=WARN
[   74.152805] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.153862] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.154423] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.156377] RSP: 0018:ffff888010fc77d8 EFLAGS: 00010202
[   74.156880] RAX: dffffc0000000000 RBX: ffffea0000984200 RCX: ffffffff81b9e6e9
[   74.157547] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000984210
[   74.158217] RBP: ffff888010fc77f8 R08: 0000000000000000 R09: ffffed1006138224
[   74.158986] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   74.159773] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880309c1120
[   74.160430] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   74.161160] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.161685] CR2: 00007f730f29bc20 CR3: 000000001061e003 CR4: 0000000000770ef0
[   74.162329] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.162970] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.163609] PKRU: 55555554
[   74.163866] Call Trace:
[   74.164099]  <TASK>
[   74.164305]  ? show_regs+0xa8/0xc0
[   74.164635]  ? die_addr+0x5d/0xf0
[   74.165083]  ? exc_general_protection+0x1ae/0x340
[   74.165655]  ? asm_exc_general_protection+0x2b/0x30
[   74.166109]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   74.166570]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.167036]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   74.167498]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.167962]  zap_huge_pmd+0x494/0xd40
[   74.168308]  unmap_page_range+0x1ad6/0x4320
[   74.168706]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   74.169162]  ? __pfx_unmap_page_range+0x10/0x10
[   74.169582]  unmap_single_vma+0x1ac/0x2d0
[   74.169969]  unmap_vmas+0x210/0x470
[   74.170290]  ? __pfx_unmap_vmas+0x10/0x10
[   74.170643]  ? __pfx_lock_release+0x10/0x10
[   74.171350]  ? lock_release+0x592/0x870
[   74.171817]  ? mas_next_slot+0x133a/0x1a50
[   74.172179]  ? __pfx_lock_release+0x10/0x10
[   74.172547]  ? mlock_drain_local+0x27f/0x4b0
[   74.172929]  exit_mmap+0x19e/0xb10
[   74.173240]  ? __pfx_exit_mmap+0x10/0x10
[   74.173595]  ? trace_hardirqs_on+0x51/0x60
[   74.173916]  ? __khugepaged_exit+0x266/0x4c0
[   74.174292]  ? kmem_cache_free+0x15d/0x420
[   74.174656]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   74.175126]  __mmput+0xd6/0x390
[   74.175411]  mmput+0x74/0x90
[   74.175677]  do_exit+0xa03/0x29f0
[   74.175978]  ? trace_hardirqs_on+0x51/0x60
[   74.176342]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   74.176871]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   74.177278]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   74.177860]  ? __pfx_do_exit+0x10/0x10
[   74.178207]  ? __audit_syscall_entry+0x39c/0x500
[   74.178600]  __x64_sys_exit+0x50/0x60
[   74.178854]  x64_sys_call+0x20c9/0x20d0
[   74.179114]  do_syscall_64+0x6d/0x140
[   74.179358]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   74.179732] RIP: 0033:0x7f730f23ee5d
[   74.180035] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   74.180529] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.181137] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   74.181709] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.182277] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   74.182830] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   74.183379] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   74.183940]  </TASK>
[   74.184123] Modules linked in:
[   74.184579] ---[ end trace 0000000000000000 ]---
[   74.185117] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.185587] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.187059] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   74.187462] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   74.187997] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   74.188529] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   74.189062] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   74.189594] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   74.190237] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   74.190914] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.191470] CR2: 00007f730f29bc20 CR3: 000000001061e003 CR4: 0000000000770ef0
[   74.191494] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#184] PREEMPT SMP KASAN NOPTI
[   74.191993] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.192683] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   74.193193] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.193617] CPU: 0 UID: 0 PID: 27136 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   74.194130] PKRU: 55555554
[   74.194664] Tainted: [D]=DIE, [W]=WARN
[   74.194669] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.194680] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.194885] note: repro[27120] exited with preempt_count 1
[   74.195103] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.195899] Fixing recursive fault but reboot is needed!
[   74.196216] RSP: 0018:ffff888011ddf7d8 EFLAGS: 00010202
[   74.196599] check_preemption_disabled: 6 callbacks suppressed
[   74.196606] BUG: using smp_processor_id() in preemptible [00000000] code: repro/27120
[   74.197589] 
[   74.197961] caller is debug_smp_processor_id+0x20/0x30
[   74.198390] RAX: dffffc0000000000 RBX: ffffea0000f38300 RCX: ffffffff81b9e6e9
[   74.198808] CPU: 1 UID: 0 PID: 27120 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   74.199217] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea0000f38310
[   74.199335] Tainted: [D]=DIE, [W]=WARN
[   74.199615] RBP: ffff888011ddf7f8 R08: 0000000000000000 R09: ffffed10020fad08
[   74.200096] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.200615] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   74.201096] Call Trace:
[   74.201308] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880107d6840
[   74.201795]  <TASK>
[   74.202387] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   74.202873]  dump_stack_lvl+0x121/0x150
[   74.203027] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.203507]  dump_stack+0x19/0x20
[   74.203626] CR2: 00007f880998c000 CR3: 0000000031b5e002 CR4: 0000000000770ef0
[   74.204153]  check_preemption_disabled+0x168/0x180
[   74.204360] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.204742]  debug_smp_processor_id+0x20/0x30
[   74.204921] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.205387]  __schedule+0x9a/0x2eb0
[   74.205644] PKRU: 55555554
[   74.206100]  ? rcu_is_watching+0x19/0xc0
[   74.206334] Call Trace:
[   74.206932]  ? lock_release+0x592/0x870
[   74.207124]  <TASK>
[   74.207305]  ? __pfx___schedule+0x10/0x10
[   74.207511]  ? show_regs+0xa8/0xc0
[   74.207681]  ? debug_smp_processor_id+0x20/0x30
[   74.207880]  ? die_addr+0x5d/0xf0
[   74.208025]  ? rcu_is_watching+0x19/0xc0
[   74.208235]  ? exc_general_protection+0x1ae/0x340
[   74.208458]  ? trace_irq_enable+0xe1/0x120
[   74.208717]  ? asm_exc_general_protection+0x2b/0x30
[   74.208932]  ? do_task_dead+0x4a/0x110
[   74.209142]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   74.209446]  do_task_dead+0xe0/0x110
[   74.209659]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.209974]  make_task_dead+0x384/0x3c0
[   74.210170]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   74.210501]  rewind_stack_and_make_dead+0x16/0x20
[   74.210691]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.211012] RIP: 0033:0x7f730f23ee5d
[   74.211215]  zap_huge_pmd+0x494/0xd40
[   74.211536] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   74.211792]  unmap_page_range+0x1ad6/0x4320
[   74.212111] RSP: 002b:00007f730f516d98 EFLAGS: 00000202
[   74.212311]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   74.212622]  ORIG_RAX: 000000000000003c
[   74.212944]  ? __pfx_unmap_page_range+0x10/0x10
[   74.213225] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   74.213493]  unmap_single_vma+0x1ac/0x2d0
[   74.213795] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.213995]  unmap_vmas+0x210/0x470
[   74.214270] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   74.214628]  ? __pfx_unmap_vmas+0x10/0x10
[   74.214871] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   74.215229]  ? __pfx_lock_release+0x10/0x10
[   74.215446] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   74.215801]  ? lock_release+0x592/0x870
[   74.216056]  </TASK>
[   74.216406]  ? mas_next_slot+0x133a/0x1a50
[   74.217630]  ? __pfx_lock_release+0x10/0x10
[   74.217956]  ? mlock_drain_local+0x27f/0x4b0
[   74.218291]  exit_mmap+0x19e/0xb10
[   74.218509]  ? __pfx_exit_mmap+0x10/0x10
[   74.218731]  ? trace_hardirqs_on+0x51/0x60
[   74.218955]  ? __khugepaged_exit+0x266/0x4c0
[   74.219185]  ? kmem_cache_free+0x15d/0x420
[   74.219407]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   74.219691]  __mmput+0xd6/0x390
[   74.219866]  mmput+0x74/0x90
[   74.220026]  do_exit+0xa03/0x29f0
[   74.220213]  ? trace_hardirqs_on+0x51/0x60
[   74.220435]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   74.220754]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   74.221006]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   74.221258]  ? __pfx_do_exit+0x10/0x10
[   74.221460]  ? __audit_syscall_entry+0x39c/0x500
[   74.221710]  __x64_sys_exit+0x50/0x60
[   74.221911]  x64_sys_call+0x20c9/0x20d0
[   74.222119]  do_syscall_64+0x6d/0x140
[   74.222320]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   74.222584] RIP: 0033:0x7f730f23ee5d
[   74.222775] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   74.223105] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.223473] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   74.223815] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.224298] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   74.224737] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   74.225079] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   74.225427]  </TASK>
[   74.225543] Modules linked in:
[   74.225760] ---[ end trace 0000000000000000 ]---
[   74.225991] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.226281] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.227243] RSP: 0018:ffff8880276cf7d8 EFLAGS: 00010202
[   74.227508] RAX: dffffc0000000000 RBX: ffffea00008910c0 RCX: ffffffff81b9e6e9
[   74.227841] RDX: 0000000000000001 RSI: ffffffff81b9e7fe RDI: ffffea00008910d0
[   74.228178] RBP: ffff8880276cf7f8 R08: 0000000000000000 R09: ffffed10028f5a18
[   74.228510] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   74.228844] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880147ad0c0
[   74.229178] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   74.229548] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.229821] CR2: 00007f880998c000 CR3: 0000000031b5e002 CR4: 0000000000770ef0
[   74.230167] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.230630] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.231112] PKRU: 55555554
[   74.231252] note: repro[27136] exited with preempt_count 1
[   74.231511] Fixing recursive fault but reboot is needed!
[   74.231764] BUG: using smp_processor_id() in preemptible [00000000] code: repro/27136
[   74.232129] caller is debug_smp_processor_id+0x20/0x30
[   74.232379] CPU: 0 UID: 0 PID: 27136 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   74.232816] Tainted: [D]=DIE, [W]=WARN
[   74.232993] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.233496] Call Trace:
[   74.233618]  <TASK>
[   74.233726]  dump_stack_lvl+0x121/0x150
[   74.233922]  dump_stack+0x19/0x20
[   74.234152]  check_preemption_disabled+0x168/0x180
[   74.234455]  debug_smp_processor_id+0x20/0x30
[   74.234749]  __schedule+0x9a/0x2eb0
[   74.234973]  ? rcu_is_watching+0x19/0xc0
[   74.235164]  ? lock_release+0x592/0x870
[   74.235354]  ? __pfx___schedule+0x10/0x10
[   74.235548]  ? debug_smp_processor_id+0x20/0x30
[   74.235765]  ? rcu_is_watching+0x19/0xc0
[   74.235954]  ? trace_irq_enable+0xe1/0x120
[   74.236156]  ? do_task_dead+0x4a/0x110
[   74.236356]  do_task_dead+0xe0/0x110
[   74.236538]  make_task_dead+0x384/0x3c0
[   74.236726]  rewind_stack_and_make_dead+0x16/0x20
[   74.236944] RIP: 0033:0x7f730f23ee5d
[   74.237113] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   74.237382] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.237719] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   74.238029] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.238341] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   74.238651] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   74.238963] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   74.239282]  </TASK>
[   74.239455] BUG: scheduling while atomic: repro/27136/0x00000000
[   74.239729] INFO: lockdep is turned off.
[   74.239907] Modules linked in:
[   74.240052] Preemption disabled at:
[   74.240055] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   74.240459] CPU: 0 UID: 0 PID: 27136 Comm: repro Tainted: G      D W          6.11.0-rc6-f2c5101be436+ #1
[   74.241035] Tainted: [D]=DIE, [W]=WARN
[   74.241238] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.241715] Call Trace:
[   74.241830]  <TASK>
[   74.241932]  dump_stack_lvl+0x121/0x150
[   74.242113]  ? do_task_dead+0x28/0x110
[   74.242290]  dump_stack+0x19/0x20
[   74.242450]  __schedule_bug+0x12d/0x180
[   74.242632]  __schedule+0x210c/0x2eb0
[   74.242803]  ? rcu_is_watching+0x19/0xc0
[   74.242982]  ? lock_release+0x592/0x870
[   74.243160]  ? __pfx___schedule+0x10/0x10
[   74.243345]  ? debug_smp_processor_id+0x20/0x30
[   74.243552]  ? rcu_is_watching+0x19/0xc0
[   74.243732]  ? trace_irq_enable+0xe1/0x120
[   74.243922]  ? do_task_dead+0x4a/0x110
[   74.244099]  do_task_dead+0xe0/0x110
[   74.244271]  make_task_dead+0x384/0x3c0
[   74.244445]  rewind_stack_and_make_dead+0x16/0x20
[   74.244651] RIP: 0033:0x7f730f23ee5d
[   74.244811] Code: Unable to access opcode bytes at 0x7f730f23ee33.
[   74.245070] RSP: 002b:00007f730f516d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.245387] RAX: ffffffffffffffda RBX: 00007f730f517640 RCX: 00007f730f23ee5d
[   74.245685] RDX: 00007f730f313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.245980] RBP: 00007f730f516db0 R08: 0000000000000000 R09: 0000000000000000
[   74.246275] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f730f517640
[   74.246581] R13: 0000000000000000 R14: 00007f730f29f560 R15: 0000000000000000
[   74.246886]  </TASK>

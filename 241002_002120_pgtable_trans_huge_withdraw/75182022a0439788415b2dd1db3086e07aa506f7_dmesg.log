c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.11.0-rc6-75182022a043+ (root@p-mtlsx) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-2), GNU ld version 2.35.2-54.el9) #1 SMP PREEMPT_DYNAMIC Wed Oct  2 07:35:26 CST 2024
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/split lock detection: #DB: warning on user-space bus_locks
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: legacy bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] DMI: Memory slots populated: 1/1
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000003] kvm-clock: using sched offset of 1003167715 cycles
[    0.000345] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.001423] tsc: Detected 2380.800 MHz processor
[    0.008322] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.008703] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.009256] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.018803] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.019326] Using GB pages for direct mapping
[    0.022237] ACPI: Early table checksum verification disabled
[    0.022717] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.023194] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.023901] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.024604] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.025302] ACPI: FACS 0x000000007FFE0000 000040
[    0.025645] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.026226] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.026876] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.027536] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.028008] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.028463] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.028922] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.029387] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.029862] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.030887] No NUMA configuration found
[    0.031153] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.031630] NODE_DATA(0) allocated [mem 0x7ffb5180-0x7ffdfdff]
[    0.033537] Zone ranges:
[    0.033716]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.034115]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.034525]   Normal   empty
[    0.034719]   Device   empty
[    0.034914] Movable zone start for each node
[    0.035195] Early memory node ranges
[    0.035437]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.035852]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.036268] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.071391] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.072199] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.113266] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.530361] kasan: KernelAddressSanitizer initialized
[    0.531240] ACPI: PM-Timer IO Port: 0x608
[    0.531737] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.532442] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.533233] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.533938] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.534661] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.535395] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.536139] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.536877] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.537556] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.538123] TSC deadline timer available
[    0.538548] CPU topo: Max. logical packages:   1
[    0.539030] CPU topo: Max. logical dies:       1
[    0.539505] CPU topo: Max. dies per package:   1
[    0.540002] CPU topo: Max. threads per core:   1
[    0.540491] CPU topo: Num. cores per package:     2
[    0.541008] CPU topo: Num. threads per package:   2
[    0.541523] CPU topo: Allowing 2 present CPUs plus 0 hotplug CPUs
[    0.542232] kvm-guest: APIC: eoi() replaced with kvm_guest_apic_eoi_write()
[    0.543030] kvm-guest: KVM setup pv remote TLB flush
[    0.543543] kvm-guest: setup PV sched yield
[    0.544043] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.544827] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
[    0.545601] PM: hibernation: Registered nosave memory: [mem 0x000a0000-0x000effff]
[    0.546379] PM: hibernation: Registered nosave memory: [mem 0x000f0000-0x000fffff]
[    0.547160] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.547777] Booting paravirtualized kernel on KVM
[    0.548258] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.549308] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.551727] percpu: Embedded 85 pages/cpu s311296 r8192 d28672 u1048576
[    0.552596] kvm-guest: PV spinlocks enabled
[    0.553039] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.553783] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0 plymouth.enable=0
[    0.555507] random: crng init done
[    0.557231] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.558862] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.559925] Fallback order for Node 0: 0 
[    0.559942] Built 1 zonelists, mobility grouping on.  Total pages: 524158
[    0.560926] Policy zone: DMA32
[    0.561209] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.561784] stackdepot: allocating hash table via alloc_large_system_hash
[    0.562403] stackdepot hash table entries: 1048576 (order: 12, 16777216 bytes, linear)
[    0.630497] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.631047] kmemleak: Kernel memory leak detector disabled
[    0.631699] ftrace: allocating 72187 entries in 282 pages
[    0.665479] ftrace: allocated 282 pages with 4 groups
[    0.669704] Dynamic Preempt: voluntary
[    0.670698] Running RCU self tests
[    0.670969] Running RCU synchronous self tests
[    0.671326] rcu: Preemptible hierarchical RCU implementation.
[    0.671773] rcu: 	RCU lockdep checking is enabled.
[    0.672140] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.672665] 	Trampoline variant of Tasks RCU enabled.
[    0.673056] 	Rude variant of Tasks RCU enabled.
[    0.673403] 	Tracing variant of Tasks RCU enabled.
[    0.673773] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.674351] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.674952] Running RCU synchronous self tests
[    0.675298] RCU Tasks: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1.
[    0.675842] RCU Tasks Rude: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1.
[    0.676419] RCU Tasks Trace: Setting shift to 1 and lim to 1 rcu_task_cb_adjust=1.
[    0.722095] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.723335] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.729849] Console: colour VGA+ 80x25
[    0.730252] printk: legacy console [ttyS0] enabled
[    0.730252] printk: legacy console [ttyS0] enabled
[    0.731016] printk: legacy bootconsole [earlyser0] disabled
[    0.731016] printk: legacy bootconsole [earlyser0] disabled
[    0.731915] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.732524] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.732855] ... MAX_LOCK_DEPTH:          48
[    0.733189] ... MAX_LOCKDEP_KEYS:        8192
[    0.733536] ... CLASSHASH_SIZE:          4096
[    0.733885] ... MAX_LOCKDEP_ENTRIES:     524288
[    0.734245] ... MAX_LOCKDEP_CHAINS:      524288
[    0.734604] ... CHAINHASH_SIZE:          262144
[    0.734968]  memory used by lock dependency info: 54145 kB
[    0.735403]  memory used for stack traces: 4224 kB
[    0.735783]  per task-struct memory footprint: 1920 bytes
[    0.736329] ACPI: Core revision 20240322
[    0.737238] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.738194] APIC: Switch to symmetric I/O mode setup
[    0.738734] x2apic enabled
[    0.739305] APIC: Switched APIC routing to: physical x2apic
[    0.739749] kvm-guest: APIC: send_IPI_mask() replaced with kvm_send_ipi_mask()
[    0.740225] kvm-guest: APIC: send_IPI_mask_allbutself() replaced with kvm_send_ipi_mask_allbutself()
[    0.740813] kvm-guest: setup PV IPIs
[    0.742171] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.742576] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    0.743264] Calibrating delay loop (skipped) preset value.. 4761.60 BogoMIPS (lpj=9523200)
[    0.747435] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    0.748325] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    0.751259] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    0.751727] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.752279] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    0.752996] Spectre V2 : Spectre BHI mitigation: SW BHB clearing on syscall and VM exit
[    0.753491] Spectre V2 : Mitigation: Enhanced / Automatic IBRS
[    0.753894] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    0.754511] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    0.755263] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.755885] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    0.756524] MMIO Stale Data: Unknown: No mitigations
[    0.756946] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.757444] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.757837] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.758236] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.758742] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.759250] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.759735] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, using 'compacted' format.
[    0.905811] Freeing SMP alternatives memory: 56K
[    0.906224] pid_max: default: 32768 minimum: 301
[    0.907171] LSM: initializing lsm=capability,yama,ima,evm
[    0.907300] Yama: becoming mindful.
[    0.908229] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.908838] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.913535] Running RCU synchronous self tests
[    0.913912] Running RCU synchronous self tests
[    0.914863] smpboot: CPU0: Genuine Intel(R) 0000 @ (family: 0x6, model: 0xac, stepping: 0x0)
[    0.915246] Running RCU Tasks wait API self tests
[    0.915246] Running RCU Tasks Rude wait API self tests
[    0.915246] Running RCU Tasks Trace wait API self tests
[    0.915246] Performance Events: Meteorlake Hybrid events, full-width counters, Intel PMU driver.
[    0.916876] ------------[ cut here ]------------
[    0.917410] WARNING: CPU: 0 PID: 1 at arch/x86/events/intel/core.c:4926 intel_pmu_cpu_starting+0x1366/0x1c30
[    0.918264] Modules linked in:
[    0.918518] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-rc6-75182022a043+ #1
[    0.919157] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.919303] RIP: 0010:intel_pmu_cpu_starting+0x1366/0x1c30
[    0.919753] Code: 00 00 e8 dd 0b 09 02 e9 4d ef ff ff e8 43 be 61 00 be 0e 00 00 00 bf d9 01 00 00 e8 34 0d 09 02 e9 34 ef ff ff e8 2a be 61 00 <0f> 0b 48 8b 85 08 ff ff ff 48 8d b8 48 14 00 00 48 b8 00 00 00 00
[    0.921202] RSP: 0000:ffff88800d857a50 EFLAGS: 00010293
[    0.921625] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8103edb1
[    0.922182] RDX: ffff88800d84a500 RSI: ffffffff8103fc96 RDI: 0000000000000001
[    0.922744] RBP: ffff88800d857b80 R08: 0000000000000000 R09: fffffbfff0f42370
[    0.923251] R10: 0000000000000000 R11: 0000000000000001 R12: 0000000000000000
[    0.923813] R13: 000000000000006a R14: ffffffff810125e0 R15: 0000000000000000
[    0.924370] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[    0.925004] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[    0.925459] CR2: ffff88800cc01000 CR3: 0000000006c82001 CR4: 0000000000770ef0
[    0.926019] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[    0.926582] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[    0.927139] PKRU: 55555554
[    0.927251] Call Trace:
[    0.927456]  <TASK>
[    0.927632]  ? show_regs+0xa8/0xc0
[    0.928018]  ? __warn+0xee/0x380
[    0.928298]  ? report_bug+0x25e/0x4b0
[    0.928622]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.929015]  ? report_bug+0x2cb/0x4b0
[    0.929322]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.929716]  ? handle_bug+0xa2/0x130
[    0.930019]  ? exc_invalid_op+0x3c/0x80
[    0.930339]  ? asm_exc_invalid_op+0x1f/0x30
[    0.930690]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    0.931092]  ? intel_pmu_cpu_starting+0x481/0x1c30
[    0.931252]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.931775]  ? intel_pmu_cpu_starting+0x1366/0x1c30
[    0.932184]  ? __pfx___lock_acquire+0x10/0x10
[    0.932554]  ? __pfx___lock_acquire+0x10/0x10
[    0.932910]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    0.933319]  ? debug_smp_processor_id+0x20/0x30
[    0.933687]  ? rcu_is_watching+0x19/0xc0
[    0.934015]  ? __pfx_intel_pmu_cpu_starting+0x10/0x10
[    0.934419]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    0.934812]  x86_pmu_starting_cpu+0x2e/0x50
[    0.935156]  cpuhp_invoke_callback+0x3cf/0x9d0
[    0.935259]  cpuhp_issue_call+0x1a8/0x8b0
[    0.935584]  ? __pfx_lock_acquire+0x10/0x10
[    0.935925]  ? __sanitizer_cov_trace_const_cmp8+0x1c/0x30
[    0.936368]  ? cpuhp_issue_call+0x1fa/0x8b0
[    0.936712]  __cpuhp_setup_state_cpuslocked+0x421/0x8e0
[    0.937130]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    0.937504]  ? x86_pmu_prepare_cpu+0x83/0xf0
[    0.937852]  ? __pfx_x86_pmu_dying_cpu+0x10/0x10
[    0.938226]  ? __pfx_x86_pmu_starting_cpu+0x10/0x10
[    0.938622]  __cpuhp_setup_state+0x105/0x310
[    0.938970]  init_hw_perf_events+0x65e/0xab0
[    0.939253]  ? __pfx_init_hw_perf_events+0x10/0x10
[    0.939643]  do_one_initcall+0x114/0x5d0
[    0.939967]  ? __this_cpu_preempt_check+0x21/0x30
[    0.940346]  ? __pfx_do_one_initcall+0x10/0x10
[    0.940715]  ? debug_smp_processor_id+0x20/0x30
[    0.941079]  ? rcu_is_watching+0x19/0xc0
[    0.941400]  kernel_init_freeable+0x8e4/0xeb0
[    0.941767]  ? __pfx_kernel_init+0x10/0x10
[    0.942103]  kernel_init+0x28/0x2f0
[    0.942389]  ? __pfx_kernel_init+0x10/0x10
[    0.942725]  ret_from_fork+0x56/0x90
[    0.943027]  ? __pfx_kernel_init+0x10/0x10
[    0.943254]  ret_from_fork_asm+0x1a/0x30
[    0.943587]  </TASK>
[    0.943768] irq event stamp: 2483
[    0.944036] hardirqs last  enabled at (2491): [<ffffffff81457624>] console_unlock+0x224/0x240
[    0.944714] hardirqs last disabled at (2498): [<ffffffff81457609>] console_unlock+0x209/0x240
[    0.945385] softirqs last  enabled at (2464): [<ffffffff81288419>] __irq_exit_rcu+0xa9/0x120
[    0.946054] softirqs last disabled at (2457): [<ffffffff81288419>] __irq_exit_rcu+0xa9/0x120
[    0.946718] ---[ end trace 0000000000000000 ]---
[    0.947113] Callback from call_rcu_tasks_trace() invoked.
[    0.947384] signal: max sigframe size: 3632
[    0.947960] rcu: Hierarchical SRCU implementation.
[    0.948278] rcu: 	Max phase no-delay instances is 1000.
[    0.948972] Timer migration: 1 hierarchy levels; 8 children per group; 1 crossnode level
[    0.953912] NMI watchdog: Perf NMI watchdog permanently disabled
[    0.954664] smp: Bringing up secondary CPUs ...
[    0.956047] smpboot: x86: Booting SMP configuration:
[    0.956405] .... node  #0, CPUs:      #1
[    0.956771] smp: Brought up 1 node, 2 CPUs
[    0.959579] smpboot: Total of 2 processors activated (9523.20 BogoMIPS)
[    0.961279] Memory: 1556820K/2096632K available (75776K kernel code, 14452K rwdata, 17196K rodata, 15340K init, 68220K bss, 532604K reserved, 0K cma-reserved)
[    0.965325] devtmpfs: initialized
[    0.965351] x86/mm: Memory block size: 128MB
[    1.000885] Running RCU synchronous self tests
[    1.001603] Running RCU synchronous self tests
[    1.003363] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    1.004600] futex hash table entries: 512 (order: 4, 65536 bytes, linear)
[    1.007424] pinctrl core: initialized pinctrl subsystem
[    1.010670] 
[    1.010908] *************************************************************
[    1.011259] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.012172] **                                                         **
[    1.013181] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    1.014321] **                                                         **
[    1.015319] ** This means that this kernel is built to expose internal **
[    1.016464] ** IOMMU data structures, which may compromise security on **
[    1.017599] ** your system.                                            **
[    1.018733] **                                                         **
[    1.019259] ** If you see this message and you are not debugging the   **
[    1.020403] ** kernel, report this immediately to your vendor!         **
[    1.021537] **                                                         **
[    1.022682] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.023258] *************************************************************
[    1.024485] Callback from call_rcu_tasks_rude() invoked.
[    1.024485] PM: RTC time: 23:39:27, date: 2024-10-01
[    1.031125] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    1.034971] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    1.039351] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.040485] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.041945] audit: initializing netlink subsys (disabled)
[    1.043504] audit: type=2000 audit(1727825968.014:1): state=initialized audit_enabled=0 res=1
[    1.049237] thermal_sys: Registered thermal governor 'fair_share'
[    1.049252] thermal_sys: Registered thermal governor 'bang_bang'
[    1.050304] thermal_sys: Registered thermal governor 'step_wise'
[    1.051261] thermal_sys: Registered thermal governor 'user_space'
[    1.052456] cpuidle: using governor ladder
[    1.053084] cpuidle: using governor menu
[    1.055806] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.059029] PCI: Using configuration type 1 for base access
[    1.059949] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    1.133316] Callback from call_rcu_tasks() invoked.
[    1.349947] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.350572] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.351150] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.351252] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.360342] ACPI: Added _OSI(Module Device)
[    1.360714] ACPI: Added _OSI(Processor Device)
[    1.361073] ACPI: Added _OSI(3.0 _SCP Extensions)
[    1.361449] ACPI: Added _OSI(Processor Aggregator Device)
[    1.390978] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    1.399437] ACPI: Interpreter enabled
[    1.399957] ACPI: PM: (supports S0 S3 S4 S5)
[    1.400307] ACPI: Using IOAPIC for interrupt routing
[    1.400869] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    1.401581] PCI: Using E820 reservations for host bridge windows
[    1.403956] ACPI: Enabled 2 GPEs in block 00 to 0F
[    1.467638] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    1.468204] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    1.468840] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    1.469917] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    1.478690] acpiphp: Slot [3] registered
[    1.479255] acpiphp: Slot [4] registered
[    1.479802] acpiphp: Slot [5] registered
[    1.480353] acpiphp: Slot [6] registered
[    1.481381] acpiphp: Slot [7] registered
[    1.481959] acpiphp: Slot [8] registered
[    1.482508] acpiphp: Slot [9] registered
[    1.483061] acpiphp: Slot [10] registered
[    1.483502] acpiphp: Slot [11] registered
[    1.484059] acpiphp: Slot [12] registered
[    1.484607] acpiphp: Slot [13] registered
[    1.485158] acpiphp: Slot [14] registered
[    1.485723] acpiphp: Slot [15] registered
[    1.486272] acpiphp: Slot [16] registered
[    1.486826] acpiphp: Slot [17] registered
[    1.487397] acpiphp: Slot [18] registered
[    1.487967] acpiphp: Slot [19] registered
[    1.488523] acpiphp: Slot [20] registered
[    1.489083] acpiphp: Slot [21] registered
[    1.489631] acpiphp: Slot [22] registered
[    1.490207] acpiphp: Slot [23] registered
[    1.490761] acpiphp: Slot [24] registered
[    1.491321] acpiphp: Slot [25] registered
[    1.491872] acpiphp: Slot [26] registered
[    1.492438] acpiphp: Slot [27] registered
[    1.492985] acpiphp: Slot [28] registered
[    1.493562] acpiphp: Slot [29] registered
[    1.494113] acpiphp: Slot [30] registered
[    1.494680] acpiphp: Slot [31] registered
[    1.495146] PCI host bridge to bus 0000:00
[    1.495387] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    1.495931] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    1.496466] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    1.497058] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    1.497648] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    1.498252] pci_bus 0000:00: root bus resource [bus 00-ff]
[    1.498853] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000 conventional PCI endpoint
[    1.519101] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100 conventional PCI endpoint
[    1.521185] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180 conventional PCI endpoint
[    1.522995] pci 0000:00:01.1: BAR 4 [io  0xc040-0xc04f]
[    1.523711] pci 0000:00:01.1: BAR 0 [io  0x01f0-0x01f7]: legacy IDE quirk
[    1.524248] pci 0000:00:01.1: BAR 1 [io  0x03f6]: legacy IDE quirk
[    1.524737] pci 0000:00:01.1: BAR 2 [io  0x0170-0x0177]: legacy IDE quirk
[    1.525278] pci 0000:00:01.1: BAR 3 [io  0x0376]: legacy IDE quirk
[    1.526396] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000 conventional PCI endpoint
[    1.527286] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    1.527757] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    1.528789] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000 conventional PCI endpoint
[    1.531854] pci 0000:00:02.0: BAR 0 [mem 0xfd000000-0xfdffffff pref]
[    1.535047] pci 0000:00:02.0: BAR 2 [mem 0xfebf0000-0xfebf0fff]
[    1.539551] pci 0000:00:02.0: ROM [mem 0xfebe0000-0xfebeffff pref]
[    1.540593] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    1.561135] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000 conventional PCI endpoint
[    1.562226] pci 0000:00:03.0: BAR 0 [mem 0xfebc0000-0xfebdffff]
[    1.563090] pci 0000:00:03.0: BAR 1 [io  0xc000-0xc03f]
[    1.565668] pci 0000:00:03.0: ROM [mem 0xfeb80000-0xfebbffff pref]
[    1.597731] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    1.600083] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    1.602639] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    1.604961] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    1.606168] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    1.611366] iommu: Default domain type: Translated
[    1.611771] iommu: DMA domain TLB invalidation policy: lazy mode
[    1.615823] SCSI subsystem initialized
[    1.616889] ACPI: bus type USB registered
[    1.617453] usbcore: registered new interface driver usbfs
[    1.618905] usbcore: registered new interface driver hub
[    1.619350] usbcore: registered new device driver usb
[    1.620029] pps_core: LinuxPPS API ver. 1 registered
[    1.620349] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.620965] PTP clock support registered
[    1.621803] EDAC MC: Ver: 3.0.0
[    1.626375] NetLabel: Initializing
[    1.626662] NetLabel:  domain hash size = 128
[    1.627009] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    1.627483] NetLabel:  unlabeled traffic allowed by default
[    1.628734] PCI: Using ACPI for IRQ routing
[    1.629521] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    1.630025] pci 0000:00:02.0: vgaarb: bridge control possible
[    1.630479] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    1.631151] vgaarb: loaded
[    1.632084] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    1.632498] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    1.648985] clocksource: Switched to clocksource kvm-clock
[    1.653506] VFS: Disk quotas dquot_6.6.0
[    1.654172] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    1.663442] pnp: PnP ACPI init
[    1.677293] pnp: PnP ACPI: found 6 devices
[    1.726605] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    1.729228] NET: Registered PF_INET protocol family
[    1.792981] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    1.799138] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    1.800654] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    1.802083] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    1.804089] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    1.808902] TCP: Hash tables configured (established 16384 bind 16384)
[    1.810279] UDP hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.811554] UDP-Lite hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    1.813766] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    1.817432] RPC: Registered named UNIX socket transport module.
[    1.818307] RPC: Registered udp transport module.
[    1.819054] RPC: Registered tcp transport module.
[    1.820018] RPC: Registered tcp-with-tls transport module.
[    1.820776] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.821722] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    1.822577] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    1.823437] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    1.824373] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    1.825340] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    1.827631] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    1.828607] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    1.829807] PCI: CLS 0 bytes, default 64
[    1.832433] ACPI: bus type thunderbolt registered
[    1.834080] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x22515dbcb04, max_idle_ns: 440795204659 ns
[    3.819206] Initialise system trusted keyrings
[    3.820268] Key type blacklist registered
[    3.821576] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    3.822604] zbud: loaded
[    3.829808] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    3.834769] NFS: Registering the id_resolver key type
[    3.835648] Key type id_resolver registered
[    3.836240] Key type id_legacy registered
[    3.836958] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    3.837974] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    3.839664] fuse: init (API version 7.40)
[    3.841579] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    3.846436] 9p: Installing v9fs 9p2000 file system support
[    3.873282] Key type asymmetric registered
[    3.874122] Asymmetric key parser 'x509' registered
[    3.875450] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 243)
[    3.877067] io scheduler mq-deadline registered
[    3.877950] io scheduler bfq registered
[    3.881014] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4
[    3.885320] IPMI message handler: version 39.2
[    3.886293] ipmi device interface
[    3.892112] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    3.894858] ACPI: button: Power Button [PWRF]
[    3.899754] ERST DBG: ERST support is disabled.
[    3.903786] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    3.909033] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    3.993701] Linux agpgart interface v0.103
[    4.000591] ACPI: bus type drm_connector registered
[    4.052672] brd: module loaded
[    4.076547] loop: module loaded
[    4.099713] scsi host0: ata_piix
[    4.103684] scsi host1: ata_piix
[    4.105591] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14 lpm-pol 0
[    4.106661] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15 lpm-pol 0
[    4.114359] tun: Universal TUN/TAP device driver, 1.6
[    4.116186] e100: Intel(R) PRO/100 Network Driver
[    4.116864] e100: Copyright(c) 1999-2006 Intel Corporation
[    4.117811] e1000: Intel(R) PRO/1000 Network Driver
[    4.118492] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    4.267860] ata2: found unknown device (class 0)
[    4.269053] ata1: found unknown device (class 0)
[    4.270540] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    4.271335] ata1.00: 17196647 sectors, multi 16: LBA48 
[    4.272697] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    4.276853] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    4.282696] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    4.285722] sd 0:0:0:0: [sda] 17196647 512-byte logical blocks: (8.80 GB/8.20 GiB)
[    4.286916] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    4.288371] sd 0:0:0:0: [sda] Write Protect is off
[    4.289254] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    4.291239] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    4.330649] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    4.332330] sd 0:0:0:0: [sda] Attached SCSI disk
[    6.005915] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    6.327693] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    6.328294] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    6.328994] e1000e: Intel(R) PRO/1000 Network Driver
[    6.329331] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    6.329841] igb: Intel(R) Gigabit Ethernet Network Driver
[    6.330195] igb: Copyright (c) 2007-2014 Intel Corporation.
[    6.330793] PPP generic driver version 2.4.2
[    6.332775] VFIO - User Level meta-driver version: 0.3
[    6.335901] usbcore: registered new interface driver uas
[    6.336344] usbcore: registered new interface driver usb-storage
[    6.337157] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    6.338918] serio: i8042 KBD port at 0x60,0x64 irq 1
[    6.339327] serio: i8042 AUX port at 0x60,0x64 irq 12
[    6.341615] mousedev: PS/2 mouse device common for all mice
[    6.343665] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    6.345032] rtc_cmos 00:05: RTC can wake from S4
[    6.347163] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    6.349300] rtc_cmos 00:05: registered as rtc0
[    6.349686] rtc_cmos 00:05: setting system clock to 2024-10-01T23:39:32 UTC (1727825972)
[    6.350631] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    6.351192] i2c_dev: i2c /dev entries driver
[    6.352037] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    6.352951] device-mapper: uevent: version 1.0.3
[    6.353878] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    6.355520] device-mapper: ioctl: 4.48.0-ioctl (2023-03-01) initialised: dm-devel@lists.linux.dev
[    6.356115] intel_pstate: CPU model not supported
[    6.356751] sdhci: Secure Digital Host Controller Interface driver
[    6.357150] sdhci: Copyright(c) Pierre Ossman
[    6.357604] sdhci-pltfm: SDHCI platform and OF driver helper
[    6.358388] ledtrig-cpu: registered to indicate activity on CPUs
[    6.360665] drop_monitor: Initializing network drop monitor service
[    6.362430] NET: Registered PF_INET6 protocol family
[    6.371201] Segment Routing with IPv6
[    6.371983] In-situ OAM (IOAM) with IPv6
[    6.372709] NET: Registered PF_PACKET protocol family
[    6.373822] 9pnet: Installing 9P2000 support
[    6.374261] Key type dns_resolver registered
[    6.377223] IPI shorthand broadcast: enabled
[    6.479259] sched_clock: Marking stable (6460007514, 15369138)->(6503132291, -27755639)
[    6.481822] registered taskstats version 1
[    6.482864] Loading compiled-in X.509 certificates
[    6.545203] Demotion targets for Node 0: null
[    6.547802] Key type .fscrypt registered
[    6.548506] Key type fscrypt-provisioning registered
[    6.555261] Key type encrypted registered
[    6.556214] ima: No TPM chip found, activating TPM-bypass!
[    6.557133] ima: Allocated hash algorithm: sha1
[    6.558050] ima: No architecture policies found
[    6.559239] evm: Initialising EVM extended attributes:
[    6.560078] evm: security.selinux
[    6.560576] evm: security.SMACK64
[    6.561070] evm: security.SMACK64EXEC
[    6.561604] evm: security.SMACK64TRANSMUTE
[    6.562201] evm: security.SMACK64MMAP
[    6.562727] evm: security.apparmor
[    6.563225] evm: security.ima
[    6.563793] evm: security.capability
[    6.564321] evm: HMAC attrs: 0x1
[    6.572905] PM:   Magic number: 12:672:705
[    6.575116] RAS: Correctable Errors collector initialized.
[    6.576849] clk: Disabling unused clocks
[    6.577162] PM: genpd: Disabling unused power domains
[    6.579122] md: Waiting for all devices to be available before autodetect
[    6.579441] md: If you don't use raid, use raid=noautodetect
[    6.579692] md: Autodetecting RAID arrays.
[    6.579892] md: autorun ...
[    6.580024] md: ... autorun DONE.
[    6.601540] EXT4-fs (sda): mounted filesystem 088740a9-c8b4-422c-999d-a804eb68a4da ro with ordered data mode. Quota mode: none.
[    6.602210] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    6.605788] devtmpfs: mounted
[    6.628747] Freeing unused decrypted memory: 2028K
[    6.637116] Freeing unused kernel image (initmem) memory: 15340K
[    6.637555] Write protecting the kernel read-only data: 94208k
[    6.639984] Freeing unused kernel image (rodata/data gap) memory: 1236K
[    6.701354] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    6.701670] Run /sbin/init as init process
[    6.928595] systemd[1]: systemd 252-15.el9 running in system mode (+PAM +AUDIT +SELINUX -APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS -FIDO2 +IDN2 -IDN -IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY +P11KIT -QRENCODE +TPM2 +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    6.930111] systemd[1]: Detected virtualization kvm.
[    6.930372] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 9[0m!

[    6.937513] systemd[1]: Hostname set to <test>.
[    7.320278] systemd-rc-local-generator[126]: /etc/rc.d/rc.local is not marked executable, skipping.
[    7.803855] systemd[1]: Queued start job for default target Multi-User System.
[    7.854798] systemd[1]: Created slice Virtual Machine and Container Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mVirtual Machine and Container Slice[0m.
[    7.867843] systemd[1]: Created slice Slice /system/getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/getty[0m.
[    7.874385] systemd[1]: Created slice Slice /system/modprobe.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/modprobe[0m.
[    7.880860] systemd[1]: Created slice Slice /system/serial-getty.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/serial-getty[0m.
[    7.887996] systemd[1]: Created slice Slice /system/sshd-keygen.
[[0;32m  OK  [0m] Created slice [0;1;39mSlice /system/sshd-keygen[0m.
[    7.894697] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice [0;1;39mUser and Session Slice[0m.
[    7.897662] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started [0;1;39mForward Password Râ€¦uests to Wall Directory Watch[0m.
[    7.902506] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point.
[[0;32m  OK  [0m] Set up automount [0;1;39mArbitraryâ€¦s File System Automount Point[0m.
[    7.905008] systemd[1]: Reached target Local Integrity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Integrity Protected Volumes[0m.
[    7.907181] systemd[1]: Reached target Slice Units.
[[0;32m  OK  [0m] Reached target [0;1;39mSlice Units[0m.
[    7.908835] systemd[1]: Reached target Swaps.
[[0;32m  OK  [0m] Reached target [0;1;39mSwaps[0m.
[    7.910308] systemd[1]: Reached target Local Verity Protected Volumes.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Verity Protected Volumes[0m.
[    7.913104] systemd[1]: Listening on Device-mapper event daemon FIFOs.
[[0;32m  OK  [0m] Listening on [0;1;39mDevice-mapper event daemon FIFOs[0m.
[    7.916645] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on [0;1;39mLVM2 poll daemon socket[0m.
[    7.918895] systemd[1]: multipathd control socket was skipped because of an unmet condition check (ConditionPathExists=/etc/multipath.conf).
[    8.047576] systemd[1]: Listening on RPCbind Server Activation Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mRPCbind Server Activation Socket[0m.
[    8.050079] systemd[1]: Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Reached target [0;1;39mRPC Port Mapper[0m.
[    8.056919] systemd[1]: Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mProcess Core Dump Socket[0m.
[    8.060078] systemd[1]: Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Listening on [0;1;39minitctl Compatibility Named Pipe[0m.
[    8.064438] systemd[1]: Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket (/dev/log)[0m.
[    8.067944] systemd[1]: Listening on Journal Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mJournal Socket[0m.
[    8.071474] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Control Socket[0m.
[    8.074220] systemd[1]: Listening on udev Kernel Socket.
[[0;32m  OK  [0m] Listening on [0;1;39mudev Kernel Socket[0m.
[    8.116105] systemd[1]: Mounting Huge Pages File System...
         Mounting [0;1;39mHuge Pages File System[0m...
[    8.136837] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting [0;1;39mPOSIX Message Queue File System[0m...
[    8.188143] systemd[1]: Mounting Kernel Debug File System...
         Mounting [0;1;39mKernel Debug File System[0m...
[    8.207702] systemd[1]: Mounting Kernel Trace File System...
         Mounting [0;1;39mKernel Trace File System[0m...
[    8.212208] systemd[1]: Kernel Module supporting RPCSEC_GSS was skipped because of an unmet condition check (ConditionPathExists=/etc/krb5.keytab).
[    8.213822] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.11.0-rc6-75182022a043+/modules.devname).
[    8.232643] systemd[1]: Starting Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling...
         Starting [0;1;39mMonitoring of LVMâ€¦meventd or progress polling[0m...
[    8.276620] systemd[1]: Starting Load Kernel Module configfs...
         Starting [0;1;39mLoad Kernel Module configfs[0m...
[    8.332666] systemd[1]: Starting Load Kernel Module drm...
         Starting [0;1;39mLoad Kernel Module drm[0m...
[    8.355676] systemd[1]: Starting Load Kernel Module fuse...
         Starting [0;1;39mLoad Kernel Module fuse[0m...
[    8.444591] systemd[1]: Starting Read and set NIS domainname from /etc/sysconfig/network...
         Starting [0;1;39mRead and set NIS â€¦from /etc/sysconfig/network[0m...
[    8.475932] systemd[1]: Starting Journal Service...
         Starting [0;1;39mJournal Service[0m...
[    8.510718] systemd[1]: Starting Load Kernel Modules...
         Starting [0;1;39mLoad Kernel Modules[0m...
[    8.530245] systemd[1]: Starting Generate network units from Kernel command line...
         Starting [0;1;39mGenerate network â€¦ts from Kernel command line[0m...
[    8.569386] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting [0;1;39mRemount Root and Kernel File Systems[0m...
[    8.580768] systemd[1]: Repartition Root Disk was skipped because no trigger condition checks were met.
[    8.620581] systemd[1]: Starting Coldplug All udev Devices...
         Starting [0;1;39mColdplug All udev Devices[0m...
[    8.655794] systemd[1]: Mounted Huge Pages File System.
[[0;32m  OK  [0m] Mounted [0;1;39mHuge Pages File System[0m.
[    8.660682] systemd[1]: Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Mounted [0;1;39mPOSIX Message Queue File System[0m.
[    8.668205] systemd[1]: Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Debug File System[0m.
[    8.670147] systemd[1]: Mounted Kernel Trace File System.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Trace File System[0m.
[    8.674172] systemd[1]: Finished Monitoring of LVM2 mirrors, snapshots etc. using dmeventd or progress polling.
[[0;32m  OK  [0m] Finished [0;1;39mMonitoring of LVMâ€¦ dmeventd or progress polling[0m.
[    8.685865] systemd[1]: modprobe@configfs.service: Deactivated successfully.
[    8.688389] systemd[1]: Finished Load Kernel Module configfs.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module configfs[0m.
[    8.693009] systemd[1]: modprobe@drm.service: Deactivated successfully.
[    8.694830] systemd[1]: Finished Load Kernel Module drm.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module drm[0m.
[    8.705201] systemd[1]: modprobe@fuse.service: Deactivated successfully.
[    8.706719] systemd[1]: Finished Load Kernel Module fuse.
[[0;32m  OK  [0m] Finished [0;1;39mLoad Kernel Module fuse[0m.
[    8.714412] systemd[1]: Finished Read and set NIS domainname from /etc/sysconfig/network.
[[0;32m  OK  [0m] Finished [0;1;39mRead and set NIS â€¦e from /etc/sysconfig/network[0m.
[    8.718849] systemd[1]: systemd-modules-load.service: Main process exited, code=exited, status=1/FAILURE
[    8.720087] systemd[1]: systemd-modules-load.service: Failed with result 'exit-code'.
[    8.721466] systemd[1]: Failed to start Load Kernel Modules.
[[0;1;31mFAILED[0m] Failed to start [0;1;39mLoad Kernel Modules[0m.
See 'systemctl status systemd-modules-load.service' for details.
[    8.726918] systemd[1]: Finished Generate network units from Kernel command line.
[[0;32m  OK  [0m] Finished [0;1;39mGenerate network units from Kernel command line[0m.
[    8.729443] systemd[1]: Reached target Preparation for Network.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Network[0m.
[    8.737120] EXT4-fs (sda): re-mounted 088740a9-c8b4-422c-999d-a804eb68a4da r/w. Quota mode: none.
[    8.767657] systemd[1]: Mounting FUSE Control File System...
         Mounting [0;1;39mFUSE Control File System[0m...
[    8.783895] systemd[1]: Mounting Kernel Configuration File System...
         Mounting [0;1;39mKernel Configuration File System[0m...
[    8.804528] systemd[1]: Starting Apply Kernel Variables...
         Starting [0;1;39mApply Kernel Variables[0m...
[    8.821779] systemd[1]: Started Journal Service.
[[0;32m  OK  [0m] Started [0;1;39mJournal Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRemount Root and Kernel File Systems[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mFUSE Control File System[0m.
[[0;32m  OK  [0m] Mounted [0;1;39mKernel Configuration File System[0m.
         Starting [0;1;39mFlush Journal to Persistent Storage[0m...
         Starting [0;1;39mLoad/Save Random Seed[0m...
         Starting [0;1;39mCreate Static Device Nodes in /dev[0m...
[    8.942293] systemd-journald[148]: Received client request to flush runtime journal.
         Starting [0;1;39mSetup Virtual Console[0m...
[[0;32m  OK  [0m] Finished [0;1;39mApply Kernel Variables[0m.
[[0;32m  OK  [0m] Finished [0;1;39mFlush Journal to Persistent Storage[0m.
[[0;32m  OK  [0m] Finished [0;1;39mLoad/Save Random Seed[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Static Device Nodes in /dev[0m.
         Starting [0;1;39mRule-based Manageâ€¦for Device Events and Files[0m...
[[0;32m  OK  [0m] Started [0;1;39mRule-based Manager for Device Events and Files[0m.
         Starting [0;1;39mAuto-connect to sâ€¦E devices found during boot[0m...
[[0;32m  OK  [0m] Finished [0;1;39mAuto-connect to sâ€¦VME devices found during boot[0m.
[[0;32m  OK  [0m] Finished [0;1;39mColdplug All udev Devices[0m.
         Starting [0;1;39mWait for udev To â€¦plete Device Initialization[0m...
[[0;32m  OK  [0m] Finished [0;1;39mSetup Virtual Console[0m.
[[0;32m  OK  [0m] Started [0;1;39mDispatch Password â€¦ts to Console Directory Watch[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal Encrypted Volumes[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPath Units[0m.
[[0;32m  OK  [0m] Found device [0;1;39m/dev/ttyS0[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLoad/Save RF â€¦itch Status /dev/rfkill Watch[0m.
[[0;32m  OK  [0m] Finished [0;1;39mWait for udev To Complete Device Initialization[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Local File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLocal File Systems[0m.
         Starting [0;1;39mTell Plymouth To Write Out Runtime Data[0m...
         Starting [0;1;39mAutomatic Boot Loader Update[0m...
         Starting [0;1;39mCreate Volatile Files and Directories[0m...
[[0;32m  OK  [0m] Finished [0;1;39mTell Plymouth To Write Out Runtime Data[0m.
[[0;32m  OK  [0m] Finished [0;1;39mAutomatic Boot Loader Update[0m.
[[0;32m  OK  [0m] Finished [0;1;39mCreate Volatile Files and Directories[0m.
         Mounting [0;1;39mRPC Pipe File System[0m...
         Starting [0;1;39mSecurity Auditing Service[0m...
         Starting [0;1;39mRPC Bind[0m...
[[0;32m  OK  [0m] Mounted [0;1;39mRPC Pipe File System[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mrpc_pipefs.target[0m.
[[0;32m  OK  [0m] Started [0;1;39mRPC Bind[0m.
[[0;32m  OK  [0m] Started [0;1;39mSecurity Auditing Service[0m.
         Starting [0;1;39mRecord System Boot/Shutdown in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord System Boot/Shutdown in UTMP[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSystem Initialization[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily rotation of log files[0m.
[[0;32m  OK  [0m] Started [0;1;39mUpdates mlocate database every day[0m.
[[0;32m  OK  [0m] Started [0;1;39mDaily Cleanup of Temporary Directories[0m.
[[0;32m  OK  [0m] Started [0;1;39mdaily update of the root trust anchor for DNSSEC[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mTimer Units[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mD-Bus System Message Bus Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsid Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mOpen-iSCSI iscsiuio Socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mSSSD Kerberosâ€¦ache Manager responder socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt interface local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine lock manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mVirtual machine log manager socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt network local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nodedev local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt nwfilter local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt proxy local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu admin socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt qemu local read-only socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt secret local socket[0m.
[[0;32m  OK  [0m] Listening on [0;1;39mLibvirt storage local socket[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mSocket Units[0m.
         Starting [0;1;39mD-Bus System Message Bus[0m...
[[0;32m  OK  [0m] Started [0;1;39mD-Bus System Message Bus[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mBasic System[0m.
         Starting [0;1;39mNetwork Manager[0m...
         Starting [0;1;39mNTP client/server[0m...
         Starting [0;1;39mRestore /run/initramfs on shutdown[0m...
[[0;32m  OK  [0m] Started [0;1;39mirqbalance daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mlibstoragemgmt plug-in server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mMachine Check Exception Logging Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39msshd-keygen.target[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mUser and Group Name Lookups[0m.
         Starting [0;1;39mUser Login Management[0m...
         Starting [0;1;39mVirtual Machine aâ€¦tainer Registration Service[0m...
         Starting [0;1;39mupdate of the rooâ€¦NSSEC validation in unbound[0m...
         Starting [0;1;39mRotate log files[0m...
[[0;32m  OK  [0m] Started [0;1;39mUpdate a database for mlocate[0m.
[[0;32m  OK  [0m] Started [0;1;39mNTP client/server[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRestore /run/initramfs on shutdown[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtual Machine anâ€¦ontainer Registration Service[0m.
[[0;32m  OK  [0m] Started [0;1;39mUser Login Management[0m.
         Starting [0;1;39mHostname Service[0m...
[[0;32m  OK  [0m] Finished [0;1;39mupdate of the rooâ€¦ DNSSEC validation in unbound[0m.
[[0;32m  OK  [0m] Started [0;1;39mHostname Service[0m.
[[0;32m  OK  [0m] Finished [0;1;39mRotate log files[0m.
         Starting [0;1;39mNetwork Manager Script Dispatcher Service[0m...
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager Script Dispatcher Service[0m.
[   13.775747] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[[0;32m  OK  [0m] Started [0;1;39mNetwork Manager[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNetwork is Online[0m.
         Starting [0;1;39mGSSAPI Proxy Daemon[0m...
         Starting [0;1;39mNotify NFS peers of a restart[0m...
         Starting [0;1;39mSystem Logging Service[0m...
         Starting [0;1;39mOpenSSH server daemon[0m...
         Starting [0;1;39mDynamic System Tuning Daemon[0m...
[[0;32m  OK  [0m] Started [0;1;39mNotify NFS peers of a restart[0m.
[[0;32m  OK  [0m] Started [0;1;39mOpenSSH server daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mGSSAPI Proxy Daemon[0m.
[[0;32m  OK  [0m] Started [0;1;39mSystem Logging Service[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mNFS client services[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mPreparation for Remote File Systems[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mRemote File Systems[0m.
         Starting [0;1;39mPermit User Sessions[0m...
         Starting [0;1;39mVirtualization qemu daemon[0m...
[[0;32m  OK  [0m] Finished [0;1;39mPermit User Sessions[0m.
[[0;32m  OK  [0m] Started [0;1;39mDeferred execution scheduler[0m.
[[0;32m  OK  [0m] Started [0;1;39mCommand Scheduler[0m.
         Starting [0;1;39mHold until boot process finishes up[0m...
         Starting [0;1;39mTerminate Plymouth Boot Screen[0m...
[[0;32m  OK  [0m] Finished [0;1;39mHold until boot process finishes up[0m.
[[0;32m  OK  [0m] Started [0;1;39mGetty on tty1[0m.
[[0;32m  OK  [0m] Started [0;1;39mSerial Getty on ttyS0[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mLogin Prompts[0m.
[[0;32m  OK  [0m] Finished [0;1;39mTerminate Plymouth Boot Screen[0m.
[[0;32m  OK  [0m] Started [0;1;39mVirtualization qemu daemon[0m.
         Starting [0;1;39mAuthorization Manager[0m...
[[0;32m  OK  [0m] Started [0;1;39mAuthorization Manager[0m.
[[0;32m  OK  [0m] Started [0;1;39mDynamic System Tuning Daemon[0m.
[[0;32m  OK  [0m] Reached target [0;1;39mMulti-User System[0m.
         Starting [0;1;39mRecord Runlevel Change in UTMP[0m...
[[0;32m  OK  [0m] Finished [0;1;39mRecord Runlevel Change in UTMP[0m.

CentOS Stream 9
Kernel 6.11.0-rc6-75182022a043+ on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

test login: [   29.452623] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#1] PREEMPT SMP KASAN NOPTI
[   29.453719] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.454404] CPU: 1 UID: 0 PID: 1338 Comm: repro Tainted: G        W          6.11.0-rc6-75182022a043+ #1
[   29.455246] Tainted: [W]=WARN
[   29.455526] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.456526] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.457084] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.458706] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   29.459189] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   29.459826] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   29.460460] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   29.461094] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.461728] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   29.462365] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.463078] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.463597] CR2: 00007f8d01605fa8 CR3: 000000001a4b4004 CR4: 0000000000770ef0
[   29.464236] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.464873] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.465508] PKRU: 55555554
[   29.465764] Call Trace:
[   29.466001]  <TASK>
[   29.466210]  ? show_regs+0xa8/0xc0
[   29.466556]  ? die_addr+0x5d/0xf0
[   29.466884]  ? exc_general_protection+0x1ae/0x340
[   29.467362]  ? asm_exc_general_protection+0x2b/0x30
[   29.467841]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.468322]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.468803]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.469283]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.469764]  zap_huge_pmd+0x494/0xd40
[   29.470139]  unmap_page_range+0x1ad6/0x4320
[   29.470562]  ? __pfx_unmap_page_range+0x10/0x10
[   29.470995]  ? __this_cpu_preempt_check+0x21/0x30
[   29.471448]  unmap_single_vma+0x1ac/0x2d0
[   29.471838]  unmap_vmas+0x210/0x470
[   29.472186]  ? __pfx_unmap_vmas+0x10/0x10
[   29.472568]  ? __pfx_lock_release+0x10/0x10
[   29.472968]  ? lock_release+0x441/0x870
[   29.473329]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.473794]  ? __pfx_lock_release+0x10/0x10
[   29.474195]  ? mlock_drain_local+0x27f/0x4b0
[   29.474605]  exit_mmap+0x19e/0xb10
[   29.474931]  ? __pfx_exit_mmap+0x10/0x10
[   29.475318]  ? lockdep_hardirqs_on+0x89/0x110
[   29.475715]  ? trace_hardirqs_on+0x51/0x60
[   29.476106]  ? __khugepaged_exit+0x266/0x4c0
[   29.476493]  ? kmem_cache_free+0x15d/0x420
[   29.476870]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.477354]  __mmput+0xd6/0x390
[   29.477651]  mmput+0x74/0x90
[   29.477922]  do_exit+0xa03/0x29f0
[   29.478237]  ? lockdep_hardirqs_on+0x89/0x110
[   29.478623]  ? trace_hardirqs_on+0x51/0x60
[   29.478996]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.479541]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.479973]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.480413]  ? __pfx_do_exit+0x10/0x10
[   29.480758]  ? __audit_syscall_entry+0x39c/0x500
[   29.481187]  __x64_sys_exit+0x50/0x60
[   29.481524]  x64_sys_call+0x20c9/0x20d0
[   29.481881]  do_syscall_64+0x6d/0x140
[   29.482226]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.482686] RIP: 0033:0x7f8d0123ee5d
[   29.483030] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.483579] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.484249] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.484822] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.485398] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.485973] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.486543] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.487129]  </TASK>
[   29.487321] Modules linked in:
[   29.487833] ---[ end trace 0000000000000000 ]---
[   29.488226] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.488707] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.490313] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   29.490793] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   29.491494] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   29.492060] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   29.492612] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.493164] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   29.493718] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.494344] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.494800] CR2: 00007f8d01605fa8 CR3: 000000001a4b4004 CR4: 0000000000770ef0
[   29.495356] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.495940] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.496495] PKRU: 55555554
[   29.496718] note: repro[1338] exited with preempt_count 1
[   29.497146] Fixing recursive fault but reboot is needed!
[   29.497556] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1338
[   29.498128] caller is debug_smp_processor_id+0x20/0x30
[   29.498536] CPU: 1 UID: 0 PID: 1338 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.499242] Tainted: [D]=DIE, [W]=WARN
[   29.499534] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.500376] Call Trace:
[   29.500574]  <TASK>
[   29.500747]  dump_stack_lvl+0x121/0x150
[   29.501076]  dump_stack+0x19/0x20
[   29.501349]  check_preemption_disabled+0x168/0x180
[   29.501724]  debug_smp_processor_id+0x20/0x30
[   29.502069]  __schedule+0x9a/0x2eb0
[   29.502350]  ? rcu_is_watching+0x19/0xc0
[   29.502668]  ? lock_release+0x592/0x870
[   29.502973]  ? __pfx___schedule+0x10/0x10
[   29.503289]  ? debug_smp_processor_id+0x20/0x30
[   29.503644]  ? rcu_is_watching+0x19/0xc0
[   29.503956]  ? trace_irq_enable+0xe1/0x120
[   29.504286]  ? do_task_dead+0x4a/0x110
[   29.504596]  do_task_dead+0xe0/0x110
[   29.504890]  make_task_dead+0x384/0x3c0
[   29.505201]  rewind_stack_and_make_dead+0x16/0x20
[   29.505551] RIP: 0033:0x7f8d0123ee5d
[   29.505818] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.506258] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.506795] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.507304] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.507806] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.508312] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.508813] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.509329]  </TASK>
[   29.509538] BUG: scheduling while atomic: repro/1338/0x00000000
[   29.509966] INFO: lockdep is turned off.
[   29.510251] Modules linked in:
[   29.510480] Preemption disabled at:
[   29.510484] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   29.511246] CPU: 1 UID: 0 PID: 1338 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.512093] Tainted: [D]=DIE, [W]=WARN
[   29.512391] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.513152] Call Trace:
[   29.513331]  <TASK>
[   29.513487]  dump_stack_lvl+0x121/0x150
[   29.513771]  ? do_task_dead+0x28/0x110
[   29.514050]  dump_stack+0x19/0x20
[   29.514299]  __schedule_bug+0x12d/0x180
[   29.514587]  __schedule+0x210c/0x2eb0
[   29.514859]  ? rcu_is_watching+0x19/0xc0
[   29.515146]  ? lock_release+0x592/0x870
[   29.515423]  ? __pfx___schedule+0x10/0x10
[   29.515710]  ? debug_smp_processor_id+0x20/0x30
[   29.516033]  ? rcu_is_watching+0x19/0xc0
[   29.516310]  ? trace_irq_enable+0xe1/0x120
[   29.516597]  ? do_task_dead+0x4a/0x110
[   29.516864]  do_task_dead+0xe0/0x110
[   29.517125]  make_task_dead+0x384/0x3c0
[   29.517399]  rewind_stack_and_make_dead+0x16/0x20
[   29.517720] RIP: 0033:0x7f8d0123ee5d
[   29.517971] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.518371] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.518866] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.519332] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.519796] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.520264] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.520717] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.521174]  </TASK>
[   29.846558] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#2] PREEMPT SMP KASAN NOPTI
[   29.847423] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.847961] CPU: 1 UID: 0 PID: 1502 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.848626] Tainted: [D]=DIE, [W]=WARN
[   29.848905] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.849696] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.850127] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.851542] RSP: 0018:ffff8880162f77d8 EFLAGS: 00010202
[   29.852139] RAX: dffffc0000000000 RBX: ffffea0000408a00 RCX: ffffffff81b9e779
[   29.852941] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000408a10
[   29.853637] RBP: ffff8880162f77f8 R08: 0000000000000000 R09: ffffed100225f030
[   29.854121] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.854603] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880112f8180
[   29.855086] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.855851] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.856248] CR2: 00007f8d01615000 CR3: 0000000013ada004 CR4: 0000000000770ef0
[   29.856743] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.857243] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.857735] PKRU: 55555554
[   29.857931] Call Trace:
[   29.858119]  <TASK>
[   29.858279]  ? show_regs+0xa8/0xc0
[   29.858544]  ? die_addr+0x5d/0xf0
[   29.858801]  ? exc_general_protection+0x1ae/0x340
[   29.859163]  ? asm_exc_general_protection+0x2b/0x30
[   29.859522]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.859883]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.860238]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.860646]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.861080]  zap_huge_pmd+0x494/0xd40
[   29.861344]  unmap_page_range+0x1ad6/0x4320
[   29.861644]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.861996]  ? __pfx_unmap_page_range+0x10/0x10
[   29.862316]  unmap_single_vma+0x1ac/0x2d0
[   29.862599]  unmap_vmas+0x210/0x470
[   29.862852]  ? __pfx_unmap_vmas+0x10/0x10
[   29.863131]  ? __pfx_lock_release+0x10/0x10
[   29.863419]  ? lock_release+0x592/0x870
[   29.863683]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   29.864021]  ? __pfx_lock_release+0x10/0x10
[   29.864311]  ? mlock_drain_local+0x27f/0x4b0
[   29.864610]  exit_mmap+0x19e/0xb10
[   29.864857]  ? __pfx_exit_mmap+0x10/0x10
[   29.865142]  ? trace_hardirqs_on+0x51/0x60
[   29.865438]  ? __khugepaged_exit+0x266/0x4c0
[   29.865734]  ? kmem_cache_free+0x15d/0x420
[   29.866025]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.866391]  __mmput+0xd6/0x390
[   29.866616]  mmput+0x74/0x90
[   29.866825]  do_exit+0xa03/0x29f0
[   29.867066]  ? trace_hardirqs_on+0x51/0x60
[   29.867342]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.867742]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.868061]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.868379]  ? __pfx_do_exit+0x10/0x10
[   29.868632]  ? __audit_syscall_entry+0x39c/0x500
[   29.868944]  __x64_sys_exit+0x50/0x60
[   29.869192]  x64_sys_call+0x20c9/0x20d0
[   29.869447]  do_syscall_64+0x6d/0x140
[   29.869698]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.870032] RIP: 0033:0x7f8d0123ee5d
[   29.870270] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.870657] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.871134] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.871580] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.872029] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.872476] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.872926] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.873384]  </TASK>
[   29.873534] Modules linked in:
[   29.873813] ---[ end trace 0000000000000000 ]---
[   29.873976] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#3] PREEMPT SMP KASAN NOPTI
[   29.874117] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.875158] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   29.875514] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.876177] CPU: 0 UID: 0 PID: 1510 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.877254] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   29.878076] Tainted: [D]=DIE, [W]=WARN
[   29.878389] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   29.878730] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.879152] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   29.880150] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.880746] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   29.881247] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.881651] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.883253] RSP: 0018:ffff8880203977d8 EFLAGS: 00010202
[   29.883674] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   29.884132] RAX: dffffc0000000000 RBX: ffffea000076eb00 RCX: ffffffff81b9e779
[   29.884535] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   29.885170] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000076eb10
[   29.885642] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.886266] RBP: ffff8880203977f8 R08: 0000000000000000 R09: ffffed100225f03c
[   29.886594] CR2: 00007f8d01615000 CR3: 0000000013ada004 CR4: 0000000000770ef0
[   29.887214] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   29.887627] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.888240] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880112f81e0
[   29.888630] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.889255] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.889645] PKRU: 55555554
[   29.890350] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.890511] note: repro[1502] exited with preempt_count 1
[   29.891016] CR2: 00007f475bf24090 CR3: 0000000020dc4002 CR4: 0000000000770ef0
[   29.891314] Fixing recursive fault but reboot is needed!
[   29.891940] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.891952] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.891963] PKRU: 55555554
[   29.891969] Call Trace:
[   29.891974]  <TASK>
[   29.891983]  ? show_regs+0xa8/0xc0
[   29.892280] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1502
[   29.892904]  ? die_addr+0x5d/0xf0
[   29.893296] caller is debug_smp_processor_id+0x20/0x30
[   29.893552]  ? exc_general_protection+0x1ae/0x340
[   29.893700] CPU: 1 UID: 0 PID: 1502 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.893908]  ? asm_exc_general_protection+0x2b/0x30
[   29.894095] Tainted: [D]=DIE, [W]=WARN
[   29.894781]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   29.894962] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.895420]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.895672] Call Trace:
[   29.895676]  <TASK>
[   29.896491]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   29.896821]  dump_stack_lvl+0x121/0x150
[   29.897178]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   29.897523]  dump_stack+0x19/0x20
[   29.898540]  zap_huge_pmd+0x494/0xd40
[   29.898818]  check_preemption_disabled+0x168/0x180
[   29.899055]  unmap_page_range+0x1ad6/0x4320
[   29.899174]  debug_smp_processor_id+0x20/0x30
[   29.899644]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   29.899836]  __schedule+0x9a/0x2eb0
[   29.900296]  ? __pfx_unmap_page_range+0x10/0x10
[   29.900473]  ? rcu_is_watching+0x19/0xc0
[   29.900811]  unmap_single_vma+0x1ac/0x2d0
[   29.901052]  ? lock_release+0x592/0x870
[   29.901431]  unmap_vmas+0x210/0x470
[   29.901655]  ? __pfx___schedule+0x10/0x10
[   29.902122]  ? __pfx_unmap_vmas+0x10/0x10
[   29.902310]  ? debug_smp_processor_id+0x20/0x30
[   29.902712]  ? __pfx_lock_release+0x10/0x10
[   29.902919]  ? rcu_is_watching+0x19/0xc0
[   29.903280]  ? lock_release+0x592/0x870
[   29.903491]  ? trace_irq_enable+0xe1/0x120
[   29.903808]  ? mas_next_slot+0x133a/0x1a50
[   29.904027]  ? do_task_dead+0x4a/0x110
[   29.904396]  ? __pfx_lock_release+0x10/0x10
[   29.904628]  do_task_dead+0xe0/0x110
[   29.905009]  ? mlock_drain_local+0x27f/0x4b0
[   29.905212]  make_task_dead+0x384/0x3c0
[   29.905563]  exit_mmap+0x19e/0xb10
[   29.905771]  rewind_stack_and_make_dead+0x16/0x20
[   29.906155]  ? __pfx_exit_mmap+0x10/0x10
[   29.906344] RIP: 0033:0x7f8d0123ee5d
[   29.906727]  ? trace_hardirqs_on+0x51/0x60
[   29.906908] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.907301]  ? __khugepaged_exit+0x266/0x4c0
[   29.907491] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   29.907801]  ? kmem_cache_free+0x15d/0x420
[   29.908046]  ORIG_RAX: 000000000000003c
[   29.908406]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.908586] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.908962]  __mmput+0xd6/0x390
[   29.909261] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.909650]  mmput+0x74/0x90
[   29.909905] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.910281]  do_exit+0xa03/0x29f0
[   29.910475] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.910959]  ? trace_hardirqs_on+0x51/0x60
[   29.911306] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.911602]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   29.911960]  </TASK>
[   29.912222]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   29.915862]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   29.916327]  ? __pfx_do_exit+0x10/0x10
[   29.916691]  ? __audit_syscall_entry+0x39c/0x500
[   29.917135]  __x64_sys_exit+0x50/0x60
[   29.917492]  x64_sys_call+0x20c9/0x20d0
[   29.917868]  do_syscall_64+0x6d/0x140
[   29.918235]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   29.918709] RIP: 0033:0x7f8d0123ee5d
[   29.919055] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.919616] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.920298] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.920932] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.921578] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.922219] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.922853] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.923515]  </TASK>
[   29.923731] Modules linked in:
[   29.924268] ---[ end trace 0000000000000000 ]---
[   29.924699] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   29.925255] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   29.926928] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   29.927434] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   29.928082] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   29.928720] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   29.929374] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   29.930024] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   29.930667] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   29.931411] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   29.931940] CR2: 00007f475bf24090 CR3: 0000000020dc4002 CR4: 0000000000770ef0
[   29.932798] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   29.933457] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   29.934290] PKRU: 55555554
[   29.934554] note: repro[1510] exited with preempt_count 1
[   29.935069] Fixing recursive fault but reboot is needed!
[   29.935759] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1510
[   29.936460] caller is debug_smp_processor_id+0x20/0x30
[   29.936956] CPU: 0 UID: 0 PID: 1510 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.937804] Tainted: [D]=DIE, [W]=WARN
[   29.938156] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.939174] Call Trace:
[   29.939416]  <TASK>
[   29.939633]  dump_stack_lvl+0x121/0x150
[   29.940019]  dump_stack+0x19/0x20
[   29.940350]  check_preemption_disabled+0x168/0x180
[   29.940802]  debug_smp_processor_id+0x20/0x30
[   29.941218]  __schedule+0x9a/0x2eb0
[   29.941563]  ? rcu_is_watching+0x19/0xc0
[   29.941944]  ? lock_release+0x592/0x870
[   29.942315]  ? __pfx___schedule+0x10/0x10
[   29.942705]  ? debug_smp_processor_id+0x20/0x30
[   29.943139]  ? rcu_is_watching+0x19/0xc0
[   29.943510]  ? trace_irq_enable+0xe1/0x120
[   29.943909]  ? do_task_dead+0x4a/0x110
[   29.944296]  do_task_dead+0xe0/0x110
[   29.944652]  make_task_dead+0x384/0x3c0
[   29.945035]  rewind_stack_and_make_dead+0x16/0x20
[   29.945485] RIP: 0033:0x7f8d0123ee5d
[   29.945828] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.946385] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.947079] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.947716] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.948367] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.949012] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.949660] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.950327]  </TASK>
[   29.950576] BUG: scheduling while atomic: repro/1510/0x00000000
[   29.951132] INFO: lockdep is turned off.
[   29.951505] Modules linked in:
[   29.951798] Preemption disabled at:
[   29.951803] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   29.952638] CPU: 0 UID: 0 PID: 1510 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   29.953492] Tainted: [D]=DIE, [W]=WARN
[   29.953839] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   29.954851] Call Trace:
[   29.955092]  <TASK>
[   29.955301]  dump_stack_lvl+0x121/0x150
[   29.955678]  ? do_task_dead+0x28/0x110
[   29.956057]  dump_stack+0x19/0x20
[   29.956390]  __schedule_bug+0x12d/0x180
[   29.956752]  __schedule+0x210c/0x2eb0
[   29.957090]  ? rcu_is_watching+0x19/0xc0
[   29.957456]  ? lock_release+0x592/0x870
[   29.957822]  ? __pfx___schedule+0x10/0x10
[   29.958189]  ? debug_smp_processor_id+0x20/0x30
[   29.958595]  ? rcu_is_watching+0x19/0xc0
[   29.958955]  ? trace_irq_enable+0xe1/0x120
[   29.959339]  ? do_task_dead+0x4a/0x110
[   29.959689]  do_task_dead+0xe0/0x110
[   29.960030]  make_task_dead+0x384/0x3c0
[   29.960384]  rewind_stack_and_make_dead+0x16/0x20
[   29.960809] RIP: 0033:0x7f8d0123ee5d
[   29.961133] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   29.961661] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   29.962316] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   29.962920] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   29.963536] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   29.964141] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   29.964747] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   29.965371]  </TASK>
[   30.367589] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#4] PREEMPT SMP KASAN NOPTI
[   30.368671] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.369354] CPU: 0 UID: 0 PID: 1790 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   30.370436] Tainted: [D]=DIE, [W]=WARN
[   30.370781] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.371791] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.372345] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.374003] RSP: 0018:ffff88801e85f7d8 EFLAGS: 00010202
[   30.374490] RAX: dffffc0000000000 RBX: ffffea0000438e80 RCX: ffffffff81b9e779
[   30.375154] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000438e90
[   30.376170] RBP: ffff88801e85f7f8 R08: 0000000000000000 R09: ffffed1002421a30
[   30.376856] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.377519] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801210d180
[   30.378179] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   30.378907] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.379450] CR2: 00007f8d015e0658 CR3: 0000000010d04005 CR4: 0000000000770ef0
[   30.380117] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.380769] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.381443] PKRU: 55555554
[   30.381718] Call Trace:
[   30.381965]  <TASK>
[   30.382184]  ? show_regs+0xa8/0xc0
[   30.382534]  ? die_addr+0x5d/0xf0
[   30.382875]  ? exc_general_protection+0x1ae/0x340
[   30.383365]  ? asm_exc_general_protection+0x2b/0x30
[   30.383847]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.384339]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.384830]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.385351]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.385847]  zap_huge_pmd+0x494/0xd40
[   30.386225]  unmap_page_range+0x1ad6/0x4320
[   30.386634]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.387127]  ? __pfx_unmap_page_range+0x10/0x10
[   30.387574]  unmap_single_vma+0x1ac/0x2d0
[   30.387960]  unmap_vmas+0x210/0x470
[   30.388319]  ? __pfx_unmap_vmas+0x10/0x10
[   30.388715]  ? __pfx_lock_release+0x10/0x10
[   30.389121]  ? lock_release+0x592/0x870
[   30.389516]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   30.389985]  ? __pfx_lock_release+0x10/0x10
[   30.390385]  ? mlock_drain_local+0x27f/0x4b0
[   30.390794]  exit_mmap+0x19e/0xb10
[   30.391139]  ? __pfx_exit_mmap+0x10/0x10
[   30.391514]  ? trace_hardirqs_on+0x51/0x60
[   30.391897]  ? __khugepaged_exit+0x266/0x4c0
[   30.392285]  ? kmem_cache_free+0x15d/0x420
[   30.392676]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.393188]  __mmput+0xd6/0x390
[   30.393510]  mmput+0x74/0x90
[   30.393801]  do_exit+0xa03/0x29f0
[   30.394144]  ? trace_hardirqs_on+0x51/0x60
[   30.394538]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.395096]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.395543]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.395980]  ? __pfx_do_exit+0x10/0x10
[   30.396316]  ? __audit_syscall_entry+0x39c/0x500
[   30.396733]  __x64_sys_exit+0x50/0x60
[   30.397077]  x64_sys_call+0x20c9/0x20d0
[   30.397418]  do_syscall_64+0x6d/0x140
[   30.397774]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.398213] RIP: 0033:0x7f8d0123ee5d
[   30.398531] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   30.399045] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.399685] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   30.400474] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.401195] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   30.401813] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   30.402415] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   30.403021]  </TASK>
[   30.403220] Modules linked in:
[   30.403645] ---[ end trace 0000000000000000 ]---
[   30.404058] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.404547] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.406216] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   30.406873] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   30.407632] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   30.408232] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   30.409195] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.409755] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   30.410475] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   30.411097] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.411571] CR2: 00007f8d015e0658 CR3: 0000000010d04005 CR4: 0000000000770ef0
[   30.412121] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.412840] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.413532] PKRU: 55555554
[   30.413751] note: repro[1790] exited with preempt_count 1
[   30.414191] Fixing recursive fault but reboot is needed!
[   30.414606] BUG: using smp_processor_id() in preemptible [00000000] code: repro/1790
[   30.415204] caller is debug_smp_processor_id+0x20/0x30
[   30.415635] CPU: 0 UID: 0 PID: 1790 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   30.416356] Tainted: [D]=DIE, [W]=WARN
[   30.416647] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.417466] Call Trace:
[   30.417653]  <TASK>
[   30.417817]  dump_stack_lvl+0x121/0x150
[   30.418137]  dump_stack+0x19/0x20
[   30.418402]  check_preemption_disabled+0x168/0x180
[   30.418759]  debug_smp_processor_id+0x20/0x30
[   30.419244]  __schedule+0x9a/0x2eb0
[   30.419590]  ? rcu_is_watching+0x19/0xc0
[   30.419887]  ? lock_release+0x592/0x870
[   30.420190]  ? __pfx___schedule+0x10/0x10
[   30.420495]  ? debug_smp_processor_id+0x20/0x30
[   30.420821]  ? rcu_is_watching+0x19/0xc0
[   30.421126]  ? trace_irq_enable+0xe1/0x120
[   30.421432]  ? do_task_dead+0x4a/0x110
[   30.421716]  do_task_dead+0xe0/0x110
[   30.422120]  make_task_dead+0x384/0x3c0
[   30.422428]  rewind_stack_and_make_dead+0x16/0x20
[   30.422765] RIP: 0033:0x7f8d0123ee5d
[   30.423024] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   30.423442] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.423962] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   30.424443] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.424931] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   30.425637] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   30.426108] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   30.426584]  </TASK>
[   30.426911] BUG: scheduling while atomic: repro/1790/0x00000000
[   30.427310] INFO: lockdep is turned off.
[   30.427675] Modules linked in:
[   30.427897] Preemption disabled at:
[   30.427900] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   30.428516] CPU: 0 UID: 0 PID: 1790 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   30.429135] Tainted: [D]=DIE, [W]=WARN
[   30.429385] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.430116] Call Trace:
[   30.430289]  <TASK>
[   30.430440]  dump_stack_lvl+0x121/0x150
[   30.430709]  ? do_task_dead+0x28/0x110
[   30.430969]  dump_stack+0x19/0x20
[   30.431299]  __schedule_bug+0x12d/0x180
[   30.431677]  __schedule+0x210c/0x2eb0
[   30.431980]  ? rcu_is_watching+0x19/0xc0
[   30.432243]  ? lock_release+0x592/0x870
[   30.432502]  ? __pfx___schedule+0x10/0x10
[   30.432771]  ? debug_smp_processor_id+0x20/0x30
[   30.433073]  ? rcu_is_watching+0x19/0xc0
[   30.433336]  ? trace_irq_enable+0xe1/0x120
[   30.433615]  ? do_task_dead+0x4a/0x110
[   30.433874]  do_task_dead+0xe0/0x110
[   30.434126]  make_task_dead+0x384/0x3c0
[   30.434389]  rewind_stack_and_make_dead+0x16/0x20
[   30.434701] RIP: 0033:0x7f8d0123ee5d
[   30.434940] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   30.435324] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.435799] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   30.436248] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.436694] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   30.437141] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   30.437571] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   30.438006]  </TASK>
[   30.755523] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#5] PREEMPT SMP KASAN NOPTI
[   30.756101] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   30.756574] CPU: 1 UID: 0 PID: 2050 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   30.757041] Tainted: [D]=DIE, [W]=WARN
[   30.757223] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.757765] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.758055] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.758885] RSP: 0018:ffff8880142577d8 EFLAGS: 00010202
[   30.759135] RAX: dffffc0000000000 RBX: ffffea0000467c80 RCX: ffffffff81b9e779
[   30.759463] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000467c90
[   30.759784] RBP: ffff8880142577f8 R08: 0000000000000000 R09: ffffed10023ced68
[   30.760104] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   30.760422] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011e76b40
[   30.760741] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   30.761121] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.761391] CR2: 00007f8d015dfef8 CR3: 00000000135a2003 CR4: 0000000000770ef0
[   30.761782] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.762396] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.763009] PKRU: 55555554
[   30.763206] Call Trace:
[   30.763367]  <TASK>
[   30.763519]  ? show_regs+0xa8/0xc0
[   30.763767]  ? die_addr+0x5d/0xf0
[   30.764003]  ? exc_general_protection+0x1ae/0x340
[   30.764374]  ? asm_exc_general_protection+0x2b/0x30
[   30.764889]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   30.765414]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.765915]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   30.766416]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   30.766950]  zap_huge_pmd+0x494/0xd40
[   30.767406]  unmap_page_range+0x1ad6/0x4320
[   30.767883]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   30.768538]  ? __pfx_unmap_page_range+0x10/0x10
[   30.769019]  unmap_single_vma+0x1ac/0x2d0
[   30.769239]  unmap_vmas+0x210/0x470
[   30.769418]  ? __pfx_unmap_vmas+0x10/0x10
[   30.769613]  ? __pfx_lock_release+0x10/0x10
[   30.769819]  ? lock_release+0x592/0x870
[   30.770009]  ? mas_next_slot+0x133a/0x1a50
[   30.770212]  ? __pfx_lock_release+0x10/0x10
[   30.770419]  ? mlock_drain_local+0x27f/0x4b0
[   30.770631]  exit_mmap+0x19e/0xb10
[   30.770806]  ? __pfx_exit_mmap+0x10/0x10
[   30.771010]  ? trace_hardirqs_on+0x51/0x60
[   30.771215]  ? __khugepaged_exit+0x266/0x4c0
[   30.771429]  ? kmem_cache_free+0x15d/0x420
[   30.771633]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   30.771889]  __mmput+0xd6/0x390
[   30.772051]  mmput+0x74/0x90
[   30.772197]  do_exit+0xa03/0x29f0
[   30.772364]  ? trace_hardirqs_on+0x51/0x60
[   30.772568]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   30.772863]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   30.773093]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   30.773317]  ? __pfx_do_exit+0x10/0x10
[   30.773497]  ? __audit_syscall_entry+0x39c/0x500
[   30.773719]  __x64_sys_exit+0x50/0x60
[   30.773915]  x64_sys_call+0x20c9/0x20d0
[   30.774108]  do_syscall_64+0x6d/0x140
[   30.774289]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   30.774617] RIP: 0033:0x7f8d0123ee5d
[   30.774852] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   30.775237] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.775597] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   30.775907] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.776229] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   30.776553] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   30.776879] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   30.777198]  </TASK>
[   30.777306] Modules linked in:
[   30.777506] ---[ end trace 0000000000000000 ]---
[   30.777722] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   30.777999] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   30.778914] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   30.779622] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   30.780353] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   30.781004] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   30.781605] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   30.782185] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   30.782759] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   30.783525] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.783988] CR2: 00007f8d015dfef8 CR3: 00000000135a2003 CR4: 0000000000770ef0
[   30.784551] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   30.785106] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   30.785640] PKRU: 55555554
[   30.785797] note: repro[2050] exited with preempt_count 1
[   30.786073] Fixing recursive fault but reboot is needed!
[   30.786325] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2050
[   30.786647] caller is debug_smp_processor_id+0x20/0x30
[   30.786875] CPU: 1 UID: 0 PID: 2050 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   30.787276] Tainted: [D]=DIE, [W]=WARN
[   30.787440] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.787907] Call Trace:
[   30.788023]  <TASK>
[   30.788122]  dump_stack_lvl+0x121/0x150
[   30.788301]  dump_stack+0x19/0x20
[   30.788457]  check_preemption_disabled+0x168/0x180
[   30.788671]  debug_smp_processor_id+0x20/0x30
[   30.788870]  __schedule+0x9a/0x2eb0
[   30.789034]  ? rcu_is_watching+0x19/0xc0
[   30.789214]  ? lock_release+0x592/0x870
[   30.789390]  ? __pfx___schedule+0x10/0x10
[   30.789575]  ? debug_smp_processor_id+0x20/0x30
[   30.789785]  ? rcu_is_watching+0x19/0xc0
[   30.789966]  ? trace_irq_enable+0xe1/0x120
[   30.790156]  ? do_task_dead+0x4a/0x110
[   30.790336]  do_task_dead+0xe0/0x110
[   30.790601]  make_task_dead+0x384/0x3c0
[   30.791093]  rewind_stack_and_make_dead+0x16/0x20
[   30.791824] RIP: 0033:0x7f8d0123ee5d
[   30.792192] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   30.792776] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.793490] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   30.794143] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.794815] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   30.795487] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   30.796149] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   30.796825]  </TASK>
[   30.797255] BUG: scheduling while atomic: repro/2050/0x00000000
[   30.797815] INFO: lockdep is turned off.
[   30.798198] Modules linked in:
[   30.798497] Preemption disabled at:
[   30.798502] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   30.799734] CPU: 1 UID: 0 PID: 2050 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   30.800762] Tainted: [D]=DIE, [W]=WARN
[   30.801152] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.802197] Call Trace:
[   30.802439]  <TASK>
[   30.802662]  dump_stack_lvl+0x121/0x150
[   30.803061]  ? do_task_dead+0x28/0x110
[   30.803478]  dump_stack+0x19/0x20
[   30.803860]  __schedule_bug+0x12d/0x180
[   30.804404]  __schedule+0x210c/0x2eb0
[   30.804809]  ? rcu_is_watching+0x19/0xc0
[   30.805208]  ? lock_release+0x592/0x870
[   30.805629]  ? __pfx___schedule+0x10/0x10
[   30.806179]  ? debug_smp_processor_id+0x20/0x30
[   30.806641]  ? rcu_is_watching+0x19/0xc0
[   30.807054]  ? trace_irq_enable+0xe1/0x120
[   30.807515]  ? do_task_dead+0x4a/0x110
[   30.807923]  do_task_dead+0xe0/0x110
[   30.808299]  make_task_dead+0x384/0x3c0
[   30.808681]  rewind_stack_and_make_dead+0x16/0x20
[   30.809160] RIP: 0033:0x7f8d0123ee5d
[   30.809517] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   30.810093] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   30.810794] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   30.811488] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   30.812178] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   30.812849] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   30.813517] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   30.814570]  </TASK>
[   31.139108] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#6] PREEMPT SMP KASAN NOPTI
[   31.139637] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.139965] CPU: 0 UID: 0 PID: 2289 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   31.140368] Tainted: [D]=DIE, [W]=WARN
[   31.140545] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.141027] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.141287] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.142054] RSP: 0018:ffff8880201777d8 EFLAGS: 00010202
[   31.142287] RAX: dffffc0000000000 RBX: ffffea00004ec780 RCX: ffffffff81b9e779
[   31.142588] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004ec790
[   31.142893] RBP: ffff8880201777f8 R08: 0000000000000000 R09: ffffed1003b6426c
[   31.143204] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   31.143508] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801db21360
[   31.143811] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.144155] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.144403] CR2: 00007f8d015dfef8 CR3: 0000000010bf2004 CR4: 0000000000770ef0
[   31.144714] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.145021] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.145325] PKRU: 55555554
[   31.145450] Call Trace:
[   31.145564]  <TASK>
[   31.145665]  ? show_regs+0xa8/0xc0
[   31.145831]  ? die_addr+0x5d/0xf0
[   31.145987]  ? exc_general_protection+0x1ae/0x340
[   31.146208]  ? asm_exc_general_protection+0x2b/0x30
[   31.146434]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.146665]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.146896]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.147127]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.147357]  zap_huge_pmd+0x494/0xd40
[   31.147538]  unmap_page_range+0x1ad6/0x4320
[   31.147741]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.147974]  ? __pfx_unmap_page_range+0x10/0x10
[   31.148184]  unmap_single_vma+0x1ac/0x2d0
[   31.148371]  unmap_vmas+0x210/0x470
[   31.148537]  ? __pfx_unmap_vmas+0x10/0x10
[   31.148721]  ? __pfx_lock_release+0x10/0x10
[   31.148910]  ? lock_release+0x592/0x870
[   31.149088]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.149311]  ? __pfx_lock_release+0x10/0x10
[   31.149501]  ? mlock_drain_local+0x27f/0x4b0
[   31.149698]  exit_mmap+0x19e/0xb10
[   31.149863]  ? __pfx_exit_mmap+0x10/0x10
[   31.150049]  ? trace_hardirqs_on+0x51/0x60
[   31.150243]  ? __khugepaged_exit+0x266/0x4c0
[   31.150439]  ? kmem_cache_free+0x15d/0x420
[   31.150629]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.150871]  __mmput+0xd6/0x390
[   31.151023]  mmput+0x74/0x90
[   31.151167]  do_exit+0xa03/0x29f0
[   31.151329]  ? trace_hardirqs_on+0x51/0x60
[   31.151520]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.151793]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.152012]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.152232]  ? __pfx_do_exit+0x10/0x10
[   31.152404]  ? __audit_syscall_entry+0x39c/0x500
[   31.152616]  __x64_sys_exit+0x50/0x60
[   31.152786]  x64_sys_call+0x20c9/0x20d0
[   31.152964]  do_syscall_64+0x6d/0x140
[   31.153138]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.153369] RIP: 0033:0x7f8d0123ee5d
[   31.153532] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   31.153795] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.154121] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   31.154424] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.154725] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   31.155028] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   31.155332] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   31.155644]  </TASK>
[   31.155747] Modules linked in:
[   31.155944] ---[ end trace 0000000000000000 ]---
[   31.156149] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.156408] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.157190] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   31.157429] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   31.157738] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   31.158315] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   31.158984] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.159674] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   31.160344] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.161085] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.161627] CR2: 00007f8d015dfef8 CR3: 0000000010bf2004 CR4: 0000000000770ef0
[   31.162399] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.163139] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.163780] PKRU: 55555554
[   31.163946] note: repro[2289] exited with preempt_count 1
[   31.164254] Fixing recursive fault but reboot is needed!
[   31.164555] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2289
[   31.164993] caller is debug_smp_processor_id+0x20/0x30
[   31.165292] CPU: 0 UID: 0 PID: 2289 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   31.165821] Tainted: [D]=DIE, [W]=WARN
[   31.166033] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.166661] Call Trace:
[   31.166807]  <TASK>
[   31.166939]  dump_stack_lvl+0x121/0x150
[   31.167171]  dump_stack+0x19/0x20
[   31.167374]  check_preemption_disabled+0x168/0x180
[   31.167659]  debug_smp_processor_id+0x20/0x30
[   31.167915]  __schedule+0x9a/0x2eb0
[   31.168124]  ? rcu_is_watching+0x19/0xc0
[   31.168355]  ? lock_release+0x592/0x870
[   31.168581]  ? __pfx___schedule+0x10/0x10
[   31.168817]  ? debug_smp_processor_id+0x20/0x30
[   31.169082]  ? rcu_is_watching+0x19/0xc0
[   31.169313]  ? trace_irq_enable+0xe1/0x120
[   31.169557]  ? do_task_dead+0x4a/0x110
[   31.169783]  do_task_dead+0xe0/0x110
[   31.170002]  make_task_dead+0x384/0x3c0
[   31.170237]  rewind_stack_and_make_dead+0x16/0x20
[   31.170511] RIP: 0033:0x7f8d0123ee5d
[   31.170721] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   31.171071] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.171496] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   31.171897] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.172296] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   31.172697] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   31.173095] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   31.173595]  </TASK>
[   31.174086] BUG: scheduling while atomic: repro/2289/0x00000000
[   31.174346] INFO: lockdep is turned off.
[   31.174522] Modules linked in:
[   31.174662] Preemption disabled at:
[   31.174664] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.175064] CPU: 0 UID: 0 PID: 2289 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   31.175471] Tainted: [D]=DIE, [W]=WARN
[   31.175635] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.176113] Call Trace:
[   31.176224]  <TASK>
[   31.176323]  dump_stack_lvl+0x121/0x150
[   31.176503]  ? do_task_dead+0x28/0x110
[   31.176684]  dump_stack+0x19/0x20
[   31.176843]  __schedule_bug+0x12d/0x180
[   31.177022]  __schedule+0x210c/0x2eb0
[   31.177218]  ? rcu_is_watching+0x19/0xc0
[   31.177613]  ? lock_release+0x592/0x870
[   31.177997]  ? __pfx___schedule+0x10/0x10
[   31.178390]  ? debug_smp_processor_id+0x20/0x30
[   31.178827]  ? rcu_is_watching+0x19/0xc0
[   31.179218]  ? trace_irq_enable+0xe1/0x120
[   31.179638]  ? do_task_dead+0x4a/0x110
[   31.180010]  do_task_dead+0xe0/0x110
[   31.180386]  make_task_dead+0x384/0x3c0
[   31.180757]  rewind_stack_and_make_dead+0x16/0x20
[   31.181124] RIP: 0033:0x7f8d0123ee5d
[   31.181405] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   31.181851] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.182411] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   31.182923] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.183457] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   31.184008] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   31.184611] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   31.185228]  </TASK>
[   31.715266] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#7] PREEMPT SMP KASAN NOPTI
[   31.716828] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   31.717755] CPU: 0 UID: 0 PID: 2652 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   31.718958] Tainted: [D]=DIE, [W]=WARN
[   31.719434] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.720773] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.721491] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.723668] RSP: 0018:ffff8880238e77d8 EFLAGS: 00010202
[   31.724312] RAX: dffffc0000000000 RBX: ffffea00007a7840 RCX: ffffffff81b9e779
[   31.725164] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007a7850
[   31.726015] RBP: ffff8880238e77f8 R08: 0000000000000000 R09: ffffed100419b78c
[   31.726861] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   31.727712] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888020cdbc60
[   31.728564] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.729523] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.730215] CR2: 00007f8d01605fa8 CR3: 0000000023916001 CR4: 0000000000770ef0
[   31.731067] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.731914] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.732765] PKRU: 55555554
[   31.733107] Call Trace:
[   31.733415]  <TASK>
[   31.733689]  ? show_regs+0xa8/0xc0
[   31.734134]  ? die_addr+0x5d/0xf0
[   31.734563]  ? exc_general_protection+0x1ae/0x340
[   31.735163]  ? asm_exc_general_protection+0x2b/0x30
[   31.735777]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   31.736413]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.737051]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   31.737683]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   31.738321]  zap_huge_pmd+0x494/0xd40
[   31.738794]  unmap_page_range+0x1ad6/0x4320
[   31.739324]  ? __pfx_lock_release+0x10/0x10
[   31.739843]  ? do_raw_spin_trylock+0xbf/0x190
[   31.740394]  ? __kasan_check_read+0x15/0x20
[   31.740938]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   31.741564]  ? __pfx_unmap_page_range+0x10/0x10
[   31.742148]  unmap_single_vma+0x1ac/0x2d0
[   31.742658]  unmap_vmas+0x210/0x470
[   31.743121]  ? __pfx_unmap_vmas+0x10/0x10
[   31.743626]  ? __pfx_lock_release+0x10/0x10
[   31.744147]  ? lock_release+0x592/0x870
[   31.744624]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   31.745237]  ? __pfx_lock_release+0x10/0x10
[   31.745760]  ? mlock_drain_local+0x27f/0x4b0
[   31.746305]  exit_mmap+0x19e/0xb10
[   31.746749]  ? __pfx_exit_mmap+0x10/0x10
[   31.747257]  ? trace_hardirqs_on+0x51/0x60
[   31.747783]  ? __khugepaged_exit+0x266/0x4c0
[   31.748322]  ? kmem_cache_free+0x15d/0x420
[   31.748846]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   31.749512]  __mmput+0xd6/0x390
[   31.749918]  mmput+0x74/0x90
[   31.750300]  do_exit+0xa03/0x29f0
[   31.750729]  ? trace_hardirqs_on+0x51/0x60
[   31.751251]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   31.752013]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   31.752617]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   31.753223]  ? __pfx_do_exit+0x10/0x10
[   31.753701]  ? __audit_syscall_entry+0x39c/0x500
[   31.754284]  __x64_sys_exit+0x50/0x60
[   31.754751]  x64_sys_call+0x20c9/0x20d0
[   31.755238]  do_syscall_64+0x6d/0x140
[   31.755709]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   31.756339] RIP: 0033:0x7f8d0123ee5d
[   31.756785] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   31.757519] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.758426] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   31.759281] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.760133] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   31.760986] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   31.761838] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   31.762705]  </TASK>
[   31.762991] Modules linked in:
[   31.763561] ---[ end trace 0000000000000000 ]---
[   31.764138] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   31.764845] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   31.767028] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   31.767806] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   31.768667] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   31.769538] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   31.770397] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   31.771253] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   31.772132] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   31.773098] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.773798] CR2: 00007f8d01605fa8 CR3: 0000000023916001 CR4: 0000000000770ef0
[   31.774660] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   31.775547] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   31.776408] PKRU: 55555554
[   31.776749] note: repro[2652] exited with preempt_count 1
[   31.777406] Fixing recursive fault but reboot is needed!
[   31.778051] BUG: using smp_processor_id() in preemptible [00000000] code: repro/2652
[   31.778970] caller is debug_smp_processor_id+0x20/0x30
[   31.779704] CPU: 0 UID: 0 PID: 2652 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   31.780848] Tainted: [D]=DIE, [W]=WARN
[   31.781314] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.782666] Call Trace:
[   31.782982]  <TASK>
[   31.783254]  dump_stack_lvl+0x121/0x150
[   31.783748]  dump_stack+0x19/0x20
[   31.784184]  check_preemption_disabled+0x168/0x180
[   31.784778]  debug_smp_processor_id+0x20/0x30
[   31.785329]  __schedule+0x9a/0x2eb0
[   31.785770]  ? rcu_is_watching+0x19/0xc0
[   31.786267]  ? lock_release+0x592/0x870
[   31.786748]  ? __pfx___schedule+0x10/0x10
[   31.787253]  ? debug_smp_processor_id+0x20/0x30
[   31.787813]  ? rcu_is_watching+0x19/0xc0
[   31.788306]  ? trace_irq_enable+0xe1/0x120
[   31.788823]  ? do_task_dead+0x4a/0x110
[   31.789306]  do_task_dead+0xe0/0x110
[   31.789768]  make_task_dead+0x384/0x3c0
[   31.790259]  rewind_stack_and_make_dead+0x16/0x20
[   31.790841] RIP: 0033:0x7f8d0123ee5d
[   31.791292] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   31.792032] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.792942] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   31.793795] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.794648] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   31.795499] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   31.796353] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   31.797218]  </TASK>
[   31.797549] BUG: scheduling while atomic: repro/2652/0x00000000
[   31.798270] INFO: lockdep is turned off.
[   31.798743] Modules linked in:
[   31.799129] Preemption disabled at:
[   31.799135] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   31.800237] CPU: 0 UID: 0 PID: 2652 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   31.801366] Tainted: [D]=DIE, [W]=WARN
[   31.801822] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.803170] Call Trace:
[   31.803481]  <TASK>
[   31.803758]  dump_stack_lvl+0x121/0x150
[   31.804363]  ? do_task_dead+0x28/0x110
[   31.804910]  dump_stack+0x19/0x20
[   31.805346]  __schedule_bug+0x12d/0x180
[   31.805834]  __schedule+0x210c/0x2eb0
[   31.806300]  ? rcu_is_watching+0x19/0xc0
[   31.806789]  ? lock_release+0x592/0x870
[   31.807276]  ? __pfx___schedule+0x10/0x10
[   31.807778]  ? debug_smp_processor_id+0x20/0x30
[   31.808346]  ? rcu_is_watching+0x19/0xc0
[   31.808840]  ? trace_irq_enable+0xe1/0x120
[   31.809361]  ? do_task_dead+0x4a/0x110
[   31.809841]  do_task_dead+0xe0/0x110
[   31.810306]  make_task_dead+0x384/0x3c0
[   31.810800]  rewind_stack_and_make_dead+0x16/0x20
[   31.811385] RIP: 0033:0x7f8d0123ee5d
[   31.811831] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   31.812568] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   31.813477] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   31.814329] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   31.815181] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   31.816031] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   31.816877] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   31.817744]  </TASK>
[   32.687734] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#8] PREEMPT SMP KASAN NOPTI
[   32.688824] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   32.689619] CPU: 1 UID: 0 PID: 3158 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   32.690504] Tainted: [D]=DIE, [W]=WARN
[   32.690850] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.691867] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.692417] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.694374] RSP: 0018:ffff88801328f7d8 EFLAGS: 00010202
[   32.694858] RAX: dffffc0000000000 RBX: ffffea0000705740 RCX: ffffffff81b9e779
[   32.695499] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000705750
[   32.696141] RBP: ffff88801328f7f8 R08: 0000000000000000 R09: ffffed10024c3a30
[   32.696781] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   32.697660] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801261d180
[   32.698302] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   32.699023] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.699562] CR2: 00007fff00956878 CR3: 000000001c33e001 CR4: 0000000000770ef0
[   32.700210] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.701008] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.701853] PKRU: 55555554
[   32.702120] Call Trace:
[   32.702356]  <TASK>
[   32.702568]  ? show_regs+0xa8/0xc0
[   32.702923]  ? die_addr+0x5d/0xf0
[   32.703263]  ? exc_general_protection+0x1ae/0x340
[   32.703722]  ? asm_exc_general_protection+0x2b/0x30
[   32.704221]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   32.704716]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.705486]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   32.706075]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   32.706582]  zap_huge_pmd+0x494/0xd40
[   32.706956]  unmap_page_range+0x1ad6/0x4320
[   32.707381]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   32.707857]  ? __pfx_unmap_page_range+0x10/0x10
[   32.708311]  unmap_single_vma+0x1ac/0x2d0
[   32.708703]  unmap_vmas+0x210/0x470
[   32.709165]  ? __pfx_unmap_vmas+0x10/0x10
[   32.709797]  ? __pfx_lock_release+0x10/0x10
[   32.710202]  ? lock_release+0x592/0x870
[   32.710567]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   32.711037]  ? __pfx_lock_release+0x10/0x10
[   32.711437]  ? mlock_drain_local+0x27f/0x4b0
[   32.711849]  exit_mmap+0x19e/0xb10
[   32.712198]  ? __pfx_exit_mmap+0x10/0x10
[   32.712586]  ? trace_hardirqs_on+0x51/0x60
[   32.713022]  ? __khugepaged_exit+0x266/0x4c0
[   32.713668]  ? kmem_cache_free+0x15d/0x420
[   32.714255]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   32.714771]  __mmput+0xd6/0x390
[   32.715097]  mmput+0x74/0x90
[   32.715393]  do_exit+0xa03/0x29f0
[   32.715743]  ? trace_hardirqs_on+0x51/0x60
[   32.716267]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   32.716990]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   32.717612]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   32.718075]  ? __pfx_do_exit+0x10/0x10
[   32.718451]  ? __audit_syscall_entry+0x39c/0x500
[   32.718894]  __x64_sys_exit+0x50/0x60
[   32.719255]  x64_sys_call+0x20c9/0x20d0
[   32.719624]  do_syscall_64+0x6d/0x140
[   32.719989]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   32.720462] RIP: 0033:0x7f8d0123ee5d
[   32.720801] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   32.721406] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.722251] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   32.722863] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.723470] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   32.724080] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   32.724682] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   32.725339]  </TASK>
[   32.725581] Modules linked in:
[   32.726167] ---[ end trace 0000000000000000 ]---
[   32.726607] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   32.727183] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   32.728977] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   32.729416] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   32.729992] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   32.730566] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   32.731175] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   32.731794] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   32.732379] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   32.733030] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   32.733502] CR2: 00007fff00956878 CR3: 000000001c33e001 CR4: 0000000000770ef0
[   32.734082] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   32.734660] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   32.735238] PKRU: 55555554
[   32.735493] note: repro[3158] exited with preempt_count 1
[   32.735940] Fixing recursive fault but reboot is needed!
[   32.736372] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3158
[   32.736973] caller is debug_smp_processor_id+0x20/0x30
[   32.737389] CPU: 1 UID: 0 PID: 3158 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   32.738122] Tainted: [D]=DIE, [W]=WARN
[   32.738420] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.739285] Call Trace:
[   32.739490]  <TASK>
[   32.739670]  dump_stack_lvl+0x121/0x150
[   32.739998]  dump_stack+0x19/0x20
[   32.740282]  check_preemption_disabled+0x168/0x180
[   32.740669]  debug_smp_processor_id+0x20/0x30
[   32.741026]  __schedule+0x9a/0x2eb0
[   32.741315]  ? rcu_is_watching+0x19/0xc0
[   32.741641]  ? lock_release+0x592/0x870
[   32.741960]  ? __pfx___schedule+0x10/0x10
[   32.742287]  ? debug_smp_processor_id+0x20/0x30
[   32.742662]  ? rcu_is_watching+0x19/0xc0
[   32.742977]  ? trace_irq_enable+0xe1/0x120
[   32.743306]  ? do_task_dead+0x4a/0x110
[   32.743611]  do_task_dead+0xe0/0x110
[   32.743902]  make_task_dead+0x384/0x3c0
[   32.744216]  rewind_stack_and_make_dead+0x16/0x20
[   32.744580] RIP: 0033:0x7f8d0123ee5d
[   32.744859] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   32.745318] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.745879] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   32.746404] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.746928] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   32.747463] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   32.747991] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   32.748539]  </TASK>
[   32.748774] BUG: scheduling while atomic: repro/3158/0x00000000
[   32.749221] INFO: lockdep is turned off.
[   32.749517] Modules linked in:
[   32.749777] Preemption disabled at:
[   32.749782] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   32.750464] CPU: 1 UID: 0 PID: 3158 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   32.751151] Tainted: [D]=DIE, [W]=WARN
[   32.751427] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   32.752221] Call Trace:
[   32.752408]  <TASK>
[   32.752573]  dump_stack_lvl+0x121/0x150
[   32.752868]  ? do_task_dead+0x28/0x110
[   32.753204]  dump_stack+0x19/0x20
[   32.753515]  __schedule_bug+0x12d/0x180
[   32.753869]  __schedule+0x210c/0x2eb0
[   32.754205]  ? rcu_is_watching+0x19/0xc0
[   32.754556]  ? lock_release+0x592/0x870
[   32.754902]  ? __pfx___schedule+0x10/0x10
[   32.755216]  ? debug_smp_processor_id+0x20/0x30
[   32.755539]  ? rcu_is_watching+0x19/0xc0
[   32.755820]  ? trace_irq_enable+0xe1/0x120
[   32.756125]  ? do_task_dead+0x4a/0x110
[   32.756405]  do_task_dead+0xe0/0x110
[   32.756675]  make_task_dead+0x384/0x3c0
[   32.756960]  rewind_stack_and_make_dead+0x16/0x20
[   32.757294] RIP: 0033:0x7f8d0123ee5d
[   32.757552] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   32.757972] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   32.758487] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   32.758979] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   32.759463] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   32.759949] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   32.760432] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   32.760923]  </TASK>
[   33.119059] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#9] PREEMPT SMP KASAN NOPTI
[   33.119740] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.120168] CPU: 0 UID: 0 PID: 3401 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.120699] Tainted: [D]=DIE, [W]=WARN
[   33.120913] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.121548] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.121887] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.122918] RSP: 0018:ffff88801930f7d8 EFLAGS: 00010202
[   33.123221] RAX: dffffc0000000000 RBX: ffffea00007caf00 RCX: ffffffff81b9e779
[   33.123623] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007caf10
[   33.124032] RBP: ffff88801930f7f8 R08: 0000000000000000 R09: ffffed1001d73ecc
[   33.124432] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.124832] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800eb9f660
[   33.125232] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.125682] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.126008] CR2: 00007f8d016043f4 CR3: 000000001c3cc001 CR4: 0000000000770ef0
[   33.126407] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.126807] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.127205] PKRU: 55555554
[   33.127364] Call Trace:
[   33.127510]  <TASK>
[   33.127640]  ? show_regs+0xa8/0xc0
[   33.127847]  ? die_addr+0x5d/0xf0
[   33.128051]  ? exc_general_protection+0x1ae/0x340
[   33.128336]  ? asm_exc_general_protection+0x2b/0x30
[   33.128624]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.128923]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.129226]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.129525]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.129824]  zap_huge_pmd+0x494/0xd40
[   33.130048]  unmap_page_range+0x1ad6/0x4320
[   33.130303]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.130601]  ? __pfx_unmap_page_range+0x10/0x10
[   33.130873]  unmap_single_vma+0x1ac/0x2d0
[   33.131120]  unmap_vmas+0x210/0x470
[   33.131333]  ? __pfx_unmap_vmas+0x10/0x10
[   33.131570]  ? __pfx_lock_release+0x10/0x10
[   33.131815]  ? lock_release+0x592/0x870
[   33.132038]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.132329]  ? __pfx_lock_release+0x10/0x10
[   33.132576]  ? mlock_drain_local+0x27f/0x4b0
[   33.132830]  exit_mmap+0x19e/0xb10
[   33.133039]  ? __pfx_exit_mmap+0x10/0x10
[   33.133277]  ? trace_hardirqs_on+0x51/0x60
[   33.133524]  ? __khugepaged_exit+0x266/0x4c0
[   33.133778]  ? kmem_cache_free+0x15d/0x420
[   33.134024]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.134336]  __mmput+0xd6/0x390
[   33.134527]  mmput+0x74/0x90
[   33.134703]  do_exit+0xa03/0x29f0
[   33.134905]  ? trace_hardirqs_on+0x51/0x60
[   33.135149]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.135506]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.135790]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.136075]  ? __pfx_do_exit+0x10/0x10
[   33.136299]  ? __audit_syscall_entry+0x39c/0x500
[   33.136573]  __x64_sys_exit+0x50/0x60
[   33.136795]  x64_sys_call+0x20c9/0x20d0
[   33.137023]  do_syscall_64+0x6d/0x140
[   33.137245]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.137536] RIP: 0033:0x7f8d0123ee5d
[   33.137747] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.138092] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.138516] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.138918] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.139316] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.139714] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.140115] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.140522]  </TASK>
[   33.140654] Modules linked in:
[   33.140878] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#10] PREEMPT SMP KASAN NOPTI
[   33.140907] ---[ end trace 0000000000000000 ]---
[   33.140912] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.140924] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.141950] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.142242] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   33.142742] CPU: 1 UID: 0 PID: 3413 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.143807] 
[   33.144418] Tainted: [D]=DIE, [W]=WARN
[   33.144718] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   33.145488] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.145612] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   33.145929] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.146399] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   33.147331] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.147767] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.148231] RSP: 0018:ffff888010c177d8 EFLAGS: 00010202
[   33.148652] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   33.150156] 
[   33.150575] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.151010] RAX: dffffc0000000000 RBX: ffffea00003dc500 RCX: ffffffff81b9e779
[   33.151443] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.151574] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003dc510
[   33.152182] CR2: 00007f8d016043f4 CR3: 000000001c3cc001 CR4: 0000000000770ef0
[   33.152760] RBP: ffff888010c177f8 R08: 0000000000000000 R09: ffffed1002c0d9bc
[   33.153102] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.153661] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.154077] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.154637] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801606cde0
[   33.155054] PKRU: 55555554
[   33.155622] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.156034] note: repro[3401] exited with preempt_count 1
[   33.156595] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.156771] Fixing recursive fault but reboot is needed!
[   33.156777] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3401
[   33.157402] CR2: 00007f8d01601908 CR3: 000000001a420004 CR4: 0000000000770ef0
[   33.157722] caller is debug_smp_processor_id+0x20/0x30
[   33.158183] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.158500] CPU: 0 UID: 0 PID: 3401 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.159105] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.159530] Tainted: [D]=DIE, [W]=WARN
[   33.159940] PKRU: 55555554
[   33.160482] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.161224] Call Trace:
[   33.161647] Call Trace:
[   33.161654]  <TASK>
[   33.161989]  <TASK>
[   33.162158]  dump_stack_lvl+0x121/0x150
[   33.163082]  ? show_regs+0xa8/0xc0
[   33.163235]  dump_stack+0x19/0x20
[   33.163439]  ? die_addr+0x5d/0xf0
[   33.163571]  check_preemption_disabled+0x168/0x180
[   33.163748]  ? exc_general_protection+0x1ae/0x340
[   33.163980]  debug_smp_processor_id+0x20/0x30
[   33.164259]  ? asm_exc_general_protection+0x2b/0x30
[   33.164452]  __schedule+0x9a/0x2eb0
[   33.164717]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.164999]  ? rcu_is_watching+0x19/0xc0
[   33.165359]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.165619]  ? lock_release+0x592/0x870
[   33.165996]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.166205]  ? __pfx___schedule+0x10/0x10
[   33.166597]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.166832]  ? debug_smp_processor_id+0x20/0x30
[   33.167226]  zap_huge_pmd+0x494/0xd40
[   33.167453]  ? rcu_is_watching+0x19/0xc0
[   33.167850]  unmap_page_range+0x1ad6/0x4320
[   33.168154]  ? trace_irq_enable+0xe1/0x120
[   33.168567]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.168888]  ? do_task_dead+0x4a/0x110
[   33.169192]  ? __pfx_unmap_page_range+0x10/0x10
[   33.169425]  do_task_dead+0xe0/0x110
[   33.169763]  unmap_single_vma+0x1ac/0x2d0
[   33.170001]  make_task_dead+0x384/0x3c0
[   33.170372]  unmap_vmas+0x210/0x470
[   33.170594]  rewind_stack_and_make_dead+0x16/0x20
[   33.170932]  ? __pfx_unmap_vmas+0x10/0x10
[   33.171146] RIP: 0033:0x7f8d0123ee5d
[   33.171443]  ? __pfx_lock_release+0x10/0x10
[   33.171672] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.171938]  ? lock_release+0x592/0x870
[   33.172217] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   33.172514]  ? mas_next_slot+0x133a/0x1a50
[   33.172727]  ORIG_RAX: 000000000000003c
[   33.173092]  ? __pfx_lock_release+0x10/0x10
[   33.173452] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.173804]  ? mlock_drain_local+0x27f/0x4b0
[   33.174105] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.174401]  exit_mmap+0x19e/0xb10
[   33.174688] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.174993]  ? __pfx_exit_mmap+0x10/0x10
[   33.175412] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.175724]  ? trace_hardirqs_on+0x51/0x60
[   33.176116] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.176367]  ? __khugepaged_exit+0x266/0x4c0
[   33.176766]  </TASK>
[   33.177043]  ? kmem_cache_free+0x15d/0x420
[   33.178996]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.179395]  __mmput+0xd6/0x390
[   33.179642]  mmput+0x74/0x90
[   33.179873]  do_exit+0xa03/0x29f0
[   33.180137]  ? trace_hardirqs_on+0x51/0x60
[   33.180448]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.180897]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.181259]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.181617]  ? __pfx_do_exit+0x10/0x10
[   33.181924]  ? __audit_syscall_entry+0x39c/0x500
[   33.182310]  __x64_sys_exit+0x50/0x60
[   33.182617]  x64_sys_call+0x20c9/0x20d0
[   33.182932]  do_syscall_64+0x6d/0x140
[   33.183248]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.183607] RIP: 0033:0x7f8d0123ee5d
[   33.183863] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.184287] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.184803] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.185289] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.185774] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.186282] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.186886] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.187499]  </TASK>
[   33.187703] Modules linked in:
[   33.188055] ---[ end trace 0000000000000000 ]---
[   33.188451] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.188876] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.190175] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   33.190589] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   33.191143] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   33.191681] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   33.192151] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.192617] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   33.193084] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   33.193610] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.193993] CR2: 00007f8d01601908 CR3: 000000001a420004 CR4: 0000000000770ef0
[   33.194451] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.194904] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.195356] PKRU: 55555554
[   33.195552] note: repro[3413] exited with preempt_count 1
[   33.195898] Fixing recursive fault but reboot is needed!
[   33.196237] BUG: using smp_processor_id() in preemptible [00000000] code: repro/3413
[   33.196722] caller is debug_smp_processor_id+0x20/0x30
[   33.197064] CPU: 1 UID: 0 PID: 3413 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.197659] Tainted: [D]=DIE, [W]=WARN
[   33.197901] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.198689] Call Trace:
[   33.198925]  <TASK>
[   33.199141]  dump_stack_lvl+0x121/0x150
[   33.199518]  dump_stack+0x19/0x20
[   33.199770]  check_preemption_disabled+0x168/0x180
[   33.200079]  debug_smp_processor_id+0x20/0x30
[   33.200356]  __schedule+0x9a/0x2eb0
[   33.200585]  ? rcu_is_watching+0x19/0xc0
[   33.200839]  ? lock_release+0x592/0x870
[   33.201091]  ? __pfx___schedule+0x10/0x10
[   33.201442]  ? debug_smp_processor_id+0x20/0x30
[   33.201866]  ? rcu_is_watching+0x19/0xc0
[   33.202240]  ? trace_irq_enable+0xe1/0x120
[   33.202647]  ? do_task_dead+0x4a/0x110
[   33.203025]  do_task_dead+0xe0/0x110
[   33.203388]  make_task_dead+0x384/0x3c0
[   33.203683]  rewind_stack_and_make_dead+0x16/0x20
[   33.203984] RIP: 0033:0x7f8d0123ee5d
[   33.204217] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.204961] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.205442] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.206000] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.206438] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.206983] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.207416] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.207978]  </TASK>
[   33.208237] BUG: scheduling while atomic: repro/3413/0x00000000
[   33.208597] INFO: lockdep is turned off.
[   33.208902] Modules linked in:
[   33.209104] Preemption disabled at:
[   33.209113] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.209667] CPU: 1 UID: 0 PID: 3413 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.210339] Tainted: [D]=DIE, [W]=WARN
[   33.210563] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.211225] Call Trace:
[   33.211383]  <TASK>
[   33.211529]  dump_stack_lvl+0x121/0x150
[   33.211782]  ? do_task_dead+0x28/0x110
[   33.212025]  dump_stack+0x19/0x20
[   33.212247]  __schedule_bug+0x12d/0x180
[   33.212269] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#11] PREEMPT SMP KASAN NOPTI
[   33.212492]  __schedule+0x210c/0x2eb0
[   33.213176] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.213405]  ? rcu_is_watching+0x19/0xc0
[   33.213849] CPU: 0 UID: 0 PID: 3421 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.214074]  ? lock_release+0x592/0x870
[   33.214611] Tainted: [D]=DIE, [W]=WARN
[   33.214824]  ? __pfx___schedule+0x10/0x10
[   33.215050] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.215290]  ? debug_smp_processor_id+0x20/0x30
[   33.215931] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.216204]  ? rcu_is_watching+0x19/0xc0
[   33.216535] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.216760]  ? trace_irq_enable+0xe1/0x120
[   33.217792] RSP: 0018:ffff888012b177d8 EFLAGS: 00010202
[   33.218020]  ? do_task_dead+0x4a/0x110
[   33.218317] RAX: dffffc0000000000 RBX: ffffea00006976c0 RCX: ffffffff81b9e779
[   33.218527]  do_task_dead+0xe0/0x110
[   33.218953] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00006976d0
[   33.219152]  make_task_dead+0x384/0x3c0
[   33.219568] RBP: ffff888012b177f8 R08: 0000000000000000 R09: ffffed1002d3492c
[   33.219789]  rewind_stack_and_make_dead+0x16/0x20
[   33.220203] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.220467] RIP: 0033:0x7f8d0123ee5d
[   33.220888] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880169a4960
[   33.221091] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.221491] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.221816] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.222267] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.222665] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.223094] CR2: 00007f6157686000 CR3: 000000001687a003 CR4: 0000000000770ef0
[   33.223465] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.223906] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.224281] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.224719] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.225084] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.225489] PKRU: 55555554
[   33.225848] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.226008] Call Trace:
[   33.226376]  </TASK>
[   33.226492]  <TASK>
[   33.226754]  ? show_regs+0xa8/0xc0
[   33.226972]  ? die_addr+0x5d/0xf0
[   33.227184]  ? exc_general_protection+0x1ae/0x340
[   33.227482]  ? asm_exc_general_protection+0x2b/0x30
[   33.227792]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.228098]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.228407]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.228715]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.229038]  zap_huge_pmd+0x494/0xd40
[   33.229287]  unmap_page_range+0x1ad6/0x4320
[   33.229569]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.229898]  ? __pfx_unmap_page_range+0x10/0x10
[   33.230194]  unmap_single_vma+0x1ac/0x2d0
[   33.230446]  unmap_vmas+0x210/0x470
[   33.230674]  ? __pfx_unmap_vmas+0x10/0x10
[   33.230922]  ? __pfx_lock_release+0x10/0x10
[   33.231185]  ? lock_release+0x592/0x870
[   33.231426]  ? mas_next_slot+0x133a/0x1a50
[   33.231685]  ? __pfx_lock_release+0x10/0x10
[   33.231953]  ? mlock_drain_local+0x27f/0x4b0
[   33.232233]  exit_mmap+0x19e/0xb10
[   33.232464]  ? __pfx_exit_mmap+0x10/0x10
[   33.232726]  ? trace_hardirqs_on+0x51/0x60
[   33.232998]  ? __khugepaged_exit+0x266/0x4c0
[   33.233261]  ? kmem_cache_free+0x15d/0x420
[   33.233532]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.233871]  __mmput+0xd6/0x390
[   33.234095]  mmput+0x74/0x90
[   33.234279]  do_exit+0xa03/0x29f0
[   33.234496]  ? trace_hardirqs_on+0x51/0x60
[   33.234776]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.235157]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.235466]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.235770]  ? __pfx_do_exit+0x10/0x10
[   33.236016]  ? __audit_syscall_entry+0x39c/0x500
[   33.236316]  __x64_sys_exit+0x50/0x60
[   33.236558]  x64_sys_call+0x20c9/0x20d0
[   33.236807]  do_syscall_64+0x6d/0x140
[   33.237062]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.237357] RIP: 0033:0x7f8d0123ee5d
[   33.237580] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.237946] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.238500] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.238922] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.239358] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.239788] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.240206] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.240618]  </TASK>
[   33.240761] Modules linked in:
[   33.241149] ---[ end trace 0000000000000000 ]---
[   33.241422] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.241769] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.243007] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   33.243333] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   33.243877] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   33.244287] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   33.244683] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.245085] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   33.245491] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.245951] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.246287] CR2: 00007f6157686000 CR3: 000000001687a003 CR4: 0000000000770ef0
[   33.246682] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.247185] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.247726] PKRU: 55555554
[   33.247900] note: repro[3421] exited with preempt_count 1
[   33.248211] Fixing recursive fault but reboot is needed!
[   33.248517] BUG: scheduling while atomic: repro/3421/0x00000000
[   33.248860] INFO: lockdep is turned off.
[   33.249093] Modules linked in:
[   33.249288] Preemption disabled at:
[   33.249292] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.249837] CPU: 0 UID: 0 PID: 3421 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.250395] Tainted: [D]=DIE, [W]=WARN
[   33.250619] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.251275] Call Trace:
[   33.251417]  <TASK>
[   33.251553]  dump_stack_lvl+0x121/0x150
[   33.251801]  ? do_task_dead+0x28/0x110
[   33.252044]  dump_stack+0x19/0x20
[   33.252260]  __schedule_bug+0x12d/0x180
[   33.252506]  __schedule+0x210c/0x2eb0
[   33.252740]  ? rcu_is_watching+0x19/0xc0
[   33.252982]  ? lock_release+0x592/0x870
[   33.253216]  ? __pfx___schedule+0x10/0x10
[   33.253460]  ? debug_smp_processor_id+0x20/0x30
[   33.253737]  ? rcu_is_watching+0x19/0xc0
[   33.253991]  ? trace_irq_enable+0xe1/0x120
[   33.254256]  ? do_task_dead+0x4a/0x110
[   33.254502]  do_task_dead+0xe0/0x110
[   33.254731]  make_task_dead+0x384/0x3c0
[   33.254979]  rewind_stack_and_make_dead+0x16/0x20
[   33.255269] RIP: 0033:0x7f8d0123ee5d
[   33.255494] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.255852] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.256294] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.256709] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.257126] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.257541] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.257960] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.258387]  </TASK>
[   33.444225] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#12] PREEMPT SMP KASAN NOPTI
[   33.444750] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.445073] CPU: 0 UID: 0 PID: 3561 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.445474] Tainted: [D]=DIE, [W]=WARN
[   33.445641] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.446128] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.446388] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.447151] RSP: 0018:ffff888023a777d8 EFLAGS: 00010202
[   33.447401] RAX: dffffc0000000000 RBX: ffffea000046bb40 RCX: ffffffff81b9e779
[   33.447729] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000046bb50
[   33.448033] RBP: ffff888023a777f8 R08: 0000000000000000 R09: ffffed100381a230
[   33.448331] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.448628] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0d1180
[   33.448928] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.449265] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.449509] CR2: 00007fff00956878 CR3: 000000000ebaa001 CR4: 0000000000770ef0
[   33.449808] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.450111] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.450412] PKRU: 55555554
[   33.450533] Call Trace:
[   33.450644]  <TASK>
[   33.450744]  ? show_regs+0xa8/0xc0
[   33.450903]  ? die_addr+0x5d/0xf0
[   33.451062]  ? exc_general_protection+0x1ae/0x340
[   33.451278]  ? asm_exc_general_protection+0x2b/0x30
[   33.451517]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.451746]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.451977]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.452203]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.452428]  zap_huge_pmd+0x494/0xd40
[   33.452600]  unmap_page_range+0x1ad6/0x4320
[   33.452795]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.453023]  ? __pfx_unmap_page_range+0x10/0x10
[   33.453232]  unmap_single_vma+0x1ac/0x2d0
[   33.453416]  unmap_vmas+0x210/0x470
[   33.453587]  ? __pfx_unmap_vmas+0x10/0x10
[   33.453767]  ? __pfx_lock_release+0x10/0x10
[   33.453958]  ? lock_release+0x592/0x870
[   33.454130]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.454348]  ? __pfx_lock_release+0x10/0x10
[   33.454536]  ? mlock_drain_local+0x27f/0x4b0
[   33.454730]  exit_mmap+0x19e/0xb10
[   33.454891]  ? __pfx_exit_mmap+0x10/0x10
[   33.455076]  ? trace_hardirqs_on+0x51/0x60
[   33.455266]  ? __khugepaged_exit+0x266/0x4c0
[   33.455468]  ? kmem_cache_free+0x15d/0x420
[   33.455657]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.455893]  __mmput+0xd6/0x390
[   33.456043]  mmput+0x74/0x90
[   33.456179]  do_exit+0xa03/0x29f0
[   33.456334]  ? trace_hardirqs_on+0x51/0x60
[   33.456520]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.456788]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.457003]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.457216]  ? __pfx_do_exit+0x10/0x10
[   33.457390]  ? __audit_syscall_entry+0x39c/0x500
[   33.457596]  __x64_sys_exit+0x50/0x60
[   33.457765]  x64_sys_call+0x20c9/0x20d0
[   33.457939]  do_syscall_64+0x6d/0x140
[   33.458109]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.458335] RIP: 0033:0x7f8d0123ee5d
[   33.458501] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.458760] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.459083] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.459398] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.459736] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.460138] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.460522] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.460907]  </TASK>
[   33.461015] Modules linked in:
[   33.461280] ---[ end trace 0000000000000000 ]---
[   33.461508] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.461765] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.462531] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   33.462759] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   33.463138] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   33.463565] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   33.463871] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.464175] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   33.464475] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.464811] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.465063] CR2: 00007fff00956878 CR3: 000000000ebaa001 CR4: 0000000000770ef0
[   33.465363] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.465661] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.465963] PKRU: 55555554
[   33.466085] note: repro[3561] exited with preempt_count 1
[   33.466436] Fixing recursive fault but reboot is needed!
[   33.466785] BUG: scheduling while atomic: repro/3561/0x00000000
[   33.467179] INFO: lockdep is turned off.
[   33.467501] Modules linked in:
[   33.467685] Preemption disabled at:
[   33.467687] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.468164] CPU: 0 UID: 0 PID: 3561 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.468646] Tainted: [D]=DIE, [W]=WARN
[   33.468825] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.469333] Call Trace:
[   33.469453]  <TASK>
[   33.469560]  dump_stack_lvl+0x121/0x150
[   33.469740]  ? do_task_dead+0x28/0x110
[   33.469913]  dump_stack+0x19/0x20
[   33.470073]  __schedule_bug+0x12d/0x180
[   33.470249]  __schedule+0x210c/0x2eb0
[   33.470414]  ? rcu_is_watching+0x19/0xc0
[   33.470591]  ? lock_release+0x592/0x870
[   33.470765]  ? __pfx___schedule+0x10/0x10
[   33.470951]  ? debug_smp_processor_id+0x20/0x30
[   33.471154]  ? rcu_is_watching+0x19/0xc0
[   33.471339]  ? trace_irq_enable+0xe1/0x120
[   33.471531]  ? do_task_dead+0x4a/0x110
[   33.471706]  do_task_dead+0xe0/0x110
[   33.471872]  make_task_dead+0x384/0x3c0
[   33.472051]  rewind_stack_and_make_dead+0x16/0x20
[   33.472263] RIP: 0033:0x7f8d0123ee5d
[   33.472424] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.472684] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.473004] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.473302] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.473601] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.473899] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.474201] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.474507]  </TASK>
[   33.502520] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#13] PREEMPT SMP KASAN NOPTI
[   33.503042] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   33.503380] CPU: 0 UID: 0 PID: 3620 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.503779] Tainted: [D]=DIE, [W]=WARN
[   33.503948] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.504860] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.505355] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.506639] RSP: 0018:ffff88802005f7d8 EFLAGS: 00010202
[   33.506968] RAX: dffffc0000000000 RBX: ffffea0000691c40 RCX: ffffffff81b9e779
[   33.507420] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000691c50
[   33.507856] RBP: ffff88802005f7f8 R08: 0000000000000000 R09: ffffed100210c32c
[   33.508183] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   33.508485] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010861960
[   33.508794] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.509137] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.509407] CR2: 00007fff00956878 CR3: 000000002014a004 CR4: 0000000000770ef0
[   33.510039] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.510671] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.511318] PKRU: 55555554
[   33.511614] Call Trace:
[   33.511850]  <TASK>
[   33.512066]  ? show_regs+0xa8/0xc0
[   33.512401]  ? die_addr+0x5d/0xf0
[   33.512592]  ? exc_general_protection+0x1ae/0x340
[   33.512822]  ? asm_exc_general_protection+0x2b/0x30
[   33.513063]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   33.513368]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.513627]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   33.513882]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   33.514119]  zap_huge_pmd+0x494/0xd40
[   33.514296]  unmap_page_range+0x1ad6/0x4320
[   33.514595]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   33.515088]  ? __pfx_unmap_page_range+0x10/0x10
[   33.515578]  unmap_single_vma+0x1ac/0x2d0
[   33.515987]  unmap_vmas+0x210/0x470
[   33.516381]  ? __pfx_unmap_vmas+0x10/0x10
[   33.516922]  ? __pfx_lock_release+0x10/0x10
[   33.517484]  ? lock_release+0x592/0x870
[   33.517894]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   33.518385]  ? __pfx_lock_release+0x10/0x10
[   33.518796]  ? mlock_drain_local+0x27f/0x4b0
[   33.519236]  exit_mmap+0x19e/0xb10
[   33.519606]  ? __pfx_exit_mmap+0x10/0x10
[   33.519981]  ? trace_hardirqs_on+0x51/0x60
[   33.520175]  ? __khugepaged_exit+0x266/0x4c0
[   33.520372]  ? kmem_cache_free+0x15d/0x420
[   33.520561]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   33.520803]  __mmput+0xd6/0x390
[   33.520958]  mmput+0x74/0x90
[   33.521098]  do_exit+0xa03/0x29f0
[   33.521257]  ? trace_hardirqs_on+0x51/0x60
[   33.521444]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   33.521723]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   33.521942]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   33.522164]  ? __pfx_do_exit+0x10/0x10
[   33.522341]  ? __audit_syscall_entry+0x39c/0x500
[   33.522555]  __x64_sys_exit+0x50/0x60
[   33.522728]  x64_sys_call+0x20c9/0x20d0
[   33.522907]  do_syscall_64+0x6d/0x140
[   33.523085]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   33.523321] RIP: 0033:0x7f8d0123ee5d
[   33.523502] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.523771] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.524101] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.524410] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.524750] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.525098] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.525507] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.525895]  </TASK>
[   33.526007] Modules linked in:
[   33.526317] ---[ end trace 0000000000000000 ]---
[   33.526535] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   33.526796] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   33.528088] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   33.528581] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   33.529229] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   33.529875] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   33.530527] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   33.531171] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   33.532032] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   33.532767] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   33.533282] CR2: 00007fff00956878 CR3: 000000002014a004 CR4: 0000000000770ef0
[   33.533582] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   33.533881] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   33.534185] PKRU: 55555554
[   33.534307] note: repro[3620] exited with preempt_count 1
[   33.534538] Fixing recursive fault but reboot is needed!
[   33.534763] BUG: scheduling while atomic: repro/3620/0x00000000
[   33.535019] INFO: lockdep is turned off.
[   33.535188] Modules linked in:
[   33.535326] Preemption disabled at:
[   33.535328] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   33.535773] CPU: 0 UID: 0 PID: 3620 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   33.536177] Tainted: [D]=DIE, [W]=WARN
[   33.536345] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   33.536829] Call Trace:
[   33.536947]  <TASK>
[   33.537044]  dump_stack_lvl+0x121/0x150
[   33.537230]  ? do_task_dead+0x28/0x110
[   33.537405]  dump_stack+0x19/0x20
[   33.537564]  __schedule_bug+0x12d/0x180
[   33.537840]  __schedule+0x210c/0x2eb0
[   33.538264]  ? rcu_is_watching+0x19/0xc0
[   33.538777]  ? lock_release+0x592/0x870
[   33.539170]  ? __pfx___schedule+0x10/0x10
[   33.539562]  ? debug_smp_processor_id+0x20/0x30
[   33.540005]  ? rcu_is_watching+0x19/0xc0
[   33.540390]  ? trace_irq_enable+0xe1/0x120
[   33.540798]  ? do_task_dead+0x4a/0x110
[   33.541182]  do_task_dead+0xe0/0x110
[   33.541545]  make_task_dead+0x384/0x3c0
[   33.541928]  rewind_stack_and_make_dead+0x16/0x20
[   33.542312] RIP: 0033:0x7f8d0123ee5d
[   33.542586] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   33.543036] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   33.543585] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   33.544111] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   33.544686] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   33.545336] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   33.545853] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   33.546391]  </TASK>
[   34.018108] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#14] PREEMPT SMP KASAN NOPTI
[   34.019202] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.019945] CPU: 1 UID: 0 PID: 3940 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.020827] Tainted: [D]=DIE, [W]=WARN
[   34.021192] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.022233] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.022793] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.024442] RSP: 0018:ffff88802038f7d8 EFLAGS: 00010202
[   34.024930] RAX: dffffc0000000000 RBX: ffffea00007ce140 RCX: ffffffff81b9e779
[   34.025611] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007ce150
[   34.026257] RBP: ffff88802038f7f8 R08: 0000000000000000 R09: ffffed10038439b0
[   34.026923] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.027581] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c21cd80
[   34.028349] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.029358] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.029905] CR2: 00007f8d01615000 CR3: 000000001a422004 CR4: 0000000000770ef0
[   34.030580] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.031237] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.031901] PKRU: 55555554
[   34.032162] Call Trace:
[   34.032397]  <TASK>
[   34.032609]  ? show_regs+0xa8/0xc0
[   34.032961]  ? die_addr+0x5d/0xf0
[   34.033309]  ? exc_general_protection+0x1ae/0x340
[   34.033797]  ? asm_exc_general_protection+0x2b/0x30
[   34.034291]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.034785]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.035277]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.035787]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.036314]  zap_huge_pmd+0x494/0xd40
[   34.036688]  unmap_page_range+0x1ad6/0x4320
[   34.037119]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.037606]  ? __pfx_unmap_page_range+0x10/0x10
[   34.038055]  unmap_single_vma+0x1ac/0x2d0
[   34.038454]  unmap_vmas+0x210/0x470
[   34.038810]  ? __pfx_unmap_vmas+0x10/0x10
[   34.039205]  ? __pfx_lock_release+0x10/0x10
[   34.039616]  ? lock_release+0x592/0x870
[   34.040006]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.040495]  ? __pfx_lock_release+0x10/0x10
[   34.040911]  ? mlock_drain_local+0x27f/0x4b0
[   34.041348]  exit_mmap+0x19e/0xb10
[   34.041698]  ? __pfx_exit_mmap+0x10/0x10
[   34.042116]  ? trace_hardirqs_on+0x51/0x60
[   34.042544]  ? __khugepaged_exit+0x266/0x4c0
[   34.042965]  ? kmem_cache_free+0x15d/0x420
[   34.043377]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.043890]  __mmput+0xd6/0x390
[   34.044211]  mmput+0x74/0x90
[   34.044509]  do_exit+0xa03/0x29f0
[   34.044847]  ? trace_hardirqs_on+0x51/0x60
[   34.045255]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.045831]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.046323]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.046808]  ? __pfx_do_exit+0x10/0x10
[   34.047205]  ? __audit_syscall_entry+0x39c/0x500
[   34.047659]  __x64_sys_exit+0x50/0x60
[   34.048055]  x64_sys_call+0x20c9/0x20d0
[   34.048440]  do_syscall_64+0x6d/0x140
[   34.048816]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.049303] RIP: 0033:0x7f8d0123ee5d
[   34.049648] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.050221] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.050930] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.051591] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.052242] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.052910] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.053556] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.054222]  </TASK>
[   34.054451] Modules linked in:
[   34.054861] ---[ end trace 0000000000000000 ]---
[   34.055321] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.056150] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.058171] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   34.058672] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   34.059334] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   34.060009] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   34.060666] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.061314] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   34.061970] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.062864] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.063592] CR2: 00007f8d01615000 CR3: 000000001a422004 CR4: 0000000000770ef0
[   34.064835] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.065645] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.066304] PKRU: 55555554
[   34.066570] note: repro[3940] exited with preempt_count 1
[   34.067155] Fixing recursive fault but reboot is needed!
[   34.067669] BUG: scheduling while atomic: repro/3940/0x00000000
[   34.068232] INFO: lockdep is turned off.
[   34.068612] Modules linked in:
[   34.068929] Preemption disabled at:
[   34.068938] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   34.069788] CPU: 1 UID: 0 PID: 3940 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.070664] Tainted: [D]=DIE, [W]=WARN
[   34.071043] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.072072] Call Trace:
[   34.072316]  <TASK>
[   34.072536]  dump_stack_lvl+0x121/0x150
[   34.072945]  ? do_task_dead+0x28/0x110
[   34.073342]  dump_stack+0x19/0x20
[   34.073701]  __schedule_bug+0x12d/0x180
[   34.074088]  __schedule+0x210c/0x2eb0
[   34.074456]  ? rcu_is_watching+0x19/0xc0
[   34.074842]  ? lock_release+0x592/0x870
[   34.075224]  ? __pfx___schedule+0x10/0x10
[   34.075617]  ? debug_smp_processor_id+0x20/0x30
[   34.076059]  ? rcu_is_watching+0x19/0xc0
[   34.076450]  ? trace_irq_enable+0xe1/0x120
[   34.076859]  ? do_task_dead+0x4a/0x110
[   34.077257]  do_task_dead+0xe0/0x110
[   34.077632]  make_task_dead+0x384/0x3c0
[   34.078020]  rewind_stack_and_make_dead+0x16/0x20
[   34.078472] RIP: 0033:0x7f8d0123ee5d
[   34.078817] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.079413] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.080135] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.080787] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.081452] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.082102] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.083014] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.083715]  </TASK>
[   34.592630] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#15] PREEMPT SMP KASAN NOPTI
[   34.593760] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.594670] CPU: 1 UID: 0 PID: 4242 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.595807] Tainted: [D]=DIE, [W]=WARN
[   34.596270] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.597621] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.598343] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.600530] RSP: 0018:ffff8880162377d8 EFLAGS: 00010202
[   34.601168] RAX: dffffc0000000000 RBX: ffffea0000502940 RCX: ffffffff81b9e779
[   34.602022] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000502950
[   34.602871] RBP: ffff8880162377f8 R08: 0000000000000000 R09: ffffed1001f50a84
[   34.603725] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   34.604578] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800fa85420
[   34.605430] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.606392] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.607089] CR2: 00007f8d01615000 CR3: 00000000109f2006 CR4: 0000000000770ef0
[   34.607949] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.608798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.609649] PKRU: 55555554
[   34.609991] Call Trace:
[   34.610301]  <TASK>
[   34.610574]  ? show_regs+0xa8/0xc0
[   34.611020]  ? die_addr+0x5d/0xf0
[   34.611450]  ? exc_general_protection+0x1ae/0x340
[   34.612048]  ? asm_exc_general_protection+0x2b/0x30
[   34.612686]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.613322]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.613961]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.614596]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.615234]  zap_huge_pmd+0x494/0xd40
[   34.615707]  unmap_page_range+0x1ad6/0x4320
[   34.616235]  ? __pfx_lock_release+0x10/0x10
[   34.616753]  ? do_raw_spin_trylock+0xbf/0x190
[   34.617306]  ? __kasan_check_read+0x15/0x20
[   34.617835]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.618464]  ? __pfx_unmap_page_range+0x10/0x10
[   34.619044]  unmap_single_vma+0x1ac/0x2d0
[   34.619556]  unmap_vmas+0x210/0x470
[   34.620013]  ? __pfx_unmap_vmas+0x10/0x10
[   34.620516]  ? __pfx_lock_release+0x10/0x10
[   34.621050]  ? lock_release+0x592/0x870
[   34.621529]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   34.622140]  ? __pfx_lock_release+0x10/0x10
[   34.622655]  ? mlock_drain_local+0x27f/0x4b0
[   34.623176]  exit_mmap+0x19e/0xb10
[   34.623591]  ? __pfx_exit_mmap+0x10/0x10
[   34.624073]  ? trace_hardirqs_on+0x51/0x60
[   34.624570]  ? __khugepaged_exit+0x266/0x4c0
[   34.625081]  ? kmem_cache_free+0x15d/0x420
[   34.625571]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.626202]  __mmput+0xd6/0x390
[   34.626586]  mmput+0x74/0x90
[   34.626945]  do_exit+0xa03/0x29f0
[   34.627399]  ? trace_hardirqs_on+0x51/0x60
[   34.627889]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.628608]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.629179]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.629743]  ? __pfx_do_exit+0x10/0x10
[   34.630197]  ? __audit_syscall_entry+0x39c/0x500
[   34.630745]  __x64_sys_exit+0x50/0x60
[   34.631194]  x64_sys_call+0x20c9/0x20d0
[   34.631648]  do_syscall_64+0x6d/0x140
[   34.632083]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.632643] RIP: 0033:0x7f8d0123ee5d
[   34.633047] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.633707] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.634525] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.635296] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.636063] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.636828] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.637595] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.638376]  </TASK>
[   34.638628] Modules linked in:
[   34.639011] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#16] PREEMPT SMP KASAN NOPTI
[   34.639181] ---[ end trace 0000000000000000 ]---
[   34.640143] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   34.640160] CPU: 0 UID: 0 PID: 4261 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.640185] Tainted: [D]=DIE, [W]=WARN
[   34.640190] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.640201] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.640229] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.640713] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.641396] RSP: 0018:ffff8880112877d8 EFLAGS: 00010202
[   34.642353] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.642704] 
[   34.643872] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   34.644372] RAX: dffffc0000000000 RBX: ffffea00007ac9c0 RCX: ffffffff81b9e779
[   34.646214] 
[   34.646219] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   34.646733] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007ac9d0
[   34.647247] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   34.648929] RBP: ffff8880112877f8 R08: 0000000000000000 R09: ffffed1002d195ec
[   34.648954] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   34.649117] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   34.649584] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880168caf60
[   34.650425] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.650578] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   34.651398] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   34.652021] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.652767] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   34.653397] CR2: 00007f8d0129bc20 CR3: 0000000020de0002 CR4: 0000000000770ef0
[   34.654117] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.654765] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.655445] CR2: 00007f8d01615000 CR3: 00000000109f2006 CR4: 0000000000770ef0
[   34.656096] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.656923] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.657601] PKRU: 55555554
[   34.658223] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.658987] Call Trace:
[   34.658995]  <TASK>
[   34.659006]  ? show_regs+0xa8/0xc0
[   34.659865] PKRU: 55555554
[   34.660371]  ? die_addr+0x5d/0xf0
[   34.661267] note: repro[4242] exited with preempt_count 1
[   34.661899]  ? exc_general_protection+0x1ae/0x340
[   34.662535] Fixing recursive fault but reboot is needed!
[   34.663175]  ? asm_exc_general_protection+0x2b/0x30
[   34.663434] check_preemption_disabled: 4 callbacks suppressed
[   34.663443] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4242
[   34.664052]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   34.664278] caller is debug_smp_processor_id+0x20/0x30
[   34.664488]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.664821] CPU: 1 UID: 0 PID: 4242 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.665062]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   34.665374] Tainted: [D]=DIE, [W]=WARN
[   34.665851]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   34.666262] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.666733]  zap_huge_pmd+0x494/0xd40
[   34.667156] Call Trace:
[   34.667673]  unmap_page_range+0x1ad6/0x4320
[   34.668334]  <TASK>
[   34.668808]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   34.669243]  dump_stack_lvl+0x121/0x150
[   34.669703]  ? __pfx_unmap_page_range+0x10/0x10
[   34.670662]  dump_stack+0x19/0x20
[   34.671130]  unmap_single_vma+0x1ac/0x2d0
[   34.671440]  check_preemption_disabled+0x168/0x180
[   34.671901]  unmap_vmas+0x210/0x470
[   34.672834]  debug_smp_processor_id+0x20/0x30
[   34.673174]  ? __pfx_unmap_vmas+0x10/0x10
[   34.673382]  __schedule+0x9a/0x2eb0
[   34.673758]  ? __pfx_lock_release+0x10/0x10
[   34.674033]  ? rcu_is_watching+0x19/0xc0
[   34.674482]  ? lock_release+0x592/0x870
[   34.674805]  ? lock_release+0x592/0x870
[   34.675212]  ? mas_next_slot+0x133a/0x1a50
[   34.675493]  ? __pfx___schedule+0x10/0x10
[   34.675855]  ? __pfx_lock_release+0x10/0x10
[   34.676273]  ? debug_smp_processor_id+0x20/0x30
[   34.676594]  ? mlock_drain_local+0x27f/0x4b0
[   34.676963]  ? rcu_is_watching+0x19/0xc0
[   34.677333]  exit_mmap+0x19e/0xb10
[   34.677611]  ? trace_irq_enable+0xe1/0x120
[   34.677994]  ? __pfx_exit_mmap+0x10/0x10
[   34.678310]  ? do_task_dead+0x4a/0x110
[   34.678673]  ? trace_hardirqs_on+0x51/0x60
[   34.678981]  do_task_dead+0xe0/0x110
[   34.679362]  ? __khugepaged_exit+0x266/0x4c0
[   34.679679]  make_task_dead+0x384/0x3c0
[   34.680061]  ? kmem_cache_free+0x15d/0x420
[   34.680429]  rewind_stack_and_make_dead+0x16/0x20
[   34.680820]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   34.681223] RIP: 0033:0x7f8d0123ee5d
[   34.681545]  __mmput+0xd6/0x390
[   34.681967] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.682328]  mmput+0x74/0x90
[   34.682713] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   34.683107]  do_exit+0xa03/0x29f0
[   34.683476]  ORIG_RAX: 000000000000003c
[   34.683888]  ? trace_hardirqs_on+0x51/0x60
[   34.684284] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.684675]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   34.685086] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.685568]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   34.685881] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.686179]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   34.686639] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.686913]  ? __pfx_do_exit+0x10/0x10
[   34.687304] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.687612]  ? __audit_syscall_entry+0x39c/0x500
[   34.687911]  </TASK>
[   34.688280]  __x64_sys_exit+0x50/0x60
[   34.694286]  x64_sys_call+0x20c9/0x20d0
[   34.694674]  do_syscall_64+0x6d/0x140
[   34.695053]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   34.695528] RIP: 0033:0x7f8d0123ee5d
[   34.695867] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.696421] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.697108] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.697746] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.698391] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.699034] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.699674] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.700337]  </TASK>
[   34.700553] Modules linked in:
[   34.701046] ---[ end trace 0000000000000000 ]---
[   34.701480] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   34.702023] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   34.703908] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   34.704408] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   34.705076] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   34.705734] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   34.706396] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   34.707052] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   34.707727] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   34.708468] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   34.709007] CR2: 00007f8d0129bc20 CR3: 0000000020de0002 CR4: 0000000000770ef0
[   34.709669] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   34.710335] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   34.710995] PKRU: 55555554
[   34.711261] note: repro[4261] exited with preempt_count 1
[   34.711795] Fixing recursive fault but reboot is needed!
[   34.712299] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4261
[   34.713014] caller is debug_smp_processor_id+0x20/0x30
[   34.713509] CPU: 0 UID: 0 PID: 4261 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.714383] Tainted: [D]=DIE, [W]=WARN
[   34.714737] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.715762] Call Trace:
[   34.716003]  <TASK>
[   34.716214]  dump_stack_lvl+0x121/0x150
[   34.716600]  dump_stack+0x19/0x20
[   34.716951]  check_preemption_disabled+0x168/0x180
[   34.717419]  debug_smp_processor_id+0x20/0x30
[   34.717828]  __schedule+0x9a/0x2eb0
[   34.718176]  ? rcu_is_watching+0x19/0xc0
[   34.718553]  ? lock_release+0x592/0x870
[   34.718920]  ? __pfx___schedule+0x10/0x10
[   34.719317]  ? debug_smp_processor_id+0x20/0x30
[   34.719750]  ? rcu_is_watching+0x19/0xc0
[   34.720133]  ? trace_irq_enable+0xe1/0x120
[   34.720556]  ? do_task_dead+0x4a/0x110
[   34.720933]  do_task_dead+0xe0/0x110
[   34.721300]  make_task_dead+0x384/0x3c0
[   34.721679]  rewind_stack_and_make_dead+0x16/0x20
[   34.722140] RIP: 0033:0x7f8d0123ee5d
[   34.722494] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.723068] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.723768] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.724429] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.725088] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.725732] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.726377] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.727047]  </TASK>
[   34.727304] BUG: scheduling while atomic: repro/4261/0x00000000
[   34.727879] INFO: lockdep is turned off.
[   34.728248] Modules linked in:
[   34.728546] Preemption disabled at:
[   34.728551] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   34.729371] systemd-journald[148]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   34.729385] CPU: 0 UID: 0 PID: 4261 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   34.731261] systemd-journald[148]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   34.732088] Tainted: [D]=DIE, [W]=WARN
[   34.732094] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   34.732104] Call Trace:
[   34.732110]  <TASK>
[   34.732117]  dump_stack_lvl+0x121/0x150
[   34.735676]  ? do_task_dead+0x28/0x110
[   34.736059]  dump_stack+0x19/0x20
[   34.736399]  __schedule_bug+0x12d/0x180
[   34.736779]  __schedule+0x210c/0x2eb0
[   34.737149]  ? rcu_is_watching+0x19/0xc0
[   34.737530]  ? lock_release+0x592/0x870
[   34.737901]  ? __pfx___schedule+0x10/0x10
[   34.738290]  ? debug_smp_processor_id+0x20/0x30
[   34.738725]  ? rcu_is_watching+0x19/0xc0
[   34.739105]  ? trace_irq_enable+0xe1/0x120
[   34.739507]  ? do_task_dead+0x4a/0x110
[   34.739881]  do_task_dead+0xe0/0x110
[   34.740256]  make_task_dead+0x384/0x3c0
[   34.740638]  rewind_stack_and_make_dead+0x16/0x20
[   34.741088] RIP: 0033:0x7f8d0123ee5d
[   34.741430] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   34.741996] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   34.742690] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   34.743347] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   34.743998] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   34.744653] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   34.745326] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   34.746000]  </TASK>
[   35.331738] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#17] PREEMPT SMP KASAN NOPTI
[   35.332940] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   35.333627] CPU: 1 UID: 0 PID: 4577 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   35.334492] Tainted: [D]=DIE, [W]=WARN
[   35.334844] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.335862] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.336410] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.338062] RSP: 0018:ffff88801e9c77d8 EFLAGS: 00010202
[   35.338549] RAX: dffffc0000000000 RBX: ffffea000083d9c0 RCX: ffffffff81b9e779
[   35.339203] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000083d9d0
[   35.339855] RBP: ffff88801e9c77f8 R08: 0000000000000000 R09: ffffed10026ff060
[   35.340501] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   35.341146] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880137f8300
[   35.341793] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   35.342531] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.343065] CR2: 00007f8d015e0658 CR3: 000000001f31e001 CR4: 0000000000770ef0
[   35.343720] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.344370] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.345011] PKRU: 55555554
[   35.345276] Call Trace:
[   35.345514]  <TASK>
[   35.345727]  ? show_regs+0xa8/0xc0
[   35.346072]  ? die_addr+0x5d/0xf0
[   35.346409]  ? exc_general_protection+0x1ae/0x340
[   35.346876]  ? asm_exc_general_protection+0x2b/0x30
[   35.347350]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   35.347840]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.348344]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   35.348831]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   35.349327]  zap_huge_pmd+0x494/0xd40
[   35.349699]  unmap_page_range+0x1ad6/0x4320
[   35.350127]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   35.350606]  ? __pfx_unmap_page_range+0x10/0x10
[   35.351062]  unmap_single_vma+0x1ac/0x2d0
[   35.351453]  unmap_vmas+0x210/0x470
[   35.351804]  ? __pfx_unmap_vmas+0x10/0x10
[   35.352194]  ? __pfx_lock_release+0x10/0x10
[   35.352592]  ? lock_release+0x592/0x870
[   35.352960]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   35.353419]  ? __pfx_lock_release+0x10/0x10
[   35.353834]  ? mlock_drain_local+0x27f/0x4b0
[   35.354259]  exit_mmap+0x19e/0xb10
[   35.354601]  ? __pfx_exit_mmap+0x10/0x10
[   35.354991]  ? trace_hardirqs_on+0x51/0x60
[   35.355404]  ? __khugepaged_exit+0x266/0x4c0
[   35.355820]  ? kmem_cache_free+0x15d/0x420
[   35.356225]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   35.356735]  __mmput+0xd6/0x390
[   35.357054]  mmput+0x74/0x90
[   35.357346]  do_exit+0xa03/0x29f0
[   35.357675]  ? trace_hardirqs_on+0x51/0x60
[   35.358079]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   35.358658]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   35.359127]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   35.359582]  ? __pfx_do_exit+0x10/0x10
[   35.359958]  ? __audit_syscall_entry+0x39c/0x500
[   35.360411]  __x64_sys_exit+0x50/0x60
[   35.360774]  x64_sys_call+0x20c9/0x20d0
[   35.361149]  do_syscall_64+0x6d/0x140
[   35.361518]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   35.361996] RIP: 0033:0x7f8d0123ee5d
[   35.362339] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   35.362900] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.363601] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   35.364247] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.364899] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   35.365541] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   35.366200] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   35.366866]  </TASK>
[   35.367086] Modules linked in:
[   35.367625] ---[ end trace 0000000000000000 ]---
[   35.368070] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   35.368816] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   35.370520] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   35.371013] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   35.371863] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   35.372539] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   35.373199] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   35.373870] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   35.374529] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   35.375270] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   35.375833] CR2: 00007f8d015e0658 CR3: 000000001f31e001 CR4: 0000000000770ef0
[   35.376523] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   35.377188] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   35.377845] PKRU: 55555554
[   35.378117] note: repro[4577] exited with preempt_count 1
[   35.378632] Fixing recursive fault but reboot is needed!
[   35.379119] BUG: using smp_processor_id() in preemptible [00000000] code: repro/4577
[   35.379861] caller is debug_smp_processor_id+0x20/0x30
[   35.380354] CPU: 1 UID: 0 PID: 4577 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   35.381232] Tainted: [D]=DIE, [W]=WARN
[   35.381599] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.382643] Call Trace:
[   35.382888]  <TASK>
[   35.383112]  dump_stack_lvl+0x121/0x150
[   35.383503]  dump_stack+0x19/0x20
[   35.383843]  check_preemption_disabled+0x168/0x180
[   35.384313]  debug_smp_processor_id+0x20/0x30
[   35.384749]  __schedule+0x9a/0x2eb0
[   35.385104]  ? rcu_is_watching+0x19/0xc0
[   35.385494]  ? lock_release+0x592/0x870
[   35.385874]  ? __pfx___schedule+0x10/0x10
[   35.386268]  ? debug_smp_processor_id+0x20/0x30
[   35.386708]  ? rcu_is_watching+0x19/0xc0
[   35.387090]  ? trace_irq_enable+0xe1/0x120
[   35.387502]  ? do_task_dead+0x4a/0x110
[   35.387876]  do_task_dead+0xe0/0x110
[   35.388235]  make_task_dead+0x384/0x3c0
[   35.388615]  rewind_stack_and_make_dead+0x16/0x20
[   35.389076] RIP: 0033:0x7f8d0123ee5d
[   35.389423] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   35.389991] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.390695] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   35.391368] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.392049] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   35.392709] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   35.393377] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   35.394053]  </TASK>
[   35.394350] BUG: scheduling while atomic: repro/4577/0x00000000
[   35.394926] INFO: lockdep is turned off.
[   35.395291] Modules linked in:
[   35.395571] Preemption disabled at:
[   35.395576] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   35.396324] CPU: 1 UID: 0 PID: 4577 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   35.397091] Tainted: [D]=DIE, [W]=WARN
[   35.397398] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   35.398294] Call Trace:
[   35.398503]  <TASK>
[   35.398714]  dump_stack_lvl+0x121/0x150
[   35.399101]  ? do_task_dead+0x28/0x110
[   35.399477]  dump_stack+0x19/0x20
[   35.399816]  __schedule_bug+0x12d/0x180
[   35.400210]  __schedule+0x210c/0x2eb0
[   35.400569]  ? rcu_is_watching+0x19/0xc0
[   35.400954]  ? lock_release+0x592/0x870
[   35.401339]  ? __pfx___schedule+0x10/0x10
[   35.401739]  ? debug_smp_processor_id+0x20/0x30
[   35.402192]  ? rcu_is_watching+0x19/0xc0
[   35.402572]  ? trace_irq_enable+0xe1/0x120
[   35.402983]  ? do_task_dead+0x4a/0x110
[   35.403366]  do_task_dead+0xe0/0x110
[   35.403731]  make_task_dead+0x384/0x3c0
[   35.404124]  rewind_stack_and_make_dead+0x16/0x20
[   35.404573] RIP: 0033:0x7f8d0123ee5d
[   35.404921] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   35.405498] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   35.406196] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   35.406854] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   35.407522] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   35.408171] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   35.408839] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   35.409509]  </TASK>
[   36.583786] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#18] PREEMPT SMP KASAN NOPTI
[   36.584915] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.585612] CPU: 0 UID: 0 PID: 5275 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   36.586479] Tainted: [D]=DIE, [W]=WARN
[   36.586829] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.587842] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.588390] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.590034] RSP: 0018:ffff88800e7cf7d8 EFLAGS: 00010202
[   36.590517] RAX: dffffc0000000000 RBX: ffffea00004c9600 RCX: ffffffff81b9e779
[   36.591165] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004c9610
[   36.591812] RBP: ffff88800e7cf7f8 R08: 0000000000000000 R09: ffffed1003852cf0
[   36.592464] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.593108] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c296780
[   36.593747] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.594482] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.595016] CR2: 00007f8d01605fa8 CR3: 000000001a5e6002 CR4: 0000000000770ef0
[   36.595666] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.596335] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.596986] PKRU: 55555554
[   36.597247] Call Trace:
[   36.597487]  <TASK>
[   36.597698]  ? show_regs+0xa8/0xc0
[   36.598042]  ? die_addr+0x5d/0xf0
[   36.598381]  ? exc_general_protection+0x1ae/0x340
[   36.598856]  ? asm_exc_general_protection+0x2b/0x30
[   36.599341]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.599836]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.600329]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.600832]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.601327]  zap_huge_pmd+0x494/0xd40
[   36.601696]  unmap_page_range+0x1ad6/0x4320
[   36.602122]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.602618]  ? __pfx_unmap_page_range+0x10/0x10
[   36.603073]  unmap_single_vma+0x1ac/0x2d0
[   36.603476]  unmap_vmas+0x210/0x470
[   36.603832]  ? __pfx_unmap_vmas+0x10/0x10
[   36.604226]  ? __pfx_lock_release+0x10/0x10
[   36.604625]  ? lock_release+0x592/0x870
[   36.605000]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   36.605480]  ? __pfx_lock_release+0x10/0x10
[   36.605893]  ? mlock_drain_local+0x27f/0x4b0
[   36.606314]  exit_mmap+0x19e/0xb10
[   36.606661]  ? __pfx_exit_mmap+0x10/0x10
[   36.607055]  ? trace_hardirqs_on+0x51/0x60
[   36.607462]  ? __khugepaged_exit+0x266/0x4c0
[   36.607876]  ? kmem_cache_free+0x15d/0x420
[   36.608283]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.608799]  __mmput+0xd6/0x390
[   36.609116]  mmput+0x74/0x90
[   36.609409]  do_exit+0xa03/0x29f0
[   36.609740]  ? trace_hardirqs_on+0x51/0x60
[   36.610143]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.610718]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.611178]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.611681]  ? __pfx_do_exit+0x10/0x10
[   36.612109]  ? __audit_syscall_entry+0x39c/0x500
[   36.612563]  __x64_sys_exit+0x50/0x60
[   36.612929]  x64_sys_call+0x20c9/0x20d0
[   36.613307]  do_syscall_64+0x6d/0x140
[   36.613672]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.614157] RIP: 0033:0x7f8d0123ee5d
[   36.614505] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   36.615063] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.615781] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   36.616446] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.617100] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   36.617755] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   36.618416] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   36.619099]  </TASK>
[   36.619328] Modules linked in:
[   36.619895] ---[ end trace 0000000000000000 ]---
[   36.620334] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.620888] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.622550] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   36.623055] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   36.623846] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   36.624586] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   36.625264] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.625928] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   36.626602] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.627340] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.627895] CR2: 00007f8d01605fa8 CR3: 000000001a5e6002 CR4: 0000000000770ef0
[   36.628556] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.629216] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.629877] PKRU: 55555554
[   36.630143] note: repro[5275] exited with preempt_count 1
[   36.630651] Fixing recursive fault but reboot is needed!
[   36.631156] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5275
[   36.631969] caller is debug_smp_processor_id+0x20/0x30
[   36.632457] CPU: 0 UID: 0 PID: 5275 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   36.633330] Tainted: [D]=DIE, [W]=WARN
[   36.633682] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.634702] Call Trace:
[   36.634945]  <TASK>
[   36.635156]  dump_stack_lvl+0x121/0x150
[   36.635552]  dump_stack+0x19/0x20
[   36.635886]  check_preemption_disabled+0x168/0x180
[   36.636347]  debug_smp_processor_id+0x20/0x30
[   36.636771]  __schedule+0x9a/0x2eb0
[   36.637117]  ? rcu_is_watching+0x19/0xc0
[   36.637505]  ? lock_release+0x592/0x870
[   36.637879]  ? __pfx___schedule+0x10/0x10
[   36.638278]  ? debug_smp_processor_id+0x20/0x30
[   36.638719]  ? rcu_is_watching+0x19/0xc0
[   36.639109]  ? trace_irq_enable+0xe1/0x120
[   36.639516]  ? do_task_dead+0x4a/0x110
[   36.639890]  do_task_dead+0xe0/0x110
[   36.640255]  make_task_dead+0x384/0x3c0
[   36.640639]  rewind_stack_and_make_dead+0x16/0x20
[   36.641087] RIP: 0033:0x7f8d0123ee5d
[   36.641435] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   36.642011] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.642704] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   36.643355] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.644024] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   36.644682] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   36.645344] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   36.646010]  </TASK>
[   36.646378] BUG: scheduling while atomic: repro/5275/0x00000000
[   36.646941] INFO: lockdep is turned off.
[   36.647310] Modules linked in:
[   36.647624] Preemption disabled at:
[   36.647629] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   36.648398] CPU: 0 UID: 0 PID: 5275 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   36.649200] Tainted: [D]=DIE, [W]=WARN
[   36.649530] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.650482] Call Trace:
[   36.650706]  <TASK>
[   36.650899]  dump_stack_lvl+0x121/0x150
[   36.651269]  ? do_task_dead+0x28/0x110
[   36.651621]  dump_stack+0x19/0x20
[   36.651926]  __schedule_bug+0x12d/0x180
[   36.652277]  __schedule+0x210c/0x2eb0
[   36.652604]  ? rcu_is_watching+0x19/0xc0
[   36.652957]  ? lock_release+0x592/0x870
[   36.653338]  ? __pfx___schedule+0x10/0x10
[   36.653725]  ? debug_smp_processor_id+0x20/0x30
[   36.654167]  ? rcu_is_watching+0x19/0xc0
[   36.654557]  ? trace_irq_enable+0xe1/0x120
[   36.654976]  ? do_task_dead+0x4a/0x110
[   36.655355]  do_task_dead+0xe0/0x110
[   36.655715]  make_task_dead+0x384/0x3c0
[   36.656112]  rewind_stack_and_make_dead+0x16/0x20
[   36.656568] RIP: 0033:0x7f8d0123ee5d
[   36.656919] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   36.657488] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.658126] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   36.658691] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.659260] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   36.659829] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   36.660407] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   36.660987]  </TASK>
[   36.846126] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#19] PREEMPT SMP KASAN NOPTI
[   36.847260] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   36.847961] CPU: 0 UID: 0 PID: 5383 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   36.848832] Tainted: [D]=DIE, [W]=WARN
[   36.849188] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.850210] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.850762] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.852550] RSP: 0018:ffff8880203a77d8 EFLAGS: 00010202
[   36.853077] RAX: dffffc0000000000 RBX: ffffea000051f7c0 RCX: ffffffff81b9e779
[   36.853771] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000051f7d0
[   36.854467] RBP: ffff8880203a77f8 R08: 0000000000000000 R09: ffffed100220cca8
[   36.855167] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   36.855867] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011066540
[   36.856554] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.857292] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.857831] CR2: 00007f8d015dfef8 CR3: 0000000020c3e006 CR4: 0000000000770ef0
[   36.858492] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.859150] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.859800] PKRU: 55555554
[   36.860068] Call Trace:
[   36.860311]  <TASK>
[   36.860529]  ? show_regs+0xa8/0xc0
[   36.860877]  ? die_addr+0x5d/0xf0
[   36.861214]  ? exc_general_protection+0x1ae/0x340
[   36.861699]  ? asm_exc_general_protection+0x2b/0x30
[   36.862187]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   36.862682]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.863179]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   36.863680]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   36.864170]  zap_huge_pmd+0x494/0xd40
[   36.864544]  unmap_page_range+0x1ad6/0x4320
[   36.864972]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   36.865460]  ? __pfx_unmap_page_range+0x10/0x10
[   36.865914]  unmap_single_vma+0x1ac/0x2d0
[   36.866438]  unmap_vmas+0x210/0x470
[   36.866813]  ? __pfx_unmap_vmas+0x10/0x10
[   36.867215]  ? __pfx_lock_release+0x10/0x10
[   36.867617]  ? lock_release+0x592/0x870
[   36.867985]  ? mas_next_slot+0x133a/0x1a50
[   36.868378]  ? __pfx_lock_release+0x10/0x10
[   36.868766]  ? mlock_drain_local+0x27f/0x4b0
[   36.869175]  exit_mmap+0x19e/0xb10
[   36.869506]  ? __pfx_exit_mmap+0x10/0x10
[   36.869883]  ? trace_hardirqs_on+0x51/0x60
[   36.870285]  ? __khugepaged_exit+0x266/0x4c0
[   36.870694]  ? kmem_cache_free+0x15d/0x420
[   36.871093]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   36.871605]  __mmput+0xd6/0x390
[   36.871915]  mmput+0x74/0x90
[   36.872195]  do_exit+0xa03/0x29f0
[   36.872522]  ? trace_hardirqs_on+0x51/0x60
[   36.872916]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   36.873484]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   36.873928]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   36.874352]  ? __pfx_do_exit+0x10/0x10
[   36.874688]  ? __audit_syscall_entry+0x39c/0x500
[   36.875102]  __x64_sys_exit+0x50/0x60
[   36.875434]  x64_sys_call+0x20c9/0x20d0
[   36.875782]  do_syscall_64+0x6d/0x140
[   36.876142]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   36.876587] RIP: 0033:0x7f8d0123ee5d
[   36.876909] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   36.877428] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.878070] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   36.878671] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.879271] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   36.879907] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   36.880630] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   36.881245]  </TASK>
[   36.881445] Modules linked in:
[   36.881977] ---[ end trace 0000000000000000 ]---
[   36.882376] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   36.882892] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   36.884683] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   36.885217] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   36.885876] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   36.886531] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   36.887185] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   36.887858] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   36.888529] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   36.889284] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   36.889836] CR2: 00007f8d015dfef8 CR3: 0000000020c3e006 CR4: 0000000000770ef0
[   36.890488] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   36.891148] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   36.891824] PKRU: 55555554
[   36.892095] note: repro[5383] exited with preempt_count 1
[   36.892596] Fixing recursive fault but reboot is needed!
[   36.893098] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5383
[   36.893821] caller is debug_smp_processor_id+0x20/0x30
[   36.894322] CPU: 0 UID: 0 PID: 5383 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   36.895184] Tainted: [D]=DIE, [W]=WARN
[   36.895551] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.896590] Call Trace:
[   36.896834]  <TASK>
[   36.897051]  dump_stack_lvl+0x121/0x150
[   36.897437]  dump_stack+0x19/0x20
[   36.897774]  check_preemption_disabled+0x168/0x180
[   36.898239]  debug_smp_processor_id+0x20/0x30
[   36.898663]  __schedule+0x9a/0x2eb0
[   36.899008]  ? rcu_is_watching+0x19/0xc0
[   36.899401]  ? lock_release+0x592/0x870
[   36.899783]  ? __pfx___schedule+0x10/0x10
[   36.900185]  ? debug_smp_processor_id+0x20/0x30
[   36.900623]  ? rcu_is_watching+0x19/0xc0
[   36.901009]  ? trace_irq_enable+0xe1/0x120
[   36.901414]  ? do_task_dead+0x4a/0x110
[   36.901797]  do_task_dead+0xe0/0x110
[   36.902163]  make_task_dead+0x384/0x3c0
[   36.902548]  rewind_stack_and_make_dead+0x16/0x20
[   36.903222] RIP: 0033:0x7f8d0123ee5d
[   36.903572] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   36.904143] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.904942] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   36.905671] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.906333] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   36.906982] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   36.907639] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   36.908379]  </TASK>
[   36.908740] BUG: scheduling while atomic: repro/5383/0x00000000
[   36.909299] INFO: lockdep is turned off.
[   36.909674] Modules linked in:
[   36.909977] Preemption disabled at:
[   36.909982] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   36.910920] CPU: 0 UID: 0 PID: 5383 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   36.911691] Tainted: [D]=DIE, [W]=WARN
[   36.911993] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   36.912845] Call Trace:
[   36.913048]  <TASK>
[   36.913228]  dump_stack_lvl+0x121/0x150
[   36.913549]  ? do_task_dead+0x28/0x110
[   36.913861]  dump_stack+0x19/0x20
[   36.914141]  __schedule_bug+0x12d/0x180
[   36.914462]  __schedule+0x210c/0x2eb0
[   36.914761]  ? rcu_is_watching+0x19/0xc0
[   36.915157]  ? lock_release+0x592/0x870
[   36.915532]  ? __pfx___schedule+0x10/0x10
[   36.915924]  ? debug_smp_processor_id+0x20/0x30
[   36.916374]  ? rcu_is_watching+0x19/0xc0
[   36.916753]  ? trace_irq_enable+0xe1/0x120
[   36.917161]  ? do_task_dead+0x4a/0x110
[   36.917542]  do_task_dead+0xe0/0x110
[   36.917922]  make_task_dead+0x384/0x3c0
[   36.918318]  rewind_stack_and_make_dead+0x16/0x20
[   36.918780] RIP: 0033:0x7f8d0123ee5d
[   36.919138] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   36.919700] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   36.920459] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   36.921126] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   36.921780] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   36.922449] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   36.923111] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   36.923776]  </TASK>
[   37.586371] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#20] PREEMPT SMP KASAN NOPTI
[   37.587515] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.588219] CPU: 0 UID: 0 PID: 5789 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.589089] Tainted: [D]=DIE, [W]=WARN
[   37.589440] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.590468] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.591039] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.592809] RSP: 0018:ffff8880143ef7d8 EFLAGS: 00010202
[   37.593452] RAX: dffffc0000000000 RBX: ffffea000080b7c0 RCX: ffffffff81b9e779
[   37.594308] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000080b7d0
[   37.595165] RBP: ffff8880143ef7f8 R08: 0000000000000000 R09: ffffed1003b354b4
[   37.596022] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.596872] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d9aa5a0
[   37.597734] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.598698] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.599399] CR2: 00007f8d0124e1f0 CR3: 000000001271c004 CR4: 0000000000770ef0
[   37.600257] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.601113] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.601973] PKRU: 55555554
[   37.602315] Call Trace:
[   37.602624]  <TASK>
[   37.602899]  ? show_regs+0xa8/0xc0
[   37.603349]  ? die_addr+0x5d/0xf0
[   37.603780]  ? exc_general_protection+0x1ae/0x340
[   37.604384]  ? asm_exc_general_protection+0x2b/0x30
[   37.605003]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.605639]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.606284]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.606921]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.607557]  zap_huge_pmd+0x494/0xd40
[   37.607995]  unmap_page_range+0x1ad6/0x4320
[   37.608445]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.608927]  ? __pfx_unmap_page_range+0x10/0x10
[   37.609388]  unmap_single_vma+0x1ac/0x2d0
[   37.609788]  unmap_vmas+0x210/0x470
[   37.610151]  ? __pfx_unmap_vmas+0x10/0x10
[   37.610541]  ? __pfx_lock_release+0x10/0x10
[   37.610951]  ? lock_release+0x592/0x870
[   37.611320]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.611788]  ? __pfx_lock_release+0x10/0x10
[   37.612206]  ? mlock_drain_local+0x27f/0x4b0
[   37.612635]  exit_mmap+0x19e/0xb10
[   37.612983]  ? __pfx_exit_mmap+0x10/0x10
[   37.613387]  ? trace_hardirqs_on+0x51/0x60
[   37.613801]  ? __khugepaged_exit+0x266/0x4c0
[   37.614225]  ? kmem_cache_free+0x15d/0x420
[   37.614634]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.615151]  __mmput+0xd6/0x390
[   37.615475]  mmput+0x74/0x90
[   37.615768]  do_exit+0xa03/0x29f0
[   37.616097]  ? trace_hardirqs_on+0x51/0x60
[   37.616505]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.617092]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.617563]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.618034]  ? __pfx_do_exit+0x10/0x10
[   37.618409]  ? __audit_syscall_entry+0x39c/0x500
[   37.618862]  __x64_sys_exit+0x50/0x60
[   37.619227]  x64_sys_call+0x20c9/0x20d0
[   37.619602]  do_syscall_64+0x6d/0x140
[   37.619974]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.620459] RIP: 0033:0x7f8d0123ee5d
[   37.620808] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.621378] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.622072] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.622727] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.623383] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.624040] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.624687] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.625357]  </TASK>
[   37.625580] Modules linked in:
[   37.626066] ---[ end trace 0000000000000000 ]---
[   37.626520] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.627080] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.628795] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   37.629298] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   37.629959] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   37.630824] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   37.631711] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.632589] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   37.633451] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.634423] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.635126] CR2: 00007f8d0124e1f0 CR3: 000000001271c004 CR4: 0000000000770ef0
[   37.636015] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.636618] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#21] PREEMPT SMP KASAN NOPTI
[   37.636831] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.637912] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.638762] PKRU: 55555554
[   37.639436] CPU: 1 UID: 0 PID: 5813 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.639794] note: repro[5789] exited with preempt_count 1
[   37.640743] Tainted: [D]=DIE, [W]=WARN
[   37.641348] Fixing recursive fault but reboot is needed!
[   37.641690] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.642269] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5789
[   37.643284] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.644158] caller is debug_smp_processor_id+0x20/0x30
[   37.644650] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.645249] CPU: 0 UID: 0 PID: 5789 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.646899] RSP: 0018:ffff888013eef7d8 EFLAGS: 00010202
[   37.647873] Tainted: [D]=DIE, [W]=WARN
[   37.647879] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.648345] RAX: dffffc0000000000 RBX: ffffea0000464a80 RCX: ffffffff81b9e779
[   37.648738] Call Trace:
[   37.649754] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000464a90
[   37.650560]  <TASK>
[   37.650792] RBP: ffff888013eef7f8 R08: 0000000000000000 R09: ffffed100256b5a4
[   37.651645]  dump_stack_lvl+0x121/0x150
[   37.651846] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.652732]  dump_stack+0x19/0x20
[   37.653087] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012b5ad20
[   37.653817]  check_preemption_disabled+0x168/0x180
[   37.654143] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   37.654843]  debug_smp_processor_id+0x20/0x30
[   37.655287] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.656076]  __schedule+0x9a/0x2eb0
[   37.656472] CR2: 00007f61571e0000 CR3: 00000000135a0005 CR4: 0000000000770ef0
[   37.657376]  ? rcu_is_watching+0x19/0xc0
[   37.657701] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.658685]  ? lock_release+0x592/0x870
[   37.659048] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.659752]  ? __pfx___schedule+0x10/0x10
[   37.660104] PKRU: 55555554
[   37.660799]  ? debug_smp_processor_id+0x20/0x30
[   37.661164] Call Trace:
[   37.661441]  ? rcu_is_watching+0x19/0xc0
[   37.661850]  <TASK>
[   37.662094]  ? trace_irq_enable+0xe1/0x120
[   37.662452]  ? show_regs+0xa8/0xc0
[   37.662662]  ? do_task_dead+0x4a/0x110
[   37.663035]  ? die_addr+0x5d/0xf0
[   37.663364]  do_task_dead+0xe0/0x110
[   37.663710]  ? exc_general_protection+0x1ae/0x340
[   37.664040]  make_task_dead+0x384/0x3c0
[   37.664379]  ? asm_exc_general_protection+0x2b/0x30
[   37.664815]  rewind_stack_and_make_dead+0x16/0x20
[   37.665179]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.665797] RIP: 0033:0x7f8d0123ee5d
[   37.666230]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.666779] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.667116]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.667698] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   37.668261]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.668723]  ORIG_RAX: 000000000000003c
[   37.669199]  zap_huge_pmd+0x494/0xd40
[   37.669659] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.670018]  unmap_page_range+0x1ad6/0x4320
[   37.670348] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.671006]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.671367] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.672002]  ? __pfx_unmap_page_range+0x10/0x10
[   37.672455] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.673326]  unmap_single_vma+0x1ac/0x2d0
[   37.673725] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.674387]  unmap_vmas+0x210/0x470
[   37.674741]  </TASK>
[   37.675393]  ? __pfx_unmap_vmas+0x10/0x10
[   37.676285]  ? __pfx_lock_release+0x10/0x10
[   37.676694]  ? lock_release+0x592/0x870
[   37.677077]  ? mas_next_slot+0x133a/0x1a50
[   37.677487]  ? __pfx_lock_release+0x10/0x10
[   37.677901]  ? mlock_drain_local+0x27f/0x4b0
[   37.678356]  exit_mmap+0x19e/0xb10
[   37.678713]  ? __pfx_exit_mmap+0x10/0x10
[   37.679119]  ? trace_hardirqs_on+0x51/0x60
[   37.679533]  ? __khugepaged_exit+0x266/0x4c0
[   37.679966]  ? kmem_cache_free+0x15d/0x420
[   37.680374]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.681192]  __mmput+0xd6/0x390
[   37.681564]  mmput+0x74/0x90
[   37.681861]  do_exit+0xa03/0x29f0
[   37.682217]  ? trace_hardirqs_on+0x51/0x60
[   37.682632]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.683221]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.683683]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.684152]  ? __pfx_do_exit+0x10/0x10
[   37.684524]  ? __audit_syscall_entry+0x39c/0x500
[   37.684983]  __x64_sys_exit+0x50/0x60
[   37.685354]  x64_sys_call+0x20c9/0x20d0
[   37.685728]  do_syscall_64+0x6d/0x140
[   37.686206]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.686897] RIP: 0033:0x7f8d0123ee5d
[   37.687356] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.688102] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.689022] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.689877] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.690933] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.691797] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.692660] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.693537]  </TASK>
[   37.693824] Modules linked in:
[   37.694659] ---[ end trace 0000000000000000 ]---
[   37.695263] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.696158] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.698545] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   37.699272] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   37.700185] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   37.700929] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   37.701582] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.702228] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   37.702871] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   37.703631] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.704313] CR2: 00007f61571e0000 CR3: 00000000135a0005 CR4: 0000000000770ef0
[   37.704975] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.705624] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.706275] PKRU: 55555554
[   37.706555] note: repro[5813] exited with preempt_count 1
[   37.707062] Fixing recursive fault but reboot is needed!
[   37.707566] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5813
[   37.708499] caller is debug_smp_processor_id+0x20/0x30
[   37.708510] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#22] PREEMPT SMP KASAN NOPTI
[   37.708532] CPU: 1 UID: 0 PID: 5813 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.708933] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.709993] Tainted: [D]=DIE, [W]=WARN
[   37.710683] CPU: 0 UID: 0 PID: 5861 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.711344] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.711627] Tainted: [D]=DIE, [W]=WARN
[   37.712469] Call Trace:
[   37.713290] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.713635]  <TASK>
[   37.713819] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.714820]  dump_stack_lvl+0x121/0x150
[   37.714984] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.715503]  dump_stack+0x19/0x20
[   37.715774] RSP: 0018:ffff88801eb877d8 EFLAGS: 00010202
[   37.717700]  check_preemption_disabled+0x168/0x180
[   37.717978] 
[   37.717983] RAX: dffffc0000000000 RBX: ffffea0000706540 RCX: ffffffff81b9e779
[   37.718450]  debug_smp_processor_id+0x20/0x30
[   37.718834] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000706550
[   37.718995]  __schedule+0x9a/0x2eb0
[   37.719561] RBP: ffff88801eb877f8 R08: 0000000000000000 R09: ffffed1001d648b4
[   37.719969]  ? rcu_is_watching+0x19/0xc0
[   37.720651] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.720980]  ? lock_release+0x592/0x870
[   37.721463] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800eb245a0
[   37.721819]  ? __pfx___schedule+0x10/0x10
[   37.722304] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.722661]  ? debug_smp_processor_id+0x20/0x30
[   37.723131] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.723496]  ? rcu_is_watching+0x19/0xc0
[   37.724027] CR2: 00007f61571e8000 CR3: 00000000201ea006 CR4: 0000000000770ef0
[   37.724442]  ? trace_irq_enable+0xe1/0x120
[   37.724823] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.725186]  ? do_task_dead+0x4a/0x110
[   37.725651] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.726030]  do_task_dead+0xe0/0x110
[   37.726682] PKRU: 55555554
[   37.727034]  make_task_dead+0x384/0x3c0
[   37.727499] Call Trace:
[   37.727828]  rewind_stack_and_make_dead+0x16/0x20
[   37.728016]  <TASK>
[   37.728362] RIP: 0033:0x7f8d0123ee5d
[   37.728535]  ? show_regs+0xa8/0xc0
[   37.728961] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.729104]  ? die_addr+0x5d/0xf0
[   37.729427] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   37.729650]  ? exc_general_protection+0x1ae/0x340
[   37.730200]  ORIG_RAX: 000000000000003c
[   37.730420]  ? asm_exc_general_protection+0x2b/0x30
[   37.730875] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.731177]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.731717] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.732022]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.732651] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.732972]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.733604] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.733925]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.734557] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.734914]  zap_huge_pmd+0x494/0xd40
[   37.735571]  </TASK>
[   37.735951]  unmap_page_range+0x1ad6/0x4320
[   37.737253]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.737571]  ? __pfx_unmap_page_range+0x10/0x10
[   37.737862]  unmap_single_vma+0x1ac/0x2d0
[   37.738113]  unmap_vmas+0x210/0x470
[   37.738336]  ? __pfx_unmap_vmas+0x10/0x10
[   37.738580]  ? __pfx_lock_release+0x10/0x10
[   37.738835]  ? lock_release+0x592/0x870
[   37.739065]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   37.739365]  ? __pfx_lock_release+0x10/0x10
[   37.739717]  ? mlock_drain_local+0x27f/0x4b0
[   37.740080]  exit_mmap+0x19e/0xb10
[   37.740335]  ? __pfx_exit_mmap+0x10/0x10
[   37.740581]  ? trace_hardirqs_on+0x51/0x60
[   37.740833]  ? __khugepaged_exit+0x266/0x4c0
[   37.741091]  ? kmem_cache_free+0x15d/0x420
[   37.741340]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.741658]  __mmput+0xd6/0x390
[   37.741857]  mmput+0x74/0x90
[   37.742037]  do_exit+0xa03/0x29f0
[   37.742242]  ? trace_hardirqs_on+0x51/0x60
[   37.742491]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.742853]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.743139]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.743425]  ? __pfx_do_exit+0x10/0x10
[   37.743653]  ? __audit_syscall_entry+0x39c/0x500
[   37.743929]  __x64_sys_exit+0x50/0x60
[   37.744157]  x64_sys_call+0x20c9/0x20d0
[   37.744391]  do_syscall_64+0x6d/0x140
[   37.744617]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.744911] RIP: 0033:0x7f8d0123ee5d
[   37.745127] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.745477] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.746079] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.746581] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.746985] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.747389] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.747795] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.748207]  </TASK>
[   37.748342] Modules linked in:
[   37.748580] ---[ end trace 0000000000000000 ]---
[   37.748851] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.749190] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.750226] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   37.750527] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   37.750930] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   37.751346] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   37.751833] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.752429] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   37.752630] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#23] PREEMPT SMP KASAN NOPTI
[   37.752896] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   37.753912] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   37.754359] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.755030] CPU: 1 UID: 0 PID: 5877 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.755347] CR2: 00007f61571e8000 CR3: 00000000201ea006 CR4: 0000000000770ef0
[   37.756294] Tainted: [D]=DIE, [W]=WARN
[   37.756304] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.756703] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.757014] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.757653] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.758222] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.758545] PKRU: 55555554
[   37.759111] RSP: 0018:ffff88800f63f7d8 EFLAGS: 00010202
[   37.760158] note: repro[5861] exited with preempt_count 1
[   37.760377] 
[   37.760674] Fixing recursive fault but reboot is needed!
[   37.761122] RAX: dffffc0000000000 RBX: ffffea00008337c0 RCX: ffffffff81b9e779
[   37.761259] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5861
[   37.761678] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00008337d0
[   37.762078] caller is debug_smp_processor_id+0x20/0x30
[   37.762686] RBP: ffff88800f63f7f8 R08: 0000000000000000 R09: ffffed1003e35568
[   37.763087] CPU: 0 UID: 0 PID: 5861 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.763486] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   37.763889] Tainted: [D]=DIE, [W]=WARN
[   37.764591] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f1aab40
[   37.764990] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.765282] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   37.765682] Call Trace:
[   37.765688]  <TASK>
[   37.766540] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.766995]  dump_stack_lvl+0x121/0x150
[   37.767195] CR2: 00007f61571ee000 CR3: 000000001d934005 CR4: 0000000000770ef0
[   37.767322]  dump_stack+0x19/0x20
[   37.768060] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.768278]  check_preemption_disabled+0x168/0x180
[   37.768813] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.769006]  debug_smp_processor_id+0x20/0x30
[   37.769563] PKRU: 55555554
[   37.769903]  __schedule+0x9a/0x2eb0
[   37.770534] Call Trace:
[   37.770847]  ? rcu_is_watching+0x19/0xc0
[   37.771106]  <TASK>
[   37.771358]  ? lock_release+0x592/0x870
[   37.771718]  ? show_regs+0xa8/0xc0
[   37.771999]  ? __pfx___schedule+0x10/0x10
[   37.772244]  ? die_addr+0x5d/0xf0
[   37.772464]  ? debug_smp_processor_id+0x20/0x30
[   37.772722]  ? exc_general_protection+0x1ae/0x340
[   37.772951]  ? rcu_is_watching+0x19/0xc0
[   37.773216]  ? asm_exc_general_protection+0x2b/0x30
[   37.773464]  ? trace_irq_enable+0xe1/0x120
[   37.773819]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   37.774039]  ? do_task_dead+0x4a/0x110
[   37.774400]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.774634]  do_task_dead+0xe0/0x110
[   37.775020]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   37.775235]  make_task_dead+0x384/0x3c0
[   37.775614]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   37.775821]  rewind_stack_and_make_dead+0x16/0x20
[   37.776382]  zap_huge_pmd+0x494/0xd40
[   37.776600] RIP: 0033:0x7f8d0123ee5d
[   37.777008]  unmap_page_range+0x1ad6/0x4320
[   37.777271] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.777562]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   37.777752] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   37.778076]  ? __pfx_unmap_page_range+0x10/0x10
[   37.778420]  ORIG_RAX: 000000000000003c
[   37.778794]  unmap_single_vma+0x1ac/0x2d0
[   37.779082] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.779410]  unmap_vmas+0x210/0x470
[   37.779626] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.779938]  ? __pfx_unmap_vmas+0x10/0x10
[   37.780331] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.780587]  ? __pfx_lock_release+0x10/0x10
[   37.780989] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.781298]  ? lock_release+0x592/0x870
[   37.781699] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.782182]  ? mas_next_slot+0x133a/0x1a50
[   37.782586]  </TASK>
[   37.782856]  ? __pfx_lock_release+0x10/0x10
[   37.784025]  ? mlock_drain_local+0x27f/0x4b0
[   37.784355]  exit_mmap+0x19e/0xb10
[   37.784627]  ? __pfx_exit_mmap+0x10/0x10
[   37.784928]  ? trace_hardirqs_on+0x51/0x60
[   37.785245]  ? __khugepaged_exit+0x266/0x4c0
[   37.785561]  ? kmem_cache_free+0x15d/0x420
[   37.785921]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   37.786648]  __mmput+0xd6/0x390
[   37.787040]  mmput+0x74/0x90
[   37.787428]  do_exit+0xa03/0x29f0
[   37.787867]  ? trace_hardirqs_on+0x51/0x60
[   37.788375]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   37.789009]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   37.789474]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   37.789929]  ? __pfx_do_exit+0x10/0x10
[   37.790297]  ? __audit_syscall_entry+0x39c/0x500
[   37.790723]  __x64_sys_exit+0x50/0x60
[   37.791071]  x64_sys_call+0x20c9/0x20d0
[   37.791426]  do_syscall_64+0x6d/0x140
[   37.791774]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   37.792245] RIP: 0033:0x7f8d0123ee5d
[   37.792741] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.793318] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.793985] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.794604] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.795225] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.795826] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.796425] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.797032]  </TASK>
[   37.797225] Modules linked in:
[   37.797711] ---[ end trace 0000000000000000 ]---
[   37.798121] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   37.798897] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   37.800358] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   37.800708] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   37.801166] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   37.801761] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   37.802212] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   37.802646] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   37.803085] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   37.803689] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   37.804063] CR2: 00007f61571ee000 CR3: 000000001d934005 CR4: 0000000000770ef0
[   37.804507] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   37.804958] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   37.805392] PKRU: 55555554
[   37.805583] note: repro[5877] exited with preempt_count 1
[   37.805925] Fixing recursive fault but reboot is needed!
[   37.806258] BUG: using smp_processor_id() in preemptible [00000000] code: repro/5877
[   37.806726] caller is debug_smp_processor_id+0x20/0x30
[   37.807055] CPU: 1 UID: 0 PID: 5877 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.807622] Tainted: [D]=DIE, [W]=WARN
[   37.807855] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.808534] Call Trace:
[   37.808700]  <TASK>
[   37.808839]  dump_stack_lvl+0x121/0x150
[   37.809096]  dump_stack+0x19/0x20
[   37.809318]  check_preemption_disabled+0x168/0x180
[   37.809620]  debug_smp_processor_id+0x20/0x30
[   37.809912]  __schedule+0x9a/0x2eb0
[   37.810160]  ? rcu_is_watching+0x19/0xc0
[   37.810408]  ? lock_release+0x592/0x870
[   37.810782]  ? __pfx___schedule+0x10/0x10
[   37.811178]  ? debug_smp_processor_id+0x20/0x30
[   37.811558]  ? rcu_is_watching+0x19/0xc0
[   37.811802]  ? trace_irq_enable+0xe1/0x120
[   37.812072]  ? do_task_dead+0x4a/0x110
[   37.812322]  do_task_dead+0xe0/0x110
[   37.812552]  make_task_dead+0x384/0x3c0
[   37.812795]  rewind_stack_and_make_dead+0x16/0x20
[   37.813095] RIP: 0033:0x7f8d0123ee5d
[   37.813312] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.813675] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.814126] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.814536] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.814950] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.815346] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.815739] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.816145]  </TASK>
[   37.816408] BUG: scheduling while atomic: repro/5877/0x00000000
[   37.816763] INFO: lockdep is turned off.
[   37.817124] Modules linked in:
[   37.817413] Preemption disabled at:
[   37.817417] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   37.818044] CPU: 1 UID: 0 PID: 5877 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   37.818590] Tainted: [D]=DIE, [W]=WARN
[   37.818814] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   37.819617] Call Trace:
[   37.819809]  <TASK>
[   37.819983]  dump_stack_lvl+0x121/0x150
[   37.820288]  ? do_task_dead+0x28/0x110
[   37.820584]  dump_stack+0x19/0x20
[   37.820860]  __schedule_bug+0x12d/0x180
[   37.821170]  __schedule+0x210c/0x2eb0
[   37.821457]  ? rcu_is_watching+0x19/0xc0
[   37.821768]  ? lock_release+0x592/0x870
[   37.822079]  ? __pfx___schedule+0x10/0x10
[   37.822394]  ? debug_smp_processor_id+0x20/0x30
[   37.822768]  ? rcu_is_watching+0x19/0xc0
[   37.823166]  ? trace_irq_enable+0xe1/0x120
[   37.823576]  ? do_task_dead+0x4a/0x110
[   37.823970]  do_task_dead+0xe0/0x110
[   37.824362]  make_task_dead+0x384/0x3c0
[   37.824761]  rewind_stack_and_make_dead+0x16/0x20
[   37.825222] RIP: 0033:0x7f8d0123ee5d
[   37.825569] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   37.826136] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   37.826860] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   37.827526] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   37.828187] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   37.828855] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   37.829515] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   37.829894]  </TASK>
[   38.315348] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#24] PREEMPT SMP KASAN NOPTI
[   38.316465] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.317176] CPU: 1 UID: 0 PID: 6088 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   38.318043] Tainted: [D]=DIE, [W]=WARN
[   38.318405] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.319654] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.320286] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.321931] RSP: 0018:ffff88801db377d8 EFLAGS: 00010202
[   38.322430] RAX: dffffc0000000000 RBX: ffffea00004ace80 RCX: ffffffff81b9e779
[   38.323072] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004ace90
[   38.323713] RBP: ffff88801db377f8 R08: 0000000000000000 R09: ffffed1004193708
[   38.324340] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   38.324969] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888020c9b840
[   38.325596] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   38.326296] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.326822] CR2: 00007f8d015e0658 CR3: 0000000019306004 CR4: 0000000000770ef0
[   38.327418] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.328018] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.328613] PKRU: 55555554
[   38.328853] Call Trace:
[   38.329076]  <TASK>
[   38.329274]  ? show_regs+0xa8/0xc0
[   38.329590]  ? die_addr+0x5d/0xf0
[   38.329898]  ? exc_general_protection+0x1ae/0x340
[   38.330351]  ? asm_exc_general_protection+0x2b/0x30
[   38.331090]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.331636]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.332166]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.332685]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.333235]  zap_huge_pmd+0x494/0xd40
[   38.333632]  unmap_page_range+0x1ad6/0x4320
[   38.334065]  ? __pfx_lock_release+0x10/0x10
[   38.334416]  ? do_raw_spin_trylock+0xbf/0x190
[   38.334789]  ? __kasan_check_read+0x15/0x20
[   38.335150]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.335573]  ? __pfx_unmap_page_range+0x10/0x10
[   38.335984]  unmap_single_vma+0x1ac/0x2d0
[   38.336351]  unmap_vmas+0x210/0x470
[   38.336673]  ? __pfx_unmap_vmas+0x10/0x10
[   38.337026]  ? __pfx_lock_release+0x10/0x10
[   38.337380]  ? lock_release+0x592/0x870
[   38.337727]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.338152]  ? __pfx_lock_release+0x10/0x10
[   38.338487]  ? mlock_drain_local+0x27f/0x4b0
[   38.338832]  exit_mmap+0x19e/0xb10
[   38.339127]  ? __pfx_exit_mmap+0x10/0x10
[   38.339451]  ? trace_hardirqs_on+0x51/0x60
[   38.339794]  ? __khugepaged_exit+0x266/0x4c0
[   38.340147]  ? kmem_cache_free+0x15d/0x420
[   38.340480]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.340907]  __mmput+0xd6/0x390
[   38.341173]  mmput+0x74/0x90
[   38.341413]  do_exit+0xa03/0x29f0
[   38.341686]  ? trace_hardirqs_on+0x51/0x60
[   38.342020]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.342521]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.342912]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.343300]  ? __pfx_do_exit+0x10/0x10
[   38.343609]  ? __audit_syscall_entry+0x39c/0x500
[   38.344001]  __x64_sys_exit+0x50/0x60
[   38.344317]  x64_sys_call+0x20c9/0x20d0
[   38.344627]  do_syscall_64+0x6d/0x140
[   38.344926]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.345334] RIP: 0033:0x7f8d0123ee5d
[   38.345618] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   38.346085] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.346656] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   38.347183] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.347711] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   38.348245] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   38.348773] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   38.349317]  </TASK>
[   38.349496] Modules linked in:
[   38.349976] ---[ end trace 0000000000000000 ]---
[   38.350476] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.351046] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.352672] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   38.353207] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   38.353866] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   38.354535] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   38.355211] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.355952] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   38.356618] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   38.357366] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.357939] CR2: 00007f8d015e0658 CR3: 0000000019306004 CR4: 0000000000770ef0
[   38.358607] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.359274] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.359999] PKRU: 55555554
[   38.360284] note: repro[6088] exited with preempt_count 1
[   38.360790] Fixing recursive fault but reboot is needed!
[   38.361277] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6088
[   38.361987] caller is debug_smp_processor_id+0x20/0x30
[   38.362483] CPU: 1 UID: 0 PID: 6088 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   38.363356] Tainted: [D]=DIE, [W]=WARN
[   38.363712] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.364978] Call Trace:
[   38.365376]  <TASK>
[   38.365601]  dump_stack_lvl+0x121/0x150
[   38.366034]  dump_stack+0x19/0x20
[   38.366409]  check_preemption_disabled+0x168/0x180
[   38.366873]  debug_smp_processor_id+0x20/0x30
[   38.367314]  __schedule+0x9a/0x2eb0
[   38.367683]  ? rcu_is_watching+0x19/0xc0
[   38.368081]  ? lock_release+0x592/0x870
[   38.368465]  ? __pfx___schedule+0x10/0x10
[   38.368943]  ? debug_smp_processor_id+0x20/0x30
[   38.369458]  ? rcu_is_watching+0x19/0xc0
[   38.369860]  ? trace_irq_enable+0xe1/0x120
[   38.370292]  ? do_task_dead+0x4a/0x110
[   38.370692]  do_task_dead+0xe0/0x110
[   38.371129]  make_task_dead+0x384/0x3c0
[   38.371623]  rewind_stack_and_make_dead+0x16/0x20
[   38.372139] RIP: 0033:0x7f8d0123ee5d
[   38.372493] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   38.372951] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.373433] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   38.373890] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.374366] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   38.374817] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   38.375296] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   38.375766]  </TASK>
[   38.375995] BUG: scheduling while atomic: repro/6088/0x00000000
[   38.376368] INFO: lockdep is turned off.
[   38.376610] Modules linked in:
[   38.376809] Preemption disabled at:
[   38.376812] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   38.377672] CPU: 1 UID: 0 PID: 6088 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   38.378598] Tainted: [D]=DIE, [W]=WARN
[   38.378974] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.380005] Call Trace:
[   38.380261]  <TASK>
[   38.380493]  dump_stack_lvl+0x121/0x150
[   38.380907]  ? do_task_dead+0x28/0x110
[   38.381307]  dump_stack+0x19/0x20
[   38.381669]  __schedule_bug+0x12d/0x180
[   38.382069]  __schedule+0x210c/0x2eb0
[   38.382454]  ? rcu_is_watching+0x19/0xc0
[   38.382841]  ? lock_release+0x592/0x870
[   38.383229]  ? __pfx___schedule+0x10/0x10
[   38.383622]  ? debug_smp_processor_id+0x20/0x30
[   38.384066]  ? rcu_is_watching+0x19/0xc0
[   38.384444]  ? trace_irq_enable+0xe1/0x120
[   38.384846]  ? do_task_dead+0x4a/0x110
[   38.385230]  do_task_dead+0xe0/0x110
[   38.385593]  make_task_dead+0x384/0x3c0
[   38.385991]  rewind_stack_and_make_dead+0x16/0x20
[   38.386439] RIP: 0033:0x7f8d0123ee5d
[   38.386787] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   38.387364] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.388076] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   38.388767] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.389587] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   38.390226] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   38.390778] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   38.391345]  </TASK>
[   38.912586] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#25] PREEMPT SMP KASAN NOPTI
[   38.913750] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   38.914482] CPU: 0 UID: 0 PID: 6411 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   38.915649] Tainted: [D]=DIE, [W]=WARN
[   38.916021] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.917023] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.917589] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.919271] RSP: 0018:ffff88800f57f7d8 EFLAGS: 00010202
[   38.919761] RAX: dffffc0000000000 RBX: ffffea0000807440 RCX: ffffffff81b9e779
[   38.920433] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000807450
[   38.921401] RBP: ffff88800f57f7f8 R08: 0000000000000000 R09: ffffed1002225398
[   38.922081] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   38.922743] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011129cc0
[   38.923391] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   38.924137] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.924677] CR2: 00007f8d0129bc20 CR3: 0000000020f0e005 CR4: 0000000000770ef0
[   38.925358] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.926034] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.926702] PKRU: 55555554
[   38.926966] Call Trace:
[   38.927203]  <TASK>
[   38.927416]  ? show_regs+0xa8/0xc0
[   38.927772]  ? die_addr+0x5d/0xf0
[   38.928128]  ? exc_general_protection+0x1ae/0x340
[   38.928648]  ? asm_exc_general_protection+0x2b/0x30
[   38.929136]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   38.929625]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.930126]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   38.930620]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   38.931113]  zap_huge_pmd+0x494/0xd40
[   38.931488]  unmap_page_range+0x1ad6/0x4320
[   38.931913]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   38.932438]  ? __pfx_unmap_page_range+0x10/0x10
[   38.932915]  unmap_single_vma+0x1ac/0x2d0
[   38.933327]  unmap_vmas+0x210/0x470
[   38.933689]  ? __pfx_unmap_vmas+0x10/0x10
[   38.934086]  ? __pfx_lock_release+0x10/0x10
[   38.934505]  ? lock_release+0x592/0x870
[   38.934885]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   38.935374]  ? __pfx_lock_release+0x10/0x10
[   38.935792]  ? mlock_drain_local+0x27f/0x4b0
[   38.936225]  exit_mmap+0x19e/0xb10
[   38.936593]  ? __pfx_exit_mmap+0x10/0x10
[   38.937006]  ? trace_hardirqs_on+0x51/0x60
[   38.937427]  ? __khugepaged_exit+0x266/0x4c0
[   38.937849]  ? kmem_cache_free+0x15d/0x420
[   38.938286]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   38.938819]  __mmput+0xd6/0x390
[   38.939158]  mmput+0x74/0x90
[   38.939455]  do_exit+0xa03/0x29f0
[   38.939791]  ? trace_hardirqs_on+0x51/0x60
[   38.940207]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   38.940798]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   38.941269]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   38.941747]  ? __pfx_do_exit+0x10/0x10
[   38.942133]  ? __audit_syscall_entry+0x39c/0x500
[   38.942618]  __x64_sys_exit+0x50/0x60
[   38.943011]  x64_sys_call+0x20c9/0x20d0
[   38.943389]  do_syscall_64+0x6d/0x140
[   38.943763]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   38.944263] RIP: 0033:0x7f8d0123ee5d
[   38.944611] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   38.945182] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.945880] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   38.946534] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.947237] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   38.947893] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   38.948552] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   38.949252]  </TASK>
[   38.949473] Modules linked in:
[   38.949987] ---[ end trace 0000000000000000 ]---
[   38.950433] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   38.950986] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   38.952993] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   38.953707] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   38.954571] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   38.955458] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   38.956322] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   38.957181] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   38.958103] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   38.959078] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   38.959806] CR2: 00007f8d0129bc20 CR3: 0000000020f0e005 CR4: 0000000000770ef0
[   38.960679] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   38.961716] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   38.962578] PKRU: 55555554
[   38.962924] note: repro[6411] exited with preempt_count 1
[   38.963631] Fixing recursive fault but reboot is needed!
[   38.964297] BUG: scheduling while atomic: repro/6411/0x00000000
[   38.965019] INFO: lockdep is turned off.
[   38.965493] Modules linked in:
[   38.965876] Preemption disabled at:
[   38.965881] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   38.966983] CPU: 0 UID: 0 PID: 6411 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   38.968293] Tainted: [D]=DIE, [W]=WARN
[   38.968758] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   38.970112] Call Trace:
[   38.970426]  <TASK>
[   38.970699]  dump_stack_lvl+0x121/0x150
[   38.971194]  ? do_task_dead+0x28/0x110
[   38.971673]  dump_stack+0x19/0x20
[   38.972108]  __schedule_bug+0x12d/0x180
[   38.972597]  __schedule+0x210c/0x2eb0
[   38.973066]  ? rcu_is_watching+0x19/0xc0
[   38.973558]  ? lock_release+0x592/0x870
[   38.974043]  ? __pfx___schedule+0x10/0x10
[   38.974545]  ? debug_smp_processor_id+0x20/0x30
[   38.975112]  ? rcu_is_watching+0x19/0xc0
[   38.975601]  ? trace_irq_enable+0xe1/0x120
[   38.976124]  ? do_task_dead+0x4a/0x110
[   38.976603]  do_task_dead+0xe0/0x110
[   38.977069]  make_task_dead+0x384/0x3c0
[   38.977557]  rewind_stack_and_make_dead+0x16/0x20
[   38.978146] RIP: 0033:0x7f8d0123ee5d
[   38.978593] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   38.979336] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   38.980373] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   38.981410] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   38.982276] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   38.983134] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   38.983991] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   38.984857]  </TASK>
[   39.681574] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#26] PREEMPT SMP KASAN NOPTI
[   39.683035] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   39.683947] CPU: 0 UID: 0 PID: 6839 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   39.685079] Tainted: [D]=DIE, [W]=WARN
[   39.685535] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.686876] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.687593] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.689774] RSP: 0018:ffff8880140c77d8 EFLAGS: 00010202
[   39.690416] RAX: dffffc0000000000 RBX: ffffea000069c7c0 RCX: ffffffff81b9e779
[   39.691273] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000069c7d0
[   39.692129] RBP: ffff8880140c77f8 R08: 0000000000000000 R09: ffffed10041b2d44
[   39.692981] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   39.693847] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888020d96a20
[   39.694700] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   39.695663] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.696361] CR2: 00007f8d01615000 CR3: 000000001e9ea001 CR4: 0000000000770ef0
[   39.697216] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.698072] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.698921] PKRU: 55555554
[   39.699263] Call Trace:
[   39.699572]  <TASK>
[   39.699845]  ? show_regs+0xa8/0xc0
[   39.700290]  ? die_addr+0x5d/0xf0
[   39.700720]  ? exc_general_protection+0x1ae/0x340
[   39.701320]  ? asm_exc_general_protection+0x2b/0x30
[   39.701941]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   39.702575]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.703219]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   39.703854]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   39.704493]  zap_huge_pmd+0x494/0xd40
[   39.704971]  unmap_page_range+0x1ad6/0x4320
[   39.705498]  ? __pfx_lock_release+0x10/0x10
[   39.706023]  ? do_raw_spin_trylock+0xbf/0x190
[   39.706572]  ? __kasan_check_read+0x15/0x20
[   39.707106]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   39.707735]  ? __pfx_unmap_page_range+0x10/0x10
[   39.708356]  unmap_single_vma+0x1ac/0x2d0
[   39.708892]  unmap_vmas+0x210/0x470
[   39.709340]  ? __pfx_unmap_vmas+0x10/0x10
[   39.709817]  ? __pfx_lock_release+0x10/0x10
[   39.710318]  ? lock_release+0x592/0x870
[   39.710773]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   39.711358]  ? __pfx_lock_release+0x10/0x10
[   39.711857]  ? mlock_drain_local+0x27f/0x4b0
[   39.712371]  exit_mmap+0x19e/0xb10
[   39.712793]  ? __pfx_exit_mmap+0x10/0x10
[   39.713274]  ? trace_hardirqs_on+0x51/0x60
[   39.713773]  ? __khugepaged_exit+0x266/0x4c0
[   39.714285]  ? kmem_cache_free+0x15d/0x420
[   39.714776]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   39.715412]  __mmput+0xd6/0x390
[   39.715796]  mmput+0x74/0x90
[   39.716156]  do_exit+0xa03/0x29f0
[   39.716562]  ? trace_hardirqs_on+0x51/0x60
[   39.717057]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   39.717775]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   39.718324]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   39.718865]  ? __pfx_do_exit+0x10/0x10
[   39.719306]  ? __audit_syscall_entry+0x39c/0x500
[   39.719829]  __x64_sys_exit+0x50/0x60
[   39.720255]  x64_sys_call+0x20c9/0x20d0
[   39.720689]  do_syscall_64+0x6d/0x140
[   39.721120]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   39.721684] RIP: 0033:0x7f8d0123ee5d
[   39.722090] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   39.722752] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.723572] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   39.724343] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.725114] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   39.725857] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   39.726588] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   39.727340]  </TASK>
[   39.727581] Modules linked in:
[   39.728089] ---[ end trace 0000000000000000 ]---
[   39.728580] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   39.729198] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   39.731070] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   39.731679] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   39.732387] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   39.733104] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   39.733809] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   39.734514] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   39.735224] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   39.736048] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   39.736627] CR2: 00007f8d01615000 CR3: 000000001e9ea001 CR4: 0000000000770ef0
[   39.737320] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   39.738001] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   39.738677] PKRU: 55555554
[   39.738950] note: repro[6839] exited with preempt_count 1
[   39.739490] Fixing recursive fault but reboot is needed!
[   39.740003] check_preemption_disabled: 1 callbacks suppressed
[   39.740010] BUG: using smp_processor_id() in preemptible [00000000] code: repro/6839
[   39.741300] caller is debug_smp_processor_id+0x20/0x30
[   39.741803] CPU: 0 UID: 0 PID: 6839 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   39.742700] Tainted: [D]=DIE, [W]=WARN
[   39.743053] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.744087] Call Trace:
[   39.744325]  <TASK>
[   39.744572]  dump_stack_lvl+0x121/0x150
[   39.745048]  dump_stack+0x19/0x20
[   39.745455]  check_preemption_disabled+0x168/0x180
[   39.745978]  debug_smp_processor_id+0x20/0x30
[   39.746391]  __schedule+0x9a/0x2eb0
[   39.746728]  ? rcu_is_watching+0x19/0xc0
[   39.747103]  ? lock_release+0x592/0x870
[   39.747477]  ? __pfx___schedule+0x10/0x10
[   39.747863]  ? debug_smp_processor_id+0x20/0x30
[   39.748296]  ? rcu_is_watching+0x19/0xc0
[   39.748670]  ? trace_irq_enable+0xe1/0x120
[   39.749055]  ? do_task_dead+0x4a/0x110
[   39.749408]  do_task_dead+0xe0/0x110
[   39.749746]  make_task_dead+0x384/0x3c0
[   39.750105]  rewind_stack_and_make_dead+0x16/0x20
[   39.750531] RIP: 0033:0x7f8d0123ee5d
[   39.750857] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   39.751399] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.752065] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   39.752688] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.753314] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   39.753938] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   39.754536] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   39.755146]  </TASK>
[   39.755456] BUG: scheduling while atomic: repro/6839/0x00000000
[   39.755962] INFO: lockdep is turned off.
[   39.756296] Modules linked in:
[   39.756565] Preemption disabled at:
[   39.756568] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   39.757330] CPU: 0 UID: 0 PID: 6839 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   39.758126] Tainted: [D]=DIE, [W]=WARN
[   39.758446] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   39.759750] Call Trace:
[   39.760068]  <TASK>
[   39.760342]  dump_stack_lvl+0x121/0x150
[   39.760764]  ? do_task_dead+0x28/0x110
[   39.761148]  dump_stack+0x19/0x20
[   39.761487]  __schedule_bug+0x12d/0x180
[   39.761875]  __schedule+0x210c/0x2eb0
[   39.762199]  ? rcu_is_watching+0x19/0xc0
[   39.762532]  ? lock_release+0x592/0x870
[   39.762858]  ? __pfx___schedule+0x10/0x10
[   39.763201]  ? debug_smp_processor_id+0x20/0x30
[   39.763584]  ? rcu_is_watching+0x19/0xc0
[   39.763916]  ? trace_irq_enable+0xe1/0x120
[   39.764273]  ? do_task_dead+0x4a/0x110
[   39.764596]  do_task_dead+0xe0/0x110
[   39.764898]  make_task_dead+0x384/0x3c0
[   39.765222]  rewind_stack_and_make_dead+0x16/0x20
[   39.765604] RIP: 0033:0x7f8d0123ee5d
[   39.765896] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   39.766381] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   39.766978] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   39.767540] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   39.768100] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   39.768652] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   39.769192] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   39.769742]  </TASK>
[   40.905916] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#27] PREEMPT SMP KASAN NOPTI
[   40.907064] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   40.907922] CPU: 0 UID: 0 PID: 7529 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   40.908775] Tainted: [D]=DIE, [W]=WARN
[   40.909126] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.910140] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.910702] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.912372] RSP: 0018:ffff88801ead77d8 EFLAGS: 00010202
[   40.912902] RAX: dffffc0000000000 RBX: ffffea00007cb580 RCX: ffffffff81b9e779
[   40.913563] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007cb590
[   40.914218] RBP: ffff88801ead77f8 R08: 0000000000000000 R09: ffffed10032657d4
[   40.914896] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   40.915554] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801932bea0
[   40.916210] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   40.916978] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.917523] CR2: 00007fff00956878 CR3: 000000001441a001 CR4: 0000000000770ef0
[   40.918180] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.918832] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.919493] PKRU: 55555554
[   40.919755] Call Trace:
[   40.919994]  <TASK>
[   40.920212]  ? show_regs+0xa8/0xc0
[   40.920568]  ? die_addr+0x5d/0xf0
[   40.920916]  ? exc_general_protection+0x1ae/0x340
[   40.921399]  ? asm_exc_general_protection+0x2b/0x30
[   40.921890]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   40.922392]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.922881]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   40.923387]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   40.923876]  zap_huge_pmd+0x494/0xd40
[   40.924254]  unmap_page_range+0x1ad6/0x4320
[   40.924707]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   40.925205]  ? __pfx_unmap_page_range+0x10/0x10
[   40.925663]  unmap_single_vma+0x1ac/0x2d0
[   40.926070]  unmap_vmas+0x210/0x470
[   40.926434]  ? __pfx_unmap_vmas+0x10/0x10
[   40.926846]  ? __pfx_lock_release+0x10/0x10
[   40.927281]  ? lock_release+0x592/0x870
[   40.927658]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   40.928138]  ? __pfx_lock_release+0x10/0x10
[   40.928551]  ? mlock_drain_local+0x27f/0x4b0
[   40.928995]  exit_mmap+0x19e/0xb10
[   40.929360]  ? __pfx_exit_mmap+0x10/0x10
[   40.929763]  ? trace_hardirqs_on+0x51/0x60
[   40.930190]  ? __khugepaged_exit+0x266/0x4c0
[   40.930617]  ? kmem_cache_free+0x15d/0x420
[   40.931050]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   40.931582]  __mmput+0xd6/0x390
[   40.931906]  mmput+0x74/0x90
[   40.932207]  do_exit+0xa03/0x29f0
[   40.932548]  ? trace_hardirqs_on+0x51/0x60
[   40.932958]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   40.933550]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   40.934017]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   40.934483]  ? __pfx_do_exit+0x10/0x10
[   40.934871]  ? __audit_syscall_entry+0x39c/0x500
[   40.935350]  __x64_sys_exit+0x50/0x60
[   40.935714]  x64_sys_call+0x20c9/0x20d0
[   40.936096]  do_syscall_64+0x6d/0x140
[   40.936468]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   40.936951] RIP: 0033:0x7f8d0123ee5d
[   40.937319] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   40.937916] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.938624] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   40.939279] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.939937] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   40.940585] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   40.941241] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   40.941916]  </TASK>
[   40.942139] Modules linked in:
[   40.942688] ---[ end trace 0000000000000000 ]---
[   40.943139] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   40.943858] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   40.945529] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   40.946035] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   40.946694] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   40.947346] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   40.948069] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   40.948728] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   40.949397] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   40.950138] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   40.950682] CR2: 00007fff00956878 CR3: 000000001441a001 CR4: 0000000000770ef0
[   40.951356] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   40.952101] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   40.952766] PKRU: 55555554
[   40.953040] note: repro[7529] exited with preempt_count 1
[   40.953544] Fixing recursive fault but reboot is needed!
[   40.954034] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7529
[   40.954749] caller is debug_smp_processor_id+0x20/0x30
[   40.955246] CPU: 0 UID: 0 PID: 7529 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   40.956185] Tainted: [D]=DIE, [W]=WARN
[   40.956542] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.957578] Call Trace:
[   40.957825]  <TASK>
[   40.958041]  dump_stack_lvl+0x121/0x150
[   40.958435]  dump_stack+0x19/0x20
[   40.958775]  check_preemption_disabled+0x168/0x180
[   40.959246]  debug_smp_processor_id+0x20/0x30
[   40.959668]  __schedule+0x9a/0x2eb0
[   40.960034]  ? rcu_is_watching+0x19/0xc0
[   40.960422]  ? lock_release+0x592/0x870
[   40.960808]  ? __pfx___schedule+0x10/0x10
[   40.961205]  ? debug_smp_processor_id+0x20/0x30
[   40.961653]  ? rcu_is_watching+0x19/0xc0
[   40.962043]  ? trace_irq_enable+0xe1/0x120
[   40.962477]  ? do_task_dead+0x4a/0x110
[   40.962866]  do_task_dead+0xe0/0x110
[   40.963236]  make_task_dead+0x384/0x3c0
[   40.963617]  rewind_stack_and_make_dead+0x16/0x20
[   40.964029] RIP: 0033:0x7f8d0123ee5d
[   40.964345] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   40.964839] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.965454] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   40.966030] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.966628] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   40.967200] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   40.967774] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   40.968378]  </TASK>
[   40.968686] BUG: scheduling while atomic: repro/7529/0x00000000
[   40.969434] INFO: lockdep is turned off.
[   40.969822] Modules linked in:
[   40.970095] Preemption disabled at:
[   40.970099] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   40.970848] CPU: 0 UID: 0 PID: 7529 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   40.971612] Tainted: [D]=DIE, [W]=WARN
[   40.971927] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   40.972972] Call Trace:
[   40.973216]  <TASK>
[   40.973432]  dump_stack_lvl+0x121/0x150
[   40.973826]  ? do_task_dead+0x28/0x110
[   40.974223]  dump_stack+0x19/0x20
[   40.974597]  __schedule_bug+0x12d/0x180
[   40.974995]  __schedule+0x210c/0x2eb0
[   40.975359]  ? rcu_is_watching+0x19/0xc0
[   40.975756]  ? lock_release+0x592/0x870
[   40.976156]  ? __pfx___schedule+0x10/0x10
[   40.976561]  ? debug_smp_processor_id+0x20/0x30
[   40.977006]  ? rcu_is_watching+0x19/0xc0
[   40.977388]  ? trace_irq_enable+0xe1/0x120
[   40.977799]  ? do_task_dead+0x4a/0x110
[   40.978204]  do_task_dead+0xe0/0x110
[   40.978595]  make_task_dead+0x384/0x3c0
[   40.979019]  rewind_stack_and_make_dead+0x16/0x20
[   40.979473] RIP: 0033:0x7f8d0123ee5d
[   40.979827] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   40.980399] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   40.981097] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   40.981755] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   40.982404] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   40.983019] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   40.983725] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   40.984372]  </TASK>
[   41.477344] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#28] PREEMPT SMP KASAN NOPTI
[   41.478489] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   41.479197] CPU: 1 UID: 0 PID: 7824 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   41.480062] Tainted: [D]=DIE, [W]=WARN
[   41.480413] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.481429] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.481984] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.483666] RSP: 0018:ffff88801c1777d8 EFLAGS: 00010202
[   41.484162] RAX: dffffc0000000000 RBX: ffffea00007cfb80 RCX: ffffffff81b9e779
[   41.484812] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007cfb90
[   41.485460] RBP: ffff88801c1777f8 R08: 0000000000000000 R09: ffffed10028211bc
[   41.486127] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   41.486780] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888014108de0
[   41.487441] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.488173] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.488722] CR2: 00007f8d01601910 CR3: 0000000013850001 CR4: 0000000000770ef0
[   41.489377] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.490023] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.490674] PKRU: 55555554
[   41.490939] Call Trace:
[   41.491176]  <TASK>
[   41.491392]  ? show_regs+0xa8/0xc0
[   41.491735]  ? die_addr+0x5d/0xf0
[   41.492079]  ? exc_general_protection+0x1ae/0x340
[   41.492552]  ? asm_exc_general_protection+0x2b/0x30
[   41.493035]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   41.493528]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.494020]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   41.494511]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   41.495011]  zap_huge_pmd+0x494/0xd40
[   41.495394]  unmap_page_range+0x1ad6/0x4320
[   41.495802]  ? __pfx_lock_release+0x10/0x10
[   41.496205]  ? do_raw_spin_trylock+0xbf/0x190
[   41.496635]  ? __kasan_check_read+0x15/0x20
[   41.497047]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   41.497535]  ? __pfx_unmap_page_range+0x10/0x10
[   41.497985]  unmap_single_vma+0x1ac/0x2d0
[   41.498389]  unmap_vmas+0x210/0x470
[   41.498743]  ? __pfx_unmap_vmas+0x10/0x10
[   41.499135]  ? __pfx_lock_release+0x10/0x10
[   41.499531]  ? lock_release+0x592/0x870
[   41.499902]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   41.500384]  ? __pfx_lock_release+0x10/0x10
[   41.500797]  ? mlock_drain_local+0x27f/0x4b0
[   41.501227]  exit_mmap+0x19e/0xb10
[   41.501573]  ? __pfx_exit_mmap+0x10/0x10
[   41.501971]  ? trace_hardirqs_on+0x51/0x60
[   41.502386]  ? __khugepaged_exit+0x266/0x4c0
[   41.502806]  ? kmem_cache_free+0x15d/0x420
[   41.503208]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   41.503720]  __mmput+0xd6/0x390
[   41.504043]  mmput+0x74/0x90
[   41.504338]  do_exit+0xa03/0x29f0
[   41.504671]  ? trace_hardirqs_on+0x51/0x60
[   41.505078]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   41.505657]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   41.506129]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   41.506594]  ? __pfx_do_exit+0x10/0x10
[   41.506965]  ? __audit_syscall_entry+0x39c/0x500
[   41.507414]  __x64_sys_exit+0x50/0x60
[   41.507779]  x64_sys_call+0x20c9/0x20d0
[   41.508157]  do_syscall_64+0x6d/0x140
[   41.508522]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   41.509014] RIP: 0033:0x7f8d0123ee5d
[   41.509363] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   41.509932] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.510634] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   41.511304] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.511959] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   41.512618] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   41.513275] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   41.513946]  </TASK>
[   41.514169] Modules linked in:
[   41.514568] ---[ end trace 0000000000000000 ]---
[   41.515007] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   41.515571] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   41.517268] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   41.517766] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   41.518432] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   41.519093] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   41.519907] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   41.520585] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   41.521253] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   41.522003] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   41.522544] CR2: 00007f8d01601910 CR3: 0000000013850001 CR4: 0000000000770ef0
[   41.523216] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   41.524072] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   41.524742] PKRU: 55555554
[   41.525008] note: repro[7824] exited with preempt_count 1
[   41.525509] Fixing recursive fault but reboot is needed!
[   41.526001] BUG: using smp_processor_id() in preemptible [00000000] code: repro/7824
[   41.526709] caller is debug_smp_processor_id+0x20/0x30
[   41.527199] CPU: 1 UID: 0 PID: 7824 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   41.528064] Tainted: [D]=DIE, [W]=WARN
[   41.528425] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.529464] Call Trace:
[   41.529703]  <TASK>
[   41.529913]  dump_stack_lvl+0x121/0x150
[   41.530311]  dump_stack+0x19/0x20
[   41.530648]  check_preemption_disabled+0x168/0x180
[   41.531116]  debug_smp_processor_id+0x20/0x30
[   41.531544]  __schedule+0x9a/0x2eb0
[   41.531889]  ? rcu_is_watching+0x19/0xc0
[   41.532273]  ? lock_release+0x592/0x870
[   41.532651]  ? __pfx___schedule+0x10/0x10
[   41.533050]  ? debug_smp_processor_id+0x20/0x30
[   41.533491]  ? rcu_is_watching+0x19/0xc0
[   41.533871]  ? trace_irq_enable+0xe1/0x120
[   41.534282]  ? do_task_dead+0x4a/0x110
[   41.534663]  do_task_dead+0xe0/0x110
[   41.535027]  make_task_dead+0x384/0x3c0
[   41.535412]  rewind_stack_and_make_dead+0x16/0x20
[   41.535874] RIP: 0033:0x7f8d0123ee5d
[   41.536224] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   41.536788] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.537491] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   41.538159] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.538825] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   41.539489] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   41.540143] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   41.540813]  </TASK>
[   41.541193] BUG: scheduling while atomic: repro/7824/0x00000000
[   41.541746] INFO: lockdep is turned off.
[   41.542120] Modules linked in:
[   41.542415] Preemption disabled at:
[   41.542420] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   41.543271] CPU: 1 UID: 0 PID: 7824 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   41.544145] Tainted: [D]=DIE, [W]=WARN
[   41.544501] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   41.545530] Call Trace:
[   41.545769]  <TASK>
[   41.545983]  dump_stack_lvl+0x121/0x150
[   41.546368]  ? do_task_dead+0x28/0x110
[   41.546751]  dump_stack+0x19/0x20
[   41.547097]  __schedule_bug+0x12d/0x180
[   41.547476]  __schedule+0x210c/0x2eb0
[   41.547836]  ? rcu_is_watching+0x19/0xc0
[   41.548220]  ? lock_release+0x592/0x870
[   41.548600]  ? __pfx___schedule+0x10/0x10
[   41.549002]  ? debug_smp_processor_id+0x20/0x30
[   41.549437]  ? rcu_is_watching+0x19/0xc0
[   41.549818]  ? trace_irq_enable+0xe1/0x120
[   41.550231]  ? do_task_dead+0x4a/0x110
[   41.550613]  do_task_dead+0xe0/0x110
[   41.550979]  make_task_dead+0x384/0x3c0
[   41.551380]  rewind_stack_and_make_dead+0x16/0x20
[   41.551840] RIP: 0033:0x7f8d0123ee5d
[   41.552191] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   41.552759] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   41.553470] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   41.554133] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   41.554794] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   41.555448] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   41.556107] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   41.556779]  </TASK>
[   42.044781] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#29] PREEMPT SMP KASAN NOPTI
[   42.046104] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   42.046807] CPU: 1 UID: 0 PID: 8120 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   42.047819] Tainted: [D]=DIE, [W]=WARN
[   42.048178] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.049204] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.049762] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.051436] RSP: 0018:ffff888016b1f7d8 EFLAGS: 00010202
[   42.051937] RAX: dffffc0000000000 RBX: ffffea000058dd00 RCX: ffffffff81b9e779
[   42.052600] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000058dd10
[   42.053286] RBP: ffff888016b1f7f8 R08: 0000000000000000 R09: ffffed10034e200c
[   42.053939] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   42.054596] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801a710060
[   42.055257] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   42.056025] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.056571] CR2: 00007f8d013fca50 CR3: 0000000011d90002 CR4: 0000000000770ef0
[   42.057227] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.057892] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.058547] PKRU: 55555554
[   42.058815] Call Trace:
[   42.059060]  <TASK>
[   42.059272]  ? show_regs+0xa8/0xc0
[   42.059630]  ? die_addr+0x5d/0xf0
[   42.059967]  ? exc_general_protection+0x1ae/0x340
[   42.060419]  ? asm_exc_general_protection+0x2b/0x30
[   42.060875]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   42.061355]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.061829]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   42.062305]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   42.062783]  zap_huge_pmd+0x494/0xd40
[   42.063146]  unmap_page_range+0x1ad6/0x4320
[   42.063559]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   42.064027]  ? __pfx_unmap_page_range+0x10/0x10
[   42.064458]  unmap_single_vma+0x1ac/0x2d0
[   42.064845]  unmap_vmas+0x210/0x470
[   42.065195]  ? __pfx_unmap_vmas+0x10/0x10
[   42.065574]  ? __pfx_lock_release+0x10/0x10
[   42.065968]  ? lock_release+0x592/0x870
[   42.066334]  ? mas_next_slot+0x133a/0x1a50
[   42.066715]  ? __pfx_lock_release+0x10/0x10
[   42.067117]  ? mlock_drain_local+0x27f/0x4b0
[   42.067532]  exit_mmap+0x19e/0xb10
[   42.067868]  ? __pfx_exit_mmap+0x10/0x10
[   42.068272]  ? trace_hardirqs_on+0x51/0x60
[   42.068682]  ? __khugepaged_exit+0x266/0x4c0
[   42.069116]  ? kmem_cache_free+0x15d/0x420
[   42.069530]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   42.070061]  __mmput+0xd6/0x390
[   42.070391]  mmput+0x74/0x90
[   42.070684]  do_exit+0xa03/0x29f0
[   42.071017]  ? trace_hardirqs_on+0x51/0x60
[   42.071422]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   42.072008]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   42.072476]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   42.072910]  ? __pfx_do_exit+0x10/0x10
[   42.073252]  ? __audit_syscall_entry+0x39c/0x500
[   42.073669]  __x64_sys_exit+0x50/0x60
[   42.074006]  x64_sys_call+0x20c9/0x20d0
[   42.074348]  do_syscall_64+0x6d/0x140
[   42.074683]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   42.075134] RIP: 0033:0x7f8d0123ee5d
[   42.075453] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   42.075977] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.076613] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   42.077196] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.077772] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   42.078342] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   42.078923] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   42.079507]  </TASK>
[   42.079703] Modules linked in:
[   42.080093] ---[ end trace 0000000000000000 ]---
[   42.080488] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   42.080969] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   42.082428] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   42.082865] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   42.083562] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   42.084180] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   42.084838] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   42.085496] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   42.086154] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   42.086888] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   42.087619] CR2: 00007f8d013fca50 CR3: 0000000011d90002 CR4: 0000000000770ef0
[   42.088288] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   42.088962] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   42.089637] PKRU: 55555554
[   42.089909] note: repro[8120] exited with preempt_count 1
[   42.090423] Fixing recursive fault but reboot is needed!
[   42.090920] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8120
[   42.091749] caller is debug_smp_processor_id+0x20/0x30
[   42.092256] CPU: 1 UID: 0 PID: 8120 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   42.093129] Tainted: [D]=DIE, [W]=WARN
[   42.093488] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.094518] Call Trace:
[   42.094760]  <TASK>
[   42.094975]  dump_stack_lvl+0x121/0x150
[   42.095365]  dump_stack+0x19/0x20
[   42.095710]  check_preemption_disabled+0x168/0x180
[   42.096184]  debug_smp_processor_id+0x20/0x30
[   42.096610]  __schedule+0x9a/0x2eb0
[   42.096966]  ? rcu_is_watching+0x19/0xc0
[   42.097347]  ? lock_release+0x592/0x870
[   42.097727]  ? __pfx___schedule+0x10/0x10
[   42.098133]  ? debug_smp_processor_id+0x20/0x30
[   42.098578]  ? rcu_is_watching+0x19/0xc0
[   42.098967]  ? trace_irq_enable+0xe1/0x120
[   42.099374]  ? do_task_dead+0x4a/0x110
[   42.099762]  do_task_dead+0xe0/0x110
[   42.100132]  make_task_dead+0x384/0x3c0
[   42.100523]  rewind_stack_and_make_dead+0x16/0x20
[   42.100978] RIP: 0033:0x7f8d0123ee5d
[   42.101325] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   42.101890] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.102597] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   42.103255] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.103910] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   42.104561] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   42.105222] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   42.105879]  </TASK>
[   42.106116] BUG: scheduling while atomic: repro/8120/0x00000000
[   42.106634] INFO: lockdep is turned off.
[   42.106976] Modules linked in:
[   42.107249] Preemption disabled at:
[   42.107253] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   42.108041] CPU: 1 UID: 0 PID: 8120 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   42.108851] Tainted: [D]=DIE, [W]=WARN
[   42.109178] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   42.110116] Call Trace:
[   42.110344]  <TASK>
[   42.110544]  dump_stack_lvl+0x121/0x150
[   42.110905]  ? do_task_dead+0x28/0x110
[   42.111256]  dump_stack+0x19/0x20
[   42.111592]  __schedule_bug+0x12d/0x180
[   42.111990]  __schedule+0x210c/0x2eb0
[   42.112354]  ? rcu_is_watching+0x19/0xc0
[   42.112735]  ? lock_release+0x592/0x870
[   42.113115]  ? __pfx___schedule+0x10/0x10
[   42.113507]  ? debug_smp_processor_id+0x20/0x30
[   42.113948]  ? rcu_is_watching+0x19/0xc0
[   42.114335]  ? trace_irq_enable+0xe1/0x120
[   42.114747]  ? do_task_dead+0x4a/0x110
[   42.115133]  do_task_dead+0xe0/0x110
[   42.115494]  make_task_dead+0x384/0x3c0
[   42.115883]  rewind_stack_and_make_dead+0x16/0x20
[   42.116343] RIP: 0033:0x7f8d0123ee5d
[   42.116692] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   42.117260] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   42.117963] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   42.118618] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   42.119273] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   42.119921] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   42.120586] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   42.121268]  </TASK>
[   43.271103] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#30] PREEMPT SMP KASAN NOPTI
[   43.272223] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.272949] CPU: 1 UID: 0 PID: 8792 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.273807] Tainted: [D]=DIE, [W]=WARN
[   43.274181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.275229] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.275918] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.278109] RSP: 0018:ffff88801c2e77d8 EFLAGS: 00010202
[   43.278863] RAX: dffffc0000000000 RBX: ffffea0000450c40 RCX: ffffffff81b9e779
[   43.279719] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000450c50
[   43.280576] RBP: ffff88801c2e77f8 R08: 0000000000000000 R09: ffffed100384d26c
[   43.281430] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.282288] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c269360
[   43.283250] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.284218] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.284913] CR2: 00007f8d015e0658 CR3: 0000000011d92006 CR4: 0000000000770ef0
[   43.285771] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.286628] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.287482] PKRU: 55555554
[   43.287821] Call Trace:
[   43.288135]  <TASK>
[   43.288409]  ? show_regs+0xa8/0xc0
[   43.288856]  ? die_addr+0x5d/0xf0
[   43.289291]  ? exc_general_protection+0x1ae/0x340
[   43.289890]  ? asm_exc_general_protection+0x2b/0x30
[   43.290683]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.291413]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.292058]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.292698]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.293342]  zap_huge_pmd+0x494/0xd40
[   43.293820]  unmap_page_range+0x1ad6/0x4320
[   43.294368]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.295002]  ? __pfx_unmap_page_range+0x10/0x10
[   43.295583]  unmap_single_vma+0x1ac/0x2d0
[   43.296104]  unmap_vmas+0x210/0x470
[   43.296563]  ? __pfx_unmap_vmas+0x10/0x10
[   43.297181]  ? __pfx_lock_release+0x10/0x10
[   43.297727]  ? lock_release+0x592/0x870
[   43.298216]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.298830]  ? __pfx_lock_release+0x10/0x10
[   43.299385]  ? mlock_drain_local+0x27f/0x4b0
[   43.299949]  exit_mmap+0x19e/0xb10
[   43.300401]  ? __pfx_exit_mmap+0x10/0x10
[   43.300911]  ? trace_hardirqs_on+0x51/0x60
[   43.301534]  ? __khugepaged_exit+0x266/0x4c0
[   43.302078]  ? kmem_cache_free+0x15d/0x420
[   43.302601]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.303273]  __mmput+0xd6/0x390
[   43.303688]  mmput+0x74/0x90
[   43.304070]  do_exit+0xa03/0x29f0
[   43.304504]  ? trace_hardirqs_on+0x51/0x60
[   43.305030]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.305887]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.306496]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.307103]  ? __pfx_do_exit+0x10/0x10
[   43.307584]  ? __audit_syscall_entry+0x39c/0x500
[   43.308175]  __x64_sys_exit+0x50/0x60
[   43.308645]  x64_sys_call+0x20c9/0x20d0
[   43.309135]  do_syscall_64+0x6d/0x140
[   43.309602]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.310210] RIP: 0033:0x7f8d0123ee5d
[   43.310637] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.311338] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.312200] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.313010] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.313834] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.314643] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.315453] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.316278]  </TASK>
[   43.316546] Modules linked in:
[   43.317150] ---[ end trace 0000000000000000 ]---
[   43.317692] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.318342] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.320483] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   43.321240] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   43.322025] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   43.322808] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   43.323694] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.324509] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   43.325247] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.326083] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.326684] CR2: 00007f8d015e0658 CR3: 0000000011d92006 CR4: 0000000000770ef0
[   43.327454] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.328197] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.328929] PKRU: 55555554
[   43.329342] note: repro[8792] exited with preempt_count 1
[   43.329903] Fixing recursive fault but reboot is needed!
[   43.330460] BUG: using smp_processor_id() in preemptible [00000000] code: repro/8792
[   43.331230] caller is debug_smp_processor_id+0x20/0x30
[   43.331772] CPU: 1 UID: 0 PID: 8792 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.332709] Tainted: [D]=DIE, [W]=WARN
[   43.333250] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.334409] Call Trace:
[   43.334882]  <TASK>
[   43.335153]  dump_stack_lvl+0x121/0x150
[   43.335568]  dump_stack+0x19/0x20
[   43.335967]  check_preemption_disabled+0x168/0x180
[   43.336457]  debug_smp_processor_id+0x20/0x30
[   43.336906]  __schedule+0x9a/0x2eb0
[   43.337278]  ? rcu_is_watching+0x19/0xc0
[   43.337686]  ? lock_release+0x592/0x870
[   43.338085]  ? __pfx___schedule+0x10/0x10
[   43.338481]  ? debug_smp_processor_id+0x20/0x30
[   43.338948]  ? rcu_is_watching+0x19/0xc0
[   43.339516]  ? trace_irq_enable+0xe1/0x120
[   43.339958]  ? do_task_dead+0x4a/0x110
[   43.340343]  do_task_dead+0xe0/0x110
[   43.340710]  make_task_dead+0x384/0x3c0
[   43.341101]  rewind_stack_and_make_dead+0x16/0x20
[   43.341563] RIP: 0033:0x7f8d0123ee5d
[   43.341917] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.342500] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.343216] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.343882] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.344539] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.345182] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.345822] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.346479]  </TASK>
[   43.347058] BUG: scheduling while atomic: repro/8792/0x00000000
[   43.347647] INFO: lockdep is turned off.
[   43.348015] Modules linked in:
[   43.348303] Preemption disabled at:
[   43.348308] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   43.349100] CPU: 1 UID: 0 PID: 8792 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.349921] Tainted: [D]=DIE, [W]=WARN
[   43.350259] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.351241] Call Trace:
[   43.351469]  <TASK>
[   43.351669]  dump_stack_lvl+0x121/0x150
[   43.352033]  ? do_task_dead+0x28/0x110
[   43.352386]  dump_stack+0x19/0x20
[   43.352700]  __schedule_bug+0x12d/0x180
[   43.353064]  __schedule+0x210c/0x2eb0
[   43.353403]  ? rcu_is_watching+0x19/0xc0
[   43.353754]  ? lock_release+0x592/0x870
[   43.354097]  ? __pfx___schedule+0x10/0x10
[   43.354452]  ? debug_smp_processor_id+0x20/0x30
[   43.354850]  ? rcu_is_watching+0x19/0xc0
[   43.355199]  ? trace_irq_enable+0xe1/0x120
[   43.355566]  ? do_task_dead+0x4a/0x110
[   43.355906]  do_task_dead+0xe0/0x110
[   43.356243]  make_task_dead+0x384/0x3c0
[   43.356588]  rewind_stack_and_make_dead+0x16/0x20
[   43.357121] RIP: 0033:0x7f8d0123ee5d
[   43.357548] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.358220] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.358857] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.359456] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.360037] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.360612] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.361191] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.361777]  </TASK>
[   43.830650] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#31] PREEMPT SMP KASAN NOPTI
[   43.831898] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.832676] CPU: 1 UID: 0 PID: 9075 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.833648] Tainted: [D]=DIE, [W]=WARN
[   43.834046] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.835206] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.835820] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.837693] RSP: 0018:ffff888023b177d8 EFLAGS: 00010202
[   43.838246] RAX: dffffc0000000000 RBX: ffffea000076cdc0 RCX: ffffffff81b9e779
[   43.838979] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000076cdd0
[   43.839714] RBP: ffff888023b177f8 R08: 0000000000000000 R09: ffffed10024c3b68
[   43.840446] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.841164] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801261db40
[   43.841860] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.842646] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.843218] CR2: 00007f8d015e0658 CR3: 0000000011a28006 CR4: 0000000000770ef0
[   43.843917] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.844621] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.845322] PKRU: 55555554
[   43.845599] Call Trace:
[   43.845853]  <TASK>
[   43.846083]  ? show_regs+0xa8/0xc0
[   43.846430]  ? die_addr+0x5d/0xf0
[   43.846766]  ? exc_general_protection+0x1ae/0x340
[   43.847241]  ? asm_exc_general_protection+0x2b/0x30
[   43.847725]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.848224]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.848722]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.849225]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.849724]  zap_huge_pmd+0x494/0xd40
[   43.850099]  unmap_page_range+0x1ad6/0x4320
[   43.850523]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.851017]  ? __pfx_unmap_page_range+0x10/0x10
[   43.851471]  unmap_single_vma+0x1ac/0x2d0
[   43.851870]  unmap_vmas+0x210/0x470
[   43.852228]  ? __pfx_unmap_vmas+0x10/0x10
[   43.852634]  ? __pfx_lock_release+0x10/0x10
[   43.853031]  ? lock_release+0x592/0x870
[   43.853391]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   43.853849]  ? __pfx_lock_release+0x10/0x10
[   43.854247]  ? mlock_drain_local+0x27f/0x4b0
[   43.854654]  exit_mmap+0x19e/0xb10
[   43.854992]  ? __pfx_exit_mmap+0x10/0x10
[   43.855372]  ? trace_hardirqs_on+0x51/0x60
[   43.855768]  ? __khugepaged_exit+0x266/0x4c0
[   43.856176]  ? kmem_cache_free+0x15d/0x420
[   43.856572]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.857072]  __mmput+0xd6/0x390
[   43.857380]  mmput+0x74/0x90
[   43.857684]  do_exit+0xa03/0x29f0
[   43.858040]  ? trace_hardirqs_on+0x51/0x60
[   43.858467]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.859072]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.859508]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.859947]  ? __pfx_do_exit+0x10/0x10
[   43.860300]  ? __audit_syscall_entry+0x39c/0x500
[   43.860721]  __x64_sys_exit+0x50/0x60
[   43.861064]  x64_sys_call+0x20c9/0x20d0
[   43.861413]  do_syscall_64+0x6d/0x140
[   43.861755]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.862215] RIP: 0033:0x7f8d0123ee5d
[   43.862540] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.863075] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.863710] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.864304] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.864895] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.865491] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.866085] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.866684]  </TASK>
[   43.866879] Modules linked in:
[   43.867328] ---[ end trace 0000000000000000 ]---
[   43.867821] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.868319] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.869796] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   43.870227] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   43.870800] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   43.871492] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   43.872073] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.872647] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   43.873233] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.873883] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.874364] CR2: 00007f8d015e0658 CR3: 0000000011a28006 CR4: 0000000000770ef0
[   43.874899] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.875347] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.875802] PKRU: 55555554
[   43.876052] note: repro[9075] exited with preempt_count 1
[   43.876551] Fixing recursive fault but reboot is needed!
[   43.877046] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9075
[   43.877801] caller is debug_smp_processor_id+0x20/0x30
[   43.878395] CPU: 1 UID: 0 PID: 9075 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.879256] Tainted: [D]=DIE, [W]=WARN
[   43.879608] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.880638] Call Trace:
[   43.880880]  <TASK>
[   43.881094]  dump_stack_lvl+0x121/0x150
[   43.881480]  dump_stack+0x19/0x20
[   43.881815]  check_preemption_disabled+0x168/0x180
[   43.882280]  debug_smp_processor_id+0x20/0x30
[   43.882697]  __schedule+0x9a/0x2eb0
[   43.883047]  ? rcu_is_watching+0x19/0xc0
[   43.883430]  ? lock_release+0x592/0x870
[   43.883808]  ? __pfx___schedule+0x10/0x10
[   43.884381]  ? debug_smp_processor_id+0x20/0x30
[   43.884983]  ? rcu_is_watching+0x19/0xc0
[   43.885364]  ? trace_irq_enable+0xe1/0x120
[   43.885773]  ? do_task_dead+0x4a/0x110
[   43.886152]  do_task_dead+0xe0/0x110
[   43.886513]  make_task_dead+0x384/0x3c0
[   43.886895]  rewind_stack_and_make_dead+0x16/0x20
[   43.887352] RIP: 0033:0x7f8d0123ee5d
[   43.887698] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.888398] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.889096] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.889755] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.890421] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.891263] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.891914] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.892731]  </TASK>
[   43.893145] BUG: scheduling while atomic: repro/9075/0x00000000
[   43.893711] INFO: lockdep is turned off.
[   43.894078] Modules linked in:
[   43.894371] Preemption disabled at:
[   43.894376] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   43.895395] CPU: 1 UID: 0 PID: 9075 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.896269] Tainted: [D]=DIE, [W]=WARN
[   43.896621] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.897816] Call Trace:
[   43.898060]  <TASK>
[   43.898275]  dump_stack_lvl+0x121/0x150
[   43.898668]  ? do_task_dead+0x28/0x110
[   43.899066]  dump_stack+0x19/0x20
[   43.899522]  __schedule_bug+0x12d/0x180
[   43.899911]  __schedule+0x210c/0x2eb0
[   43.900286]  ? rcu_is_watching+0x19/0xc0
[   43.900669]  ? lock_release+0x592/0x870
[   43.901061]  ? __pfx___schedule+0x10/0x10
[   43.901555]  ? debug_smp_processor_id+0x20/0x30
[   43.901990]  ? rcu_is_watching+0x19/0xc0
[   43.902381]  ? trace_irq_enable+0xe1/0x120
[   43.902790]  ? do_task_dead+0x4a/0x110
[   43.903167]  do_task_dead+0xe0/0x110
[   43.903535]  make_task_dead+0x384/0x3c0
[   43.903919]  rewind_stack_and_make_dead+0x16/0x20
[   43.904378] RIP: 0033:0x7f8d0123ee5d
[   43.904780] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.905357] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.906060] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.906711] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.907362] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.908101] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.908760] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.909431]  </TASK>
[   43.909838] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#32] PREEMPT SMP KASAN NOPTI
[   43.911271] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   43.912072] CPU: 1 UID: 0 PID: 9115 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.912739] Tainted: [D]=DIE, [W]=WARN
[   43.913012] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.913924] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.914644] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.916505] RSP: 0018:ffff88802383f7d8 EFLAGS: 00010202
[   43.916969] RAX: dffffc0000000000 RBX: ffffea000083a040 RCX: ffffffff81b9e779
[   43.917603] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000083a050
[   43.918455] RBP: ffff88802383f7f8 R08: 0000000000000000 R09: ffffed1003e6b654
[   43.919307] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   43.919897] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f35b2a0
[   43.920474] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.921179] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.921748] CR2: 00007f8d015e0658 CR3: 000000001f3a2001 CR4: 0000000000770ef0
[   43.922452] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.923152] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.923721] PKRU: 55555554
[   43.923944] Call Trace:
[   43.924145]  <TASK>
[   43.924324]  ? show_regs+0xa8/0xc0
[   43.924610]  ? die_addr+0x5d/0xf0
[   43.924890]  ? exc_general_protection+0x1ae/0x340
[   43.925236]  ? asm_exc_general_protection+0x2b/0x30
[   43.925576]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   43.925926]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.926283]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   43.926639]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   43.926995]  zap_huge_pmd+0x494/0xd40
[   43.927264]  unmap_page_range+0x1ad6/0x4320
[   43.927564]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   43.927911]  ? __pfx_unmap_page_range+0x10/0x10
[   43.928228]  unmap_single_vma+0x1ac/0x2d0
[   43.928502]  unmap_vmas+0x210/0x470
[   43.928745]  ? __pfx_unmap_vmas+0x10/0x10
[   43.929018]  ? __pfx_lock_release+0x10/0x10
[   43.929298]  ? lock_release+0x592/0x870
[   43.929557]  ? mas_next_slot+0x133a/0x1a50
[   43.929836]  ? __pfx_lock_release+0x10/0x10
[   43.930118]  ? mlock_drain_local+0x27f/0x4b0
[   43.930401]  exit_mmap+0x19e/0xb10
[   43.930634]  ? __pfx_exit_mmap+0x10/0x10
[   43.930897]  ? trace_hardirqs_on+0x51/0x60
[   43.931174]  ? __khugepaged_exit+0x266/0x4c0
[   43.931455]  ? kmem_cache_free+0x15d/0x420
[   43.931723]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   43.932058]  __mmput+0xd6/0x390
[   43.932264]  mmput+0x74/0x90
[   43.932455]  do_exit+0xa03/0x29f0
[   43.932673]  ? trace_hardirqs_on+0x51/0x60
[   43.932939]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   43.933327]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   43.933635]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   43.933942]  ? __pfx_do_exit+0x10/0x10
[   43.934185]  ? __audit_syscall_entry+0x39c/0x500
[   43.934481]  __x64_sys_exit+0x50/0x60
[   43.934719]  x64_sys_call+0x20c9/0x20d0
[   43.934965]  do_syscall_64+0x6d/0x140
[   43.935205]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   43.935522] RIP: 0033:0x7f8d0123ee5d
[   43.935750] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.936125] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.936587] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.937011] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.937433] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.937856] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.938280] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.938708]  </TASK>
[   43.938845] Modules linked in:
[   43.939084] ---[ end trace 0000000000000000 ]---
[   43.939358] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   43.939714] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   43.940771] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   43.941075] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   43.941477] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   43.941877] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   43.942278] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   43.942687] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   43.943090] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   43.943576] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   43.943964] CR2: 00007f8d015e0658 CR3: 000000001f3a2001 CR4: 0000000000770ef0
[   43.944446] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   43.944888] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   43.945290] PKRU: 55555554
[   43.945452] note: repro[9115] exited with preempt_count 1
[   43.945759] Fixing recursive fault but reboot is needed!
[   43.946058] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9115
[   43.946496] caller is debug_smp_processor_id+0x20/0x30
[   43.946849] CPU: 1 UID: 0 PID: 9115 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.947479] Tainted: [D]=DIE, [W]=WARN
[   43.947734] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.948800] Call Trace:
[   43.949116]  <TASK>
[   43.949388]  dump_stack_lvl+0x121/0x150
[   43.949759]  dump_stack+0x19/0x20
[   43.949962]  check_preemption_disabled+0x168/0x180
[   43.950243]  debug_smp_processor_id+0x20/0x30
[   43.950498]  __schedule+0x9a/0x2eb0
[   43.950708]  ? rcu_is_watching+0x19/0xc0
[   43.950938]  ? lock_release+0x592/0x870
[   43.951161]  ? __pfx___schedule+0x10/0x10
[   43.951400]  ? debug_smp_processor_id+0x20/0x30
[   43.951667]  ? rcu_is_watching+0x19/0xc0
[   43.951898]  ? trace_irq_enable+0xe1/0x120
[   43.952144]  ? do_task_dead+0x4a/0x110
[   43.952372]  do_task_dead+0xe0/0x110
[   43.952591]  make_task_dead+0x384/0x3c0
[   43.952823]  rewind_stack_and_make_dead+0x16/0x20
[   43.953098] RIP: 0033:0x7f8d0123ee5d
[   43.953310] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.953661] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.954089] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.954490] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.954892] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.955295] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.955695] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.956116]  </TASK>
[   43.956356] BUG: scheduling while atomic: repro/9115/0x00000000
[   43.956693] INFO: lockdep is turned off.
[   43.956918] Modules linked in:
[   43.957101] Preemption disabled at:
[   43.957104] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   43.957617] CPU: 1 UID: 0 PID: 9115 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   43.958153] Tainted: [D]=DIE, [W]=WARN
[   43.958370] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   43.959056] Call Trace:
[   43.959257]  <TASK>
[   43.959436]  dump_stack_lvl+0x121/0x150
[   43.959758]  ? do_task_dead+0x28/0x110
[   43.960075]  dump_stack+0x19/0x20
[   43.960355]  __schedule_bug+0x12d/0x180
[   43.960674]  __schedule+0x210c/0x2eb0
[   43.961017]  ? rcu_is_watching+0x19/0xc0
[   43.961388]  ? lock_release+0x592/0x870
[   43.961753]  ? __pfx___schedule+0x10/0x10
[   43.962137]  ? debug_smp_processor_id+0x20/0x30
[   43.962542]  ? rcu_is_watching+0x19/0xc0
[   43.962874]  ? trace_irq_enable+0xe1/0x120
[   43.963230]  ? do_task_dead+0x4a/0x110
[   43.963556]  do_task_dead+0xe0/0x110
[   43.963868]  make_task_dead+0x384/0x3c0
[   43.964187]  rewind_stack_and_make_dead+0x16/0x20
[   43.964463] RIP: 0033:0x7f8d0123ee5d
[   43.964675] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   43.965025] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   43.965455] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   43.965859] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   43.966264] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   43.966668] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   43.967072] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   43.967485]  </TASK>
[   45.069381] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#33] PREEMPT SMP KASAN NOPTI
[   45.070495] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.071429] CPU: 0 UID: 0 PID: 9736 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   45.072324] Tainted: [D]=DIE, [W]=WARN
[   45.072677] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.073699] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.074259] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.075906] RSP: 0018:ffff8880201af7d8 EFLAGS: 00010202
[   45.076405] RAX: dffffc0000000000 RBX: ffffea0000471540 RCX: ffffffff81b9e779
[   45.077437] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000471550
[   45.078167] RBP: ffff8880201af7f8 R08: 0000000000000000 R09: ffffed100381a3ec
[   45.078921] R10: 0000000000000001 R11: ffff88806c6489c0 R12: 0000000000000000
[   45.079582] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0d1f60
[   45.080234] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.080975] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.081506] CR2: 00007f8d0129bc20 CR3: 0000000011076004 CR4: 0000000000770ef0
[   45.082165] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.082953] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.083959] PKRU: 55555554
[   45.084279] Call Trace:
[   45.084545]  <TASK>
[   45.084762]  ? show_regs+0xa8/0xc0
[   45.085116]  ? die_addr+0x5d/0xf0
[   45.085470]  ? exc_general_protection+0x1ae/0x340
[   45.085952]  ? asm_exc_general_protection+0x2b/0x30
[   45.086454]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.087022]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.087816]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.088332]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.088826]  zap_huge_pmd+0x494/0xd40
[   45.089209]  unmap_page_range+0x1ad6/0x4320
[   45.089775]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.090278]  ? __pfx_unmap_page_range+0x10/0x10
[   45.090741]  unmap_single_vma+0x1ac/0x2d0
[   45.091277]  unmap_vmas+0x210/0x470
[   45.091832]  ? __pfx_unmap_vmas+0x10/0x10
[   45.092266]  ? __pfx_lock_release+0x10/0x10
[   45.092691]  ? lock_release+0x592/0x870
[   45.093081]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.093554]  ? __pfx_lock_release+0x10/0x10
[   45.093969]  ? mlock_drain_local+0x27f/0x4b0
[   45.094418]  exit_mmap+0x19e/0xb10
[   45.094768]  ? __pfx_exit_mmap+0x10/0x10
[   45.095186]  ? trace_hardirqs_on+0x51/0x60
[   45.095599]  ? __khugepaged_exit+0x266/0x4c0
[   45.096021]  ? kmem_cache_free+0x15d/0x420
[   45.096492]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.097021]  __mmput+0xd6/0x390
[   45.097496]  mmput+0x74/0x90
[   45.098054]  do_exit+0xa03/0x29f0
[   45.098406]  ? trace_hardirqs_on+0x51/0x60
[   45.098822]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.099424]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.099886]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.100360]  ? __pfx_do_exit+0x10/0x10
[   45.100738]  ? __audit_syscall_entry+0x39c/0x500
[   45.101201]  __x64_sys_exit+0x50/0x60
[   45.101697]  x64_sys_call+0x20c9/0x20d0
[   45.102104]  do_syscall_64+0x6d/0x140
[   45.102479]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.103009] RIP: 0033:0x7f8d0123ee5d
[   45.103457] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   45.104334] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.105060] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   45.105724] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.106370] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   45.107029] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   45.107675] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   45.108327]  </TASK>
[   45.108542] Modules linked in:
[   45.109105] ---[ end trace 0000000000000000 ]---
[   45.109569] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.110424] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.112088] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   45.112570] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   45.113216] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   45.113993] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   45.114871] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.115591] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   45.116253] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.117007] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.117555] CR2: 00007f8d0129bc20 CR3: 0000000011076004 CR4: 0000000000770ef0
[   45.118214] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.118877] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.119599] PKRU: 55555554
[   45.119892] note: repro[9736] exited with preempt_count 1
[   45.120544] Fixing recursive fault but reboot is needed!
[   45.121044] BUG: using smp_processor_id() in preemptible [00000000] code: repro/9736
[   45.121771] caller is debug_smp_processor_id+0x20/0x30
[   45.122266] CPU: 0 UID: 0 PID: 9736 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   45.123143] Tainted: [D]=DIE, [W]=WARN
[   45.123511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.124963] Call Trace:
[   45.125206]  <TASK>
[   45.125425]  dump_stack_lvl+0x121/0x150
[   45.125826]  dump_stack+0x19/0x20
[   45.126174]  check_preemption_disabled+0x168/0x180
[   45.126659]  debug_smp_processor_id+0x20/0x30
[   45.127108]  __schedule+0x9a/0x2eb0
[   45.127577]  ? rcu_is_watching+0x19/0xc0
[   45.127994]  ? lock_release+0x592/0x870
[   45.128591]  ? __pfx___schedule+0x10/0x10
[   45.129160]  ? debug_smp_processor_id+0x20/0x30
[   45.129616]  ? rcu_is_watching+0x19/0xc0
[   45.130013]  ? trace_irq_enable+0xe1/0x120
[   45.130426]  ? do_task_dead+0x4a/0x110
[   45.130815]  do_task_dead+0xe0/0x110
[   45.131188]  make_task_dead+0x384/0x3c0
[   45.131576]  rewind_stack_and_make_dead+0x16/0x20
[   45.132033] RIP: 0033:0x7f8d0123ee5d
[   45.132424] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   45.133096] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.133791] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   45.134575] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.135496] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   45.136189] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   45.136836] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   45.137510]  </TASK>
[   45.137796] BUG: scheduling while atomic: repro/9736/0x00000000
[   45.138359] INFO: lockdep is turned off.
[   45.138720] Modules linked in:
[   45.139026] Preemption disabled at:
[   45.139031] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.139921] CPU: 0 UID: 0 PID: 9736 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   45.140732] Tainted: [D]=DIE, [W]=WARN
[   45.141166] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.142113] Call Trace:
[   45.142328]  <TASK>
[   45.142508]  dump_stack_lvl+0x121/0x150
[   45.142833]  ? do_task_dead+0x28/0x110
[   45.143146]  dump_stack+0x19/0x20
[   45.143430]  __schedule_bug+0x12d/0x180
[   45.143749]  __schedule+0x210c/0x2eb0
[   45.144068]  ? rcu_is_watching+0x19/0xc0
[   45.144443]  ? lock_release+0x592/0x870
[   45.144815]  ? __pfx___schedule+0x10/0x10
[   45.145212]  ? debug_smp_processor_id+0x20/0x30
[   45.145656]  ? rcu_is_watching+0x19/0xc0
[   45.146048]  ? trace_irq_enable+0xe1/0x120
[   45.146475]  ? do_task_dead+0x4a/0x110
[   45.146856]  do_task_dead+0xe0/0x110
[   45.147222]  make_task_dead+0x384/0x3c0
[   45.147610]  rewind_stack_and_make_dead+0x16/0x20
[   45.148061] RIP: 0033:0x7f8d0123ee5d
[   45.148420] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   45.149139] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.150050] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   45.150728] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.151396] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   45.152073] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   45.152737] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   45.153751]  </TASK>
[   45.747169] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#34] PREEMPT SMP KASAN NOPTI
[   45.748291] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   45.748993] CPU: 0 UID: 0 PID: 10094 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   45.749885] Tainted: [D]=DIE, [W]=WARN
[   45.750242] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.751274] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.751859] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.753513] RSP: 0018:ffff88801914f7d8 EFLAGS: 00010202
[   45.754027] RAX: dffffc0000000000 RBX: ffffea00005a3440 RCX: ffffffff81b9e779
[   45.754685] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00005a3450
[   45.755335] RBP: ffff88801914f7f8 R08: 0000000000000000 R09: ffffed1001f50b8c
[   45.756014] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   45.756664] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800fa85c60
[   45.757318] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.758069] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.758599] CR2: 00007f8d01600df0 CR3: 0000000020d44004 CR4: 0000000000770ef0
[   45.759266] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.759961] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.760615] PKRU: 55555554
[   45.760877] Call Trace:
[   45.761121]  <TASK>
[   45.761332]  ? show_regs+0xa8/0xc0
[   45.761689]  ? die_addr+0x5d/0xf0
[   45.762026]  ? exc_general_protection+0x1ae/0x340
[   45.762485]  ? asm_exc_general_protection+0x2b/0x30
[   45.762977]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   45.763475]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.763999]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   45.764510]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   45.765010]  zap_huge_pmd+0x494/0xd40
[   45.765381]  unmap_page_range+0x1ad6/0x4320
[   45.765804]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   45.766305]  ? __pfx_unmap_page_range+0x10/0x10
[   45.766757]  unmap_single_vma+0x1ac/0x2d0
[   45.767164]  unmap_vmas+0x210/0x470
[   45.767527]  ? __pfx_unmap_vmas+0x10/0x10
[   45.767921]  ? __pfx_lock_release+0x10/0x10
[   45.768341]  ? lock_release+0x592/0x870
[   45.768726]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   45.769216]  ? __pfx_lock_release+0x10/0x10
[   45.769624]  ? mlock_drain_local+0x27f/0x4b0
[   45.770064]  exit_mmap+0x19e/0xb10
[   45.770436]  ? __pfx_exit_mmap+0x10/0x10
[   45.770833]  ? trace_hardirqs_on+0x51/0x60
[   45.771246]  ? __khugepaged_exit+0x266/0x4c0
[   45.771682]  ? kmem_cache_free+0x15d/0x420
[   45.772091]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   45.772603]  __mmput+0xd6/0x390
[   45.772923]  mmput+0x74/0x90
[   45.773229]  do_exit+0xa03/0x29f0
[   45.773574]  ? trace_hardirqs_on+0x51/0x60
[   45.773990]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   45.774599]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   45.775064]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   45.775527]  ? __pfx_do_exit+0x10/0x10
[   45.775906]  ? __audit_syscall_entry+0x39c/0x500
[   45.776375]  __x64_sys_exit+0x50/0x60
[   45.776739]  x64_sys_call+0x20c9/0x20d0
[   45.777126]  do_syscall_64+0x6d/0x140
[   45.777500]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   45.777980] RIP: 0033:0x7f8d0123ee5d
[   45.778313] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   45.778886] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.779850] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   45.780485] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.781121] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   45.781742] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   45.782374] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   45.783121]  </TASK>
[   45.783444] Modules linked in:
[   45.783990] ---[ end trace 0000000000000000 ]---
[   45.784423] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   45.784960] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   45.786502] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   45.787006] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   45.788125] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   45.788754] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   45.789378] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   45.789981] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   45.790564] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   45.791200] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   45.791817] CR2: 00007f8d01600df0 CR3: 0000000020d44004 CR4: 0000000000770ef0
[   45.792393] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   45.792967] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   45.793524] PKRU: 55555554
[   45.793754] note: repro[10094] exited with preempt_count 1
[   45.794279] Fixing recursive fault but reboot is needed!
[   45.794755] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10094
[   45.795575] caller is debug_smp_processor_id+0x20/0x30
[   45.796075] CPU: 0 UID: 0 PID: 10094 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   45.796955] Tainted: [D]=DIE, [W]=WARN
[   45.797309] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.798344] Call Trace:
[   45.798592]  <TASK>
[   45.798814]  dump_stack_lvl+0x121/0x150
[   45.799207]  dump_stack+0x19/0x20
[   45.799558]  check_preemption_disabled+0x168/0x180
[   45.800021]  debug_smp_processor_id+0x20/0x30
[   45.800443]  __schedule+0x9a/0x2eb0
[   45.800798]  ? rcu_is_watching+0x19/0xc0
[   45.801168]  ? lock_release+0x592/0x870
[   45.801504]  ? __pfx___schedule+0x10/0x10
[   45.801848]  ? debug_smp_processor_id+0x20/0x30
[   45.802238]  ? rcu_is_watching+0x19/0xc0
[   45.802574]  ? trace_irq_enable+0xe1/0x120
[   45.802949]  ? do_task_dead+0x4a/0x110
[   45.803293]  do_task_dead+0xe0/0x110
[   45.803617]  make_task_dead+0x384/0x3c0
[   45.803959]  rewind_stack_and_make_dead+0x16/0x20
[   45.804368] RIP: 0033:0x7f8d0123ee5d
[   45.804668] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   45.805159] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.805781] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   45.806582] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.807163] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   45.807685] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   45.808214] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   45.808739]  </TASK>
[   45.808947] BUG: scheduling while atomic: repro/10094/0x00000000
[   45.809386] INFO: lockdep is turned off.
[   45.809671] Modules linked in:
[   45.809905] Preemption disabled at:
[   45.809909] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   45.810572] CPU: 0 UID: 0 PID: 10094 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   45.811243] Tainted: [D]=DIE, [W]=WARN
[   45.811511] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   45.812871] Call Trace:
[   45.813073]  <TASK>
[   45.813237]  dump_stack_lvl+0x121/0x150
[   45.813528]  ? do_task_dead+0x28/0x110
[   45.813809]  dump_stack+0x19/0x20
[   45.814065]  __schedule_bug+0x12d/0x180
[   45.814349]  __schedule+0x210c/0x2eb0
[   45.814615]  ? rcu_is_watching+0x19/0xc0
[   45.814895]  ? lock_release+0x592/0x870
[   45.815173]  ? __pfx___schedule+0x10/0x10
[   45.815461]  ? debug_smp_processor_id+0x20/0x30
[   45.815782]  ? rcu_is_watching+0x19/0xc0
[   45.816066]  ? trace_irq_enable+0xe1/0x120
[   45.816369]  ? do_task_dead+0x4a/0x110
[   45.816638]  do_task_dead+0xe0/0x110
[   45.816894]  make_task_dead+0x384/0x3c0
[   45.817169]  rewind_stack_and_make_dead+0x16/0x20
[   45.817503] RIP: 0033:0x7f8d0123ee5d
[   45.817755] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   45.818161] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   45.818919] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   45.819413] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   45.819879] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   45.820342] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   45.820803] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   45.821289]  </TASK>
[   46.025840] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#35] PREEMPT SMP KASAN NOPTI
[   46.026976] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.027664] CPU: 0 UID: 0 PID: 10222 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   46.028570] Tainted: [D]=DIE, [W]=WARN
[   46.028928] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.029963] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.030555] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.032229] RSP: 0018:ffff8880203277d8 EFLAGS: 00010202
[   46.032724] RAX: dffffc0000000000 RBX: ffffea0000513740 RCX: ffffffff81b9e779
[   46.033380] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000513750
[   46.034028] RBP: ffff8880203277f8 R08: 0000000000000000 R09: ffffed10024f9998
[   46.034681] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.035339] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880127cccc0
[   46.035997] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.036779] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.037354] CR2: 00007fff00956878 CR3: 000000001248a005 CR4: 0000000000770ef0
[   46.038014] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.038671] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.039329] PKRU: 55555554
[   46.039600] Call Trace:
[   46.039838]  <TASK>
[   46.040073]  ? show_regs+0xa8/0xc0
[   46.040415]  ? die_addr+0x5d/0xf0
[   46.040759]  ? exc_general_protection+0x1ae/0x340
[   46.041236]  ? asm_exc_general_protection+0x2b/0x30
[   46.041739]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.042231]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.042720]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.043218]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.043715]  zap_huge_pmd+0x494/0xd40
[   46.044096]  unmap_page_range+0x1ad6/0x4320
[   46.044525]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.045034]  ? __pfx_unmap_page_range+0x10/0x10
[   46.045509]  unmap_single_vma+0x1ac/0x2d0
[   46.045929]  unmap_vmas+0x210/0x470
[   46.046326]  ? __pfx_unmap_vmas+0x10/0x10
[   46.046745]  ? __pfx_lock_release+0x10/0x10
[   46.047154]  ? lock_release+0x592/0x870
[   46.047526]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   46.048002]  ? __pfx_lock_release+0x10/0x10
[   46.048407]  ? mlock_drain_local+0x27f/0x4b0
[   46.048831]  exit_mmap+0x19e/0xb10
[   46.049183]  ? __pfx_exit_mmap+0x10/0x10
[   46.049578]  ? trace_hardirqs_on+0x51/0x60
[   46.049990]  ? __khugepaged_exit+0x266/0x4c0
[   46.050410]  ? kmem_cache_free+0x15d/0x420
[   46.050815]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.051321]  __mmput+0xd6/0x390
[   46.051633]  mmput+0x74/0x90
[   46.051913]  do_exit+0xa03/0x29f0
[   46.052228]  ? trace_hardirqs_on+0x51/0x60
[   46.052625]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.053202]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.053658]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.054113]  ? __pfx_do_exit+0x10/0x10
[   46.054475]  ? __audit_syscall_entry+0x39c/0x500
[   46.054883]  __x64_sys_exit+0x50/0x60
[   46.055229]  x64_sys_call+0x20c9/0x20d0
[   46.055577]  do_syscall_64+0x6d/0x140
[   46.055913]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.056358] RIP: 0033:0x7f8d0123ee5d
[   46.056675] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   46.057198] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.057827] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   46.058428] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.059024] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   46.059620] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   46.060213] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   46.060818]  </TASK>
[   46.061020] Modules linked in:
[   46.061531] ---[ end trace 0000000000000000 ]---
[   46.061941] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.062430] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.064037] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   46.064484] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   46.065107] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   46.065685] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   46.066265] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.066916] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   46.067757] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.068516] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.069142] CR2: 00007fff00956878 CR3: 000000001248a005 CR4: 0000000000770ef0
[   46.070123] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.070835] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.071532] PKRU: 55555554
[   46.071809] note: repro[10222] exited with preempt_count 1
[   46.072320] Fixing recursive fault but reboot is needed!
[   46.072819] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10222
[   46.073534] caller is debug_smp_processor_id+0x20/0x30
[   46.074275] CPU: 0 UID: 0 PID: 10222 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   46.075155] Tainted: [D]=DIE, [W]=WARN
[   46.075522] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.076546] Call Trace:
[   46.076821]  <TASK>
[   46.077114]  dump_stack_lvl+0x121/0x150
[   46.077501]  dump_stack+0x19/0x20
[   46.077842]  check_preemption_disabled+0x168/0x180
[   46.078314]  debug_smp_processor_id+0x20/0x30
[   46.078738]  __schedule+0x9a/0x2eb0
[   46.079092]  ? rcu_is_watching+0x19/0xc0
[   46.079484]  ? lock_release+0x592/0x870
[   46.079883]  ? __pfx___schedule+0x10/0x10
[   46.080289]  ? debug_smp_processor_id+0x20/0x30
[   46.080720]  ? rcu_is_watching+0x19/0xc0
[   46.081112]  ? trace_irq_enable+0xe1/0x120
[   46.081517]  ? do_task_dead+0x4a/0x110
[   46.081890]  do_task_dead+0xe0/0x110
[   46.082254]  make_task_dead+0x384/0x3c0
[   46.082633]  rewind_stack_and_make_dead+0x16/0x20
[   46.083089] RIP: 0033:0x7f8d0123ee5d
[   46.083437] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   46.084010] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.084707] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   46.085368] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.086027] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   46.086692] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   46.087347] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   46.088034]  </TASK>
[   46.088449] BUG: scheduling while atomic: repro/10222/0x00000000
[   46.089018] INFO: lockdep is turned off.
[   46.089397] Modules linked in:
[   46.089696] Preemption disabled at:
[   46.089701] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   46.090598] CPU: 0 UID: 0 PID: 10222 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   46.091499] Tainted: [D]=DIE, [W]=WARN
[   46.091881] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.093183] Call Trace:
[   46.093495]  <TASK>
[   46.093772]  dump_stack_lvl+0x121/0x150
[   46.094274]  ? do_task_dead+0x28/0x110
[   46.094758]  dump_stack+0x19/0x20
[   46.095198]  __schedule_bug+0x12d/0x180
[   46.095690]  __schedule+0x210c/0x2eb0
[   46.096159]  ? rcu_is_watching+0x19/0xc0
[   46.096653]  ? lock_release+0x592/0x870
[   46.097141]  ? __pfx___schedule+0x10/0x10
[   46.097646]  ? debug_smp_processor_id+0x20/0x30
[   46.098214]  ? rcu_is_watching+0x19/0xc0
[   46.098653]  ? trace_irq_enable+0xe1/0x120
[   46.099051]  ? do_task_dead+0x4a/0x110
[   46.099416]  do_task_dead+0xe0/0x110
[   46.099766]  make_task_dead+0x384/0x3c0
[   46.100142]  rewind_stack_and_make_dead+0x16/0x20
[   46.100587] RIP: 0033:0x7f8d0123ee5d
[   46.100927] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   46.101493] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.102186] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   46.102859] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.103567] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   46.104276] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   46.104951] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   46.105584]  </TASK>
[   46.888751] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#36] PREEMPT SMP KASAN NOPTI
[   46.889825] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   46.890483] CPU: 0 UID: 0 PID: 10692 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   46.891598] Tainted: [D]=DIE, [W]=WARN
[   46.892106] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.893083] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.893612] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.895194] RSP: 0018:ffff888020e5f7d8 EFLAGS: 00010202
[   46.895957] RAX: dffffc0000000000 RBX: ffffea00004d0ac0 RCX: ffffffff81b9e779
[   46.896612] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004d0ad0
[   46.897245] RBP: ffff888020e5f7f8 R08: 0000000000000000 R09: ffffed1002723380
[   46.897865] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   46.898492] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013919c00
[   46.899118] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.900224] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.900760] CR2: 00007f8d015dfef8 CR3: 000000001c286006 CR4: 0000000000770ef0
[   46.901419] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.902097] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.902748] PKRU: 55555554
[   46.903090] Call Trace:
[   46.903396]  <TASK>
[   46.903684]  ? show_regs+0xa8/0xc0
[   46.904130]  ? die_addr+0x5d/0xf0
[   46.904559]  ? exc_general_protection+0x1ae/0x340
[   46.905275]  ? asm_exc_general_protection+0x2b/0x30
[   46.905888]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   46.906523]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.907161]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   46.907791]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   46.908426]  zap_huge_pmd+0x494/0xd40
[   46.908992]  unmap_page_range+0x1ad6/0x4320
[   46.909601]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   46.910226]  ? __pfx_unmap_page_range+0x10/0x10
[   46.910799]  unmap_single_vma+0x1ac/0x2d0
[   46.911313]  unmap_vmas+0x210/0x470
[   46.911766]  ? __pfx_unmap_vmas+0x10/0x10
[   46.912271]  ? __pfx_lock_release+0x10/0x10
[   46.912787]  ? lock_release+0x592/0x870
[   46.913364]  ? mas_next_slot+0x133a/0x1a50
[   46.913910]  ? __pfx_lock_release+0x10/0x10
[   46.914440]  ? mlock_drain_local+0x27f/0x4b0
[   46.914986]  exit_mmap+0x19e/0xb10
[   46.915429]  ? __pfx_exit_mmap+0x10/0x10
[   46.915930]  ? trace_hardirqs_on+0x51/0x60
[   46.916459]  ? __khugepaged_exit+0x266/0x4c0
[   46.916997]  ? kmem_cache_free+0x15d/0x420
[   46.917604]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   46.918276]  __mmput+0xd6/0x390
[   46.918681]  mmput+0x74/0x90
[   46.919059]  do_exit+0xa03/0x29f0
[   46.919486]  ? trace_hardirqs_on+0x51/0x60
[   46.920007]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   46.920756]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   46.921360]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   46.922035]  ? __pfx_do_exit+0x10/0x10
[   46.922512]  ? __audit_syscall_entry+0x39c/0x500
[   46.923095]  __x64_sys_exit+0x50/0x60
[   46.923561]  x64_sys_call+0x20c9/0x20d0
[   46.924045]  do_syscall_64+0x6d/0x140
[   46.924516]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   46.925144] RIP: 0033:0x7f8d0123ee5d
[   46.925669] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   46.926445] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.927347] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   46.928195] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.929043] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   46.930061] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   46.930910] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   46.931780]  </TASK>
[   46.932066] Modules linked in:
[   46.932651] ---[ end trace 0000000000000000 ]---
[   46.933224] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   46.934089] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   46.936304] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   46.936948] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   46.937800] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   46.938737] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   46.939612] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   46.940462] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   46.941316] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   46.942278] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   46.943011] CR2: 00007f8d015dfef8 CR3: 000000001c286006 CR4: 0000000000770ef0
[   46.943899] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   46.944756] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   46.945607] PKRU: 55555554
[   46.946024] note: repro[10692] exited with preempt_count 1
[   46.946785] Fixing recursive fault but reboot is needed!
[   46.947438] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10692
[   46.948258] caller is debug_smp_processor_id+0x20/0x30
[   46.948762] CPU: 0 UID: 0 PID: 10692 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   46.949679] Tainted: [D]=DIE, [W]=WARN
[   46.950051] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.951101] Call Trace:
[   46.951352]  <TASK>
[   46.951571]  dump_stack_lvl+0x121/0x150
[   46.951967]  dump_stack+0x19/0x20
[   46.952308]  check_preemption_disabled+0x168/0x180
[   46.952821]  debug_smp_processor_id+0x20/0x30
[   46.953267]  __schedule+0x9a/0x2eb0
[   46.953609]  ? rcu_is_watching+0x19/0xc0
[   46.954002]  ? lock_release+0x592/0x870
[   46.954377]  ? __pfx___schedule+0x10/0x10
[   46.954769]  ? debug_smp_processor_id+0x20/0x30
[   46.955400]  ? rcu_is_watching+0x19/0xc0
[   46.955983]  ? trace_irq_enable+0xe1/0x120
[   46.956414]  ? do_task_dead+0x4a/0x110
[   46.956850]  do_task_dead+0xe0/0x110
[   46.957244]  make_task_dead+0x384/0x3c0
[   46.957658]  rewind_stack_and_make_dead+0x16/0x20
[   46.958115] RIP: 0033:0x7f8d0123ee5d
[   46.958462] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   46.959028] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.959719] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   46.960378] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.961057] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   46.962099] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   46.962771] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   46.963447]  </TASK>
[   46.963743] BUG: scheduling while atomic: repro/10692/0x00000000
[   46.964300] INFO: lockdep is turned off.
[   46.964741] Modules linked in:
[   46.965104] Preemption disabled at:
[   46.965109] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   46.966130] CPU: 0 UID: 0 PID: 10692 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   46.967210] Tainted: [D]=DIE, [W]=WARN
[   46.967854] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   46.969221] Call Trace:
[   46.969504]  <TASK>
[   46.969751]  dump_stack_lvl+0x121/0x150
[   46.970195]  ? do_task_dead+0x28/0x110
[   46.970627]  dump_stack+0x19/0x20
[   46.971019]  __schedule_bug+0x12d/0x180
[   46.971462]  __schedule+0x210c/0x2eb0
[   46.971876]  ? rcu_is_watching+0x19/0xc0
[   46.972322]  ? lock_release+0x592/0x870
[   46.972754]  ? __pfx___schedule+0x10/0x10
[   46.973217]  ? debug_smp_processor_id+0x20/0x30
[   46.973724]  ? rcu_is_watching+0x19/0xc0
[   46.974167]  ? trace_irq_enable+0xe1/0x120
[   46.974635]  ? do_task_dead+0x4a/0x110
[   46.975079]  do_task_dead+0xe0/0x110
[   46.975482]  make_task_dead+0x384/0x3c0
[   46.975903]  rewind_stack_and_make_dead+0x16/0x20
[   46.976406] RIP: 0033:0x7f8d0123ee5d
[   46.976788] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   46.977423] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   46.978203] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   46.978928] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   46.979657] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   46.980606] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   46.981372] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   46.982115]  </TASK>
[   47.380980] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#37] PREEMPT SMP KASAN NOPTI
[   47.381903] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   47.382484] CPU: 1 UID: 0 PID: 10931 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   47.383402] Tainted: [D]=DIE, [W]=WARN
[   47.383804] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.384624] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.385086] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.386464] RSP: 0018:ffff888023ba77d8 EFLAGS: 00010202
[   47.386898] RAX: dffffc0000000000 RBX: ffffea0000395e80 RCX: ffffffff81b9e779
[   47.387458] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000395e90
[   47.388020] RBP: ffff888023ba77f8 R08: 0000000000000000 R09: ffffed10024a603c
[   47.388607] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   47.389180] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880125301e0
[   47.389721] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.390317] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.390766] CR2: 0000000000404200 CR3: 000000000f9bc001 CR4: 0000000000770ef0
[   47.391308] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.391835] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.392444] PKRU: 55555554
[   47.392715] Call Trace:
[   47.392944]  <TASK>
[   47.393143]  ? show_regs+0xa8/0xc0
[   47.393673]  ? die_addr+0x5d/0xf0
[   47.394166]  ? exc_general_protection+0x1ae/0x340
[   47.394610]  ? asm_exc_general_protection+0x2b/0x30
[   47.395072]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   47.395468]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.395855]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   47.396264]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   47.396651]  zap_huge_pmd+0x494/0xd40
[   47.396962]  unmap_page_range+0x1ad6/0x4320
[   47.397303]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   47.397685]  ? __pfx_unmap_page_range+0x10/0x10
[   47.398049]  unmap_single_vma+0x1ac/0x2d0
[   47.398364]  unmap_vmas+0x210/0x470
[   47.398641]  ? __pfx_unmap_vmas+0x10/0x10
[   47.398956]  ? __pfx_lock_release+0x10/0x10
[   47.399278]  ? lock_release+0x592/0x870
[   47.399717]  ? mas_next_slot+0x133a/0x1a50
[   47.400200]  ? __pfx_lock_release+0x10/0x10
[   47.400575]  ? mlock_drain_local+0x27f/0x4b0
[   47.400898]  exit_mmap+0x19e/0xb10
[   47.401170]  ? __pfx_exit_mmap+0x10/0x10
[   47.401471]  ? trace_hardirqs_on+0x51/0x60
[   47.401784]  ? __khugepaged_exit+0x266/0x4c0
[   47.402107]  ? kmem_cache_free+0x15d/0x420
[   47.402421]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   47.402816]  __mmput+0xd6/0x390
[   47.403060]  mmput+0x74/0x90
[   47.403282]  do_exit+0xa03/0x29f0
[   47.403534]  ? trace_hardirqs_on+0x51/0x60
[   47.403854]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   47.404288]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   47.404637]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   47.404993]  ? __pfx_do_exit+0x10/0x10
[   47.405282]  ? __audit_syscall_entry+0x39c/0x500
[   47.405619]  __x64_sys_exit+0x50/0x60
[   47.405889]  x64_sys_call+0x20c9/0x20d0
[   47.406168]  do_syscall_64+0x6d/0x140
[   47.406441]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   47.406801] RIP: 0033:0x7f8d0123ee5d
[   47.407062] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   47.407490] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.408014] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   47.408496] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.408970] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   47.409431] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   47.409895] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   47.410371]  </TASK>
[   47.410527] Modules linked in:
[   47.410902] ---[ end trace 0000000000000000 ]---
[   47.411555] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   47.411992] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   47.413185] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   47.413535] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   47.413993] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   47.414461] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   47.414910] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   47.415756] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   47.416460] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   47.417238] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   47.417889] CR2: 0000000000404200 CR3: 000000000f9bc001 CR4: 0000000000770ef0
[   47.418552] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   47.419221] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   47.419898] PKRU: 55555554
[   47.420171] note: repro[10931] exited with preempt_count 1
[   47.420711] Fixing recursive fault but reboot is needed!
[   47.421217] BUG: using smp_processor_id() in preemptible [00000000] code: repro/10931
[   47.422038] caller is debug_smp_processor_id+0x20/0x30
[   47.422659] CPU: 1 UID: 0 PID: 10931 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   47.423574] Tainted: [D]=DIE, [W]=WARN
[   47.424022] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.425060] Call Trace:
[   47.425309]  <TASK>
[   47.425618]  dump_stack_lvl+0x121/0x150
[   47.426198]  dump_stack+0x19/0x20
[   47.426556]  check_preemption_disabled+0x168/0x180
[   47.427025]  debug_smp_processor_id+0x20/0x30
[   47.427487]  __schedule+0x9a/0x2eb0
[   47.427839]  ? rcu_is_watching+0x19/0xc0
[   47.428230]  ? lock_release+0x592/0x870
[   47.428617]  ? __pfx___schedule+0x10/0x10
[   47.429030]  ? debug_smp_processor_id+0x20/0x30
[   47.429466]  ? rcu_is_watching+0x19/0xc0
[   47.429847]  ? trace_irq_enable+0xe1/0x120
[   47.430299]  ? do_task_dead+0x4a/0x110
[   47.430683]  do_task_dead+0xe0/0x110
[   47.431068]  make_task_dead+0x384/0x3c0
[   47.431530]  rewind_stack_and_make_dead+0x16/0x20
[   47.432281] RIP: 0033:0x7f8d0123ee5d
[   47.432689] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   47.433263] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.434314] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   47.435181] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.436004] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   47.436644] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   47.437451] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   47.438164]  </TASK>
[   47.438527] BUG: scheduling while atomic: repro/10931/0x00000000
[   47.439101] INFO: lockdep is turned off.
[   47.439590] Modules linked in:
[   47.439898] Preemption disabled at:
[   47.439904] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   47.441159] CPU: 1 UID: 0 PID: 10931 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   47.442073] Tainted: [D]=DIE, [W]=WARN
[   47.442429] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   47.443544] Call Trace:
[   47.443798]  <TASK>
[   47.444023]  dump_stack_lvl+0x121/0x150
[   47.444396]  ? do_task_dead+0x28/0x110
[   47.444772]  dump_stack+0x19/0x20
[   47.445183]  __schedule_bug+0x12d/0x180
[   47.445569]  __schedule+0x210c/0x2eb0
[   47.445921]  ? rcu_is_watching+0x19/0xc0
[   47.446296]  ? lock_release+0x592/0x870
[   47.446665]  ? __pfx___schedule+0x10/0x10
[   47.447229]  ? debug_smp_processor_id+0x20/0x30
[   47.447771]  ? rcu_is_watching+0x19/0xc0
[   47.448269]  ? trace_irq_enable+0xe1/0x120
[   47.448794]  ? do_task_dead+0x4a/0x110
[   47.449332]  do_task_dead+0xe0/0x110
[   47.449758]  make_task_dead+0x384/0x3c0
[   47.450159]  rewind_stack_and_make_dead+0x16/0x20
[   47.450627] RIP: 0033:0x7f8d0123ee5d
[   47.450983] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   47.451953] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   47.452611] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   47.453231] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   47.453629] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   47.454026] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   47.454411] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   47.454896]  </TASK>
[   48.090547] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#38] PREEMPT SMP KASAN NOPTI
[   48.092014] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.092918] CPU: 1 UID: 0 PID: 11336 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   48.094117] Tainted: [D]=DIE, [W]=WARN
[   48.094576] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.095872] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.096443] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.098106] RSP: 0018:ffff8880127077d8 EFLAGS: 00010202
[   48.098639] RAX: dffffc0000000000 RBX: ffffea0000644740 RCX: ffffffff81b9e779
[   48.099324] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000644750
[   48.100352] RBP: ffff8880127077f8 R08: 0000000000000000 R09: ffffed100471bda4
[   48.101026] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   48.101683] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880238ded20
[   48.102338] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.103081] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.103697] CR2: 00007f8d015dfef8 CR3: 0000000020dbc003 CR4: 0000000000770ef0
[   48.104377] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.105067] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.105833] PKRU: 55555554
[   48.106260] Call Trace:
[   48.106621]  <TASK>
[   48.106838]  ? show_regs+0xa8/0xc0
[   48.107200]  ? die_addr+0x5d/0xf0
[   48.107555]  ? exc_general_protection+0x1ae/0x340
[   48.108038]  ? asm_exc_general_protection+0x2b/0x30
[   48.108528]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.109036]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.109542]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.110044]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.110542]  zap_huge_pmd+0x494/0xd40
[   48.110928]  unmap_page_range+0x1ad6/0x4320
[   48.111367]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.111966]  ? __pfx_unmap_page_range+0x10/0x10
[   48.112850]  unmap_single_vma+0x1ac/0x2d0
[   48.113366]  unmap_vmas+0x210/0x470
[   48.113811]  ? __pfx_unmap_vmas+0x10/0x10
[   48.114299]  ? __pfx_lock_release+0x10/0x10
[   48.114795]  ? lock_release+0x592/0x870
[   48.115259]  ? mas_next_slot+0x133a/0x1a50
[   48.115756]  ? __pfx_lock_release+0x10/0x10
[   48.116265]  ? mlock_drain_local+0x27f/0x4b0
[   48.116783]  exit_mmap+0x19e/0xb10
[   48.117217]  ? __pfx_exit_mmap+0x10/0x10
[   48.117752]  ? trace_hardirqs_on+0x51/0x60
[   48.118274]  ? __khugepaged_exit+0x266/0x4c0
[   48.118789]  ? kmem_cache_free+0x15d/0x420
[   48.119288]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.119921]  __mmput+0xd6/0x390
[   48.120314]  mmput+0x74/0x90
[   48.120672]  do_exit+0xa03/0x29f0
[   48.121089]  ? trace_hardirqs_on+0x51/0x60
[   48.121611]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.122306]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.122853]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.123402]  ? __pfx_do_exit+0x10/0x10
[   48.123838]  ? __audit_syscall_entry+0x39c/0x500
[   48.124378]  __x64_sys_exit+0x50/0x60
[   48.124803]  x64_sys_call+0x20c9/0x20d0
[   48.125247]  do_syscall_64+0x6d/0x140
[   48.125678]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.126255] RIP: 0033:0x7f8d0123ee5d
[   48.126850] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   48.127614] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.128445] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   48.129193] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.129928] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   48.130661] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   48.131584] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   48.132334]  </TASK>
[   48.132577] Modules linked in:
[   48.133136] ---[ end trace 0000000000000000 ]---
[   48.133635] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.134261] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.136380] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   48.136921] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   48.137809] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   48.138526] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   48.139238] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.139973] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   48.140692] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   48.141806] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.142371] CR2: 00007f8d015dfef8 CR3: 0000000020dbc003 CR4: 0000000000770ef0
[   48.143052] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.143751] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.144433] PKRU: 55555554
[   48.144703] note: repro[11336] exited with preempt_count 1
[   48.145228] Fixing recursive fault but reboot is needed!
[   48.145731] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11336
[   48.146471] caller is debug_smp_processor_id+0x20/0x30
[   48.147006] CPU: 1 UID: 0 PID: 11336 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   48.148322] Tainted: [D]=DIE, [W]=WARN
[   48.148769] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.149792] Call Trace:
[   48.150040]  <TASK>
[   48.150247]  dump_stack_lvl+0x121/0x150
[   48.150620]  dump_stack+0x19/0x20
[   48.151029]  check_preemption_disabled+0x168/0x180
[   48.151628]  debug_smp_processor_id+0x20/0x30
[   48.152181]  __schedule+0x9a/0x2eb0
[   48.152584]  ? rcu_is_watching+0x19/0xc0
[   48.152963]  ? lock_release+0x592/0x870
[   48.153330]  ? __pfx___schedule+0x10/0x10
[   48.153711]  ? debug_smp_processor_id+0x20/0x30
[   48.154139]  ? rcu_is_watching+0x19/0xc0
[   48.154523]  ? trace_irq_enable+0xe1/0x120
[   48.154941]  ? do_task_dead+0x4a/0x110
[   48.155322]  do_task_dead+0xe0/0x110
[   48.155831]  make_task_dead+0x384/0x3c0
[   48.156277]  rewind_stack_and_make_dead+0x16/0x20
[   48.156721] RIP: 0033:0x7f8d0123ee5d
[   48.157054] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   48.157591] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.158254] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   48.158873] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.159497] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   48.160339] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   48.160949] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   48.161559]  </TASK>
[   48.161907] BUG: scheduling while atomic: repro/11336/0x00000000
[   48.162424] INFO: lockdep is turned off.
[   48.162758] Modules linked in:
[   48.163027] Preemption disabled at:
[   48.163031] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   48.163879] CPU: 1 UID: 0 PID: 11336 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   48.164686] Tainted: [D]=DIE, [W]=WARN
[   48.165011] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.165953] Call Trace:
[   48.166249]  <TASK>
[   48.166470]  dump_stack_lvl+0x121/0x150
[   48.166810]  ? do_task_dead+0x28/0x110
[   48.167140]  dump_stack+0x19/0x20
[   48.167434]  __schedule_bug+0x12d/0x180
[   48.167806]  __schedule+0x210c/0x2eb0
[   48.168193]  ? rcu_is_watching+0x19/0xc0
[   48.168599]  ? lock_release+0x592/0x870
[   48.168984]  ? __pfx___schedule+0x10/0x10
[   48.169331]  ? debug_smp_processor_id+0x20/0x30
[   48.169716]  ? rcu_is_watching+0x19/0xc0
[   48.170193]  ? trace_irq_enable+0xe1/0x120
[   48.170625]  ? do_task_dead+0x4a/0x110
[   48.170951]  do_task_dead+0xe0/0x110
[   48.171256]  make_task_dead+0x384/0x3c0
[   48.171580]  rewind_stack_and_make_dead+0x16/0x20
[   48.171966] RIP: 0033:0x7f8d0123ee5d
[   48.172257] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   48.172738] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.173331] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   48.173883] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.174438] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   48.174996] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   48.175548] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   48.176096]  </TASK>
[   48.663287] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#39] PREEMPT SMP KASAN NOPTI
[   48.664384] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   48.665066] CPU: 0 UID: 0 PID: 11654 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   48.665919] Tainted: [D]=DIE, [W]=WARN
[   48.666272] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.667277] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.667832] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.669495] RSP: 0018:ffff8880161577d8 EFLAGS: 00010202
[   48.669991] RAX: dffffc0000000000 RBX: ffffea00007cf240 RCX: ffffffff81b9e779
[   48.670638] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007cf250
[   48.671286] RBP: ffff8880161577f8 R08: 0000000000000000 R09: ffffed10021c1968
[   48.671945] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   48.672600] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010e0cb40
[   48.673255] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   48.673999] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.674539] CR2: 00007fff00956878 CR3: 0000000013f72003 CR4: 0000000000770ef0
[   48.675192] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.675845] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.676500] PKRU: 55555554
[   48.676764] Call Trace:
[   48.677014]  <TASK>
[   48.677228]  ? show_regs+0xa8/0xc0
[   48.677580]  ? die_addr+0x5d/0xf0
[   48.677921]  ? exc_general_protection+0x1ae/0x340
[   48.678394]  ? asm_exc_general_protection+0x2b/0x30
[   48.678872]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   48.679380]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.679884]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   48.680384]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   48.680882]  zap_huge_pmd+0x494/0xd40
[   48.681271]  unmap_page_range+0x1ad6/0x4320
[   48.681678]  ? __pfx_lock_release+0x10/0x10
[   48.682087]  ? do_raw_spin_trylock+0xbf/0x190
[   48.682518]  ? __kasan_check_read+0x15/0x20
[   48.682941]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   48.683430]  ? __pfx_unmap_page_range+0x10/0x10
[   48.683885]  unmap_single_vma+0x1ac/0x2d0
[   48.684288]  unmap_vmas+0x210/0x470
[   48.684645]  ? __pfx_unmap_vmas+0x10/0x10
[   48.685047]  ? __pfx_lock_release+0x10/0x10
[   48.685449]  ? lock_release+0x592/0x870
[   48.685818]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   48.686294]  ? __pfx_lock_release+0x10/0x10
[   48.686708]  ? mlock_drain_local+0x27f/0x4b0
[   48.687130]  exit_mmap+0x19e/0xb10
[   48.687478]  ? __pfx_exit_mmap+0x10/0x10
[   48.687878]  ? trace_hardirqs_on+0x51/0x60
[   48.688296]  ? __khugepaged_exit+0x266/0x4c0
[   48.688717]  ? kmem_cache_free+0x15d/0x420
[   48.689125]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   48.689639]  __mmput+0xd6/0x390
[   48.689959]  mmput+0x74/0x90
[   48.690252]  do_exit+0xa03/0x29f0
[   48.690587]  ? trace_hardirqs_on+0x51/0x60
[   48.690991]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   48.691574]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   48.692036]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   48.692500]  ? __pfx_do_exit+0x10/0x10
[   48.692873]  ? __audit_syscall_entry+0x39c/0x500
[   48.693333]  __x64_sys_exit+0x50/0x60
[   48.693701]  x64_sys_call+0x20c9/0x20d0
[   48.694080]  do_syscall_64+0x6d/0x140
[   48.694449]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   48.694937] RIP: 0033:0x7f8d0123ee5d
[   48.695284] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   48.695840] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.696539] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   48.697195] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.697852] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   48.698510] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   48.699170] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   48.699834]  </TASK>
[   48.700057] Modules linked in:
[   48.700569] ---[ end trace 0000000000000000 ]---
[   48.701019] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   48.701575] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   48.703253] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   48.703901] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   48.704584] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   48.705246] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   48.705902] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   48.706561] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   48.707220] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   48.707986] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   48.708528] CR2: 00007fff00956878 CR3: 0000000013f72003 CR4: 0000000000770ef0
[   48.709190] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   48.709858] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   48.710534] PKRU: 55555554
[   48.710812] note: repro[11654] exited with preempt_count 1
[   48.711320] Fixing recursive fault but reboot is needed!
[   48.711835] BUG: using smp_processor_id() in preemptible [00000000] code: repro/11654
[   48.712554] caller is debug_smp_processor_id+0x20/0x30
[   48.713052] CPU: 0 UID: 0 PID: 11654 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   48.713926] Tainted: [D]=DIE, [W]=WARN
[   48.714283] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.715333] Call Trace:
[   48.715576]  <TASK>
[   48.715794]  dump_stack_lvl+0x121/0x150
[   48.716179]  dump_stack+0x19/0x20
[   48.716524]  check_preemption_disabled+0x168/0x180
[   48.716992]  debug_smp_processor_id+0x20/0x30
[   48.717421]  __schedule+0x9a/0x2eb0
[   48.717765]  ? rcu_is_watching+0x19/0xc0
[   48.718155]  ? lock_release+0x592/0x870
[   48.718533]  ? __pfx___schedule+0x10/0x10
[   48.718924]  ? debug_smp_processor_id+0x20/0x30
[   48.719364]  ? rcu_is_watching+0x19/0xc0
[   48.719749]  ? trace_irq_enable+0xe1/0x120
[   48.720154]  ? do_task_dead+0x4a/0x110
[   48.720528]  do_task_dead+0xe0/0x110
[   48.720888]  make_task_dead+0x384/0x3c0
[   48.721274]  rewind_stack_and_make_dead+0x16/0x20
[   48.721731] RIP: 0033:0x7f8d0123ee5d
[   48.722082] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   48.722650] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.723349] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   48.724005] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.724659] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   48.725310] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   48.725963] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   48.726632]  </TASK>
[   48.727001] BUG: scheduling while atomic: repro/11654/0x00000000
[   48.727647] INFO: lockdep is turned off.
[   48.728037] Modules linked in:
[   48.728337] Preemption disabled at:
[   48.728342] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   48.729189] CPU: 0 UID: 0 PID: 11654 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   48.730067] Tainted: [D]=DIE, [W]=WARN
[   48.730417] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   48.731457] Call Trace:
[   48.731693]  <TASK>
[   48.731907]  dump_stack_lvl+0x121/0x150
[   48.732299]  ? do_task_dead+0x28/0x110
[   48.732671]  dump_stack+0x19/0x20
[   48.733026]  __schedule_bug+0x12d/0x180
[   48.733409]  __schedule+0x210c/0x2eb0
[   48.733775]  ? rcu_is_watching+0x19/0xc0
[   48.734155]  ? lock_release+0x592/0x870
[   48.734550]  ? __pfx___schedule+0x10/0x10
[   48.734954]  ? debug_smp_processor_id+0x20/0x30
[   48.735391]  ? rcu_is_watching+0x19/0xc0
[   48.735775]  ? trace_irq_enable+0xe1/0x120
[   48.736183]  ? do_task_dead+0x4a/0x110
[   48.736559]  do_task_dead+0xe0/0x110
[   48.736918]  make_task_dead+0x384/0x3c0
[   48.737311]  rewind_stack_and_make_dead+0x16/0x20
[   48.737763] RIP: 0033:0x7f8d0123ee5d
[   48.738120] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   48.738687] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   48.739394] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   48.740053] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   48.740708] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   48.741371] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   48.742030] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   48.742701]  </TASK>
[   49.944283] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#40] PREEMPT SMP KASAN NOPTI
[   49.945407] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.946106] CPU: 0 UID: 0 PID: 12364 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   49.946977] Tainted: [D]=DIE, [W]=WARN
[   49.947326] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.948354] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.948902] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.950560] RSP: 0018:ffff8880238af7d8 EFLAGS: 00010202
[   49.951063] RAX: dffffc0000000000 RBX: ffffea000058a540 RCX: ffffffff81b9e779
[   49.951722] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000058a550
[   49.952377] RBP: ffff8880238af7f8 R08: 0000000000000000 R09: ffffed10020d0708
[   49.953025] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   49.953685] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010683840
[   49.954336] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   49.955117] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   49.955800] CR2: 00007f8d013fca50 CR3: 000000000f89e002 CR4: 0000000000770ef0
[   49.956660] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   49.957473] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   49.958284] PKRU: 55555554
[   49.958605] Call Trace:
[   49.958899]  <TASK>
[   49.959166]  ? show_regs+0xa8/0xc0
[   49.959586]  ? die_addr+0x5d/0xf0
[   49.959999]  ? exc_general_protection+0x1ae/0x340
[   49.960567]  ? asm_exc_general_protection+0x2b/0x30
[   49.961155]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   49.961756]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.962363]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   49.962949]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   49.963525]  zap_huge_pmd+0x494/0xd40
[   49.963959]  unmap_page_range+0x1ad6/0x4320
[   49.964432]  ? __pfx_lock_release+0x10/0x10
[   49.964901]  ? do_raw_spin_trylock+0xbf/0x190
[   49.965401]  ? __kasan_check_read+0x15/0x20
[   49.965879]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   49.966449]  ? __pfx_unmap_page_range+0x10/0x10
[   49.966974]  unmap_single_vma+0x1ac/0x2d0
[   49.967433]  unmap_vmas+0x210/0x470
[   49.967842]  ? __pfx_unmap_vmas+0x10/0x10
[   49.968300]  ? __pfx_lock_release+0x10/0x10
[   49.968767]  ? lock_release+0x592/0x870
[   49.969203]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   49.969756]  ? __pfx_lock_release+0x10/0x10
[   49.970238]  ? mlock_drain_local+0x27f/0x4b0
[   49.970711]  exit_mmap+0x19e/0xb10
[   49.971097]  ? __pfx_exit_mmap+0x10/0x10
[   49.971534]  ? trace_hardirqs_on+0x51/0x60
[   49.971987]  ? __khugepaged_exit+0x266/0x4c0
[   49.972448]  ? kmem_cache_free+0x15d/0x420
[   49.972895]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   49.973468]  __mmput+0xd6/0x390
[   49.973819]  mmput+0x74/0x90
[   49.974146]  do_exit+0xa03/0x29f0
[   49.974516]  ? trace_hardirqs_on+0x51/0x60
[   49.974972]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   49.975626]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   49.976145]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   49.976659]  ? __pfx_do_exit+0x10/0x10
[   49.977072]  ? __audit_syscall_entry+0x39c/0x500
[   49.977573]  __x64_sys_exit+0x50/0x60
[   49.977976]  x64_sys_call+0x20c9/0x20d0
[   49.978375]  do_syscall_64+0x6d/0x140
[   49.978762]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   49.979280] RIP: 0033:0x7f8d0123ee5d
[   49.979648] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   49.980260] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   49.981008] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   49.981708] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   49.982410] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   49.983112] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   49.983811] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   49.984498]  </TASK>
[   49.984718] Modules linked in:
[   49.985029] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#41] PREEMPT SMP KASAN NOPTI
[   49.985238] ---[ end trace 0000000000000000 ]---
[   49.986176] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   49.986623] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.987286] CPU: 1 UID: 0 PID: 12388 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   49.988162] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.988814] Tainted: [D]=DIE, [W]=WARN
[   49.990669] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   49.991131] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   49.991146] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   49.991896] 
[   49.992943] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   49.993464] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   49.993616] RSP: 0018:ffff8880124bf7d8 EFLAGS: 00010202
[   49.995260] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   49.996108] 
[   49.996114] RAX: dffffc0000000000 RBX: ffffea00006474c0 RCX: ffffffff81b9e779
[   49.996126] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00006474d0
[   49.996600] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   49.997295] RBP: ffff8880124bf7f8 R08: 0000000000000000 R09: ffffed100419378c
[   49.997446] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   49.998070] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   49.998707] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   49.999396] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888020c9bc60
[   49.999408] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.000074] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.000742] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.001507] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.002352] CR2: 00007fff00956968 CR3: 0000000016988003 CR4: 0000000000770ef0
[   50.002370] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.002966] CR2: 00007f8d013fca50 CR3: 000000000f89e002 CR4: 0000000000770ef0
[   50.003728] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.003741] PKRU: 55555554
[   50.003747] Call Trace:
[   50.003753]  <TASK>
[   50.004473] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.005045]  ? show_regs+0xa8/0xc0
[   50.005576] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.006206]  ? die_addr+0x5d/0xf0
[   50.006794] PKRU: 55555554
[   50.007497]  ? exc_general_protection+0x1ae/0x340
[   50.008091] note: repro[12364] exited with preempt_count 1
[   50.008353]  ? asm_exc_general_protection+0x2b/0x30
[   50.008547] Fixing recursive fault but reboot is needed!
[   50.008753]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.009321] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12364
[   50.009667]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.010478] caller is debug_smp_processor_id+0x20/0x30
[   50.010858]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.011081] CPU: 0 UID: 0 PID: 12364 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.011555]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.011988] Tainted: [D]=DIE, [W]=WARN
[   50.012474]  zap_huge_pmd+0x494/0xd40
[   50.012883] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.013348]  unmap_page_range+0x1ad6/0x4320
[   50.013946] Call Trace:
[   50.014568]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.014953]  <TASK>
[   50.015462]  ? __pfx_unmap_page_range+0x10/0x10
[   50.016275]  dump_stack_lvl+0x121/0x150
[   50.016785]  unmap_single_vma+0x1ac/0x2d0
[   50.017066]  dump_stack+0x19/0x20
[   50.017444]  unmap_vmas+0x210/0x470
[   50.018282]  check_preemption_disabled+0x168/0x180
[   50.018793]  ? __pfx_unmap_vmas+0x10/0x10
[   50.018983]  debug_smp_processor_id+0x20/0x30
[   50.019489]  ? __pfx_lock_release+0x10/0x10
[   50.019655]  __schedule+0x9a/0x2eb0
[   50.020063]  ? lock_release+0x592/0x870
[   50.020352]  ? rcu_is_watching+0x19/0xc0
[   50.020719]  ? mas_next_slot+0x133a/0x1a50
[   50.020970]  ? lock_release+0x592/0x870
[   50.021287]  ? __pfx_lock_release+0x10/0x10
[   50.021635]  ? __pfx___schedule+0x10/0x10
[   50.022004]  ? mlock_drain_local+0x27f/0x4b0
[   50.022481]  ? debug_smp_processor_id+0x20/0x30
[   50.022993]  exit_mmap+0x19e/0xb10
[   50.023410]  ? rcu_is_watching+0x19/0xc0
[   50.023807]  ? __pfx_exit_mmap+0x10/0x10
[   50.024218]  ? trace_irq_enable+0xe1/0x120
[   50.024637]  ? trace_hardirqs_on+0x51/0x60
[   50.024920]  ? do_task_dead+0x4a/0x110
[   50.025348]  ? __khugepaged_exit+0x266/0x4c0
[   50.025644]  do_task_dead+0xe0/0x110
[   50.026074]  ? kmem_cache_free+0x15d/0x420
[   50.026399]  make_task_dead+0x384/0x3c0
[   50.026746]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.027027]  rewind_stack_and_make_dead+0x16/0x20
[   50.027420]  __mmput+0xd6/0x390
[   50.027706] RIP: 0033:0x7f8d0123ee5d
[   50.028123]  mmput+0x74/0x90
[   50.028387] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.028907]  do_exit+0xa03/0x29f0
[   50.029162] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   50.029605]  ? trace_hardirqs_on+0x51/0x60
[   50.029902]  ORIG_RAX: 000000000000003c
[   50.030436]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.030803] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.031127]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.031376] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.031675]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.032096] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.032439]  ? __pfx_do_exit+0x10/0x10
[   50.032784] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.033198]  ? __audit_syscall_entry+0x39c/0x500
[   50.033453] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.034063]  __x64_sys_exit+0x50/0x60
[   50.034536]  </TASK>
[   50.034970]  x64_sys_call+0x20c9/0x20d0
[   50.039469]  do_syscall_64+0x6d/0x140
[   50.039849]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.040329] RIP: 0033:0x7f8d0123ee5d
[   50.040670] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.041223] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.041904] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.042542] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.043182] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.043817] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.044455] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.045107]  </TASK>
[   50.045321] Modules linked in:
[   50.045683] ---[ end trace 0000000000000000 ]---
[   50.046116] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.046652] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.048430] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   50.048918] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   50.049557] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   50.050197] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   50.050842] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.051687] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   50.052341] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.053063] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.053586] CR2: 00007fff00956968 CR3: 0000000016988003 CR4: 0000000000770ef0
[   50.054453] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.055321] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.056238] PKRU: 55555554
[   50.056606] note: repro[12388] exited with preempt_count 1
[   50.057292] Fixing recursive fault but reboot is needed!
[   50.057937] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12388
[   50.058878] caller is debug_smp_processor_id+0x20/0x30
[   50.059550] CPU: 1 UID: 0 PID: 12388 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.060700] Tainted: [D]=DIE, [W]=WARN
[   50.061165] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.062513] Call Trace:
[   50.062827]  <TASK>
[   50.063103]  dump_stack_lvl+0x121/0x150
[   50.063600]  dump_stack+0x19/0x20
[   50.064035]  check_preemption_disabled+0x168/0x180
[   50.064634]  debug_smp_processor_id+0x20/0x30
[   50.065186]  __schedule+0x9a/0x2eb0
[   50.065631]  ? rcu_is_watching+0x19/0xc0
[   50.066129]  ? lock_release+0x592/0x870
[   50.066621]  ? __pfx___schedule+0x10/0x10
[   50.067129]  ? debug_smp_processor_id+0x20/0x30
[   50.067696]  ? rcu_is_watching+0x19/0xc0
[   50.068194]  ? trace_irq_enable+0xe1/0x120
[   50.068718]  ? do_task_dead+0x4a/0x110
[   50.069205]  do_task_dead+0xe0/0x110
[   50.069670]  make_task_dead+0x384/0x3c0
[   50.070169]  rewind_stack_and_make_dead+0x16/0x20
[   50.070757] RIP: 0033:0x7f8d0123ee5d
[   50.071215] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.071963] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.072875] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.073738] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.074598] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.075458] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.076318] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.077193]  </TASK>
[   50.077526] BUG: scheduling while atomic: repro/12388/0x00000000
[   50.078262] INFO: lockdep is turned off.
[   50.078739] Modules linked in:
[   50.079130] Preemption disabled at:
[   50.079135] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   50.080265] CPU: 1 UID: 0 PID: 12388 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.081569] Tainted: [D]=DIE, [W]=WARN
[   50.082032] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.083338] Call Trace:
[   50.083635]  <TASK>
[   50.083896]  dump_stack_lvl+0x121/0x150
[   50.084369]  ? do_task_dead+0x28/0x110
[   50.084823]  dump_stack+0x19/0x20
[   50.085236]  __schedule_bug+0x12d/0x180
[   50.085699]  __schedule+0x210c/0x2eb0
[   50.086143]  ? rcu_is_watching+0x19/0xc0
[   50.086606]  ? lock_release+0x592/0x870
[   50.087065]  ? __pfx___schedule+0x10/0x10
[   50.087541]  ? debug_smp_processor_id+0x20/0x30
[   50.088079]  ? rcu_is_watching+0x19/0xc0
[   50.088543]  ? trace_irq_enable+0xe1/0x120
[   50.089041]  ? do_task_dead+0x4a/0x110
[   50.089498]  do_task_dead+0xe0/0x110
[   50.089944]  make_task_dead+0x384/0x3c0
[   50.090407]  rewind_stack_and_make_dead+0x16/0x20
[   50.090963] RIP: 0033:0x7f8d0123ee5d
[   50.091379] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.092049] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.092865] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.093634] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.094404] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.095174] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.095945] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.096700]  </TASK>
[   50.547129] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#42] PREEMPT SMP KASAN NOPTI
[   50.548211] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.548818] CPU: 0 UID: 0 PID: 12655 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.549584] Tainted: [D]=DIE, [W]=WARN
[   50.549893] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.550789] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.551266] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.552648] RSP: 0018:ffff88801dbc77d8 EFLAGS: 00010202
[   50.553059] RAX: dffffc0000000000 RBX: ffffea0000a510c0 RCX: ffffffff81b9e779
[   50.553605] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000a510d0
[   50.554165] RBP: ffff88801dbc77f8 R08: 0000000000000000 R09: ffffed10027fd80c
[   50.554732] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.555293] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013fec060
[   50.555867] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.556511] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.556970] CR2: 00007f8d013fca50 CR3: 000000001d812002 CR4: 0000000000770ef0
[   50.557601] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.558335] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.558930] PKRU: 55555554
[   50.559165] Call Trace:
[   50.559368]  <TASK>
[   50.559540]  ? show_regs+0xa8/0xc0
[   50.559818]  ? die_addr+0x5d/0xf0
[   50.560092]  ? exc_general_protection+0x1ae/0x340
[   50.560466]  ? asm_exc_general_protection+0x2b/0x30
[   50.560854]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.561253]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.561652]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.562048]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.562441]  zap_huge_pmd+0x494/0xd40
[   50.562805]  unmap_page_range+0x1ad6/0x4320
[   50.563162]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.563558]  ? __pfx_unmap_page_range+0x10/0x10
[   50.563928]  unmap_single_vma+0x1ac/0x2d0
[   50.564274]  unmap_vmas+0x210/0x470
[   50.564672]  ? __pfx_unmap_vmas+0x10/0x10
[   50.565027]  ? __pfx_lock_release+0x10/0x10
[   50.565352]  ? lock_release+0x592/0x870
[   50.565645]  ? mas_next_slot+0x133a/0x1a50
[   50.565999]  ? __pfx_lock_release+0x10/0x10
[   50.566320]  ? mlock_drain_local+0x27f/0x4b0
[   50.566659]  exit_mmap+0x19e/0xb10
[   50.566948]  ? __pfx_exit_mmap+0x10/0x10
[   50.567276]  ? trace_hardirqs_on+0x51/0x60
[   50.567615]  ? __khugepaged_exit+0x266/0x4c0
[   50.567964]  ? kmem_cache_free+0x15d/0x420
[   50.568296]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.568765]  __mmput+0xd6/0x390
[   50.569020]  mmput+0x74/0x90
[   50.569254]  do_exit+0xa03/0x29f0
[   50.569520]  ? trace_hardirqs_on+0x51/0x60
[   50.569833]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.570291]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.570695]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.571098]  ? __pfx_do_exit+0x10/0x10
[   50.571393]  ? __audit_syscall_entry+0x39c/0x500
[   50.571818]  __x64_sys_exit+0x50/0x60
[   50.572206]  x64_sys_call+0x20c9/0x20d0
[   50.572498]  do_syscall_64+0x6d/0x140
[   50.572783]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.573164] RIP: 0033:0x7f8d0123ee5d
[   50.573436] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.573876] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.574397] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.574889] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.575442] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.575928] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.576420] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.576914]  </TASK>
[   50.577081] Modules linked in:
[   50.577330] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#43] PREEMPT SMP KASAN NOPTI
[   50.577484] ---[ end trace 0000000000000000 ]---
[   50.578778] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   50.579326] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.580214] CPU: 1 UID: 0 PID: 12667 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.580242] Tainted: [D]=DIE, [W]=WARN
[   50.580248] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.580259] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.580287] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.580304] RSP: 0018:ffff8880193177d8 EFLAGS: 00010202
[   50.580318] RAX: dffffc0000000000 RBX: ffffea0000838300 RCX: ffffffff81b9e779
[   50.580329] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000838310
[   50.580340] RBP: ffff8880193177f8 R08: 0000000000000000 R09: ffffed100384d32c
[   50.580350] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   50.580360] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c269960
[   50.580371] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.580840] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.581971] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.582283] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   50.583612] CR2: 00007f8d0129bc20 CR3: 00000000294a6006 CR4: 0000000000770ef0
[   50.583631] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.584064] 
[   50.586640] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.587153] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   50.587997] PKRU: 55555554
[   50.588006] Call Trace:
[   50.588012]  <TASK>
[   50.588507] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   50.589357]  ? show_regs+0xa8/0xc0
[   50.589846] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   50.590710]  ? die_addr+0x5d/0xf0
[   50.591298] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.593112]  ? exc_general_protection+0x1ae/0x340
[   50.593643] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   50.594131]  ? asm_exc_general_protection+0x2b/0x30
[   50.594748] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   50.595402]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   50.595568] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.596361]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.597297] CR2: 00007f8d013fca50 CR3: 000000001d812002 CR4: 0000000000770ef0
[   50.597557]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   50.597845] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.598056]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   50.598796] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.599122]  zap_huge_pmd+0x494/0xd40
[   50.599808] PKRU: 55555554
[   50.600113]  unmap_page_range+0x1ad6/0x4320
[   50.600758] note: repro[12655] exited with preempt_count 1
[   50.601206]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   50.601832] Fixing recursive fault but reboot is needed!
[   50.602290]  ? __pfx_unmap_page_range+0x10/0x10
[   50.603038] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12655
[   50.603522]  unmap_single_vma+0x1ac/0x2d0
[   50.604079] caller is debug_smp_processor_id+0x20/0x30
[   50.604699]  unmap_vmas+0x210/0x470
[   50.605555] CPU: 0 UID: 0 PID: 12655 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.606177]  ? __pfx_unmap_vmas+0x10/0x10
[   50.606631] Tainted: [D]=DIE, [W]=WARN
[   50.607246]  ? __pfx_lock_release+0x10/0x10
[   50.607669] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.608127]  ? lock_release+0x592/0x870
[   50.608307] Call Trace:
[   50.608814]  ? mas_next_slot+0x133a/0x1a50
[   50.609240]  <TASK>
[   50.609843]  ? __pfx_lock_release+0x10/0x10
[   50.610256]  dump_stack_lvl+0x121/0x150
[   50.610849]  ? mlock_drain_local+0x27f/0x4b0
[   50.611338]  dump_stack+0x19/0x20
[   50.611833]  exit_mmap+0x19e/0xb10
[   50.612119]  check_preemption_disabled+0x168/0x180
[   50.612495]  ? __pfx_exit_mmap+0x10/0x10
[   50.613180]  debug_smp_processor_id+0x20/0x30
[   50.613560]  ? trace_hardirqs_on+0x51/0x60
[   50.613765]  __schedule+0x9a/0x2eb0
[   50.614158]  ? __khugepaged_exit+0x266/0x4c0
[   50.614760]  ? rcu_is_watching+0x19/0xc0
[   50.615117]  ? kmem_cache_free+0x15d/0x420
[   50.615268]  ? lock_release+0x592/0x870
[   50.615645]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   50.615780]  ? __pfx___schedule+0x10/0x10
[   50.616189]  __mmput+0xd6/0x390
[   50.616484]  ? debug_smp_processor_id+0x20/0x30
[   50.616889]  mmput+0x74/0x90
[   50.617073]  ? rcu_is_watching+0x19/0xc0
[   50.617398]  do_exit+0xa03/0x29f0
[   50.617667]  ? trace_irq_enable+0xe1/0x120
[   50.618034]  ? trace_hardirqs_on+0x51/0x60
[   50.618274]  ? do_task_dead+0x4a/0x110
[   50.618667]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   50.618929]  do_task_dead+0xe0/0x110
[   50.619332]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   50.619619]  make_task_dead+0x384/0x3c0
[   50.620032]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   50.620251]  rewind_stack_and_make_dead+0x16/0x20
[   50.620747]  ? __pfx_do_exit+0x10/0x10
[   50.621030] RIP: 0033:0x7f8d0123ee5d
[   50.621550]  ? __audit_syscall_entry+0x39c/0x500
[   50.621827] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.622129]  __x64_sys_exit+0x50/0x60
[   50.622351] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   50.622687]  x64_sys_call+0x20c9/0x20d0
[   50.622919]  ORIG_RAX: 000000000000003c
[   50.623307]  do_syscall_64+0x6d/0x140
[   50.623519] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.624101]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   50.624303] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.624761] RIP: 0033:0x7f8d0123ee5d
[   50.624986] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.625443] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.625740] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.626105] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   50.626417] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.626870]  ORIG_RAX: 000000000000003c
[   50.627288]  </TASK>
[   50.627867] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.635662] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.636467] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.637508] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.638213] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.639004]  </TASK>
[   50.639271] Modules linked in:
[   50.639783] ---[ end trace 0000000000000000 ]---
[   50.640366] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   50.641134] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   50.643257] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   50.643940] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   50.644656] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   50.645460] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   50.646286] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   50.646984] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   50.647691] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   50.648621] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   50.649288] CR2: 00007f8d0129bc20 CR3: 00000000294a6006 CR4: 0000000000770ef0
[   50.649954] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   50.650810] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   50.651635] PKRU: 55555554
[   50.651906] note: repro[12667] exited with preempt_count 1
[   50.652516] Fixing recursive fault but reboot is needed!
[   50.653158] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12667
[   50.654093] caller is debug_smp_processor_id+0x20/0x30
[   50.654635] CPU: 1 UID: 0 PID: 12667 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.655543] Tainted: [D]=DIE, [W]=WARN
[   50.655949] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.657033] Call Trace:
[   50.657336]  <TASK>
[   50.657604]  dump_stack_lvl+0x121/0x150
[   50.658001]  dump_stack+0x19/0x20
[   50.658338]  check_preemption_disabled+0x168/0x180
[   50.658872]  debug_smp_processor_id+0x20/0x30
[   50.659440]  __schedule+0x9a/0x2eb0
[   50.659960]  ? rcu_is_watching+0x19/0xc0
[   50.660344]  ? lock_release+0x592/0x870
[   50.660721]  ? __pfx___schedule+0x10/0x10
[   50.661185]  ? debug_smp_processor_id+0x20/0x30
[   50.661673]  ? rcu_is_watching+0x19/0xc0
[   50.662071]  ? trace_irq_enable+0xe1/0x120
[   50.662486]  ? do_task_dead+0x4a/0x110
[   50.662907]  do_task_dead+0xe0/0x110
[   50.663430]  make_task_dead+0x384/0x3c0
[   50.664089]  rewind_stack_and_make_dead+0x16/0x20
[   50.664552] RIP: 0033:0x7f8d0123ee5d
[   50.664903] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.665488] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.666196] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.666854] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.667743] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.668605] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.669289] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.669954]  </TASK>
[   50.670227] BUG: scheduling while atomic: repro/12667/0x00000000
[   50.670790] INFO: lockdep is turned off.
[   50.671161] Modules linked in:
[   50.671471] Preemption disabled at:
[   50.671476] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   50.672348] CPU: 1 UID: 0 PID: 12667 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   50.673244] Tainted: [D]=DIE, [W]=WARN
[   50.673698] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   50.675047] Call Trace:
[   50.675303]  <TASK>
[   50.675529]  dump_stack_lvl+0x121/0x150
[   50.675918]  ? do_task_dead+0x28/0x110
[   50.676313]  dump_stack+0x19/0x20
[   50.676653]  __schedule_bug+0x12d/0x180
[   50.677061]  __schedule+0x210c/0x2eb0
[   50.677431]  ? rcu_is_watching+0x19/0xc0
[   50.677813]  ? lock_release+0x592/0x870
[   50.678195]  ? __pfx___schedule+0x10/0x10
[   50.678611]  ? debug_smp_processor_id+0x20/0x30
[   50.679075]  ? rcu_is_watching+0x19/0xc0
[   50.679459]  ? trace_irq_enable+0xe1/0x120
[   50.679897]  ? do_task_dead+0x4a/0x110
[   50.680538]  do_task_dead+0xe0/0x110
[   50.680946]  make_task_dead+0x384/0x3c0
[   50.681345]  rewind_stack_and_make_dead+0x16/0x20
[   50.681823] RIP: 0033:0x7f8d0123ee5d
[   50.682188] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   50.682750] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   50.683475] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   50.684172] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   50.684858] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   50.685570] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   50.686276] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   50.686958]  </TASK>
[   51.168532] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#44] PREEMPT SMP KASAN NOPTI
[   51.169586] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   51.170239] CPU: 0 UID: 0 PID: 12966 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   51.171135] Tainted: [D]=DIE, [W]=WARN
[   51.171619] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.172572] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.173101] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.174665] RSP: 0018:ffff8880133677d8 EFLAGS: 00010202
[   51.175421] RAX: dffffc0000000000 RBX: ffffea00005a3500 RCX: ffffffff81b9e779
[   51.176162] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00005a3510
[   51.176809] RBP: ffff8880133677f8 R08: 0000000000000000 R09: ffffed1003824b08
[   51.177434] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   51.178076] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c125840
[   51.178706] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   51.179422] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.179914] CR2: 00007f8d01615000 CR3: 0000000012ac0004 CR4: 0000000000770ef0
[   51.180523] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.181272] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.182129] PKRU: 55555554
[   51.182381] Call Trace:
[   51.182610]  <TASK>
[   51.182804]  ? show_regs+0xa8/0xc0
[   51.183144]  ? die_addr+0x5d/0xf0
[   51.183469]  ? exc_general_protection+0x1ae/0x340
[   51.183903]  ? asm_exc_general_protection+0x2b/0x30
[   51.184363]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   51.184829]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.185293]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   51.185750]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   51.186212]  zap_huge_pmd+0x494/0xd40
[   51.186568]  unmap_page_range+0x1ad6/0x4320
[   51.186984]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   51.187450]  ? __pfx_unmap_page_range+0x10/0x10
[   51.187863]  unmap_single_vma+0x1ac/0x2d0
[   51.188230]  unmap_vmas+0x210/0x470
[   51.188558]  ? __pfx_unmap_vmas+0x10/0x10
[   51.188921]  ? __pfx_lock_release+0x10/0x10
[   51.189296]  ? lock_release+0x592/0x870
[   51.189637]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   51.190076]  ? __pfx_lock_release+0x10/0x10
[   51.190461]  ? mlock_drain_local+0x27f/0x4b0
[   51.190842]  exit_mmap+0x19e/0xb10
[   51.191166]  ? __pfx_exit_mmap+0x10/0x10
[   51.191525]  ? trace_hardirqs_on+0x51/0x60
[   51.191887]  ? __khugepaged_exit+0x266/0x4c0
[   51.192256]  ? kmem_cache_free+0x15d/0x420
[   51.192615]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   51.193104]  __mmput+0xd6/0x390
[   51.193386]  mmput+0x74/0x90
[   51.193639]  do_exit+0xa03/0x29f0
[   51.193926]  ? trace_hardirqs_on+0x51/0x60
[   51.194265]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   51.194750]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   51.195158]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   51.195541]  ? __pfx_do_exit+0x10/0x10
[   51.195849]  ? __audit_syscall_entry+0x39c/0x500
[   51.196225]  __x64_sys_exit+0x50/0x60
[   51.196535]  x64_sys_call+0x20c9/0x20d0
[   51.196856]  do_syscall_64+0x6d/0x140
[   51.197182]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   51.197586] RIP: 0033:0x7f8d0123ee5d
[   51.197884] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   51.198351] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.198939] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   51.199505] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.200043] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   51.200593] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   51.201180] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   51.201747]  </TASK>
[   51.201929] Modules linked in:
[   51.202315] ---[ end trace 0000000000000000 ]---
[   51.202693] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   51.203139] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   51.204531] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   51.204949] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   51.205467] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   51.206215] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   51.207032] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   51.207665] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   51.208284] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   51.208967] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   51.209468] CR2: 00007f8d01615000 CR3: 0000000012ac0004 CR4: 0000000000770ef0
[   51.210082] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   51.210744] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   51.211424] PKRU: 55555554
[   51.211707] note: repro[12966] exited with preempt_count 1
[   51.212263] Fixing recursive fault but reboot is needed!
[   51.212759] BUG: using smp_processor_id() in preemptible [00000000] code: repro/12966
[   51.213494] caller is debug_smp_processor_id+0x20/0x30
[   51.214002] CPU: 0 UID: 0 PID: 12966 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   51.214886] Tainted: [D]=DIE, [W]=WARN
[   51.215251] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.216342] Call Trace:
[   51.216585]  <TASK>
[   51.216795]  dump_stack_lvl+0x121/0x150
[   51.217195]  dump_stack+0x19/0x20
[   51.217492]  check_preemption_disabled+0x168/0x180
[   51.217853]  debug_smp_processor_id+0x20/0x30
[   51.218195]  __schedule+0x9a/0x2eb0
[   51.218469]  ? rcu_is_watching+0x19/0xc0
[   51.218776]  ? lock_release+0x592/0x870
[   51.219077]  ? __pfx___schedule+0x10/0x10
[   51.219387]  ? debug_smp_processor_id+0x20/0x30
[   51.219729]  ? rcu_is_watching+0x19/0xc0
[   51.220079]  ? trace_irq_enable+0xe1/0x120
[   51.220412]  ? do_task_dead+0x4a/0x110
[   51.220713]  do_task_dead+0xe0/0x110
[   51.221000]  make_task_dead+0x384/0x3c0
[   51.221301]  rewind_stack_and_make_dead+0x16/0x20
[   51.221641] RIP: 0033:0x7f8d0123ee5d
[   51.221891] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   51.222303] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.223119] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   51.223650] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.224108] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   51.224562] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   51.225021] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   51.225494]  </TASK>
[   51.225669] BUG: scheduling while atomic: repro/12966/0x00000000
[   51.226062] INFO: lockdep is turned off.
[   51.226315] Modules linked in:
[   51.226523] Preemption disabled at:
[   51.226527] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   51.227116] CPU: 0 UID: 0 PID: 12966 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   51.227726] Tainted: [D]=DIE, [W]=WARN
[   51.227980] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   51.228692] Call Trace:
[   51.228968]  <TASK>
[   51.229196]  dump_stack_lvl+0x121/0x150
[   51.229570]  ? do_task_dead+0x28/0x110
[   51.229824]  dump_stack+0x19/0x20
[   51.230074]  __schedule_bug+0x12d/0x180
[   51.230336]  __schedule+0x210c/0x2eb0
[   51.230579]  ? rcu_is_watching+0x19/0xc0
[   51.230835]  ? lock_release+0x592/0x870
[   51.231089]  ? __pfx___schedule+0x10/0x10
[   51.231354]  ? debug_smp_processor_id+0x20/0x30
[   51.231648]  ? rcu_is_watching+0x19/0xc0
[   51.231907]  ? trace_irq_enable+0xe1/0x120
[   51.232179]  ? do_task_dead+0x4a/0x110
[   51.232433]  do_task_dead+0xe0/0x110
[   51.232672]  make_task_dead+0x384/0x3c0
[   51.232928]  rewind_stack_and_make_dead+0x16/0x20
[   51.233233] RIP: 0033:0x7f8d0123ee5d
[   51.233467] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   51.233835] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   51.234286] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   51.234717] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   51.235400] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   51.235937] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   51.236376] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   51.236807]  </TASK>
[   52.766351] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#45] PREEMPT SMP KASAN NOPTI
[   52.767469] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   52.768173] CPU: 0 UID: 0 PID: 13885 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   52.769048] Tainted: [D]=DIE, [W]=WARN
[   52.769401] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.770452] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.771015] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.772839] RSP: 0018:ffff8880201777d8 EFLAGS: 00010202
[   52.773729] RAX: dffffc0000000000 RBX: ffffea000070d900 RCX: ffffffff81b9e779
[   52.774741] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000070d910
[   52.775598] RBP: ffff8880201777f8 R08: 0000000000000000 R09: ffffed1003e5aba4
[   52.776451] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   52.777317] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f2d5d20
[   52.778171] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.779133] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.779825] CR2: 00007f8d01601908 CR3: 000000001e864003 CR4: 0000000000770ef0
[   52.780681] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.781532] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.782385] PKRU: 55555554
[   52.782722] Call Trace:
[   52.783036]  <TASK>
[   52.783309]  ? show_regs+0xa8/0xc0
[   52.783755]  ? die_addr+0x5d/0xf0
[   52.784190]  ? exc_general_protection+0x1ae/0x340
[   52.784786]  ? asm_exc_general_protection+0x2b/0x30
[   52.785684]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   52.786492]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.787201]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   52.787841]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   52.788486]  zap_huge_pmd+0x494/0xd40
[   52.788970]  unmap_page_range+0x1ad6/0x4320
[   52.789498]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   52.790098]  ? __pfx_unmap_page_range+0x10/0x10
[   52.790644]  unmap_single_vma+0x1ac/0x2d0
[   52.791136]  unmap_vmas+0x210/0x470
[   52.791571]  ? __pfx_unmap_vmas+0x10/0x10
[   52.792062]  ? __pfx_lock_release+0x10/0x10
[   52.792572]  ? lock_release+0x592/0x870
[   52.793045]  ? mas_next_slot+0x133a/0x1a50
[   52.793541]  ? __pfx_lock_release+0x10/0x10
[   52.794044]  ? mlock_drain_local+0x27f/0x4b0
[   52.794560]  exit_mmap+0x19e/0xb10
[   52.795013]  ? __pfx_exit_mmap+0x10/0x10
[   52.795510]  ? trace_hardirqs_on+0x51/0x60
[   52.796016]  ? __khugepaged_exit+0x266/0x4c0
[   52.796528]  ? kmem_cache_free+0x15d/0x420
[   52.797015]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   52.797617]  __mmput+0xd6/0x390
[   52.797990]  mmput+0x74/0x90
[   52.798332]  do_exit+0xa03/0x29f0
[   52.798723]  ? trace_hardirqs_on+0x51/0x60
[   52.799251]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   52.799989]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   52.800534]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   52.801079]  ? __pfx_do_exit+0x10/0x10
[   52.801509]  ? __audit_syscall_entry+0x39c/0x500
[   52.802036]  __x64_sys_exit+0x50/0x60
[   52.802457]  x64_sys_call+0x20c9/0x20d0
[   52.802893]  do_syscall_64+0x6d/0x140
[   52.803326]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   52.803891] RIP: 0033:0x7f8d0123ee5d
[   52.804295] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   52.804927] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.805707] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   52.806441] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.807175] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   52.807904] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   52.808637] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   52.809382]  </TASK>
[   52.809624] Modules linked in:
[   52.810108] ---[ end trace 0000000000000000 ]---
[   52.810597] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   52.811212] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   52.813139] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   52.813669] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   52.814375] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   52.815212] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   52.815947] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   52.816654] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   52.817340] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   52.818107] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   52.818659] CR2: 00007f8d01601908 CR3: 000000001e864003 CR4: 0000000000770ef0
[   52.819339] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   52.820035] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   52.820709] PKRU: 55555554
[   52.820981] note: repro[13885] exited with preempt_count 1
[   52.821512] Fixing recursive fault but reboot is needed!
[   52.822021] BUG: using smp_processor_id() in preemptible [00000000] code: repro/13885
[   52.822756] caller is debug_smp_processor_id+0x20/0x30
[   52.823261] CPU: 0 UID: 0 PID: 13885 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   52.824156] Tainted: [D]=DIE, [W]=WARN
[   52.824504] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.825529] Call Trace:
[   52.825764]  <TASK>
[   52.825977]  dump_stack_lvl+0x121/0x150
[   52.826350]  dump_stack+0x19/0x20
[   52.826675]  check_preemption_disabled+0x168/0x180
[   52.827132]  debug_smp_processor_id+0x20/0x30
[   52.827545]  __schedule+0x9a/0x2eb0
[   52.827880]  ? rcu_is_watching+0x19/0xc0
[   52.828259]  ? lock_release+0x592/0x870
[   52.828615]  ? __pfx___schedule+0x10/0x10
[   52.828983]  ? debug_smp_processor_id+0x20/0x30
[   52.829393]  ? rcu_is_watching+0x19/0xc0
[   52.829748]  ? trace_irq_enable+0xe1/0x120
[   52.830135]  ? do_task_dead+0x4a/0x110
[   52.830486]  do_task_dead+0xe0/0x110
[   52.830821]  make_task_dead+0x384/0x3c0
[   52.831179]  rewind_stack_and_make_dead+0x16/0x20
[   52.831603] RIP: 0033:0x7f8d0123ee5d
[   52.831927] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   52.832468] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.833128] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   52.833748] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.834357] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   52.834952] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   52.835550] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   52.836160]  </TASK>
[   52.836390] BUG: scheduling while atomic: repro/13885/0x00000000
[   52.836899] INFO: lockdep is turned off.
[   52.837233] Modules linked in:
[   52.837502] Preemption disabled at:
[   52.837506] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   52.838263] CPU: 0 UID: 0 PID: 13885 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   52.839033] Tainted: [D]=DIE, [W]=WARN
[   52.839342] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   52.840251] Call Trace:
[   52.840461]  <TASK>
[   52.840646]  dump_stack_lvl+0x121/0x150
[   52.840980]  ? do_task_dead+0x28/0x110
[   52.841303]  dump_stack+0x19/0x20
[   52.841594]  __schedule_bug+0x12d/0x180
[   52.841925]  __schedule+0x210c/0x2eb0
[   52.842234]  ? rcu_is_watching+0x19/0xc0
[   52.842554]  ? lock_release+0x592/0x870
[   52.842867]  ? __pfx___schedule+0x10/0x10
[   52.843198]  ? debug_smp_processor_id+0x20/0x30
[   52.843564]  ? rcu_is_watching+0x19/0xc0
[   52.843883]  ? trace_irq_enable+0xe1/0x120
[   52.844227]  ? do_task_dead+0x4a/0x110
[   52.844540]  do_task_dead+0xe0/0x110
[   52.844840]  make_task_dead+0x384/0x3c0
[   52.845161]  rewind_stack_and_make_dead+0x16/0x20
[   52.845540] RIP: 0033:0x7f8d0123ee5d
[   52.845824] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   52.846293] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   52.846863] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   52.847401] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   52.847937] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   52.848471] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   52.849006] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   52.849547]  </TASK>
[   54.204327] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#46] PREEMPT SMP KASAN NOPTI
[   54.205775] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.206689] CPU: 0 UID: 0 PID: 14702 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   54.207830] Tainted: [D]=DIE, [W]=WARN
[   54.208291] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.209632] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.210348] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.212216] RSP: 0018:ffff8880144f77d8 EFLAGS: 00010202
[   54.212719] RAX: dffffc0000000000 RBX: ffffea000069c580 RCX: ffffffff81b9e779
[   54.213377] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000069c590
[   54.214033] RBP: ffff8880144f77f8 R08: 0000000000000000 R09: ffffed10026a8254
[   54.214686] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   54.215336] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880135412a0
[   54.215995] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.216732] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.217265] CR2: 00007f8d015dfef8 CR3: 0000000011272002 CR4: 0000000000770ef0
[   54.217919] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.218585] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.219234] PKRU: 55555554
[   54.219495] Call Trace:
[   54.219738]  <TASK>
[   54.219957]  ? show_regs+0xa8/0xc0
[   54.220303]  ? die_addr+0x5d/0xf0
[   54.220638]  ? exc_general_protection+0x1ae/0x340
[   54.221106]  ? asm_exc_general_protection+0x2b/0x30
[   54.221580]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.222069]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.222559]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.223055]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.223547]  zap_huge_pmd+0x494/0xd40
[   54.223917]  unmap_page_range+0x1ad6/0x4320
[   54.224348]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.224835]  ? __pfx_unmap_page_range+0x10/0x10
[   54.225293]  unmap_single_vma+0x1ac/0x2d0
[   54.225768]  unmap_vmas+0x210/0x470
[   54.226141]  ? __pfx_unmap_vmas+0x10/0x10
[   54.226533]  ? __pfx_lock_release+0x10/0x10
[   54.226942]  ? lock_release+0x592/0x870
[   54.227318]  ? mas_next_slot+0x133a/0x1a50
[   54.227730]  ? __pfx_lock_release+0x10/0x10
[   54.228145]  ? mlock_drain_local+0x27f/0x4b0
[   54.228569]  exit_mmap+0x19e/0xb10
[   54.228913]  ? __pfx_exit_mmap+0x10/0x10
[   54.229317]  ? trace_hardirqs_on+0x51/0x60
[   54.229731]  ? __khugepaged_exit+0x266/0x4c0
[   54.230148]  ? kmem_cache_free+0x15d/0x420
[   54.230568]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.231067]  __mmput+0xd6/0x390
[   54.231374]  mmput+0x74/0x90
[   54.231655]  do_exit+0xa03/0x29f0
[   54.231975]  ? trace_hardirqs_on+0x51/0x60
[   54.232364]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.232939]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.233395]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.233850]  ? __pfx_do_exit+0x10/0x10
[   54.234206]  ? __audit_syscall_entry+0x39c/0x500
[   54.234639]  __x64_sys_exit+0x50/0x60
[   54.235000]  x64_sys_call+0x20c9/0x20d0
[   54.235362]  do_syscall_64+0x6d/0x140
[   54.235724]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.236272] RIP: 0033:0x7f8d0123ee5d
[   54.236681] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   54.237348] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.238172] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   54.238946] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.239713] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   54.240483] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   54.241253] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   54.242035]  </TASK>
[   54.242288] Modules linked in:
[   54.242930] ---[ end trace 0000000000000000 ]---
[   54.243556] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.244178] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.246152] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   54.246586] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   54.247154] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   54.247887] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   54.248521] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.249095] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   54.249662] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.250310] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.250779] CR2: 00007f8d015dfef8 CR3: 0000000011272002 CR4: 0000000000770ef0
[   54.251347] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.251910] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.252462] PKRU: 55555554
[   54.252682] note: repro[14702] exited with preempt_count 1
[   54.253113] Fixing recursive fault but reboot is needed!
[   54.253512] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14702
[   54.254108] caller is debug_smp_processor_id+0x20/0x30
[   54.254542] CPU: 0 UID: 0 PID: 14702 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   54.255302] Tainted: [D]=DIE, [W]=WARN
[   54.255595] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.256454] Call Trace:
[   54.256669]  <TASK>
[   54.256851]  dump_stack_lvl+0x121/0x150
[   54.257169]  dump_stack+0x19/0x20
[   54.257448]  check_preemption_disabled+0x168/0x180
[   54.257835]  debug_smp_processor_id+0x20/0x30
[   54.258183]  __schedule+0x9a/0x2eb0
[   54.258464]  ? rcu_is_watching+0x19/0xc0
[   54.258781]  ? lock_release+0x592/0x870
[   54.259092]  ? __pfx___schedule+0x10/0x10
[   54.259411]  ? debug_smp_processor_id+0x20/0x30
[   54.259749]  ? rcu_is_watching+0x19/0xc0
[   54.260048]  ? trace_irq_enable+0xe1/0x120
[   54.260366]  ? do_task_dead+0x4a/0x110
[   54.260692]  do_task_dead+0xe0/0x110
[   54.261301]  make_task_dead+0x384/0x3c0
[   54.261692]  rewind_stack_and_make_dead+0x16/0x20
[   54.262158] RIP: 0033:0x7f8d0123ee5d
[   54.262511] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   54.263072] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.263756] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   54.264400] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.265045] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   54.265686] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   54.266329] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   54.266982]  </TASK>
[   54.267411] BUG: scheduling while atomic: repro/14702/0x00000000
[   54.267955] INFO: lockdep is turned off.
[   54.268302] Modules linked in:
[   54.268583] Preemption disabled at:
[   54.268587] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.269373] CPU: 0 UID: 0 PID: 14702 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   54.270206] Tainted: [D]=DIE, [W]=WARN
[   54.270537] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.271515] Call Trace:
[   54.271740]  <TASK>
[   54.271942]  dump_stack_lvl+0x121/0x150
[   54.272299]  ? do_task_dead+0x28/0x110
[   54.272645]  dump_stack+0x19/0x20
[   54.272960]  __schedule_bug+0x12d/0x180
[   54.273315]  __schedule+0x210c/0x2eb0
[   54.273641]  ? rcu_is_watching+0x19/0xc0
[   54.273987]  ? lock_release+0x592/0x870
[   54.274323]  ? __pfx___schedule+0x10/0x10
[   54.274672]  ? debug_smp_processor_id+0x20/0x30
[   54.275069]  ? rcu_is_watching+0x19/0xc0
[   54.275410]  ? trace_irq_enable+0xe1/0x120
[   54.275779]  ? do_task_dead+0x4a/0x110
[   54.276119]  do_task_dead+0xe0/0x110
[   54.276442]  make_task_dead+0x384/0x3c0
[   54.276784]  rewind_stack_and_make_dead+0x16/0x20
[   54.277194] RIP: 0033:0x7f8d0123ee5d
[   54.277511] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   54.278029] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.278659] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   54.279234] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.279808] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   54.280386] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   54.280961] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   54.281543]  </TASK>
[   54.610977] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#47] PREEMPT SMP KASAN NOPTI
[   54.612396] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   54.613305] CPU: 0 UID: 0 PID: 14918 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   54.614405] Tainted: [D]=DIE, [W]=WARN
[   54.614837] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.616115] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.616789] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.618851] RSP: 0018:ffff888020f6f7d8 EFLAGS: 00010202
[   54.619460] RAX: dffffc0000000000 RBX: ffffea00004c2c80 RCX: ffffffff81b9e779
[   54.620268] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004c2c90
[   54.621077] RBP: ffff888020f6f7f8 R08: 0000000000000000 R09: ffffed100323f314
[   54.621879] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   54.622678] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880191f98a0
[   54.623446] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.624311] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.624939] CR2: 00007f8d01605fa8 CR3: 00000000141c2001 CR4: 0000000000770ef0
[   54.625706] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.626473] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.627244] PKRU: 55555554
[   54.627548] Call Trace:
[   54.627826]  <TASK>
[   54.628082]  ? show_regs+0xa8/0xc0
[   54.628480]  ? die_addr+0x5d/0xf0
[   54.628867]  ? exc_general_protection+0x1ae/0x340
[   54.629409]  ? asm_exc_general_protection+0x2b/0x30
[   54.629945]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   54.630488]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.631037]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   54.631583]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   54.632133]  zap_huge_pmd+0x494/0xd40
[   54.632539]  unmap_page_range+0x1ad6/0x4320
[   54.632994]  ? __pfx_lock_release+0x10/0x10
[   54.633440]  ? do_raw_spin_trylock+0xbf/0x190
[   54.633912]  ? __kasan_check_read+0x15/0x20
[   54.634382]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   54.634919]  ? __pfx_unmap_page_range+0x10/0x10
[   54.635420]  unmap_single_vma+0x1ac/0x2d0
[   54.635857]  unmap_vmas+0x210/0x470
[   54.636250]  ? __pfx_unmap_vmas+0x10/0x10
[   54.636685]  ? __pfx_lock_release+0x10/0x10
[   54.637132]  ? lock_release+0x592/0x870
[   54.637532]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   54.638035]  ? __pfx_lock_release+0x10/0x10
[   54.638465]  ? mlock_drain_local+0x27f/0x4b0
[   54.638907]  exit_mmap+0x19e/0xb10
[   54.639275]  ? __pfx_exit_mmap+0x10/0x10
[   54.639688]  ? trace_hardirqs_on+0x51/0x60
[   54.640122]  ? __khugepaged_exit+0x266/0x4c0
[   54.640561]  ? kmem_cache_free+0x15d/0x420
[   54.640990]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   54.641533]  __mmput+0xd6/0x390
[   54.641864]  mmput+0x74/0x90
[   54.642175]  do_exit+0xa03/0x29f0
[   54.642525]  ? trace_hardirqs_on+0x51/0x60
[   54.642954]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   54.643575]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   54.644072]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   54.644569]  ? __pfx_do_exit+0x10/0x10
[   54.644964]  ? __audit_syscall_entry+0x39c/0x500
[   54.645439]  __x64_sys_exit+0x50/0x60
[   54.645804]  x64_sys_call+0x20c9/0x20d0
[   54.646188]  do_syscall_64+0x6d/0x140
[   54.646558]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   54.647054] RIP: 0033:0x7f8d0123ee5d
[   54.647403] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   54.647983] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.648692] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   54.649365] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.650034] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   54.650686] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   54.651328] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   54.651983]  </TASK>
[   54.652193] Modules linked in:
[   54.652640] ---[ end trace 0000000000000000 ]---
[   54.653075] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   54.653611] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   54.655266] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   54.655799] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   54.656451] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   54.657079] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   54.657700] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   54.658320] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   54.658942] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   54.659658] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   54.660169] CR2: 00007f8d01605fa8 CR3: 00000000141c2001 CR4: 0000000000770ef0
[   54.660794] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   54.661418] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   54.662033] PKRU: 55555554
[   54.662271] note: repro[14918] exited with preempt_count 1
[   54.662732] Fixing recursive fault but reboot is needed!
[   54.663181] BUG: using smp_processor_id() in preemptible [00000000] code: repro/14918
[   54.663848] caller is debug_smp_processor_id+0x20/0x30
[   54.664296] CPU: 0 UID: 0 PID: 14918 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   54.665096] Tainted: [D]=DIE, [W]=WARN
[   54.665418] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.666362] Call Trace:
[   54.666578]  <TASK>
[   54.666769]  dump_stack_lvl+0x121/0x150
[   54.667118]  dump_stack+0x19/0x20
[   54.667420]  check_preemption_disabled+0x168/0x180
[   54.667824]  debug_smp_processor_id+0x20/0x30
[   54.668195]  __schedule+0x9a/0x2eb0
[   54.668494]  ? rcu_is_watching+0x19/0xc0
[   54.668825]  ? lock_release+0x592/0x870
[   54.669153]  ? __pfx___schedule+0x10/0x10
[   54.669491]  ? debug_smp_processor_id+0x20/0x30
[   54.669870]  ? rcu_is_watching+0x19/0xc0
[   54.670203]  ? trace_irq_enable+0xe1/0x120
[   54.670553]  ? do_task_dead+0x4a/0x110
[   54.670877]  do_task_dead+0xe0/0x110
[   54.671192]  make_task_dead+0x384/0x3c0
[   54.671522]  rewind_stack_and_make_dead+0x16/0x20
[   54.671914] RIP: 0033:0x7f8d0123ee5d
[   54.672208] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   54.672685] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.673275] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   54.673827] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.674456] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   54.675157] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   54.675709] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   54.676276]  </TASK>
[   54.676576] BUG: scheduling while atomic: repro/14918/0x00000000
[   54.677044] INFO: lockdep is turned off.
[   54.677345] Modules linked in:
[   54.677586] Preemption disabled at:
[   54.677589] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   54.678279] CPU: 0 UID: 0 PID: 14918 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   54.679003] Tainted: [D]=DIE, [W]=WARN
[   54.679292] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   54.680144] Call Trace:
[   54.680340]  <TASK>
[   54.680509]  dump_stack_lvl+0x121/0x150
[   54.680808]  ? do_task_dead+0x28/0x110
[   54.681104]  dump_stack+0x19/0x20
[   54.681366]  __schedule_bug+0x12d/0x180
[   54.681664]  __schedule+0x210c/0x2eb0
[   54.681949]  ? rcu_is_watching+0x19/0xc0
[   54.682248]  ? lock_release+0x592/0x870
[   54.682542]  ? __pfx___schedule+0x10/0x10
[   54.682848]  ? debug_smp_processor_id+0x20/0x30
[   54.683195]  ? rcu_is_watching+0x19/0xc0
[   54.683495]  ? trace_irq_enable+0xe1/0x120
[   54.683813]  ? do_task_dead+0x4a/0x110
[   54.684103]  do_task_dead+0xe0/0x110
[   54.684385]  make_task_dead+0x384/0x3c0
[   54.684684]  rewind_stack_and_make_dead+0x16/0x20
[   54.685031] RIP: 0033:0x7f8d0123ee5d
[   54.685296] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   54.685729] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   54.686267] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   54.686771] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   54.687277] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   54.687782] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   54.688287] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   54.688799]  </TASK>
[   55.111132] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#48] PREEMPT SMP KASAN NOPTI
[   55.112224] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.112943] CPU: 1 UID: 0 PID: 15180 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.113794] Tainted: [D]=DIE, [W]=WARN
[   55.114144] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.115174] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.116053] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.117674] RSP: 0018:ffff888023a277d8 EFLAGS: 00010202
[   55.118180] RAX: dffffc0000000000 RBX: ffffea0000701a80 RCX: ffffffff81b9e779
[   55.118815] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000701a90
[   55.119634] RBP: ffff888023a277f8 R08: 0000000000000000 R09: ffffed1003855648
[   55.120487] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.121197] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c2ab240
[   55.121866] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.122633] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.123191] CR2: 00007f8d0129bc20 CR3: 000000001d80c004 CR4: 0000000000770ef0
[   55.123825] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.124444] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.125107] PKRU: 55555554
[   55.125366] Call Trace:
[   55.125590]  <TASK>
[   55.125792]  ? show_regs+0xa8/0xc0
[   55.126139]  ? die_addr+0x5d/0xf0
[   55.126466]  ? exc_general_protection+0x1ae/0x340
[   55.126918]  ? asm_exc_general_protection+0x2b/0x30
[   55.127385]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.128114]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.128697]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.129192]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.129678]  zap_huge_pmd+0x494/0xd40
[   55.130037]  unmap_page_range+0x1ad6/0x4320
[   55.130443]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.130909]  ? __pfx_unmap_page_range+0x10/0x10
[   55.131365]  unmap_single_vma+0x1ac/0x2d0
[   55.131869]  unmap_vmas+0x210/0x470
[   55.132419]  ? __pfx_unmap_vmas+0x10/0x10
[   55.132843]  ? __pfx_lock_release+0x10/0x10
[   55.133209]  ? lock_release+0x592/0x870
[   55.133566]  ? mas_next_slot+0x133a/0x1a50
[   55.133942]  ? __pfx_lock_release+0x10/0x10
[   55.134314]  ? mlock_drain_local+0x27f/0x4b0
[   55.134702]  exit_mmap+0x19e/0xb10
[   55.135036]  ? __pfx_exit_mmap+0x10/0x10
[   55.135407]  ? trace_hardirqs_on+0x51/0x60
[   55.135807]  ? __khugepaged_exit+0x266/0x4c0
[   55.136216]  ? kmem_cache_free+0x15d/0x420
[   55.136594]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.137077]  __mmput+0xd6/0x390
[   55.137384]  mmput+0x74/0x90
[   55.137656]  do_exit+0xa03/0x29f0
[   55.137973]  ? trace_hardirqs_on+0x51/0x60
[   55.138346]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.138881]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.139310]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.139742]  ? __pfx_do_exit+0x10/0x10
[   55.140244]  ? __audit_syscall_entry+0x39c/0x500
[   55.140889]  __x64_sys_exit+0x50/0x60
[   55.141253]  x64_sys_call+0x20c9/0x20d0
[   55.141605]  do_syscall_64+0x6d/0x140
[   55.141928]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.142355] RIP: 0033:0x7f8d0123ee5d
[   55.142653] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.143139] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.143740] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.144294] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.144861] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.145421] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.146002] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.146800]  </TASK>
[   55.147065] Modules linked in:
[   55.147486] ---[ end trace 0000000000000000 ]---
[   55.147870] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.148341] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.149741] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   55.149920] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#49] PREEMPT SMP KASAN NOPTI
[   55.150149] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   55.151227] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.151926] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   55.152456] CPU: 0 UID: 0 PID: 15204 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.152998] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   55.153841] Tainted: [D]=DIE, [W]=WARN
[   55.154362] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.154702] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.155198] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   55.156206] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.156236] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.156252] RSP: 0018:ffff888023b4f7d8 EFLAGS: 00010202
[   55.156267] RAX: dffffc0000000000 RBX: ffffea00008e35c0 RCX: ffffffff81b9e779
[   55.156279] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00008e35d0
[   55.156295] RBP: ffff888023b4f7f8 R08: 0000000000000000 R09: ffffed10021a2bc8
[   55.156306] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.156316] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010d15e40
[   55.156327] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.156341] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.156839] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.157354] CR2: 00007f6157313018 CR3: 000000001696e004 CR4: 0000000000770ef0
[   55.158673] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.159143] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.159739] CR2: 00007f8d0129bc20 CR3: 000000001d80c004 CR4: 0000000000770ef0
[   55.160249] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.160729] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.161348] PKRU: 55555554
[   55.161822] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.162529] Call Trace:
[   55.162921] PKRU: 55555554
[   55.163628]  <TASK>
[   55.163637]  ? show_regs+0xa8/0xc0
[   55.163663]  ? die_addr+0x5d/0xf0
[   55.163687]  ? exc_general_protection+0x1ae/0x340
[   55.163720]  ? asm_exc_general_protection+0x2b/0x30
[   55.163751]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.164231] note: repro[15180] exited with preempt_count 1
[   55.164741]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.165460] Fixing recursive fault but reboot is needed!
[   55.166090]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.166547] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15180
[   55.167199]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.167450] caller is debug_smp_processor_id+0x20/0x30
[   55.168020]  zap_huge_pmd+0x494/0xd40
[   55.168188] CPU: 1 UID: 0 PID: 15180 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.168437]  unmap_page_range+0x1ad6/0x4320
[   55.168577] Tainted: [D]=DIE, [W]=WARN
[   55.168901]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.169111] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.169540]  ? __pfx_unmap_page_range+0x10/0x10
[   55.169878] Call Trace:
[   55.169883]  <TASK>
[   55.170350]  unmap_single_vma+0x1ac/0x2d0
[   55.170678]  dump_stack_lvl+0x121/0x150
[   55.171145]  unmap_vmas+0x210/0x470
[   55.171475]  dump_stack+0x19/0x20
[   55.171939]  ? __pfx_unmap_vmas+0x10/0x10
[   55.172412]  check_preemption_disabled+0x168/0x180
[   55.172877]  ? __pfx_lock_release+0x10/0x10
[   55.173208]  debug_smp_processor_id+0x20/0x30
[   55.173538]  ? lock_release+0x592/0x870
[   55.174110]  __schedule+0x9a/0x2eb0
[   55.174483]  ? mas_next_slot+0x133a/0x1a50
[   55.174836]  ? rcu_is_watching+0x19/0xc0
[   55.175302]  ? __pfx_lock_release+0x10/0x10
[   55.175988]  ? lock_release+0x592/0x870
[   55.176405]  ? mlock_drain_local+0x27f/0x4b0
[   55.176556]  ? __pfx___schedule+0x10/0x10
[   55.176764]  exit_mmap+0x19e/0xb10
[   55.177006]  ? debug_smp_processor_id+0x20/0x30
[   55.177350]  ? __pfx_exit_mmap+0x10/0x10
[   55.177550]  ? rcu_is_watching+0x19/0xc0
[   55.177867]  ? trace_hardirqs_on+0x51/0x60
[   55.178108]  ? trace_irq_enable+0xe1/0x120
[   55.178682]  ? __khugepaged_exit+0x266/0x4c0
[   55.178927]  ? do_task_dead+0x4a/0x110
[   55.179332]  ? kmem_cache_free+0x15d/0x420
[   55.179568]  do_task_dead+0xe0/0x110
[   55.179885]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.180139]  make_task_dead+0x384/0x3c0
[   55.180500]  __mmput+0xd6/0x390
[   55.180748]  rewind_stack_and_make_dead+0x16/0x20
[   55.181103]  mmput+0x74/0x90
[   55.181366] RIP: 0033:0x7f8d0123ee5d
[   55.181738]  do_exit+0xa03/0x29f0
[   55.181947] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.182356]  ? trace_hardirqs_on+0x51/0x60
[   55.182580] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   55.182996]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.183245]  ORIG_RAX: 000000000000003c
[   55.183650]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.183914] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.184366]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.184607] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.185043]  ? __pfx_do_exit+0x10/0x10
[   55.185349] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.185809]  ? __audit_syscall_entry+0x39c/0x500
[   55.185996] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.186559]  __x64_sys_exit+0x50/0x60
[   55.186717] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.187154]  x64_sys_call+0x20c9/0x20d0
[   55.187349]  </TASK>
[   55.188068]  do_syscall_64+0x6d/0x140
[   55.197982]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.198606] RIP: 0033:0x7f8d0123ee5d
[   55.199051] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.199776] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.200672] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.201513] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.202352] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.203194] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.204030] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.204877]  </TASK>
[   55.205160] Modules linked in:
[   55.205570] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#50] PREEMPT SMP KASAN NOPTI
[   55.205634] ---[ end trace 0000000000000000 ]---
[   55.206569] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.207125] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.207632] CPU: 1 UID: 0 PID: 15220 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.207653] Tainted: [D]=DIE, [W]=WARN
[   55.208326] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.208960] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.209407] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   55.210635] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.211976] 
[   55.212312] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.212990] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   55.213108] RSP: 0018:ffff888020ce77d8 EFLAGS: 00010202
[   55.215259] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   55.215703] 
[   55.215715] RAX: dffffc0000000000 RBX: ffffea0000433a40 RCX: ffffffff81b9e779
[   55.215724] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000433a50
[   55.216346] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   55.216793] RBP: ffff888020ce77f8 R08: 0000000000000000 R09: ffffed100201d49c
[   55.216994] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.217447] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.218283] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   55.218724] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880100ea4e0
[   55.219579] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.220028] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.220039] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.220871] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.221311] CR2: 00007f8d0129bc20 CR3: 000000001d984002 CR4: 0000000000770ef0
[   55.222146] CR2: 00007f6157313018 CR3: 000000001696e004 CR4: 0000000000770ef0
[   55.222624] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.223585] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.223938] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.224614] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.225040] PKRU: 55555554
[   55.225873] PKRU: 55555554
[   55.226297] Call Trace:
[   55.226303]  <TASK>
[   55.227150] note: repro[15204] exited with preempt_count 1
[   55.227551]  ? show_regs+0xa8/0xc0
[   55.227570]  ? die_addr+0x5d/0xf0
[   55.228403] Fixing recursive fault but reboot is needed!
[   55.228570]  ? exc_general_protection+0x1ae/0x340
[   55.228899] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15204
[   55.229060]  ? asm_exc_general_protection+0x2b/0x30
[   55.229315] caller is debug_smp_processor_id+0x20/0x30
[   55.229644]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.230056] CPU: 0 UID: 0 PID: 15204 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.230253]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.230883] Tainted: [D]=DIE, [W]=WARN
[   55.231158]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.232068] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.232352]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.232958] Call Trace:
[   55.233252]  zap_huge_pmd+0x494/0xd40
[   55.234360]  <TASK>
[   55.234654]  unmap_page_range+0x1ad6/0x4320
[   55.235105]  dump_stack_lvl+0x121/0x150
[   55.235406]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.236723]  dump_stack+0x19/0x20
[   55.237009]  ? __pfx_unmap_page_range+0x10/0x10
[   55.237310]  check_preemption_disabled+0x168/0x180
[   55.237523]  unmap_single_vma+0x1ac/0x2d0
[   55.237786]  debug_smp_processor_id+0x20/0x30
[   55.238019]  unmap_vmas+0x210/0x470
[   55.238476]  __schedule+0x9a/0x2eb0
[   55.238760]  ? __pfx_unmap_vmas+0x10/0x10
[   55.239165]  ? rcu_is_watching+0x19/0xc0
[   55.239418]  ? __pfx_lock_release+0x10/0x10
[   55.239991]  ? lock_release+0x592/0x870
[   55.240210]  ? lock_release+0x592/0x870
[   55.240729]  ? __pfx___schedule+0x10/0x10
[   55.240920]  ? mas_next_slot+0x133a/0x1a50
[   55.241346]  ? debug_smp_processor_id+0x20/0x30
[   55.241559]  ? __pfx_lock_release+0x10/0x10
[   55.242031]  ? rcu_is_watching+0x19/0xc0
[   55.242260]  ? mlock_drain_local+0x27f/0x4b0
[   55.242718]  ? trace_irq_enable+0xe1/0x120
[   55.242928]  exit_mmap+0x19e/0xb10
[   55.243408]  ? do_task_dead+0x4a/0x110
[   55.243637]  ? __pfx_exit_mmap+0x10/0x10
[   55.244177]  do_task_dead+0xe0/0x110
[   55.244399]  ? trace_hardirqs_on+0x51/0x60
[   55.244864]  make_task_dead+0x384/0x3c0
[   55.245093]  ? __khugepaged_exit+0x266/0x4c0
[   55.245580]  rewind_stack_and_make_dead+0x16/0x20
[   55.245772]  ? kmem_cache_free+0x15d/0x420
[   55.246219] RIP: 0033:0x7f8d0123ee5d
[   55.246435]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.246862] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.247087]  __mmput+0xd6/0x390
[   55.247539] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   55.247761]  mmput+0x74/0x90
[   55.248318]  ORIG_RAX: 000000000000003c
[   55.248526]  do_exit+0xa03/0x29f0
[   55.248954] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.249227]  ? trace_hardirqs_on+0x51/0x60
[   55.249947] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.250116]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.250729] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.250875]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.251336] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.251504]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.252337] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.252543]  ? __pfx_do_exit+0x10/0x10
[   55.253392]  </TASK>
[   55.253674]  ? __audit_syscall_entry+0x39c/0x500
[   55.256295]  __x64_sys_exit+0x50/0x60
[   55.256494]  x64_sys_call+0x20c9/0x20d0
[   55.256693]  do_syscall_64+0x6d/0x140
[   55.256880]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.257125] RIP: 0033:0x7f8d0123ee5d
[   55.257298] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.257575] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.257920] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.258248] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.258572] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.258892] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.259217] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.259542]  </TASK>
[   55.259649] Modules linked in:
[   55.259890] ---[ end trace 0000000000000000 ]---
[   55.260119] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.260396] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.261207] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   55.261538] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   55.261955] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   55.262275] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   55.262594] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.262910] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   55.263238] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.263619] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.263888] CR2: 00007f8d0129bc20 CR3: 000000001d984002 CR4: 0000000000770ef0
[   55.264211] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.264526] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.264846] PKRU: 55555554
[   55.264983] note: repro[15220] exited with preempt_count 1
[   55.265238] Fixing recursive fault but reboot is needed!
[   55.265465] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15220
[   55.265793] caller is debug_smp_processor_id+0x20/0x30
[   55.266028] CPU: 1 UID: 0 PID: 15220 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.266440] Tainted: [D]=DIE, [W]=WARN
[   55.266608] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.267087] Call Trace:
[   55.267200]  <TASK>
[   55.267301]  dump_stack_lvl+0x121/0x150
[   55.267482]  dump_stack+0x19/0x20
[   55.267637]  check_preemption_disabled+0x168/0x180
[   55.267851]  debug_smp_processor_id+0x20/0x30
[   55.268057]  __schedule+0x9a/0x2eb0
[   55.268219]  ? rcu_is_watching+0x19/0xc0
[   55.268296] systemd-journald[148]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   55.268409]  ? lock_release+0x592/0x870
[   55.270574] systemd-journald[148]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   55.270719]  ? __pfx___schedule+0x10/0x10
[   55.272339]  ? debug_smp_processor_id+0x20/0x30
[   55.272541]  ? rcu_is_watching+0x19/0xc0
[   55.272718]  ? trace_irq_enable+0xe1/0x120
[   55.272907]  ? do_task_dead+0x4a/0x110
[   55.273086]  do_task_dead+0xe0/0x110
[   55.273265]  make_task_dead+0x384/0x3c0
[   55.273443]  rewind_stack_and_make_dead+0x16/0x20
[   55.273654] RIP: 0033:0x7f8d0123ee5d
[   55.273816] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.274080] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.274405] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.274704] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.275005] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.275305] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.275606] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.275909]  </TASK>
[   55.276023] BUG: scheduling while atomic: repro/15220/0x00000000
[   55.276286] INFO: lockdep is turned off.
[   55.276520] Modules linked in:
[   55.276714] Preemption disabled at:
[   55.276716] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   55.277239] CPU: 1 UID: 0 PID: 15220 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.277673] Tainted: [D]=DIE, [W]=WARN
[   55.277842] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.278319] Call Trace:
[   55.278433]  <TASK>
[   55.278533]  dump_stack_lvl+0x121/0x150
[   55.278713]  ? do_task_dead+0x28/0x110
[   55.278889]  dump_stack+0x19/0x20
[   55.279049]  __schedule_bug+0x12d/0x180
[   55.279229]  __schedule+0x210c/0x2eb0
[   55.279401]  ? rcu_is_watching+0x19/0xc0
[   55.279578]  ? lock_release+0x592/0x870
[   55.279752]  ? __pfx___schedule+0x10/0x10
[   55.279941]  ? debug_smp_processor_id+0x20/0x30
[   55.280144]  ? rcu_is_watching+0x19/0xc0
[   55.280323]  ? trace_irq_enable+0xe1/0x120
[   55.280510]  ? do_task_dead+0x4a/0x110
[   55.280683]  do_task_dead+0xe0/0x110
[   55.280849]  make_task_dead+0x384/0x3c0
[   55.281032]  rewind_stack_and_make_dead+0x16/0x20
[   55.281242] RIP: 0033:0x7f8d0123ee5d
[   55.281402] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.281662] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.281988] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.282292] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.282598] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.282901] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.283208] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.283517]  </TASK>
[   55.666238] ------------[ cut here ]------------
[   55.666677] kernel BUG at include/linux/swapops.h:508!
[   55.667127] Oops: invalid opcode: 0000 [#51] PREEMPT SMP KASAN NOPTI
[   55.667671] CPU: 1 UID: 0 PID: 15417 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.668458] Tainted: [D]=DIE, [W]=WARN
[   55.668779] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.669739] RIP: 0010:pfn_swap_entry_folio+0x2a6/0x310
[   55.670218] Code: fc ff df 48 c1 ea 03 80 3c 02 00 75 5e 49 8b 1c 24 31 ff 83 e3 01 89 de e8 e7 65 97 ff 84 db 0f 85 b3 fe ff ff e8 da 62 97 ff <0f> 0b e8 d3 62 97 ff 4c 8b a5 70 ff ff ff 49 83 ec 01 e9 59 fe ff
[   55.671752] RSP: 0018:ffff88802001f768 EFLAGS: 00010293
[   55.672186] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff81ce57d9
[   55.672733] RDX: ffff88802005a500 RSI: ffffffff81ce57e6 RDI: 0000000000000001
[   55.673280] RBP: ffff88802001f7f8 R08: 0000000000000000 R09: fffff94000179000
[   55.673820] R10: 0000000000000000 R11: 0000000000000000 R12: ffffea0000bc8000
[   55.674379] R13: 1ffff11004003eee R14: 000000000000001a R15: 0000000000000000
[   55.674969] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.675619] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.676080] CR2: 00007f8d01601910 CR3: 0000000010e92006 CR4: 0000000000770ef0
[   55.676666] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.677230] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.677795] PKRU: 55555554
[   55.678021] Call Trace:
[   55.678227]  <TASK>
[   55.678421]  ? show_regs+0xa8/0xc0
[   55.678733]  ? die+0x42/0xc0
[   55.679008]  ? do_trap+0x230/0x410
[   55.679310]  ? do_error_trap+0xf2/0x210
[   55.679622]  ? pfn_swap_entry_folio+0x2a6/0x310
[   55.679982]  ? handle_invalid_op+0x39/0x50
[   55.680297]  ? pfn_swap_entry_folio+0x2a6/0x310
[   55.680664]  ? exc_invalid_op+0x63/0x80
[   55.680986]  ? asm_exc_invalid_op+0x1f/0x30
[   55.681326]  ? pfn_swap_entry_folio+0x299/0x310
[   55.681698]  ? pfn_swap_entry_folio+0x2a6/0x310
[   55.682075]  ? pfn_swap_entry_folio+0x2a6/0x310
[   55.682438]  ? pfn_swap_entry_folio+0x2a6/0x310
[   55.682795]  ? __pfx_pfn_swap_entry_folio+0x10/0x10
[   55.683186]  ? _raw_spin_lock+0x40/0x50
[   55.683501]  ? __pmd_trans_huge_lock+0xdb/0x300
[   55.683862]  ? __sanitizer_cov_trace_const_cmp4+0x1a/0x20
[   55.684284]  zap_huge_pmd+0x2ae/0xd40
[   55.684586]  unmap_page_range+0x1ad6/0x4320
[   55.684944]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.685360]  ? __pfx_unmap_page_range+0x10/0x10
[   55.685745]  unmap_single_vma+0x1ac/0x2d0
[   55.686073]  unmap_vmas+0x210/0x470
[   55.686367]  ? __pfx_unmap_vmas+0x10/0x10
[   55.686689]  ? __pfx_lock_release+0x10/0x10
[   55.687032]  ? lock_release+0x592/0x870
[   55.687343]  ? mas_next_slot+0x133a/0x1a50
[   55.687668]  ? __pfx_lock_release+0x10/0x10
[   55.688007]  ? mlock_drain_local+0x27f/0x4b0
[   55.688334]  exit_mmap+0x19e/0xb10
[   55.688603]  ? __pfx_exit_mmap+0x10/0x10
[   55.688915]  ? trace_hardirqs_on+0x51/0x60
[   55.689236]  ? __khugepaged_exit+0x266/0x4c0
[   55.689557]  ? kmem_cache_free+0x15d/0x420
[   55.689876]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.690289]  __mmput+0xd6/0x390
[   55.690536]  mmput+0x74/0x90
[   55.690762]  do_exit+0xa03/0x29f0
[   55.691025]  ? trace_hardirqs_on+0x51/0x60
[   55.691336]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.691790]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.692158]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.692516]  ? __pfx_do_exit+0x10/0x10
[   55.692803]  ? __audit_syscall_entry+0x39c/0x500
[   55.693158]  __x64_sys_exit+0x50/0x60
[   55.693447]  x64_sys_call+0x20c9/0x20d0
[   55.693739]  do_syscall_64+0x6d/0x140
[   55.694037]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.694416] RIP: 0033:0x7f8d0123ee5d
[   55.694675] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.695106] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.695619] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.696102] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.696585] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.697079] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.697557] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.698057]  </TASK>
[   55.698219] Modules linked in:
[   55.698577] ---[ end trace 0000000000000000 ]---
[   55.698905] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.699314] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.700594] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   55.700952] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   55.701421] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   55.701902] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   55.702394] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.702880] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   55.703354] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.703907] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.704294] CR2: 00007f8d01601910 CR3: 0000000010e92006 CR4: 0000000000770ef0
[   55.704763] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.705249] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.705730] PKRU: 55555554
[   55.705921] note: repro[15417] exited with preempt_count 1
[   55.706299] Fixing recursive fault but reboot is needed!
[   55.706659] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15417
[   55.707213] caller is debug_smp_processor_id+0x20/0x30
[   55.707633] CPU: 1 UID: 0 PID: 15417 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.708358] Tainted: [D]=DIE, [W]=WARN
[   55.708650] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.709500] Call Trace:
[   55.709699]  <TASK>
[   55.709876]  dump_stack_lvl+0x121/0x150
[   55.710198]  dump_stack+0x19/0x20
[   55.710475]  check_preemption_disabled+0x168/0x180
[   55.710857]  debug_smp_processor_id+0x20/0x30
[   55.711192]  __schedule+0x9a/0x2eb0
[   55.711433]  ? rcu_is_watching+0x19/0xc0
[   55.711697]  ? lock_release+0x592/0x870
[   55.711958]  ? __pfx___schedule+0x10/0x10
[   55.712228]  ? debug_smp_processor_id+0x20/0x30
[   55.712528]  ? rcu_is_watching+0x19/0xc0
[   55.712789]  ? trace_irq_enable+0xe1/0x120
[   55.713064]  ? do_task_dead+0x4a/0x110
[   55.713314]  do_task_dead+0xe0/0x110
[   55.713559]  make_task_dead+0x384/0x3c0
[   55.713822]  rewind_stack_and_make_dead+0x16/0x20
[   55.714142] RIP: 0033:0x7f8d0123ee5d
[   55.714377] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.714839] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.715540] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.716201] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.716844] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.717533] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.718227] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.718937]  </TASK>
[   55.719202] BUG: scheduling while atomic: repro/15417/0x00000000
[   55.719779] INFO: lockdep is turned off.
[   55.720175] Modules linked in:
[   55.720494] Preemption disabled at:
[   55.720499] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   55.721051] CPU: 1 UID: 0 PID: 15417 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.721817] Tainted: [D]=DIE, [W]=WARN
[   55.722051] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.722994] Call Trace:
[   55.723230]  <TASK>
[   55.723443]  dump_stack_lvl+0x121/0x150
[   55.723803]  ? do_task_dead+0x28/0x110
[   55.724161]  dump_stack+0x19/0x20
[   55.724498]  __schedule_bug+0x12d/0x180
[   55.724913]  __schedule+0x210c/0x2eb0
[   55.725304]  ? rcu_is_watching+0x19/0xc0
[   55.725671]  ? lock_release+0x592/0x870
[   55.726030]  ? __pfx___schedule+0x10/0x10
[   55.726408]  ? debug_smp_processor_id+0x20/0x30
[   55.726917]  ? rcu_is_watching+0x19/0xc0
[   55.727199]  ? trace_irq_enable+0xe1/0x120
[   55.727478]  ? do_task_dead+0x4a/0x110
[   55.727725]  do_task_dead+0xe0/0x110
[   55.727968]  make_task_dead+0x384/0x3c0
[   55.728215]  rewind_stack_and_make_dead+0x16/0x20
[   55.728564] RIP: 0033:0x7f8d0123ee5d
[   55.728865] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.729221] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.729678] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.730105] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.730612] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.731229] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.731907] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.732637]  </TASK>
[   55.742467] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#52] PREEMPT SMP KASAN NOPTI
[   55.743120] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.743524] CPU: 1 UID: 0 PID: 15465 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.744026] Tainted: [D]=DIE, [W]=WARN
[   55.744226] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.744801] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.745120] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.746114] RSP: 0018:ffff88801ea577d8 EFLAGS: 00010202
[   55.746563] RAX: dffffc0000000000 RBX: ffffea0000708b40 RCX: ffffffff81b9e779
[   55.746975] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000708b50
[   55.747374] RBP: ffff88801ea577f8 R08: 0000000000000000 R09: ffffed1002345618
[   55.748015] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.748774] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011a2b0c0
[   55.749447] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.750193] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.750730] CR2: 00007f475a4616b8 CR3: 00000000201b2005 CR4: 0000000000770ef0
[   55.751391] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.752046] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.752648] PKRU: 55555554
[   55.752792] Call Trace:
[   55.752923]  <TASK>
[   55.753052]  ? show_regs+0xa8/0xc0
[   55.753244]  ? die_addr+0x5d/0xf0
[   55.753430]  ? exc_general_protection+0x1ae/0x340
[   55.753688]  ? asm_exc_general_protection+0x2b/0x30
[   55.753951]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.754218]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.754486]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.754755]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.755026]  zap_huge_pmd+0x494/0xd40
[   55.755230]  unmap_page_range+0x1ad6/0x4320
[   55.755465]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.755731]  ? __pfx_unmap_page_range+0x10/0x10
[   55.755980]  unmap_single_vma+0x1ac/0x2d0
[   55.756195]  unmap_vmas+0x210/0x470
[   55.756385]  ? __pfx_unmap_vmas+0x10/0x10
[   55.756597]  ? __pfx_lock_release+0x10/0x10
[   55.756837]  ? lock_release+0x592/0x870
[   55.757039]  ? mas_next_slot+0x133a/0x1a50
[   55.757256]  ? __pfx_lock_release+0x10/0x10
[   55.757476]  ? mlock_drain_local+0x27f/0x4b0
[   55.757704]  exit_mmap+0x19e/0xb10
[   55.757890]  ? __pfx_exit_mmap+0x10/0x10
[   55.758106]  ? trace_hardirqs_on+0x51/0x60
[   55.758322]  ? __khugepaged_exit+0x266/0x4c0
[   55.758540]  ? kmem_cache_free+0x15d/0x420
[   55.758755]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.759023]  __mmput+0xd6/0x390
[   55.759188]  mmput+0x74/0x90
[   55.759340]  do_exit+0xa03/0x29f0
[   55.759516]  ? trace_hardirqs_on+0x51/0x60
[   55.759728]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.760037]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.760282]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.760526]  ? __pfx_do_exit+0x10/0x10
[   55.760719]  ? __audit_syscall_entry+0x39c/0x500
[   55.760974]  __x64_sys_exit+0x50/0x60
[   55.761166]  x64_sys_call+0x20c9/0x20d0
[   55.761362]  do_syscall_64+0x6d/0x140
[   55.761557]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.761806] RIP: 0033:0x7f8d0123ee5d
[   55.761987] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.762275] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.762630] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.762966] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.763296] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.763643] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.763985] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.764324]  </TASK>
[   55.764435] Modules linked in:
[   55.764711] ---[ end trace 0000000000000000 ]---
[   55.764942] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.765281] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.766107] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   55.766347] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   55.766671] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   55.766998] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   55.767318] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   55.767689] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   55.768014] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   55.768378] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.768643] CR2: 00007f475a4616b8 CR3: 00000000201b2005 CR4: 0000000000770ef0
[   55.768972] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.769295] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.769610] PKRU: 55555554
[   55.769736] note: repro[15465] exited with preempt_count 1
[   55.769985] Fixing recursive fault but reboot is needed!
[   55.770221] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15465
[   55.770566] caller is debug_smp_processor_id+0x20/0x30
[   55.770799] CPU: 1 UID: 0 PID: 15465 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.771227] Tainted: [D]=DIE, [W]=WARN
[   55.771399] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.771898] Call Trace:
[   55.772018]  <TASK>
[   55.772122]  dump_stack_lvl+0x121/0x150
[   55.772305]  dump_stack+0x19/0x20
[   55.772468]  check_preemption_disabled+0x168/0x180
[   55.772692]  debug_smp_processor_id+0x20/0x30
[   55.772896]  __schedule+0x9a/0x2eb0
[   55.773060]  ? rcu_is_watching+0x19/0xc0
[   55.773237]  ? lock_release+0x592/0x870
[   55.773412]  ? __pfx___schedule+0x10/0x10
[   55.773598]  ? debug_smp_processor_id+0x20/0x30
[   55.773803]  ? rcu_is_watching+0x19/0xc0
[   55.773985]  ? trace_irq_enable+0xe1/0x120
[   55.774178]  ? do_task_dead+0x4a/0x110
[   55.774357]  do_task_dead+0xe0/0x110
[   55.774526]  make_task_dead+0x384/0x3c0
[   55.774705]  rewind_stack_and_make_dead+0x16/0x20
[   55.774926] RIP: 0033:0x7f8d0123ee5d
[   55.775094] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.775362] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.775701] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.776018] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.776329] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.776643] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.776977] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.777304]  </TASK>
[   55.777426] BUG: scheduling while atomic: repro/15465/0x00000000
[   55.777698] INFO: lockdep is turned off.
[   55.777874] Modules linked in:
[   55.778019] Preemption disabled at:
[   55.778021] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   55.778435] CPU: 1 UID: 0 PID: 15465 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.778842] Tainted: [D]=DIE, [W]=WARN
[   55.779011] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.779496] Call Trace:
[   55.779607]  <TASK>
[   55.779708]  dump_stack_lvl+0x121/0x150
[   55.779892]  ? do_task_dead+0x28/0x110
[   55.780071]  dump_stack+0x19/0x20
[   55.780234]  __schedule_bug+0x12d/0x180
[   55.780413]  __schedule+0x210c/0x2eb0
[   55.780582]  ? rcu_is_watching+0x19/0xc0
[   55.780764]  ? lock_release+0x592/0x870
[   55.780947]  ? __pfx___schedule+0x10/0x10
[   55.781129]  ? debug_smp_processor_id+0x20/0x30
[   55.781377]  ? rcu_is_watching+0x19/0xc0
[   55.781612]  ? trace_irq_enable+0xe1/0x120
[   55.781869]  ? do_task_dead+0x4a/0x110
[   55.782116]  do_task_dead+0xe0/0x110
[   55.782297]  make_task_dead+0x384/0x3c0
[   55.782479]  rewind_stack_and_make_dead+0x16/0x20
[   55.782693] RIP: 0033:0x7f8d0123ee5d
[   55.782860] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.783136] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.783469] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.783786] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.784102] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.784417] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.784730] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.785064]  </TASK>
[   55.956264] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#53] PREEMPT SMP KASAN NOPTI
[   55.957411] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   55.958136] CPU: 0 UID: 0 PID: 15533 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   55.959029] Tainted: [D]=DIE, [W]=WARN
[   55.959356] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   55.960420] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.961008] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   55.962715] RSP: 0018:ffff8880125af7d8 EFLAGS: 00010202
[   55.963356] RAX: dffffc0000000000 RBX: ffffea00005a5900 RCX: ffffffff81b9e779
[   55.964018] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00005a5910
[   55.964672] RBP: ffff8880125af7f8 R08: 0000000000000000 R09: ffffed10022940c0
[   55.965333] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   55.966007] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880114a0600
[   55.966678] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   55.967474] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   55.968039] CR2: 00007f8d01601910 CR3: 000000001c0c4005 CR4: 0000000000770ef0
[   55.968724] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   55.969388] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   55.970045] PKRU: 55555554
[   55.970302] Call Trace:
[   55.970537]  <TASK>
[   55.970741]  ? show_regs+0xa8/0xc0
[   55.971156]  ? die_addr+0x5d/0xf0
[   55.971581]  ? exc_general_protection+0x1ae/0x340
[   55.972122]  ? asm_exc_general_protection+0x2b/0x30
[   55.972706]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   55.973333]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.973965]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   55.974589]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   55.975219]  zap_huge_pmd+0x494/0xd40
[   55.975685]  unmap_page_range+0x1ad6/0x4320
[   55.976223]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   55.976841]  ? __pfx_unmap_page_range+0x10/0x10
[   55.977416]  unmap_single_vma+0x1ac/0x2d0
[   55.977919]  unmap_vmas+0x210/0x470
[   55.978373]  ? __pfx_unmap_vmas+0x10/0x10
[   55.978870]  ? __pfx_lock_release+0x10/0x10
[   55.979389]  ? lock_release+0x592/0x870
[   55.979863]  ? mas_next_slot+0x133a/0x1a50
[   55.980376]  ? __pfx_lock_release+0x10/0x10
[   55.980893]  ? mlock_drain_local+0x27f/0x4b0
[   55.981431]  exit_mmap+0x19e/0xb10
[   55.981868]  ? __pfx_exit_mmap+0x10/0x10
[   55.982372]  ? trace_hardirqs_on+0x51/0x60
[   55.982890]  ? __khugepaged_exit+0x266/0x4c0
[   55.983423]  ? kmem_cache_free+0x15d/0x420
[   55.983939]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   55.984594]  __mmput+0xd6/0x390
[   55.984999]  mmput+0x74/0x90
[   55.985366]  do_exit+0xa03/0x29f0
[   55.985788]  ? trace_hardirqs_on+0x51/0x60
[   55.986304]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   55.987056]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   55.987651]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   55.988247]  ? __pfx_do_exit+0x10/0x10
[   55.988717]  ? __audit_syscall_entry+0x39c/0x500
[   55.989296]  __x64_sys_exit+0x50/0x60
[   55.989756]  x64_sys_call+0x20c9/0x20d0
[   55.990239]  do_syscall_64+0x6d/0x140
[   55.990703]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   55.991326] RIP: 0033:0x7f8d0123ee5d
[   55.991768] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   55.992499] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   55.993399] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   55.994241] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   55.995084] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   55.995926] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   55.996766] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   55.997620]  </TASK>
[   55.997897] Modules linked in:
[   55.998462] ---[ end trace 0000000000000000 ]---
[   55.999029] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   55.999755] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.001918] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   56.002557] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   56.003425] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   56.004277] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   56.005126] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.005971] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   56.006814] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.007797] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.008493] CR2: 00007f8d01601910 CR3: 000000001c0c4005 CR4: 0000000000770ef0
[   56.009344] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.010188] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.011037] PKRU: 55555554
[   56.011395] note: repro[15533] exited with preempt_count 1
[   56.012067] Fixing recursive fault but reboot is needed!
[   56.012703] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15533
[   56.013629] caller is debug_smp_processor_id+0x20/0x30
[   56.014261] CPU: 0 UID: 0 PID: 15533 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.015540] Tainted: [D]=DIE, [W]=WARN
[   56.015997] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.017332] Call Trace:
[   56.017639]  <TASK>
[   56.017909]  dump_stack_lvl+0x121/0x150
[   56.018403]  dump_stack+0x19/0x20
[   56.018829]  check_preemption_disabled+0x168/0x180
[   56.019424]  debug_smp_processor_id+0x20/0x30
[   56.019969]  __schedule+0x9a/0x2eb0
[   56.020408]  ? rcu_is_watching+0x19/0xc0
[   56.020896]  ? lock_release+0x592/0x870
[   56.021379]  ? __pfx___schedule+0x10/0x10
[   56.021880]  ? debug_smp_processor_id+0x20/0x30
[   56.022443]  ? rcu_is_watching+0x19/0xc0
[   56.022927]  ? trace_irq_enable+0xe1/0x120
[   56.023446]  ? do_task_dead+0x4a/0x110
[   56.023922]  do_task_dead+0xe0/0x110
[   56.024386]  make_task_dead+0x384/0x3c0
[   56.024870]  rewind_stack_and_make_dead+0x16/0x20
[   56.025450] RIP: 0033:0x7f8d0123ee5d
[   56.025891] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.026622] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.027519] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.028363] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.029211] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.030055] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.030895] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.031755]  </TASK>
[   56.032258] BUG: scheduling while atomic: repro/15533/0x00000000
[   56.032980] INFO: lockdep is turned off.
[   56.033595] Modules linked in:
[   56.033967] Preemption disabled at:
[   56.033973] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.034997] CPU: 0 UID: 0 PID: 15533 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.036069] Tainted: [D]=DIE, [W]=WARN
[   56.036500] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.037765] Call Trace:
[   56.038061]  <TASK>
[   56.038317]  dump_stack_lvl+0x121/0x150
[   56.038777]  ? do_task_dead+0x28/0x110
[   56.039231]  dump_stack+0x19/0x20
[   56.039636]  __schedule_bug+0x12d/0x180
[   56.040100]  __schedule+0x210c/0x2eb0
[   56.040535]  ? rcu_is_watching+0x19/0xc0
[   56.040990]  ? lock_release+0x592/0x870
[   56.041420]  ? __pfx___schedule+0x10/0x10
[   56.041868]  ? debug_smp_processor_id+0x20/0x30
[   56.042375]  ? rcu_is_watching+0x19/0xc0
[   56.042813]  ? trace_irq_enable+0xe1/0x120
[   56.043281]  ? do_task_dead+0x4a/0x110
[   56.043710]  do_task_dead+0xe0/0x110
[   56.044125]  make_task_dead+0x384/0x3c0
[   56.044560]  rewind_stack_and_make_dead+0x16/0x20
[   56.045083] RIP: 0033:0x7f8d0123ee5d
[   56.045481] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.046137] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.046943] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.047700] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.048430] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.049153] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.049872] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.050608]  </TASK>
[   56.104115] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#54] PREEMPT SMP KASAN NOPTI
[   56.105242] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.105859] CPU: 0 UID: 0 PID: 15641 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.106868] Tainted: [D]=DIE, [W]=WARN
[   56.107181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.108044] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.108491] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.109840] RSP: 0018:ffff8880119af7d8 EFLAGS: 00010202
[   56.110239] RAX: dffffc0000000000 RBX: ffffea0000427340 RCX: ffffffff81b9e779
[   56.110769] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000427350
[   56.111301] RBP: ffff8880119af7f8 R08: 0000000000000000 R09: ffffed10038276c0
[   56.111823] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.112337] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c13b600
[   56.112846] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.113422] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.113837] CR2: 00007f8d013fca50 CR3: 0000000020ebc003 CR4: 0000000000770ef0
[   56.114350] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.114847] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.115341] PKRU: 55555554
[   56.115539] Call Trace:
[   56.115718]  <TASK>
[   56.115879]  ? show_regs+0xa8/0xc0
[   56.116238]  ? die_addr+0x5d/0xf0
[   56.116490]  ? exc_general_protection+0x1ae/0x340
[   56.116839]  ? asm_exc_general_protection+0x2b/0x30
[   56.117205]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.117576]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.117951]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.118324]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.118686]  zap_huge_pmd+0x494/0xd40
[   56.118958]  unmap_page_range+0x1ad6/0x4320
[   56.119266]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.119622]  ? __pfx_unmap_page_range+0x10/0x10
[   56.120090]  unmap_single_vma+0x1ac/0x2d0
[   56.120449]  unmap_vmas+0x210/0x470
[   56.120707]  ? __pfx_unmap_vmas+0x10/0x10
[   56.120995]  ? __pfx_lock_release+0x10/0x10
[   56.121290]  ? lock_release+0x592/0x870
[   56.121561]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.121907]  ? __pfx_lock_release+0x10/0x10
[   56.122207]  ? mlock_drain_local+0x27f/0x4b0
[   56.122510]  exit_mmap+0x19e/0xb10
[   56.122753]  ? __pfx_exit_mmap+0x10/0x10
[   56.123033]  ? trace_hardirqs_on+0x51/0x60
[   56.123322]  ? __khugepaged_exit+0x266/0x4c0
[   56.123618]  ? kmem_cache_free+0x15d/0x420
[   56.123902]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.124266]  __mmput+0xd6/0x390
[   56.124490]  mmput+0x74/0x90
[   56.124694]  do_exit+0xa03/0x29f0
[   56.124927]  ? trace_hardirqs_on+0x51/0x60
[   56.125217]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.125630]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.126072]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.126508]  ? __pfx_do_exit+0x10/0x10
[   56.126765]  ? __audit_syscall_entry+0x39c/0x500
[   56.127082]  __x64_sys_exit+0x50/0x60
[   56.127332]  x64_sys_call+0x20c9/0x20d0
[   56.127592]  do_syscall_64+0x6d/0x140
[   56.127848]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.128183] RIP: 0033:0x7f8d0123ee5d
[   56.128422] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.128816] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.129293] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.129732] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.130171] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.130609] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.131051] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.131497]  </TASK>
[   56.131641] Modules linked in:
[   56.132024] ---[ end trace 0000000000000000 ]---
[   56.132423] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.132859] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.133961] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   56.134328] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   56.134895] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   56.135645] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   56.136390] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.137166] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   56.137894] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   56.138567] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.139003] CR2: 00007f8d013fca50 CR3: 0000000020ebc003 CR4: 0000000000770ef0
[   56.139490] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.139911] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.140323] PKRU: 55555554
[   56.140551] note: repro[15641] exited with preempt_count 1
[   56.140991] Fixing recursive fault but reboot is needed!
[   56.141296] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15641
[   56.141740] caller is debug_smp_processor_id+0x20/0x30
[   56.142042] CPU: 0 UID: 0 PID: 15641 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.142587] Tainted: [D]=DIE, [W]=WARN
[   56.142801] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.143423] Call Trace:
[   56.143567]  <TASK>
[   56.143693]  dump_stack_lvl+0x121/0x150
[   56.143925]  dump_stack+0x19/0x20
[   56.144128]  check_preemption_disabled+0x168/0x180
[   56.144397]  debug_smp_processor_id+0x20/0x30
[   56.144646]  __schedule+0x9a/0x2eb0
[   56.144848]  ? rcu_is_watching+0x19/0xc0
[   56.145075]  ? lock_release+0x592/0x870
[   56.145297]  ? __pfx___schedule+0x10/0x10
[   56.145578]  ? debug_smp_processor_id+0x20/0x30
[   56.145918]  ? rcu_is_watching+0x19/0xc0
[   56.146216]  ? trace_irq_enable+0xe1/0x120
[   56.146652]  ? do_task_dead+0x4a/0x110
[   56.147037]  do_task_dead+0xe0/0x110
[   56.147303]  make_task_dead+0x384/0x3c0
[   56.147532]  rewind_stack_and_make_dead+0x16/0x20
[   56.147808] RIP: 0033:0x7f8d0123ee5d
[   56.148016] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.148356] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.148776] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.149174] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.149570] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.149962] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.150356] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.150747]  </TASK>
[   56.150986] BUG: scheduling while atomic: repro/15641/0x00000000
[   56.151318] INFO: lockdep is turned off.
[   56.151602] Modules linked in:
[   56.151782] Preemption disabled at:
[   56.151784] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.152295] CPU: 0 UID: 0 PID: 15641 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.152827] Tainted: [D]=DIE, [W]=WARN
[   56.153125] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.153844] Call Trace:
[   56.153991]  <TASK>
[   56.154117]  dump_stack_lvl+0x121/0x150
[   56.154344]  ? do_task_dead+0x28/0x110
[   56.154570]  dump_stack+0x19/0x20
[   56.154771]  __schedule_bug+0x12d/0x180
[   56.154999]  __schedule+0x210c/0x2eb0
[   56.155217]  ? rcu_is_watching+0x19/0xc0
[   56.155449]  ? lock_release+0x592/0x870
[   56.155674]  ? __pfx___schedule+0x10/0x10
[   56.155911]  ? debug_smp_processor_id+0x20/0x30
[   56.156172]  ? rcu_is_watching+0x19/0xc0
[   56.156400]  ? trace_irq_enable+0xe1/0x120
[   56.156639]  ? do_task_dead+0x4a/0x110
[   56.156863]  do_task_dead+0xe0/0x110
[   56.157079]  make_task_dead+0x384/0x3c0
[   56.157314]  rewind_stack_and_make_dead+0x16/0x20
[   56.157587] RIP: 0033:0x7f8d0123ee5d
[   56.157791] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.158137] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.158561] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.158958] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.159506] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.159957] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.160356] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.160762]  </TASK>
[   56.640487] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#55] PREEMPT SMP KASAN NOPTI
[   56.641614] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.642334] CPU: 1 UID: 0 PID: 15889 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.643206] Tainted: [D]=DIE, [W]=WARN
[   56.643557] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.644551] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.645416] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.647085] RSP: 0018:ffff88801ebc77d8 EFLAGS: 00010202
[   56.647576] RAX: dffffc0000000000 RBX: ffffea000044b8c0 RCX: ffffffff81b9e779
[   56.648262] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000044b8d0
[   56.648925] RBP: ffff88801ebc77f8 R08: 0000000000000000 R09: ffffed10034e218c
[   56.649582] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.650237] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801a710c60
[   56.650901] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.651645] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.652184] CR2: 00007f8d01601908 CR3: 000000000fbc0005 CR4: 0000000000770ef0
[   56.652867] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.653631] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.654483] PKRU: 55555554
[   56.654824] Call Trace:
[   56.655137]  <TASK>
[   56.655409]  ? show_regs+0xa8/0xc0
[   56.655854]  ? die_addr+0x5d/0xf0
[   56.656374]  ? exc_general_protection+0x1ae/0x340
[   56.657048]  ? asm_exc_general_protection+0x2b/0x30
[   56.657668]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.658310]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.658957]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.659594]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.660233]  zap_huge_pmd+0x494/0xd40
[   56.660702]  unmap_page_range+0x1ad6/0x4320
[   56.661278]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.661941]  ? __pfx_unmap_page_range+0x10/0x10
[   56.662627]  unmap_single_vma+0x1ac/0x2d0
[   56.663210]  unmap_vmas+0x210/0x470
[   56.663669]  ? __pfx_unmap_vmas+0x10/0x10
[   56.664185]  ? __pfx_lock_release+0x10/0x10
[   56.664708]  ? lock_release+0x592/0x870
[   56.665199]  ? mas_next_slot+0x133a/0x1a50
[   56.665722]  ? __pfx_lock_release+0x10/0x10
[   56.666260]  ? mlock_drain_local+0x27f/0x4b0
[   56.666931]  exit_mmap+0x19e/0xb10
[   56.667412]  ? __pfx_exit_mmap+0x10/0x10
[   56.667923]  ? trace_hardirqs_on+0x51/0x60
[   56.668457]  ? __khugepaged_exit+0x266/0x4c0
[   56.669000]  ? kmem_cache_free+0x15d/0x420
[   56.669521]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.670190]  __mmput+0xd6/0x390
[   56.670672]  mmput+0x74/0x90
[   56.671135]  do_exit+0xa03/0x29f0
[   56.671584]  ? trace_hardirqs_on+0x51/0x60
[   56.672112]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.672869]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.673477]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.674082]  ? __pfx_do_exit+0x10/0x10
[   56.674562]  ? __audit_syscall_entry+0x39c/0x500
[   56.675263]  __x64_sys_exit+0x50/0x60
[   56.675756]  x64_sys_call+0x20c9/0x20d0
[   56.676245]  do_syscall_64+0x6d/0x140
[   56.676720]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.677353] RIP: 0033:0x7f8d0123ee5d
[   56.677802] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.678538] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.679608] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.680462] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.681314] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.682167] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.683020] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.683879]  </TASK>
[   56.684163] Modules linked in:
[   56.684760] ---[ end trace 0000000000000000 ]---
[   56.685447] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.686203] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.688588] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   56.689241] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   56.690198] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   56.691055] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   56.692028] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.692893] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   56.693847] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.694833] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.695563] CR2: 00007f8d01601908 CR3: 000000000fbc0005 CR4: 0000000000770ef0
[   56.696434] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.697300] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.698307] PKRU: 55555554
[   56.698652] note: repro[15889] exited with preempt_count 1
[   56.699323] Fixing recursive fault but reboot is needed!
[   56.699995] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15889
[   56.700943] caller is debug_smp_processor_id+0x20/0x30
[   56.701583] CPU: 1 UID: 0 PID: 15889 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.702844] Tainted: [D]=DIE, [W]=WARN
[   56.703311] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.704662] Call Trace:
[   56.704977]  <TASK>
[   56.705251]  dump_stack_lvl+0x121/0x150
[   56.705747]  dump_stack+0x19/0x20
[   56.706268]  check_preemption_disabled+0x168/0x180
[   56.706874]  debug_smp_processor_id+0x20/0x30
[   56.707429]  __schedule+0x9a/0x2eb0
[   56.707879]  ? rcu_is_watching+0x19/0xc0
[   56.708382]  ? lock_release+0x592/0x870
[   56.708874]  ? __pfx___schedule+0x10/0x10
[   56.709388]  ? debug_smp_processor_id+0x20/0x30
[   56.709966]  ? rcu_is_watching+0x19/0xc0
[   56.710543]  ? trace_irq_enable+0xe1/0x120
[   56.711078]  ? do_task_dead+0x4a/0x110
[   56.711569]  do_task_dead+0xe0/0x110
[   56.712043]  make_task_dead+0x384/0x3c0
[   56.712543]  rewind_stack_and_make_dead+0x16/0x20
[   56.713135] RIP: 0033:0x7f8d0123ee5d
[   56.713588] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.714480] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.715415] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.716278] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.717142] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.718002] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.718855] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.719726]  </TASK>
[   56.720087] BUG: scheduling while atomic: repro/15889/0x00000000
[   56.720958] INFO: lockdep is turned off.
[   56.721439] Modules linked in:
[   56.721827] Preemption disabled at:
[   56.721832] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.722929] CPU: 1 UID: 0 PID: 15889 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.724088] Tainted: [D]=DIE, [W]=WARN
[   56.724641] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.726054] Call Trace:
[   56.726369]  <TASK>
[   56.726644]  dump_stack_lvl+0x121/0x150
[   56.727146]  ? do_task_dead+0x28/0x110
[   56.727632]  dump_stack+0x19/0x20
[   56.728074]  __schedule_bug+0x12d/0x180
[   56.728660]  __schedule+0x210c/0x2eb0
[   56.729201]  ? rcu_is_watching+0x19/0xc0
[   56.729697]  ? lock_release+0x592/0x870
[   56.730190]  ? __pfx___schedule+0x10/0x10
[   56.730700]  ? debug_smp_processor_id+0x20/0x30
[   56.731273]  ? rcu_is_watching+0x19/0xc0
[   56.731768]  ? trace_irq_enable+0xe1/0x120
[   56.732294]  ? do_task_dead+0x4a/0x110
[   56.732779]  do_task_dead+0xe0/0x110
[   56.733254]  make_task_dead+0x384/0x3c0
[   56.733750]  rewind_stack_and_make_dead+0x16/0x20
[   56.734344] RIP: 0033:0x7f8d0123ee5d
[   56.734880] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.735697] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.736612] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.737476] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.738336] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.739192] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.740048] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.740917]  </TASK>
[   56.900482] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#56] PREEMPT SMP KASAN NOPTI
[   56.902077] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   56.902987] CPU: 1 UID: 0 PID: 15985 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.904128] Tainted: [D]=DIE, [W]=WARN
[   56.904585] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.905924] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.906647] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.908826] RSP: 0018:ffff88801377f7d8 EFLAGS: 00010202
[   56.909467] RAX: dffffc0000000000 RBX: ffffea0000804b00 RCX: ffffffff81b9e779
[   56.910321] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000804b10
[   56.911173] RBP: ffff88801377f7f8 R08: 0000000000000000 R09: ffffed1001f0a568
[   56.912025] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   56.912880] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f852b40
[   56.913737] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.914700] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.915397] CR2: 00007f8d01615000 CR3: 0000000019388004 CR4: 0000000000770ef0
[   56.916252] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.917106] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.917960] PKRU: 55555554
[   56.918299] Call Trace:
[   56.918608]  <TASK>
[   56.918882]  ? show_regs+0xa8/0xc0
[   56.919328]  ? die_addr+0x5d/0xf0
[   56.919758]  ? exc_general_protection+0x1ae/0x340
[   56.920357]  ? asm_exc_general_protection+0x2b/0x30
[   56.920977]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   56.921609]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.922250]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   56.922885]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   56.923524]  zap_huge_pmd+0x494/0xd40
[   56.924003]  unmap_page_range+0x1ad6/0x4320
[   56.924546]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   56.925177]  ? __pfx_unmap_page_range+0x10/0x10
[   56.925755]  unmap_single_vma+0x1ac/0x2d0
[   56.926272]  unmap_vmas+0x210/0x470
[   56.926727]  ? __pfx_unmap_vmas+0x10/0x10
[   56.927235]  ? __pfx_lock_release+0x10/0x10
[   56.927756]  ? lock_release+0x592/0x870
[   56.928239]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   56.928846]  ? __pfx_lock_release+0x10/0x10
[   56.929375]  ? mlock_drain_local+0x27f/0x4b0
[   56.929914]  exit_mmap+0x19e/0xb10
[   56.930367]  ? __pfx_exit_mmap+0x10/0x10
[   56.930871]  ? trace_hardirqs_on+0x51/0x60
[   56.931401]  ? __khugepaged_exit+0x266/0x4c0
[   56.931941]  ? kmem_cache_free+0x15d/0x420
[   56.932460]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   56.933128]  __mmput+0xd6/0x390
[   56.933534]  mmput+0x74/0x90
[   56.933907]  do_exit+0xa03/0x29f0
[   56.934341]  ? trace_hardirqs_on+0x51/0x60
[   56.934857]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   56.935621]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   56.936225]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   56.936824]  ? __pfx_do_exit+0x10/0x10
[   56.937304]  ? __audit_syscall_entry+0x39c/0x500
[   56.937884]  __x64_sys_exit+0x50/0x60
[   56.938355]  x64_sys_call+0x20c9/0x20d0
[   56.938836]  do_syscall_64+0x6d/0x140
[   56.939311]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   56.939940] RIP: 0033:0x7f8d0123ee5d
[   56.940387] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.941129] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.942038] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.942888] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.943741] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.944595] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.945448] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.946314]  </TASK>
[   56.946595] Modules linked in:
[   56.947091] ---[ end trace 0000000000000000 ]---
[   56.947675] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   56.948394] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   56.950588] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   56.951230] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   56.952229] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   56.953093] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   56.953953] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   56.954807] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   56.955790] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   56.956765] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   56.957469] CR2: 00007f8d01615000 CR3: 0000000019388004 CR4: 0000000000770ef0
[   56.958330] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   56.959189] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   56.960072] PKRU: 55555554
[   56.960511] note: repro[15985] exited with preempt_count 1
[   56.961364] Fixing recursive fault but reboot is needed!
[   56.962010] BUG: using smp_processor_id() in preemptible [00000000] code: repro/15985
[   56.962949] caller is debug_smp_processor_id+0x20/0x30
[   56.963740] CPU: 1 UID: 0 PID: 15985 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.964889] Tainted: [D]=DIE, [W]=WARN
[   56.965353] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.966856] Call Trace:
[   56.967173]  <TASK>
[   56.967449]  dump_stack_lvl+0x121/0x150
[   56.967945]  dump_stack+0x19/0x20
[   56.968374]  check_preemption_disabled+0x168/0x180
[   56.968973]  debug_smp_processor_id+0x20/0x30
[   56.969626]  __schedule+0x9a/0x2eb0
[   56.970073]  ? rcu_is_watching+0x19/0xc0
[   56.970563]  ? lock_release+0x592/0x870
[   56.971045]  ? __pfx___schedule+0x10/0x10
[   56.971546]  ? debug_smp_processor_id+0x20/0x30
[   56.972165]  ? rcu_is_watching+0x19/0xc0
[   56.972841]  ? trace_irq_enable+0xe1/0x120
[   56.973366]  ? do_task_dead+0x4a/0x110
[   56.973847]  do_task_dead+0xe0/0x110
[   56.974312]  make_task_dead+0x384/0x3c0
[   56.974876]  rewind_stack_and_make_dead+0x16/0x20
[   56.975464] RIP: 0033:0x7f8d0123ee5d
[   56.975910] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.976664] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.977616] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.978468] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   56.979411] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   56.980268] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   56.981120] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   56.982004]  </TASK>
[   56.982411] BUG: scheduling while atomic: repro/15985/0x00000000
[   56.983146] INFO: lockdep is turned off.
[   56.983640] Modules linked in:
[   56.984031] Preemption disabled at:
[   56.984036] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   56.985160] CPU: 1 UID: 0 PID: 15985 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   56.986403] Tainted: [D]=DIE, [W]=WARN
[   56.986864] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   56.988221] Call Trace:
[   56.988610]  <TASK>
[   56.988911]  dump_stack_lvl+0x121/0x150
[   56.989410]  ? do_task_dead+0x28/0x110
[   56.989889]  dump_stack+0x19/0x20
[   56.990325]  __schedule_bug+0x12d/0x180
[   56.990815]  __schedule+0x210c/0x2eb0
[   56.991281]  ? rcu_is_watching+0x19/0xc0
[   56.991792]  ? lock_release+0x592/0x870
[   56.992306]  ? __pfx___schedule+0x10/0x10
[   56.992811]  ? debug_smp_processor_id+0x20/0x30
[   56.993381]  ? rcu_is_watching+0x19/0xc0
[   56.994028]  ? trace_irq_enable+0xe1/0x120
[   56.994550]  ? do_task_dead+0x4a/0x110
[   56.995055]  do_task_dead+0xe0/0x110
[   56.995520]  make_task_dead+0x384/0x3c0
[   56.996106]  rewind_stack_and_make_dead+0x16/0x20
[   56.996692] RIP: 0033:0x7f8d0123ee5d
[   56.997149] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   56.997885] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   56.998793] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   56.999743] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.000601] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.001453] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.002349] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.003234]  </TASK>
[   57.550803] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#57] PREEMPT SMP KASAN NOPTI
[   57.551912] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.552604] CPU: 0 UID: 0 PID: 16281 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   57.553475] Tainted: [D]=DIE, [W]=WARN
[   57.553826] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.554837] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.555403] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.557049] RSP: 0018:ffff888020ee77d8 EFLAGS: 00010202
[   57.557551] RAX: dffffc0000000000 RBX: ffffea0000409840 RCX: ffffffff81b9e779
[   57.558212] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000409850
[   57.558868] RBP: ffff888020ee77f8 R08: 0000000000000000 R09: ffffed10020d0750
[   57.559519] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   57.560178] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010683a80
[   57.560825] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   57.561553] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.562082] CR2: 00007f8d015e0658 CR3: 00000000136b4003 CR4: 0000000000770ef0
[   57.562727] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.563386] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.564029] PKRU: 55555554
[   57.564287] Call Trace:
[   57.564524]  <TASK>
[   57.564739]  ? show_regs+0xa8/0xc0
[   57.565088]  ? die_addr+0x5d/0xf0
[   57.565430]  ? exc_general_protection+0x1ae/0x340
[   57.565905]  ? asm_exc_general_protection+0x2b/0x30
[   57.566393]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.566882]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.567381]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.567883]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.568409]  zap_huge_pmd+0x494/0xd40
[   57.568815]  unmap_page_range+0x1ad6/0x4320
[   57.569258]  ? __pfx_lock_release+0x10/0x10
[   57.569686]  ? do_raw_spin_trylock+0xbf/0x190
[   57.570151]  ? __kasan_check_read+0x15/0x20
[   57.570584]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.571072]  ? __pfx_unmap_page_range+0x10/0x10
[   57.571530]  unmap_single_vma+0x1ac/0x2d0
[   57.571942]  unmap_vmas+0x210/0x470
[   57.572309]  ? __pfx_unmap_vmas+0x10/0x10
[   57.572710]  ? __pfx_lock_release+0x10/0x10
[   57.573117]  ? lock_release+0x592/0x870
[   57.573491]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.573966]  ? __pfx_lock_release+0x10/0x10
[   57.574387]  ? mlock_drain_local+0x27f/0x4b0
[   57.574835]  exit_mmap+0x19e/0xb10
[   57.575206]  ? __pfx_exit_mmap+0x10/0x10
[   57.575627]  ? trace_hardirqs_on+0x51/0x60
[   57.576071]  ? __khugepaged_exit+0x266/0x4c0
[   57.576515]  ? kmem_cache_free+0x15d/0x420
[   57.576959]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.577502]  __mmput+0xd6/0x390
[   57.577842]  mmput+0x74/0x90
[   57.578149]  do_exit+0xa03/0x29f0
[   57.578482]  ? trace_hardirqs_on+0x51/0x60
[   57.578886]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.579474]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.579968]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.580453]  ? __pfx_do_exit+0x10/0x10
[   57.580824]  ? __audit_syscall_entry+0x39c/0x500
[   57.581282]  __x64_sys_exit+0x50/0x60
[   57.581647]  x64_sys_call+0x20c9/0x20d0
[   57.582027]  do_syscall_64+0x6d/0x140
[   57.582398]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.582885] RIP: 0033:0x7f8d0123ee5d
[   57.583242] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   57.583826] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.584527] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   57.585179] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.585852] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.586523] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.587194] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.587857]  </TASK>
[   57.588078] Modules linked in:
[   57.588454] ---[ end trace 0000000000000000 ]---
[   57.588898] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.589496] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.591187] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   57.591731] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   57.592418] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   57.593076] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   57.593734] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.594406] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   57.595062] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   57.595825] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.596372] CR2: 00007f8d015e0658 CR3: 00000000136b4003 CR4: 0000000000770ef0
[   57.597024] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.597679] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.598336] PKRU: 55555554
[   57.598599] note: repro[16281] exited with preempt_count 1
[   57.599118] Fixing recursive fault but reboot is needed!
[   57.599639] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16281
[   57.600390] caller is debug_smp_processor_id+0x20/0x30
[   57.600924] CPU: 0 UID: 0 PID: 16281 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   57.601818] Tainted: [D]=DIE, [W]=WARN
[   57.602189] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.603212] Call Trace:
[   57.603461]  <TASK>
[   57.603687]  dump_stack_lvl+0x121/0x150
[   57.604103]  dump_stack+0x19/0x20
[   57.604456]  check_preemption_disabled+0x168/0x180
[   57.604927]  debug_smp_processor_id+0x20/0x30
[   57.605374]  __schedule+0x9a/0x2eb0
[   57.605715]  ? rcu_is_watching+0x19/0xc0
[   57.606105]  ? lock_release+0x592/0x870
[   57.606481]  ? __pfx___schedule+0x10/0x10
[   57.606867]  ? debug_smp_processor_id+0x20/0x30
[   57.607313]  ? rcu_is_watching+0x19/0xc0
[   57.607728]  ? trace_irq_enable+0xe1/0x120
[   57.608144]  ? do_task_dead+0x4a/0x110
[   57.608510]  do_task_dead+0xe0/0x110
[   57.608867]  make_task_dead+0x384/0x3c0
[   57.609239]  rewind_stack_and_make_dead+0x16/0x20
[   57.609674] RIP: 0033:0x7f8d0123ee5d
[   57.610005] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   57.610551] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.611232] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   57.611866] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.612501] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.613128] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.613749] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.614375]  </TASK>
[   57.614646] BUG: scheduling while atomic: repro/16281/0x00000000
[   57.615196] INFO: lockdep is turned off.
[   57.615577] Modules linked in:
[   57.615874] Preemption disabled at:
[   57.615879] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   57.616700] CPU: 0 UID: 0 PID: 16281 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   57.617544] Tainted: [D]=DIE, [W]=WARN
[   57.617889] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.618914] Call Trace:
[   57.619159]  <TASK>
[   57.619376]  dump_stack_lvl+0x121/0x150
[   57.619762]  ? do_task_dead+0x28/0x110
[   57.620141]  dump_stack+0x19/0x20
[   57.620488]  __schedule_bug+0x12d/0x180
[   57.620870]  __schedule+0x210c/0x2eb0
[   57.621245]  ? rcu_is_watching+0x19/0xc0
[   57.621631]  ? lock_release+0x592/0x870
[   57.622009]  ? __pfx___schedule+0x10/0x10
[   57.622430]  ? debug_smp_processor_id+0x20/0x30
[   57.622867]  ? rcu_is_watching+0x19/0xc0
[   57.623251]  ? trace_irq_enable+0xe1/0x120
[   57.623660]  ? do_task_dead+0x4a/0x110
[   57.624040]  do_task_dead+0xe0/0x110
[   57.624372]  make_task_dead+0x384/0x3c0
[   57.624711]  rewind_stack_and_make_dead+0x16/0x20
[   57.625111] RIP: 0033:0x7f8d0123ee5d
[   57.625408] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   57.625901] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.626522] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   57.627097] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.627674] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.628273] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.628842] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.629420]  </TASK>
[   57.643256] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#58] PREEMPT SMP KASAN NOPTI
[   57.644324] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   57.645003] CPU: 1 UID: 0 PID: 16336 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   57.645994] Tainted: [D]=DIE, [W]=WARN
[   57.646426] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.647700] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.648377] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.650438] RSP: 0018:ffff888020e6f7d8 EFLAGS: 00010202
[   57.651017] RAX: dffffc0000000000 RBX: ffffea0000501b40 RCX: ffffffff81b9e779
[   57.651779] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000501b50
[   57.652547] RBP: ffff888020e6f7f8 R08: 0000000000000000 R09: ffffed1003482574
[   57.653315] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   57.654081] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801a412ba0
[   57.654845] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   57.655719] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.656345] CR2: 00007f8d01600df0 CR3: 00000000203a0002 CR4: 0000000000770ef0
[   57.657115] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.657879] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.658646] PKRU: 55555554
[   57.658955] Call Trace:
[   57.659233]  <TASK>
[   57.659478]  ? show_regs+0xa8/0xc0
[   57.659876]  ? die_addr+0x5d/0xf0
[   57.660268]  ? exc_general_protection+0x1ae/0x340
[   57.660805]  ? asm_exc_general_protection+0x2b/0x30
[   57.661341]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   57.661883]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.662432]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   57.662982]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   57.663528]  zap_huge_pmd+0x494/0xd40
[   57.663938]  unmap_page_range+0x1ad6/0x4320
[   57.664402]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   57.664942]  ? __pfx_unmap_page_range+0x10/0x10
[   57.665438]  unmap_single_vma+0x1ac/0x2d0
[   57.665876]  unmap_vmas+0x210/0x470
[   57.666268]  ? __pfx_unmap_vmas+0x10/0x10
[   57.666699]  ? __pfx_lock_release+0x10/0x10
[   57.667148]  ? lock_release+0x592/0x870
[   57.667553]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   57.668080]  ? __pfx_lock_release+0x10/0x10
[   57.668530]  ? mlock_drain_local+0x27f/0x4b0
[   57.668998]  exit_mmap+0x19e/0xb10
[   57.669379]  ? __pfx_exit_mmap+0x10/0x10
[   57.669811]  ? trace_hardirqs_on+0x51/0x60
[   57.670265]  ? __khugepaged_exit+0x266/0x4c0
[   57.670725]  ? kmem_cache_free+0x15d/0x420
[   57.671175]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   57.671745]  __mmput+0xd6/0x390
[   57.672097]  mmput+0x74/0x90
[   57.672418]  do_exit+0xa03/0x29f0
[   57.672781]  ? trace_hardirqs_on+0x51/0x60
[   57.673209]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   57.673836]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   57.674334]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   57.674825]  ? __pfx_do_exit+0x10/0x10
[   57.675221]  ? __audit_syscall_entry+0x39c/0x500
[   57.675696]  __x64_sys_exit+0x50/0x60
[   57.676085]  x64_sys_call+0x20c9/0x20d0
[   57.676483]  do_syscall_64+0x6d/0x140
[   57.676868]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   57.677384] RIP: 0033:0x7f8d0123ee5d
[   57.677751] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   57.678357] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.679103] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   57.679799] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.680499] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.681197] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.681892] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.682602]  </TASK>
[   57.682826] Modules linked in:
[   57.683203] ---[ end trace 0000000000000000 ]---
[   57.683662] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   57.684226] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   57.685952] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   57.686453] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   57.687128] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   57.687811] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   57.688488] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   57.689135] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   57.689782] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   57.690511] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   57.691041] CR2: 00007f8d01600df0 CR3: 00000000203a0002 CR4: 0000000000770ef0
[   57.691704] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   57.692352] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   57.692999] PKRU: 55555554
[   57.693256] note: repro[16336] exited with preempt_count 1
[   57.693754] Fixing recursive fault but reboot is needed!
[   57.694239] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16336
[   57.694945] caller is debug_smp_processor_id+0x20/0x30
[   57.695428] CPU: 1 UID: 0 PID: 16336 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   57.696261] Tainted: [D]=DIE, [W]=WARN
[   57.696594] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.697573] Call Trace:
[   57.697799]  <TASK>
[   57.698002]  dump_stack_lvl+0x121/0x150
[   57.698356]  dump_stack+0x19/0x20
[   57.698667]  check_preemption_disabled+0x168/0x180
[   57.699101]  debug_smp_processor_id+0x20/0x30
[   57.699496]  __schedule+0x9a/0x2eb0
[   57.699816]  ? rcu_is_watching+0x19/0xc0
[   57.700187]  ? lock_release+0x592/0x870
[   57.700560]  ? __pfx___schedule+0x10/0x10
[   57.700923]  ? debug_smp_processor_id+0x20/0x30
[   57.701333]  ? rcu_is_watching+0x19/0xc0
[   57.701687]  ? trace_irq_enable+0xe1/0x120
[   57.702069]  ? do_task_dead+0x4a/0x110
[   57.702419]  do_task_dead+0xe0/0x110
[   57.702753]  make_task_dead+0x384/0x3c0
[   57.703104]  rewind_stack_and_make_dead+0x16/0x20
[   57.703512] RIP: 0033:0x7f8d0123ee5d
[   57.703824] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   57.704340] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.704974] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   57.705566] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.706163] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.706753] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.707354] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.707960]  </TASK>
[   57.708193] BUG: scheduling while atomic: repro/16336/0x00000000
[   57.708699] INFO: lockdep is turned off.
[   57.709028] Modules linked in:
[   57.709287] Preemption disabled at:
[   57.709290] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   57.710023] CPU: 1 UID: 0 PID: 16336 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   57.710792] Tainted: [D]=DIE, [W]=WARN
[   57.711105] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   57.712016] Call Trace:
[   57.712227]  <TASK>
[   57.712411]  dump_stack_lvl+0x121/0x150
[   57.712740]  ? do_task_dead+0x28/0x110
[   57.713066]  dump_stack+0x19/0x20
[   57.713357]  __schedule_bug+0x12d/0x180
[   57.713687]  __schedule+0x210c/0x2eb0
[   57.714003]  ? rcu_is_watching+0x19/0xc0
[   57.714334]  ? lock_release+0x592/0x870
[   57.714658]  ? __pfx___schedule+0x10/0x10
[   57.715003]  ? debug_smp_processor_id+0x20/0x30
[   57.715383]  ? rcu_is_watching+0x19/0xc0
[   57.715709]  ? trace_irq_enable+0xe1/0x120
[   57.716050]  ? do_task_dead+0x4a/0x110
[   57.716364]  do_task_dead+0xe0/0x110
[   57.716668]  make_task_dead+0x384/0x3c0
[   57.716992]  rewind_stack_and_make_dead+0x16/0x20
[   57.717373] RIP: 0033:0x7f8d0123ee5d
[   57.717664] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   57.718147] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   57.718735] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   57.719289] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   57.719840] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   57.720396] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   57.720953] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   57.721515]  </TASK>
[   58.071618] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#59] PREEMPT SMP KASAN NOPTI
[   58.072548] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.073107] CPU: 1 UID: 0 PID: 16515 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.073821] Tainted: [D]=DIE, [W]=WARN
[   58.074177] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.075192] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.075750] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.077434] RSP: 0018:ffff8880295277d8 EFLAGS: 00010202
[   58.077869] RAX: dffffc0000000000 RBX: ffffea000080a700 RCX: ffffffff81b9e779
[   58.078356] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000080a710
[   58.078842] RBP: ffff8880295277f8 R08: 0000000000000000 R09: ffffed1002d34800
[   58.079330] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.079816] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880169a4000
[   58.080302] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   58.080850] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.081246] CR2: 00007fff00956878 CR3: 000000001325a006 CR4: 0000000000770ef0
[   58.081728] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.082215] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.082699] PKRU: 55555554
[   58.082896] Call Trace:
[   58.083080]  <TASK>
[   58.083240]  ? show_regs+0xa8/0xc0
[   58.083496]  ? die_addr+0x5d/0xf0
[   58.083748]  ? exc_general_protection+0x1ae/0x340
[   58.084089]  ? asm_exc_general_protection+0x2b/0x30
[   58.084434]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.084793]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.085146]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.085497]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.085850]  zap_huge_pmd+0x494/0xd40
[   58.086123]  unmap_page_range+0x1ad6/0x4320
[   58.086428]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.086778]  ? __pfx_unmap_page_range+0x10/0x10
[   58.087155]  unmap_single_vma+0x1ac/0x2d0
[   58.087527]  unmap_vmas+0x210/0x470
[   58.087856]  ? __pfx_unmap_vmas+0x10/0x10
[   58.088224]  ? __pfx_lock_release+0x10/0x10
[   58.088602]  ? lock_release+0x592/0x870
[   58.088954]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.089381]  ? __pfx_lock_release+0x10/0x10
[   58.089746]  ? mlock_drain_local+0x27f/0x4b0
[   58.090129]  exit_mmap+0x19e/0xb10
[   58.090437]  ? __pfx_exit_mmap+0x10/0x10
[   58.090789]  ? trace_hardirqs_on+0x51/0x60
[   58.091160]  ? __khugepaged_exit+0x266/0x4c0
[   58.091534]  ? kmem_cache_free+0x15d/0x420
[   58.091896]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.092361]  __mmput+0xd6/0x390
[   58.092645]  mmput+0x74/0x90
[   58.092905]  do_exit+0xa03/0x29f0
[   58.093215]  ? trace_hardirqs_on+0x51/0x60
[   58.093577]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.094108]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.094522]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.094925]  ? __pfx_do_exit+0x10/0x10
[   58.095252]  ? __audit_syscall_entry+0x39c/0x500
[   58.095643]  __x64_sys_exit+0x50/0x60
[   58.095961]  x64_sys_call+0x20c9/0x20d0
[   58.096286]  do_syscall_64+0x6d/0x140
[   58.096602]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.097026] RIP: 0033:0x7f8d0123ee5d
[   58.097327] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.097820] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.098432] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.099006] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.099563] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.100116] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.100667] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.101229]  </TASK>
[   58.101411] Modules linked in:
[   58.101820] ---[ end trace 0000000000000000 ]---
[   58.102196] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.102657] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.104177] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   58.104588] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   58.105128] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   58.105664] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   58.106203] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.106740] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   58.107280] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   58.108006] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.108434] CR2: 00007fff00956878 CR3: 000000001325a006 CR4: 0000000000770ef0
[   58.108958] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.109478] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.109996] PKRU: 55555554
[   58.110204] note: repro[16515] exited with preempt_count 1
[   58.110610] Fixing recursive fault but reboot is needed!
[   58.111001] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16515
[   58.111639] caller is debug_smp_processor_id+0x20/0x30
[   58.112022] CPU: 1 UID: 0 PID: 16515 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.112696] Tainted: [D]=DIE, [W]=WARN
[   58.112968] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.113761] Call Trace:
[   58.113947]  <TASK>
[   58.114110]  dump_stack_lvl+0x121/0x150
[   58.114400]  dump_stack+0x19/0x20
[   58.114654]  check_preemption_disabled+0x168/0x180
[   58.115007]  debug_smp_processor_id+0x20/0x30
[   58.115328]  __schedule+0x9a/0x2eb0
[   58.115591]  ? rcu_is_watching+0x19/0xc0
[   58.115881]  ? lock_release+0x592/0x870
[   58.116162]  ? __pfx___schedule+0x10/0x10
[   58.116459]  ? debug_smp_processor_id+0x20/0x30
[   58.116792]  ? rcu_is_watching+0x19/0xc0
[   58.117085]  ? trace_irq_enable+0xe1/0x120
[   58.117392]  ? do_task_dead+0x4a/0x110
[   58.117673]  do_task_dead+0xe0/0x110
[   58.117939]  make_task_dead+0x384/0x3c0
[   58.118220]  rewind_stack_and_make_dead+0x16/0x20
[   58.118554] RIP: 0033:0x7f8d0123ee5d
[   58.118810] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.119234] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.119756] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.120247] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.120736] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.121227] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.121706] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.122191]  </TASK>
[   58.122436] BUG: scheduling while atomic: repro/16515/0x00000000
[   58.122842] INFO: lockdep is turned off.
[   58.123111] Modules linked in:
[   58.123323] Preemption disabled at:
[   58.123326] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   58.123964] CPU: 1 UID: 0 PID: 16515 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.124581] Tainted: [D]=DIE, [W]=WARN
[   58.124829] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.125559] Call Trace:
[   58.125727]  <TASK>
[   58.125840]  dump_stack_lvl+0x121/0x150
[   58.126050]  ? do_task_dead+0x28/0x110
[   58.126252]  dump_stack+0x19/0x20
[   58.126432]  __schedule_bug+0x12d/0x180
[   58.126638]  __schedule+0x210c/0x2eb0
[   58.126836]  ? rcu_is_watching+0x19/0xc0
[   58.127048]  ? lock_release+0x592/0x870
[   58.127248]  ? __pfx___schedule+0x10/0x10
[   58.127458]  ? debug_smp_processor_id+0x20/0x30
[   58.127690]  ? rcu_is_watching+0x19/0xc0
[   58.127894]  ? trace_irq_enable+0xe1/0x120
[   58.128110]  ? do_task_dead+0x4a/0x110
[   58.128310]  do_task_dead+0xe0/0x110
[   58.128499]  make_task_dead+0x384/0x3c0
[   58.128699]  rewind_stack_and_make_dead+0x16/0x20
[   58.128939] RIP: 0033:0x7f8d0123ee5d
[   58.129122] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.129420] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.129789] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.130125] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.130460] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.130796] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.131128] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.131467]  </TASK>
[   58.839623] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#60] PREEMPT SMP KASAN NOPTI
[   58.840704] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.841363] CPU: 0 UID: 0 PID: 16962 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.842203] Tainted: [D]=DIE, [W]=WARN
[   58.842562] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.843574] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.844136] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.845791] RSP: 0018:ffff888010e1f7d8 EFLAGS: 00010202
[   58.846362] RAX: dffffc0000000000 RBX: ffffea00004a5b00 RCX: ffffffff81b9e779
[   58.847092] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004a5b10
[   58.847728] RBP: ffff888010e1f7f8 R08: 0000000000000000 R09: ffffed10027e9078
[   58.848365] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   58.849010] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013f483c0
[   58.849659] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.850389] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.850916] CR2: 00007f8d01605fa8 CR3: 000000001d804004 CR4: 0000000000770ef0
[   58.851572] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.852212] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.852853] PKRU: 55555554
[   58.853120] Call Trace:
[   58.853353]  <TASK>
[   58.853564]  ? show_regs+0xa8/0xc0
[   58.853905]  ? die_addr+0x5d/0xf0
[   58.854249]  ? exc_general_protection+0x1ae/0x340
[   58.854715]  ? asm_exc_general_protection+0x2b/0x30
[   58.855189]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.855657]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.856147]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.856640]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.857127]  zap_huge_pmd+0x494/0xd40
[   58.857483]  unmap_page_range+0x1ad6/0x4320
[   58.857860]  ? __pfx_lock_release+0x10/0x10
[   58.858229]  ? do_raw_spin_trylock+0xbf/0x190
[   58.858614]  ? __kasan_check_read+0x15/0x20
[   58.858993]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.859511]  ? __pfx_unmap_page_range+0x10/0x10
[   58.859973]  unmap_single_vma+0x1ac/0x2d0
[   58.860365]  unmap_vmas+0x210/0x470
[   58.860707]  ? __pfx_unmap_vmas+0x10/0x10
[   58.861089]  ? __pfx_lock_release+0x10/0x10
[   58.861462]  ? lock_release+0x592/0x870
[   58.861812]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   58.862265]  ? __pfx_lock_release+0x10/0x10
[   58.862650]  ? mlock_drain_local+0x27f/0x4b0
[   58.863112]  exit_mmap+0x19e/0xb10
[   58.863437]  ? __pfx_exit_mmap+0x10/0x10
[   58.863800]  ? trace_hardirqs_on+0x51/0x60
[   58.864191]  ? __khugepaged_exit+0x266/0x4c0
[   58.864576]  ? kmem_cache_free+0x15d/0x420
[   58.864982]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.865596]  __mmput+0xd6/0x390
[   58.865895]  mmput+0x74/0x90
[   58.866180]  do_exit+0xa03/0x29f0
[   58.866495]  ? trace_hardirqs_on+0x51/0x60
[   58.866884]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.867434]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.867873]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.868323]  ? __pfx_do_exit+0x10/0x10
[   58.868678]  ? __audit_syscall_entry+0x39c/0x500
[   58.869106]  __x64_sys_exit+0x50/0x60
[   58.869514]  x64_sys_call+0x20c9/0x20d0
[   58.869909]  do_syscall_64+0x6d/0x140
[   58.870327]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.870749] RIP: 0033:0x7f8d0123ee5d
[   58.871056] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.871543] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.872162] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.872748] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.873328] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.873904] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.874484] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.875052]  </TASK>
[   58.875241] Modules linked in:
[   58.875504] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#61] PREEMPT SMP KASAN NOPTI
[   58.875703] ---[ end trace 0000000000000000 ]---
[   58.876601] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   58.876975] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.877643] CPU: 1 UID: 0 PID: 16986 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.878087] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.878929] Tainted: [D]=DIE, [W]=WARN
[   58.880684] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   58.880903] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.881493] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   58.882508] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.883140] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   58.883668] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.883687] RSP: 0018:ffff88801614f7d8 EFLAGS: 00010202
[   58.883702] RAX: dffffc0000000000 RBX: ffffea0000644b00 RCX: ffffffff81b9e779
[   58.883713] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000644b10
[   58.883724] RBP: ffff88801614f7f8 R08: 0000000000000000 R09: ffffed10026ff0d8
[   58.883735] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   58.883746] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880137f86c0
[   58.883757] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   58.883772] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.883784] CR2: 00007f8d0129bc20 CR3: 0000000014642004 CR4: 0000000000770ef0
[   58.883798] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.883809] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.884425] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   58.886014] PKRU: 55555554
[   58.886468] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.887088] Call Trace:
[   58.887720] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   58.888326]  <TASK>
[   58.888335]  ? show_regs+0xa8/0xc0
[   58.888954] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   58.889576]  ? die_addr+0x5d/0xf0
[   58.890240] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.890752]  ? exc_general_protection+0x1ae/0x340
[   58.891359] CR2: 00007f8d01605fa8 CR3: 000000001d804004 CR4: 0000000000770ef0
[   58.891993]  ? asm_exc_general_protection+0x2b/0x30
[   58.892593] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.893227]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   58.893478] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.894123]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.894372] PKRU: 55555554
[   58.894982]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   58.895181] note: repro[16962] exited with preempt_count 1
[   58.895491]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   58.896202] Fixing recursive fault but reboot is needed!
[   58.896509]  zap_huge_pmd+0x494/0xd40
[   58.896985] BUG: using smp_processor_id() in preemptible [00000000] code: repro/16962
[   58.897408]  unmap_page_range+0x1ad6/0x4320
[   58.897930] caller is debug_smp_processor_id+0x20/0x30
[   58.898383]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   58.898896] CPU: 0 UID: 0 PID: 16962 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.899351]  ? __pfx_unmap_page_range+0x10/0x10
[   58.899969] Tainted: [D]=DIE, [W]=WARN
[   58.900427]  unmap_single_vma+0x1ac/0x2d0
[   58.900660] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.901126]  unmap_vmas+0x210/0x470
[   58.901528] Call Trace:
[   58.901991]  ? __pfx_unmap_vmas+0x10/0x10
[   58.902381]  <TASK>
[   58.902713]  ? __pfx_lock_release+0x10/0x10
[   58.903224]  dump_stack_lvl+0x121/0x150
[   58.903595]  ? lock_release+0x592/0x870
[   58.903938]  dump_stack+0x19/0x20
[   58.904386]  ? mas_next_slot+0x133a/0x1a50
[   58.905005]  check_preemption_disabled+0x168/0x180
[   58.905411]  ? __pfx_lock_release+0x10/0x10
[   58.905663]  debug_smp_processor_id+0x20/0x30
[   58.906029]  ? mlock_drain_local+0x27f/0x4b0
[   58.906757]  __schedule+0x9a/0x2eb0
[   58.907085]  exit_mmap+0x19e/0xb10
[   58.907249]  ? rcu_is_watching+0x19/0xc0
[   58.907611]  ? __pfx_exit_mmap+0x10/0x10
[   58.907755]  ? lock_release+0x592/0x870
[   58.908144]  ? trace_hardirqs_on+0x51/0x60
[   58.908391]  ? __pfx___schedule+0x10/0x10
[   58.908743]  ? __khugepaged_exit+0x266/0x4c0
[   58.908959]  ? debug_smp_processor_id+0x20/0x30
[   58.909324]  ? kmem_cache_free+0x15d/0x420
[   58.909627]  ? rcu_is_watching+0x19/0xc0
[   58.910007]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   58.910282]  ? trace_irq_enable+0xe1/0x120
[   58.910669]  __mmput+0xd6/0x390
[   58.910893]  ? do_task_dead+0x4a/0x110
[   58.911208]  mmput+0x74/0x90
[   58.911457]  do_task_dead+0xe0/0x110
[   58.911809]  do_exit+0xa03/0x29f0
[   58.912059]  make_task_dead+0x384/0x3c0
[   58.912426]  ? trace_hardirqs_on+0x51/0x60
[   58.912680]  rewind_stack_and_make_dead+0x16/0x20
[   58.913064]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   58.913339] RIP: 0033:0x7f8d0123ee5d
[   58.913703]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   58.913947] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.914428]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   58.914676] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   58.914970]  ? __pfx_do_exit+0x10/0x10
[   58.915246]  ORIG_RAX: 000000000000003c
[   58.915515]  ? __audit_syscall_entry+0x39c/0x500
[   58.915830] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.916143]  __x64_sys_exit+0x50/0x60
[   58.916474] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.916842]  x64_sys_call+0x20c9/0x20d0
[   58.917127] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.917680]  do_syscall_64+0x6d/0x140
[   58.917899] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.918340]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   58.918701] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.919134] RIP: 0033:0x7f8d0123ee5d
[   58.919442]  </TASK>
[   58.919771] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.926067] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.926754] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.927396] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.928040] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.928678] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.929317] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.929974]  </TASK>
[   58.930189] Modules linked in:
[   58.930658] ---[ end trace 0000000000000000 ]---
[   58.931102] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   58.931864] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   58.933513] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   58.934001] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   58.934644] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   58.935289] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   58.936007] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   58.936664] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   58.937313] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   58.938038] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   58.938564] CR2: 00007f8d0129bc20 CR3: 0000000014642004 CR4: 0000000000770ef0
[   58.939214] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   58.939873] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   58.940523] PKRU: 55555554
[   58.940781] note: repro[16986] exited with preempt_count 1
[   58.941283] Fixing recursive fault but reboot is needed!
[   58.941763] BUG: scheduling while atomic: repro/16986/0x00000000
[   58.942310] INFO: lockdep is turned off.
[   58.942666] Modules linked in:
[   58.942959] Preemption disabled at:
[   58.942964] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   58.943814] CPU: 1 UID: 0 PID: 16986 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   58.944678] Tainted: [D]=DIE, [W]=WARN
[   58.945029] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   58.946031] Call Trace:
[   58.946268]  <TASK>
[   58.946477]  dump_stack_lvl+0x121/0x150
[   58.946854]  ? do_task_dead+0x28/0x110
[   58.947223]  dump_stack+0x19/0x20
[   58.947556]  __schedule_bug+0x12d/0x180
[   58.947931]  __schedule+0x210c/0x2eb0
[   58.948296]  ? rcu_is_watching+0x19/0xc0
[   58.948673]  ? lock_release+0x592/0x870
[   58.949043]  ? __pfx___schedule+0x10/0x10
[   58.949514]  ? debug_smp_processor_id+0x20/0x30
[   58.949996]  ? rcu_is_watching+0x19/0xc0
[   58.950371]  ? trace_irq_enable+0xe1/0x120
[   58.950772]  ? do_task_dead+0x4a/0x110
[   58.951149]  do_task_dead+0xe0/0x110
[   58.951507]  make_task_dead+0x384/0x3c0
[   58.951888]  rewind_stack_and_make_dead+0x16/0x20
[   58.952339] RIP: 0033:0x7f8d0123ee5d
[   58.952683] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   58.953245] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   58.953936] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   58.954579] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   58.955228] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   58.955869] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   58.956511] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   58.957172]  </TASK>
[   59.118061] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#62] PREEMPT SMP KASAN NOPTI
[   59.119180] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.119840] CPU: 0 UID: 0 PID: 17070 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   59.120677] Tainted: [D]=DIE, [W]=WARN
[   59.121019] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.122001] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.122530] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.124123] RSP: 0018:ffff88801eb977d8 EFLAGS: 00010202
[   59.124590] RAX: dffffc0000000000 RBX: ffffea00008e7700 RCX: ffffffff81b9e779
[   59.125213] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00008e7710
[   59.125836] RBP: ffff88801eb977f8 R08: 0000000000000000 R09: ffffed1003b28cfc
[   59.126463] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.127087] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801d9467e0
[   59.127711] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   59.128419] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.128927] CR2: 00007f8d0129bc20 CR3: 0000000012b1c005 CR4: 0000000000770ef0
[   59.129561] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.130195] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.130819] PKRU: 55555554
[   59.131063] Call Trace:
[   59.131282]  <TASK>
[   59.131479]  ? show_regs+0xa8/0xc0
[   59.131792]  ? die_addr+0x5d/0xf0
[   59.132100]  ? exc_general_protection+0x1ae/0x340
[   59.132526]  ? asm_exc_general_protection+0x2b/0x30
[   59.132965]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.133412]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.133857]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.134311]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.134758]  zap_huge_pmd+0x494/0xd40
[   59.135104]  unmap_page_range+0x1ad6/0x4320
[   59.135491]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.135936]  ? __pfx_unmap_page_range+0x10/0x10
[   59.136343]  unmap_single_vma+0x1ac/0x2d0
[   59.136705]  unmap_vmas+0x210/0x470
[   59.137032]  ? __pfx_unmap_vmas+0x10/0x10
[   59.137388]  ? __pfx_lock_release+0x10/0x10
[   59.137753]  ? lock_release+0x592/0x870
[   59.138109]  ? mas_next_slot+0x133a/0x1a50
[   59.138495]  ? __pfx_lock_release+0x10/0x10
[   59.138885]  ? mlock_drain_local+0x27f/0x4b0
[   59.139291]  exit_mmap+0x19e/0xb10
[   59.139624]  ? __pfx_exit_mmap+0x10/0x10
[   59.140008]  ? trace_hardirqs_on+0x51/0x60
[   59.140373]  ? __khugepaged_exit+0x266/0x4c0
[   59.140731]  ? kmem_cache_free+0x15d/0x420
[   59.141091]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.141531]  __mmput+0xd6/0x390
[   59.141805]  mmput+0x74/0x90
[   59.142062]  do_exit+0xa03/0x29f0
[   59.142352]  ? trace_hardirqs_on+0x51/0x60
[   59.142698]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.143206]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.143607]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.144011]  ? __pfx_do_exit+0x10/0x10
[   59.144331]  ? __audit_syscall_entry+0x39c/0x500
[   59.144721]  __x64_sys_exit+0x50/0x60
[   59.145043]  x64_sys_call+0x20c9/0x20d0
[   59.145366]  do_syscall_64+0x6d/0x140
[   59.145682]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.146106] RIP: 0033:0x7f8d0123ee5d
[   59.146403] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   59.146885] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.147490] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   59.148055] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.148604] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   59.149146] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   59.149682] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   59.150232]  </TASK>
[   59.150412] Modules linked in:
[   59.150725] ---[ end trace 0000000000000000 ]---
[   59.151094] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.151647] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.153034] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   59.153441] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   59.153986] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   59.154526] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   59.155062] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.155591] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   59.156118] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   59.156700] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.157130] CR2: 00007f8d0129bc20 CR3: 0000000012b1c005 CR4: 0000000000770ef0
[   59.157649] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.158169] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.158685] PKRU: 55555554
[   59.158894] note: repro[17070] exited with preempt_count 1
[   59.159301] Fixing recursive fault but reboot is needed!
[   59.159713] BUG: scheduling while atomic: repro/17070/0x00000000
[   59.160159] INFO: lockdep is turned off.
[   59.160451] Modules linked in:
[   59.160685] Preemption disabled at:
[   59.160690] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   59.161359] CPU: 0 UID: 0 PID: 17070 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   59.162089] Tainted: [D]=DIE, [W]=WARN
[   59.162380] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.163211] Call Trace:
[   59.163395]  <TASK>
[   59.163557]  dump_stack_lvl+0x121/0x150
[   59.163854]  ? do_task_dead+0x28/0x110
[   59.164140]  dump_stack+0x19/0x20
[   59.164395]  __schedule_bug+0x12d/0x180
[   59.164684]  __schedule+0x210c/0x2eb0
[   59.165001]  ? rcu_is_watching+0x19/0xc0
[   59.165368]  ? lock_release+0x592/0x870
[   59.165725]  ? __pfx___schedule+0x10/0x10
[   59.166101]  ? debug_smp_processor_id+0x20/0x30
[   59.166522]  ? rcu_is_watching+0x19/0xc0
[   59.166862]  ? trace_irq_enable+0xe1/0x120
[   59.167202]  ? do_task_dead+0x4a/0x110
[   59.167513]  do_task_dead+0xe0/0x110
[   59.167814]  make_task_dead+0x384/0x3c0
[   59.168133]  rewind_stack_and_make_dead+0x16/0x20
[   59.168479] RIP: 0033:0x7f8d0123ee5d
[   59.168741] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   59.169176] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.169703] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   59.170186] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.170661] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   59.171139] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   59.171614] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   59.172102]  </TASK>
[   59.889992] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#63] PREEMPT SMP KASAN NOPTI
[   59.891086] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   59.891768] CPU: 1 UID: 0 PID: 17517 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   59.892803] Tainted: [D]=DIE, [W]=WARN
[   59.893175] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.894177] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.894724] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.896359] RSP: 0018:ffff8880200077d8 EFLAGS: 00010202
[   59.896843] RAX: dffffc0000000000 RBX: ffffea0000830e40 RCX: ffffffff81b9e779
[   59.897497] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000830e50
[   59.898451] RBP: ffff8880200077f8 R08: 0000000000000000 R09: ffffed1001f0a968
[   59.899120] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   59.899758] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f854b40
[   59.900400] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   59.901129] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.901651] CR2: 00007f8d013fca50 CR3: 0000000012b10002 CR4: 0000000000770ef0
[   59.902290] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.902924] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.903565] PKRU: 55555554
[   59.903825] Call Trace:
[   59.904182]  <TASK>
[   59.904496]  ? show_regs+0xa8/0xc0
[   59.904920]  ? die_addr+0x5d/0xf0
[   59.905267]  ? exc_general_protection+0x1ae/0x340
[   59.905727]  ? asm_exc_general_protection+0x2b/0x30
[   59.906206]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   59.906691]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.907183]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   59.907667]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   59.908159]  zap_huge_pmd+0x494/0xd40
[   59.908524]  unmap_page_range+0x1ad6/0x4320
[   59.908952]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   59.909440]  ? __pfx_unmap_page_range+0x10/0x10
[   59.909889]  unmap_single_vma+0x1ac/0x2d0
[   59.910474]  unmap_vmas+0x210/0x470
[   59.910991]  ? __pfx_unmap_vmas+0x10/0x10
[   59.911380]  ? __pfx_lock_release+0x10/0x10
[   59.911781]  ? lock_release+0x592/0x870
[   59.912159]  ? mas_next_slot+0x133a/0x1a50
[   59.912558]  ? __pfx_lock_release+0x10/0x10
[   59.912965]  ? mlock_drain_local+0x27f/0x4b0
[   59.913383]  exit_mmap+0x19e/0xb10
[   59.913730]  ? __pfx_exit_mmap+0x10/0x10
[   59.914130]  ? trace_hardirqs_on+0x51/0x60
[   59.914539]  ? __khugepaged_exit+0x266/0x4c0
[   59.914957]  ? kmem_cache_free+0x15d/0x420
[   59.915358]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   59.915864]  __mmput+0xd6/0x390
[   59.916200]  mmput+0x74/0x90
[   59.916491]  do_exit+0xa03/0x29f0
[   59.916825]  ? trace_hardirqs_on+0x51/0x60
[   59.917230]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   59.917805]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   59.918279]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   59.918737]  ? __pfx_do_exit+0x10/0x10
[   59.919113]  ? __audit_syscall_entry+0x39c/0x500
[   59.919561]  __x64_sys_exit+0x50/0x60
[   59.919921]  x64_sys_call+0x20c9/0x20d0
[   59.920307]  do_syscall_64+0x6d/0x140
[   59.920881]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   59.921504] RIP: 0033:0x7f8d0123ee5d
[   59.921848] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   59.922411] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.923105] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   59.923746] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.924398] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   59.925363] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   59.926054] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   59.926710]  </TASK>
[   59.926928] Modules linked in:
[   59.927457] ---[ end trace 0000000000000000 ]---
[   59.927889] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   59.928437] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   59.930078] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   59.930542] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   59.931155] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   59.932165] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   59.932781] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   59.933398] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   59.934012] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   59.934698] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   59.935357] CR2: 00007f8d013fca50 CR3: 0000000012b10002 CR4: 0000000000770ef0
[   59.936157] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   59.936765] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   59.937377] PKRU: 55555554
[   59.937623] note: repro[17517] exited with preempt_count 1
[   59.938100] Fixing recursive fault but reboot is needed!
[   59.938552] BUG: scheduling while atomic: repro/17517/0x00000000
[   59.939068] INFO: lockdep is turned off.
[   59.939419] Modules linked in:
[   59.939696] Preemption disabled at:
[   59.939701] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   59.940493] CPU: 1 UID: 0 PID: 17517 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   59.941441] Tainted: [D]=DIE, [W]=WARN
[   59.942024] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   59.942923] Call Trace:
[   59.943143]  <TASK>
[   59.943337]  dump_stack_lvl+0x121/0x150
[   59.943681]  ? do_task_dead+0x28/0x110
[   59.944022]  dump_stack+0x19/0x20
[   59.944336]  __schedule_bug+0x12d/0x180
[   59.944682]  __schedule+0x210c/0x2eb0
[   59.945011]  ? rcu_is_watching+0x19/0xc0
[   59.945362]  ? lock_release+0x592/0x870
[   59.945699]  ? __pfx___schedule+0x10/0x10
[   59.946064]  ? debug_smp_processor_id+0x20/0x30
[   59.946472]  ? rcu_is_watching+0x19/0xc0
[   59.946822]  ? trace_irq_enable+0xe1/0x120
[   59.947205]  ? do_task_dead+0x4a/0x110
[   59.947760]  do_task_dead+0xe0/0x110
[   59.948258]  make_task_dead+0x384/0x3c0
[   59.948639]  rewind_stack_and_make_dead+0x16/0x20
[   59.949097] RIP: 0033:0x7f8d0123ee5d
[   59.949440] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   59.949921] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   59.950521] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   59.951077] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   59.951622] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   59.952178] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   59.952723] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   59.953287]  </TASK>
[   60.003332] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#64] PREEMPT SMP KASAN NOPTI
[   60.004292] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.004874] CPU: 1 UID: 0 PID: 17584 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   60.005628] Tainted: [D]=DIE, [W]=WARN
[   60.006083] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.007006] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.007489] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.008961] RSP: 0018:ffff8880190c77d8 EFLAGS: 00010202
[   60.009393] RAX: dffffc0000000000 RBX: ffffea000058ca80 RCX: ffffffff81b9e779
[   60.009916] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000058ca90
[   60.010443] RBP: ffff8880190c77f8 R08: 0000000000000000 R09: ffffed1001d64878
[   60.010970] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.011499] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800eb243c0
[   60.012028] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.012756] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.013193] CR2: 00007f8d015dfef8 CR3: 000000001c0bc001 CR4: 0000000000770ef0
[   60.013722] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.014255] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.014780] PKRU: 55555554
[   60.015002] Call Trace:
[   60.015198]  <TASK>
[   60.015372]  ? show_regs+0xa8/0xc0
[   60.015660]  ? die_addr+0x5d/0xf0
[   60.016090]  ? exc_general_protection+0x1ae/0x340
[   60.016649]  ? asm_exc_general_protection+0x2b/0x30
[   60.017050]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.017442]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.017828]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.018219]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.018604]  zap_huge_pmd+0x494/0xd40
[   60.018896]  unmap_page_range+0x1ad6/0x4320
[   60.019235]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.019613]  ? __pfx_unmap_page_range+0x10/0x10
[   60.019969]  unmap_single_vma+0x1ac/0x2d0
[   60.020283]  unmap_vmas+0x210/0x470
[   60.020563]  ? __pfx_unmap_vmas+0x10/0x10
[   60.020870]  ? __pfx_lock_release+0x10/0x10
[   60.021190]  ? lock_release+0x592/0x870
[   60.021483]  ? mas_next_slot+0x133a/0x1a50
[   60.021800]  ? __pfx_lock_release+0x10/0x10
[   60.022274]  ? mlock_drain_local+0x27f/0x4b0
[   60.022746]  exit_mmap+0x19e/0xb10
[   60.023048]  ? __pfx_exit_mmap+0x10/0x10
[   60.023351]  ? trace_hardirqs_on+0x51/0x60
[   60.023663]  ? __khugepaged_exit+0x266/0x4c0
[   60.023981]  ? kmem_cache_free+0x15d/0x420
[   60.024287]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.024671]  __mmput+0xd6/0x390
[   60.024910]  mmput+0x74/0x90
[   60.025138]  do_exit+0xa03/0x29f0
[   60.025390]  ? trace_hardirqs_on+0x51/0x60
[   60.025692]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.026132]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.026479]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.026828]  ? __pfx_do_exit+0x10/0x10
[   60.027102]  ? __audit_syscall_entry+0x39c/0x500
[   60.027430]  __x64_sys_exit+0x50/0x60
[   60.027699]  x64_sys_call+0x20c9/0x20d0
[   60.027980]  do_syscall_64+0x6d/0x140
[   60.028362]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.028861] RIP: 0033:0x7f8d0123ee5d
[   60.029160] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   60.029565] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.030068] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   60.030537] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.031009] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   60.031474] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   60.031948] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   60.032413]  </TASK>
[   60.032566] Modules linked in:
[   60.032871] ---[ end trace 0000000000000000 ]---
[   60.033182] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.033563] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.034710] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   60.035211] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   60.035680] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   60.036137] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   60.036588] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.037043] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   60.037492] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.037978] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.038334] CR2: 00007f8d015dfef8 CR3: 000000001c0bc001 CR4: 0000000000770ef0
[   60.038987] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.039638] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.040079] PKRU: 55555554
[   60.040271] note: repro[17584] exited with preempt_count 1
[   60.040683] Fixing recursive fault but reboot is needed!
[   60.041086] BUG: scheduling while atomic: repro/17584/0x00000000
[   60.041537] INFO: lockdep is turned off.
[   60.041834] Modules linked in:
[   60.042080] Preemption disabled at:
[   60.042084] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   60.042666] CPU: 1 UID: 0 PID: 17584 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   60.043249] Tainted: [D]=DIE, [W]=WARN
[   60.043485] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.044149] Call Trace:
[   60.044311]  <TASK>
[   60.044448]  dump_stack_lvl+0x121/0x150
[   60.044693]  ? do_task_dead+0x28/0x110
[   60.044936]  dump_stack+0x19/0x20
[   60.045186]  __schedule_bug+0x12d/0x180
[   60.045499]  __schedule+0x210c/0x2eb0
[   60.045792]  ? rcu_is_watching+0x19/0xc0
[   60.046108]  ? lock_release+0x592/0x870
[   60.046366]  ? __pfx___schedule+0x10/0x10
[   60.046616]  ? debug_smp_processor_id+0x20/0x30
[   60.047029]  ? rcu_is_watching+0x19/0xc0
[   60.047389]  ? trace_irq_enable+0xe1/0x120
[   60.047705]  ? do_task_dead+0x4a/0x110
[   60.047943]  do_task_dead+0xe0/0x110
[   60.048169]  make_task_dead+0x384/0x3c0
[   60.048405]  rewind_stack_and_make_dead+0x16/0x20
[   60.048684] RIP: 0033:0x7f8d0123ee5d
[   60.048898] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   60.049245] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.049669] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   60.050074] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.050473] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   60.050872] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   60.051268] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   60.051675]  </TASK>
[   60.593146] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#65] PREEMPT SMP KASAN NOPTI
[   60.594399] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   60.595077] CPU: 1 UID: 0 PID: 17880 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   60.595939] Tainted: [D]=DIE, [W]=WARN
[   60.596282] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.597282] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.597823] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.599443] RSP: 0018:ffff888010daf7d8 EFLAGS: 00010202
[   60.599921] RAX: dffffc0000000000 RBX: ffffea0000510640 RCX: ffffffff81b9e779
[   60.600563] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000510650
[   60.601203] RBP: ffff888010daf7f8 R08: 0000000000000000 R09: ffffed1002421a84
[   60.601839] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   60.602475] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801210d420
[   60.603114] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.603831] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.604355] CR2: 00007f8d015e0658 CR3: 0000000010230001 CR4: 0000000000770ef0
[   60.604993] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.605629] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.606267] PKRU: 55555554
[   60.606525] Call Trace:
[   60.606759]  <TASK>
[   60.606972]  ? show_regs+0xa8/0xc0
[   60.607310]  ? die_addr+0x5d/0xf0
[   60.607640]  ? exc_general_protection+0x1ae/0x340
[   60.608098]  ? asm_exc_general_protection+0x2b/0x30
[   60.608566]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   60.609047]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.609526]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   60.610008]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   60.610489]  zap_huge_pmd+0x494/0xd40
[   60.610852]  unmap_page_range+0x1ad6/0x4320
[   60.611268]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   60.611747]  ? __pfx_unmap_page_range+0x10/0x10
[   60.612193]  unmap_single_vma+0x1ac/0x2d0
[   60.612584]  unmap_vmas+0x210/0x470
[   60.612930]  ? __pfx_unmap_vmas+0x10/0x10
[   60.613318]  ? __pfx_lock_release+0x10/0x10
[   60.613712]  ? lock_release+0x592/0x870
[   60.614078]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   60.614540]  ? __pfx_lock_release+0x10/0x10
[   60.614943]  ? mlock_drain_local+0x27f/0x4b0
[   60.615369]  exit_mmap+0x19e/0xb10
[   60.615743]  ? __pfx_exit_mmap+0x10/0x10
[   60.616139]  ? trace_hardirqs_on+0x51/0x60
[   60.616542]  ? __khugepaged_exit+0x266/0x4c0
[   60.616952]  ? kmem_cache_free+0x15d/0x420
[   60.617348]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   60.617847]  __mmput+0xd6/0x390
[   60.618161]  mmput+0x74/0x90
[   60.618448]  do_exit+0xa03/0x29f0
[   60.618777]  ? trace_hardirqs_on+0x51/0x60
[   60.619174]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   60.619745]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   60.620203]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   60.620657]  ? __pfx_do_exit+0x10/0x10
[   60.621025]  ? __audit_syscall_entry+0x39c/0x500
[   60.621466]  __x64_sys_exit+0x50/0x60
[   60.621823]  x64_sys_call+0x20c9/0x20d0
[   60.622193]  do_syscall_64+0x6d/0x140
[   60.622553]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   60.623027] RIP: 0033:0x7f8d0123ee5d
[   60.623367] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   60.623921] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.624608] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   60.625251] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.625892] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   60.626532] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   60.627170] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   60.627820]  </TASK>
[   60.628045] Modules linked in:
[   60.628433] ---[ end trace 0000000000000000 ]---
[   60.628862] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   60.629403] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   60.631029] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   60.631564] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   60.632211] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   60.632850] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   60.633487] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   60.634129] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   60.634779] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   60.635519] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   60.636053] CR2: 00007f8d015e0658 CR3: 0000000010230001 CR4: 0000000000770ef0
[   60.636696] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   60.637344] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   60.637992] PKRU: 55555554
[   60.638251] note: repro[17880] exited with preempt_count 1
[   60.638746] Fixing recursive fault but reboot is needed!
[   60.639225] BUG: scheduling while atomic: repro/17880/0x00000000
[   60.639793] INFO: lockdep is turned off.
[   60.640160] Modules linked in:
[   60.640452] Preemption disabled at:
[   60.640457] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   60.641283] CPU: 1 UID: 0 PID: 17880 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   60.642139] Tainted: [D]=DIE, [W]=WARN
[   60.642486] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   60.643492] Call Trace:
[   60.643730]  <TASK>
[   60.643944]  dump_stack_lvl+0x121/0x150
[   60.644320]  ? do_task_dead+0x28/0x110
[   60.644689]  dump_stack+0x19/0x20
[   60.645029]  __schedule_bug+0x12d/0x180
[   60.645406]  __schedule+0x210c/0x2eb0
[   60.645757]  ? rcu_is_watching+0x19/0xc0
[   60.646132]  ? lock_release+0x592/0x870
[   60.646496]  ? __pfx___schedule+0x10/0x10
[   60.646878]  ? debug_smp_processor_id+0x20/0x30
[   60.647304]  ? rcu_is_watching+0x19/0xc0
[   60.647675]  ? trace_irq_enable+0xe1/0x120
[   60.648073]  ? do_task_dead+0x4a/0x110
[   60.648438]  do_task_dead+0xe0/0x110
[   60.648791]  make_task_dead+0x384/0x3c0
[   60.649167]  rewind_stack_and_make_dead+0x16/0x20
[   60.649606] RIP: 0033:0x7f8d0123ee5d
[   60.649946] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   60.650493] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   60.651171] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   60.651805] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   60.652442] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   60.653079] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   60.653713] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   60.654364]  </TASK>
[   61.267841] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#66] PREEMPT SMP KASAN NOPTI
[   61.269115] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.269804] CPU: 1 UID: 0 PID: 18248 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   61.270663] Tainted: [D]=DIE, [W]=WARN
[   61.271013] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.272092] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.272668] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.274353] RSP: 0018:ffff888023b9f7d8 EFLAGS: 00010202
[   61.274842] RAX: dffffc0000000000 RBX: ffffea00008e5340 RCX: ffffffff81b9e779
[   61.275550] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00008e5350
[   61.276209] RBP: ffff888023b9f7f8 R08: 0000000000000000 R09: ffffed1001eb5a18
[   61.276858] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   61.277504] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800f5ad0c0
[   61.278147] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   61.278875] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.279405] CR2: 00007f8d016043f4 CR3: 000000001a7ca002 CR4: 0000000000770ef0
[   61.280059] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.280738] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.281449] PKRU: 55555554
[   61.281810] Call Trace:
[   61.282096]  <TASK>
[   61.282307]  ? show_regs+0xa8/0xc0
[   61.282649]  ? die_addr+0x5d/0xf0
[   61.282988]  ? exc_general_protection+0x1ae/0x340
[   61.283444]  ? asm_exc_general_protection+0x2b/0x30
[   61.283910]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.284397]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.284876]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.285359]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.285840]  zap_huge_pmd+0x494/0xd40
[   61.286204]  unmap_page_range+0x1ad6/0x4320
[   61.286601]  ? __pfx_lock_release+0x10/0x10
[   61.286996]  ? do_raw_spin_trylock+0xbf/0x190
[   61.287412]  ? __kasan_check_read+0x15/0x20
[   61.287815]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.288290]  ? __pfx_unmap_page_range+0x10/0x10
[   61.288729]  unmap_single_vma+0x1ac/0x2d0
[   61.289122]  unmap_vmas+0x210/0x470
[   61.289469]  ? __pfx_unmap_vmas+0x10/0x10
[   61.289854]  ? __pfx_lock_release+0x10/0x10
[   61.290251]  ? lock_release+0x592/0x870
[   61.290613]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.291080]  ? __pfx_lock_release+0x10/0x10
[   61.291480]  ? mlock_drain_local+0x27f/0x4b0
[   61.291893]  exit_mmap+0x19e/0xb10
[   61.292237]  ? __pfx_exit_mmap+0x10/0x10
[   61.292625]  ? trace_hardirqs_on+0x51/0x60
[   61.293030]  ? __khugepaged_exit+0x266/0x4c0
[   61.293438]  ? kmem_cache_free+0x15d/0x420
[   61.293834]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.294339]  __mmput+0xd6/0x390
[   61.294652]  mmput+0x74/0x90
[   61.294941]  do_exit+0xa03/0x29f0
[   61.295269]  ? trace_hardirqs_on+0x51/0x60
[   61.295662]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.296235]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.296687]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.297144]  ? __pfx_do_exit+0x10/0x10
[   61.297510]  ? __audit_syscall_entry+0x39c/0x500
[   61.297958]  __x64_sys_exit+0x50/0x60
[   61.298314]  x64_sys_call+0x20c9/0x20d0
[   61.298682]  do_syscall_64+0x6d/0x140
[   61.299049]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.299534] RIP: 0033:0x7f8d0123ee5d
[   61.299879] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   61.300451] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.301283] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   61.301970] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.302635] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   61.303316] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   61.303990] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   61.304659]  </TASK>
[   61.304875] Modules linked in:
[   61.305358] ---[ end trace 0000000000000000 ]---
[   61.305793] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.306347] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.308206] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   61.308705] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   61.309364] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   61.310026] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   61.310767] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.311784] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   61.312648] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   61.313617] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.314321] CR2: 00007f8d016043f4 CR3: 000000001a7ca002 CR4: 0000000000770ef0
[   61.315182] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.316161] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.317026] PKRU: 55555554
[   61.317368] note: repro[18248] exited with preempt_count 1
[   61.318035] Fixing recursive fault but reboot is needed!
[   61.318675] check_preemption_disabled: 5 callbacks suppressed
[   61.318685] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18248
[   61.319992] caller is debug_smp_processor_id+0x20/0x30
[   61.320496] CPU: 1 UID: 0 PID: 18248 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   61.321397] Tainted: [D]=DIE, [W]=WARN
[   61.321775] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.322801] Call Trace:
[   61.323050]  <TASK>
[   61.323264]  dump_stack_lvl+0x121/0x150
[   61.323652]  dump_stack+0x19/0x20
[   61.323997]  check_preemption_disabled+0x168/0x180
[   61.324459]  debug_smp_processor_id+0x20/0x30
[   61.324879]  __schedule+0x9a/0x2eb0
[   61.325229]  ? rcu_is_watching+0x19/0xc0
[   61.325619]  ? lock_release+0x592/0x870
[   61.326121]  ? __pfx___schedule+0x10/0x10
[   61.326550]  ? debug_smp_processor_id+0x20/0x30
[   61.327064]  ? rcu_is_watching+0x19/0xc0
[   61.327517]  ? trace_irq_enable+0xe1/0x120
[   61.328029]  ? do_task_dead+0x4a/0x110
[   61.328430]  do_task_dead+0xe0/0x110
[   61.328924]  make_task_dead+0x384/0x3c0
[   61.329335]  rewind_stack_and_make_dead+0x16/0x20
[   61.329851] RIP: 0033:0x7f8d0123ee5d
[   61.330310] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   61.330900] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.331700] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   61.332361] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.333048] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   61.333719] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   61.334396] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   61.335076]  </TASK>
[   61.335354] BUG: scheduling while atomic: repro/18248/0x00000000
[   61.336125] INFO: lockdep is turned off.
[   61.336626] Modules linked in:
[   61.337045] Preemption disabled at:
[   61.337055] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   61.338154] CPU: 1 UID: 0 PID: 18248 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   61.339340] Tainted: [D]=DIE, [W]=WARN
[   61.339810] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.341173] Call Trace:
[   61.341497]  <TASK>
[   61.341774]  dump_stack_lvl+0x121/0x150
[   61.342300]  ? do_task_dead+0x28/0x110
[   61.342800]  dump_stack+0x19/0x20
[   61.343245]  __schedule_bug+0x12d/0x180
[   61.343731]  __schedule+0x210c/0x2eb0
[   61.344207]  ? rcu_is_watching+0x19/0xc0
[   61.344713]  ? lock_release+0x592/0x870
[   61.345212]  ? __pfx___schedule+0x10/0x10
[   61.345729]  ? debug_smp_processor_id+0x20/0x30
[   61.346306]  ? rcu_is_watching+0x19/0xc0
[   61.346822]  ? trace_irq_enable+0xe1/0x120
[   61.347365]  ? do_task_dead+0x4a/0x110
[   61.347863]  do_task_dead+0xe0/0x110
[   61.348356]  make_task_dead+0x384/0x3c0
[   61.348831]  rewind_stack_and_make_dead+0x16/0x20
[   61.349424] RIP: 0033:0x7f8d0123ee5d
[   61.349889] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   61.350625] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.351530] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   61.352394] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.353201] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   61.354050] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   61.354895] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   61.355758]  </TASK>
[   61.676718] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#67] PREEMPT SMP KASAN NOPTI
[   61.677817] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   61.678490] CPU: 1 UID: 0 PID: 18459 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   61.679367] Tainted: [D]=DIE, [W]=WARN
[   61.679733] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.680799] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.681372] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.682980] RSP: 0018:ffff88801f1777d8 EFLAGS: 00010202
[   61.683458] RAX: dffffc0000000000 RBX: ffffea0000801940 RCX: ffffffff81b9e779
[   61.684097] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000801950
[   61.684730] RBP: ffff88801f1777f8 R08: 0000000000000000 R09: ffffed10041c789c
[   61.685361] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   61.685994] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888020e3c4e0
[   61.686636] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   61.687352] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.687870] CR2: 00007f8d015e0658 CR3: 0000000029706004 CR4: 0000000000770ef0
[   61.688508] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.689143] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.689783] PKRU: 55555554
[   61.690044] Call Trace:
[   61.690279]  <TASK>
[   61.690496]  ? show_regs+0xa8/0xc0
[   61.690835]  ? die_addr+0x5d/0xf0
[   61.691165]  ? exc_general_protection+0x1ae/0x340
[   61.691619]  ? asm_exc_general_protection+0x2b/0x30
[   61.692086]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   61.692562]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.693045]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   61.693521]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   61.694015]  zap_huge_pmd+0x494/0xd40
[   61.694379]  unmap_page_range+0x1ad6/0x4320
[   61.694793]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   61.695266]  ? __pfx_unmap_page_range+0x10/0x10
[   61.695705]  unmap_single_vma+0x1ac/0x2d0
[   61.696094]  unmap_vmas+0x210/0x470
[   61.696444]  ? __pfx_unmap_vmas+0x10/0x10
[   61.696824]  ? __pfx_lock_release+0x10/0x10
[   61.697226]  ? lock_release+0x592/0x870
[   61.697587]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   61.698047]  ? __pfx_lock_release+0x10/0x10
[   61.698442]  ? mlock_drain_local+0x27f/0x4b0
[   61.698850]  exit_mmap+0x19e/0xb10
[   61.699190]  ? __pfx_exit_mmap+0x10/0x10
[   61.699574]  ? trace_hardirqs_on+0x51/0x60
[   61.699977]  ? __khugepaged_exit+0x266/0x4c0
[   61.700395]  ? kmem_cache_free+0x15d/0x420
[   61.700790]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   61.701291]  __mmput+0xd6/0x390
[   61.701602]  mmput+0x74/0x90
[   61.701890]  do_exit+0xa03/0x29f0
[   61.702222]  ? trace_hardirqs_on+0x51/0x60
[   61.702618]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   61.703189]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   61.703645]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   61.704098]  ? __pfx_do_exit+0x10/0x10
[   61.704458]  ? __audit_syscall_entry+0x39c/0x500
[   61.704898]  __x64_sys_exit+0x50/0x60
[   61.705256]  x64_sys_call+0x20c9/0x20d0
[   61.705625]  do_syscall_64+0x6d/0x140
[   61.705986]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   61.706457] RIP: 0033:0x7f8d0123ee5d
[   61.706794] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   61.707341] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.708028] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   61.708671] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.709309] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   61.709941] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   61.710579] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   61.711229]  </TASK>
[   61.711442] Modules linked in:
[   61.711960] ---[ end trace 0000000000000000 ]---
[   61.712590] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   61.713133] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   61.714752] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   61.715234] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   61.715897] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   61.716545] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   61.717183] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   61.717821] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   61.718459] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   61.719181] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   61.719744] CR2: 00007f8d015e0658 CR3: 0000000029706004 CR4: 0000000000770ef0
[   61.720394] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   61.721033] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   61.721676] PKRU: 55555554
[   61.721939] note: repro[18459] exited with preempt_count 1
[   61.722435] Fixing recursive fault but reboot is needed!
[   61.722924] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18459
[   61.723651] caller is debug_smp_processor_id+0x20/0x30
[   61.724145] CPU: 1 UID: 0 PID: 18459 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   61.725003] Tainted: [D]=DIE, [W]=WARN
[   61.725347] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.726353] Call Trace:
[   61.726590]  <TASK>
[   61.726800]  dump_stack_lvl+0x121/0x150
[   61.727178]  dump_stack+0x19/0x20
[   61.727508]  check_preemption_disabled+0x168/0x180
[   61.727966]  debug_smp_processor_id+0x20/0x30
[   61.728382]  __schedule+0x9a/0x2eb0
[   61.728722]  ? rcu_is_watching+0x19/0xc0
[   61.729099]  ? lock_release+0x592/0x870
[   61.729466]  ? __pfx___schedule+0x10/0x10
[   61.729849]  ? debug_smp_processor_id+0x20/0x30
[   61.730279]  ? rcu_is_watching+0x19/0xc0
[   61.730660]  ? trace_irq_enable+0xe1/0x120
[   61.731061]  ? do_task_dead+0x4a/0x110
[   61.731427]  do_task_dead+0xe0/0x110
[   61.731780]  make_task_dead+0x384/0x3c0
[   61.732157]  rewind_stack_and_make_dead+0x16/0x20
[   61.732598] RIP: 0033:0x7f8d0123ee5d
[   61.732939] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   61.733488] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.734170] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   61.735394] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.736065] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   61.736704] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   61.737342] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   61.738223]  </TASK>
[   61.738543] BUG: scheduling while atomic: repro/18459/0x00000000
[   61.739117] INFO: lockdep is turned off.
[   61.739500] Modules linked in:
[   61.739803] Preemption disabled at:
[   61.739808] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   61.740674] CPU: 1 UID: 0 PID: 18459 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   61.741716] Tainted: [D]=DIE, [W]=WARN
[   61.742088] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   61.743152] Call Trace:
[   61.743407]  <TASK>
[   61.743622]  dump_stack_lvl+0x121/0x150
[   61.744017]  ? do_task_dead+0x28/0x110
[   61.744410]  dump_stack+0x19/0x20
[   61.744788]  __schedule_bug+0x12d/0x180
[   61.745184]  __schedule+0x210c/0x2eb0
[   61.745549]  ? rcu_is_watching+0x19/0xc0
[   61.745938]  ? lock_release+0x592/0x870
[   61.746341]  ? __pfx___schedule+0x10/0x10
[   61.746760]  ? debug_smp_processor_id+0x20/0x30
[   61.747203]  ? rcu_is_watching+0x19/0xc0
[   61.747588]  ? trace_irq_enable+0xe1/0x120
[   61.748017]  ? do_task_dead+0x4a/0x110
[   61.748412]  do_task_dead+0xe0/0x110
[   61.748789]  make_task_dead+0x384/0x3c0
[   61.749180]  rewind_stack_and_make_dead+0x16/0x20
[   61.749658] RIP: 0033:0x7f8d0123ee5d
[   61.750019] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   61.750603] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   61.751376] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   61.752091] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   61.752727] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   61.753506] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   61.754177] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   61.754870]  </TASK>
[   62.294741] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#68] PREEMPT SMP KASAN NOPTI
[   62.295842] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   62.296520] CPU: 1 UID: 0 PID: 18809 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   62.297376] Tainted: [D]=DIE, [W]=WARN
[   62.297721] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.298716] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.299260] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.300869] RSP: 0018:ffff8880239ff7d8 EFLAGS: 00010202
[   62.301349] RAX: dffffc0000000000 RBX: ffffea0000a55900 RCX: ffffffff81b9e779
[   62.301991] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000a55910
[   62.302623] RBP: ffff8880239ff7f8 R08: 0000000000000000 R09: ffffed1001c66690
[   62.303256] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   62.303888] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800e333480
[   62.304525] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   62.305244] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.305763] CR2: 00007fff00956878 CR3: 00000000296b2006 CR4: 0000000000770ef0
[   62.306399] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.307035] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.307668] PKRU: 55555554
[   62.307923] Call Trace:
[   62.308160]  <TASK>
[   62.308368]  ? show_regs+0xa8/0xc0
[   62.308717]  ? die_addr+0x5d/0xf0
[   62.309050]  ? exc_general_protection+0x1ae/0x340
[   62.309524]  ? asm_exc_general_protection+0x2b/0x30
[   62.310009]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   62.310498]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.310989]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   62.311478]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   62.311965]  zap_huge_pmd+0x494/0xd40
[   62.312338]  unmap_page_range+0x1ad6/0x4320
[   62.312752]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   62.313229]  ? __pfx_unmap_page_range+0x10/0x10
[   62.313671]  unmap_single_vma+0x1ac/0x2d0
[   62.314060]  unmap_vmas+0x210/0x470
[   62.314623]  ? __pfx_unmap_vmas+0x10/0x10
[   62.315310]  ? __pfx_lock_release+0x10/0x10
[   62.315724]  ? lock_release+0x592/0x870
[   62.316100]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   62.316639]  ? __pfx_lock_release+0x10/0x10
[   62.317148]  ? mlock_drain_local+0x27f/0x4b0
[   62.317591]  exit_mmap+0x19e/0xb10
[   62.317944]  ? __pfx_exit_mmap+0x10/0x10
[   62.318341]  ? trace_hardirqs_on+0x51/0x60
[   62.318753]  ? __khugepaged_exit+0x266/0x4c0
[   62.319178]  ? kmem_cache_free+0x15d/0x420
[   62.319585]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   62.320164]  __mmput+0xd6/0x390
[   62.320484]  mmput+0x74/0x90
[   62.320777]  do_exit+0xa03/0x29f0
[   62.321113]  ? trace_hardirqs_on+0x51/0x60
[   62.321518]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   62.322103]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   62.322571]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   62.323043]  ? __pfx_do_exit+0x10/0x10
[   62.323423]  ? __audit_syscall_entry+0x39c/0x500
[   62.323881]  __x64_sys_exit+0x50/0x60
[   62.324249]  x64_sys_call+0x20c9/0x20d0
[   62.324636]  do_syscall_64+0x6d/0x140
[   62.325008]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   62.325551] RIP: 0033:0x7f8d0123ee5d
[   62.325899] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   62.326474] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.327172] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   62.327827] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.328478] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   62.329130] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   62.329774] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   62.330446]  </TASK>
[   62.330669] Modules linked in:
[   62.331079] ---[ end trace 0000000000000000 ]---
[   62.331534] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   62.332094] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   62.333794] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   62.334296] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   62.334966] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   62.335767] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   62.336432] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   62.337096] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   62.337746] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   62.338497] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   62.339033] CR2: 00007fff00956878 CR3: 00000000296b2006 CR4: 0000000000770ef0
[   62.339865] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   62.340523] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   62.341179] PKRU: 55555554
[   62.341446] note: repro[18809] exited with preempt_count 1
[   62.341967] Fixing recursive fault but reboot is needed!
[   62.342454] BUG: using smp_processor_id() in preemptible [00000000] code: repro/18809
[   62.343173] caller is debug_smp_processor_id+0x20/0x30
[   62.343826] CPU: 1 UID: 0 PID: 18809 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   62.344712] Tainted: [D]=DIE, [W]=WARN
[   62.345070] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.346089] Call Trace:
[   62.346333]  <TASK>
[   62.346545]  dump_stack_lvl+0x121/0x150
[   62.346943]  dump_stack+0x19/0x20
[   62.347294]  check_preemption_disabled+0x168/0x180
[   62.347766]  debug_smp_processor_id+0x20/0x30
[   62.348203]  __schedule+0x9a/0x2eb0
[   62.348644]  ? rcu_is_watching+0x19/0xc0
[   62.349064]  ? lock_release+0x592/0x870
[   62.349445]  ? __pfx___schedule+0x10/0x10
[   62.349836]  ? debug_smp_processor_id+0x20/0x30
[   62.350354]  ? rcu_is_watching+0x19/0xc0
[   62.350735]  ? trace_irq_enable+0xe1/0x120
[   62.351145]  ? do_task_dead+0x4a/0x110
[   62.351526]  do_task_dead+0xe0/0x110
[   62.351893]  make_task_dead+0x384/0x3c0
[   62.352279]  rewind_stack_and_make_dead+0x16/0x20
[   62.352732] RIP: 0033:0x7f8d0123ee5d
[   62.353083] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   62.353655] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.354512] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   62.355187] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.355860] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   62.356535] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   62.357203] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   62.357880]  </TASK>
[   62.358259] BUG: scheduling while atomic: repro/18809/0x00000000
[   62.358905] INFO: lockdep is turned off.
[   62.359280] Modules linked in:
[   62.359691] Preemption disabled at:
[   62.359697] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   62.360633] CPU: 1 UID: 0 PID: 18809 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   62.361591] Tainted: [D]=DIE, [W]=WARN
[   62.361954] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   62.363021] Call Trace:
[   62.363270]  <TASK>
[   62.363486]  dump_stack_lvl+0x121/0x150
[   62.363873]  ? do_task_dead+0x28/0x110
[   62.364258]  dump_stack+0x19/0x20
[   62.364605]  __schedule_bug+0x12d/0x180
[   62.364995]  __schedule+0x210c/0x2eb0
[   62.365351]  ? rcu_is_watching+0x19/0xc0
[   62.365735]  ? lock_release+0x592/0x870
[   62.366113]  ? __pfx___schedule+0x10/0x10
[   62.366499]  ? debug_smp_processor_id+0x20/0x30
[   62.366953]  ? rcu_is_watching+0x19/0xc0
[   62.367331]  ? trace_irq_enable+0xe1/0x120
[   62.367746]  ? do_task_dead+0x4a/0x110
[   62.368217]  do_task_dead+0xe0/0x110
[   62.368658]  make_task_dead+0x384/0x3c0
[   62.369052]  rewind_stack_and_make_dead+0x16/0x20
[   62.369505] RIP: 0033:0x7f8d0123ee5d
[   62.369849] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   62.370429] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   62.371135] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   62.371783] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   62.372439] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   62.373089] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   62.373743] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   62.374424]  </TASK>
[   63.078925] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#69] PREEMPT SMP KASAN NOPTI
[   63.080053] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.080792] CPU: 0 UID: 0 PID: 19224 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   63.081671] Tainted: [D]=DIE, [W]=WARN
[   63.082031] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.083071] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.083625] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.085305] RSP: 0018:ffff8880296c77d8 EFLAGS: 00010202
[   63.085978] RAX: dffffc0000000000 RBX: ffffea000043e400 RCX: ffffffff81b9e779
[   63.086655] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000043e410
[   63.087317] RBP: ffff8880296c77f8 R08: 0000000000000000 R09: ffffed1002c0d9a4
[   63.087972] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   63.088628] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801606cd20
[   63.089289] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   63.090025] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.090581] CR2: 00007f8d015e0658 CR3: 00000000295b8001 CR4: 0000000000770ef0
[   63.091264] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.091986] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.092676] PKRU: 55555554
[   63.092980] Call Trace:
[   63.093238]  <TASK>
[   63.093471]  ? show_regs+0xa8/0xc0
[   63.093845]  ? die_addr+0x5d/0xf0
[   63.094197]  ? exc_general_protection+0x1ae/0x340
[   63.094682]  ? asm_exc_general_protection+0x2b/0x30
[   63.095190]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.095697]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.096197]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.096723]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.097278]  zap_huge_pmd+0x494/0xd40
[   63.097665]  unmap_page_range+0x1ad6/0x4320
[   63.098090]  ? __pfx_lock_release+0x10/0x10
[   63.098500]  ? do_raw_spin_trylock+0xbf/0x190
[   63.098930]  ? __kasan_check_read+0x15/0x20
[   63.099354]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.099848]  ? __pfx_unmap_page_range+0x10/0x10
[   63.100311]  unmap_single_vma+0x1ac/0x2d0
[   63.100728]  unmap_vmas+0x210/0x470
[   63.101118]  ? __pfx_unmap_vmas+0x10/0x10
[   63.101531]  ? __pfx_lock_release+0x10/0x10
[   63.101941]  ? lock_release+0x592/0x870
[   63.102317]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   63.102803]  ? __pfx_lock_release+0x10/0x10
[   63.103229]  ? mlock_drain_local+0x27f/0x4b0
[   63.103687]  exit_mmap+0x19e/0xb10
[   63.104050]  ? __pfx_exit_mmap+0x10/0x10
[   63.104462]  ? trace_hardirqs_on+0x51/0x60
[   63.104885]  ? __khugepaged_exit+0x266/0x4c0
[   63.105303]  ? kmem_cache_free+0x15d/0x420
[   63.105707]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.106220]  __mmput+0xd6/0x390
[   63.106542]  mmput+0x74/0x90
[   63.106850]  do_exit+0xa03/0x29f0
[   63.107211]  ? trace_hardirqs_on+0x51/0x60
[   63.107643]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.108251]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.108726]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.109200]  ? __pfx_do_exit+0x10/0x10
[   63.109576]  ? __audit_syscall_entry+0x39c/0x500
[   63.110031]  __x64_sys_exit+0x50/0x60
[   63.110400]  x64_sys_call+0x20c9/0x20d0
[   63.110787]  do_syscall_64+0x6d/0x140
[   63.111169]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.111665] RIP: 0033:0x7f8d0123ee5d
[   63.112032] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   63.112603] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.113310] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   63.113990] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.114643] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   63.115298] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   63.115980] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   63.116648]  </TASK>
[   63.116870] Modules linked in:
[   63.117407] ---[ end trace 0000000000000000 ]---
[   63.117884] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.118443] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.120313] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   63.121087] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   63.121812] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   63.122496] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   63.123195] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.123866] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   63.124530] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   63.125264] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.125826] CR2: 00007f8d015e0658 CR3: 00000000295b8001 CR4: 0000000000770ef0
[   63.126540] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.127247] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.127967] PKRU: 55555554
[   63.128254] note: repro[19224] exited with preempt_count 1
[   63.128786] Fixing recursive fault but reboot is needed!
[   63.129281] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19224
[   63.129998] caller is debug_smp_processor_id+0x20/0x30
[   63.130497] CPU: 0 UID: 0 PID: 19224 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   63.131424] Tainted: [D]=DIE, [W]=WARN
[   63.131809] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.132901] Call Trace:
[   63.133169]  <TASK>
[   63.133397]  dump_stack_lvl+0x121/0x150
[   63.133790]  dump_stack+0x19/0x20
[   63.134141]  check_preemption_disabled+0x168/0x180
[   63.134607]  debug_smp_processor_id+0x20/0x30
[   63.135039]  __schedule+0x9a/0x2eb0
[   63.135394]  ? rcu_is_watching+0x19/0xc0
[   63.135782]  ? lock_release+0x592/0x870
[   63.136182]  ? __pfx___schedule+0x10/0x10
[   63.136617]  ? debug_smp_processor_id+0x20/0x30
[   63.137064]  ? rcu_is_watching+0x19/0xc0
[   63.137449]  ? trace_irq_enable+0xe1/0x120
[   63.137866]  ? do_task_dead+0x4a/0x110
[   63.138257]  do_task_dead+0xe0/0x110
[   63.138646]  make_task_dead+0x384/0x3c0
[   63.139050]  rewind_stack_and_make_dead+0x16/0x20
[   63.139525] RIP: 0033:0x7f8d0123ee5d
[   63.139915] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   63.140492] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.141205] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   63.141877] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.142657] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   63.143832] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   63.144674] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   63.145395]  </TASK>
[   63.145691] BUG: scheduling while atomic: repro/19224/0x00000000
[   63.146362] INFO: lockdep is turned off.
[   63.146733] Modules linked in:
[   63.147038] Preemption disabled at:
[   63.147043] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   63.147826] CPU: 0 UID: 0 PID: 19224 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   63.148654] Tainted: [D]=DIE, [W]=WARN
[   63.149168] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.150067] Call Trace:
[   63.150278]  <TASK>
[   63.150470]  dump_stack_lvl+0x121/0x150
[   63.150813]  ? do_task_dead+0x28/0x110
[   63.151158]  dump_stack+0x19/0x20
[   63.151505]  __schedule_bug+0x12d/0x180
[   63.151874]  __schedule+0x210c/0x2eb0
[   63.152245]  ? rcu_is_watching+0x19/0xc0
[   63.152655]  ? lock_release+0x592/0x870
[   63.153054]  ? __pfx___schedule+0x10/0x10
[   63.153527]  ? debug_smp_processor_id+0x20/0x30
[   63.154043]  ? rcu_is_watching+0x19/0xc0
[   63.154536]  ? trace_irq_enable+0xe1/0x120
[   63.155071]  ? do_task_dead+0x4a/0x110
[   63.155624]  do_task_dead+0xe0/0x110
[   63.156193]  make_task_dead+0x384/0x3c0
[   63.156586]  rewind_stack_and_make_dead+0x16/0x20
[   63.157070] RIP: 0033:0x7f8d0123ee5d
[   63.157439] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   63.158739] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.160070] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   63.161204] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.162140] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   63.162824] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   63.163497] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   63.164195]  </TASK>
[   63.199816] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#70] PREEMPT SMP KASAN NOPTI
[   63.200925] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   63.201682] CPU: 1 UID: 0 PID: 19300 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   63.202541] Tainted: [D]=DIE, [W]=WARN
[   63.202892] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.203895] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.204443] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.206067] RSP: 0018:ffff88801c19f7d8 EFLAGS: 00010202
[   63.206552] RAX: dffffc0000000000 RBX: ffffea000042b900 RCX: ffffffff81b9e779
[   63.207195] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000042b910
[   63.207828] RBP: ffff88801c19f7f8 R08: 0000000000000000 R09: ffffed100265b4f0
[   63.208465] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   63.209102] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880132da780
[   63.209740] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   63.210463] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.210993] CR2: 00007f8d016043f4 CR3: 00000000124ba003 CR4: 0000000000770ef0
[   63.211634] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.212306] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.213071] PKRU: 55555554
[   63.213331] Call Trace:
[   63.213567]  <TASK>
[   63.213778]  ? show_regs+0xa8/0xc0
[   63.214125]  ? die_addr+0x5d/0xf0
[   63.214483]  ? exc_general_protection+0x1ae/0x340
[   63.215001]  ? asm_exc_general_protection+0x2b/0x30
[   63.215480]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   63.215972]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.216457]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   63.216947]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   63.217434]  zap_huge_pmd+0x494/0xd40
[   63.217804]  unmap_page_range+0x1ad6/0x4320
[   63.218368]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   63.218863]  ? __pfx_unmap_page_range+0x10/0x10
[   63.219321]  unmap_single_vma+0x1ac/0x2d0
[   63.219719]  unmap_vmas+0x210/0x470
[   63.220076]  ? __pfx_unmap_vmas+0x10/0x10
[   63.220462]  ? __pfx_lock_release+0x10/0x10
[   63.220908]  ? lock_release+0x592/0x870
[   63.221300]  ? mas_next_slot+0x133a/0x1a50
[   63.221696]  ? __pfx_lock_release+0x10/0x10
[   63.222100]  ? mlock_drain_local+0x27f/0x4b0
[   63.222515]  exit_mmap+0x19e/0xb10
[   63.222860]  ? __pfx_exit_mmap+0x10/0x10
[   63.223252]  ? trace_hardirqs_on+0x51/0x60
[   63.223658]  ? __khugepaged_exit+0x266/0x4c0
[   63.224075]  ? kmem_cache_free+0x15d/0x420
[   63.224476]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   63.224983]  __mmput+0xd6/0x390
[   63.225302]  mmput+0x74/0x90
[   63.225591]  do_exit+0xa03/0x29f0
[   63.225921]  ? trace_hardirqs_on+0x51/0x60
[   63.226324]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   63.226899]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   63.227373]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   63.227829]  ? __pfx_do_exit+0x10/0x10
[   63.228197]  ? __audit_syscall_entry+0x39c/0x500
[   63.228646]  __x64_sys_exit+0x50/0x60
[   63.229009]  x64_sys_call+0x20c9/0x20d0
[   63.229381]  do_syscall_64+0x6d/0x140
[   63.229741]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   63.230222] RIP: 0033:0x7f8d0123ee5d
[   63.230565] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   63.231119] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.231803] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   63.232447] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.233087] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   63.233724] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   63.234362] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   63.235013]  </TASK>
[   63.235228] Modules linked in:
[   63.235790] ---[ end trace 0000000000000000 ]---
[   63.236229] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   63.236778] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   63.238412] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   63.238892] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   63.239664] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   63.240314] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   63.240959] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   63.241606] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   63.242251] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   63.242978] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   63.243606] CR2: 00007f8d016043f4 CR3: 00000000124ba003 CR4: 0000000000770ef0
[   63.244262] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   63.244903] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   63.245550] PKRU: 55555554
[   63.245811] note: repro[19300] exited with preempt_count 1
[   63.246311] Fixing recursive fault but reboot is needed!
[   63.246788] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19300
[   63.247520] caller is debug_smp_processor_id+0x20/0x30
[   63.248013] CPU: 1 UID: 0 PID: 19300 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   63.249029] Tainted: [D]=DIE, [W]=WARN
[   63.249379] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.250389] Call Trace:
[   63.250627]  <TASK>
[   63.250839]  dump_stack_lvl+0x121/0x150
[   63.251222]  dump_stack+0x19/0x20
[   63.251556]  check_preemption_disabled+0x168/0x180
[   63.252013]  debug_smp_processor_id+0x20/0x30
[   63.252429]  __schedule+0x9a/0x2eb0
[   63.252769]  ? rcu_is_watching+0x19/0xc0
[   63.253147]  ? lock_release+0x592/0x870
[   63.253515]  ? __pfx___schedule+0x10/0x10
[   63.253898]  ? debug_smp_processor_id+0x20/0x30
[   63.254328]  ? rcu_is_watching+0x19/0xc0
[   63.254706]  ? trace_irq_enable+0xe1/0x120
[   63.255106]  ? do_task_dead+0x4a/0x110
[   63.255481]  do_task_dead+0xe0/0x110
[   63.255839]  make_task_dead+0x384/0x3c0
[   63.256217]  rewind_stack_and_make_dead+0x16/0x20
[   63.256661] RIP: 0033:0x7f8d0123ee5d
[   63.257009] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   63.257567] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.258257] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   63.258898] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.259542] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   63.260183] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   63.260826] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   63.261495]  </TASK>
[   63.261891] BUG: scheduling while atomic: repro/19300/0x00000000
[   63.262453] INFO: lockdep is turned off.
[   63.262816] Modules linked in:
[   63.263113] Preemption disabled at:
[   63.263118] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   63.264055] CPU: 1 UID: 0 PID: 19300 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   63.264915] Tainted: [D]=DIE, [W]=WARN
[   63.265266] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   63.266271] Call Trace:
[   63.266511]  <TASK>
[   63.266722]  dump_stack_lvl+0x121/0x150
[   63.267099]  ? do_task_dead+0x28/0x110
[   63.267469]  dump_stack+0x19/0x20
[   63.267801]  __schedule_bug+0x12d/0x180
[   63.268180]  __schedule+0x210c/0x2eb0
[   63.268536]  ? rcu_is_watching+0x19/0xc0
[   63.268911]  ? lock_release+0x592/0x870
[   63.269283]  ? __pfx___schedule+0x10/0x10
[   63.269668]  ? debug_smp_processor_id+0x20/0x30
[   63.270098]  ? rcu_is_watching+0x19/0xc0
[   63.270472]  ? trace_irq_enable+0xe1/0x120
[   63.270870]  ? do_task_dead+0x4a/0x110
[   63.271240]  do_task_dead+0xe0/0x110
[   63.271598]  make_task_dead+0x384/0x3c0
[   63.271975]  rewind_stack_and_make_dead+0x16/0x20
[   63.272462] RIP: 0033:0x7f8d0123ee5d
[   63.272922] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   63.273650] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   63.274342] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   63.274979] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   63.275607] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   63.276239] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   63.276867] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   63.277519]  </TASK>
[   64.397844] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#71] PREEMPT SMP KASAN NOPTI
[   64.398948] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.399631] CPU: 1 UID: 0 PID: 19948 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   64.400890] Tainted: [D]=DIE, [W]=WARN
[   64.401254] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.402264] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.402809] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.404433] RSP: 0018:ffff88801eb477d8 EFLAGS: 00010202
[   64.404910] RAX: dffffc0000000000 RBX: ffffea00004e35c0 RCX: ffffffff81b9e779
[   64.405555] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004e35d0
[   64.406577] RBP: ffff88801eb477f8 R08: 0000000000000000 R09: ffffed10032657bc
[   64.407214] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.407847] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801932bde0
[   64.408499] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.409214] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.409734] CR2: 00007f8d01615000 CR3: 000000001e9ec002 CR4: 0000000000770ef0
[   64.410743] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.411385] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.412027] PKRU: 55555554
[   64.412283] Call Trace:
[   64.412520]  <TASK>
[   64.412731]  ? show_regs+0xa8/0xc0
[   64.413083]  ? die_addr+0x5d/0xf0
[   64.413419]  ? exc_general_protection+0x1ae/0x340
[   64.413879]  ? asm_exc_general_protection+0x2b/0x30
[   64.414627]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   64.415171]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.415654]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   64.416142]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   64.416626]  zap_huge_pmd+0x494/0xd40
[   64.417000]  unmap_page_range+0x1ad6/0x4320
[   64.417424]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   64.417900]  ? __pfx_unmap_page_range+0x10/0x10
[   64.418603]  unmap_single_vma+0x1ac/0x2d0
[   64.419117]  unmap_vmas+0x210/0x470
[   64.419472]  ? __pfx_unmap_vmas+0x10/0x10
[   64.419861]  ? __pfx_lock_release+0x10/0x10
[   64.420259]  ? lock_release+0x592/0x870
[   64.420624]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   64.421094]  ? __pfx_lock_release+0x10/0x10
[   64.421496]  ? mlock_drain_local+0x27f/0x4b0
[   64.421917]  exit_mmap+0x19e/0xb10
[   64.422271]  ? __pfx_exit_mmap+0x10/0x10
[   64.422891]  ? trace_hardirqs_on+0x51/0x60
[   64.423352]  ? __khugepaged_exit+0x266/0x4c0
[   64.423788]  ? kmem_cache_free+0x15d/0x420
[   64.424218]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   64.424725]  __mmput+0xd6/0x390
[   64.425043]  mmput+0x74/0x90
[   64.425335]  do_exit+0xa03/0x29f0
[   64.425667]  ? trace_hardirqs_on+0x51/0x60
[   64.426071]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   64.426642]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   64.427299]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   64.427757]  ? __pfx_do_exit+0x10/0x10
[   64.428132]  ? __audit_syscall_entry+0x39c/0x500
[   64.428580]  __x64_sys_exit+0x50/0x60
[   64.428946]  x64_sys_call+0x20c9/0x20d0
[   64.429316]  do_syscall_64+0x6d/0x140
[   64.429684]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   64.430196] RIP: 0033:0x7f8d0123ee5d
[   64.430553] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   64.431481] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.432193] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   64.432847] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.433503] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   64.434152] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   64.434789] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   64.435445]  </TASK>
[   64.435664] Modules linked in:
[   64.436039] ---[ end trace 0000000000000000 ]---
[   64.436485] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.437363] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.439043] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   64.439794] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   64.440463] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   64.441239] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   64.442027] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   64.442669] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   64.443311] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   64.444266] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.444814] CR2: 00007f8d01615000 CR3: 000000001e9ec002 CR4: 0000000000770ef0
[   64.445811] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.446433] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.447046] PKRU: 55555554
[   64.447292] note: repro[19948] exited with preempt_count 1
[   64.447939] Fixing recursive fault but reboot is needed!
[   64.448404] BUG: using smp_processor_id() in preemptible [00000000] code: repro/19948
[   64.449170] caller is debug_smp_processor_id+0x20/0x30
[   64.449904] CPU: 1 UID: 0 PID: 19948 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   64.450730] Tainted: [D]=DIE, [W]=WARN
[   64.451085] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.452053] Call Trace:
[   64.452283]  <TASK>
[   64.452478]  dump_stack_lvl+0x121/0x150
[   64.452839]  dump_stack+0x19/0x20
[   64.453159]  check_preemption_disabled+0x168/0x180
[   64.453588]  debug_smp_processor_id+0x20/0x30
[   64.453987]  __schedule+0x9a/0x2eb0
[   64.454302]  ? rcu_is_watching+0x19/0xc0
[   64.454643]  ? lock_release+0x592/0x870
[   64.454983]  ? __pfx___schedule+0x10/0x10
[   64.455632]  ? debug_smp_processor_id+0x20/0x30
[   64.456196]  ? rcu_is_watching+0x19/0xc0
[   64.456539]  ? trace_irq_enable+0xe1/0x120
[   64.456906]  ? do_task_dead+0x4a/0x110
[   64.457248]  do_task_dead+0xe0/0x110
[   64.457575]  make_task_dead+0x384/0x3c0
[   64.457917]  rewind_stack_and_make_dead+0x16/0x20
[   64.458325] RIP: 0033:0x7f8d0123ee5d
[   64.458635] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   64.459140] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.460222] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   64.460803] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.461385] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   64.461961] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   64.462510] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   64.463078]  </TASK>
[   64.463335] BUG: scheduling while atomic: repro/19948/0x00000000
[   64.464073] INFO: lockdep is turned off.
[   64.464462] Modules linked in:
[   64.464717] Preemption disabled at:
[   64.464722] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   64.465440] CPU: 1 UID: 0 PID: 19948 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   64.466240] Tainted: [D]=DIE, [W]=WARN
[   64.467287] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.468198] Call Trace:
[   64.468406]  <TASK>
[   64.468594]  dump_stack_lvl+0x121/0x150
[   64.468942]  ? do_task_dead+0x28/0x110
[   64.469296]  dump_stack+0x19/0x20
[   64.469592]  __schedule_bug+0x12d/0x180
[   64.469938]  __schedule+0x210c/0x2eb0
[   64.470250]  ? rcu_is_watching+0x19/0xc0
[   64.470584]  ? lock_release+0x592/0x870
[   64.470915]  ? __pfx___schedule+0x10/0x10
[   64.471276]  ? debug_smp_processor_id+0x20/0x30
[   64.471650]  ? rcu_is_watching+0x19/0xc0
[   64.471964]  ? trace_irq_enable+0xe1/0x120
[   64.472305]  ? do_task_dead+0x4a/0x110
[   64.472618]  do_task_dead+0xe0/0x110
[   64.472914]  make_task_dead+0x384/0x3c0
[   64.473240]  rewind_stack_and_make_dead+0x16/0x20
[   64.473610] RIP: 0033:0x7f8d0123ee5d
[   64.473957] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   64.474663] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   64.475300] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   64.475836] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   64.476374] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   64.476914] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   64.477454] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   64.477975]  </TASK>
[   64.985199] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#72] PREEMPT SMP KASAN NOPTI
[   64.986309] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   64.986991] CPU: 0 UID: 0 PID: 20268 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   64.987925] Tainted: [D]=DIE, [W]=WARN
[   64.988282] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   64.989278] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   64.989814] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   64.991430] RSP: 0018:ffff8880200077d8 EFLAGS: 00010202
[   64.991907] RAX: dffffc0000000000 RBX: ffffea0000694b80 RCX: ffffffff81b9e779
[   64.992546] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000694b90
[   64.993182] RBP: ffff8880200077f8 R08: 0000000000000000 R09: ffffed1001d73ec0
[   64.993809] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   64.994441] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800eb9f600
[   64.995074] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   64.995801] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   64.996343] CR2: 00007f8d016043f4 CR3: 0000000020018005 CR4: 0000000000770ef0
[   64.997006] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   64.997652] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   64.998301] PKRU: 55555554
[   64.998564] Call Trace:
[   64.998801]  <TASK>
[   64.999019]  ? show_regs+0xa8/0xc0
[   64.999358]  ? die_addr+0x5d/0xf0
[   64.999695]  ? exc_general_protection+0x1ae/0x340
[   65.000163]  ? asm_exc_general_protection+0x2b/0x30
[   65.000640]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.001141]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.001629]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.002121]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.002615]  zap_huge_pmd+0x494/0xd40
[   65.002983]  unmap_page_range+0x1ad6/0x4320
[   65.003408]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.003891]  ? __pfx_unmap_page_range+0x10/0x10
[   65.004356]  unmap_single_vma+0x1ac/0x2d0
[   65.004755]  unmap_vmas+0x210/0x470
[   65.005113]  ? __pfx_unmap_vmas+0x10/0x10
[   65.005515]  ? __pfx_lock_release+0x10/0x10
[   65.005916]  ? lock_release+0x592/0x870
[   65.006288]  ? mas_next_slot+0x133a/0x1a50
[   65.006688]  ? __pfx_lock_release+0x10/0x10
[   65.007101]  ? mlock_drain_local+0x27f/0x4b0
[   65.007522]  exit_mmap+0x19e/0xb10
[   65.007871]  ? __pfx_exit_mmap+0x10/0x10
[   65.008270]  ? trace_hardirqs_on+0x51/0x60
[   65.008706]  ? __khugepaged_exit+0x266/0x4c0
[   65.009169]  ? kmem_cache_free+0x15d/0x420
[   65.009576]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.010092]  __mmput+0xd6/0x390
[   65.010412]  mmput+0x74/0x90
[   65.010707]  do_exit+0xa03/0x29f0
[   65.011051]  ? trace_hardirqs_on+0x51/0x60
[   65.011561]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.012204]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.012668]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.013143]  ? __pfx_do_exit+0x10/0x10
[   65.013586]  ? __audit_syscall_entry+0x39c/0x500
[   65.014033]  __x64_sys_exit+0x50/0x60
[   65.014390]  x64_sys_call+0x20c9/0x20d0
[   65.014755]  do_syscall_64+0x6d/0x140
[   65.015122]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.015605] RIP: 0033:0x7f8d0123ee5d
[   65.015955] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.016517] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.017287] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.017940] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.018582] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.019264] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.019958] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.020630]  </TASK>
[   65.020854] Modules linked in:
[   65.021344] ---[ end trace 0000000000000000 ]---
[   65.021784] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.022374] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.024270] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   65.024765] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   65.025420] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   65.026082] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   65.026739] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.027402] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   65.027530] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#73] PREEMPT SMP KASAN NOPTI
[   65.028061] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.029134] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.029859] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.030550] CPU: 1 UID: 0 PID: 20292 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.031061] CR2: 00007f8d016043f4 CR3: 0000000020018005 CR4: 0000000000770ef0
[   65.032260] Tainted: [D]=DIE, [W]=WARN
[   65.032923] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.033275] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.033913] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.034961] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.035620] PKRU: 55555554
[   65.036123] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.036384] note: repro[20268] exited with preempt_count 1
[   65.038509] RSP: 0018:ffff88801461f7d8 EFLAGS: 00010202
[   65.039084] Fixing recursive fault but reboot is needed!
[   65.039085] 
[   65.039093] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20268
[   65.039563] RAX: dffffc0000000000 RBX: ffffea0000690f40 RCX: ffffffff81b9e779
[   65.039577] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000690f50
[   65.040063] caller is debug_smp_processor_id+0x20/0x30
[   65.040224] RBP: ffff88801461f7f8 R08: 0000000000000000 R09: ffffed100327cb50
[   65.040923] CPU: 0 UID: 0 PID: 20268 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.041567] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.042231] Tainted: [D]=DIE, [W]=WARN
[   65.042695] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880193e5a80
[   65.043348] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.044192] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.044985] Call Trace:
[   65.045331] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.045992]  <TASK>
[   65.046995] CR2: 00007f61576a0008 CR3: 0000000011bbe004 CR4: 0000000000770ef0
[   65.047715]  dump_stack_lvl+0x121/0x150
[   65.047947] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.048467]  dump_stack+0x19/0x20
[   65.048670] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.049312]  check_preemption_disabled+0x168/0x180
[   65.049662] PKRU: 55555554
[   65.050316]  debug_smp_processor_id+0x20/0x30
[   65.050628] Call Trace:
[   65.051275]  __schedule+0x9a/0x2eb0
[   65.051713]  <TASK>
[   65.051975]  ? rcu_is_watching+0x19/0xc0
[   65.052370]  ? show_regs+0xa8/0xc0
[   65.052602]  ? lock_release+0x592/0x870
[   65.052926]  ? die_addr+0x5d/0xf0
[   65.053139]  ? __pfx___schedule+0x10/0x10
[   65.053503]  ? exc_general_protection+0x1ae/0x340
[   65.053822]  ? debug_smp_processor_id+0x20/0x30
[   65.054183]  ? asm_exc_general_protection+0x2b/0x30
[   65.054480]  ? rcu_is_watching+0x19/0xc0
[   65.054856]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.055286]  ? trace_irq_enable+0xe1/0x120
[   65.055699]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.056147]  ? do_task_dead+0x4a/0x110
[   65.056508]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.057039]  do_task_dead+0xe0/0x110
[   65.057411]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.057880]  make_task_dead+0x384/0x3c0
[   65.058224]  zap_huge_pmd+0x494/0xd40
[   65.058694]  rewind_stack_and_make_dead+0x16/0x20
[   65.059023]  unmap_page_range+0x1ad6/0x4320
[   65.059485] RIP: 0033:0x7f8d0123ee5d
[   65.059855]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.060216] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.060648]  ? __pfx_unmap_page_range+0x10/0x10
[   65.061035] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   65.061376]  unmap_single_vma+0x1ac/0x2d0
[   65.061862]  ORIG_RAX: 000000000000003c
[   65.062432]  unmap_vmas+0x210/0x470
[   65.062841] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.063598]  ? __pfx_unmap_vmas+0x10/0x10
[   65.063959] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.064320]  ? __pfx_lock_release+0x10/0x10
[   65.064643] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.065287]  ? lock_release+0x592/0x870
[   65.065657] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.066296]  ? mas_next_slot+0x133a/0x1a50
[   65.066676] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.067499]  ? __pfx_lock_release+0x10/0x10
[   65.067862]  </TASK>
[   65.068568]  ? mlock_drain_local+0x27f/0x4b0
[   65.070582]  exit_mmap+0x19e/0xb10
[   65.070973]  ? __pfx_exit_mmap+0x10/0x10
[   65.071541]  ? trace_hardirqs_on+0x51/0x60
[   65.072178]  ? __khugepaged_exit+0x266/0x4c0
[   65.072608]  ? kmem_cache_free+0x15d/0x420
[   65.073028]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.073552]  __mmput+0xd6/0x390
[   65.073873]  mmput+0x74/0x90
[   65.074172]  do_exit+0xa03/0x29f0
[   65.074507]  ? trace_hardirqs_on+0x51/0x60
[   65.074942]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.075538]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.076011]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.076478]  ? __pfx_do_exit+0x10/0x10
[   65.076856]  ? __audit_syscall_entry+0x39c/0x500
[   65.077332]  __x64_sys_exit+0x50/0x60
[   65.077702]  x64_sys_call+0x20c9/0x20d0
[   65.078089]  do_syscall_64+0x6d/0x140
[   65.078466]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.078962] RIP: 0033:0x7f8d0123ee5d
[   65.079321] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.079897] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.080611] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.081280] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.082195] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.083011] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.083684] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.084362]  </TASK>
[   65.084593] Modules linked in:
[   65.085125] ---[ end trace 0000000000000000 ]---
[   65.085573] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.086133] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.087962] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   65.088745] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   65.089409] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   65.090063] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   65.090721] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.091415] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   65.092185] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.093173] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.093739] CR2: 00007f61576a0008 CR3: 0000000011bbe004 CR4: 0000000000770ef0
[   65.094463] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.095137] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.095829] PKRU: 55555554
[   65.096120] note: repro[20292] exited with preempt_count 1
[   65.096631] Fixing recursive fault but reboot is needed!
[   65.097124] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20292
[   65.098005] caller is debug_smp_processor_id+0x20/0x30
[   65.098514] CPU: 1 UID: 0 PID: 20292 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.099416] Tainted: [D]=DIE, [W]=WARN
[   65.099782] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.100812] Call Trace:
[   65.101053]  <TASK>
[   65.101262]  dump_stack_lvl+0x121/0x150
[   65.101716]  dump_stack+0x19/0x20
[   65.101839] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#74] PREEMPT SMP KASAN NOPTI
[   65.102103]  check_preemption_disabled+0x168/0x180
[   65.103186] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.103625]  debug_smp_processor_id+0x20/0x30
[   65.104307] CPU: 0 UID: 0 PID: 20332 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.104700]  __schedule+0x9a/0x2eb0
[   65.105545] Tainted: [D]=DIE, [W]=WARN
[   65.105883]  ? rcu_is_watching+0x19/0xc0
[   65.106227] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.106590]  ? lock_release+0x592/0x870
[   65.107597] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.107953]  ? __pfx___schedule+0x10/0x10
[   65.108469] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.108835]  ? debug_smp_processor_id+0x20/0x30
[   65.110466] RSP: 0018:ffff8880295577d8 EFLAGS: 00010202
[   65.110878]  ? rcu_is_watching+0x19/0xc0
[   65.111355] RAX: dffffc0000000000 RBX: ffffea0000a58080 RCX: ffffffff81b9e779
[   65.111717]  ? trace_irq_enable+0xe1/0x120
[   65.112358] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000a58090
[   65.112734]  ? do_task_dead+0x4a/0x110
[   65.113377] RBP: ffff8880295577f8 R08: 0000000000000000 R09: ffffed1001f5e2f0
[   65.113727]  do_task_dead+0xe0/0x110
[   65.114373] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.114709]  make_task_dead+0x384/0x3c0
[   65.115347] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800faf1780
[   65.115696]  rewind_stack_and_make_dead+0x16/0x20
[   65.116337] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.116772] RIP: 0033:0x7f8d0123ee5d
[   65.117496] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.117825] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.118348] CR2: 00007fff009568f8 CR3: 0000000020f16004 CR4: 0000000000770ef0
[   65.118900] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.119553] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.119566] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.120237] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.120928] PKRU: 55555554
[   65.121574] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.122289] Call Trace:
[   65.122545] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.123205]  <TASK>
[   65.123447] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.124092]  ? show_regs+0xa8/0xc0
[   65.124292] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.124943]  ? die_addr+0x5d/0xf0
[   65.125274]  </TASK>
[   65.125919]  ? exc_general_protection+0x1ae/0x340
[   65.126881]  ? asm_exc_general_protection+0x2b/0x30
[   65.127363]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.127849]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.128335]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.128818]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.129302]  zap_huge_pmd+0x494/0xd40
[   65.129666]  unmap_page_range+0x1ad6/0x4320
[   65.130087]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.130567]  ? __pfx_unmap_page_range+0x10/0x10
[   65.131022]  unmap_single_vma+0x1ac/0x2d0
[   65.131421]  unmap_vmas+0x210/0x470
[   65.131774]  ? __pfx_unmap_vmas+0x10/0x10
[   65.132162]  ? __pfx_lock_release+0x10/0x10
[   65.132558]  ? lock_release+0x592/0x870
[   65.132925]  ? mas_next_slot+0x133a/0x1a50
[   65.133324]  ? __pfx_lock_release+0x10/0x10
[   65.133725]  ? mlock_drain_local+0x27f/0x4b0
[   65.134137]  exit_mmap+0x19e/0xb10
[   65.134479]  ? __pfx_exit_mmap+0x10/0x10
[   65.134865]  ? trace_hardirqs_on+0x51/0x60
[   65.135271]  ? __khugepaged_exit+0x266/0x4c0
[   65.135678]  ? kmem_cache_free+0x15d/0x420
[   65.136076]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.136578]  __mmput+0xd6/0x390
[   65.136889]  mmput+0x74/0x90
[   65.137181]  do_exit+0xa03/0x29f0
[   65.137509]  ? trace_hardirqs_on+0x51/0x60
[   65.137906]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.138484]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.138946]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.139404]  ? __pfx_do_exit+0x10/0x10
[   65.139767]  ? __audit_syscall_entry+0x39c/0x500
[   65.140213]  __x64_sys_exit+0x50/0x60
[   65.140570]  x64_sys_call+0x20c9/0x20d0
[   65.140939]  do_syscall_64+0x6d/0x140
[   65.141302]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.141778] RIP: 0033:0x7f8d0123ee5d
[   65.142120] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.142667] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.143349] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.143997] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.144635] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.145272] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.145902] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.146553]  </TASK>
[   65.146769] Modules linked in:
[   65.147281] ---[ end trace 0000000000000000 ]---
[   65.147834] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.148383] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.150024] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   65.150504] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   65.151147] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   65.151906] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   65.152557] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.153196] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   65.153835] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   65.154560] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.155090] CR2: 00007fff009568f8 CR3: 0000000020f16004 CR4: 0000000000770ef0
[   65.155918] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.156571] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.157368] PKRU: 55555554
[   65.157635] note: repro[20332] exited with preempt_count 1
[   65.158135] Fixing recursive fault but reboot is needed!
[   65.158614] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20332
[   65.159433] caller is debug_smp_processor_id+0x20/0x30
[   65.159919] CPU: 0 UID: 0 PID: 20332 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.160773] Tainted: [D]=DIE, [W]=WARN
[   65.161135] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.162146] Call Trace:
[   65.162449]  <TASK>
[   65.162669]  dump_stack_lvl+0x121/0x150
[   65.163053]  dump_stack+0x19/0x20
[   65.163386]  check_preemption_disabled+0x168/0x180
[   65.163839]  debug_smp_processor_id+0x20/0x30
[   65.164257]  __schedule+0x9a/0x2eb0
[   65.164596]  ? rcu_is_watching+0x19/0xc0
[   65.164975]  ? lock_release+0x592/0x870
[   65.165349]  ? __pfx___schedule+0x10/0x10
[   65.165731]  ? debug_smp_processor_id+0x20/0x30
[   65.166165]  ? rcu_is_watching+0x19/0xc0
[   65.166541]  ? trace_irq_enable+0xe1/0x120
[   65.166944]  ? do_task_dead+0x4a/0x110
[   65.167311]  do_task_dead+0xe0/0x110
[   65.167673]  make_task_dead+0x384/0x3c0
[   65.168052]  rewind_stack_and_make_dead+0x16/0x20
[   65.168498] RIP: 0033:0x7f8d0123ee5d
[   65.168837] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.169404] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.170089] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.170733] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.171454] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.172181] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.172825] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.173549]  </TASK>
[   65.173972] BUG: scheduling while atomic: repro/20332/0x00000000
[   65.174609] INFO: lockdep is turned off.
[   65.174974] Modules linked in:
[   65.175268] Preemption disabled at:
[   65.175274] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   65.176231] CPU: 0 UID: 0 PID: 20332 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.177046] Tainted: [D]=DIE, [W]=WARN
[   65.177379] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.178327] Call Trace:
[   65.178550]  <TASK>
[   65.178748]  dump_stack_lvl+0x121/0x150
[   65.179109]  ? do_task_dead+0x28/0x110
[   65.179459]  dump_stack+0x19/0x20
[   65.179773]  __schedule_bug+0x12d/0x180
[   65.180130]  __schedule+0x210c/0x2eb0
[   65.180464]  ? rcu_is_watching+0x19/0xc0
[   65.180816]  ? lock_release+0x592/0x870
[   65.181166]  ? __pfx___schedule+0x10/0x10
[   65.181529]  ? debug_smp_processor_id+0x20/0x30
[   65.181938]  ? rcu_is_watching+0x19/0xc0
[   65.182293]  ? trace_irq_enable+0xe1/0x120
[   65.182673]  ? do_task_dead+0x4a/0x110
[   65.183026]  do_task_dead+0xe0/0x110
[   65.183364]  make_task_dead+0x384/0x3c0
[   65.183721]  rewind_stack_and_make_dead+0x16/0x20
[   65.184220] RIP: 0033:0x7f8d0123ee5d
[   65.184573] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.185262] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.185894] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.186479] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.187063] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.187644] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.188225] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.188816]  </TASK>
[   65.677235] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#75] PREEMPT SMP KASAN NOPTI
[   65.678369] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.679053] CPU: 1 UID: 0 PID: 20560 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.679905] Tainted: [D]=DIE, [W]=WARN
[   65.680249] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.681273] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.681853] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.683487] RSP: 0018:ffff8880202477d8 EFLAGS: 00010202
[   65.683967] RAX: dffffc0000000000 RBX: ffffea0000441940 RCX: ffffffff81b9e779
[   65.684613] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000441950
[   65.685257] RBP: ffff8880202477f8 R08: 0000000000000000 R09: ffffed10027fd98c
[   65.685895] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.686535] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013fecc60
[   65.687177] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.687895] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.688419] CR2: 00007f8d01601908 CR3: 00000000200a8004 CR4: 0000000000770ef0
[   65.689064] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.689701] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.690347] PKRU: 55555554
[   65.690605] Call Trace:
[   65.690841]  <TASK>
[   65.691053]  ? show_regs+0xa8/0xc0
[   65.691391]  ? die_addr+0x5d/0xf0
[   65.691721]  ? exc_general_protection+0x1ae/0x340
[   65.692208]  ? asm_exc_general_protection+0x2b/0x30
[   65.692705]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.693220]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.693707]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.694194]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.694673]  zap_huge_pmd+0x494/0xd40
[   65.695039]  unmap_page_range+0x1ad6/0x4320
[   65.695455]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.695929]  ? __pfx_unmap_page_range+0x10/0x10
[   65.696376]  unmap_single_vma+0x1ac/0x2d0
[   65.696790]  unmap_vmas+0x210/0x470
[   65.697162]  ? __pfx_unmap_vmas+0x10/0x10
[   65.697560]  ? __pfx_lock_release+0x10/0x10
[   65.698000]  ? lock_release+0x592/0x870
[   65.698382]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   65.698845]  ? __pfx_lock_release+0x10/0x10
[   65.699249]  ? mlock_drain_local+0x27f/0x4b0
[   65.699663]  exit_mmap+0x19e/0xb10
[   65.700007]  ? __pfx_exit_mmap+0x10/0x10
[   65.700397]  ? trace_hardirqs_on+0x51/0x60
[   65.700799]  ? __khugepaged_exit+0x266/0x4c0
[   65.701214]  ? kmem_cache_free+0x15d/0x420
[   65.701620]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.702160]  __mmput+0xd6/0x390
[   65.702478]  mmput+0x74/0x90
[   65.702767]  do_exit+0xa03/0x29f0
[   65.703088]  ? trace_hardirqs_on+0x51/0x60
[   65.703462]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.704004]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.704434]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.704860]  ? __pfx_do_exit+0x10/0x10
[   65.705207]  ? __audit_syscall_entry+0x39c/0x500
[   65.705643]  __x64_sys_exit+0x50/0x60
[   65.706004]  x64_sys_call+0x20c9/0x20d0
[   65.706373]  do_syscall_64+0x6d/0x140
[   65.706748]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.707228] RIP: 0033:0x7f8d0123ee5d
[   65.707584] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.708123] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.708763] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.709367] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.709947] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.710519] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.711097] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.711684]  </TASK>
[   65.711878] Modules linked in:
[   65.712204] ---[ end trace 0000000000000000 ]---
[   65.712593] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.713082] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.714551] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   65.714999] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   65.715695] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   65.716280] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   65.716883] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.717479] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   65.718056] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.718675] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.719129] CR2: 00007f8d01601908 CR3: 00000000200a8004 CR4: 0000000000770ef0
[   65.719795] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.720360] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.720913] PKRU: 55555554
[   65.721144] note: repro[20560] exited with preempt_count 1
[   65.721573] Fixing recursive fault but reboot is needed!
[   65.721976] BUG: using smp_processor_id() in preemptible [00000000] code: repro/20560
[   65.722564] caller is debug_smp_processor_id+0x20/0x30
[   65.723001] CPU: 1 UID: 0 PID: 20560 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.723774] Tainted: [D]=DIE, [W]=WARN
[   65.724082] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.724976] Call Trace:
[   65.725186]  <TASK>
[   65.725373]  dump_stack_lvl+0x121/0x150
[   65.725723]  dump_stack+0x19/0x20
[   65.726062]  check_preemption_disabled+0x168/0x180
[   65.726536]  debug_smp_processor_id+0x20/0x30
[   65.726991]  __schedule+0x9a/0x2eb0
[   65.727353]  ? rcu_is_watching+0x19/0xc0
[   65.727759]  ? lock_release+0x592/0x870
[   65.728136]  ? __pfx___schedule+0x10/0x10
[   65.728538]  ? debug_smp_processor_id+0x20/0x30
[   65.728995]  ? rcu_is_watching+0x19/0xc0
[   65.729395]  ? trace_irq_enable+0xe1/0x120
[   65.729831]  ? do_task_dead+0x4a/0x110
[   65.730207]  do_task_dead+0xe0/0x110
[   65.730565]  make_task_dead+0x384/0x3c0
[   65.730965]  rewind_stack_and_make_dead+0x16/0x20
[   65.731409] RIP: 0033:0x7f8d0123ee5d
[   65.731710] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.732204] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.732783] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.733337] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.733875] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.734419] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.734960] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.735513]  </TASK>
[   65.735751] BUG: scheduling while atomic: repro/20560/0x00000000
[   65.736194] INFO: lockdep is turned off.
[   65.736486] Modules linked in:
[   65.736719] Preemption disabled at:
[   65.736724] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   65.737381] CPU: 1 UID: 0 PID: 20560 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.738058] Tainted: [D]=DIE, [W]=WARN
[   65.738338] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.739159] Call Trace:
[   65.739399]  <TASK>
[   65.739612]  dump_stack_lvl+0x121/0x150
[   65.740001]  ? do_task_dead+0x28/0x110
[   65.740376]  dump_stack+0x19/0x20
[   65.740711]  __schedule_bug+0x12d/0x180
[   65.741120]  __schedule+0x210c/0x2eb0
[   65.741480]  ? rcu_is_watching+0x19/0xc0
[   65.741880]  ? lock_release+0x592/0x870
[   65.742293]  ? __pfx___schedule+0x10/0x10
[   65.742717]  ? debug_smp_processor_id+0x20/0x30
[   65.743187]  ? rcu_is_watching+0x19/0xc0
[   65.743576]  ? trace_irq_enable+0xe1/0x120
[   65.743988]  ? do_task_dead+0x4a/0x110
[   65.744366]  do_task_dead+0xe0/0x110
[   65.744726]  make_task_dead+0x384/0x3c0
[   65.745111]  rewind_stack_and_make_dead+0x16/0x20
[   65.745558] RIP: 0033:0x7f8d0123ee5d
[   65.745906] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.746472] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.747179] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.747843] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.748496] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.749147] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.749794] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.750466]  </TASK>
[   65.931589] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#76] PREEMPT SMP KASAN NOPTI
[   65.932754] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   65.933434] CPU: 1 UID: 0 PID: 20667 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.934288] Tainted: [D]=DIE, [W]=WARN
[   65.934631] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.935633] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.936177] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.937789] RSP: 0018:ffff8880297777d8 EFLAGS: 00010202
[   65.938272] RAX: dffffc0000000000 RBX: ffffea0000580f00 RCX: ffffffff81b9e779
[   65.938910] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000580f10
[   65.939551] RBP: ffff8880297777f8 R08: 0000000000000000 R09: ffffed10038277c8
[   65.940189] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   65.940822] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c13be40
[   65.941457] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.942178] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.942699] CR2: 00007f8d015dfef8 CR3: 000000000e7c2001 CR4: 0000000000770ef0
[   65.943345] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.943987] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.944625] PKRU: 55555554
[   65.944880] Call Trace:
[   65.945119]  <TASK>
[   65.945329]  ? show_regs+0xa8/0xc0
[   65.945668]  ? die_addr+0x5d/0xf0
[   65.946001]  ? exc_general_protection+0x1ae/0x340
[   65.946460]  ? asm_exc_general_protection+0x2b/0x30
[   65.946930]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   65.947424]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.947907]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   65.948393]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   65.948875]  zap_huge_pmd+0x494/0xd40
[   65.949243]  unmap_page_range+0x1ad6/0x4320
[   65.949661]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   65.950140]  ? __pfx_unmap_page_range+0x10/0x10
[   65.950585]  unmap_single_vma+0x1ac/0x2d0
[   65.950979]  unmap_vmas+0x210/0x470
[   65.951327]  ? __pfx_unmap_vmas+0x10/0x10
[   65.951732]  ? __pfx_lock_release+0x10/0x10
[   65.952144]  ? lock_release+0x592/0x870
[   65.952515]  ? mas_next_slot+0x133a/0x1a50
[   65.952911]  ? __pfx_lock_release+0x10/0x10
[   65.953316]  ? mlock_drain_local+0x27f/0x4b0
[   65.953732]  exit_mmap+0x19e/0xb10
[   65.954080]  ? __pfx_exit_mmap+0x10/0x10
[   65.954467]  ? trace_hardirqs_on+0x51/0x60
[   65.954870]  ? __khugepaged_exit+0x266/0x4c0
[   65.955284]  ? kmem_cache_free+0x15d/0x420
[   65.955681]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   65.956260]  __mmput+0xd6/0x390
[   65.956591]  mmput+0x74/0x90
[   65.956883]  do_exit+0xa03/0x29f0
[   65.957226]  ? trace_hardirqs_on+0x51/0x60
[   65.957657]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   65.958257]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   65.958723]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   65.959200]  ? __pfx_do_exit+0x10/0x10
[   65.959582]  ? __audit_syscall_entry+0x39c/0x500
[   65.960037]  __x64_sys_exit+0x50/0x60
[   65.960405]  x64_sys_call+0x20c9/0x20d0
[   65.960788]  do_syscall_64+0x6d/0x140
[   65.961161]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   65.961654] RIP: 0033:0x7f8d0123ee5d
[   65.962009] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.962582] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.963292] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.963943] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.964593] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.965240] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.965887] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.966555]  </TASK>
[   65.966776] Modules linked in:
[   65.967532] ---[ end trace 0000000000000000 ]---
[   65.968123] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   65.968743] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   65.970408] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   65.970895] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   65.971684] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   65.972349] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   65.973006] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   65.973658] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   65.974330] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   65.975074] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   65.975635] CR2: 00007f8d015dfef8 CR3: 000000000e7c2001 CR4: 0000000000770ef0
[   65.976308] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   65.977218] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   65.977875] PKRU: 55555554
[   65.978142] note: repro[20667] exited with preempt_count 1
[   65.978755] Fixing recursive fault but reboot is needed!
[   65.979251] BUG: scheduling while atomic: repro/20667/0x00000000
[   65.979837] INFO: lockdep is turned off.
[   65.980209] Modules linked in:
[   65.980509] Preemption disabled at:
[   65.980514] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   65.981357] CPU: 1 UID: 0 PID: 20667 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   65.982240] Tainted: [D]=DIE, [W]=WARN
[   65.982631] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   65.983772] Call Trace:
[   65.984016]  <TASK>
[   65.984234]  dump_stack_lvl+0x121/0x150
[   65.984611]  ? do_task_dead+0x28/0x110
[   65.984997]  dump_stack+0x19/0x20
[   65.985334]  __schedule_bug+0x12d/0x180
[   65.985712]  __schedule+0x210c/0x2eb0
[   65.986084]  ? rcu_is_watching+0x19/0xc0
[   65.986566]  ? lock_release+0x592/0x870
[   65.986949]  ? __pfx___schedule+0x10/0x10
[   65.987344]  ? debug_smp_processor_id+0x20/0x30
[   65.987784]  ? rcu_is_watching+0x19/0xc0
[   65.988160]  ? trace_irq_enable+0xe1/0x120
[   65.988638]  ? do_task_dead+0x4a/0x110
[   65.989019]  do_task_dead+0xe0/0x110
[   65.989381]  make_task_dead+0x384/0x3c0
[   65.989767]  rewind_stack_and_make_dead+0x16/0x20
[   65.990228] RIP: 0033:0x7f8d0123ee5d
[   65.990608] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   65.991275] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   65.991974] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   65.992625] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   65.993428] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   65.994083] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   65.994821] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   65.995490]  </TASK>
[   65.998453] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#77] PREEMPT SMP KASAN NOPTI
[   65.999793] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.000494] CPU: 1 UID: 0 PID: 20679 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   66.001382] Tainted: [D]=DIE, [W]=WARN
[   66.001735] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.002858] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.003454] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.005381] RSP: 0018:ffff888020e5f7d8 EFLAGS: 00010202
[   66.005920] RAX: dffffc0000000000 RBX: ffffea0000647640 RCX: ffffffff81b9e779
[   66.006621] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000647650
[   66.007323] RBP: ffff888020e5f7f8 R08: 0000000000000000 R09: ffffed100286df14
[   66.007976] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   66.008633] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801436f8a0
[   66.009425] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.010160] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.010728] CR2: 00007f474c00b068 CR3: 0000000029408006 CR4: 0000000000770ef0
[   66.011500] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.012156] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.012846] PKRU: 55555554
[   66.013171] Call Trace:
[   66.013413]  <TASK>
[   66.013627]  ? show_regs+0xa8/0xc0
[   66.013976]  ? die_addr+0x5d/0xf0
[   66.014319]  ? exc_general_protection+0x1ae/0x340
[   66.014938]  ? asm_exc_general_protection+0x2b/0x30
[   66.015412]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.015907]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.016521]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.017013]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.017504]  zap_huge_pmd+0x494/0xd40
[   66.017905]  unmap_page_range+0x1ad6/0x4320
[   66.018413]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.018893]  ? __pfx_unmap_page_range+0x10/0x10
[   66.019343]  unmap_single_vma+0x1ac/0x2d0
[   66.019738]  unmap_vmas+0x210/0x470
[   66.020092]  ? __pfx_unmap_vmas+0x10/0x10
[   66.020482]  ? __pfx_lock_release+0x10/0x10
[   66.020885]  ? lock_release+0x592/0x870
[   66.021399]  ? mas_next_slot+0x133a/0x1a50
[   66.021798]  ? __pfx_lock_release+0x10/0x10
[   66.022205]  ? mlock_drain_local+0x27f/0x4b0
[   66.022622]  exit_mmap+0x19e/0xb10
[   66.022968]  ? __pfx_exit_mmap+0x10/0x10
[   66.023521]  ? trace_hardirqs_on+0x51/0x60
[   66.023940]  ? __khugepaged_exit+0x266/0x4c0
[   66.024390]  ? kmem_cache_free+0x15d/0x420
[   66.024811]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.025361]  __mmput+0xd6/0x390
[   66.025711]  mmput+0x74/0x90
[   66.026014]  do_exit+0xa03/0x29f0
[   66.026352]  ? trace_hardirqs_on+0x51/0x60
[   66.026799]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.027478]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.027947]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.028403]  ? __pfx_do_exit+0x10/0x10
[   66.028776]  ? __audit_syscall_entry+0x39c/0x500
[   66.029237]  __x64_sys_exit+0x50/0x60
[   66.029604]  x64_sys_call+0x20c9/0x20d0
[   66.029977]  do_syscall_64+0x6d/0x140
[   66.030348]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.030836] RIP: 0033:0x7f8d0123ee5d
[   66.031350] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   66.031915] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.032625] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   66.033298] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.033953] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   66.034733] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   66.035399] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   66.036075]  </TASK>
[   66.036296] Modules linked in:
[   66.036854] ---[ end trace 0000000000000000 ]---
[   66.037398] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.037954] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.039809] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   66.040312] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   66.040971] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   66.041630] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   66.042287] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.042944] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   66.043846] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.044593] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.045131] CR2: 00007f474c00b068 CR3: 0000000029408006 CR4: 0000000000770ef0
[   66.045790] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.046447] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.047113] PKRU: 55555554
[   66.047414] note: repro[20679] exited with preempt_count 1
[   66.047930] Fixing recursive fault but reboot is needed!
[   66.048466] BUG: scheduling while atomic: repro/20679/0x00000000
[   66.049030] INFO: lockdep is turned off.
[   66.049508] Modules linked in:
[   66.049807] Preemption disabled at:
[   66.049812] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   66.050657] CPU: 1 UID: 0 PID: 20679 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   66.051547] Tainted: [D]=DIE, [W]=WARN
[   66.051898] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.052947] Call Trace:
[   66.053190]  <TASK>
[   66.053407]  dump_stack_lvl+0x121/0x150
[   66.053804]  ? do_task_dead+0x28/0x110
[   66.054184]  dump_stack+0x19/0x20
[   66.054532]  __schedule_bug+0x12d/0x180
[   66.054921]  __schedule+0x210c/0x2eb0
[   66.055289]  ? rcu_is_watching+0x19/0xc0
[   66.055675]  ? lock_release+0x592/0x870
[   66.056053]  ? __pfx___schedule+0x10/0x10
[   66.056445]  ? debug_smp_processor_id+0x20/0x30
[   66.056878]  ? rcu_is_watching+0x19/0xc0
[   66.057261]  ? trace_irq_enable+0xe1/0x120
[   66.057671]  ? do_task_dead+0x4a/0x110
[   66.058051]  do_task_dead+0xe0/0x110
[   66.058414]  make_task_dead+0x384/0x3c0
[   66.058798]  rewind_stack_and_make_dead+0x16/0x20
[   66.059253] RIP: 0033:0x7f8d0123ee5d
[   66.059608] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   66.060186] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.060901] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   66.061583] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.062272] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   66.062950] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   66.063600] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   66.064273]  </TASK>
[   66.655653] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#78] PREEMPT SMP KASAN NOPTI
[   66.656821] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   66.657539] CPU: 1 UID: 0 PID: 21023 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   66.658399] Tainted: [D]=DIE, [W]=WARN
[   66.658743] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.659745] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.660290] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.661915] RSP: 0018:ffff888032c4f7d8 EFLAGS: 00010202
[   66.662398] RAX: dffffc0000000000 RBX: ffffea0000a5ffc0 RCX: ffffffff81b9e779
[   66.663036] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000a5ffd0
[   66.663672] RBP: ffff888032c4f7f8 R08: 0000000000000000 R09: ffffed1003b524b4
[   66.664314] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   66.664958] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801da925a0
[   66.665593] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.666313] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.666838] CR2: 00007fff00956878 CR3: 000000002960c006 CR4: 0000000000770ef0
[   66.667483] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.668126] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.668759] PKRU: 55555554
[   66.669019] Call Trace:
[   66.669254]  <TASK>
[   66.669465]  ? show_regs+0xa8/0xc0
[   66.669805]  ? die_addr+0x5d/0xf0
[   66.670138]  ? exc_general_protection+0x1ae/0x340
[   66.670602]  ? asm_exc_general_protection+0x2b/0x30
[   66.671075]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   66.671557]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.672043]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   66.672526]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   66.673012]  zap_huge_pmd+0x494/0xd40
[   66.673375]  unmap_page_range+0x1ad6/0x4320
[   66.673773]  ? __pfx_lock_release+0x10/0x10
[   66.674169]  ? do_raw_spin_trylock+0xbf/0x190
[   66.674586]  ? __kasan_check_read+0x15/0x20
[   66.674980]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   66.675435]  ? __pfx_unmap_page_range+0x10/0x10
[   66.675852]  unmap_single_vma+0x1ac/0x2d0
[   66.676226]  unmap_vmas+0x210/0x470
[   66.676556]  ? __pfx_unmap_vmas+0x10/0x10
[   66.676919]  ? __pfx_lock_release+0x10/0x10
[   66.677294]  ? lock_release+0x592/0x870
[   66.677639]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   66.678081]  ? __pfx_lock_release+0x10/0x10
[   66.678460]  ? mlock_drain_local+0x27f/0x4b0
[   66.678853]  exit_mmap+0x19e/0xb10
[   66.679179]  ? __pfx_exit_mmap+0x10/0x10
[   66.679548]  ? trace_hardirqs_on+0x51/0x60
[   66.679931]  ? __khugepaged_exit+0x266/0x4c0
[   66.680323]  ? kmem_cache_free+0x15d/0x420
[   66.680697]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   66.681175]  __mmput+0xd6/0x390
[   66.681470]  mmput+0x74/0x90
[   66.681743]  do_exit+0xa03/0x29f0
[   66.682057]  ? trace_hardirqs_on+0x51/0x60
[   66.682431]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   66.682951]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   66.683364]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   66.683777]  ? __pfx_do_exit+0x10/0x10
[   66.684108]  ? __audit_syscall_entry+0x39c/0x500
[   66.684507]  __x64_sys_exit+0x50/0x60
[   66.684828]  x64_sys_call+0x20c9/0x20d0
[   66.685162]  do_syscall_64+0x6d/0x140
[   66.685489]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   66.685919] RIP: 0033:0x7f8d0123ee5d
[   66.686230] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   66.686734] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.687347] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   66.687922] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.688520] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   66.689134] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   66.689751] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   66.690366]  </TASK>
[   66.690554] Modules linked in:
[   66.690949] ---[ end trace 0000000000000000 ]---
[   66.691330] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   66.691957] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   66.693397] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   66.693816] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   66.694373] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   66.694925] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   66.695627] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   66.696165] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   66.696819] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   66.697436] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   66.697878] CR2: 00007fff00956878 CR3: 000000002960c006 CR4: 0000000000770ef0
[   66.698441] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   66.698985] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   66.699669] PKRU: 55555554
[   66.699888] note: repro[21023] exited with preempt_count 1
[   66.700303] Fixing recursive fault but reboot is needed!
[   66.700699] check_preemption_disabled: 2 callbacks suppressed
[   66.700707] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21023
[   66.701743] caller is debug_smp_processor_id+0x20/0x30
[   66.702163] CPU: 1 UID: 0 PID: 21023 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   66.702874] Tainted: [D]=DIE, [W]=WARN
[   66.703156] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.703952] Call Trace:
[   66.704138]  <TASK>
[   66.704303]  dump_stack_lvl+0x121/0x150
[   66.704607]  dump_stack+0x19/0x20
[   66.704870]  check_preemption_disabled+0x168/0x180
[   66.705245]  debug_smp_processor_id+0x20/0x30
[   66.705582]  __schedule+0x9a/0x2eb0
[   66.705863]  ? rcu_is_watching+0x19/0xc0
[   66.706180]  ? lock_release+0x592/0x870
[   66.706477]  ? __pfx___schedule+0x10/0x10
[   66.706780]  ? debug_smp_processor_id+0x20/0x30
[   66.707121]  ? rcu_is_watching+0x19/0xc0
[   66.707416]  ? trace_irq_enable+0xe1/0x120
[   66.707730]  ? do_task_dead+0x4a/0x110
[   66.708019]  do_task_dead+0xe0/0x110
[   66.708289]  make_task_dead+0x384/0x3c0
[   66.708572]  rewind_stack_and_make_dead+0x16/0x20
[   66.708907] RIP: 0033:0x7f8d0123ee5d
[   66.709167] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   66.709603] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.710143] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   66.710647] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.711137] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   66.711621] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   66.712203] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   66.712697]  </TASK>
[   66.712890] BUG: scheduling while atomic: repro/21023/0x00000000
[   66.713310] INFO: lockdep is turned off.
[   66.713583] Modules linked in:
[   66.713797] Preemption disabled at:
[   66.713800] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   66.714402] CPU: 1 UID: 0 PID: 21023 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   66.715029] Tainted: [D]=DIE, [W]=WARN
[   66.715283] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   66.716018] Call Trace:
[   66.716191]  <TASK>
[   66.716343]  dump_stack_lvl+0x121/0x150
[   66.716616]  ? do_task_dead+0x28/0x110
[   66.716883]  dump_stack+0x19/0x20
[   66.717127]  __schedule_bug+0x12d/0x180
[   66.717401]  __schedule+0x210c/0x2eb0
[   66.717656]  ? rcu_is_watching+0x19/0xc0
[   66.717928]  ? lock_release+0x592/0x870
[   66.718203]  ? __pfx___schedule+0x10/0x10
[   66.718473]  ? debug_smp_processor_id+0x20/0x30
[   66.718772]  ? rcu_is_watching+0x19/0xc0
[   66.719035]  ? trace_irq_enable+0xe1/0x120
[   66.719313]  ? do_task_dead+0x4a/0x110
[   66.719570]  do_task_dead+0xe0/0x110
[   66.719817]  make_task_dead+0x384/0x3c0
[   66.720082]  rewind_stack_and_make_dead+0x16/0x20
[   66.720392] RIP: 0033:0x7f8d0123ee5d
[   66.720635] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   66.721025] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   66.721504] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   66.721953] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   66.722403] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   66.722850] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   66.723302] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   66.723740]  </TASK>
[   67.567894] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#79] PREEMPT SMP KASAN NOPTI
[   67.568997] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.569672] CPU: 1 UID: 0 PID: 21503 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   67.570535] Tainted: [D]=DIE, [W]=WARN
[   67.570882] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.571882] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.572427] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.574053] RSP: 0018:ffff888032c9f7d8 EFLAGS: 00010202
[   67.574535] RAX: dffffc0000000000 RBX: ffffea000070dd80 RCX: ffffffff81b9e779
[   67.575176] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000070dd90
[   67.575810] RBP: ffff888032c9f7f8 R08: 0000000000000000 R09: ffffed100381a3bc
[   67.576448] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.577089] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c0d1de0
[   67.577725] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   67.578448] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.578974] CR2: 00007fff00956878 CR3: 0000000029546003 CR4: 0000000000770ef0
[   67.579615] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.580257] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.580899] PKRU: 55555554
[   67.581160] Call Trace:
[   67.581398]  <TASK>
[   67.581609]  ? show_regs+0xa8/0xc0
[   67.581953]  ? die_addr+0x5d/0xf0
[   67.582285]  ? exc_general_protection+0x1ae/0x340
[   67.582741]  ? asm_exc_general_protection+0x2b/0x30
[   67.583217]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.583703]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.584190]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.584672]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.585160]  zap_huge_pmd+0x494/0xd40
[   67.585528]  unmap_page_range+0x1ad6/0x4320
[   67.585954]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.586436]  ? __pfx_unmap_page_range+0x10/0x10
[   67.586880]  unmap_single_vma+0x1ac/0x2d0
[   67.587275]  unmap_vmas+0x210/0x470
[   67.587627]  ? __pfx_unmap_vmas+0x10/0x10
[   67.588018]  ? __pfx_lock_release+0x10/0x10
[   67.588416]  ? lock_release+0x592/0x870
[   67.588783]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   67.589250]  ? __pfx_lock_release+0x10/0x10
[   67.589651]  ? mlock_drain_local+0x27f/0x4b0
[   67.590071]  exit_mmap+0x19e/0xb10
[   67.590414]  ? __pfx_exit_mmap+0x10/0x10
[   67.590804]  ? trace_hardirqs_on+0x51/0x60
[   67.591211]  ? __khugepaged_exit+0x266/0x4c0
[   67.591624]  ? kmem_cache_free+0x15d/0x420
[   67.592029]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.592535]  __mmput+0xd6/0x390
[   67.592848]  mmput+0x74/0x90
[   67.593141]  do_exit+0xa03/0x29f0
[   67.593471]  ? trace_hardirqs_on+0x51/0x60
[   67.593868]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.594443]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.594898]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.595357]  ? __pfx_do_exit+0x10/0x10
[   67.595722]  ? __audit_syscall_entry+0x39c/0x500
[   67.596172]  __x64_sys_exit+0x50/0x60
[   67.596533]  x64_sys_call+0x20c9/0x20d0
[   67.596905]  do_syscall_64+0x6d/0x140
[   67.597271]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.597748] RIP: 0033:0x7f8d0123ee5d
[   67.598092] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   67.598647] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.599332] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   67.599976] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.600616] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   67.601258] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   67.601895] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   67.602547]  </TASK>
[   67.602763] Modules linked in:
[   67.603113] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#80] PREEMPT SMP KASAN NOPTI
[   67.603261] ---[ end trace 0000000000000000 ]---
[   67.604266] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   67.604283] CPU: 0 UID: 0 PID: 21519 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   67.604309] Tainted: [D]=DIE, [W]=WARN
[   67.604316] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.604327] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.604356] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.604373] RSP: 0018:ffff888010d677d8 EFLAGS: 00010202
[   67.604387] RAX: dffffc0000000000 RBX: ffffea0000519000 RCX: ffffffff81b9e779
[   67.604399] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000519010
[   67.604410] RBP: ffff888010d677f8 R08: 0000000000000000 R09: ffffed1003b61d74
[   67.604421] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   67.604431] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801db0eba0
[   67.604857] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.605519] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   67.606357] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.606695] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.607883] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   67.608219] CR2: 00007f8d0129bc20 CR3: 0000000012b18006 CR4: 0000000000770ef0
[   67.609840] 
[   67.610308] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.610939] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   67.611563] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.611577] PKRU: 55555554
[   67.611584] Call Trace:
[   67.612221] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   67.612848]  <TASK>
[   67.613482] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   67.613995]  ? show_regs+0xa8/0xc0
[   67.614702] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.616308]  ? die_addr+0x5d/0xf0
[   67.616843] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   67.617317]  ? exc_general_protection+0x1ae/0x340
[   67.617946] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   67.618109]  ? asm_exc_general_protection+0x2b/0x30
[   67.618725] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.619359]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   67.620018] CR2: 00007fff00956878 CR3: 0000000029546003 CR4: 0000000000770ef0
[   67.620253]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.620489] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.621121]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   67.621321] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.621952]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   67.622263] PKRU: 55555554
[   67.622890]  zap_huge_pmd+0x494/0xd40
[   67.623196] note: repro[21503] exited with preempt_count 1
[   67.623841]  unmap_page_range+0x1ad6/0x4320
[   67.624282] Fixing recursive fault but reboot is needed!
[   67.625011]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   67.625434] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21503
[   67.625949]  ? __pfx_unmap_page_range+0x10/0x10
[   67.626405] caller is debug_smp_processor_id+0x20/0x30
[   67.627047]  unmap_single_vma+0x1ac/0x2d0
[   67.627529] CPU: 1 UID: 0 PID: 21503 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   67.628129]  unmap_vmas+0x210/0x470
[   67.628589] Tainted: [D]=DIE, [W]=WARN
[   67.629225]  ? __pfx_unmap_vmas+0x10/0x10
[   67.629673] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.629924]  ? __pfx_lock_release+0x10/0x10
[   67.630258] Call Trace:
[   67.630742]  ? lock_release+0x592/0x870
[   67.631124]  <TASK>
[   67.631597]  ? mas_next_slot+0x133a/0x1a50
[   67.632050]  dump_stack_lvl+0x121/0x150
[   67.632734]  ? __pfx_lock_release+0x10/0x10
[   67.633147]  dump_stack+0x19/0x20
[   67.633606]  ? mlock_drain_local+0x27f/0x4b0
[   67.633967]  check_preemption_disabled+0x168/0x180
[   67.634801]  exit_mmap+0x19e/0xb10
[   67.635121]  debug_smp_processor_id+0x20/0x30
[   67.635465]  ? __pfx_exit_mmap+0x10/0x10
[   67.635821]  __schedule+0x9a/0x2eb0
[   67.636819]  ? trace_hardirqs_on+0x51/0x60
[   67.637191]  ? rcu_is_watching+0x19/0xc0
[   67.637431]  ? __khugepaged_exit+0x266/0x4c0
[   67.637774]  ? lock_release+0x592/0x870
[   67.637978]  ? kmem_cache_free+0x15d/0x420
[   67.638347]  ? __pfx___schedule+0x10/0x10
[   67.638696]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   67.639075]  ? debug_smp_processor_id+0x20/0x30
[   67.639378]  __mmput+0xd6/0x390
[   67.639765]  ? rcu_is_watching+0x19/0xc0
[   67.640200]  mmput+0x74/0x90
[   67.640513]  ? trace_irq_enable+0xe1/0x120
[   67.640906]  do_exit+0xa03/0x29f0
[   67.641265]  ? do_task_dead+0x4a/0x110
[   67.641581]  ? trace_hardirqs_on+0x51/0x60
[   67.641952]  do_task_dead+0xe0/0x110
[   67.642306]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   67.642694]  make_task_dead+0x384/0x3c0
[   67.643040]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   67.643412]  rewind_stack_and_make_dead+0x16/0x20
[   67.643766]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   67.644247] RIP: 0033:0x7f8d0123ee5d
[   67.644655]  ? __pfx_do_exit+0x10/0x10
[   67.644947] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   67.645302]  ? __audit_syscall_entry+0x39c/0x500
[   67.645568] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   67.645943]  __x64_sys_exit+0x50/0x60
[   67.646241]  ORIG_RAX: 000000000000003c
[   67.646584]  x64_sys_call+0x20c9/0x20d0
[   67.646952] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   67.647280]  do_syscall_64+0x6d/0x140
[   67.647832] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.648185]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   67.648616] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   67.649042] RIP: 0033:0x7f8d0123ee5d
[   67.649477] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   67.649802] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   67.650142] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   67.650685] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   67.651115]  </TASK>
[   67.651563]  ORIG_RAX: 000000000000003c
[   67.658392] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   67.659036] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.659672] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   67.660311] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   67.660954] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   67.661607]  </TASK>
[   67.661823] Modules linked in:
[   67.662246] ---[ end trace 0000000000000000 ]---
[   67.662680] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   67.663224] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   67.664996] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   67.665484] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   67.666188] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   67.666828] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   67.667493] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   67.668139] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   67.668782] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   67.669508] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   67.670035] CR2: 00007f8d0129bc20 CR3: 0000000012b18006 CR4: 0000000000770ef0
[   67.670678] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   67.671322] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   67.671986] PKRU: 55555554
[   67.672255] note: repro[21519] exited with preempt_count 1
[   67.672754] Fixing recursive fault but reboot is needed!
[   67.673238] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21519
[   67.673939] caller is debug_smp_processor_id+0x20/0x30
[   67.674418] CPU: 0 UID: 0 PID: 21519 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   67.675276] Tainted: [D]=DIE, [W]=WARN
[   67.675625] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.676626] Call Trace:
[   67.676863]  <TASK>
[   67.677075]  dump_stack_lvl+0x121/0x150
[   67.677451]  dump_stack+0x19/0x20
[   67.677780]  check_preemption_disabled+0x168/0x180
[   67.678234]  debug_smp_processor_id+0x20/0x30
[   67.678646]  __schedule+0x9a/0x2eb0
[   67.678984]  ? rcu_is_watching+0x19/0xc0
[   67.679356]  ? lock_release+0x592/0x870
[   67.679719]  ? __pfx___schedule+0x10/0x10
[   67.680105]  ? debug_smp_processor_id+0x20/0x30
[   67.680529]  ? rcu_is_watching+0x19/0xc0
[   67.680900]  ? trace_irq_enable+0xe1/0x120
[   67.681302]  ? do_task_dead+0x4a/0x110
[   67.681671]  do_task_dead+0xe0/0x110
[   67.682031]  make_task_dead+0x384/0x3c0
[   67.682405]  rewind_stack_and_make_dead+0x16/0x20
[   67.682848] RIP: 0033:0x7f8d0123ee5d
[   67.683192] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   67.683742] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.684422] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   67.685061] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.685699] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   67.686339] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   67.686977] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   67.687623]  </TASK>
[   67.687877] BUG: scheduling while atomic: repro/21519/0x00000000
[   67.688439] INFO: lockdep is turned off.
[   67.688798] Modules linked in:
[   67.689093] Preemption disabled at:
[   67.689098] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   67.689919] CPU: 0 UID: 0 PID: 21519 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   67.690773] Tainted: [D]=DIE, [W]=WARN
[   67.691121] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   67.692125] Call Trace:
[   67.692360]  <TASK>
[   67.692569]  dump_stack_lvl+0x121/0x150
[   67.692946]  ? do_task_dead+0x28/0x110
[   67.693314]  dump_stack+0x19/0x20
[   67.693642]  __schedule_bug+0x12d/0x180
[   67.694021]  __schedule+0x210c/0x2eb0
[   67.694371]  ? rcu_is_watching+0x19/0xc0
[   67.694741]  ? lock_release+0x592/0x870
[   67.695110]  ? __pfx___schedule+0x10/0x10
[   67.695499]  ? debug_smp_processor_id+0x20/0x30
[   67.695924]  ? rcu_is_watching+0x19/0xc0
[   67.696301]  ? trace_irq_enable+0xe1/0x120
[   67.696697]  ? do_task_dead+0x4a/0x110
[   67.697074]  do_task_dead+0xe0/0x110
[   67.697431]  make_task_dead+0x384/0x3c0
[   67.697805]  rewind_stack_and_make_dead+0x16/0x20
[   67.698250] RIP: 0033:0x7f8d0123ee5d
[   67.698591] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   67.699148] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   67.699827] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   67.700438] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   67.701045] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   67.701649] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   67.702254] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   67.702872]  </TASK>
[   68.188241] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#81] PREEMPT SMP KASAN NOPTI
[   68.189333] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.190008] CPU: 0 UID: 0 PID: 21793 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   68.190856] Tainted: [D]=DIE, [W]=WARN
[   68.191212] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.192208] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.192747] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.194431] RSP: 0018:ffff888023a277d8 EFLAGS: 00010202
[   68.194919] RAX: dffffc0000000000 RBX: ffffea00008e3440 RCX: ffffffff81b9e779
[   68.195562] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00008e3450
[   68.196206] RBP: ffff888023a277f8 R08: 0000000000000000 R09: ffffed1002821114
[   68.196841] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   68.197479] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880141088a0
[   68.198120] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   68.198837] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.199360] CR2: 00007fff00956878 CR3: 000000001f36e006 CR4: 0000000000770ef0
[   68.199999] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.200734] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.201438] PKRU: 55555554
[   68.201698] Call Trace:
[   68.201941]  <TASK>
[   68.202156]  ? show_regs+0xa8/0xc0
[   68.202496]  ? die_addr+0x5d/0xf0
[   68.202864]  ? exc_general_protection+0x1ae/0x340
[   68.203369]  ? asm_exc_general_protection+0x2b/0x30
[   68.203843]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.204430]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.204984]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.205469]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.205955]  zap_huge_pmd+0x494/0xd40
[   68.206320]  unmap_page_range+0x1ad6/0x4320
[   68.206722]  ? __pfx_lock_release+0x10/0x10
[   68.207123]  ? do_raw_spin_trylock+0xbf/0x190
[   68.207544]  ? __kasan_check_read+0x15/0x20
[   68.207958]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.208437]  ? __pfx_unmap_page_range+0x10/0x10
[   68.208884]  unmap_single_vma+0x1ac/0x2d0
[   68.209283]  unmap_vmas+0x210/0x470
[   68.209689]  ? __pfx_unmap_vmas+0x10/0x10
[   68.210121]  ? __pfx_lock_release+0x10/0x10
[   68.210585]  ? lock_release+0x592/0x870
[   68.211061]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   68.211611]  ? __pfx_lock_release+0x10/0x10
[   68.212018]  ? mlock_drain_local+0x27f/0x4b0
[   68.212435]  exit_mmap+0x19e/0xb10
[   68.212779]  ? __pfx_exit_mmap+0x10/0x10
[   68.213173]  ? trace_hardirqs_on+0x51/0x60
[   68.213578]  ? __khugepaged_exit+0x266/0x4c0
[   68.214055]  ? kmem_cache_free+0x15d/0x420
[   68.214565]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.215084]  __mmput+0xd6/0x390
[   68.215400]  mmput+0x74/0x90
[   68.215733]  do_exit+0xa03/0x29f0
[   68.216136]  ? trace_hardirqs_on+0x51/0x60
[   68.216546]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.217132]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.217593]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.218058]  ? __pfx_do_exit+0x10/0x10
[   68.218424]  ? __audit_syscall_entry+0x39c/0x500
[   68.218873]  __x64_sys_exit+0x50/0x60
[   68.219239]  x64_sys_call+0x20c9/0x20d0
[   68.219608]  do_syscall_64+0x6d/0x140
[   68.219982]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.220488] RIP: 0033:0x7f8d0123ee5d
[   68.220880] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   68.221613] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.222309] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   68.223107] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.223754] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   68.224404] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   68.225045] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   68.225705]  </TASK>
[   68.225983] Modules linked in:
[   68.226579] ---[ end trace 0000000000000000 ]---
[   68.227096] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.227723] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.229497] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   68.230124] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   68.230797] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   68.231464] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   68.232305] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.232952] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   68.233582] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   68.234299] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.234818] CR2: 00007fff00956878 CR3: 000000001f36e006 CR4: 0000000000770ef0
[   68.235501] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.236344] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.237000] PKRU: 55555554
[   68.237262] note: repro[21793] exited with preempt_count 1
[   68.237761] Fixing recursive fault but reboot is needed!
[   68.238242] BUG: using smp_processor_id() in preemptible [00000000] code: repro/21793
[   68.238943] caller is debug_smp_processor_id+0x20/0x30
[   68.239488] CPU: 0 UID: 0 PID: 21793 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   68.240708] Tainted: [D]=DIE, [W]=WARN
[   68.241061] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.242061] Call Trace:
[   68.242300]  <TASK>
[   68.242512]  dump_stack_lvl+0x121/0x150
[   68.242894]  dump_stack+0x19/0x20
[   68.243233]  check_preemption_disabled+0x168/0x180
[   68.243691]  debug_smp_processor_id+0x20/0x30
[   68.244342]  __schedule+0x9a/0x2eb0
[   68.244691]  ? rcu_is_watching+0x19/0xc0
[   68.245077]  ? lock_release+0x592/0x870
[   68.245448]  ? __pfx___schedule+0x10/0x10
[   68.245832]  ? debug_smp_processor_id+0x20/0x30
[   68.246265]  ? rcu_is_watching+0x19/0xc0
[   68.246639]  ? trace_irq_enable+0xe1/0x120
[   68.247049]  ? do_task_dead+0x4a/0x110
[   68.247421]  do_task_dead+0xe0/0x110
[   68.247781]  make_task_dead+0x384/0x3c0
[   68.248393]  rewind_stack_and_make_dead+0x16/0x20
[   68.248897] RIP: 0033:0x7f8d0123ee5d
[   68.249285] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   68.249846] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.250553] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   68.251198] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.251831] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   68.252470] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   68.253115] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   68.253774]  </TASK>
[   68.254155] BUG: scheduling while atomic: repro/21793/0x00000000
[   68.254899] INFO: lockdep is turned off.
[   68.255260] Modules linked in:
[   68.255570] Preemption disabled at:
[   68.255577] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   68.256409] CPU: 0 UID: 0 PID: 21793 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   68.257265] Tainted: [D]=DIE, [W]=WARN
[   68.257612] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.258945] Call Trace:
[   68.259184]  <TASK>
[   68.259398]  dump_stack_lvl+0x121/0x150
[   68.259780]  ? do_task_dead+0x28/0x110
[   68.260158]  dump_stack+0x19/0x20
[   68.260493]  __schedule_bug+0x12d/0x180
[   68.260871]  __schedule+0x210c/0x2eb0
[   68.261232]  ? rcu_is_watching+0x19/0xc0
[   68.261608]  ? lock_release+0x592/0x870
[   68.261997]  ? __pfx___schedule+0x10/0x10
[   68.262643]  ? debug_smp_processor_id+0x20/0x30
[   68.263237]  ? rcu_is_watching+0x19/0xc0
[   68.263631]  ? trace_irq_enable+0xe1/0x120
[   68.264046]  ? do_task_dead+0x4a/0x110
[   68.264437]  do_task_dead+0xe0/0x110
[   68.264819]  make_task_dead+0x384/0x3c0
[   68.265221]  rewind_stack_and_make_dead+0x16/0x20
[   68.265687] RIP: 0033:0x7f8d0123ee5d
[   68.266031] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   68.266579] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.267259] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   68.267897] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.268537] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   68.269405] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   68.270046] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   68.270710]  </TASK>
[   68.752391] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#82] PREEMPT SMP KASAN NOPTI
[   68.753524] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   68.754242] CPU: 1 UID: 0 PID: 22087 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   68.755139] Tainted: [D]=DIE, [W]=WARN
[   68.755487] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.756486] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.757029] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.758721] RSP: 0018:ffff8880142577d8 EFLAGS: 00010202
[   68.759233] RAX: dffffc0000000000 RBX: ffffea00007a9580 RCX: ffffffff81b9e779
[   68.759888] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007a9590
[   68.760532] RBP: ffff8880142577f8 R08: 0000000000000000 R09: ffffed1003824ad8
[   68.761178] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   68.761813] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c1256c0
[   68.762449] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   68.763203] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.763731] CR2: 00007f8d015dfef8 CR3: 0000000023be0005 CR4: 0000000000770ef0
[   68.764375] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.765012] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.765647] PKRU: 55555554
[   68.765903] Call Trace:
[   68.766141]  <TASK>
[   68.766350]  ? show_regs+0xa8/0xc0
[   68.766686]  ? die_addr+0x5d/0xf0
[   68.767019]  ? exc_general_protection+0x1ae/0x340
[   68.767478]  ? asm_exc_general_protection+0x2b/0x30
[   68.767959]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   68.768456]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.768966]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   68.769448]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   68.769928]  zap_huge_pmd+0x494/0xd40
[   68.770295]  unmap_page_range+0x1ad6/0x4320
[   68.770708]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   68.771188]  ? __pfx_unmap_page_range+0x10/0x10
[   68.771627]  unmap_single_vma+0x1ac/0x2d0
[   68.772021]  unmap_vmas+0x210/0x470
[   68.772369]  ? __pfx_unmap_vmas+0x10/0x10
[   68.772750]  ? __pfx_lock_release+0x10/0x10
[   68.773147]  ? lock_release+0x592/0x870
[   68.773511]  ? mas_next_slot+0x133a/0x1a50
[   68.773903]  ? __pfx_lock_release+0x10/0x10
[   68.774308]  ? mlock_drain_local+0x27f/0x4b0
[   68.774718]  exit_mmap+0x19e/0xb10
[   68.775064]  ? __pfx_exit_mmap+0x10/0x10
[   68.775451]  ? trace_hardirqs_on+0x51/0x60
[   68.775854]  ? __khugepaged_exit+0x266/0x4c0
[   68.776267]  ? kmem_cache_free+0x15d/0x420
[   68.776662]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   68.777165]  __mmput+0xd6/0x390
[   68.777476]  mmput+0x74/0x90
[   68.777762]  do_exit+0xa03/0x29f0
[   68.778093]  ? trace_hardirqs_on+0x51/0x60
[   68.778499]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   68.779082]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   68.779539]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   68.779994]  ? __pfx_do_exit+0x10/0x10
[   68.780357]  ? __audit_syscall_entry+0x39c/0x500
[   68.780798]  __x64_sys_exit+0x50/0x60
[   68.781157]  x64_sys_call+0x20c9/0x20d0
[   68.781530]  do_syscall_64+0x6d/0x140
[   68.781911]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   68.782404] RIP: 0033:0x7f8d0123ee5d
[   68.782740] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   68.783293] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.783982] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   68.784620] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.785236] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   68.785837] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   68.786437] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   68.787058]  </TASK>
[   68.787259] Modules linked in:
[   68.787743] ---[ end trace 0000000000000000 ]---
[   68.788157] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   68.788664] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   68.790243] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   68.790722] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   68.791330] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   68.791928] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   68.792512] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   68.793088] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   68.793664] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   68.794316] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   68.794785] CR2: 00007f8d015dfef8 CR3: 0000000023be0005 CR4: 0000000000770ef0
[   68.795364] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   68.795958] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   68.796532] PKRU: 55555554
[   68.796764] note: repro[22087] exited with preempt_count 1
[   68.797213] Fixing recursive fault but reboot is needed!
[   68.797641] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22087
[   68.798271] caller is debug_smp_processor_id+0x20/0x30
[   68.798686] CPU: 1 UID: 0 PID: 22087 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   68.799428] Tainted: [D]=DIE, [W]=WARN
[   68.799725] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.800598] Call Trace:
[   68.800802]  <TASK>
[   68.800985]  dump_stack_lvl+0x121/0x150
[   68.801347]  dump_stack+0x19/0x20
[   68.801679]  check_preemption_disabled+0x168/0x180
[   68.802135]  debug_smp_processor_id+0x20/0x30
[   68.802548]  __schedule+0x9a/0x2eb0
[   68.802868]  ? rcu_is_watching+0x19/0xc0
[   68.803195]  ? lock_release+0x592/0x870
[   68.803523]  ? __pfx___schedule+0x10/0x10
[   68.803850]  ? debug_smp_processor_id+0x20/0x30
[   68.804222]  ? rcu_is_watching+0x19/0xc0
[   68.804545]  ? trace_irq_enable+0xe1/0x120
[   68.804915]  ? do_task_dead+0x4a/0x110
[   68.805273]  do_task_dead+0xe0/0x110
[   68.805612]  make_task_dead+0x384/0x3c0
[   68.805971]  rewind_stack_and_make_dead+0x16/0x20
[   68.806374] RIP: 0033:0x7f8d0123ee5d
[   68.806655] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   68.807135] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.807705] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   68.808237] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.808761] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   68.809309] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   68.809853] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   68.810391]  </TASK>
[   68.810652] BUG: scheduling while atomic: repro/22087/0x00000000
[   68.811109] INFO: lockdep is turned off.
[   68.811429] Modules linked in:
[   68.811671] Preemption disabled at:
[   68.811675] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   68.812354] CPU: 1 UID: 0 PID: 22087 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   68.813046] Tainted: [D]=DIE, [W]=WARN
[   68.813323] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   68.814160] Call Trace:
[   68.814407]  <TASK>
[   68.814620]  dump_stack_lvl+0x121/0x150
[   68.815000]  ? do_task_dead+0x28/0x110
[   68.815365]  dump_stack+0x19/0x20
[   68.815696]  __schedule_bug+0x12d/0x180
[   68.816073]  __schedule+0x210c/0x2eb0
[   68.816423]  ? rcu_is_watching+0x19/0xc0
[   68.816800]  ? lock_release+0x592/0x870
[   68.817193]  ? __pfx___schedule+0x10/0x10
[   68.817578]  ? debug_smp_processor_id+0x20/0x30
[   68.818026]  ? rcu_is_watching+0x19/0xc0
[   68.818415]  ? trace_irq_enable+0xe1/0x120
[   68.818834]  ? do_task_dead+0x4a/0x110
[   68.819206]  do_task_dead+0xe0/0x110
[   68.819558]  make_task_dead+0x384/0x3c0
[   68.819899]  rewind_stack_and_make_dead+0x16/0x20
[   68.820261] RIP: 0033:0x7f8d0123ee5d
[   68.820537] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   68.820991] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   68.821536] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   68.822039] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   68.822558] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   68.823065] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   68.823551] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   68.824047]  </TASK>
[   69.038867] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#83] PREEMPT SMP KASAN NOPTI
[   69.039966] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.040687] CPU: 0 UID: 0 PID: 22223 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   69.041563] Tainted: [D]=DIE, [W]=WARN
[   69.041925] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.042967] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.043531] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.045188] RSP: 0018:ffff88802958f7d8 EFLAGS: 00010202
[   69.045878] RAX: dffffc0000000000 RBX: ffffea0000801dc0 RCX: ffffffff81b9e779
[   69.046558] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000801dd0
[   69.047218] RBP: ffff88802958f7f8 R08: 0000000000000000 R09: ffffed10028362d8
[   69.047878] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.048535] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880141b16c0
[   69.049362] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   69.050424] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.051023] CR2: 00007f8d013fca50 CR3: 0000000029496003 CR4: 0000000000770ef0
[   69.051676] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.052336] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.052992] PKRU: 55555554
[   69.053255] Call Trace:
[   69.053492]  <TASK>
[   69.053704]  ? show_regs+0xa8/0xc0
[   69.054057]  ? die_addr+0x5d/0xf0
[   69.054393]  ? exc_general_protection+0x1ae/0x340
[   69.054868]  ? asm_exc_general_protection+0x2b/0x30
[   69.055516]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.056216]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.056698]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.057188]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.057673]  zap_huge_pmd+0x494/0xd40
[   69.058044]  unmap_page_range+0x1ad6/0x4320
[   69.058463]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.058943]  ? __pfx_unmap_page_range+0x10/0x10
[   69.059389]  unmap_single_vma+0x1ac/0x2d0
[   69.060010]  unmap_vmas+0x210/0x470
[   69.060440]  ? __pfx_unmap_vmas+0x10/0x10
[   69.060826]  ? __pfx_lock_release+0x10/0x10
[   69.061230]  ? lock_release+0x592/0x870
[   69.061599]  ? mas_next_slot+0x133a/0x1a50
[   69.062000]  ? __pfx_lock_release+0x10/0x10
[   69.062401]  ? mlock_drain_local+0x27f/0x4b0
[   69.062818]  exit_mmap+0x19e/0xb10
[   69.063171]  ? __pfx_exit_mmap+0x10/0x10
[   69.063562]  ? trace_hardirqs_on+0x51/0x60
[   69.064203]  ? __khugepaged_exit+0x266/0x4c0
[   69.064677]  ? kmem_cache_free+0x15d/0x420
[   69.065086]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.065591]  __mmput+0xd6/0x390
[   69.065906]  mmput+0x74/0x90
[   69.066200]  do_exit+0xa03/0x29f0
[   69.066530]  ? trace_hardirqs_on+0x51/0x60
[   69.066927]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.067501]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.068229]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.068796]  ? __pfx_do_exit+0x10/0x10
[   69.069176]  ? __audit_syscall_entry+0x39c/0x500
[   69.069622]  __x64_sys_exit+0x50/0x60
[   69.069985]  x64_sys_call+0x20c9/0x20d0
[   69.070354]  do_syscall_64+0x6d/0x140
[   69.070718]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.071199] RIP: 0033:0x7f8d0123ee5d
[   69.071538] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   69.072194] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.073055] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   69.073693] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.074346] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   69.075430] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   69.076100] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   69.076749]  </TASK>
[   69.076968] Modules linked in:
[   69.077487] ---[ end trace 0000000000000000 ]---
[   69.077872] systemd-journald[148]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5281 of 7040 items, 4055040 file size, 767 bytes per hash table item), suggesting rotation.
[   69.077925] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.079832] systemd-journald[148]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
[   69.081668] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.083298] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   69.084432] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   69.085101] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   69.085746] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   69.086391] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.087035] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   69.087752] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   69.088483] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.089014] CR2: 00007f8d013fca50 CR3: 0000000029496003 CR4: 0000000000770ef0
[   69.089660] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.090658] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.091301] PKRU: 55555554
[   69.091611] note: repro[22223] exited with preempt_count 1
[   69.092132] Fixing recursive fault but reboot is needed!
[   69.092614] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22223
[   69.093318] caller is debug_smp_processor_id+0x20/0x30
[   69.093804] CPU: 0 UID: 0 PID: 22223 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   69.094949] Tainted: [D]=DIE, [W]=WARN
[   69.095298] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.096493] Call Trace:
[   69.096738]  <TASK>
[   69.096954]  dump_stack_lvl+0x121/0x150
[   69.097338]  dump_stack+0x19/0x20
[   69.097675]  check_preemption_disabled+0x168/0x180
[   69.098136]  debug_smp_processor_id+0x20/0x30
[   69.098554]  __schedule+0x9a/0x2eb0
[   69.098896]  ? rcu_is_watching+0x19/0xc0
[   69.099297]  ? lock_release+0x592/0x870
[   69.099688]  ? __pfx___schedule+0x10/0x10
[   69.100167]  ? debug_smp_processor_id+0x20/0x30
[   69.100848]  ? rcu_is_watching+0x19/0xc0
[   69.101244]  ? trace_irq_enable+0xe1/0x120
[   69.101677]  ? do_task_dead+0x4a/0x110
[   69.102058]  do_task_dead+0xe0/0x110
[   69.102432]  make_task_dead+0x384/0x3c0
[   69.102813]  rewind_stack_and_make_dead+0x16/0x20
[   69.103265] RIP: 0033:0x7f8d0123ee5d
[   69.103604] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   69.104155] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.104834] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   69.105472] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.106114] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   69.107074] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   69.107710] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   69.108369]  </TASK>
[   69.108623] BUG: scheduling while atomic: repro/22223/0x00000000
[   69.109178] INFO: lockdep is turned off.
[   69.109540] Modules linked in:
[   69.109835] Preemption disabled at:
[   69.109842] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   69.110971] CPU: 0 UID: 0 PID: 22223 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   69.111868] Tainted: [D]=DIE, [W]=WARN
[   69.112224] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.113241] Call Trace:
[   69.113480]  <TASK>
[   69.113692]  dump_stack_lvl+0x121/0x150
[   69.114080]  ? do_task_dead+0x28/0x110
[   69.114454]  dump_stack+0x19/0x20
[   69.114982]  __schedule_bug+0x12d/0x180
[   69.115440]  __schedule+0x210c/0x2eb0
[   69.115798]  ? rcu_is_watching+0x19/0xc0
[   69.116180]  ? lock_release+0x592/0x870
[   69.116552]  ? __pfx___schedule+0x10/0x10
[   69.116944]  ? debug_smp_processor_id+0x20/0x30
[   69.117377]  ? rcu_is_watching+0x19/0xc0
[   69.117754]  ? trace_irq_enable+0xe1/0x120
[   69.118164]  ? do_task_dead+0x4a/0x110
[   69.118641]  do_task_dead+0xe0/0x110
[   69.119273]  make_task_dead+0x384/0x3c0
[   69.119703]  rewind_stack_and_make_dead+0x16/0x20
[   69.120181] RIP: 0033:0x7f8d0123ee5d
[   69.120537] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   69.121096] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.121782] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   69.122424] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.123065] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   69.123705] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   69.124356] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   69.125060]  </TASK>
[   69.551171] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#84] PREEMPT SMP KASAN NOPTI
[   69.552274] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   69.552955] CPU: 0 UID: 0 PID: 22483 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   69.553813] Tainted: [D]=DIE, [W]=WARN
[   69.554180] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.555365] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.555911] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.557580] RSP: 0018:ffff8880202077d8 EFLAGS: 00010202
[   69.558080] RAX: dffffc0000000000 RBX: ffffea00007a9500 RCX: ffffffff81b9e779
[   69.558717] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007a9510
[   69.559417] RBP: ffff8880202077f8 R08: 0000000000000000 R09: ffffed100401d0d8
[   69.560069] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   69.560718] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e86c0
[   69.561422] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   69.562242] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.562765] CR2: 00007f8d015dfef8 CR3: 0000000013f70003 CR4: 0000000000770ef0
[   69.563407] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.564046] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.564681] PKRU: 55555554
[   69.564943] Call Trace:
[   69.565178]  <TASK>
[   69.565388]  ? show_regs+0xa8/0xc0
[   69.565727]  ? die_addr+0x5d/0xf0
[   69.566062]  ? exc_general_protection+0x1ae/0x340
[   69.566517]  ? asm_exc_general_protection+0x2b/0x30
[   69.566992]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   69.567473]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.567958]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   69.568438]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   69.568919]  zap_huge_pmd+0x494/0xd40
[   69.569286]  unmap_page_range+0x1ad6/0x4320
[   69.569700]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   69.570180]  ? __pfx_unmap_page_range+0x10/0x10
[   69.570621]  unmap_single_vma+0x1ac/0x2d0
[   69.571015]  unmap_vmas+0x210/0x470
[   69.571372]  ? __pfx_unmap_vmas+0x10/0x10
[   69.571754]  ? __pfx_lock_release+0x10/0x10
[   69.572174]  ? lock_release+0x592/0x870
[   69.572582]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   69.573050]  ? __pfx_lock_release+0x10/0x10
[   69.573449]  ? mlock_drain_local+0x27f/0x4b0
[   69.573859]  exit_mmap+0x19e/0xb10
[   69.574205]  ? __pfx_exit_mmap+0x10/0x10
[   69.574592]  ? trace_hardirqs_on+0x51/0x60
[   69.575000]  ? __khugepaged_exit+0x266/0x4c0
[   69.575411]  ? kmem_cache_free+0x15d/0x420
[   69.575888]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   69.576514]  __mmput+0xd6/0x390
[   69.576830]  mmput+0x74/0x90
[   69.577127]  do_exit+0xa03/0x29f0
[   69.577457]  ? trace_hardirqs_on+0x51/0x60
[   69.577853]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   69.578426]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   69.578883]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   69.579344]  ? __pfx_do_exit+0x10/0x10
[   69.579711]  ? __audit_syscall_entry+0x39c/0x500
[   69.580158]  __x64_sys_exit+0x50/0x60
[   69.580515]  x64_sys_call+0x20c9/0x20d0
[   69.580886]  do_syscall_64+0x6d/0x140
[   69.581254]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   69.581729] RIP: 0033:0x7f8d0123ee5d
[   69.582074] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   69.582626] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.583307] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   69.583948] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.584583] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   69.585231] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   69.585870] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   69.586529]  </TASK>
[   69.586745] Modules linked in:
[   69.587147] ---[ end trace 0000000000000000 ]---
[   69.587590] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   69.588130] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   69.589759] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   69.590244] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   69.590882] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   69.591654] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   69.592303] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   69.592949] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   69.593680] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   69.594547] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   69.595077] CR2: 00007f8d015dfef8 CR3: 0000000013f70003 CR4: 0000000000770ef0
[   69.595867] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   69.596517] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   69.597163] PKRU: 55555554
[   69.597424] note: repro[22483] exited with preempt_count 1
[   69.597928] Fixing recursive fault but reboot is needed!
[   69.598478] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22483
[   69.599331] caller is debug_smp_processor_id+0x20/0x30
[   69.599965] CPU: 0 UID: 0 PID: 22483 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   69.600830] Tainted: [D]=DIE, [W]=WARN
[   69.601181] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.602250] Call Trace:
[   69.602489]  <TASK>
[   69.602698]  dump_stack_lvl+0x121/0x150
[   69.603080]  dump_stack+0x19/0x20
[   69.603414]  check_preemption_disabled+0x168/0x180
[   69.603868]  debug_smp_processor_id+0x20/0x30
[   69.604289]  __schedule+0x9a/0x2eb0
[   69.604628]  ? rcu_is_watching+0x19/0xc0
[   69.605006]  ? lock_release+0x592/0x870
[   69.605373]  ? __pfx___schedule+0x10/0x10
[   69.605761]  ? debug_smp_processor_id+0x20/0x30
[   69.606194]  ? rcu_is_watching+0x19/0xc0
[   69.606568]  ? trace_irq_enable+0xe1/0x120
[   69.606969]  ? do_task_dead+0x4a/0x110
[   69.607346]  do_task_dead+0xe0/0x110
[   69.607723]  make_task_dead+0x384/0x3c0
[   69.608107]  rewind_stack_and_make_dead+0x16/0x20
[   69.608576] RIP: 0033:0x7f8d0123ee5d
[   69.608929] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   69.609510] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.610366] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   69.611027] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.611678] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   69.612349] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   69.613005] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   69.613676]  </TASK>
[   69.613954] BUG: scheduling while atomic: repro/22483/0x00000000
[   69.614518] INFO: lockdep is turned off.
[   69.614887] Modules linked in:
[   69.615202] Preemption disabled at:
[   69.615208] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   69.616067] CPU: 0 UID: 0 PID: 22483 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   69.616965] Tainted: [D]=DIE, [W]=WARN
[   69.617320] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   69.618364] Call Trace:
[   69.618608]  <TASK>
[   69.618823]  dump_stack_lvl+0x121/0x150
[   69.619257]  ? do_task_dead+0x28/0x110
[   69.619670]  dump_stack+0x19/0x20
[   69.620025]  __schedule_bug+0x12d/0x180
[   69.620406]  __schedule+0x210c/0x2eb0
[   69.620828]  ? rcu_is_watching+0x19/0xc0
[   69.621214]  ? lock_release+0x592/0x870
[   69.621590]  ? __pfx___schedule+0x10/0x10
[   69.621992]  ? debug_smp_processor_id+0x20/0x30
[   69.622435]  ? rcu_is_watching+0x19/0xc0
[   69.622824]  ? trace_irq_enable+0xe1/0x120
[   69.623241]  ? do_task_dead+0x4a/0x110
[   69.623621]  do_task_dead+0xe0/0x110
[   69.623983]  make_task_dead+0x384/0x3c0
[   69.624367]  rewind_stack_and_make_dead+0x16/0x20
[   69.624813] RIP: 0033:0x7f8d0123ee5d
[   69.625169] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   69.625793] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   69.626594] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   69.627257] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   69.627921] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   69.628568] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   69.629224] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   69.629904]  </TASK>
[   70.303172] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#85] PREEMPT SMP KASAN NOPTI
[   70.304269] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.304946] CPU: 0 UID: 0 PID: 22874 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.305789] Tainted: [D]=DIE, [W]=WARN
[   70.306135] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.307137] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.307676] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.309298] RSP: 0018:ffff88801252f7d8 EFLAGS: 00010202
[   70.309779] RAX: dffffc0000000000 RBX: ffffea000069e4c0 RCX: ffffffff81b9e779
[   70.310418] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000069e4d0
[   70.311062] RBP: ffff88801252f7f8 R08: 0000000000000000 R09: ffffed100321bb68
[   70.311696] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.312351] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880190ddb40
[   70.312999] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.313713] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.314237] CR2: 00007f8d01615000 CR3: 0000000023922002 CR4: 0000000000770ef0
[   70.314875] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.315516] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.316170] PKRU: 55555554
[   70.316429] Call Trace:
[   70.316665]  <TASK>
[   70.316873]  ? show_regs+0xa8/0xc0
[   70.317214]  ? die_addr+0x5d/0xf0
[   70.317543]  ? exc_general_protection+0x1ae/0x340
[   70.318006]  ? asm_exc_general_protection+0x2b/0x30
[   70.318472]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.318953]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.319434]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.319915]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.320401]  zap_huge_pmd+0x494/0xd40
[   70.320762]  unmap_page_range+0x1ad6/0x4320
[   70.321182]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.321656]  ? __pfx_unmap_page_range+0x10/0x10
[   70.322099]  unmap_single_vma+0x1ac/0x2d0
[   70.322487]  unmap_vmas+0x210/0x470
[   70.322833]  ? __pfx_unmap_vmas+0x10/0x10
[   70.323219]  ? __pfx_lock_release+0x10/0x10
[   70.323615]  ? lock_release+0x592/0x870
[   70.323982]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   70.324445]  ? __pfx_lock_release+0x10/0x10
[   70.324845]  ? mlock_drain_local+0x27f/0x4b0
[   70.325262]  exit_mmap+0x19e/0xb10
[   70.325605]  ? __pfx_exit_mmap+0x10/0x10
[   70.325994]  ? trace_hardirqs_on+0x51/0x60
[   70.326394]  ? __khugepaged_exit+0x266/0x4c0
[   70.326803]  ? kmem_cache_free+0x15d/0x420
[   70.327203]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.327707]  __mmput+0xd6/0x390
[   70.328041]  mmput+0x74/0x90
[   70.328330]  do_exit+0xa03/0x29f0
[   70.328659]  ? trace_hardirqs_on+0x51/0x60
[   70.329060]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.329629]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.330101]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.330567]  ? __pfx_do_exit+0x10/0x10
[   70.330938]  ? __audit_syscall_entry+0x39c/0x500
[   70.331381]  __x64_sys_exit+0x50/0x60
[   70.331737]  x64_sys_call+0x20c9/0x20d0
[   70.332106]  do_syscall_64+0x6d/0x140
[   70.332466]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.332945] RIP: 0033:0x7f8d0123ee5d
[   70.333285] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.333837] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.334512] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.335152] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.335791] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.336431] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.337069] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.337715]  </TASK>
[   70.337918] Modules linked in:
[   70.338364] ---[ end trace 0000000000000000 ]---
[   70.338778] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.339293] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.340971] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   70.341434] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   70.342047] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   70.342673] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   70.343312] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.343943] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   70.344563] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.345251] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.345746] CR2: 00007f8d01615000 CR3: 0000000023922002 CR4: 0000000000770ef0
[   70.346343] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.346922] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.347542] PKRU: 55555554
[   70.347782] note: repro[22874] exited with preempt_count 1
[   70.348234] Fixing recursive fault but reboot is needed!
[   70.348674] BUG: using smp_processor_id() in preemptible [00000000] code: repro/22874
[   70.349319] caller is debug_smp_processor_id+0x20/0x30
[   70.349785] CPU: 0 UID: 0 PID: 22874 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.350565] Tainted: [D]=DIE, [W]=WARN
[   70.350877] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.351817] Call Trace:
[   70.352040]  <TASK>
[   70.352231]  dump_stack_lvl+0x121/0x150
[   70.352587]  dump_stack+0x19/0x20
[   70.352915]  check_preemption_disabled+0x168/0x180
[   70.353369]  debug_smp_processor_id+0x20/0x30
[   70.353778]  __schedule+0x9a/0x2eb0
[   70.354070]  ? rcu_is_watching+0x19/0xc0
[   70.354391]  ? lock_release+0x592/0x870
[   70.354704]  ? __pfx___schedule+0x10/0x10
[   70.355032]  ? debug_smp_processor_id+0x20/0x30
[   70.355396]  ? rcu_is_watching+0x19/0xc0
[   70.355715]  ? trace_irq_enable+0xe1/0x120
[   70.356064]  ? do_task_dead+0x4a/0x110
[   70.356382]  do_task_dead+0xe0/0x110
[   70.356686]  make_task_dead+0x384/0x3c0
[   70.357010]  rewind_stack_and_make_dead+0x16/0x20
[   70.357390] RIP: 0033:0x7f8d0123ee5d
[   70.357679] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.358155] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.358739] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.359289] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.359835] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.360365] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.360889] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.361424]  </TASK>
[   70.361644] BUG: scheduling while atomic: repro/22874/0x00000000
[   70.362095] INFO: lockdep is turned off.
[   70.362389] Modules linked in:
[   70.362628] Preemption disabled at:
[   70.362632] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   70.363332] CPU: 0 UID: 0 PID: 22874 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.364041] Tainted: [D]=DIE, [W]=WARN
[   70.364329] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.365171] Call Trace:
[   70.365368]  <TASK>
[   70.365540]  dump_stack_lvl+0x121/0x150
[   70.365848]  ? do_task_dead+0x28/0x110
[   70.366159]  dump_stack+0x19/0x20
[   70.366432]  __schedule_bug+0x12d/0x180
[   70.366788]  __schedule+0x210c/0x2eb0
[   70.367155]  ? rcu_is_watching+0x19/0xc0
[   70.367525]  ? lock_release+0x592/0x870
[   70.367874]  ? __pfx___schedule+0x10/0x10
[   70.368245]  ? debug_smp_processor_id+0x20/0x30
[   70.368650]  ? rcu_is_watching+0x19/0xc0
[   70.369004]  ? trace_irq_enable+0xe1/0x120
[   70.369380]  ? do_task_dead+0x4a/0x110
[   70.369687]  do_task_dead+0xe0/0x110
[   70.369968]  make_task_dead+0x384/0x3c0
[   70.370263]  rewind_stack_and_make_dead+0x16/0x20
[   70.370611] RIP: 0033:0x7f8d0123ee5d
[   70.370877] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.371314] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.371855] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.372363] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.372869] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.373375] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.373877] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.374396]  </TASK>
[   70.808675] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#86] PREEMPT SMP KASAN NOPTI
[   70.809783] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.810464] CPU: 1 UID: 0 PID: 23138 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.811325] Tainted: [D]=DIE, [W]=WARN
[   70.811851] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.812862] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.813415] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.815040] RSP: 0018:ffff88801449f7d8 EFLAGS: 00010202
[   70.815801] RAX: dffffc0000000000 RBX: ffffea0000445700 RCX: ffffffff81b9e779
[   70.816485] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000445710
[   70.817128] RBP: ffff88801449f7f8 R08: 0000000000000000 R09: ffffed10020d54cc
[   70.817765] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.818404] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880106aa660
[   70.819049] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   70.820150] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.820674] CR2: 00007f8d015e0658 CR3: 00000000201f6002 CR4: 0000000000770ef0
[   70.821324] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.821966] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.822606] PKRU: 55555554
[   70.822865] Call Trace:
[   70.823107]  <TASK>
[   70.823320]  ? show_regs+0xa8/0xc0
[   70.823846]  ? die_addr+0x5d/0xf0
[   70.824323]  ? exc_general_protection+0x1ae/0x340
[   70.824786]  ? asm_exc_general_protection+0x2b/0x30
[   70.825265]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.825751]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.826239]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.826723]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.827215]  zap_huge_pmd+0x494/0xd40
[   70.827586]  unmap_page_range+0x1ad6/0x4320
[   70.828244]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.828763]  ? __pfx_unmap_page_range+0x10/0x10
[   70.829213]  unmap_single_vma+0x1ac/0x2d0
[   70.829627]  unmap_vmas+0x210/0x470
[   70.829987]  ? __pfx_unmap_vmas+0x10/0x10
[   70.830385]  ? __pfx_lock_release+0x10/0x10
[   70.830785]  ? lock_release+0x592/0x870
[   70.831156]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   70.831625]  ? __pfx_lock_release+0x10/0x10
[   70.832262]  ? mlock_drain_local+0x27f/0x4b0
[   70.832761]  exit_mmap+0x19e/0xb10
[   70.833110]  ? __pfx_exit_mmap+0x10/0x10
[   70.833505]  ? trace_hardirqs_on+0x51/0x60
[   70.833913]  ? __khugepaged_exit+0x266/0x4c0
[   70.834329]  ? kmem_cache_free+0x15d/0x420
[   70.834728]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.835239]  __mmput+0xd6/0x390
[   70.835554]  mmput+0x74/0x90
[   70.835844]  do_exit+0xa03/0x29f0
[   70.836366]  ? trace_hardirqs_on+0x51/0x60
[   70.836857]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.837437]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.837898]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.838357]  ? __pfx_do_exit+0x10/0x10
[   70.838727]  ? __audit_syscall_entry+0x39c/0x500
[   70.839179]  __x64_sys_exit+0x50/0x60
[   70.839542]  x64_sys_call+0x20c9/0x20d0
[   70.839918]  do_syscall_64+0x6d/0x140
[   70.840467]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.841047] RIP: 0033:0x7f8d0123ee5d
[   70.841392] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.841946] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.842629] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.843274] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.843914] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.844557] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.845198] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.845847]  </TASK>
[   70.846068] Modules linked in:
[   70.846655] ---[ end trace 0000000000000000 ]---
[   70.847206] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.847897] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.849538] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   70.850030] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   70.850862] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   70.851712] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   70.852335] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.852945] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   70.853550] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   70.854239] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.854992] CR2: 00007f8d015e0658 CR3: 00000000201f6002 CR4: 0000000000770ef0
[   70.855850] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.856469] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.857078] PKRU: 55555554
[   70.857327] note: repro[23138] exited with preempt_count 1
[   70.857801] Fixing recursive fault but reboot is needed!
[   70.858261] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23138
[   70.858924] caller is debug_smp_processor_id+0x20/0x30
[   70.859536] CPU: 1 UID: 0 PID: 23138 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.860346] Tainted: [D]=DIE, [W]=WARN
[   70.860661] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.861822] Call Trace:
[   70.862041]  <TASK>
[   70.862233]  dump_stack_lvl+0x121/0x150
[   70.862590]  dump_stack+0x19/0x20
[   70.862894]  check_preemption_disabled+0x168/0x180
[   70.863313]  debug_smp_processor_id+0x20/0x30
[   70.863735]  __schedule+0x9a/0x2eb0
[   70.864081]  ? rcu_is_watching+0x19/0xc0
[   70.864456]  ? lock_release+0x592/0x870
[   70.864818]  ? __pfx___schedule+0x10/0x10
[   70.865169]  ? debug_smp_processor_id+0x20/0x30
[   70.865558]  ? rcu_is_watching+0x19/0xc0
[   70.865899]  ? trace_irq_enable+0xe1/0x120
[   70.866266]  ? do_task_dead+0x4a/0x110
[   70.866606]  do_task_dead+0xe0/0x110
[   70.866621] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#87] PREEMPT SMP KASAN NOPTI
[   70.867075]  make_task_dead+0x384/0x3c0
[   70.868157] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   70.868460]  rewind_stack_and_make_dead+0x16/0x20
[   70.869192] CPU: 0 UID: 0 PID: 23162 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.869550] RIP: 0033:0x7f8d0123ee5d
[   70.870644] Tainted: [D]=DIE, [W]=WARN
[   70.870919] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.871261] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.871733] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.872717] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.873301] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.873806] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.874327] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.875936] RSP: 0018:ffff88802967f7d8 EFLAGS: 00010202
[   70.876460] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.876471] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.876940] RAX: dffffc0000000000 RBX: ffffea00007a8a40 RCX: ffffffff81b9e779
[   70.877462] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.878088] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007a8a50
[   70.878626]  </TASK>
[   70.879247] RBP: ffff88802967f7f8 R08: 0000000000000000 R09: ffffed1004008120
[   70.880689] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   70.881343] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888020040900
[   70.881988] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.882761] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.883609] CR2: 00007f61571dd000 CR3: 0000000011a9e002 CR4: 0000000000770ef0
[   70.884334] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.884991] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.885632] PKRU: 55555554
[   70.885895] Call Trace:
[   70.886137]  <TASK>
[   70.886348]  ? show_regs+0xa8/0xc0
[   70.886698]  ? die_addr+0x5d/0xf0
[   70.887039]  ? exc_general_protection+0x1ae/0x340
[   70.887504]  ? asm_exc_general_protection+0x2b/0x30
[   70.887987]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   70.888478]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.888972]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   70.889724]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   70.890255]  zap_huge_pmd+0x494/0xd40
[   70.890682]  unmap_page_range+0x1ad6/0x4320
[   70.891157]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   70.891646]  ? __pfx_unmap_page_range+0x10/0x10
[   70.892134]  unmap_single_vma+0x1ac/0x2d0
[   70.892546]  unmap_vmas+0x210/0x470
[   70.892900]  ? __pfx_unmap_vmas+0x10/0x10
[   70.893297]  ? __pfx_lock_release+0x10/0x10
[   70.893697]  ? lock_release+0x592/0x870
[   70.894075]  ? mas_next_slot+0x133a/0x1a50
[   70.894518]  ? __pfx_lock_release+0x10/0x10
[   70.894927]  ? mlock_drain_local+0x27f/0x4b0
[   70.895354]  exit_mmap+0x19e/0xb10
[   70.895709]  ? __pfx_exit_mmap+0x10/0x10
[   70.896109]  ? trace_hardirqs_on+0x51/0x60
[   70.896522]  ? __khugepaged_exit+0x266/0x4c0
[   70.896940]  ? kmem_cache_free+0x15d/0x420
[   70.897344]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   70.898112]  __mmput+0xd6/0x390
[   70.898470]  mmput+0x74/0x90
[   70.898807]  do_exit+0xa03/0x29f0
[   70.899187]  ? trace_hardirqs_on+0x51/0x60
[   70.899613]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   70.900199]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   70.900683]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   70.901181]  ? __pfx_do_exit+0x10/0x10
[   70.901553]  ? __audit_syscall_entry+0x39c/0x500
[   70.902005]  __x64_sys_exit+0x50/0x60
[   70.902368]  x64_sys_call+0x20c9/0x20d0
[   70.902744]  do_syscall_64+0x6d/0x140
[   70.903120]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   70.903604] RIP: 0033:0x7f8d0123ee5d
[   70.904142] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.904728] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.905420] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.906059] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.906692] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.907330] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.908007] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.908687]  </TASK>
[   70.908940] Modules linked in:
[   70.909522] ---[ end trace 0000000000000000 ]---
[   70.909980] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   70.910529] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   70.912844] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   70.913384] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   70.914063] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   70.914705] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   70.915352] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   70.916066] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   70.916708] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   70.917441] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   70.917971] CR2: 00007f61571dd000 CR3: 0000000011a9e002 CR4: 0000000000770ef0
[   70.918894] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   70.919571] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   70.920226] PKRU: 55555554
[   70.920487] note: repro[23162] exited with preempt_count 1
[   70.920986] Fixing recursive fault but reboot is needed!
[   70.921465] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23162
[   70.922166] caller is debug_smp_processor_id+0x20/0x30
[   70.922647] CPU: 0 UID: 0 PID: 23162 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.923504] Tainted: [D]=DIE, [W]=WARN
[   70.923853] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.925236] Call Trace:
[   70.925475]  <TASK>
[   70.925687]  dump_stack_lvl+0x121/0x150
[   70.926074]  dump_stack+0x19/0x20
[   70.926412]  check_preemption_disabled+0x168/0x180
[   70.926866]  debug_smp_processor_id+0x20/0x30
[   70.927283]  __schedule+0x9a/0x2eb0
[   70.927623]  ? rcu_is_watching+0x19/0xc0
[   70.928001]  ? lock_release+0x592/0x870
[   70.928368]  ? __pfx___schedule+0x10/0x10
[   70.928758]  ? debug_smp_processor_id+0x20/0x30
[   70.929193]  ? rcu_is_watching+0x19/0xc0
[   70.929571]  ? trace_irq_enable+0xe1/0x120
[   70.929984]  ? do_task_dead+0x4a/0x110
[   70.930362]  do_task_dead+0xe0/0x110
[   70.930914]  make_task_dead+0x384/0x3c0
[   70.931366]  rewind_stack_and_make_dead+0x16/0x20
[   70.931827] RIP: 0033:0x7f8d0123ee5d
[   70.932171] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.932719] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.933391] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.934033] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.934652] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.935262] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.935908] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.936598]  </TASK>
[   70.936867] BUG: scheduling while atomic: repro/23162/0x00000000
[   70.937442] INFO: lockdep is turned off.
[   70.937858] Modules linked in:
[   70.938179] Preemption disabled at:
[   70.938185] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   70.939055] CPU: 0 UID: 0 PID: 23162 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   70.939931] Tainted: [D]=DIE, [W]=WARN
[   70.940299] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   70.941325] Call Trace:
[   70.941568]  <TASK>
[   70.941787]  dump_stack_lvl+0x121/0x150
[   70.942225]  ? do_task_dead+0x28/0x110
[   70.942612]  dump_stack+0x19/0x20
[   70.942976]  __schedule_bug+0x12d/0x180
[   70.943359]  __schedule+0x210c/0x2eb0
[   70.943718]  ? rcu_is_watching+0x19/0xc0
[   70.944105]  ? lock_release+0x592/0x870
[   70.944457]  ? __pfx___schedule+0x10/0x10
[   70.944811]  ? debug_smp_processor_id+0x20/0x30
[   70.945432]  ? rcu_is_watching+0x19/0xc0
[   70.945855]  ? trace_irq_enable+0xe1/0x120
[   70.946267]  ? do_task_dead+0x4a/0x110
[   70.946646]  do_task_dead+0xe0/0x110
[   70.947013]  make_task_dead+0x384/0x3c0
[   70.947387]  rewind_stack_and_make_dead+0x16/0x20
[   70.947774] RIP: 0033:0x7f8d0123ee5d
[   70.948299] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   70.948776] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   70.949373] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   70.949930] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   70.950491] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   70.951118] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   70.951956] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   70.952527]  </TASK>
[   71.343044] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#88] PREEMPT SMP KASAN NOPTI
[   71.344040] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   71.344655] CPU: 0 UID: 0 PID: 23370 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   71.345727] Tainted: [D]=DIE, [W]=WARN
[   71.346073] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.347072] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.347641] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.349255] RSP: 0018:ffff88801421f7d8 EFLAGS: 00010202
[   71.349674] RAX: dffffc0000000000 RBX: ffffea000047cd00 RCX: ffffffff81b9e779
[   71.350254] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000047cd10
[   71.350826] RBP: ffff88801421f7f8 R08: 0000000000000000 R09: ffffed1003e62224
[   71.351387] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   71.351945] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801f311120
[   71.352508] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   71.353314] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.353939] CR2: 00007f8d0164d048 CR3: 0000000023a68002 CR4: 0000000000770ef0
[   71.354547] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.355121] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.355687] PKRU: 55555554
[   71.355917] Call Trace:
[   71.356130]  <TASK>
[   71.356321]  ? show_regs+0xa8/0xc0
[   71.356622]  ? die_addr+0x5d/0xf0
[   71.356924]  ? exc_general_protection+0x1ae/0x340
[   71.357327]  ? asm_exc_general_protection+0x2b/0x30
[   71.357729]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   71.358136]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.358548]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   71.358971]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.359579]  zap_huge_pmd+0x494/0xd40
[   71.360009]  unmap_page_range+0x1ad6/0x4320
[   71.360372]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   71.360808]  ? __pfx_unmap_page_range+0x10/0x10
[   71.361196]  unmap_single_vma+0x1ac/0x2d0
[   71.361531]  unmap_vmas+0x210/0x470
[   71.361837]  ? __pfx_unmap_vmas+0x10/0x10
[   71.362165]  ? __pfx_lock_release+0x10/0x10
[   71.362503]  ? lock_release+0x592/0x870
[   71.362814]  ? mas_next_slot+0x133a/0x1a50
[   71.363145]  ? __pfx_lock_release+0x10/0x10
[   71.363476]  ? mlock_drain_local+0x27f/0x4b0
[   71.363844]  exit_mmap+0x19e/0xb10
[   71.364146]  ? __pfx_exit_mmap+0x10/0x10
[   71.364463]  ? trace_hardirqs_on+0x51/0x60
[   71.364794]  ? __khugepaged_exit+0x266/0x4c0
[   71.365147]  ? kmem_cache_free+0x15d/0x420
[   71.365627]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   71.366207]  __mmput+0xd6/0x390
[   71.366462]  mmput+0x74/0x90
[   71.366691]  do_exit+0xa03/0x29f0
[   71.366963]  ? trace_hardirqs_on+0x51/0x60
[   71.367280]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   71.367733]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   71.368110]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   71.368478]  ? __pfx_do_exit+0x10/0x10
[   71.368784]  ? __audit_syscall_entry+0x39c/0x500
[   71.369159]  __x64_sys_exit+0x50/0x60
[   71.369456]  x64_sys_call+0x20c9/0x20d0
[   71.369766]  do_syscall_64+0x6d/0x140
[   71.370065]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   71.370435] RIP: 0033:0x7f8d0123ee5d
[   71.370697] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   71.371121] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.371636] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   71.372353] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.372816] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   71.373283] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   71.373745] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   71.374229]  </TASK>
[   71.374388] Modules linked in:
[   71.374652] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#89] PREEMPT SMP KASAN NOPTI
[   71.374815] ---[ end trace 0000000000000000 ]---
[   71.375798] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   71.375815] CPU: 1 UID: 0 PID: 23378 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   71.376129] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.376820] Tainted: [D]=DIE, [W]=WARN
[   71.377502] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.378023] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.378373] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   71.380022] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.381063] 
[   71.381540] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.382083] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   71.382240] RSP: 0018:ffff888010fc77d8 EFLAGS: 00010202
[   71.383917] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   71.384532] 
[   71.385002] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   71.385626] RAX: dffffc0000000000 RBX: ffffea0000809c40 RCX: ffffffff81b9e779
[   71.385777] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   71.386404] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000809c50
[   71.386844] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   71.387476] RBP: ffff888010fc77f8 R08: 0000000000000000 R09: ffffed100384d9a4
[   71.387490] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   71.387955] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   71.388583] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c26cd20
[   71.389010] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.389638] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   71.390346] CR2: 00007f8d0164d048 CR3: 0000000023a68002 CR4: 0000000000770ef0
[   71.390973] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.391521] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.392189] CR2: 00007f8d015e05b8 CR3: 00000000144d8006 CR4: 0000000000770ef0
[   71.392612] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.393126] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.393533] PKRU: 55555554
[   71.394164] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.394571] note: repro[23370] exited with preempt_count 1
[   71.395197] PKRU: 55555554
[   71.395361] Fixing recursive fault but reboot is needed!
[   71.395989] Call Trace:
[   71.395999]  <TASK>
[   71.397472]  ? show_regs+0xa8/0xc0
[   71.397817]  ? die_addr+0x5d/0xf0
[   71.398151]  ? exc_general_protection+0x1ae/0x340
[   71.398609]  ? asm_exc_general_protection+0x2b/0x30
[   71.399082]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   71.399563]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.400047]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   71.400533]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.401015]  zap_huge_pmd+0x494/0xd40
[   71.401378]  unmap_page_range+0x1ad6/0x4320
[   71.401794]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   71.402274]  ? __pfx_unmap_page_range+0x10/0x10
[   71.402713]  unmap_single_vma+0x1ac/0x2d0
[   71.403106]  unmap_vmas+0x210/0x470
[   71.403452]  ? __pfx_unmap_vmas+0x10/0x10
[   71.403833]  ? __pfx_lock_release+0x10/0x10
[   71.404230]  ? lock_release+0x592/0x870
[   71.404593]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   71.405062]  ? __pfx_lock_release+0x10/0x10
[   71.405461]  ? mlock_drain_local+0x27f/0x4b0
[   71.405874]  exit_mmap+0x19e/0xb10
[   71.406219]  ? __pfx_exit_mmap+0x10/0x10
[   71.406606]  ? trace_hardirqs_on+0x51/0x60
[   71.407010]  ? __khugepaged_exit+0x266/0x4c0
[   71.407419]  ? kmem_cache_free+0x15d/0x420
[   71.407819]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   71.408328]  __mmput+0xd6/0x390
[   71.408641]  mmput+0x74/0x90
[   71.408929]  do_exit+0xa03/0x29f0
[   71.409262]  ? trace_hardirqs_on+0x51/0x60
[   71.409656]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   71.410229]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   71.410686]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   71.411143]  ? __pfx_do_exit+0x10/0x10
[   71.411506]  ? __audit_syscall_entry+0x39c/0x500
[   71.411952]  __x64_sys_exit+0x50/0x60
[   71.412307]  x64_sys_call+0x20c9/0x20d0
[   71.412674]  do_syscall_64+0x6d/0x140
[   71.413040]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   71.413511] RIP: 0033:0x7f8d0123ee5d
[   71.413850] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   71.414401] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.415091] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   71.415725] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.416360] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   71.416995] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   71.417629] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   71.418290]  </TASK>
[   71.418505] Modules linked in:
[   71.419096] ---[ end trace 0000000000000000 ]---
[   71.419636] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.420179] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.421810] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   71.422300] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   71.422948] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   71.423611] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   71.424254] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   71.424890] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   71.425533] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   71.426252] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.426775] CR2: 00007f8d015e05b8 CR3: 00000000144d8006 CR4: 0000000000770ef0
[   71.427444] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.428084] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.428720] PKRU: 55555554
[   71.428980] note: repro[23378] exited with preempt_count 1
[   71.429474] Fixing recursive fault but reboot is needed!
[   71.429954] BUG: scheduling while atomic: repro/23378/0x00000000
[   71.430496] INFO: lockdep is turned off.
[   71.430851] Modules linked in:
[   71.431144] Preemption disabled at:
[   71.431149] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   71.431992] CPU: 1 UID: 0 PID: 23378 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   71.432843] Tainted: [D]=DIE, [W]=WARN
[   71.433189] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.434182] Call Trace:
[   71.434416]  <TASK>
[   71.434626]  dump_stack_lvl+0x121/0x150
[   71.435004]  ? do_task_dead+0x28/0x110
[   71.435370]  dump_stack+0x19/0x20
[   71.435698]  __schedule_bug+0x12d/0x180
[   71.436082]  __schedule+0x210c/0x2eb0
[   71.436434]  ? rcu_is_watching+0x19/0xc0
[   71.436806]  ? lock_release+0x592/0x870
[   71.437177]  ? __pfx___schedule+0x10/0x10
[   71.437557]  ? debug_smp_processor_id+0x20/0x30
[   71.437983]  ? rcu_is_watching+0x19/0xc0
[   71.438351]  ? trace_irq_enable+0xe1/0x120
[   71.438747]  ? do_task_dead+0x4a/0x110
[   71.439117]  do_task_dead+0xe0/0x110
[   71.439472]  make_task_dead+0x384/0x3c0
[   71.439843]  rewind_stack_and_make_dead+0x16/0x20
[   71.440286] RIP: 0033:0x7f8d0123ee5d
[   71.440626] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   71.441180] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.441858] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   71.442496] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.443137] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   71.443779] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   71.444423] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   71.445084]  </TASK>
[   71.911747] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#90] PREEMPT SMP KASAN NOPTI
[   71.912845] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   71.913524] CPU: 0 UID: 0 PID: 23654 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   71.914372] Tainted: [D]=DIE, [W]=WARN
[   71.914715] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.915715] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.916258] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.917872] RSP: 0018:ffff888020c2f7d8 EFLAGS: 00010202
[   71.918354] RAX: dffffc0000000000 RBX: ffffea0000cb05c0 RCX: ffffffff81b9e779
[   71.918993] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000cb05d0
[   71.919626] RBP: ffff888020c2f7f8 R08: 0000000000000000 R09: ffffed10026138b4
[   71.920259] R10: 0000000000000001 R11: ffff88806c650318 R12: 0000000000000000
[   71.920898] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801309c5a0
[   71.921534] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   71.922259] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.922779] CR2: 00007f8d013fca50 CR3: 00000000161dc002 CR4: 0000000000770ef0
[   71.923421] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.924077] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.924720] PKRU: 55555554
[   71.924983] Call Trace:
[   71.925220]  <TASK>
[   71.925431]  ? show_regs+0xa8/0xc0
[   71.925768]  ? die_addr+0x5d/0xf0
[   71.926102]  ? exc_general_protection+0x1ae/0x340
[   71.926557]  ? asm_exc_general_protection+0x2b/0x30
[   71.927025]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   71.927503]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.927986]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   71.928462]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.928946]  zap_huge_pmd+0x494/0xd40
[   71.929308]  unmap_page_range+0x1ad6/0x4320
[   71.929703]  ? __pfx_lock_release+0x10/0x10
[   71.930097]  ? do_raw_spin_trylock+0xbf/0x190
[   71.930511]  ? __kasan_check_read+0x15/0x20
[   71.930911]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   71.931389]  ? __pfx_unmap_page_range+0x10/0x10
[   71.931832]  unmap_single_vma+0x1ac/0x2d0
[   71.932230]  unmap_vmas+0x210/0x470
[   71.932579]  ? __pfx_unmap_vmas+0x10/0x10
[   71.932965]  ? __pfx_lock_release+0x10/0x10
[   71.933355]  ? lock_release+0x592/0x870
[   71.933715]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   71.934177]  ? __pfx_lock_release+0x10/0x10
[   71.934577]  ? mlock_drain_local+0x27f/0x4b0
[   71.934999]  exit_mmap+0x19e/0xb10
[   71.935338]  ? __pfx_exit_mmap+0x10/0x10
[   71.935722]  ? trace_hardirqs_on+0x51/0x60
[   71.936130]  ? __khugepaged_exit+0x266/0x4c0
[   71.936538]  ? kmem_cache_free+0x15d/0x420
[   71.936937]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   71.937444]  __mmput+0xd6/0x390
[   71.937753]  mmput+0x74/0x90
[   71.938041]  do_exit+0xa03/0x29f0
[   71.938369]  ? trace_hardirqs_on+0x51/0x60
[   71.938762]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   71.939331]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   71.939785]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   71.940241]  ? __pfx_do_exit+0x10/0x10
[   71.940584]  ? __audit_syscall_entry+0x39c/0x500
[   71.941006]  __x64_sys_exit+0x50/0x60
[   71.941343]  x64_sys_call+0x20c9/0x20d0
[   71.941689]  do_syscall_64+0x6d/0x140
[   71.942033]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   71.942481] RIP: 0033:0x7f8d0123ee5d
[   71.942800] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   71.943324] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   71.943969] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   71.944573] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.945174] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   71.945775] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   71.946382] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   71.947001]  </TASK>
[   71.947203] Modules linked in:
[   71.947574] ---[ end trace 0000000000000000 ]---
[   71.947982] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.948491] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.949963] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   71.950394] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   71.950972] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   71.951403] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#91] PREEMPT SMP KASAN NOPTI
[   71.951566] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   71.952613] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   71.953182] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   71.953843] CPU: 1 UID: 0 PID: 23674 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   71.954410] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   71.955251] Tainted: [D]=DIE, [W]=WARN
[   71.955890] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   71.956210] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.956881] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.957869] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   71.958314] CR2: 00007f8d013fca50 CR3: 00000000161dc002 CR4: 0000000000770ef0
[   71.958830] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   71.959396] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.960980] RSP: 0018:ffff88801a64f7d8 EFLAGS: 00010202
[   71.961524] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.961537] PKRU: 55555554
[   71.962283] RAX: dffffc0000000000 RBX: ffffea0000cb0080 RCX: ffffffff81b9e779
[   71.962811] note: repro[23654] exited with preempt_count 1
[   71.963064] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000cb0090
[   71.963603] Fixing recursive fault but reboot is needed!
[   71.964071] RBP: ffff88801a64f7f8 R08: 0000000000000000 R09: ffffed10027e9180
[   71.964596] check_preemption_disabled: 2 callbacks suppressed
[   71.964605] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23654
[   71.965064] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   71.965583] caller is debug_smp_processor_id+0x20/0x30
[   71.966130] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888013f48c00
[   71.966697] CPU: 0 UID: 0 PID: 23654 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   71.967323] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   71.967706] Tainted: [D]=DIE, [W]=WARN
[   71.968326] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   71.969012] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   71.969716] CR2: 00007f61571f7000 CR3: 0000000020d7a006 CR4: 0000000000770ef0
[   71.969986] Call Trace:
[   71.970494] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   71.971272]  <TASK>
[   71.971910] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   71.972114]  dump_stack_lvl+0x121/0x150
[   71.972731] PKRU: 55555554
[   71.972895]  dump_stack+0x19/0x20
[   71.973953] Call Trace:
[   71.974270]  check_preemption_disabled+0x168/0x180
[   71.974522]  <TASK>
[   71.974770]  debug_smp_processor_id+0x20/0x30
[   71.975004]  ? show_regs+0xa8/0xc0
[   71.975328]  __schedule+0x9a/0x2eb0
[   71.975538]  ? die_addr+0x5d/0xf0
[   71.975837]  ? rcu_is_watching+0x19/0xc0
[   71.976159]  ? exc_general_protection+0x1ae/0x340
[   71.976397]  ? lock_release+0x592/0x870
[   71.976718]  ? asm_exc_general_protection+0x2b/0x30
[   71.976976]  ? __pfx___schedule+0x10/0x10
[   71.977656]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   71.977915]  ? debug_smp_processor_id+0x20/0x30
[   71.978379]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.978652]  ? rcu_is_watching+0x19/0xc0
[   71.979112]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   71.979419]  ? trace_irq_enable+0xe1/0x120
[   71.979878]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   71.980151]  ? do_task_dead+0x4a/0x110
[   71.980608]  zap_huge_pmd+0x494/0xd40
[   71.980875]  do_task_dead+0xe0/0x110
[   71.981340]  unmap_page_range+0x1ad6/0x4320
[   71.981582]  make_task_dead+0x384/0x3c0
[   71.982137]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   71.982358]  rewind_stack_and_make_dead+0x16/0x20
[   71.982736]  ? __pfx_unmap_page_range+0x10/0x10
[   71.982986] RIP: 0033:0x7f8d0123ee5d
[   71.983446]  unmap_single_vma+0x1ac/0x2d0
[   71.983740] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   71.984177]  unmap_vmas+0x210/0x470
[   71.984409] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   71.984780]  ? __pfx_unmap_vmas+0x10/0x10
[   71.985172]  ORIG_RAX: 000000000000003c
[   71.985493]  ? __pfx_lock_release+0x10/0x10
[   71.985819] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   71.986407]  ? lock_release+0x592/0x870
[   71.986653] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   71.987045]  ? mas_next_slot+0x133a/0x1a50
[   71.987482] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   71.987841]  ? __pfx_lock_release+0x10/0x10
[   71.988279] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   71.988662]  ? mlock_drain_local+0x27f/0x4b0
[   71.989093] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   71.989482]  exit_mmap+0x19e/0xb10
[   71.990024]  </TASK>
[   71.990404]  ? __pfx_exit_mmap+0x10/0x10
[   71.992030]  ? trace_hardirqs_on+0x51/0x60
[   71.992586]  ? __khugepaged_exit+0x266/0x4c0
[   71.993009]  ? kmem_cache_free+0x15d/0x420
[   71.993415]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   71.993923]  __mmput+0xd6/0x390
[   71.994245]  mmput+0x74/0x90
[   71.994536]  do_exit+0xa03/0x29f0
[   71.994868]  ? trace_hardirqs_on+0x51/0x60
[   71.995274]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   71.995870]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   71.996581]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   71.997043]  ? __pfx_do_exit+0x10/0x10
[   71.997412]  ? __audit_syscall_entry+0x39c/0x500
[   71.997859]  __x64_sys_exit+0x50/0x60
[   71.998221]  x64_sys_call+0x20c9/0x20d0
[   71.998593]  do_syscall_64+0x6d/0x140
[   71.998963]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   71.999442] RIP: 0033:0x7f8d0123ee5d
[   71.999784] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   72.000675] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.001368] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   72.002012] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.002654] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   72.003299] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   72.003945] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   72.004944]  </TASK>
[   72.005166] Modules linked in:
[   72.005693] ---[ end trace 0000000000000000 ]---
[   72.006148] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.006690] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.008503] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   72.009150] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   72.009791] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   72.010434] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   72.011082] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   72.011918] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   72.012572] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   72.013494] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.014003] CR2: 00007f61571f7000 CR3: 0000000020d7a006 CR4: 0000000000770ef0
[   72.014612] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.015222] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.015357] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#92] PREEMPT SMP KASAN NOPTI
[   72.015852] PKRU: 55555554
[   72.016496] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   72.016755] note: repro[23674] exited with preempt_count 1
[   72.017165] CPU: 0 UID: 0 PID: 23690 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   72.017679] Fixing recursive fault but reboot is needed!
[   72.018194] Tainted: [D]=DIE, [W]=WARN
[   72.018638] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23674
[   72.018845] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.019524] caller is debug_smp_processor_id+0x20/0x30
[   72.020095] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.020535] CPU: 1 UID: 0 PID: 23674 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   72.020836] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.021593] Tainted: [D]=DIE, [W]=WARN
[   72.022565] RSP: 0018:ffff8880162777d8 EFLAGS: 00010202
[   72.022878] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.023168] RAX: dffffc0000000000 RBX: ffffea000080e2c0 RCX: ffffffff81b9e779
[   72.024169] Call Trace:
[   72.024696] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000080e2d0
[   72.024939]  <TASK>
[   72.025301] RBP: ffff8880162777f8 R08: 0000000000000000 R09: ffffed10021c18f0
[   72.025489]  dump_stack_lvl+0x121/0x150
[   72.025848] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   72.026165]  dump_stack+0x19/0x20
[   72.026526] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888010e0c780
[   72.026802]  check_preemption_disabled+0x168/0x180
[   72.027165] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   72.027554]  debug_smp_processor_id+0x20/0x30
[   72.027961] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.028323]  __schedule+0x9a/0x2eb0
[   72.028609] CR2: 0000000000404200 CR3: 0000000029498002 CR4: 0000000000770ef0
[   72.028887]  ? rcu_is_watching+0x19/0xc0
[   72.029237] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.029541]  ? lock_release+0x592/0x870
[   72.030031] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.030379]  ? __pfx___schedule+0x10/0x10
[   72.030864] PKRU: 55555554
[   72.031232]  ? debug_smp_processor_id+0x20/0x30
[   72.031424] Call Trace:
[   72.031832]  ? rcu_is_watching+0x19/0xc0
[   72.032068]  <TASK>
[   72.032424]  ? trace_irq_enable+0xe1/0x120
[   72.032623]  ? show_regs+0xa8/0xc0
[   72.032992]  ? do_task_dead+0x4a/0x110
[   72.033304]  ? die_addr+0x5d/0xf0
[   72.033605]  do_task_dead+0xe0/0x110
[   72.033772]  ? exc_general_protection+0x1ae/0x340
[   72.034057]  make_task_dead+0x384/0x3c0
[   72.034291]  ? asm_exc_general_protection+0x2b/0x30
[   72.034587]  rewind_stack_and_make_dead+0x16/0x20
[   72.034826]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   72.035189] RIP: 0033:0x7f8d0123ee5d
[   72.035440]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.035720] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   72.035973]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   72.036438] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.036686]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   72.037243] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   72.037485]  zap_huge_pmd+0x494/0xd40
[   72.038001] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.038180]  unmap_page_range+0x1ad6/0x4320
[   72.038691] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   72.038898]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   72.039414] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   72.039656]  ? __pfx_unmap_page_range+0x10/0x10
[   72.040187] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   72.040494]  unmap_single_vma+0x1ac/0x2d0
[   72.041126]  </TASK>
[   72.041384]  unmap_vmas+0x210/0x470
[   72.041825]  ? __pfx_unmap_vmas+0x10/0x10
[   72.042026]  ? __pfx_lock_release+0x10/0x10
[   72.042230]  ? lock_release+0x592/0x870
[   72.042422]  ? mas_next_slot+0x133a/0x1a50
[   72.042626]  ? __pfx_lock_release+0x10/0x10
[   72.042834]  ? mlock_drain_local+0x27f/0x4b0
[   72.043052]  exit_mmap+0x19e/0xb10
[   72.043230]  ? __pfx_exit_mmap+0x10/0x10
[   72.043429]  ? trace_hardirqs_on+0x51/0x60
[   72.043633]  ? __khugepaged_exit+0x266/0x4c0
[   72.043840]  ? kmem_cache_free+0x15d/0x420
[   72.044042]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   72.044296]  __mmput+0xd6/0x390
[   72.044455]  mmput+0x74/0x90
[   72.044603]  do_exit+0xa03/0x29f0
[   72.044774]  ? trace_hardirqs_on+0x51/0x60
[   72.044980]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   72.045275]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   72.045511]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   72.045745]  ? __pfx_do_exit+0x10/0x10
[   72.045938]  ? __audit_syscall_entry+0x39c/0x500
[   72.046174]  __x64_sys_exit+0x50/0x60
[   72.046365]  x64_sys_call+0x20c9/0x20d0
[   72.046562]  do_syscall_64+0x6d/0x140
[   72.046743]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   72.046976] RIP: 0033:0x7f8d0123ee5d
[   72.047143] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   72.047415] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.047748] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   72.048062] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.048373] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   72.048684] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   72.048996] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   72.049314]  </TASK>
[   72.049417] Modules linked in:
[   72.049684] ---[ end trace 0000000000000000 ]---
[   72.049893] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   72.050154] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   72.050930] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   72.051162] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   72.051477] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   72.051783] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   72.052088] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   72.052395] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   72.052694] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   72.053031] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   72.053278] CR2: 0000000000404200 CR3: 0000000029498002 CR4: 0000000000770ef0
[   72.053579] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   72.053876] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   72.054174] PKRU: 55555554
[   72.054296] note: repro[23690] exited with preempt_count 1
[   72.054527] Fixing recursive fault but reboot is needed!
[   72.054751] BUG: using smp_processor_id() in preemptible [00000000] code: repro/23690
[   72.055077] caller is debug_smp_processor_id+0x20/0x30
[   72.055307] CPU: 0 UID: 0 PID: 23690 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   72.055715] Tainted: [D]=DIE, [W]=WARN
[   72.055878] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.056633] Call Trace:
[   72.056872]  <TASK>
[   72.057086]  dump_stack_lvl+0x121/0x150
[   72.057465]  dump_stack+0x19/0x20
[   72.057658]  check_preemption_disabled+0x168/0x180
[   72.057869]  debug_smp_processor_id+0x20/0x30
[   72.058064]  __schedule+0x9a/0x2eb0
[   72.058223]  ? rcu_is_watching+0x19/0xc0
[   72.058400]  ? lock_release+0x592/0x870
[   72.058572]  ? __pfx___schedule+0x10/0x10
[   72.058750]  ? debug_smp_processor_id+0x20/0x30
[   72.058952]  ? rcu_is_watching+0x19/0xc0
[   72.059125]  ? trace_irq_enable+0xe1/0x120
[   72.059311]  ? do_task_dead+0x4a/0x110
[   72.059484]  do_task_dead+0xe0/0x110
[   72.059650]  make_task_dead+0x384/0x3c0
[   72.059825]  rewind_stack_and_make_dead+0x16/0x20
[   72.060032] RIP: 0033:0x7f8d0123ee5d
[   72.060191] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   72.060450] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.060768] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   72.061068] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.061366] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   72.061664] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   72.061964] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   72.062269]  </TASK>
[   72.062389] BUG: scheduling while atomic: repro/23690/0x00000000
[   72.062644] INFO: lockdep is turned off.
[   72.062812] Modules linked in:
[   72.062950] Preemption disabled at:
[   72.062952] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   72.063335] CPU: 0 UID: 0 PID: 23690 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   72.063734] Tainted: [D]=DIE, [W]=WARN
[   72.063896] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   72.064362] Call Trace:
[   72.064473]  <TASK>
[   72.064571]  dump_stack_lvl+0x121/0x150
[   72.064746]  ? do_task_dead+0x28/0x110
[   72.064917]  dump_stack+0x19/0x20
[   72.065071]  __schedule_bug+0x12d/0x180
[   72.065247]  __schedule+0x210c/0x2eb0
[   72.065413]  ? rcu_is_watching+0x19/0xc0
[   72.065587]  ? lock_release+0x592/0x870
[   72.065758]  ? __pfx___schedule+0x10/0x10
[   72.065939]  ? debug_smp_processor_id+0x20/0x30
[   72.066138]  ? rcu_is_watching+0x19/0xc0
[   72.066313]  ? trace_irq_enable+0xe1/0x120
[   72.066499]  ? do_task_dead+0x4a/0x110
[   72.066671]  do_task_dead+0xe0/0x110
[   72.066836]  make_task_dead+0x384/0x3c0
[   72.067014]  rewind_stack_and_make_dead+0x16/0x20
[   72.067220] RIP: 0033:0x7f8d0123ee5d
[   72.067378] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   72.067635] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   72.067953] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   72.068248] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   72.068545] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   72.068841] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   72.069139] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   72.069445]  </TASK>
[   73.132587] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#93] PREEMPT SMP KASAN NOPTI
[   73.133687] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.134398] CPU: 1 UID: 0 PID: 24281 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.135272] Tainted: [D]=DIE, [W]=WARN
[   73.135619] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.136625] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.137453] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.139079] RSP: 0018:ffff88801da6f7d8 EFLAGS: 00010202
[   73.139559] RAX: dffffc0000000000 RBX: ffffea00007a9240 RCX: ffffffff81b9e779
[   73.140199] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007a9250
[   73.140837] RBP: ffff88801da6f7f8 R08: 0000000000000000 R09: ffffed1003b64b44
[   73.141726] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.142362] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801db25a20
[   73.143003] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.143716] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.144235] CR2: 00007f8d015dfe28 CR3: 0000000029414004 CR4: 0000000000770ef0
[   73.144872] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.145798] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.146426] PKRU: 55555554
[   73.146670] Call Trace:
[   73.146894]  <TASK>
[   73.147097]  ? show_regs+0xa8/0xc0
[   73.147418]  ? die_addr+0x5d/0xf0
[   73.147734]  ? exc_general_protection+0x1ae/0x340
[   73.148173]  ? asm_exc_general_protection+0x2b/0x30
[   73.148692]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.149164]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.149623]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.150083]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.150539]  zap_huge_pmd+0x494/0xd40
[   73.150894]  unmap_page_range+0x1ad6/0x4320
[   73.151514]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.152085]  ? __pfx_unmap_page_range+0x10/0x10
[   73.152508]  unmap_single_vma+0x1ac/0x2d0
[   73.152878]  unmap_vmas+0x210/0x470
[   73.153214]  ? __pfx_unmap_vmas+0x10/0x10
[   73.153581]  ? __pfx_lock_release+0x10/0x10
[   73.153960]  ? lock_release+0x592/0x870
[   73.154302]  ? mas_next_slot+0x133a/0x1a50
[   73.154660]  ? __pfx_lock_release+0x10/0x10
[   73.155025]  ? mlock_drain_local+0x27f/0x4b0
[   73.155569]  exit_mmap+0x19e/0xb10
[   73.156010]  ? __pfx_exit_mmap+0x10/0x10
[   73.156382]  ? trace_hardirqs_on+0x51/0x60
[   73.156751]  ? __khugepaged_exit+0x266/0x4c0
[   73.157129]  ? kmem_cache_free+0x15d/0x420
[   73.157491]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.157951]  __mmput+0xd6/0x390
[   73.158234]  mmput+0x74/0x90
[   73.158495]  do_exit+0xa03/0x29f0
[   73.158794]  ? trace_hardirqs_on+0x51/0x60
[   73.159156]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.159676]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.160091]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.160503]  ? __pfx_do_exit+0x10/0x10
[   73.160835]  ? __audit_syscall_entry+0x39c/0x500
[   73.161240]  __x64_sys_exit+0x50/0x60
[   73.161713]  x64_sys_call+0x20c9/0x20d0
[   73.162165]  do_syscall_64+0x6d/0x140
[   73.162480]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.162890] RIP: 0033:0x7f8d0123ee5d
[   73.163185] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.163659] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.164248] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.164795] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.165342] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.165885] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.166433] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.166997]  </TASK>
[   73.167183] Modules linked in:
[   73.167629] ---[ end trace 0000000000000000 ]---
[   73.168136] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.168642] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.169990] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   73.170395] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   73.170947] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   73.171645] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   73.172183] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.172709] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   73.173235] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.173826] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.174444] CR2: 00007f8d015dfe28 CR3: 0000000029414004 CR4: 0000000000770ef0
[   73.175001] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.175646] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.176163] PKRU: 55555554
[   73.176370] note: repro[24281] exited with preempt_count 1
[   73.176764] Fixing recursive fault but reboot is needed!
[   73.177150] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24281
[   73.177706] caller is debug_smp_processor_id+0x20/0x30
[   73.178091] CPU: 1 UID: 0 PID: 24281 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.178769] Tainted: [D]=DIE, [W]=WARN
[   73.179048] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.179831] Call Trace:
[   73.180099]  <TASK>
[   73.180336]  dump_stack_lvl+0x121/0x150
[   73.180748]  dump_stack+0x19/0x20
[   73.181006]  check_preemption_disabled+0x168/0x180
[   73.181354]  debug_smp_processor_id+0x20/0x30
[   73.181672]  __schedule+0x9a/0x2eb0
[   73.181936]  ? rcu_is_watching+0x19/0xc0
[   73.182225]  ? lock_release+0x592/0x870
[   73.182507]  ? __pfx___schedule+0x10/0x10
[   73.182800]  ? debug_smp_processor_id+0x20/0x30
[   73.183136]  ? rcu_is_watching+0x19/0xc0
[   73.183423]  ? trace_irq_enable+0xe1/0x120
[   73.183727]  ? do_task_dead+0x4a/0x110
[   73.184012]  do_task_dead+0xe0/0x110
[   73.184284]  make_task_dead+0x384/0x3c0
[   73.184571]  rewind_stack_and_make_dead+0x16/0x20
[   73.184909] RIP: 0033:0x7f8d0123ee5d
[   73.185172] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.185591] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.186094] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.186776] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.187310] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.187776] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.188244] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.188723]  </TASK>
[   73.188913] BUG: scheduling while atomic: repro/24281/0x00000000
[   73.189319] INFO: lockdep is turned off.
[   73.189583] Modules linked in:
[   73.189795] Preemption disabled at:
[   73.189798] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.190389] CPU: 1 UID: 0 PID: 24281 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.190993] Tainted: [D]=DIE, [W]=WARN
[   73.191237] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.191980] Call Trace:
[   73.192137]  <TASK>
[   73.192426]  dump_stack_lvl+0x121/0x150
[   73.193199]  ? do_task_dead+0x28/0x110
[   73.193733]  dump_stack+0x19/0x20
[   73.194095]  __schedule_bug+0x12d/0x180
[   73.194523]  __schedule+0x210c/0x2eb0
[   73.194999]  ? rcu_is_watching+0x19/0xc0
[   73.195433]  ? lock_release+0x592/0x870
[   73.195816]  ? __pfx___schedule+0x10/0x10
[   73.196214]  ? debug_smp_processor_id+0x20/0x30
[   73.196660]  ? rcu_is_watching+0x19/0xc0
[   73.197044]  ? trace_irq_enable+0xe1/0x120
[   73.197460]  ? do_task_dead+0x4a/0x110
[   73.197853]  do_task_dead+0xe0/0x110
[   73.198225]  make_task_dead+0x384/0x3c0
[   73.198626]  rewind_stack_and_make_dead+0x16/0x20
[   73.199086] RIP: 0033:0x7f8d0123ee5d
[   73.199423] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.199994] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.200683] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.201313] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.201941] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.202572] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.203771] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.204819]  </TASK>
[   73.402585] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#94] PREEMPT SMP KASAN NOPTI
[   73.403683] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.404498] CPU: 0 UID: 0 PID: 24400 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.405361] Tainted: [D]=DIE, [W]=WARN
[   73.405708] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.406710] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.407261] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.409221] RSP: 0018:ffff88801eb477d8 EFLAGS: 00010202
[   73.409704] RAX: dffffc0000000000 RBX: ffffea0000449c00 RCX: ffffffff81b9e779
[   73.410344] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000449c10
[   73.410991] RBP: ffff88801eb477f8 R08: 0000000000000000 R09: ffffed10028c1f5c
[   73.411634] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.412531] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801460fae0
[   73.413178] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.413898] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.414424] CR2: 00007f8d0129bc20 CR3: 0000000011ad6001 CR4: 0000000000770ef0
[   73.415071] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.415710] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.416619] PKRU: 55555554
[   73.416879] Call Trace:
[   73.417118]  <TASK>
[   73.417331]  ? show_regs+0xa8/0xc0
[   73.417675]  ? die_addr+0x5d/0xf0
[   73.418012]  ? exc_general_protection+0x1ae/0x340
[   73.418472]  ? asm_exc_general_protection+0x2b/0x30
[   73.418948]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.419434]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.419918]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.420635]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.421126]  zap_huge_pmd+0x494/0xd40
[   73.421495]  unmap_page_range+0x1ad6/0x4320
[   73.421916]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.422401]  ? __pfx_unmap_page_range+0x10/0x10
[   73.422845]  unmap_single_vma+0x1ac/0x2d0
[   73.423243]  unmap_vmas+0x210/0x470
[   73.423599]  ? __pfx_unmap_vmas+0x10/0x10
[   73.424024]  ? __pfx_lock_release+0x10/0x10
[   73.424648]  ? lock_release+0x592/0x870
[   73.425044]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   73.425511]  ? __pfx_lock_release+0x10/0x10
[   73.425917]  ? mlock_drain_local+0x27f/0x4b0
[   73.426339]  exit_mmap+0x19e/0xb10
[   73.426686]  ? __pfx_exit_mmap+0x10/0x10
[   73.427082]  ? trace_hardirqs_on+0x51/0x60
[   73.427488]  ? __khugepaged_exit+0x266/0x4c0
[   73.427899]  ? kmem_cache_free+0x15d/0x420
[   73.428525]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.429151]  __mmput+0xd6/0x390
[   73.429468]  mmput+0x74/0x90
[   73.429760]  do_exit+0xa03/0x29f0
[   73.430101]  ? trace_hardirqs_on+0x51/0x60
[   73.430502]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.431082]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.431531]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.432005]  ? __pfx_do_exit+0x10/0x10
[   73.432381]  ? __audit_syscall_entry+0x39c/0x500
[   73.432841]  __x64_sys_exit+0x50/0x60
[   73.433215]  x64_sys_call+0x20c9/0x20d0
[   73.433597]  do_syscall_64+0x6d/0x140
[   73.433991]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.434484] RIP: 0033:0x7f8d0123ee5d
[   73.434836] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.435416] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.436135] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.437159] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.437822] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.438468] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.439131] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.439788]  </TASK>
[   73.440018] Modules linked in:
[   73.440551] ---[ end trace 0000000000000000 ]---
[   73.441111] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.441830] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.444130] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   73.444790] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   73.445653] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   73.446665] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   73.447556] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.448426] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   73.449291] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.450266] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.451200] CR2: 00007f8d0129bc20 CR3: 0000000011ad6001 CR4: 0000000000770ef0
[   73.451915] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.452583] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.453420] PKRU: 55555554
[   73.453725] note: repro[24400] exited with preempt_count 1
[   73.454232] Fixing recursive fault but reboot is needed!
[   73.454727] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24400
[   73.455621] caller is debug_smp_processor_id+0x20/0x30
[   73.456264] CPU: 0 UID: 0 PID: 24400 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.457403] Tainted: [D]=DIE, [W]=WARN
[   73.457860] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.459209] Call Trace:
[   73.459521]  <TASK>
[   73.459793]  dump_stack_lvl+0x121/0x150
[   73.460289]  dump_stack+0x19/0x20
[   73.460719]  check_preemption_disabled+0x168/0x180
[   73.461316]  debug_smp_processor_id+0x20/0x30
[   73.461858]  __schedule+0x9a/0x2eb0
[   73.462305]  ? rcu_is_watching+0x19/0xc0
[   73.462798]  ? lock_release+0x592/0x870
[   73.463285]  ? __pfx___schedule+0x10/0x10
[   73.463850]  ? debug_smp_processor_id+0x20/0x30
[   73.464510]  ? rcu_is_watching+0x19/0xc0
[   73.464927]  ? trace_irq_enable+0xe1/0x120
[   73.465337]  ? do_task_dead+0x4a/0x110
[   73.465706]  do_task_dead+0xe0/0x110
[   73.466069]  make_task_dead+0x384/0x3c0
[   73.466451]  rewind_stack_and_make_dead+0x16/0x20
[   73.466904] RIP: 0033:0x7f8d0123ee5d
[   73.467256] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.467811] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.468491] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.469128] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.469761] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.470397] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.471034] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.471684]  </TASK>
[   73.472063] BUG: scheduling while atomic: repro/24400/0x00000000
[   73.472627] INFO: lockdep is turned off.
[   73.472989] Modules linked in:
[   73.473280] Preemption disabled at:
[   73.473286] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.474111] CPU: 0 UID: 0 PID: 24400 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.474969] Tainted: [D]=DIE, [W]=WARN
[   73.475326] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.476328] Call Trace:
[   73.476566]  <TASK>
[   73.476791]  dump_stack_lvl+0x121/0x150
[   73.477172]  ? do_task_dead+0x28/0x110
[   73.477537]  dump_stack+0x19/0x20
[   73.477867]  __schedule_bug+0x12d/0x180
[   73.478246]  __schedule+0x210c/0x2eb0
[   73.478599]  ? rcu_is_watching+0x19/0xc0
[   73.478974]  ? lock_release+0x592/0x870
[   73.479341]  ? __pfx___schedule+0x10/0x10
[   73.479723]  ? debug_smp_processor_id+0x20/0x30
[   73.480151]  ? rcu_is_watching+0x19/0xc0
[   73.480523]  ? trace_irq_enable+0xe1/0x120
[   73.480919]  ? do_task_dead+0x4a/0x110
[   73.481294]  do_task_dead+0xe0/0x110
[   73.481649]  make_task_dead+0x384/0x3c0
[   73.482027]  rewind_stack_and_make_dead+0x16/0x20
[   73.482491] RIP: 0033:0x7f8d0123ee5d
[   73.482837] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.483395] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.484080] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.484717] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.485356] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.485997] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.486635] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.487311]  </TASK>
[   73.520434] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#95] PREEMPT SMP KASAN NOPTI
[   73.521520] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.522203] CPU: 0 UID: 0 PID: 24480 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.523062] Tainted: [D]=DIE, [W]=WARN
[   73.523411] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.524416] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.524963] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.526592] RSP: 0018:ffff88802955f7d8 EFLAGS: 00010202
[   73.527080] RAX: dffffc0000000000 RBX: ffffea000058df40 RCX: ffffffff81b9e779
[   73.527720] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000058df50
[   73.528358] RBP: ffff88802955f7f8 R08: 0000000000000000 R09: ffffed10038557c8
[   73.529003] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.529643] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c2abe40
[   73.530286] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.531010] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.531533] CR2: 00007f8d013fca50 CR3: 0000000029712004 CR4: 0000000000770ef0
[   73.532176] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.532817] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.533472] PKRU: 55555554
[   73.533739] Call Trace:
[   73.533981]  <TASK>
[   73.534194]  ? show_regs+0xa8/0xc0
[   73.534535]  ? die_addr+0x5d/0xf0
[   73.534868]  ? exc_general_protection+0x1ae/0x340
[   73.535329]  ? asm_exc_general_protection+0x2b/0x30
[   73.535802]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.536287]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.536772]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.537258]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.537743]  zap_huge_pmd+0x494/0xd40
[   73.538113]  unmap_page_range+0x1ad6/0x4320
[   73.538529]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.539012]  ? __pfx_unmap_page_range+0x10/0x10
[   73.539457]  unmap_single_vma+0x1ac/0x2d0
[   73.539847]  unmap_vmas+0x210/0x470
[   73.540202]  ? __pfx_unmap_vmas+0x10/0x10
[   73.540589]  ? __pfx_lock_release+0x10/0x10
[   73.540990]  ? lock_release+0x592/0x870
[   73.541359]  ? mas_next_slot+0x133a/0x1a50
[   73.541757]  ? __pfx_lock_release+0x10/0x10
[   73.542163]  ? mlock_drain_local+0x27f/0x4b0
[   73.542592]  exit_mmap+0x19e/0xb10
[   73.542948]  ? __pfx_exit_mmap+0x10/0x10
[   73.543342]  ? trace_hardirqs_on+0x51/0x60
[   73.543755]  ? __khugepaged_exit+0x266/0x4c0
[   73.544183]  ? kmem_cache_free+0x15d/0x420
[   73.544593]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.545116]  __mmput+0xd6/0x390
[   73.545441]  mmput+0x74/0x90
[   73.545733]  do_exit+0xa03/0x29f0
[   73.546080]  ? trace_hardirqs_on+0x51/0x60
[   73.546490]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.547084]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.547557]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.548027]  ? __pfx_do_exit+0x10/0x10
[   73.548402]  ? __audit_syscall_entry+0x39c/0x500
[   73.548859]  __x64_sys_exit+0x50/0x60
[   73.549226]  x64_sys_call+0x20c9/0x20d0
[   73.549605]  do_syscall_64+0x6d/0x140
[   73.549983]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.550468] RIP: 0033:0x7f8d0123ee5d
[   73.550817] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.551398] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.552109] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.552772] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.553431] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.554103] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.554750] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.555421]  </TASK>
[   73.555642] Modules linked in:
[   73.556042] ---[ end trace 0000000000000000 ]---
[   73.556486] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.557043] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.558740] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   73.559242] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   73.560043] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   73.560715] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   73.561374] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.561438] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#96] PREEMPT SMP KASAN NOPTI
[   73.562031] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   73.563124] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.563976] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.564441] CPU: 1 UID: 0 PID: 24484 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.565168] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.566026] Tainted: [D]=DIE, [W]=WARN
[   73.566553] CR2: 00007f8d013fca50 CR3: 0000000029712004 CR4: 0000000000770ef0
[   73.567122] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.567906] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.568817] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.569476] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.570023] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.570673] PKRU: 55555554
[   73.572320] RSP: 0018:ffff8880145977d8 EFLAGS: 00010202
[   73.572344] RAX: dffffc0000000000 RBX: ffffea00003df4c0 RCX: ffffffff81b9e779
[   73.572608] note: repro[24480] exited with preempt_count 1
[   73.573326] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003df4d0
[   73.573967] Fixing recursive fault but reboot is needed!
[   73.574462] RBP: ffff8880145977f8 R08: 0000000000000000 R09: ffffed100403a030
[   73.575099] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24480
[   73.575569] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.575582] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880201d0180
[   73.576245] caller is debug_smp_processor_id+0x20/0x30
[   73.576977] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.577632] CPU: 0 UID: 0 PID: 24480 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.578277] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.578761] Tainted: [D]=DIE, [W]=WARN
[   73.579526] CR2: 00007f6157234018 CR3: 00000000295d6001 CR4: 0000000000770ef0
[   73.580384] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.580919] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.581264] Call Trace:
[   73.581905] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.582911]  <TASK>
[   73.583539] PKRU: 55555554
[   73.583775]  dump_stack_lvl+0x121/0x150
[   73.584394] Call Trace:
[   73.584597]  dump_stack+0x19/0x20
[   73.585001]  <TASK>
[   73.585340]  check_preemption_disabled+0x168/0x180
[   73.585673]  ? show_regs+0xa8/0xc0
[   73.585969]  debug_smp_processor_id+0x20/0x30
[   73.586172]  ? die_addr+0x5d/0xf0
[   73.586600]  __schedule+0x9a/0x2eb0
[   73.586945]  ? exc_general_protection+0x1ae/0x340
[   73.587331]  ? rcu_is_watching+0x19/0xc0
[   73.587665]  ? asm_exc_general_protection+0x2b/0x30
[   73.587975]  ? lock_release+0x592/0x870
[   73.588484]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.588809]  ? __pfx___schedule+0x10/0x10
[   73.589249]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.589583]  ? debug_smp_processor_id+0x20/0x30
[   73.590039]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.590365]  ? rcu_is_watching+0x19/0xc0
[   73.590824]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.591197]  ? trace_irq_enable+0xe1/0x120
[   73.592004]  zap_huge_pmd+0x494/0xd40
[   73.592325]  ? do_task_dead+0x4a/0x110
[   73.592817]  unmap_page_range+0x1ad6/0x4320
[   73.593149]  do_task_dead+0xe0/0x110
[   73.593522]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.593812]  make_task_dead+0x384/0x3c0
[   73.594225]  ? __pfx_unmap_page_range+0x10/0x10
[   73.594520]  rewind_stack_and_make_dead+0x16/0x20
[   73.594984]  unmap_single_vma+0x1ac/0x2d0
[   73.595287] RIP: 0033:0x7f8d0123ee5d
[   73.595701]  unmap_vmas+0x210/0x470
[   73.596079] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.596454]  ? __pfx_unmap_vmas+0x10/0x10
[   73.596741] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202
[   73.597065]  ? __pfx_lock_release+0x10/0x10
[   73.597559]  ORIG_RAX: 000000000000003c
[   73.597927]  ? lock_release+0x592/0x870
[   73.598350] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.598724]  ? mas_next_slot+0x133a/0x1a50
[   73.599024] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.599370]  ? __pfx_lock_release+0x10/0x10
[   73.599911] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.600286]  ? mlock_drain_local+0x27f/0x4b0
[   73.600821] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.601205]  exit_mmap+0x19e/0xb10
[   73.601742] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.602156]  ? __pfx_exit_mmap+0x10/0x10
[   73.602706]  </TASK>
[   73.603032]  ? trace_hardirqs_on+0x51/0x60
[   73.604597]  ? __khugepaged_exit+0x266/0x4c0
[   73.605023]  ? kmem_cache_free+0x15d/0x420
[   73.605425]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.606298]  __mmput+0xd6/0x390
[   73.606628]  mmput+0x74/0x90
[   73.606921]  do_exit+0xa03/0x29f0
[   73.607267]  ? trace_hardirqs_on+0x51/0x60
[   73.607694]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.608275]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.608733]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.609199]  ? __pfx_do_exit+0x10/0x10
[   73.609570]  ? __audit_syscall_entry+0x39c/0x500
[   73.610202]  __x64_sys_exit+0x50/0x60
[   73.610606]  x64_sys_call+0x20c9/0x20d0
[   73.610974]  do_syscall_64+0x6d/0x140
[   73.611326]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.611784] RIP: 0033:0x7f8d0123ee5d
[   73.612112] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.612636] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.613290] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.613900] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.614737] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.615356] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.615969] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.616579]  </TASK>
[   73.616779] Modules linked in:
[   73.617291] ---[ end trace 0000000000000000 ]---
[   73.617693] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.618512] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.620207] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   73.620653] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   73.621235] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   73.621815] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   73.622772] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.623358] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   73.624144] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   73.624776] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.625232] CR2: 00007f6157234018 CR3: 00000000295d6001 CR4: 0000000000770ef0
[   73.625789] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.626349] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.627079] PKRU: 55555554
[   73.627305] note: repro[24484] exited with preempt_count 1
[   73.627851] Fixing recursive fault but reboot is needed!
[   73.628272] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24484
[   73.628879] caller is debug_smp_processor_id+0x20/0x30
[   73.629302] CPU: 1 UID: 0 PID: 24484 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.630051] Tainted: [D]=DIE, [W]=WARN
[   73.630499] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.631539] Call Trace:
[   73.631742]  <TASK>
[   73.631919]  dump_stack_lvl+0x121/0x150
[   73.632242]  dump_stack+0x19/0x20
[   73.632522]  check_preemption_disabled+0x168/0x180
[   73.632899]  debug_smp_processor_id+0x20/0x30
[   73.633246]  __schedule+0x9a/0x2eb0
[   73.633528]  ? rcu_is_watching+0x19/0xc0
[   73.633840]  ? lock_release+0x592/0x870
[   73.634149]  ? __pfx___schedule+0x10/0x10
[   73.634470]  ? debug_smp_processor_id+0x20/0x30
[   73.634825]  ? rcu_is_watching+0x19/0xc0
[   73.635139]  ? trace_irq_enable+0xe1/0x120
[   73.635475]  ? do_task_dead+0x4a/0x110
[   73.635786]  do_task_dead+0xe0/0x110
[   73.636131]  make_task_dead+0x384/0x3c0
[   73.636446]  rewind_stack_and_make_dead+0x16/0x20
[   73.636815] RIP: 0033:0x7f8d0123ee5d
[   73.637100] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.637552] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.638094] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.638603] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.639109] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.639611] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.640129] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.640660]  </TASK>
[   73.641142] BUG: scheduling while atomic: repro/24484/0x00000000
[   73.641637] INFO: lockdep is turned off.
[   73.641923] Modules linked in:
[   73.642160] Preemption disabled at:
[   73.642164] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.642821] CPU: 1 UID: 0 PID: 24484 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.643502] Tainted: [D]=DIE, [W]=WARN
[   73.643777] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.644546] Call Trace:
[   73.644726]  <TASK>
[   73.644887]  dump_stack_lvl+0x121/0x150
[   73.645188]  ? do_task_dead+0x28/0x110
[   73.645480]  dump_stack+0x19/0x20
[   73.645748]  __schedule_bug+0x12d/0x180
[   73.646054]  __schedule+0x210c/0x2eb0
[   73.646329]  ? rcu_is_watching+0x19/0xc0
[   73.646614]  ? lock_release+0x592/0x870
[   73.647041]  ? __pfx___schedule+0x10/0x10
[   73.647478]  ? debug_smp_processor_id+0x20/0x30
[   73.647808]  ? rcu_is_watching+0x19/0xc0
[   73.648102]  ? trace_irq_enable+0xe1/0x120
[   73.648410]  ? do_task_dead+0x4a/0x110
[   73.648695]  do_task_dead+0xe0/0x110
[   73.648972]  make_task_dead+0x384/0x3c0
[   73.649259]  rewind_stack_and_make_dead+0x16/0x20
[   73.649585] RIP: 0033:0x7f8d0123ee5d
[   73.649835] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.650239] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.650735] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.651204] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.651670] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.652141] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.652615] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.653096]  </TASK>
[   73.663869] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#97] PREEMPT SMP KASAN NOPTI
[   73.664965] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   73.665645] CPU: 0 UID: 0 PID: 24512 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.666506] Tainted: [D]=DIE, [W]=WARN
[   73.666852] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.667870] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.668418] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.670050] RSP: 0018:ffff888010e577d8 EFLAGS: 00010202
[   73.670538] RAX: dffffc0000000000 RBX: ffffea00007adc40 RCX: ffffffff81b9e779
[   73.671180] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00007adc50
[   73.671828] RBP: ffff888010e577f8 R08: 0000000000000000 R09: ffffed1002540720
[   73.672474] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   73.673110] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888012a03900
[   73.673746] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.674466] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.674990] CR2: 00007fff00956878 CR3: 0000000032cca004 CR4: 0000000000770ef0
[   73.675627] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.676264] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.676901] PKRU: 55555554
[   73.677162] Call Trace:
[   73.677398]  <TASK>
[   73.677608]  ? show_regs+0xa8/0xc0
[   73.677950]  ? die_addr+0x5d/0xf0
[   73.678280]  ? exc_general_protection+0x1ae/0x340
[   73.678735]  ? asm_exc_general_protection+0x2b/0x30
[   73.679205]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   73.679685]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.680166]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   73.680649]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   73.681132]  zap_huge_pmd+0x494/0xd40
[   73.681495]  unmap_page_range+0x1ad6/0x4320
[   73.681908]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   73.682387]  ? __pfx_unmap_page_range+0x10/0x10
[   73.682831]  unmap_single_vma+0x1ac/0x2d0
[   73.683226]  unmap_vmas+0x210/0x470
[   73.683575]  ? __pfx_unmap_vmas+0x10/0x10
[   73.683961]  ? __pfx_lock_release+0x10/0x10
[   73.684359]  ? lock_release+0x592/0x870
[   73.684727]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   73.685196]  ? __pfx_lock_release+0x10/0x10
[   73.685599]  ? mlock_drain_local+0x27f/0x4b0
[   73.686016]  exit_mmap+0x19e/0xb10
[   73.686355]  ? __pfx_exit_mmap+0x10/0x10
[   73.686743]  ? trace_hardirqs_on+0x51/0x60
[   73.687149]  ? __khugepaged_exit+0x266/0x4c0
[   73.687558]  ? kmem_cache_free+0x15d/0x420
[   73.687960]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   73.688461]  __mmput+0xd6/0x390
[   73.688771]  mmput+0x74/0x90
[   73.689060]  do_exit+0xa03/0x29f0
[   73.689388]  ? trace_hardirqs_on+0x51/0x60
[   73.689787]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   73.690361]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   73.690816]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   73.691273]  ? __pfx_do_exit+0x10/0x10
[   73.691641]  ? __audit_syscall_entry+0x39c/0x500
[   73.692088]  __x64_sys_exit+0x50/0x60
[   73.692444]  x64_sys_call+0x20c9/0x20d0
[   73.692810]  do_syscall_64+0x6d/0x140
[   73.693171]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   73.693645] RIP: 0033:0x7f8d0123ee5d
[   73.693987] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.694536] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.695216] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.695849] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.696481] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.697117] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.697751] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.698388]  </TASK>
[   73.698590] Modules linked in:
[   73.698973] ---[ end trace 0000000000000000 ]---
[   73.699393] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   73.699907] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   73.701455] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   73.701911] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   73.702520] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   73.703130] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   73.703752] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   73.704362] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   73.704942] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   73.705596] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   73.706071] CR2: 00007fff00956878 CR3: 0000000032cca004 CR4: 0000000000770ef0
[   73.706928] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   73.707576] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   73.708247] PKRU: 55555554
[   73.708510] note: repro[24512] exited with preempt_count 1
[   73.709176] Fixing recursive fault but reboot is needed!
[   73.709624] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24512
[   73.710260] caller is debug_smp_processor_id+0x20/0x30
[   73.710695] CPU: 0 UID: 0 PID: 24512 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.711603] Tainted: [D]=DIE, [W]=WARN
[   73.711916] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.712832] Call Trace:
[   73.713052]  <TASK>
[   73.713242]  dump_stack_lvl+0x121/0x150
[   73.713585]  dump_stack+0x19/0x20
[   73.713884]  check_preemption_disabled+0x168/0x180
[   73.714301]  debug_smp_processor_id+0x20/0x30
[   73.714683]  __schedule+0x9a/0x2eb0
[   73.715015]  ? rcu_is_watching+0x19/0xc0
[   73.715373]  ? lock_release+0x592/0x870
[   73.715725]  ? __pfx___schedule+0x10/0x10
[   73.716089]  ? debug_smp_processor_id+0x20/0x30
[   73.716486]  ? rcu_is_watching+0x19/0xc0
[   73.716806]  ? trace_irq_enable+0xe1/0x120
[   73.717154]  ? do_task_dead+0x4a/0x110
[   73.717473]  do_task_dead+0xe0/0x110
[   73.717778]  make_task_dead+0x384/0x3c0
[   73.718107]  rewind_stack_and_make_dead+0x16/0x20
[   73.718492] RIP: 0033:0x7f8d0123ee5d
[   73.718785] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.719267] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.719860] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.720413] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.720969] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.721521] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.722074] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.722639]  </TASK>
[   73.722968] BUG: scheduling while atomic: repro/24512/0x00000000
[   73.723633] INFO: lockdep is turned off.
[   73.723943] Modules linked in:
[   73.724187] Preemption disabled at:
[   73.724191] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   73.724874] CPU: 0 UID: 0 PID: 24512 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   73.725582] Tainted: [D]=DIE, [W]=WARN
[   73.725866] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   73.726664] Call Trace:
[   73.726850]  <TASK>
[   73.727019]  dump_stack_lvl+0x121/0x150
[   73.727316]  ? do_task_dead+0x28/0x110
[   73.727610]  dump_stack+0x19/0x20
[   73.727874]  __schedule_bug+0x12d/0x180
[   73.728175]  __schedule+0x210c/0x2eb0
[   73.728453]  ? rcu_is_watching+0x19/0xc0
[   73.728749]  ? lock_release+0x592/0x870
[   73.729043]  ? __pfx___schedule+0x10/0x10
[   73.729345]  ? debug_smp_processor_id+0x20/0x30
[   73.729683]  ? rcu_is_watching+0x19/0xc0
[   73.729980]  ? trace_irq_enable+0xe1/0x120
[   73.730297]  ? do_task_dead+0x4a/0x110
[   73.730591]  do_task_dead+0xe0/0x110
[   73.730872]  make_task_dead+0x384/0x3c0
[   73.731172]  rewind_stack_and_make_dead+0x16/0x20
[   73.731521] RIP: 0033:0x7f8d0123ee5d
[   73.731790] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   73.732216] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   73.732737] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   73.733233] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   73.733723] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   73.734232] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   73.734723] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   73.735226]  </TASK>
[   74.134377] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#98] PREEMPT SMP KASAN NOPTI
[   74.136054] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   74.136747] CPU: 1 UID: 0 PID: 24679 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   74.137637] Tainted: [D]=DIE, [W]=WARN
[   74.137987] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.138981] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.139524] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.141169] RSP: 0018:ffff88801c0df7d8 EFLAGS: 00010202
[   74.141906] RAX: dffffc0000000000 RBX: ffffea000049a400 RCX: ffffffff81b9e779
[   74.142572] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea000049a410
[   74.143216] RBP: ffff88801c0df7f8 R08: 0000000000000000 R09: ffffed1001f6cb14
[   74.143852] R10: 0000000000000001 R11: ffff88806c750318 R12: 0000000000000000
[   74.144489] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88800fb658a0
[   74.145129] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   74.145842] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.146366] CR2: 00007fff00956878 CR3: 0000000032c5c005 CR4: 0000000000770ef0
[   74.147010] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.147644] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.148493] PKRU: 55555554
[   74.148754] Call Trace:
[   74.148996]  <TASK>
[   74.149212]  ? show_regs+0xa8/0xc0
[   74.149558]  ? die_addr+0x5d/0xf0
[   74.149891]  ? exc_general_protection+0x1ae/0x340
[   74.150356]  ? asm_exc_general_protection+0x2b/0x30
[   74.150830]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   74.151318]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.152151]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   74.152693]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.153166]  zap_huge_pmd+0x494/0xd40
[   74.153522]  unmap_page_range+0x1ad6/0x4320
[   74.153907]  ? __pfx_lock_release+0x10/0x10
[   74.154289]  ? do_raw_spin_trylock+0xbf/0x190
[   74.154688]  ? __kasan_check_read+0x15/0x20
[   74.155093]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   74.155551]  ? __pfx_unmap_page_range+0x10/0x10
[   74.156257]  unmap_single_vma+0x1ac/0x2d0
[   74.156702]  unmap_vmas+0x210/0x470
[   74.157066]  ? __pfx_unmap_vmas+0x10/0x10
[   74.157455]  ? __pfx_lock_release+0x10/0x10
[   74.157864]  ? lock_release+0x592/0x870
[   74.158247]  ? __pfx_folio_batch_move_lru+0x10/0x10
[   74.158696]  ? __pfx_lock_release+0x10/0x10
[   74.159114]  ? mlock_drain_local+0x27f/0x4b0
[   74.159553]  exit_mmap+0x19e/0xb10
[   74.160128]  ? __pfx_exit_mmap+0x10/0x10
[   74.160699]  ? trace_hardirqs_on+0x51/0x60
[   74.161094]  ? __khugepaged_exit+0x266/0x4c0
[   74.161470]  ? kmem_cache_free+0x15d/0x420
[   74.161834]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   74.162294]  __mmput+0xd6/0x390
[   74.162581]  mmput+0x74/0x90
[   74.162845]  do_exit+0xa03/0x29f0
[   74.163152]  ? trace_hardirqs_on+0x51/0x60
[   74.163515]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   74.164038]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   74.164734]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   74.165160]  ? __pfx_do_exit+0x10/0x10
[   74.165496]  ? __audit_syscall_entry+0x39c/0x500
[   74.165900]  __x64_sys_exit+0x50/0x60
[   74.166235]  x64_sys_call+0x20c9/0x20d0
[   74.166572]  do_syscall_64+0x6d/0x140
[   74.166902]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   74.167337] RIP: 0033:0x7f8d0123ee5d
[   74.167650] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   74.168255] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.169067] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   74.169642] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.170196] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   74.170748] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   74.171299] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   74.171859]  </TASK>
[   74.172049] Modules linked in:
[   74.172473] ---[ end trace 0000000000000000 ]---
[   74.172850] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.173320] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.174721] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   74.175231] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   74.175803] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   74.176376] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   74.176904] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   74.177452] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   74.178004] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   74.178625] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.179063] CR2: 00007fff00956878 CR3: 0000000032c5c005 CR4: 0000000000770ef0
[   74.179610] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.180152] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.180976] PKRU: 55555554
[   74.181319] note: repro[24679] exited with preempt_count 1
[   74.181750] Fixing recursive fault but reboot is needed!
[   74.182153] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24679
[   74.182725] caller is debug_smp_processor_id+0x20/0x30
[   74.183110] CPU: 1 UID: 0 PID: 24679 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   74.183791] Tainted: [D]=DIE, [W]=WARN
[   74.184070] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.184860] Call Trace:
[   74.185050]  <TASK>
[   74.185217]  dump_stack_lvl+0x121/0x150
[   74.185518]  dump_stack+0x19/0x20
[   74.185783]  check_preemption_disabled+0x168/0x180
[   74.186147]  debug_smp_processor_id+0x20/0x30
[   74.186471]  __schedule+0x9a/0x2eb0
[   74.186855]  ? rcu_is_watching+0x19/0xc0
[   74.187294]  ? lock_release+0x592/0x870
[   74.187640]  ? __pfx___schedule+0x10/0x10
[   74.187939]  ? debug_smp_processor_id+0x20/0x30
[   74.188304]  ? rcu_is_watching+0x19/0xc0
[   74.188647]  ? trace_irq_enable+0xe1/0x120
[   74.189017]  ? do_task_dead+0x4a/0x110
[   74.189373]  do_task_dead+0xe0/0x110
[   74.189710]  make_task_dead+0x384/0x3c0
[   74.190024]  rewind_stack_and_make_dead+0x16/0x20
[   74.190366] RIP: 0033:0x7f8d0123ee5d
[   74.190623] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   74.191046] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.191564] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   74.192051] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.192533] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   74.193019] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   74.193715] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   74.194196]  </TASK>
[   74.194379] BUG: scheduling while atomic: repro/24679/0x00000000
[   74.194782] INFO: lockdep is turned off.
[   74.195048] Modules linked in:
[   74.195262] Preemption disabled at:
[   74.195266] [<ffffffff813528a8>] do_task_dead+0x28/0x110
[   74.195884] CPU: 1 UID: 0 PID: 24679 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   74.196535] Tainted: [D]=DIE, [W]=WARN
[   74.196882] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.197877] Call Trace:
[   74.198123]  <TASK>
[   74.198342]  dump_stack_lvl+0x121/0x150
[   74.198721]  ? do_task_dead+0x28/0x110
[   74.199181]  dump_stack+0x19/0x20
[   74.199700]  __schedule_bug+0x12d/0x180
[   74.200150]  __schedule+0x210c/0x2eb0
[   74.200517]  ? rcu_is_watching+0x19/0xc0
[   74.200917]  ? lock_release+0x592/0x870
[   74.201299]  ? __pfx___schedule+0x10/0x10
[   74.201710]  ? debug_smp_processor_id+0x20/0x30
[   74.202072]  ? rcu_is_watching+0x19/0xc0
[   74.202350]  ? trace_irq_enable+0xe1/0x120
[   74.202641]  ? do_task_dead+0x4a/0x110
[   74.202911]  do_task_dead+0xe0/0x110
[   74.203177]  make_task_dead+0x384/0x3c0
[   74.203451]  rewind_stack_and_make_dead+0x16/0x20
[   74.203777] RIP: 0033:0x7f8d0123ee5d
[   74.204040] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   74.204454] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.205018] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   74.205657] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.206452] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   74.206942] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   74.207369] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   74.207806]  </TASK>
[   74.407310] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#99] PREEMPT SMP KASAN NOPTI
[   74.408403] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   74.409315] CPU: 1 UID: 0 PID: 24807 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   74.410171] Tainted: [D]=DIE, [W]=WARN
[   74.410513] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.411509] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.412063] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.413761] RSP: 0018:ffff888020da77d8 EFLAGS: 00010202
[   74.414252] RAX: dffffc0000000000 RBX: ffffea00004d01c0 RCX: ffffffff81b9e779
[   74.415250] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00004d01d0
[   74.415864] RBP: ffff888020da77f8 R08: 0000000000000000 R09: ffffed1003855744
[   74.416480] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   74.417105] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff88801c2aba20
[   74.417715] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   74.418417] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.419269] CR2: 00007f8d01601910 CR3: 00000000190c0003 CR4: 0000000000770ef0
[   74.420100] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.420827] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.421469] PKRU: 55555554
[   74.421728] Call Trace:
[   74.421968]  <TASK>
[   74.422179]  ? show_regs+0xa8/0xc0
[   74.422531]  ? die_addr+0x5d/0xf0
[   74.422863]  ? exc_general_protection+0x1ae/0x340
[   74.423316]  ? asm_exc_general_protection+0x2b/0x30
[   74.423767]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   74.424245]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.424712]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   74.425480]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.426002]  zap_huge_pmd+0x494/0xd40
[   74.426372]  unmap_page_range+0x1ad6/0x4320
[   74.426797]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   74.427289]  ? __pfx_unmap_page_range+0x10/0x10
[   74.427738]  unmap_single_vma+0x1ac/0x2d0
[   74.428143]  unmap_vmas+0x210/0x470
[   74.428502]  ? __pfx_unmap_vmas+0x10/0x10
[   74.428890]  ? __pfx_lock_release+0x10/0x10
[   74.429533]  ? lock_release+0x592/0x870
[   74.430124]  ? mas_next_slot+0x133a/0x1a50
[   74.430734]  ? __pfx_lock_release+0x10/0x10
[   74.431292]  ? mlock_drain_local+0x27f/0x4b0
[   74.431796]  exit_mmap+0x19e/0xb10
[   74.432187]  ? __pfx_exit_mmap+0x10/0x10
[   74.432598]  ? trace_hardirqs_on+0x51/0x60
[   74.433036]  ? __khugepaged_exit+0x266/0x4c0
[   74.433469]  ? kmem_cache_free+0x15d/0x420
[   74.434007]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   74.434738]  __mmput+0xd6/0x390
[   74.435141]  mmput+0x74/0x90
[   74.435439]  do_exit+0xa03/0x29f0
[   74.435776]  ? trace_hardirqs_on+0x51/0x60
[   74.436222]  ? seqcount_lockdep_reader_access.constprop.0+0xc0/0xd0
[   74.436812]  ? __sanitizer_cov_trace_cmp4+0x1a/0x20
[   74.437278]  ? ktime_get_coarse_real_ts64+0xbf/0xf0
[   74.437736]  ? __pfx_do_exit+0x10/0x10
[   74.438111]  ? __audit_syscall_entry+0x39c/0x500
[   74.438561]  __x64_sys_exit+0x50/0x60
[   74.438924]  x64_sys_call+0x20c9/0x20d0
[   74.439254]  do_syscall_64+0x6d/0x140
[   74.439719]  entry_SYSCALL_64_after_hwframe+0x76/0x7e
[   74.440240] RIP: 0033:0x7f8d0123ee5d
[   74.440539] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   74.441028] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.441619] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   74.442176] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.442725] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   74.443279] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   74.443828] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   74.444409]  </TASK>
[   74.444599] Modules linked in:
[   74.445107] ---[ end trace 0000000000000000 ]---
[   74.445569] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.446057] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.447514] RSP: 0018:ffff88801e87f7d8 EFLAGS: 00010202
[   74.448253] RAX: dffffc0000000000 RBX: ffffea00003ea0c0 RCX: ffffffff81b9e779
[   74.448818] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea00003ea0d0
[   74.449371] RBP: ffff88801e87f7f8 R08: 0000000000000000 R09: ffffed100401d120
[   74.449920] R10: 0000000000000001 R11: 0000000000000001 R12: 0000000000000000
[   74.450473] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff8880200e8900
[   74.451030] FS:  0000000000000000(0000) GS:ffff88806c700000(0000) knlGS:0000000000000000
[   74.451640] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.452082] CR2: 00007f8d01601910 CR3: 00000000190c0003 CR4: 0000000000770ef0
[   74.452613] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.453149] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.453686] PKRU: 55555554
[   74.454019] note: repro[24807] exited with preempt_count 1
[   74.454603] Fixing recursive fault but reboot is needed!
[   74.455090] BUG: using smp_processor_id() in preemptible [00000000] code: repro/24807
[   74.455817] caller is debug_smp_processor_id+0x20/0x30
[   74.456315] CPU: 1 UID: 0 PID: 24807 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   74.457019] Tainted: [D]=DIE, [W]=WARN
[   74.457295] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.458089] Call Trace:
[   74.458275]  <TASK>
[   74.458441]  dump_stack_lvl+0x121/0x150
[   74.458740]  dump_stack+0x19/0x20
[   74.459012]  check_preemption_disabled+0x168/0x180
[   74.459372]  debug_smp_processor_id+0x20/0x30
[   74.459703]  __schedule+0x9a/0x2eb0
[   74.460123]  ? rcu_is_watching+0x19/0xc0
[   74.460570]  ? lock_release+0x592/0x870
[   74.460878]  ? __pfx___schedule+0x10/0x10
[   74.461179]  ? debug_smp_processor_id+0x20/0x30
[   74.461508]  ? rcu_is_watching+0x19/0xc0
[   74.461795]  ? trace_irq_enable+0xe1/0x120
[   74.462108]  ? do_task_dead+0x4a/0x110
[   74.462395]  do_task_dead+0xe0/0x110
[   74.462667]  make_task_dead+0x384/0x3c0
[   74.462960]  rewind_stack_and_make_dead+0x16/0x20
[   74.463302] RIP: 0033:0x7f8d0123ee5d
[   74.463560] Code: Unable to access opcode bytes at 0x7f8d0123ee33.
[   74.463986] RSP: 002b:00007f8d01600d98 EFLAGS: 00000202 ORIG_RAX: 000000000000003c
[   74.464503] RAX: ffffffffffffffda RBX: 00007f8d01601640 RCX: 00007f8d0123ee5d
[   74.464993] RDX: 00007f8d01313945 RSI: 0000000000000000 RDI: 0000000000000000
[   74.465305] Oops: general protection fault, probably for non-canonical address 0xdffffc0000000001: 0000 [#100] PREEMPT SMP KASAN NOPTI
[   74.465479] RBP: 00007f8d01600db0 R08: 0000000000000000 R09: 0000000000000000
[   74.467008] KASAN: null-ptr-deref in range [0x0000000000000008-0x000000000000000f]
[   74.467461] R10: 0000000000000000 R11: 0000000000000202 R12: 00007f8d01601640
[   74.468415] CPU: 0 UID: 0 PID: 24831 Comm: repro Tainted: G      D W          6.11.0-rc6-75182022a043+ #1
[   74.468866] R13: 0000000000000000 R14: 00007f8d0129f560 R15: 0000000000000000
[   74.470045] Tainted: [D]=DIE, [W]=WARN
[   74.470511]  </TASK>
[   74.470995] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   74.472758] RIP: 0010:pgtable_trans_huge_withdraw+0x279/0x410
[   74.473553] Code: 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 51 01 00 00 48 b8 00 00 00 00 00 fc ff df 4c 8b 63 10 4d 8d 74 24 08 4c 89 f2 48 c1 ea 03 <80> 3c 02 00 0f 85 37 01 00 00 4d 8b 6c 24 08 4d 39 ee 0f 84 b0 00
[   74.475882] RSP: 0018:ffff888010d3f7d8 EFLAGS: 00010202
[   74.476548] RAX: dffffc0000000000 RBX: ffffea0000a57800 RCX: ffffffff81b9e779
[   74.477461] RDX: 0000000000000001 RSI: ffffffff81b9e88e RDI: ffffea0000a57810
[   74.478339] RBP: ffff888010d3f7f8 R08: 0000000000000000 R09: ffffed10023cede0
[   74.479251] R10: 0000000000000001 R11: 0000000000000000 R12: 0000000000000000
[   74.480037] R13: 1ffffffff0d3aca3 R14: 0000000000000008 R15: ffff888011e76f00
[   74.480958] FS:  0000000000000000(0000) GS:ffff88806c600000(0000) knlGS:0000000000000000
[   74.481991] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   74.482783] CR2: 00007fff009568f8 CR3: 0000000012ba8001 CR4: 0000000000770ef0
[   74.483725] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[   74.484639] DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
[   74.485549] PKRU: 55555554
[   74.485918] Call Trace:
[   74.486261]  <TASK>
[   74.486562]  ? show_regs+0xa8/0xc0
[   74.487054]  ? die_addr+0x5d/0xf0
[   74.487526]  ? exc_general_protection+0x1ae/0x340
[   74.488172]  ? asm_exc_general_protection+0x2b/0x30
[   74.488839]  ? pgtable_trans_huge_withdraw+0x119/0x410
[   74.489525]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.490202]  ? pgtable_trans_huge_withdraw+0x279/0x410
[   74.490890]  ? pgtable_trans_huge_withdraw+0x22e/0x410
[   74.491584]  zap_huge_pmd+0x494/0xd40
[   74.492111]  unmap_page_range+0x1ad6/0x4320
[   74.492704]  ? __sanitizer_cov_trace_switch+0x58/0xa0
[   74.493389]  ? __pfx_unmap_page_range+0x10/0x10
[   74.494029]  unmap_single_vma+0x1ac/0x2d0
[   74.494591]  unmap_vmas+0x210/0x470
[   74.495093]  ? __pfx_unmap_vmas+0x10/0x10
[   74.495640]  ? __pfx_lock_release+0x10/0x10
[   74.496205]  ? lock_release+0x592/0x870
[   74.496728]  ? mas_next_slot+0x133a/0x1a50
[   74.497268]  ? __pfx_lock_release+0x10/0x10
[   74.497827]  ? mlock_drain_local+0x27f/0x4b0
[   74.498411]  exit_mmap+0x19e/0xb10
[   74.498888]  ? __pfx_exit_mmap+0x10/0x10
[   74.499435]  ? trace_hardirqs_on+0x51/0x60
[   74.499986]  ? __khugepaged_exit+0x266/0x4c0
[   74.500453]  ? kmem_cache_free+0x15d/0x420
[   74.500857]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   74.501413]  __mmput+0xd6/0x390
[   74.501744]  mmput+0x74/0x90
[   74.502042]  do_exit+0xa03
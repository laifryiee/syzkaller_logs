==================================================================
BUG: KASAN: slab-use-after-free in free_vm_area mm/vmalloc.c:4526 [inline]
BUG: KASAN: slab-use-after-free in __vmalloc_node_range_noprof+0x1344/0x1420 mm/vmalloc.c:3845
Read of size 8 at addr ffff88800f8d6308 by task syz-executor173/1221

CPU: 0 UID: 0 PID: 1221 Comm: syz-executor173 Not tainted 6.14.0-rc6-next-20250311-eea255893718 #1
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
 <TASK>
 __dump_stack lib/dump_stack.c:94 [inline]
 dump_stack_lvl+0xea/0x150 lib/dump_stack.c:120
 print_address_description mm/kasan/report.c:408 [inline]
 print_report+0xce/0x660 mm/kasan/report.c:521
 kasan_report+0xd6/0x110 mm/kasan/report.c:634
 __asan_report_load8_noabort+0x18/0x20 mm/kasan/report_generic.c:381
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x1344/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c2e
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>

Allocated by task 1221:
 kasan_save_stack+0x2c/0x60 mm/kasan/common.c:47
 kasan_save_track+0x18/0x40 mm/kasan/common.c:68
 kasan_save_alloc_info+0x3c/0x50 mm/kasan/generic.c:562
 poison_kmalloc_redzone mm/kasan/common.c:377 [inline]
 __kasan_kmalloc+0x88/0xa0 mm/kasan/common.c:394
 kasan_kmalloc include/linux/kasan.h:260 [inline]
 __kmalloc_cache_node_noprof+0x1d0/0x470 mm/slub.c:4374
 kmalloc_node_noprof include/linux/slab.h:928 [inline]
 __get_vm_area_node+0xf7/0x260 mm/vmalloc.c:3127
 __vmalloc_node_range_noprof+0x25c/0x1420 mm/vmalloc.c:3803
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e

Freed by task 1221:
 kasan_save_stack+0x2c/0x60 mm/kasan/common.c:47
 kasan_save_track+0x18/0x40 mm/kasan/common.c:68
 kasan_save_free_info+0x3f/0x60 mm/kasan/generic.c:576
 poison_slab_object mm/kasan/common.c:247 [inline]
 __kasan_slab_free+0x3d/0x60 mm/kasan/common.c:264
 kasan_slab_free include/linux/kasan.h:233 [inline]
 slab_free_hook mm/slub.c:2389 [inline]
 slab_free mm/slub.c:4646 [inline]
 kfree+0x28d/0x440 mm/slub.c:4845
 vfree+0x2ce/0x910 mm/vmalloc.c:3389
 __vmalloc_area_node mm/vmalloc.c:3733 [inline]
 __vmalloc_node_range_noprof+0xeca/0x1420 mm/vmalloc.c:3843
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e

The buggy address belongs to the object at ffff88800f8d6300
 which belongs to the cache kmalloc-64 of size 64
The buggy address is located 8 bytes inside of
 freed 64-byte region [ffff88800f8d6300, ffff88800f8d6340)

The buggy address belongs to the physical page:
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0xf8d6
flags: 0xfffffc0000000(node=0|zone=1|lastcpupid=0x1fffff)
page_type: f5(slab)
raw: 000fffffc0000000 ffff88800d4418c0 ffffea00007d4000 dead000000000002
raw: 0000000000000000 0000000080200020 00000000f5000000 0000000000000000
page dumped because: kasan: bad access detected

Memory state around the buggy address:
 ffff88800f8d6200: fa fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
 ffff88800f8d6280: fa fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
>ffff88800f8d6300: fa fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
                      ^
 ffff88800f8d6380: fa fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
 ffff88800f8d6400: 00 00 00 00 00 00 00 00 fc fc fc fc fc fc fc fc
==================================================================
------------[ cut here ]------------
Trying to vfree() bad address (00000000c4ea9cb1)
WARNING: CPU: 0 PID: 1222 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1222 Comm: syz-executor173 Tainted: G    B               6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888013e6f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004c6 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888013e6f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000002931c006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c97
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
------------[ cut here ]------------
 </TASK>
Trying to vfree() bad address (00000000df4a9466)
irq event stamp: 776
WARNING: CPU: 1 PID: 1218 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
hardirqs last  enabled at (775): [<ffffffff85c3b83e>] irqentry_exit+0x3e/0xa0 kernel/entry/common.c:357
Modules linked in:
hardirqs last disabled at (776): [<ffffffff85c4bc2a>] __schedule+0x177a/0x3510 kernel/sched/core.c:6661
CPU: 1 UID: 0 PID: 1218 Comm: syz-executor173 Tainted: G    B               6.14.0-rc6-next-20250311-eea255893718 #1
softirqs last  enabled at (770): [<ffffffff8148deae>] __do_softirq kernel/softirq.c:595 [inline]
softirqs last  enabled at (770): [<ffffffff8148deae>] invoke_softirq kernel/softirq.c:435 [inline]
softirqs last  enabled at (770): [<ffffffff8148deae>] __irq_exit_rcu+0x10e/0x170 kernel/softirq.c:662
Tainted: [B]=BAD_PAGE
softirqs last disabled at (759): [<ffffffff8148deae>] __do_softirq kernel/softirq.c:595 [inline]
softirqs last disabled at (759): [<ffffffff8148deae>] invoke_softirq kernel/softirq.c:435 [inline]
softirqs last disabled at (759): [<ffffffff8148deae>] __irq_exit_rcu+0x10e/0x170 kernel/softirq.c:662
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
---[ end trace 0000000000000000 ]---
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888013647978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004c2 RCX: ffffffff8146eac2
RDX: ffff888023852540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880136479a0 R08: 0000000000000001 R09: ffffed10026c8ecf
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004c2
R13: 0000000000000c00 R14: ffff888011e6482c R15: dffffc0000000000
------------[ cut here ]------------
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
kernel BUG at mm/vmalloc.c:4527!
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Oops: invalid opcode: 0000 [#1] PREEMPT SMP KASAN NOPTI
CR2: 00007f5dd2aa1000 CR3: 0000000010ace003 CR4: 0000000000770ef0
CPU: 0 UID: 0 PID: 1222 Comm: syz-executor173 Tainted: G    B   W           6.14.0-rc6-next-20250311-eea255893718 #1
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Tainted: [B]=BAD_PAGE, [W]=WARN
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
PKRU: 55555554
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Call Trace:
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 <TASK>
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000002931c006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c52
RIP: 0033:0x7feddce3ee5d
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
 </TASK>
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
irq event stamp: 766
 ORIG_RAX: 0000000000000010
hardirqs last  enabled at (765): [<ffffffff85c3b83e>] irqentry_exit+0x3e/0xa0 kernel/entry/common.c:357
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
hardirqs last disabled at (766): [<ffffffff85c4bc2a>] __schedule+0x177a/0x3510 kernel/sched/core.c:6661
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
softirqs last disabled at (0): [<0000000000000000>] 0x0
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c97
---[ end trace 0000000000000000 ]---
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
------------[ cut here ]------------
 </TASK>
kernel BUG at mm/vmalloc.c:4527!
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#2] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 1 UID: 0 PID: 1218 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RSP: 0018:ffff8880136479b0 EFLAGS: 00010293
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RDX: ffff888023852540 RSI: ffffffff81e39a8d RDI: 0000000000000001
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff888013647b58 R08: 0000000000000001 R09: ffffed10026c8ecf
CR2: 0000000020000080 CR3: 000000002931c006 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004c2
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 0000000000000c00 R14: ffff888011e6482c R15: dffffc0000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2aa1000 CR3: 0000000010ace003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c52
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2aa1000 CR3: 0000000010ace003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000001244edf5)
WARNING: CPU: 0 PID: 1221 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1221 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888063ba7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004c5 RCX: ffffffff8146eac2
RDX: ffff888012dba540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888063ba79a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c5
R13: 0000000000000600 R14: ffff88800f8d632c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 0000000051fe6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c2e
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 14753
hardirqs last  enabled at (14753): [<ffffffff85c3b83e>] irqentry_exit+0x3e/0xa0 kernel/entry/common.c:357
hardirqs last disabled at (14752): [<ffffffff8148dbeb>] handle_softirqs+0x6bb/0x860 kernel/softirq.c:576
softirqs last  enabled at (1678): [<ffffffff8148deae>] __do_softirq kernel/softirq.c:595 [inline]
softirqs last  enabled at (1678): [<ffffffff8148deae>] invoke_softirq kernel/softirq.c:435 [inline]
softirqs last  enabled at (1678): [<ffffffff8148deae>] __irq_exit_rcu+0x10e/0x170 kernel/softirq.c:662
softirqs last disabled at (1659): [<ffffffff8148deae>] __do_softirq kernel/softirq.c:595 [inline]
softirqs last disabled at (1659): [<ffffffff8148deae>] invoke_softirq kernel/softirq.c:435 [inline]
softirqs last disabled at (1659): [<ffffffff8148deae>] __irq_exit_rcu+0x10e/0x170 kernel/softirq.c:662
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#3] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1221 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888063ba79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dba540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888063ba7b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c5
R13: 0000000000000600 R14: ffff88800f8d632c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 0000000051fe6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007c2e
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 0000000051fe6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000d7d7377d)
WARNING: CPU: 0 PID: 1239 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1239 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
------------[ cut here ]------------
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
Trying to vfree() bad address (00000000cc4fc055)
RSP: 0018:ffff88802312f978 EFLAGS: 00010292
WARNING: CPU: 1 PID: 1234 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RAX: 0000000000000000 RBX: 00000000000004d7 RCX: ffffffff8146eac2
Modules linked in:
RDX: ffff888056ae8000 RSI: ffffffff8146eacf RDI: 0000000000000001

RBP: ffff88802312f9a0 R08: 0000000000000001 R09: ffffed100d885921
CPU: 1 UID: 0 PID: 1234 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004d7
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
R13: 0000000000000200 R14: ffff88801f5005ac R15: dffffc0000000000
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CR2: 00007feddcf1390a CR3: 000000005cdd0003 CR4: 0000000000770ef0
RSP: 0000:ffff88801569f978 EFLAGS: 00010292
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000

DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RAX: 0000000000000000 RBX: 00000000000004d2 RCX: ffffffff8146eac2
PKRU: 55555554
RDX: ffff88801241a540 RSI: ffffffff8146eacf RDI: 0000000000000001
Call Trace:
RBP: ffff88801569f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
 <TASK>
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004d2
R13: 0000000000000a00 R14: ffff88802784442c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e013df8 CR3: 0000000051fe6003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007dae
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
RIP: 0033:0x7feddce3ee5d
 </TASK>
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
irq event stamp: 0
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
 ORIG_RAX: 0000000000000010
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
softirqs last disabled at (0): [<0000000000000000>] 0x0
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007d91
kernel BUG at mm/vmalloc.c:4527!
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
Oops: invalid opcode: 0000 [#4] PREEMPT SMP KASAN NOPTI
 </TASK>
CPU: 0 UID: 0 PID: 1239 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
irq event stamp: 0
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
RSP: 0018:ffff88802312f9b0 EFLAGS: 00010293
softirqs last disabled at (0): [<0000000000000000>] 0x0

---[ end trace 0000000000000000 ]---
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
------------[ cut here ]------------
RDX: ffff888056ae8000 RSI: ffffffff81e39a8d RDI: 0000000000000001
kernel BUG at mm/vmalloc.c:4527!
RBP: ffff88802312fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004d7
R13: 0000000000000200 R14: ffff88801f5005ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcf1390a CR3: 000000005cdd0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007dae
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#5] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 1 UID: 0 PID: 1234 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0000:ffff88801569f9b0 EFLAGS: 00010293
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921

R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RDX: ffff88801241a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RBP: ffff88801569fb58 R08: 0000000000000001 R09: ffffed100d8a5921
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004d2
CR2: 00007feddcf1390a CR3: 000000005cdd0003 CR4: 0000000000770ef0
R13: 0000000000000a00 R14: ffff88802784442c R15: dffffc0000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
PKRU: 55555554
CR2: 00007f5c6e013df8 CR3: 0000000051fe6003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007d91
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e013df8 CR3: 0000000051fe6003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000004fe0e1e5)
WARNING: CPU: 0 PID: 1247 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1247 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888012bff978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004df RCX: ffffffff8146eac2
RDX: ffff88801f714a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888012bff9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004df
R13: 0000000000000a00 R14: ffff88801f5004ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000022dba004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007dbb
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#6] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1247 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888012bff9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88801f714a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888012bffb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000004df
R13: 0000000000000a00 R14: ffff88801f5004ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000022dba004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007dbb
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
------------[ cut here ]------------
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
Trying to vfree() bad address (000000002179a8a3)
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
WARNING: CPU: 1 PID: 1252 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
Modules linked in:
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CPU: 1 UID: 0 PID: 1252 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
CR2: 00007feddcffca50 CR3: 0000000022dba004 CR4: 0000000000770ef0
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
PKRU: 55555554
------------[ cut here ]------------
RSP: 0018:ffff8880143ef978 EFLAGS: 00010292
Trying to vfree() bad address (00000000af6b5560)

WARNING: CPU: 0 PID: 1253 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RAX: 0000000000000000 RBX: 00000000000004e4 RCX: ffffffff8146eac2
Modules linked in:
RDX: ffff88800eb82540 RSI: ffffffff8146eacf RDI: 0000000000000001

RBP: ffff8880143ef9a0 R08: 0000000000000001 R09: ffffed100d8a5921
CPU: 0 UID: 0 PID: 1253 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004e4
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
R13: 0000000000000a00 R14: ffff88800fa157ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
CR2: 00007f5dd2a94000 CR3: 0000000056ae4004 CR4: 0000000000770ef0
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RSP: 0018:ffff88801626f978 EFLAGS: 00010292
PKRU: 55555554

Call Trace:
 <TASK>
RAX: 0000000000000000 RBX: 00000000000004e5 RCX: ffffffff8146eac2
RDX: ffff88800eb84a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801626f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 313030203a505352 R12: 064600ff000004e5
R13: 0000000000000400 R14: ffff88800fa15dac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000016340006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007dae
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 </TASK>
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
irq event stamp: 0
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RIP: 0033:0x7feddce3ee5d
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
softirqs last disabled at (0): [<0000000000000000>] 0x0
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
---[ end trace 0000000000000000 ]---
 ORIG_RAX: 0000000000000010
------------[ cut here ]------------
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
kernel BUG at mm/vmalloc.c:4527!
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
Oops: invalid opcode: 0000 [#7] PREEMPT SMP KASAN NOPTI
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
CPU: 1 UID: 0 PID: 1252 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007e5a
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
 </TASK>
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
irq event stamp: 0
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
RSP: 0018:ffff8880143ef9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88800eb82540 RSI: ffffffff81e39a8d RDI: 0000000000000001
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RBP: ffff8880143efb58 R08: 0000000000000001 R09: ffffed100d8a5921
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004e4
softirqs last disabled at (0): [<0000000000000000>] 0x0
R13: 0000000000000a00 R14: ffff88800fa157ac R15: dffffc0000000000
---[ end trace 0000000000000000 ]---
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
------------[ cut here ]------------
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
kernel BUG at mm/vmalloc.c:4527!
CR2: 00007f5dd2a94000 CR3: 0000000056ae4004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007dae
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#8] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 1253 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RSP: 0018:ffff88801626f9b0 EFLAGS: 00010293
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RDX: ffff88800eb84a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff88801626fb58 R08: 0000000000000001 R09: ffffed100d885921
CR2: 00007f5dd2a94000 CR3: 0000000056ae4004 CR4: 0000000000770ef0
R10: 0000000000000000 R11: 313030203a505352 R12: 064600ff000004e5
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 0000000000000400 R14: ffff88800fa15dac R15: dffffc0000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000016340006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007e5a
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000016340006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (0000000005d654c4)
WARNING: CPU: 0 PID: 1266 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1266 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880216af978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004f2 RCX: ffffffff8146eac2
RDX: ffff888011280000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880216af9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004f2
R13: 0000000000000600 R14: ffff888022e354ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 0000000011e68004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
------------[ cut here ]------------
Trying to vfree() bad address (00000000073e8c92)
WARNING: CPU: 1 PID: 1265 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1265 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88801ce67978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004f1 RCX: ffffffff8146eac2
RDX: ffff88801545a540 RSI: ffffffff8146eacf RDI: 0000000000000001
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
RBP: ffff88801ce679a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004f1
R13: 0000000000000400 R14: ffff88801105eb2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
CR2: 0000000020000080 CR3: 0000000010e32003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
Call Trace:
 <TASK>
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007e89
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#9] PREEMPT SMP KASAN NOPTI
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
CPU: 0 UID: 0 PID: 1266 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880216af9b0 EFLAGS: 00010293

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RDX: ffff888011280000 RSI: ffffffff81e39a8d RDI: 0000000000000001
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
RBP: ffff8880216afb58 R08: 0000000000000001 R09: ffffed100d885921
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004f2
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
R13: 0000000000000600 R14: ffff888022e354ac R15: dffffc0000000000
RIP: 0033:0x7feddce3ee5d
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
CR2: 00007feddd038fa8 CR3: 0000000011e68004 CR4: 0000000000770ef0
 ORIG_RAX: 0000000000000010
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
PKRU: 55555554
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
Call Trace:
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007f4f
 <TASK>
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007e89
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Oops: invalid opcode: 0000 [#10] PREEMPT SMP KASAN NOPTI
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
CPU: 1 UID: 0 PID: 1265 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88801ce679b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RDX: ffff88801545a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RBP: ffff88801ce67b58 R08: 0000000000000001 R09: ffffed100d8a5921
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004f1
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 0000000000000400 R14: ffff88801105eb2c R15: dffffc0000000000
CR2: 00007feddd038fa8 CR3: 0000000011e68004 CR4: 0000000000770ef0
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 0000000020000080 CR3: 0000000010e32003 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007f4f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000010e32003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (0000000068a509e5)
WARNING: CPU: 0 PID: 1262 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1262 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880216ef978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004ee RCX: ffffffff8146eac2
RDX: ffff88801516a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880216ef9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004ee
R13: 0000000000000800 R14: ffff88801105e3ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001e5ba002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007eb9
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#11] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1262 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880216ef9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88801516a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff8880216efb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004ee
R13: 0000000000000800 R14: ffff88801105e3ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001e5ba002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007eb9
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001e5ba002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000005d100bbd)
WARNING: CPU: 0 PID: 1268 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1268 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888019887978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000004f4 RCX: ffffffff8146eac2
RDX: ffff88801426a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880198879a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004f4
R13: 0000000000000c00 R14: ffff888022e353ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
------------[ cut here ]------------
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Trying to vfree() bad address (000000009f3bd10b)
CR2: 0000000020000080 CR3: 0000000011e68004 CR4: 0000000000770ef0
WARNING: CPU: 1 PID: 1275 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Modules linked in:
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400

CPU: 1 UID: 0 PID: 1275 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
PKRU: 55555554
Call Trace:
 <TASK>
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888013677978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 00000000000004fb RCX: ffffffff8146eac2
RDX: ffff888028698000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880136779a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004fb
R13: 0000000000000000 R14: ffff8880213a392c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000124d6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007eb8
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
------------[ cut here ]------------
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
kernel BUG at mm/vmalloc.c:4527!
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
Oops: invalid opcode: 0000 [#12] PREEMPT SMP KASAN NOPTI
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
CPU: 0 UID: 0 PID: 1268 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RIP: 0033:0x7feddce3ee5d
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 ORIG_RAX: 0000000000000010
RSP: 0018:ffff8880198879b0 EFLAGS: 00010293
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RDX: ffff88801426a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
RBP: ffff888019887b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007f4b
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004f4
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
R13: 0000000000000c00 R14: ffff888022e353ac R15: dffffc0000000000
 </TASK>
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
irq event stamp: 0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000011e68004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
PKRU: 55555554
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
Call Trace:
softirqs last disabled at (0): [<0000000000000000>] 0x0
 <TASK>
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007eb8
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
Oops: invalid opcode: 0000 [#13] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
CPU: 1 UID: 0 PID: 1275 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03

RSP: 0018:ffff8880136779b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2

RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RDX: ffff888028698000 RSI: ffffffff81e39a8d RDI: 0000000000000001
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RBP: ffff888013677b58 R08: 0000000000000001 R09: ffffed100d8a5921
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004fb
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R13: 0000000000000000 R14: ffff8880213a392c R15: dffffc0000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CR2: 0000000020000080 CR3: 0000000011e68004 CR4: 0000000000770ef0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CR2: 0000000020000080 CR3: 00000000124d6004 CR4: 0000000000770ef0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000007f4b
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000124d6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
------------[ cut here ]------------
Trying to vfree() bad address (000000009d8700e5)
WARNING: CPU: 0 PID: 1514 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1514 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888058e7f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000005ea RCX: ffffffff8146eac2
RDX: ffff88804b1a8000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888058e7f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000005ea
R13: 0000000000000a00 R14: ffff88801307d6ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000021290006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 00000000000083b5
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#14] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1514 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888058e7f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88804b1a8000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888058e7fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000005ea
R13: 0000000000000a00 R14: ffff88801307d6ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000021290006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 00000000000083b5
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000021290006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000f989b962)
WARNING: CPU: 1 PID: 1612 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1612 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88802b9ff978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 000000000000064c RCX: ffffffff8146eac2
RDX: ffff88801898a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88802b9ff9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff0000064c
R13: 0000000000000a00 R14: ffff888010b8332c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd081a18 CR3: 00000000537f6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 00000000000085a9
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#15] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1612 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88802b9ff9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88801898a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88802b9ffb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff0000064c
R13: 0000000000000a00 R14: ffff888010b8332c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd081a18 CR3: 00000000537f6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 00000000000085a9
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd081a18 CR3: 00000000537f6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (0000000018d9467a)
WARNING: CPU: 1 PID: 1923 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1923 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88801e71f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000783 RCX: ffffffff8146eac2
RDX: ffff8880609e4a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801e71f9a0 R08: 0000000000000001 R09: ffffed1003ce3ecf
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000783
R13: 0000000000000a00 R14: ffff888012aa13ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000030af8001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008a67
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#16] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1923 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88801e71f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff8880609e4a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88801e71fb58 R08: 0000000000000001 R09: ffffed1003ce3ecf
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000783
R13: 0000000000000a00 R14: ffff888012aa13ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000030af8001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008a67
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000030af8001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000003bfd9e46)
WARNING: CPU: 1 PID: 1936 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1936 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888008107978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000790 RCX: ffffffff8146eac2
RDX: ffff8880369e0000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880081079a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000790
R13: 0000000000000a00 R14: ffff88801303602c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001ef44005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ae3
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#17] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1936 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880081079b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff8880369e0000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888008107b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000790
R13: 0000000000000a00 R14: ffff88801303602c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001ef44005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ae3
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
------------[ cut here ]------------
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
Trying to vfree() bad address (000000006359ad02)
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
WARNING: CPU: 0 PID: 1939 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Modules linked in:
CR2: 00007feddd038fa8 CR3: 000000001ef44005 CR4: 0000000000770ef0

DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CPU: 0 UID: 0 PID: 1939 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
PKRU: 55555554
RSP: 0018:ffff888042127978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000793 RCX: ffffffff8146eac2
RDX: ffff88804213ca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880421279a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 3838666666662052 R12: 064600ff00000793
R13: 0000000000000800 R14: ffff888011fef5ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2660000 CR3: 0000000012488006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ad2
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#18] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1939 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880421279b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88804213ca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888042127b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 3838666666662052 R12: 064600ff00000793
R13: 0000000000000800 R14: ffff888011fef5ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2660000 CR3: 0000000012488006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ad2
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2660000 CR3: 0000000012488006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000002c47f17a)
WARNING: CPU: 1 PID: 1949 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1949 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888021fcf978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 000000000000079d RCX: ffffffff8146eac2
RDX: ffff88802780a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888021fcf9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff0000079d
R13: 0000000000000200 R14: ffff88801cc4fb2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001f78a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008af9
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#19] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1949 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888021fcf9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88802780a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888021fcfb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff0000079d
R13: 0000000000000200 R14: ffff88801cc4fb2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001f78a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008af9
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001f78a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000b914c026)
WARNING: CPU: 1 PID: 1946 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1946 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0000:ffff888021df7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 000000000000079a RCX: ffffffff8146eac2
RDX: ffff888011424a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888021df79a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff0000079a
R13: 0000000000000a00 R14: ffff8880130369ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f0ab8e16f38 CR3: 000000003e868001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008aff
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#20] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1946 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0000:ffff888021df79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888011424a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888021df7b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff0000079a
R13: 0000000000000a00 R14: ffff8880130369ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f0ab8e16f38 CR3: 000000003e868001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008aff
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f0ab8e16f38 CR3: 000000003e868001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (0000000026079c8c)
WARNING: CPU: 1 PID: 1945 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1945 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88802231f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000799 RCX: ffffffff8146eac2
RDX: ffff888058e62540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88802231f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000799
R13: 0000000000000e00 R14: ffff8880130368ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb8df8 CR3: 00000000220a6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008b46
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#21] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1945 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88802231f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888058e62540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88802231fb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000799
R13: 0000000000000e00 R14: ffff8880130368ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb8df8 CR3: 00000000220a6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008b46
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb8df8 CR3: 00000000220a6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000000dac31c8)
WARNING: CPU: 1 PID: 1974 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1974 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888023967978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000007b6 RCX: ffffffff8146eac2
RDX: ffff88805e9c0000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880239679a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000007b6
R13: 0000000000000400 R14: ffff888010b83cac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
------------[ cut here ]------------
CR2: 0000000020000080 CR3: 0000000023a76001 CR4: 0000000000770ef0
Trying to vfree() bad address (00000000d2c667a6)
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
WARNING: CPU: 0 PID: 1971 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1971 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88801f43f978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 00000000000007b3 RCX: ffffffff8146eac2
RDX: ffff8880636e2540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801f43f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007b3
R13: 0000000000000800 R14: ffff888011c10c2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd269c000 CR3: 0000000023926006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c3c
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
------------[ cut here ]------------
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
kernel BUG at mm/vmalloc.c:4527!
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
Oops: invalid opcode: 0000 [#22] PREEMPT SMP KASAN NOPTI
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
CPU: 1 UID: 0 PID: 1974 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RIP: 0033:0x7feddce3ee5d
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
RSP: 0018:ffff8880239679b0 EFLAGS: 00010293
 ORIG_RAX: 0000000000000010

RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RDX: ffff88805e9c0000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
RBP: ffff888023967b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c32
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000007b6
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
R13: 0000000000000400 R14: ffff888010b83cac R15: dffffc0000000000
 </TASK>
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
irq event stamp: 0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
CR2: 0000000020000080 CR3: 0000000023a76001 CR4: 0000000000770ef0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
softirqs last disabled at (0): [<0000000000000000>] 0x0
PKRU: 55555554
---[ end trace 0000000000000000 ]---
Call Trace:
------------[ cut here ]------------
 <TASK>
kernel BUG at mm/vmalloc.c:4527!
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c3c
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#23] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 1971 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88801f43f9b0 EFLAGS: 00010293
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921

R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RDX: ffff8880636e2540 RSI: ffffffff81e39a8d RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RBP: ffff88801f43fb58 R08: 0000000000000001 R09: ffffed100d885921
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007b3
CR2: 0000000020000080 CR3: 0000000023a76001 CR4: 0000000000770ef0
R13: 0000000000000800 R14: ffff888011c10c2c R15: dffffc0000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
PKRU: 55555554
CR2: 00007f5dd269c000 CR3: 0000000023926006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c32
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd269c000 CR3: 0000000023926006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000c74e55d4)
WARNING: CPU: 1 PID: 1977 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1977 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88800811f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000007b9 RCX: ffffffff8146eac2
RDX: ffff88802780ca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88800811f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007b9
R13: 0000000000000800 R14: ffff88800f141fac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001f78c005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c4c
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#24] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1977 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88800811f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88802780ca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88800811fb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007b9
R13: 0000000000000800 R14: ffff88800f141fac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001f78c005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c4c
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001f78c005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000002a16c6a5)
WARNING: CPU: 1 PID: 1990 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1990 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888011f8f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000007c6 RCX: ffffffff8146eac2
RDX: ffff88805aaa2540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888011f8f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007c6
R13: 0000000000000c00 R14: ffff88800f8e94ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 0000000022c7c002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ce0
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#25] PREEMPT SMP KASAN NOPTI
Trying to vfree() bad address (00000000b5549c73)
CPU: 1 UID: 0 PID: 1990 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
WARNING: CPU: 0 PID: 1983 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Modules linked in:
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014

RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 1983 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888011f8f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014

RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RDX: ffff88805aaa2540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RSP: 0018:ffff8880221bf978 EFLAGS: 00010292
RBP: ffff888011f8fb58 R08: 0000000000000001 R09: ffffed100d8a5921

R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007c6
RAX: 0000000000000000 RBX: 00000000000007bf RCX: ffffffff8146eac2
R13: 0000000000000c00 R14: ffff88800f8e94ac R15: dffffc0000000000
RDX: ffff888021190000 RSI: ffffffff8146eacf RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RBP: ffff8880221bf9a0 R08: 0000000000000001 R09: ffffed1004437ecf
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 6e69203a73706f4f R12: 064600ff000007bf
CR2: 00007feddd038fa8 CR3: 0000000022c7c002 CR4: 0000000000770ef0
R13: 0000000000000c00 R14: ffff88801f614e2c R15: dffffc0000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000021d9e003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ce0
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:

 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
---[ end trace 0000000000000000 ]---
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RIP: 0033:0x7feddce3ee5d

Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
 ORIG_RAX: 0000000000000010
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c56
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
CR2: 00007feddd038fa8 CR3: 0000000022c7c002 CR4: 0000000000770ef0
 </TASK>
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
PKRU: 55555554
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#26] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1983 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880221bf9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888021190000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff8880221bfb58 R08: 0000000000000001 R09: ffffed1004437ecf
R10: 0000000000000001 R11: 6e69203a73706f4f R12: 064600ff000007bf
R13: 0000000000000c00 R14: ffff88801f614e2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000021d9e003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c56
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000021d9e003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
------------[ cut here ]------------
PKRU: 55555554
Trying to vfree() bad address (00000000be0be735)
WARNING: CPU: 1 PID: 1986 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 1986 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88802384f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000007c2 RCX: ffffffff8146eac2
RDX: ffff888012db8000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88802384f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007c2
R13: 0000000000000000 R14: ffff888010f9422c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000023926003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c50
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
------------[ cut here ]------------
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
Trying to vfree() bad address (00000000df4750b7)
softirqs last disabled at (0): [<0000000000000000>] 0x0
WARNING: CPU: 0 PID: 1991 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
---[ end trace 0000000000000000 ]---
Modules linked in:
------------[ cut here ]------------
CPU: 0 UID: 0 PID: 1991 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
kernel BUG at mm/vmalloc.c:4527!
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Oops: invalid opcode: 0000 [#27] PREEMPT SMP KASAN NOPTI
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
CPU: 1 UID: 0 PID: 1986 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff88802098f978 EFLAGS: 00010292
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RAX: 0000000000000000 RBX: 00000000000007c7 RCX: ffffffff8146eac2
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RDX: ffff88805aaa4a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RSP: 0018:ffff88802384f9b0 EFLAGS: 00010293
RBP: ffff88802098f9a0 R08: 0000000000000001 R09: ffffed100d885921

R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007c7
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R13: 0000000000000600 R14: ffff88800f8e902c R15: dffffc0000000000
RDX: ffff888012db8000 RSI: ffffffff81e39a8d RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RBP: ffff88802384fb58 R08: 0000000000000001 R09: ffffed100d8a5921
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007c2
CR2: 00007feddcffca50 CR3: 0000000022efa003 CR4: 0000000000770ef0
R13: 0000000000000000 R14: ffff888010f9422c R15: dffffc0000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
PKRU: 55555554
CR2: 0000000020000080 CR3: 0000000023926003 CR4: 0000000000770ef0
Call Trace:
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008c50
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 </TASK>
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
Modules linked in:
---[ end trace 0000000000000000 ]---
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RIP: 0033:0x7feddce3ee5d
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48

RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
 ORIG_RAX: 0000000000000010
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008d26
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
 </TASK>
CR2: 0000000020000080 CR3: 0000000023926003 CR4: 0000000000770ef0
irq event stamp: 0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
PKRU: 55555554
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#28] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 1991 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
------------[ cut here ]------------
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Trying to vfree() bad address (000000004ec3eaf5)
RSP: 0018:ffff88802098f9b0 EFLAGS: 00010293
WARNING: CPU: 1 PID: 1982 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Modules linked in:
RDX: ffff88805aaa4a80 RSI: ffffffff81e39a8d RDI: 0000000000000001

RBP: ffff88802098fb58 R08: 0000000000000001 R09: ffffed100d885921
CPU: 1 UID: 0 PID: 1982 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007c7
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
R13: 0000000000000600 R14: ffff88800f8e902c R15: dffffc0000000000
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CR2: 00007feddcffca50 CR3: 0000000022efa003 CR4: 0000000000770ef0
RSP: 0018:ffff888012c1f978 EFLAGS: 00010292
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000

DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RAX: 0000000000000000 RBX: 00000000000007be RCX: ffffffff8146eac2
PKRU: 55555554
RDX: ffff888012390000 RSI: ffffffff8146eacf RDI: 0000000000000001
Call Trace:
RBP: ffff888012c1f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
 <TASK>
R10: 0000000000000000 R11: 313030203a504952 R12: 064600ff000007be
R13: 0000000000000e00 R14: ffff88800f8e99ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd26dc000 CR3: 0000000011e5a005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008d26
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:

---[ end trace 0000000000000000 ]---
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
 entry_SYSCALL_64_after_hwframe+0x76/0x7e

RIP: 0033:0x7feddce3ee5d
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
 ORIG_RAX: 0000000000000010
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ccd
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
CR2: 00007feddcffca50 CR3: 0000000022efa003 CR4: 0000000000770ef0
 </TASK>
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
irq event stamp: 0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
PKRU: 55555554
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#29] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 1982 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888012c1f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012390000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888012c1fb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 313030203a504952 R12: 064600ff000007be
R13: 0000000000000e00 R14: ffff88800f8e99ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd26dc000 CR3: 0000000011e5a005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ccd
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd26dc000 CR3: 0000000011e5a005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000000025353a)
WARNING: CPU: 0 PID: 1998 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 1998 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
------------[ cut here ]------------
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
Trying to vfree() bad address (000000003226887b)
WARNING: CPU: 1 PID: 1999 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RSP: 0018:ffff88802238f978 EFLAGS: 00010292
Modules linked in:


RAX: 0000000000000000 RBX: 00000000000007ce RCX: ffffffff8146eac2
CPU: 1 UID: 0 PID: 1999 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RDX: ffff8880692e0000 RSI: ffffffff8146eacf RDI: 0000000000000001
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RBP: ffff88802238f9a0 R08: 0000000000000001 R09: ffffed100d885921
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000007ce
R13: 0000000000000000 R14: ffff88801f6146ac R15: dffffc0000000000
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RSP: 0018:ffff888065037978 EFLAGS: 00010292
CR2: 0000000020000080 CR3: 0000000011e5a003 CR4: 0000000000770ef0

DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
RAX: 0000000000000000 RBX: 00000000000007cf RCX: ffffffff8146eac2
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RDX: ffff888012834a80 RSI: ffffffff8146eacf RDI: 0000000000000001
PKRU: 55555554
RBP: ffff8880650379a0 R08: 0000000000000001 R09: ffffed100d8a5921
Call Trace:
R10: 0000000000000001 R11: 000000002d2d2d2d R12: 064600ff000007cf
 <TASK>
R13: 0000000000000e00 R14: ffff888010f944ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb95d8 CR3: 0000000027a74002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008d0a
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
RIP: 0033:0x7feddce3ee5d
 </TASK>
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
irq event stamp: 0
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
 ORIG_RAX: 0000000000000010
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
softirqs last disabled at (0): [<0000000000000000>] 0x0
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008d0b
---[ end trace 0000000000000000 ]---
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
------------[ cut here ]------------
 </TASK>
kernel BUG at mm/vmalloc.c:4527!
irq event stamp: 0
Oops: invalid opcode: 0000 [#30] PREEMPT SMP KASAN NOPTI
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
CPU: 0 UID: 0 PID: 1998 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
softirqs last disabled at (0): [<0000000000000000>] 0x0
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
---[ end trace 0000000000000000 ]---
RSP: 0018:ffff88802238f9b0 EFLAGS: 00010293
------------[ cut here ]------------

kernel BUG at mm/vmalloc.c:4527!
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff8880692e0000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88802238fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000007ce
R13: 0000000000000000 R14: ffff88801f6146ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000011e5a003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008d0a
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#31] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 1 UID: 0 PID: 1999 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845

Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RSP: 0018:ffff8880650379b0 EFLAGS: 00010293
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012834a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888065037b58 R08: 0000000000000001 R09: ffffed100d8a5921
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 000000002d2d2d2d R12: 064600ff000007cf
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000e00 R14: ffff888010f944ac R15: dffffc0000000000
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb95d8 CR3: 0000000027a74002 CR4: 0000000000770ef0
CR2: 0000000020000080 CR3: 0000000011e5a003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Call Trace:
PKRU: 55555554
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008d0b
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb95d8 CR3: 0000000027a74002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000d52bec05)
WARNING: CPU: 1 PID: 2002 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 2002 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880240f7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 00000000000007d2 RCX: ffffffff8146eac2
RDX: ffff8880692e2540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880240f79a0 R08: 0000000000000001 R09: ffffed100481eecf
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007d2
R13: 0000000000000000 R14: ffff88802177faac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000010ace004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ece
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#32] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 2002 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
------------[ cut here ]------------
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Trying to vfree() bad address (00000000f117f93a)
RSP: 0018:ffff8880240f79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff8880692e2540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff8880240f7b58 R08: 0000000000000001 R09: ffffed100481eecf
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff000007d2
WARNING: CPU: 0 PID: 2006 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
R13: 0000000000000000 R14: ffff88802177faac R15: dffffc0000000000
Modules linked in:
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000

CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CPU: 0 UID: 0 PID: 2006 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
CR2: 0000000020000080 CR3: 0000000010ace004 CR4: 0000000000770ef0
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
 <TASK>
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880101c7978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 00000000000007d6 RCX: ffffffff8146eac2
RDX: ffff88801212ca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880101c79a0 R08: 0000000000000001 R09: ffffed1002038ecf
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000007d6
R13: 0000000000000a00 R14: ffff888010954b2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055a74200c8e0 CR3: 00000000220ac002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008ece
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:

---[ end trace 0000000000000000 ]---
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RIP: 0033:0x7feddce3ee5d
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
CR2: 0000000020000080 CR3: 0000000010ace004 CR4: 0000000000770ef0
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
 ORIG_RAX: 0000000000000010
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
PKRU: 55555554
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008eea
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#33] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2006 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880101c79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88801212ca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff8880101c7b58 R08: 0000000000000001 R09: ffffed1002038ecf
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000007d6
R13: 0000000000000a00 R14: ffff888010954b2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055a74200c8e0 CR3: 00000000220ac002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000008eea
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055a74200c8e0 CR3: 00000000220ac002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000000ef54ca5)
WARNING: CPU: 0 PID: 2335 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2335 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880221a7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 000000000000091f RCX: ffffffff8146eac2
RDX: ffff888020bdca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880221a79a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff0000091f
R13: 0000000000000800 R14: ffff8880256273ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 00000000340c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000939f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#34] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2335 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880221a79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888020bdca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff8880221a7b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff0000091f
R13: 0000000000000800 R14: ffff8880256273ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 00000000340c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000939f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 00000000340c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000007253e836)
WARNING: CPU: 0 PID: 2365 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2365 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88802b3d7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 000000000000093d RCX: ffffffff8146eac2
RDX: ffff888036702540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88802b3d79a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff0000093d
R13: 0000000000000400 R14: ffff888010b83c2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001ed8e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000948a
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#35] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2365 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88802b3d79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888036702540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88802b3d7b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff0000093d
R13: 0000000000000400 R14: ffff888010b83c2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001ed8e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000948a
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000001ed8e005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (0000000092a5fa18)
WARNING: CPU: 1 PID: 2368 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 2368 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
------------[ cut here ]------------
RSP: 0018:ffff88802b3cf978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000940 RCX: ffffffff8146eac2
RDX: ffff888012392540 RSI: ffffffff8146eacf RDI: 0000000000000001
Trying to vfree() bad address (000000004271c257)
RBP: ffff88802b3cf9a0 R08: 0000000000000001 R09: ffffed100d8a5921
WARNING: CPU: 0 PID: 2375 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000940
Modules linked in:
R13: 0000000000000a00 R14: ffff888015a1af2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000

CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CPU: 0 UID: 0 PID: 2375 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
CR2: 0000000020000080 CR3: 00000000339e8004 CR4: 0000000000770ef0
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
PKRU: 55555554
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
Call Trace:
RSP: 0018:ffff88801f527978 EFLAGS: 00010292
 <TASK>

RAX: 0000000000000000 RBX: 0000000000000947 RCX: ffffffff8146eac2
RDX: ffff888056aeca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801f5279a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 3030303030302052 R12: 064600ff00000947
R13: 0000000000000400 R14: ffff88801f61432c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2760000 CR3: 000000001ed8e006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000949b
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
softirqs last disabled at (0): [<0000000000000000>] 0x0
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
---[ end trace 0000000000000000 ]---
RIP: 0033:0x7feddce3ee5d
------------[ cut here ]------------
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
kernel BUG at mm/vmalloc.c:4527!
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
Oops: invalid opcode: 0000 [#36] PREEMPT SMP KASAN NOPTI
 ORIG_RAX: 0000000000000010
CPU: 1 UID: 0 PID: 2368 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
RSP: 0018:ffff88802b3cf9b0 EFLAGS: 00010293
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009497

R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
 </TASK>
RDX: ffff888012392540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88802b3cfb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000940
irq event stamp: 0
R13: 0000000000000a00 R14: ffff888015a1af2c R15: dffffc0000000000
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
CR2: 0000000020000080 CR3: 00000000339e8004 CR4: 0000000000770ef0
softirqs last disabled at (0): [<0000000000000000>] 0x0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
---[ end trace 0000000000000000 ]---
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
------------[ cut here ]------------
PKRU: 55555554
kernel BUG at mm/vmalloc.c:4527!
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000949b
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#37] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 2375 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845

Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RSP: 0018:ffff88801f5279b0 EFLAGS: 00010293
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001

RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RDX: ffff888056aeca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RBP: ffff88801f527b58 R08: 0000000000000001 R09: ffffed100d885921
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 3030303030302052 R12: 064600ff00000947
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 0000000000000400 R14: ffff88801f61432c R15: dffffc0000000000
CR2: 0000000020000080 CR3: 00000000339e8004 CR4: 0000000000770ef0
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007f5dd2760000 CR3: 000000001ed8e006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
------------[ cut here ]------------
Trying to vfree() bad address (00000000d0102ad4)
WARNING: CPU: 1 PID: 2370 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
Modules linked in:
CPU: 1 UID: 0 PID: 2370 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888025457978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 0000000000000942 RCX: ffffffff8146eac2
RDX: ffff8880609e2540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880254579a0 R08: 0000000000000001 R09: ffffed100d8a5921
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000942
R13: 0000000000000c00 R14: ffff888015a1ae2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000027bf4001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
PKRU: 55555554
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
Call Trace:
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
 <TASK>
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009497
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:

---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293

 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2760000 CR3: 000000001ed8e006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009476
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#38] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 2370 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880254579b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff8880609e2540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888025457b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000942
R13: 0000000000000c00 R14: ffff888015a1ae2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000027bf4001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009476
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000027bf4001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000e2c58143)
WARNING: CPU: 0 PID: 2628 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2628 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888041dff978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a44 RCX: ffffffff8146eac2
RDX: ffff88801b32a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888041dff9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a44
R13: 0000000000000000 R14: ffff88800f0872ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001d474003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
------------[ cut here ]------------
 <TASK>
Trying to vfree() bad address (00000000995a9828)
WARNING: CPU: 1 PID: 2625 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:

CPU: 1 UID: 0 PID: 2625 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88804c997978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 0000000000000a41 RCX: ffffffff8146eac2
RDX: ffff88803c6c2540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88804c9979a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 5f776f6873203f20 R12: 064600ff00000a41
R13: 0000000000000400 R14: ffff888022fe72ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000005d5fa001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000993f
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 </TASK>
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
irq event stamp: 0
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
RIP: 0033:0x7feddce3ee5d
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
softirqs last disabled at (0): [<0000000000000000>] 0x0
 ORIG_RAX: 0000000000000010
---[ end trace 0000000000000000 ]---
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
------------[ cut here ]------------
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
kernel BUG at mm/vmalloc.c:4527!
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
Oops: invalid opcode: 0000 [#39] PREEMPT SMP KASAN NOPTI
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000993f
CPU: 0 UID: 0 PID: 2628 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
 </TASK>
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
irq event stamp: 0
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RSP: 0018:ffff888041dff9b0 EFLAGS: 00010293
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373

softirqs last disabled at (0): [<0000000000000000>] 0x0
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
---[ end trace 0000000000000000 ]---
RDX: ffff88801b32a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
------------[ cut here ]------------
RBP: ffff888041dffb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a44
R13: 0000000000000000 R14: ffff88800f0872ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
kernel BUG at mm/vmalloc.c:4527!
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000001d474003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000993f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#40] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 1 UID: 0 PID: 2625 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RSP: 0018:ffff88804c9979b0 EFLAGS: 00010293
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RDX: ffff88803c6c2540 RSI: ffffffff81e39a8d RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RBP: ffff88804c997b58 R08: 0000000000000001 R09: ffffed100d8a5921
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000001 R11: 5f776f6873203f20 R12: 064600ff00000a41
CR2: 0000000020000080 CR3: 000000001d474003 CR4: 0000000000770ef0
R13: 0000000000000400 R14: ffff888022fe72ac R15: dffffc0000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007feddd038fa8 CR3: 000000005d5fa001 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
systemd-journald[147]: Data hash table of /run/log/journal/938775788448454bb5b34822d5730c41/system.journal has a fill level at 75.0 (5259 of 7011 items, 4038656 file size, 767 bytes per hash table item), suggesting rotation.
systemd-journald[147]: /run/log/journal/938775788448454bb5b34822d5730c41/system.journal: Journal header limits reached or header out-of-date, rotating.
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 000000000000993f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000005d5fa001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000fbf15ffc)
WARNING: CPU: 1 PID: 2624 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 2624 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0000:ffff88804fb7f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a40 RCX: ffffffff8146eac2
RDX: ffff88803c6c4a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88804fb7f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a40
R13: 0000000000000c00 R14: ffff88800f087aac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055a7420215c6 CR3: 000000003afec006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009929
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#41] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 2624 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0000:ffff88804fb7f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88803c6c4a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88804fb7fb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a40
R13: 0000000000000c00 R14: ffff88800f087aac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055a7420215c6 CR3: 000000003afec006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009929
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
------------[ cut here ]------------
---[ end trace 0000000000000000 ]---
Trying to vfree() bad address (0000000074db0642)
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
WARNING: CPU: 0 PID: 2623 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Modules linked in:
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
CPU: 0 UID: 0 PID: 2623 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RSP: 0018:ffff88801b247978 EFLAGS: 00010292
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033

CR2: 000055a7420215c6 CR3: 000000003afec006 CR4: 0000000000770ef0
RAX: 0000000000000000 RBX: 0000000000000a3f RCX: ffffffff8146eac2
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
RDX: ffff888023a90000 RSI: ffffffff8146eacf RDI: 0000000000000001
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RBP: ffff88801b2479a0 R08: 0000000000000001 R09: ffffed100d885921
PKRU: 55555554
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a3f
R13: 0000000000000800 R14: ffff888022fe74ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000051148006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009917
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#42] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2623 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88801b2479b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888023a90000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88801b247b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a3f
R13: 0000000000000800 R14: ffff888022fe74ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000051148006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009917
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddcffca50 CR3: 0000000051148006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000003408df08)
WARNING: CPU: 0 PID: 2652 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
------------[ cut here ]------------
Modules linked in:
CPU: 0 UID: 0 PID: 2652 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Trying to vfree() bad address (000000007ba53acf)
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
WARNING: CPU: 1 PID: 2645 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Modules linked in:
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231

Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CPU: 1 UID: 0 PID: 2645 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RSP: 0018:ffff88801cc17978 EFLAGS: 00010292
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN

RAX: 0000000000000000 RBX: 0000000000000a5c RCX: ffffffff8146eac2
RDX: ffff8880469ea540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801cc179a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a5c
R13: 0000000000000200 R14: ffff888011fef22c R15: dffffc0000000000
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CR2: 0000000020000080 CR3: 0000000043060003 CR4: 0000000000770ef0
RSP: 0018:ffff88801335f978 EFLAGS: 00010292
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000

DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RAX: 0000000000000000 RBX: 0000000000000a55 RCX: ffffffff8146eac2
PKRU: 55555554
RDX: ffff88802780a540 RSI: ffffffff8146eacf RDI: 0000000000000001
Call Trace:
RBP: ffff88801335f9a0 R08: 0000000000000001 R09: ffffed100266becf
 <TASK>
R10: 0000000000000001 R11: 552030203a555043 R12: 064600ff00000a55
R13: 0000000000000600 R14: ffff888011241f2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb95d8 CR3: 00000000361f2004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009a76
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
kernel BUG at mm/vmalloc.c:4527!
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
Oops: invalid opcode: 0000 [#43] PREEMPT SMP KASAN NOPTI
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
CPU: 0 UID: 0 PID: 2652 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RIP: 0033:0x7feddce3ee5d
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 ORIG_RAX: 0000000000000010
RSP: 0018:ffff88801cc179b0 EFLAGS: 00010293
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff8880469ea540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88801cc17b58 R08: 0000000000000001 R09: ffffed100d885921
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a5c
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R13: 0000000000000200 R14: ffff888011fef22c R15: dffffc0000000000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009a43
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
 </TASK>
CR2: 0000000020000080 CR3: 0000000043060003 CR4: 0000000000770ef0
irq event stamp: 0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009a76
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
Oops: invalid opcode: 0000 [#44] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
CPU: 1 UID: 0 PID: 2645 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845

Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RSP: 0018:ffff88801335f9b0 EFLAGS: 00010293
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RDX: ffff88802780a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RBP: ffff88801335fb58 R08: 0000000000000001 R09: ffffed100266becf
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 552030203a555043 R12: 064600ff00000a55
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 0000000000000600 R14: ffff888011241f2c R15: dffffc0000000000
CR2: 0000000020000080 CR3: 0000000043060003 CR4: 0000000000770ef0
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007ffc68eb95d8 CR3: 00000000361f2004 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009a43
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffc68eb95d8 CR3: 00000000361f2004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000bb9a31cf)
WARNING: CPU: 0 PID: 2661 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2661 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888012adf978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a65 RCX: ffffffff8146eac2
RDX: ffff888020bda540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888012adf9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a65
------------[ cut here ]------------
R13: 0000000000000600 R14: ffff88801110292c R15: dffffc0000000000
Trying to vfree() bad address (000000004f500f65)
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
WARNING: CPU: 1 PID: 2654 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Modules linked in:
CR2: 00007feddd038fa8 CR3: 00000000196c6005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CPU: 1 UID: 0 PID: 2654 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
PKRU: 55555554
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Call Trace:
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
 <TASK>
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880669ef978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 0000000000000a5e RCX: ffffffff8146eac2
RDX: ffff888027808000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880669ef9a0 R08: 0000000000000001 R09: ffffed100cd3decf
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a5e
R13: 0000000000000600 R14: ffff8880113881ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000004fb50003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009b14
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
softirqs last disabled at (0): [<0000000000000000>] 0x0
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
---[ end trace 0000000000000000 ]---
RIP: 0033:0x7feddce3ee5d
------------[ cut here ]------------
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
kernel BUG at mm/vmalloc.c:4527!
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
Oops: invalid opcode: 0000 [#45] PREEMPT SMP KASAN NOPTI
 ORIG_RAX: 0000000000000010
CPU: 0 UID: 0 PID: 2661 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009a81
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
RSP: 0018:ffff888012adf9b0 EFLAGS: 00010293
 </TASK>

irq event stamp: 0
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
RDX: ffff888020bda540 RSI: ffffffff81e39a8d RDI: 0000000000000001
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RBP: ffff888012adfb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a65
R13: 0000000000000600 R14: ffff88801110292c R15: dffffc0000000000
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
softirqs last disabled at (0): [<0000000000000000>] 0x0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
---[ end trace 0000000000000000 ]---
CR2: 00007feddd038fa8 CR3: 00000000196c6005 CR4: 0000000000770ef0
------------[ cut here ]------------
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
kernel BUG at mm/vmalloc.c:4527!
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009b14
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
Oops: invalid opcode: 0000 [#46] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
CPU: 1 UID: 0 PID: 2654 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RSP: 0018:ffff8880669ef9b0 EFLAGS: 00010293
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888027808000 RSI: ffffffff81e39a8d RDI: 0000000000000001
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RBP: ffff8880669efb58 R08: 0000000000000001 R09: ffffed100cd3decf
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a5e
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R13: 0000000000000600 R14: ffff8880113881ac R15: dffffc0000000000
CR2: 00007feddd038fa8 CR3: 00000000196c6005 CR4: 0000000000770ef0
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007feddd038fa8 CR3: 000000004fb50003 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009a81
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000004fb50003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
------------[ cut here ]------------
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Trying to vfree() bad address (000000002a7130b5)
PKRU: 55555554
WARNING: CPU: 0 PID: 2660 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2660 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88804cf07978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a64 RCX: ffffffff8146eac2
RDX: ffff88804c49a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88804cf079a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a64
R13: 0000000000000800 R14: ffff88800fa159ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a5f000 CR3: 000000001d47a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009aef
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#47] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2660 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88804cf079b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88804c49a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88804cf07b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a64
R13: 0000000000000800 R14: ffff88800fa159ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a5f000 CR3: 000000001d47a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009aef
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a5f000 CR3: 000000001d47a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000e3c0a55f)
WARNING: CPU: 1 PID: 2671 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
------------[ cut here ]------------
Modules linked in:
CPU: 1 UID: 0 PID: 2671 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Trying to vfree() bad address (00000000bdfcc5c0)
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
WARNING: CPU: 0 PID: 2665 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Modules linked in:
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231

Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CPU: 0 UID: 0 PID: 2665 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RSP: 0018:ffff888015a87978 EFLAGS: 00010292
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN

Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000a6f RCX: ffffffff8146eac2
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RDX: ffff888015a98000 RSI: ffffffff8146eacf RDI: 0000000000000001
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RBP: ffff888015a879a0 R08: 0000000000000001 R09: ffffed100d8a5921
RSP: 0018:ffff88802088f978 EFLAGS: 00010292
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a6f

R13: 0000000000000200 R14: ffff8880112496ac R15: dffffc0000000000
RAX: 0000000000000000 RBX: 0000000000000a69 RCX: ffffffff8146eac2
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RDX: ffff88804c49ca80 RSI: ffffffff8146eacf RDI: 0000000000000001
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c6001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
RBP: ffff88802088f9a0 R08: 0000000000000001 R09: ffffed100d885921
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
R10: 0000000000000001 R11: 552031203a555043 R12: 064600ff00000a69
PKRU: 55555554
R13: 0000000000000400 R14: ffff88800fa15bac R15: dffffc0000000000
Call Trace:
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
 <TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c2004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 ORIG_RAX: 0000000000000010
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RIP: 0033:0x7feddce3ee5d
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bb6
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 ORIG_RAX: 0000000000000010
 </TASK>
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
irq event stamp: 0
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009b0a
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
softirqs last disabled at (0): [<0000000000000000>] 0x0
 </TASK>
---[ end trace 0000000000000000 ]---
irq event stamp: 0
------------[ cut here ]------------
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
kernel BUG at mm/vmalloc.c:4527!
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
Oops: invalid opcode: 0000 [#48] PREEMPT SMP KASAN NOPTI
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
CPU: 1 UID: 0 PID: 2671 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
softirqs last disabled at (0): [<0000000000000000>] 0x0
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
---[ end trace 0000000000000000 ]---
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
------------[ cut here ]------------
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
kernel BUG at mm/vmalloc.c:4527!
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888015a879b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888015a98000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888015a87b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a6f
R13: 0000000000000200 R14: ffff8880112496ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c6001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bb6
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#49] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 2665 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RSP: 0018:ffff88802088f9b0 EFLAGS: 00010293
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RDX: ffff88804c49ca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff88802088fb58 R08: 0000000000000001 R09: ffffed100d885921
CR2: 0000000020000080 CR3: 00000000196c6001 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 552031203a555043 R12: 064600ff00000a69
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 0000000000000400 R14: ffff88800fa15bac R15: dffffc0000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c2004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009b0a
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c2004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
------------[ cut here ]------------
Trying to vfree() bad address (000000006df60e57)
Trying to vfree() bad address (0000000001eaf2e5)
WARNING: CPU: 1 PID: 2673 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
WARNING: CPU: 0 PID: 2675 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 2673 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Modules linked in:
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231

Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CPU: 0 UID: 0 PID: 2675 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RSP: 0018:ffff88801598f978 EFLAGS: 00010292
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN

Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000a71 RCX: ffffffff8146eac2
RDX: ffff888015a9a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801598f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a71
R13: 0000000000000600 R14: ffff88800e83f1ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CR2: 00007f0b90e32885 CR3: 000000001d47a001 CR4: 0000000000770ef0
RSP: 0018:ffff888010b27978 EFLAGS: 00010292
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000

DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
RAX: 0000000000000000 RBX: 0000000000000a73 RCX: ffffffff8146eac2
PKRU: 55555554
RDX: ffff888010b1a540 RSI: ffffffff8146eacf RDI: 0000000000000001
Call Trace:
RBP: ffff888010b279a0 R08: 0000000000000001 R09: ffffed100d885921
 <TASK>
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a73
R13: 0000000000000800 R14: ffff88800fa154ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a7c008 CR3: 0000000010bd4005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bc5
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 </TASK>
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
irq event stamp: 0
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
RIP: 0033:0x7feddce3ee5d
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
kernel BUG at mm/vmalloc.c:4527!
 ORIG_RAX: 0000000000000010
Oops: invalid opcode: 0000 [#50] PREEMPT SMP KASAN NOPTI
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
CPU: 1 UID: 0 PID: 2673 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bd0
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 </TASK>
RSP: 0018:ffff88801598f9b0 EFLAGS: 00010293
irq event stamp: 0

hardirqs last  enabled at (0): [<0000000000000000>] 0x0
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
RDX: ffff888015a9a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
RBP: ffff88801598fb58 R08: 0000000000000001 R09: ffffed100d8a5921
softirqs last disabled at (0): [<0000000000000000>] 0x0
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a71
---[ end trace 0000000000000000 ]---
R13: 0000000000000600 R14: ffff88800e83f1ac R15: dffffc0000000000
------------[ cut here ]------------
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
kernel BUG at mm/vmalloc.c:4527!
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f0b90e32885 CR3: 000000001d47a001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bc5
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Oops: invalid opcode: 0000 [#51] PREEMPT SMP KASAN NOPTI
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
CPU: 0 UID: 0 PID: 2675 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RSP: 0018:ffff888010b279b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RDX: ffff888010b1a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RBP: ffff888010b27b58 R08: 0000000000000001 R09: ffffed100d885921
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a73
CR2: 00007f0b90e32885 CR3: 000000001d47a001 CR4: 0000000000770ef0
R13: 0000000000000800 R14: ffff88800fa154ac R15: dffffc0000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
CR2: 00007f5dd2a7c008 CR3: 0000000010bd4005 CR4: 0000000000770ef0
PKRU: 55555554
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bd0
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a7c008 CR3: 0000000010bd4005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000ab97f38a)
WARNING: CPU: 0 PID: 2678 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2678 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0000:ffff88801ce97978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a76 RCX: ffffffff8146eac2
RDX: ffff888013230000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801ce979a0 R08: 0000000000000001 R09: ffffed10039d2ecf
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a76
R13: 0000000000000c00 R14: ffff88800faec6ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e93a780 CR3: 00000000196c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009cc3
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
------------[ cut here ]------------
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
Trying to vfree() bad address (0000000070126db4)
softirqs last disabled at (0): [<0000000000000000>] 0x0
WARNING: CPU: 1 PID: 2670 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
---[ end trace 0000000000000000 ]---
Modules linked in:
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#52] PREEMPT SMP KASAN NOPTI

CPU: 0 UID: 0 PID: 2678 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
CPU: 1 UID: 0 PID: 2670 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0000:ffff88801ce979b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888013230000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RSP: 0018:ffff88802fbef978 EFLAGS: 00010292
RBP: ffff88801ce97b58 R08: 0000000000000001 R09: ffffed10039d2ecf

R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a76
RAX: 0000000000000000 RBX: 0000000000000a6e RCX: ffffffff8146eac2
R13: 0000000000000c00 R14: ffff88800faec6ac R15: dffffc0000000000
RDX: ffff888015a9ca80 RSI: ffffffff8146eacf RDI: 0000000000000001
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
RBP: ffff88802fbef9a0 R08: 0000000000000001 R09: ffffed100d8a5921
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e93a780 CR3: 00000000196c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a6e
PKRU: 55555554
R13: 0000000000000800 R14: ffff888011249e2c R15: dffffc0000000000
Call Trace:
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
 <TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a94000 CR3: 00000000335f0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009cc3
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
Modules linked in:
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17

 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
---[ end trace 0000000000000000 ]---
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RIP: 0033:0x7feddce3ee5d
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246

 ORIG_RAX: 0000000000000010
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bb6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
 </TASK>
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
irq event stamp: 0
CR2: 00007f5c6e93a780 CR3: 00000000196c6004 CR4: 0000000000770ef0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
PKRU: 55555554
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#53] PREEMPT SMP KASAN NOPTI
------------[ cut here ]------------
CPU: 1 UID: 0 PID: 2670 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88802fbef9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888015a9ca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Trying to vfree() bad address (00000000bff62ddd)
RBP: ffff88802fbefb58 R08: 0000000000000001 R09: ffffed100d8a5921
WARNING: CPU: 0 PID: 2682 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a6e
Modules linked in:
R13: 0000000000000800 R14: ffff888011249e2c R15: dffffc0000000000

FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CPU: 0 UID: 0 PID: 2682 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2a94000 CR3: 00000000335f0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
PKRU: 55555554
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Call Trace:
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
 <TASK>
RSP: 0018:ffff88801564f978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 0000000000000a7a RCX: ffffffff8146eac2
RDX: ffff88804b54a540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801564f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 3a6465746e696154 R12: 064600ff00000a7a
R13: 0000000000000c00 R14: ffff88800faec52c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e93a780 CR3: 000000004fb50001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bb6
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:

---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
CR2: 00007f5dd2a94000 CR3: 00000000335f0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
RIP: 0033:0x7feddce3ee5d
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
PKRU: 55555554
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bd8
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#54] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2682 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88801564f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88804b54a540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88801564fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 3a6465746e696154 R12: 064600ff00000a7a
R13: 0000000000000c00 R14: ffff88800faec52c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e93a780 CR3: 000000004fb50001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bd8
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e93a780 CR3: 000000004fb50001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000c7325b5a)
WARNING: CPU: 0 PID: 2679 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2679 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
------------[ cut here ]------------
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Trying to vfree() bad address (000000005722d05e)
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
WARNING: CPU: 1 PID: 2680 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
CPU: 1 UID: 0 PID: 2680 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RSP: 0018:ffff888020907978 EFLAGS: 00010292
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RAX: 0000000000000000 RBX: 0000000000000a77 RCX: ffffffff8146eac2
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RDX: ffff888013232540 RSI: ffffffff8146eacf RDI: 0000000000000001
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RBP: ffff8880209079a0 R08: 0000000000000001 R09: ffffed1004120ecf
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a77
RSP: 0018:ffff888039ec7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a78 RCX: ffffffff8146eac2
RDX: ffff888013234a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888039ec79a0 R08: 0000000000000001 R09: ffffed100d8a5921
R13: 0000000000000c00 R14: ffff88800faeccac R15: dffffc0000000000
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a78
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R13: 0000000000000400 R14: ffff88800faecaac R15: dffffc0000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CR2: 00007f5dd2aaf000 CR3: 000000001d47a004 CR4: 0000000000770ef0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CR2: 00007f5c6801e2d8 CR3: 00000000329f4002 CR4: 0000000000770ef0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Call Trace:
PKRU: 55555554
 <TASK>
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
RIP: 0033:0x7feddce3ee5d
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
 ORIG_RAX: 0000000000000010
RIP: 0033:0x7feddce3ee5d
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
 ORIG_RAX: 0000000000000010
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bd0
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
 </TASK>
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
irq event stamp: 0
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bcc
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
 </TASK>
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
irq event stamp: 0
softirqs last disabled at (0): [<0000000000000000>] 0x0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
------------[ cut here ]------------
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
kernel BUG at mm/vmalloc.c:4527!
softirqs last disabled at (0): [<0000000000000000>] 0x0
Oops: invalid opcode: 0000 [#55] PREEMPT SMP KASAN NOPTI
---[ end trace 0000000000000000 ]---
CPU: 1 UID: 0 PID: 2680 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
------------[ cut here ]------------
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
kernel BUG at mm/vmalloc.c:4527!
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888039ec79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888013234a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888039ec7b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a78
R13: 0000000000000400 R14: ffff88800faecaac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6801e2d8 CR3: 00000000329f4002 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bd0
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#56] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 2679 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RSP: 0018:ffff8880209079b0 EFLAGS: 00010293
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6

R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RDX: ffff888013232540 RSI: ffffffff81e39a8d RDI: 0000000000000001
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff888020907b58 R08: 0000000000000001 R09: ffffed1004120ecf
CR2: 00007f5c6801e2d8 CR3: 00000000329f4002 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a77
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 0000000000000c00 R14: ffff88800faeccac R15: dffffc0000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2aaf000 CR3: 000000001d47a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bcc
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2aaf000 CR3: 000000001d47a004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (00000000efc93592)
WARNING: CPU: 1 PID: 2693 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 2693 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888020967978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a85 RCX: ffffffff8146eac2
RDX: ffff88805e9c0000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880209679a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a85
R13: 0000000000000200 R14: ffff88800eb66eac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 000000005d3e6005 CR4: 0000000000770ef0
------------[ cut here ]------------
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Trying to vfree() bad address (0000000032be5742)
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
WARNING: CPU: 0 PID: 2689 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
 <TASK>
Modules linked in:

CPU: 0 UID: 0 PID: 2689 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff8880083e7978 EFLAGS: 00010292

RAX: 0000000000000000 RBX: 0000000000000a81 RCX: ffffffff8146eac2
RDX: ffff888065620000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880083e79a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a81
R13: 0000000000000600 R14: ffff888012c8aa2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009de5
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
---[ end trace 0000000000000000 ]---
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
------------[ cut here ]------------
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
kernel BUG at mm/vmalloc.c:4527!
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
Oops: invalid opcode: 0000 [#57] PREEMPT SMP KASAN NOPTI
RIP: 0033:0x7feddce3ee5d
CPU: 1 UID: 0 PID: 2693 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
 ORIG_RAX: 0000000000000010
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RSP: 0018:ffff8880209679b0 EFLAGS: 00010293
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000

R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009cd0
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
RDX: ffff88805e9c0000 RSI: ffffffff81e39a8d RDI: 0000000000000001
 </TASK>
RBP: ffff888020967b58 R08: 0000000000000001 R09: ffffed100d8a5921
irq event stamp: 0
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a85
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
R13: 0000000000000200 R14: ffff88800eb66eac R15: dffffc0000000000
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
softirqs last disabled at (0): [<0000000000000000>] 0x0
CR2: 0000000020000080 CR3: 000000005d3e6005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009de5
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#58] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 2689 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RSP: 0018:ffff8880083e79b0 EFLAGS: 00010293
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6

R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
RDX: ffff888065620000 RSI: ffffffff81e39a8d RDI: 0000000000000001
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
RBP: ffff8880083e7b58 R08: 0000000000000001 R09: ffffed100d885921
CR2: 0000000020000080 CR3: 000000005d3e6005 CR4: 0000000000770ef0
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a81
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
R13: 0000000000000600 R14: ffff888012c8aa2c R15: dffffc0000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
PKRU: 55555554
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c6004 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009cd0
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
------------[ cut here ]------------
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
Trying to vfree() bad address (0000000068d59b70)
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
WARNING: CPU: 1 PID: 2696 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
Modules linked in:
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 00000000196c6004 CR4: 0000000000770ef0
CPU: 1 UID: 0 PID: 2696 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
PKRU: 55555554
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88801b5f7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a88 RCX: ffffffff8146eac2
RDX: ffff888010b22540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88801b5f79a0 R08: 0000000000000001 R09: ffffed10036beecf
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a88
R13: 0000000000000c00 R14: ffff888012c8a62c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000043760001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009ded
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
------------[ cut here ]------------
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
Trying to vfree() bad address (000000009b4c6c1c)
softirqs last disabled at (0): [<0000000000000000>] 0x0
WARNING: CPU: 0 PID: 2698 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
---[ end trace 0000000000000000 ]---
Modules linked in:
------------[ cut here ]------------
CPU: 0 UID: 0 PID: 2698 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
kernel BUG at mm/vmalloc.c:4527!
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Oops: invalid opcode: 0000 [#59] PREEMPT SMP KASAN NOPTI
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
CPU: 1 UID: 0 PID: 2696 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff888013597978 EFLAGS: 00010292
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03

RSP: 0018:ffff88801b5f79b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000a8a RCX: ffffffff8146eac2

RDX: ffff888014faca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RBP: ffff8880135979a0 R08: 0000000000000001 R09: ffffed100d885921
RDX: ffff888010b22540 RSI: ffffffff81e39a8d RDI: 0000000000000001
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a8a
RBP: ffff88801b5f7b58 R08: 0000000000000001 R09: ffffed10036beecf
R13: 0000000000000e00 R14: ffff888012c8acac R15: dffffc0000000000
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a88
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
R13: 0000000000000c00 R14: ffff888012c8a62c R15: dffffc0000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CR2: 00007f5dd2b14000 CR3: 000000005d3e6005 CR4: 0000000000770ef0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CR2: 0000000020000080 CR3: 0000000043760001 CR4: 0000000000770ef0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
PKRU: 55555554
 <TASK>
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009ded
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 </TASK>
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
Modules linked in:
RIP: 0033:0x7feddce3ee5d

---[ end trace 0000000000000000 ]---
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
 ORIG_RAX: 0000000000000010
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d

RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bc6
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
 </TASK>
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
irq event stamp: 0
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
CR2: 0000000020000080 CR3: 0000000043760001 CR4: 0000000000770ef0
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
softirqs last disabled at (0): [<0000000000000000>] 0x0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
---[ end trace 0000000000000000 ]---
PKRU: 55555554
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#60] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2698 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880135979b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888014faca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013597b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a8a
R13: 0000000000000e00 R14: ffff888012c8acac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2b14000 CR3: 000000005d3e6005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009bc6
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2b14000 CR3: 000000005d3e6005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000002efe7585)
WARNING: CPU: 1 PID: 2697 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 1 UID: 0 PID: 2697 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0000:ffff88800ec37978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a89 RCX: ffffffff8146eac2
RDX: ffff888010b24a80 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88800ec379a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a89
R13: 0000000000000e00 R14: ffff888012e08a2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00005646e5139c30 CR3: 0000000011046003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009dfd
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#61] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 2697 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0000:ffff88800ec379b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888010b24a80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88800ec37b58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a89
R13: 0000000000000e00 R14: ffff888012e08a2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00005646e5139c30 CR3: 0000000011046003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009dfd
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00005646e5139c30 CR3: 0000000011046003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000008e041802)
WARNING: CPU: 0 PID: 2695 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2695 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888024227978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a87 RCX: ffffffff8146eac2
RDX: ffff888010b20000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff8880242279a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a87
R13: 0000000000000e00 R14: ffff88801211b7ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e112fe0 CR3: 00000000181d0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009de6
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#62] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2695 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff8880242279b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888010b20000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888024227b58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a87
R13: 0000000000000e00 R14: ffff88801211b7ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e112fe0 CR3: 00000000181d0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009de6
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5c6e112fe0 CR3: 00000000181d0003 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000005ffc68de)
------------[ cut here ]------------
WARNING: CPU: 1 PID: 2707 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Trying to vfree() bad address (00000000b4b32afa)
WARNING: CPU: 0 PID: 2706 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
Modules linked in:


CPU: 1 UID: 0 PID: 2707 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
CPU: 0 UID: 0 PID: 2706 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888012d3f978 EFLAGS: 00010292
RSP: 0018:ffff88801595f978 EFLAGS: 00010292


RAX: 0000000000000000 RBX: 0000000000000a93 RCX: ffffffff8146eac2
RAX: 0000000000000000 RBX: 0000000000000a92 RCX: ffffffff8146eac2
RDX: ffff88802780ca80 RSI: ffffffff8146eacf RDI: 0000000000000001
RDX: ffff8880609e2540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888012d3f9a0 R08: 0000000000000001 R09: ffffed100d8a5921
RBP: ffff88801595f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a93
R10: 0000000000000001 R11: 000000002d2d2d2d R12: 064600ff00000a92
R13: 0000000000000000 R14: ffff888012e089ac R15: dffffc0000000000
R13: 0000000000000400 R14: ffff88800ff66cac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000055960001 CR4: 0000000000770ef0
CR2: 00007f5dd2b37000 CR3: 00000000329f4006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
PKRU: 55555554
Call Trace:
Call Trace:
 <TASK>
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246
 ORIG_RAX: 0000000000000010
 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009e8b
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009e0c
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
 </TASK>
irq event stamp: 0
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#63] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 2707 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888012d3f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88802780ca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888012d3fb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000a93
R13: 0000000000000000 R14: ffff888012e089ac R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f5dd2b37000 CR3: 00000000329f4006 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009e8b
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
Oops: invalid opcode: 0000 [#64] PREEMPT SMP KASAN NOPTI
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
CPU: 0 UID: 0 PID: 2706 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845

Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RSP: 0018:ffff88801595f9b0 EFLAGS: 00010293
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001

RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
RDX: ffff8880609e2540 RSI: ffffffff81e39a8d RDI: 0000000000000001
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
RBP: ffff88801595fb58 R08: 0000000000000001 R09: ffffed100d885921
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
R10: 0000000000000001 R11: 000000002d2d2d2d R12: 064600ff00000a92
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
R13: 0000000000000400 R14: ffff88800ff66cac R15: dffffc0000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CR2: 00007f5dd2b37000 CR3: 00000000329f4006 CR4: 0000000000770ef0
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
CR2: 0000000020000080 CR3: 0000000055960001 CR4: 0000000000770ef0
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
PKRU: 55555554
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009e0c
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000055960001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (0000000075b03861)
WARNING: CPU: 0 PID: 2703 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2703 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff888010c9f978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a8f RCX: ffffffff8146eac2
RDX: ffff88805b208000 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff888010c9f9a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a8f
R13: 0000000000000800 R14: ffff888012e08d2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000043bfe005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009e13
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#65] PREEMPT SMP KASAN NOPTI
CPU: 0 UID: 0 PID: 2703 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888010c9f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff88805b208000 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888010c9fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a8f
R13: 0000000000000800 R14: ffff888012e08d2c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000020000080 CR3: 0000000043bfe005 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009e13
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e358d000(0000) knlGS:0000000000000000
------------[ cut here ]------------
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
Trying to vfree() bad address (00000000a114d290)
CR2: 0000000020000080 CR3: 0000000043bfe005 CR4: 0000000000770ef0
WARNING: CPU: 1 PID: 2705 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
Modules linked in:
PKRU: 55555554

CPU: 1 UID: 0 PID: 2705 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88803b1ef978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000a91 RCX: ffffffff8146eac2
RDX: ffff888012392540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88803b1ef9a0 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a91
R13: 0000000000000a00 R14: ffff88800ff6602c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000002fd46001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 free_vm_area mm/vmalloc.c:4526 [inline]
 __vmalloc_node_range_noprof+0x97e/0x1420 mm/vmalloc.c:3845
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009f3f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
irq event stamp: 0
hardirqs last  enabled at (0): [<0000000000000000>] 0x0
hardirqs last disabled at (0): [<ffffffff8146709f>] copy_process+0x1cff/0x69c0 kernel/fork.c:2372
softirqs last  enabled at (0): [<ffffffff814670ec>] copy_process+0x1d4c/0x69c0 kernel/fork.c:2373
softirqs last disabled at (0): [<0000000000000000>] 0x0
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
kernel BUG at mm/vmalloc.c:4527!
Oops: invalid opcode: 0000 [#66] PREEMPT SMP KASAN NOPTI
CPU: 1 UID: 0 PID: 2705 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff88803b1ef9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012392540 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff88803b1efb58 R08: 0000000000000001 R09: ffffed100d8a5921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff00000a91
R13: 0000000000000a00 R14: ffff88800ff6602c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000002fd46001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
 <TASK>
 __kvmalloc_node_noprof+0x2a9/0x6a0 mm/slub.c:5038
 iommufd_test_access_rw drivers/iommu/iommufd/selftest.c:1472 [inline]
 iommufd_test+0x2d8/0x4b00 drivers/iommu/iommufd/selftest.c:1658
 iommufd_fops_ioctl+0x38e/0x520 drivers/iommu/iommufd/main.c:416
 vfs_ioctl fs/ioctl.c:51 [inline]
 __do_sys_ioctl fs/ioctl.c:906 [inline]
 __se_sys_ioctl fs/ioctl.c:892 [inline]
 __x64_sys_ioctl+0x1ba/0x220 fs/ioctl.c:892
 x64_sys_call+0x1233/0x2150 arch/x86/include/generated/asm/syscalls_64.h:17
 do_syscall_x64 arch/x86/entry/common.c:52 [inline]
 do_syscall_64+0x6d/0x140 arch/x86/entry/common.c:83
 entry_SYSCALL_64_after_hwframe+0x76/0x7e
RIP: 0033:0x7feddce3ee5d
Code: ff c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 93 af 1b 00 f7 d8 64 89 01 48
RSP: 002b:00007ffc68eb96d8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00000000000f4240 RCX: 00007feddce3ee5d
RDX: 0000000020000440 RSI: 0000000000003ba0 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000008000 R09: 0000000000008000
R10: 0000000000008000 R11: 0000000000000246 R12: 0000000000009f3f
R13: 0000000000401170 R14: 0000000000403e08 R15: 00007feddd081000
 </TASK>
Modules linked in:
---[ end trace 0000000000000000 ]---
RIP: 0010:free_vm_area mm/vmalloc.c:4527 [inline]
RIP: 0010:__vmalloc_node_range_noprof+0xf7d/0x1420 mm/vmalloc.c:3845
Code: 34 ff ff ff 0c 00 00 00 bb 00 10 00 00 e8 6b bf a4 ff 48 8b 85 a0 fe ff ff 48 39 d8 48 0f 43 d8 e9 d3 f1 ff ff e8 53 bf a4 ff <0f> 0b 45 31 e4 e8 49 bf a4 ff 48 b8 00 00 00 00 00 fc ff df 48 03
RSP: 0018:ffff888013e6f9b0 EFLAGS: 00010293
RAX: 0000000000000000 RBX: 0000000000000009 RCX: ffffffff8146eac2
RDX: ffff888012dbca80 RSI: ffffffff81e39a8d RDI: 0000000000000001
RBP: ffff888013e6fb58 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000000 R11: 7420676e69797254 R12: 064600ff000004c6
R13: 0000000000000200 R14: ffff88800f8d692c R15: dffffc0000000000
FS:  00007feddd038600(0000) GS:ffff8880e368d000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007feddd038fa8 CR3: 000000002fd46001 CR4: 0000000000770ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff07f0 DR7: 0000000000000400
PKRU: 55555554
------------[ cut here ]------------
Trying to vfree() bad address (000000008cab16a2)
WARNING: CPU: 0 PID: 2945 at mm/vmalloc.c:3231 remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Modules linked in:
CPU: 0 UID: 0 PID: 2945 Comm: syz-executor173 Tainted: G    B D W           6.14.0-rc6-next-20250311-eea255893718 #1
Tainted: [B]=BAD_PAGE, [D]=DIE, [W]=WARN
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
RIP: 0010:remove_vm_area+0x1c2/0x220 mm/vmalloc.c:3231
Code: c3 cc cc cc cc e8 7e e2 a4 ff 49 81 ee 00 10 00 00 e9 51 ff ff ff e8 6d e2 a4 ff 4c 89 e6 48 c7 c7 a0 eb fa 85 e8 ce 71 63 ff <0f> 0b 45 31 ed eb bb 45 31 ed eb b6 e8 ed d2 0f 00 e9 10 ff ff ff
RSP: 0018:ffff88804caa7978 EFLAGS: 00010292
RAX: 0000000000000000 RBX: 0000000000000b81 RCX: ffffffff8146eac2
RDX: ffff888015f42540 RSI: ffffffff8146eacf RDI: 0000000000000001
RBP: ffff88804caa79a0 R08: 0000000000000001 R09: ffffed100d885921
R10: 0000000000000001 R11: 7420676e69797254 R12: 064600ff00000b81
----------------
Code disassembly (best guess):
   0:	ff c3                	inc    %ebx
   2:	66 2e 0f 1f 84 00 00 	nopw   %cs:0x0(%rax,%rax,1)
   9:	00 00 00
   c:	90                   	nop
   d:	f3 0f 1e fa          	endbr64
  11:	48 89 f8             	mov    %rdi,%rax
  14:	48 89 f7             	mov    %rsi,%rdi
  17:	48 89 d6             	mov    %rdx,%rsi
  1a:	48 89 ca             	mov    %rcx,%rdx
  1d:	4d 89 c2             	mov    %r8,%r10
  20:	4d 89 c8             	mov    %r9,%r8
  23:	4c 8b 4c 24 08       	mov    0x8(%rsp),%r9
  28:	0f 05                	syscall
* 2a:	48 3d 01 f0 ff ff    	cmp    $0xfffffffffffff001,%rax <-- trapping instruction
  30:	73 01                	jae    0x33
  32:	c3                   	retq
  33:	48 8b 0d 93 af 1b 00 	mov    0x1baf93(%rip),%rcx        # 0x1bafcd
  3a:	f7 d8                	neg    %eax
  3c:	64 89 01             	mov    %eax,%fs:(%rcx)
  3f:	48                   	rex.W

c[?7l[2J[0mSeaBIOS (version rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org)


iPXE (http://ipxe.org) 00:03.0 CA00 PCI2.10 PnP PMM+7FF91000+7FEF1000 CA00
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from ROM...
c[?7l[2J[    0.000000] Linux version 6.2.0-8ca8d89b43ca+ (root@p-tglh01.sh.intel.com) (gcc (GCC) 8.5.0 20210514 (Red Hat 8.5.0-18), GNU ld version 2.36.1-2.el8) #1 SMP PREEMPT_DYNAMIC Tue Mar 14 12:28:40 CST 2023
[    0.000000] Command line: console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x020: 'AVX-512 opmask'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x040: 'AVX-512 Hi256'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x080: 'AVX-512 ZMM_Hi256'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x200: 'Protection Keys User registers'
[    0.000000] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.000000] x86/fpu: xstate_offset[5]:  832, xstate_sizes[5]:   64
[    0.000000] x86/fpu: xstate_offset[6]:  896, xstate_sizes[6]:  512
[    0.000000] x86/fpu: xstate_offset[7]: 1408, xstate_sizes[7]: 1024
[    0.000000] x86/fpu: xstate_offset[9]: 2432, xstate_sizes[9]:    8
[    0.000000] x86/fpu: Enabled xstate features 0x2e7, context size is 2440 bytes, using 'compacted' format.
[    0.000000] signal: max sigframe size: 3632
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[    0.000000] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] printk: bootconsole [earlyser0] enabled
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[    0.000000] Hypervisor detected: KVM
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000005] kvm-clock: using sched offset of 640851953 cycles
[    0.000639] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.002474] tsc: Detected 3110.400 MHz processor
[    0.004000] last_pfn = 0x7ffe0 max_arch_pfn = 0x400000000
[    0.004000] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.004000] found SMP MP-table at [mem 0x000f5ba0-0x000f5baf]
[    0.004000] Using GB pages for direct mapping
[    0.004000] ACPI: Early table checksum verification disabled
[    0.004000] ACPI: RSDP 0x00000000000F59C0 000014 (v00 BOCHS )
[    0.004000] ACPI: RSDT 0x000000007FFE1951 000034 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.004000] ACPI: FACP 0x000000007FFE17FD 000074 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.004000] ACPI: DSDT 0x000000007FFE0040 0017BD (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.004000] ACPI: FACS 0x000000007FFE0000 000040
[    0.004000] ACPI: APIC 0x000000007FFE1871 000080 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.004000] ACPI: HPET 0x000000007FFE18F1 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.004000] ACPI: WAET 0x000000007FFE1929 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.004000] ACPI: Reserving FACP table memory at [mem 0x7ffe17fd-0x7ffe1870]
[    0.004000] ACPI: Reserving DSDT table memory at [mem 0x7ffe0040-0x7ffe17fc]
[    0.004000] ACPI: Reserving FACS table memory at [mem 0x7ffe0000-0x7ffe003f]
[    0.004000] ACPI: Reserving APIC table memory at [mem 0x7ffe1871-0x7ffe18f0]
[    0.004000] ACPI: Reserving HPET table memory at [mem 0x7ffe18f1-0x7ffe1928]
[    0.004000] ACPI: Reserving WAET table memory at [mem 0x7ffe1929-0x7ffe1950]
[    0.004000] No NUMA configuration found
[    0.004000] Faking a node at [mem 0x0000000000000000-0x000000007ffdffff]
[    0.004000] NODE_DATA(0) allocated [mem 0x7ffb5000-0x7ffdffff]
[    0.004000] Zone ranges:
[    0.004000]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.004000]   DMA32    [mem 0x0000000001000000-0x000000007ffdffff]
[    0.004000]   Normal   empty
[    0.004000]   Device   empty
[    0.004000] Movable zone start for each node
[    0.004000] Early memory node ranges
[    0.004000]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.004000]   node   0: [mem 0x0000000000100000-0x000000007ffdffff]
[    0.004000] Initmem setup node 0 [mem 0x0000000000001000-0x000000007ffdffff]
[    0.004000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.004000] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.004000] On node 0, zone DMA32: 32 pages in unavailable ranges
[    0.004000] ACPI: PM-Timer IO Port: 0x608
[    0.004000] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.004000] IOAPIC[0]: apic_id 0, version 17, address 0xfec00000, GSI 0-23
[    0.004000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.004000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.004000] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.004000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.004000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.004000] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.004000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.004000] TSC deadline timer available
[    0.004000] smpboot: Allowing 2 CPUs, 0 hotplug CPUs
[    0.004000] kvm-guest: KVM setup pv remote TLB flush
[    0.004000] kvm-guest: setup PV sched yield
[    0.004000] PM: hibernation: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.004000] PM: hibernation: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
[    0.004000] PM: hibernation: Registered nosave memory: [mem 0x000a0000-0x000effff]
[    0.004000] PM: hibernation: Registered nosave memory: [mem 0x000f0000-0x000fffff]
[    0.004000] [mem 0x80000000-0xfeffbfff] available for PCI devices
[    0.004000] Booting paravirtualized kernel on KVM
[    0.004000] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.004000] setup_percpu: NR_CPUS:8192 nr_cpumask_bits:2 nr_cpu_ids:2 nr_node_ids:1
[    0.004000] percpu: Embedded 64 pages/cpu s225280 r8192 d28672 u1048576
[    0.004000] kvm-guest: PV spinlocks enabled
[    0.004000] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes, linear)
[    0.004000] Fallback order for Node 0: 0 
[    0.004000] Built 1 zonelists, mobility grouping on.  Total pages: 515808
[    0.004000] Policy zone: DMA32
[    0.004000] Kernel command line: net.ifnames=0 console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0
[    0.004000] random: crng init done
[    0.004000] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.004000] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.004000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.004000] Memory: 1966944K/2096632K available (34816K kernel code, 4558K rwdata, 9880K rodata, 10184K init, 32124K bss, 129432K reserved, 0K cma-reserved)
[    0.004000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.004000] kmemleak: Kernel memory leak detector disabled
[    0.004000] ftrace: allocating 68285 entries in 267 pages
[    0.004000] ftrace: allocated 267 pages with 4 groups
[    0.004000] Dynamic Preempt: voluntary
[    0.004000] Running RCU self tests
[    0.004000] rcu: Preemptible hierarchical RCU implementation.
[    0.004000] rcu: 	RCU lockdep checking is enabled.
[    0.004000] rcu: 	RCU restricting CPUs from NR_CPUS=8192 to nr_cpu_ids=2.
[    0.004000] 	Trampoline variant of Tasks RCU enabled.
[    0.004000] 	Rude variant of Tasks RCU enabled.
[    0.004000] 	Tracing variant of Tasks RCU enabled.
[    0.004000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.004000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.004000] NR_IRQS: 524544, nr_irqs: 440, preallocated irqs: 16
[    0.004000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.004000] Console: colour VGA+ 80x25
[    0.004000] printk: console [ttyS0] enabled
[    0.004000] printk: console [ttyS0] enabled
[    0.004000] printk: bootconsole [earlyser0] disabled
[    0.004000] printk: bootconsole [earlyser0] disabled
[    0.004000] Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
[    0.004000] ... MAX_LOCKDEP_SUBCLASSES:  8
[    0.004000] ... MAX_LOCK_DEPTH:          48
[    0.004000] ... MAX_LOCKDEP_KEYS:        8192
[    0.004000] ... CLASSHASH_SIZE:          4096
[    0.004000] ... MAX_LOCKDEP_ENTRIES:     32768
[    0.004000] ... MAX_LOCKDEP_CHAINS:      65536
[    0.004000] ... CHAINHASH_SIZE:          32768
[    0.004000]  memory used by lock dependency info: 6365 kB
[    0.004000]  memory used for stack traces: 4224 kB
[    0.004000]  per task-struct memory footprint: 1920 bytes
[    0.004000] ACPI: Core revision 20221020
[    0.004000] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.004000] APIC: Switch to symmetric I/O mode setup
[    0.004000] x2apic enabled
[    0.004000] Switched APIC routing to physical x2apic.
[    0.004000] kvm-guest: setup PV IPIs
[    0.004000] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.004000] clocksource: tsc-early: mask: 0xffffffffffffffff max_cycles: 0x2cd5a8bb032, max_idle_ns: 440795365915 ns
[    1.558937] Calibrating delay loop (skipped) preset value.. 6220.80 BogoMIPS (lpj=12441600)
[    1.560086] pid_max: default: 32768 minimum: 301
[    1.563056] LSM: initializing lsm=capability,yama,integrity
[    1.563845] Yama: becoming mindful.
[    1.564580] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.565627] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.571009] x86/cpu: User Mode Instruction Prevention (UMIP) activated
[    1.572735] Last level iTLB entries: 4KB 0, 2MB 0, 4MB 0
[    1.573539] Last level dTLB entries: 4KB 0, 2MB 0, 4MB 0, 1GB 0
[    1.574967] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    1.575945] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[    1.577216] Spectre V2 : Mitigation: Enhanced IBRS
[    1.577738] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    1.578605] Spectre V2 : Spectre v2 / PBRSB-eIBRS: Retire a single CALL on VMEXIT
[    1.578929] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    1.579828] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl
[    1.757347] Freeing SMP alternatives memory: 56K
[    1.758444] smpboot: CPU0: Genuine Intel(R) CPU 0000 @ 2.20GHz (family: 0x6, model: 0x8d, stepping: 0x0)
[    1.758913] cblist_init_generic: Setting adjustable number of callback queues.
[    1.758913] cblist_init_generic: Setting shift to 1 and lim to 1.
[    1.758913] cblist_init_generic: Setting shift to 1 and lim to 1.
[    1.758922] cblist_init_generic: Setting shift to 1 and lim to 1.
[    1.759656] Running RCU-tasks wait API self tests
[    1.863168] Performance Events: Icelake events, full-width counters, Intel PMU driver.
[    1.864729] ... version:                2
[    1.865353] ... bit width:              48
[    1.865980] ... generic registers:      8
[    1.866591] ... value mask:             0000ffffffffffff
[    1.866927] ... max period:             00007fffffffffff
[    1.867748] ... fixed-purpose events:   3
[    1.868359] ... event mask:             00000007000000ff
[    1.870083] rcu: Hierarchical SRCU implementation.
[    1.870835] rcu: 	Max phase no-delay instances is 1000.
[    1.874876] smp: Bringing up secondary CPUs ...
[    1.876084] x86: Booting SMP configuration:
[    1.876763] .... node  #0, CPUs:      #1
[    1.877445] smp: Brought up 1 node, 2 CPUs
[    1.878935] smpboot: Max logical packages: 1
[    1.879582] smpboot: Total of 2 processors activated (12441.60 BogoMIPS)
[    1.882965] Callback from call_rcu_tasks_trace() invoked.
[    1.887258] devtmpfs: initialized
[    1.887273] x86/mm: Memory block size: 128MB
[    1.895571] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    1.897105] futex hash table entries: 512 (order: 4, 65536 bytes, linear)
[    1.898728] pinctrl core: initialized pinctrl subsystem
[    1.900235] 
[    1.900509] *************************************************************
[    1.901552] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.902591] **                                                         **
[    1.902927] **  IOMMU DebugFS SUPPORT HAS BEEN ENABLED IN THIS KERNEL  **
[    1.903963] **                                                         **
[    1.905009] ** This means that this kernel is built to expose internal **
[    1.906055] ** IOMMU data structures, which may compromise security on **
[    1.906926] ** your system.                                            **
[    1.907963] **                                                         **
[    1.908999] ** If you see this message and you are not debugging the   **
[    1.910021] ** kernel, report this immediately to your vendor!         **
[    1.910926] **                                                         **
[    1.911966] **     NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE    **
[    1.913010] *************************************************************
[    1.914141] PM: RTC time: 04:29:38, date: 2023-03-14
[    1.922658] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    1.924316] DMA: preallocated 256 KiB GFP_KERNEL pool for atomic allocations
[    1.926595] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    1.926963] DMA: preallocated 256 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    1.928273] audit: initializing netlink subsys (disabled)
[    1.929168] audit: type=2000 audit(1678768179.354:1): state=initialized audit_enabled=0 res=1
[    1.929168] thermal_sys: Registered thermal governor 'fair_share'
[    1.929168] thermal_sys: Registered thermal governor 'bang_bang'
[    1.929168] thermal_sys: Registered thermal governor 'step_wise'
[    1.929953] thermal_sys: Registered thermal governor 'user_space'
[    1.931060] cpuidle: using governor ladder
[    1.935635] cpuidle: using governor menu
[    1.936870] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    1.938639] PCI: Using configuration type 1 for base access
[    1.940298] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    2.223342] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    2.224062] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    2.224734] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    2.225433] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    2.231132] ACPI: Added _OSI(Module Device)
[    2.231630] ACPI: Added _OSI(Processor Device)
[    2.232075] ACPI: Added _OSI(3.0 _SCP Extensions)
[    2.232579] ACPI: Added _OSI(Processor Aggregator Device)
[    2.240195] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    2.245240] ACPI: Interpreter enabled
[    2.245781] ACPI: PM: (supports S0 S3 S4 S5)
[    2.246201] ACPI: Using IOAPIC for interrupt routing
[    2.246836] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    2.246921] PCI: Using E820 reservations for host bridge windows
[    2.248433] ACPI: Enabled 2 GPEs in block 00 to 0F
[    2.271719] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    2.272412] acpi PNP0A03:00: _OSC: OS supports [ASPM ClockPM Segments MSI EDR HPX-Type3]
[    2.273258] acpi PNP0A03:00: _OSC: not requesting OS control; OS requires [ExtendedConfig ASPM ClockPM MSI]
[    2.274337] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended configuration space under this bridge
[    2.278260] acpiphp: Slot [3] registered
[    2.278789] acpiphp: Slot [4] registered
[    2.279009] acpiphp: Slot [5] registered
[    2.279505] acpiphp: Slot [6] registered
[    2.279993] acpiphp: Slot [7] registered
[    2.280492] acpiphp: Slot [8] registered
[    2.280970] acpiphp: Slot [9] registered
[    2.281457] acpiphp: Slot [10] registered
[    2.281962] acpiphp: Slot [11] registered
[    2.282443] acpiphp: Slot [12] registered
[    2.282965] acpiphp: Slot [13] registered
[    2.283458] acpiphp: Slot [14] registered
[    2.283952] acpiphp: Slot [15] registered
[    2.284431] acpiphp: Slot [16] registered
[    2.284919] acpiphp: Slot [17] registered
[    2.285399] acpiphp: Slot [18] registered
[    2.285917] acpiphp: Slot [19] registered
[    2.286405] acpiphp: Slot [20] registered
[    2.286897] acpiphp: Slot [21] registered
[    2.287014] acpiphp: Slot [22] registered
[    2.287514] acpiphp: Slot [23] registered
[    2.288009] acpiphp: Slot [24] registered
[    2.288490] acpiphp: Slot [25] registered
[    2.288993] acpiphp: Slot [26] registered
[    2.289477] acpiphp: Slot [27] registered
[    2.289994] acpiphp: Slot [28] registered
[    2.290481] acpiphp: Slot [29] registered
[    2.290988] acpiphp: Slot [30] registered
[    2.291486] acpiphp: Slot [31] registered
[    2.291927] PCI host bridge to bus 0000:00
[    2.292356] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    2.293066] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    2.293741] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    2.294475] pci_bus 0000:00: root bus resource [mem 0x80000000-0xfebfffff window]
[    2.294923] pci_bus 0000:00: root bus resource [mem 0x100000000-0x17fffffff window]
[    2.295693] pci_bus 0000:00: root bus resource [bus 00-ff]
[    2.296420] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000
[    2.300962] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100
[    2.302529] pci 0000:00:01.1: [8086:7010] type 00 class 0x010180
[    2.304665] pci 0000:00:01.1: reg 0x20: [io  0xc040-0xc04f]
[    2.306018] pci 0000:00:01.1: legacy IDE quirk: reg 0x10: [io  0x01f0-0x01f7]
[    2.306742] pci 0000:00:01.1: legacy IDE quirk: reg 0x14: [io  0x03f6]
[    2.306923] pci 0000:00:01.1: legacy IDE quirk: reg 0x18: [io  0x0170-0x0177]
[    2.307642] pci 0000:00:01.1: legacy IDE quirk: reg 0x1c: [io  0x0376]
[    2.308665] pci 0000:00:01.3: [8086:7113] type 00 class 0x068000
[    2.309657] pci 0000:00:01.3: quirk: [io  0x0600-0x063f] claimed by PIIX4 ACPI
[    2.310384] pci 0000:00:01.3: quirk: [io  0x0700-0x070f] claimed by PIIX4 SMB
[    2.311287] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000
[    2.315384] pci 0000:00:02.0: reg 0x10: [mem 0xfd000000-0xfdffffff pref]
[    2.318620] pci 0000:00:02.0: reg 0x18: [mem 0xfebf0000-0xfebf0fff]
[    2.324481] pci 0000:00:02.0: reg 0x30: [mem 0xfebe0000-0xfebeffff pref]
[    2.325697] pci 0000:00:02.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    2.330881] pci 0000:00:03.0: [8086:100e] type 00 class 0x020000
[    2.331663] pci 0000:00:03.0: reg 0x10: [mem 0xfebc0000-0xfebdffff]
[    2.332911] pci 0000:00:03.0: reg 0x14: [io  0xc000-0xc03f]
[    2.336347] pci 0000:00:03.0: reg 0x30: [mem 0xfeb80000-0xfebbffff pref]
[    2.351474] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[    2.352599] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[    2.353690] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[    2.354787] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[    2.355186] ACPI: PCI: Interrupt link LNKS configured for IRQ 9
[    2.357829] iommu: Default domain type: Translated 
[    2.358330] iommu: DMA domain TLB invalidation policy: lazy mode 
[    2.360546] SCSI subsystem initialized
[    2.361467] ACPI: bus type USB registered
[    2.361996] usbcore: registered new interface driver usbfs
[    2.362610] usbcore: registered new interface driver hub
[    2.362972] usbcore: registered new device driver usb
[    2.363652] pps_core: LinuxPPS API ver. 1 registered
[    2.364187] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    2.365139] PTP clock support registered
[    2.365787] EDAC MC: Ver: 3.0.0
[    2.368495] NetLabel: Initializing
[    2.368892] NetLabel:  domain hash size = 128
[    2.369346] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    2.369998] NetLabel:  unlabeled traffic allowed by default
[    2.371085] PCI: Using ACPI for IRQ routing
[    2.371869] pci 0000:00:02.0: vgaarb: setting as boot VGA device
[    2.372508] pci 0000:00:02.0: vgaarb: bridge control possible
[    2.373126] pci 0000:00:02.0: vgaarb: VGA device added: decodes=io+mem,owns=io+mem,locks=none
[    2.374011] vgaarb: loaded
[    2.375050] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[    2.375575] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[    6.484909] Callback from call_rcu_tasks_rude() invoked.
[    6.485881] clocksource: Switched to clocksource kvm-clock
[    6.595148] Callback from call_rcu_tasks() invoked.
[    6.728522] VFS: Disk quotas dquot_6.6.0
[    6.729344] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    6.731202] pnp: PnP ACPI init
[    6.736196] pnp: PnP ACPI: found 6 devices
[    6.758303] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[    6.760597] NET: Registered PF_INET protocol family
[    6.761880] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    6.765581] tcp_listen_portaddr_hash hash table entries: 1024 (order: 4, 73728 bytes, linear)
[    6.767152] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    6.768444] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    6.770489] TCP bind hash table entries: 16384 (order: 9, 2359296 bytes, linear)
[    6.777029] TCP: Hash tables configured (established 16384 bind 16384)
[    6.778494] UDP hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    6.779900] UDP-Lite hash table entries: 1024 (order: 5, 163840 bytes, linear)
[    6.781643] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    6.783904] RPC: Registered named UNIX socket transport module.
[    6.784997] RPC: Registered udp transport module.
[    6.785764] RPC: Registered tcp transport module.
[    6.786603] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    6.787799] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[    6.788778] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[    6.789756] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[    6.790852] pci_bus 0000:00: resource 7 [mem 0x80000000-0xfebfffff window]
[    6.791987] pci_bus 0000:00: resource 8 [mem 0x100000000-0x17fffffff window]
[    6.793867] pci 0000:00:01.0: PIIX3: Enabling Passive Release
[    6.794808] pci 0000:00:00.0: Limiting direct PCI/PCI transfers
[    6.795934] PCI: CLS 0 bytes, default 64
[    6.796728] ACPI: bus type thunderbolt registered
[    6.798222] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x2cd5a8bb032, max_idle_ns: 440795365915 ns
[    6.889733] Initialise system trusted keyrings
[    6.890698] Key type blacklist registered
[    6.891914] workingset: timestamp_bits=36 max_order=19 bucket_order=0
[    6.893085] zbud: loaded
[    6.895295] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    6.897869] NFS: Registering the id_resolver key type
[    6.898691] Key type id_resolver registered
[    6.899378] Key type id_legacy registered
[    6.900101] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    6.901207] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    6.902738] fuse: init (API version 7.38)
[    6.903869] SGI XFS with ACLs, security attributes, realtime, quota, no debug enabled
[    6.906364] 9p: Installing v9fs 9p2000 file system support
[    6.925286] Key type asymmetric registered
[    6.926013] Asymmetric key parser 'x509' registered
[    6.927044] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 243)
[    6.928660] io scheduler mq-deadline registered
[    6.929492] io scheduler bfq registered
[    6.931094] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4
[    6.933174] IPMI message handler: version 39.2
[    6.934000] ipmi device interface
[    6.938965] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input0
[    6.940606] ACPI: button: Power Button [PWRF]
[    6.943609] ERST DBG: ERST support is disabled.
[    6.945867] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled
[    6.947859] 00:04: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    6.970997] Linux agpgart interface v0.103
[    6.973854] ACPI: bus type drm_connector registered
[    7.004458] brd: module loaded
[    7.022318] loop: module loaded
[    7.032699] scsi host0: ata_piix
[    7.034575] scsi host1: ata_piix
[    7.035641] ata1: PATA max MWDMA2 cmd 0x1f0 ctl 0x3f6 bmdma 0xc040 irq 14
[    7.036672] ata2: PATA max MWDMA2 cmd 0x170 ctl 0x376 bmdma 0xc048 irq 15
[    7.040463] tun: Universal TUN/TAP device driver, 1.6
[    7.041754] e100: Intel(R) PRO/100 Network Driver
[    7.042472] e100: Copyright(c) 1999-2006 Intel Corporation
[    7.043445] e1000: Intel(R) PRO/1000 Network Driver
[    7.044244] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    7.195219] ata1: found unknown device (class 0)
[    7.196969] ata1.00: ATA-7: QEMU HARDDISK, 2.5+, max UDMA/100
[    7.197927] ata1.00: 16777216 sectors, multi 16: LBA48 
[    7.199300] ata2: found unknown device (class 0)
[    7.201588] scsi 0:0:0:0: Direct-Access     ATA      QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5
[    7.205085] scsi 0:0:0:0: Attached scsi generic sg0 type 0
[    7.206882] ata2.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[    7.210436] scsi 1:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[    7.213770] sd 0:0:0:0: [sda] 16777216 512-byte logical blocks: (8.59 GB/8.00 GiB)
[    7.215091] sd 0:0:0:0: [sda] Write Protect is off
[    7.215990] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    7.217607] sd 0:0:0:0: [sda] Preferred minimum I/O size 512 bytes
[    7.241692] scsi 1:0:0:0: Attached scsi generic sg1 type 5
[    7.253224] sd 0:0:0:0: [sda] Attached SCSI disk
[    7.511107] ACPI: \_SB_.LNKC: Enabled at IRQ 11
[    7.860731] e1000 0000:00:03.0 eth0: (PCI:33MHz:32-bit) 52:54:00:12:34:56
[    7.861934] e1000 0000:00:03.0 eth0: Intel(R) PRO/1000 Network Connection
[    7.863302] e1000e: Intel(R) PRO/1000 Network Driver
[    7.864118] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    7.865229] igb: Intel(R) Gigabit Ethernet Network Driver
[    7.866141] igb: Copyright (c) 2007-2014 Intel Corporation.
[    7.867350] PPP generic driver version 2.4.2
[    7.869012] VFIO - User Level meta-driver version: 0.3
[    7.871032] usbcore: registered new interface driver uas
[    7.872019] usbcore: registered new interface driver usb-storage
[    7.873314] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[    7.875896] serio: i8042 KBD port at 0x60,0x64 irq 1
[    7.876785] serio: i8042 AUX port at 0x60,0x64 irq 12
[    7.879116] mousedev: PS/2 mouse device common for all mice
[    7.881951] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input1
[    7.883313] rtc_cmos 00:05: RTC can wake from S4
[    7.885789] rtc_cmos 00:05: registered as rtc0
[    7.886632] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input4
[    7.886808] rtc_cmos 00:05: setting system clock to 2023-03-14T04:29:44 UTC (1678768184)
[    7.889491] input: VirtualPS/2 VMware VMMouse as /devices/platform/i8042/serio1/input/input3
[    7.891276] rtc_cmos 00:05: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[    7.892558] i2c_dev: i2c /dev entries driver
[    7.893376] device-mapper: core: CONFIG_IMA_DISABLE_HTABLE is disabled. Duplicate IMA measurements will not be recorded in the IMA log.
[    7.895443] device-mapper: uevent: version 1.0.3
[    7.896700] device-mapper: ioctl: 4.47.0-ioctl (2022-07-28) initialised: dm-devel@redhat.com
[    7.898082] intel_pstate: CPU model not supported
[    7.899174] sdhci: Secure Digital Host Controller Interface driver
[    7.900298] sdhci: Copyright(c) Pierre Ossman
[    7.901207] sdhci-pltfm: SDHCI platform and OF driver helper
[    7.902278] ledtrig-cpu: registered to indicate activity on CPUs
[    7.904309] drop_monitor: Initializing network drop monitor service
[    7.905837] NET: Registered PF_INET6 protocol family
[    7.912538] Segment Routing with IPv6
[    7.913207] In-situ OAM (IOAM) with IPv6
[    7.913969] NET: Registered PF_PACKET protocol family
[    7.915157] 9pnet: Installing 9P2000 support
[    7.916004] Key type dns_resolver registered
[    7.918490] IPI shorthand broadcast: enabled
[    7.954483] sched_clock: Marking stable (6400009298, 1550913589)->(7975876055, -24953168)
[    7.958898] registered taskstats version 1
[    7.960140] Loading compiled-in X.509 certificates
[    7.962582] zswap: loaded using pool lzo/zbud
[    8.002631] Key type .fscrypt registered
[    8.003344] Key type fscrypt-provisioning registered
[    8.006554] Key type encrypted registered
[    8.007360] ima: No TPM chip found, activating TPM-bypass!
[    8.008271] ima: Allocated hash algorithm: sha1
[    8.009067] ima: No architecture policies found
[    8.009992] evm: Initialising EVM extended attributes:
[    8.010808] evm: security.selinux
[    8.011367] evm: security.SMACK64
[    8.011915] evm: security.SMACK64EXEC
[    8.012515] evm: security.SMACK64TRANSMUTE
[    8.013182] evm: security.SMACK64MMAP
[    8.013763] evm: security.apparmor
[    8.014315] evm: security.ima
[    8.014790] evm: security.capability
[    8.015370] evm: HMAC attrs: 0x1
[    8.018883] PM:   Magic number: 15:380:464
[    8.020484] RAS: Correctable Errors collector initialized.
[    8.022602] md: Waiting for all devices to be available before autodetect
[    8.023138] md: If you don't use raid, use raid=noautodetect
[    8.023546] md: Autodetecting RAID arrays.
[    8.023875] md: autorun ...
[    8.024107] md: ... autorun DONE.
[    8.037757] EXT4-fs (sda): mounted filesystem 23a53bb9-f815-47a5-b74c-5e08f7731193 with ordered data mode. Quota mode: none.
[    8.038690] VFS: Mounted root (ext4 filesystem) readonly on device 8:0.
[    8.041736] devtmpfs: mounted
[    8.053789] Freeing unused decrypted memory: 2036K
[    8.060587] Freeing unused kernel image (initmem) memory: 10184K
[    8.061109] Write protecting the kernel read-only data: 45056k
[    8.063242] Freeing unused kernel image (rodata/data gap) memory: 360K
[    8.170716] x86/mm: Checked W+X mappings: passed, no W+X pages found.
[    8.171264] Run /sbin/init as init process
[    8.305396] systemd[1]: RTC configured in localtime, applying delta of 0 minutes to system time.
[    8.342769] systemd[1]: systemd 239 (239-49.el8) running in system mode. (+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD +IDN2 -IDN +PCRE2 default-hierarchy=legacy)
[    8.344742] systemd[1]: Detected virtualization kvm.
[    8.345165] systemd[1]: Detected architecture x86-64.

Welcome to [0;31mCentOS Stream 8[0m!

[    8.408885] systemd[1]: Set hostname to <test>.
[    8.799356] systemd[1]: Listening on udev Control Socket.
[[0;32m  OK  [0m] Listening on udev Control Socket.
[    8.804026] systemd[1]: Created slice system-getty.slice.
[[0;32m  OK  [0m] Created slice system-getty.slice.
[    8.805346] systemd[1]: Listening on LVM2 poll daemon socket.
[[0;32m  OK  [0m] Listening on LVM2 poll daemon socket.
[    8.807379] systemd[1]: Created slice User and Session Slice.
[[0;32m  OK  [0m] Created slice User and Session Slice.
[    8.808617] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[[0;32m  OK  [0m] Started Forward Password Requests to Wall Directory Watch.
[    8.810880] systemd[1]: Created slice system-serial\x2dgetty.slice.
[[0;32m  OK  [0m] Created slice system-serial\x2dgetty.slice.
[[0;32m  OK  [0m] Listening on Journal Socket.
         Mounting POSIX Message Queue File System...
         Mounting Huge Pages File System...
[[0;32m  OK  [0m] Listening on Journal Socket (/dev/log).
[[0;32m  OK  [0m] Listening on multipathd control socket.
[[0;32m  OK  [0m] Listening on RPCbind Server Activation Socket.
         Starting Remount Root and Kernel File Systems...
         Starting Journal Service...
[[0;32m  OK  [0m] Set up automount Arbitrary Executab…rmats File System Automount Point.
[[0;32m  OK  [0m] Listening on Process Core Dump Socket.
[[0;32m  OK  [0m] Reached target Slices.
[[0;32m  OK  [0m] Created slice system-sshd\x2dkeygen.slice.
         Starting Load Kernel Modules...
[[0;32m  OK  [0m] Listening on udev Kernel Socket.
         Starting udev Coldplug all Devices...
[[0;32m  OK  [0m] Listening on initctl Compatibility Named Pipe.
[[0;32m  OK  [0m] Reached target RPC Port Mapper.
[[0;32m  OK  [0m] Listening on Device-mapper event daemon FIFOs.
         Starting Monitoring of LVM2 mirrors…ng dmeventd or progress polling...
[[0;32m  OK  [0m] Reached target Swap.
         Mounting Kernel Debug File System...
         Starting Setup Virtual Console...
[[0;32m  OK  [0m] Mounted POSIX Message Queue File System.
[[0;32m  OK  [0m] Started Journal Service.
[[0;32m  OK  [0m] Mounted Huge Pages File System.
[[0;1;31mFAILED[0m] Failed to start Load Kernel Modules.
See 'systemctl status systemd-modules-load.service' for details.
[    9.270979] EXT4-fs (sda): re-mounted 23a53bb9-f815-47a5-b74c-5e08f7731193. Quota mode: none.
[[0;32m  OK  [0m] Mounted Kernel Debug File System.
[[0;32m  OK  [0m] Started Remount Root and Kernel File Systems.
         Starting Load/Save Random Seed...
         Starting Create Static Device Nodes in /dev...
         Mounting FUSE Control File System...
         Mounting Kernel Configuration File System...
         Starting Apply Kernel Variables...
         Starting Flush Journal to Persistent Storage...
[[0;32m  OK  [0m] Started Load/Save Random Seed.
[[0;32m  OK  [0m] Started Create Static Device Nodes in /dev.
[[0;32m  OK  [0m] Mounted FUSE Control File System.
[[0;32m  OK  [0m] Started Setup Virtual Console.
[[0;32m  OK  [0m] Mounted Kernel Configuration File System.
[[0;32m  OK  [0m] Started Apply Kernel Variables.
         Starting udev Kernel Device Manager...
[[0;32m  OK  [0m] Started Flush Journal to Persistent Storage.
[[0;32m  OK  [0m] Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
[[0;32m  OK  [0m] Started udev Kernel Device Manager.
         Starting Show Plymouth Boot Screen...
[[0;32m  OK  [0m] Started Show Plymouth Boot Screen.
[[0;32m  OK  [0m] Reached target Local Encrypted Volumes.
[[0;32m  OK  [0m] Reached target Paths.
[[0;32m  OK  [0m] Started Forward Password Requests to Plymouth Directory Watch.
[[0;32m  OK  [0m] Found device /dev/ttyS0.
[[0;32m  OK  [0m] Started Monitoring of LVM2 mirrors,…sing dmeventd or progress polling.
[[0;32m  OK  [0m] Started udev Wait for Complete Device Initialization.
[[0;32m  OK  [0m] Listening on Load/Save RF Kill Switch Status /dev/rfkill Watch.
[[0;32m  OK  [0m] Reached target Local File Systems (Pre).
[[0;32m  OK  [0m] Reached target Local File Systems.
         Starting Restore /run/initramfs on shutdown...
         Starting Create Volatile Files and Directories...
         Starting Tell Plymouth To Write Out Runtime Data...
[[0;32m  OK  [0m] Started Restore /run/initramfs on shutdown.
[[0;32m  OK  [0m] Started Tell Plymouth To Write Out Runtime Data.
[[0;32m  OK  [0m] Started Create Volatile Files and Directories.
         Mounting RPC Pipe File System...
         Starting RPC Bind...
         Starting Security Auditing Service...
[[0;32m  OK  [0m] Mounted RPC Pipe File System.
[[0;32m  OK  [0m] Reached target rpc_pipefs.target.
[[0;32m  OK  [0m] Started RPC Bind.
[[0;32m  OK  [0m] Started Security Auditing Service.
         Starting Update UTMP about System Boot/Shutdown...
[[0;32m  OK  [0m] Started Update UTMP about System Boot/Shutdown.
[[0;32m  OK  [0m] Reached target System Initialization.
[[0;32m  OK  [0m] Listening on D-Bus System Message Bus Socket.
[[0;32m  OK  [0m] Started daily update of the root trust anchor for DNSSEC.
[[0;32m  OK  [0m] Started Daily Cleanup of Temporary Directories.
[[0;32m  OK  [0m] Started dnf makecache --timer.
[[0;32m  OK  [0m] Reached target Timers.
[[0;32m  OK  [0m] Listening on SSSD Kerberos Cache Manager responder socket.
[[0;32m  OK  [0m] Reached target Sockets.
[[0;32m  OK  [0m] Reached target Basic System.
         Starting NTP client/server...
[[0;32m  OK  [0m] Started irqbalance daemon.
         Starting Authorization Manager...
         Starting Login Service...
[[0;32m  OK  [0m] Reached target sshd-keygen.target.
[[0;32m  OK  [0m] Started Machine Check Exception Logging Daemon.
[[0;32m  OK  [0m] Started D-Bus System Message Bus.
         Starting Network Manager...
         Starting Auto-connect to subsystems…-NVME devices found during boot...
         Starting Self Monitoring and Reporting Technology (SMART) Daemon...
[[0;32m  OK  [0m] Started Auto-connect to subsystems …FC-NVME devices found during boot.
         Starting update of the root trust a…or DNSSEC validation in unbound...
[[0;32m  OK  [0m] Started Login Service.
[[0;32m  OK  [0m] Started Self Monitoring and Reporting Technology (SMART) Daemon.
[[0;32m  OK  [0m] Started NTP client/server.
[[0;32m  OK  [0m] Started Network Manager.
[[0;32m  OK  [0m] Reached target Network.
         Starting GSSAPI Proxy Daemon...
         Starting OpenSSH server daemon...
         Starting Dynamic System Tuning Daemon...
         Starting Network Manager Wait Online...
         Starting Hostname Service...
[[0;32m  OK  [0m] Started OpenSSH server daemon.
[[0;32m  OK  [0m] Started update of the root trust an… for DNSSEC validation in unbound.
[[0;32m  OK  [0m] Started GSSAPI Proxy Daemon.
[[0;32m  OK  [0m] Started Authorization Manager.
[[0;32m  OK  [0m] Reached target NFS client services.
[[0;32m  OK  [0m] Reached target Remote File Systems (Pre).
[[0;32m  OK  [0m] Reached target Remote File Systems.
         Starting Permit User Sessions...
[[0;32m  OK  [0m] Started Permit User Sessions.
         Starting Terminate Plymouth Boot Screen...
         Starting Hold until boot process finishes up...
[[0;32m  OK  [0m] Started Command Scheduler.
[[0;32m  OK  [0m] Started Terminate Plymouth Boot Screen.
[[0;32m  OK  [0m] Started Hold until boot process finishes up.
[   12.723210] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[   12.724299] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
[   13.168889] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!
[   13.170295] Spectre V2 : WARNING: Unprivileged eBPF is enabled with eIBRS on, data leaks possible via Spectre v2 BHB attacks!

CentOS Stream 8
Kernel 6.2.0-8ca8d89b43ca+ on an x86_64

test login: [   30.754828] ------------[ cut here ]------------
[   30.755387] WARNING: CPU: 1 PID: 534 at drivers/iommu/iommufd/pages.c:294 __iopt_area_unfill_domain+0x152/0x560
[   30.756086] Modules linked in:
[   30.756304] CPU: 1 PID: 534 Comm: repro Not tainted 6.2.0-8ca8d89b43ca+ #1
[   30.756801] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.757585] RIP: 0010:__iopt_area_unfill_domain+0x152/0x560
[   30.757983] Code: be 17 ff 44 8b 64 24 54 48 8b 44 24 48 31 ff 44 89 e6 48 89 44 24 38 e8 dc bf 17 ff 45 85 e4 0f 85 eb 01 00 00 e8 ee bd 17 ff <0f> 0b e8 e7 bd 17 ff 48 8b 44 24 38 89 5c 24 58 89 18 8b 44 24 54
[   30.759427] RSP: 0018:ffffc9000103bae0 EFLAGS: 00010246
[   30.759979] RAX: 0000000000000000 RBX: 00000000ffffffff RCX: ffffffff821480b5
[   30.760715] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   30.761274] RBP: ffffc9000103bd10 R08: 000000000003b9a5 R09: 0000000000000010
[   30.761757] R10: 000000000003b980 R11: 0000000000000024 R12: 0000000000000014
[   30.762265] R13: 0000000000000801 R14: 00000000000007ff R15: 0000000000000800
[   30.762738] FS:  00007f3081c88740(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   30.763424] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.764048] CR2: 00007f3081dad580 CR3: 000000000de6c004 CR4: 0000000000770ee0
[   30.764603] PKRU: 55555554
[   30.764803] Call Trace:
[   30.764982]  <TASK>
[   30.765165]  ? __this_cpu_preempt_check+0x20/0x30
[   30.765549]  ? lock_is_held_type+0xe6/0x140
[   30.765859]  ? rcu_read_lock_sched_held+0x57/0x80
[   30.766203]  ? __mutex_lock+0x13a/0xf30
[   30.766528]  ? write_comp_data+0x2f/0x90
[   30.766828]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.767227]  iopt_area_unfill_domain+0x32/0x40
[   30.767736]  iopt_table_remove_domain+0x23f/0x4c0
[   30.768275]  iommufd_device_selftest_detach+0x3a/0x90
[   30.768803]  iommufd_selftest_destroy+0x55/0x70
[   30.769135]  iommufd_object_destroy_user+0xce/0x130
[   30.769484]  iommufd_destroy+0xa2/0xc0
[   30.769768]  iommufd_fops_ioctl+0x1ef/0x310
[   30.770085]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.770437]  ? write_comp_data+0x2f/0x90
[   30.770727]  __x64_sys_ioctl+0x10e/0x160
[   30.771071]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   30.771616]  do_syscall_64+0x3b/0x90
[   30.772038]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   30.772514] RIP: 0033:0x7f3081dad59d
[   30.772781] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   30.774026] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   30.774566] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   30.775101] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   30.775835] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   30.776330] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   30.776836] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   30.777358]  </TASK>
[   30.777530] irq event stamp: 14717
[   30.777777] hardirqs last  enabled at (14725): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   30.778415] hardirqs last disabled at (14732): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   30.779077] softirqs last  enabled at (14020): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   30.780021] softirqs last disabled at (14007): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   30.780700] ---[ end trace 0000000000000000 ]---
[   30.781114] ------------[ cut here ]------------
[   30.781469] WARNING: CPU: 1 PID: 534 at drivers/iommu/iommufd/pages.c:1290 __iopt_area_unfill_domain+0x54f/0x560
[   30.782186] Modules linked in:
[   30.782438] CPU: 1 PID: 534 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   30.783069] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.784160] RIP: 0010:__iopt_area_unfill_domain+0x54f/0x560
[   30.784577] Code: e8 f6 bb 17 ff 85 db 0f 85 35 fb ff ff e8 09 ba 17 ff 0f 0b e9 29 fb ff ff e8 fd b9 17 ff 0f 0b e9 69 fe ff ff e8 f1 b9 17 ff <0f> 0b e9 58 ff ff ff e8 45 5a e3 00 0f 1f 44 00 00 90 90 90 90 90
[   30.785868] RSP: 0018:ffffc9000103bae0 EFLAGS: 00010246
[   30.786270] RAX: 0000000000000000 RBX: 00000000ffffffff RCX: ffffffff82148206
[   30.786776] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   30.787331] RBP: ffffc9000103bd10 R08: 000000000003b9a5 R09: 0000000000000010
[   30.788104] R10: 000000000003b980 R11: 0000000000000024 R12: 00000000000007ff
[   30.788632] R13: 0000000000000801 R14: 00000000000007ff R15: 0000000000000800
[   30.789130] FS:  00007f3081c88740(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   30.789707] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.790114] CR2: 00007f3081dad580 CR3: 000000000de6c004 CR4: 0000000000770ee0
[   30.790632] PKRU: 55555554
[   30.790824] Call Trace:
[   30.791046]  <TASK>
[   30.791346]  ? __this_cpu_preempt_check+0x20/0x30
[   30.791892]  ? lock_is_held_type+0xe6/0x140
[   30.792375]  ? rcu_read_lock_sched_held+0x57/0x80
[   30.792747]  ? __mutex_lock+0x13a/0xf30
[   30.793039]  ? write_comp_data+0x2f/0x90
[   30.793333]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.793700]  iopt_area_unfill_domain+0x32/0x40
[   30.794035]  iopt_table_remove_domain+0x23f/0x4c0
[   30.794390]  iommufd_device_selftest_detach+0x3a/0x90
[   30.794787]  iommufd_selftest_destroy+0x55/0x70
[   30.795169]  iommufd_object_destroy_user+0xce/0x130
[   30.795743]  iommufd_destroy+0xa2/0xc0
[   30.796197]  iommufd_fops_ioctl+0x1ef/0x310
[   30.796648]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.797027]  ? write_comp_data+0x2f/0x90
[   30.797330]  __x64_sys_ioctl+0x10e/0x160
[   30.797623]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   30.797986]  do_syscall_64+0x3b/0x90
[   30.798268]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   30.798635] RIP: 0033:0x7f3081dad59d
[   30.798900] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   30.800600] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   30.801150] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   30.801650] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   30.802141] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   30.802666] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   30.803206] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   30.804013]  </TASK>
[   30.804187] irq event stamp: 15179
[   30.804451] hardirqs last  enabled at (15187): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   30.805063] hardirqs last disabled at (15194): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   30.805689] softirqs last  enabled at (14866): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   30.806291] softirqs last disabled at (14861): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   30.806898] ---[ end trace 0000000000000000 ]---
[   30.811928] ------------[ cut here ]------------
[   30.812354] WARNING: CPU: 1 PID: 534 at drivers/iommu/iommufd/pages.c:178 batch_unpin.isra.22+0x151/0x1a0
[   30.813041] Modules linked in:
[   30.813272] CPU: 1 PID: 534 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   30.813877] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.814678] RIP: 0010:batch_unpin.isra.22+0x151/0x1a0
[   30.815090] Code: e8 04 dd 17 ff 48 8b 45 d0 48 85 c0 75 17 e8 e6 da 17 ff 48 8b 7d c8 48 89 de e8 fa db 17 ff 48 39 5d c8 73 07 e8 cf da 17 ff <0f> 0b e8 c8 da 17 ff 4d 29 e5 31 ff 41 83 c6 01 4c 89 ee 31 db e8
[   30.816695] RSP: 0018:ffffc9000103b9d8 EFLAGS: 00010246
[   30.817080] RAX: 0000000000000000 RBX: ffffffffffffffff RCX: ffffffff821461ac
[   30.817590] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   30.818088] RBP: ffffc9000103ba20 R08: 0000000000000000 R09: ffff88807dd3b890
[   30.818605] R10: 0000000000001040 R11: 0000000000000000 R12: 0000000000000001
[   30.819142] R13: 0000000000000001 R14: 0000000000000000 R15: ffff88800af19400
[   30.819920] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   30.820582] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.820988] CR2: 00007f3081e7f500 CR3: 0000000003c3a005 CR4: 0000000000770ee0
[   30.821487] PKRU: 55555554
[   30.821705] Call Trace:
[   30.821887]  <TASK>
[   30.822055]  iopt_pages_unfill_xarray+0x39f/0x5c0
[   30.822452]  ? write_comp_data+0x2f/0x90
[   30.822760]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.823153]  ? write_comp_data+0x2f/0x90
[   30.823618]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.824171]  ? interval_tree_remove+0x291/0x4e0
[   30.824665]  ? write_comp_data+0x2f/0x90
[   30.824981]  iopt_area_remove_access+0x108/0x120
[   30.825337]  iommufd_access_unpin_pages+0x177/0x210
[   30.825711]  iommufd_test_access_unmap+0xe0/0x130
[   30.826083]  ? __pfx_iommufd_test_staccess_release+0x10/0x10
[   30.826509]  iommufd_test_staccess_release+0x39/0x60
[   30.826877]  __fput+0x11f/0x450
[   30.827206]  ____fput+0x1e/0x30
[   30.827604]  task_work_run+0xb6/0x120
[   30.828059]  do_exit+0x547/0x1310
[   30.828471]  ? __this_cpu_preempt_check+0x20/0x30
[   30.828830]  ? lockdep_hardirqs_on+0x8a/0x110
[   30.829182]  do_group_exit+0x5e/0xf0
[   30.829481]  __x64_sys_exit_group+0x25/0x30
[   30.829799]  do_syscall_64+0x3b/0x90
[   30.830075]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   30.830481] RIP: 0033:0x7f3081d75cf6
[   30.830755] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   30.831256] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   30.832102] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   30.832758] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   30.833261] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   30.833772] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   30.834299] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   30.834837]  </TASK>
[   30.835049] irq event stamp: 21097
[   30.835441] hardirqs last  enabled at (21105): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   30.836251] hardirqs last disabled at (21112): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   30.836880] softirqs last  enabled at (20940): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   30.837491] softirqs last disabled at (20931): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   30.838093] ---[ end trace 0000000000000000 ]---
[   30.838516] ------------[ cut here ]------------
[   30.838865] WARNING: CPU: 1 PID: 534 at drivers/iommu/iommufd/pages.c:886 update_unpinned+0x75/0x80
[   30.839561] Modules linked in:
[   30.839979] CPU: 1 PID: 534 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   30.840830] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.841654] RIP: 0010:update_unpinned+0x75/0x80
[   30.842010] Code: ca 17 ff 48 89 de 31 c9 31 d2 4c 29 e6 4c 89 ef e8 60 fb ff ff e8 1b ca 17 ff 5b 41 5c 41 5d 5d c3 cc cc cc cc e8 0b ca 17 ff <0f> 0b eb e7 0f 1f 80 00 00 00 00 90 90 90 90 90 90 90 90 90 90 90
[   30.843343] RSP: 0018:ffffc9000103ba08 EFLAGS: 00010246
[   30.843918] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8214724f
[   30.844435] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   30.844932] RBP: ffffc9000103ba20 R08: 0000000000000000 R09: ffff88807dd3b890
[   30.845450] R10: 0000000000001040 R11: 0000000000000000 R12: ffffffffffffffff
[   30.845947] R13: ffff88800af19400 R14: 0000000000000002 R15: 0000000000000002
[   30.846471] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   30.847098] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.847740] CR2: 00007f3081e7f500 CR3: 0000000003c3a005 CR4: 0000000000770ee0
[   30.848395] PKRU: 55555554
[   30.848618] Call Trace:
[   30.848803]  <TASK>
[   30.848971]  iopt_pages_unfill_xarray+0x522/0x5c0
[   30.849354]  ? write_comp_data+0x2f/0x90
[   30.849672]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.850024]  ? write_comp_data+0x2f/0x90
[   30.850331]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   30.850712]  ? interval_tree_remove+0x291/0x4e0
[   30.851097]  ? write_comp_data+0x2f/0x90
[   30.851568]  iopt_area_remove_access+0x108/0x120
[   30.852140]  iommufd_access_unpin_pages+0x177/0x210
[   30.852692]  iommufd_test_access_unmap+0xe0/0x130
[   30.853073]  ? __pfx_iommufd_test_staccess_release+0x10/0x10
[   30.853498]  iommufd_test_staccess_release+0x39/0x60
[   30.853885]  __fput+0x11f/0x450
[   30.854137]  ____fput+0x1e/0x30
[   30.854395]  task_work_run+0xb6/0x120
[   30.854682]  do_exit+0x547/0x1310
[   30.855009]  ? __this_cpu_preempt_check+0x20/0x30
[   30.855575]  ? lockdep_hardirqs_on+0x8a/0x110
[   30.856109]  do_group_exit+0x5e/0xf0
[   30.856462]  __x64_sys_exit_group+0x25/0x30
[   30.856783]  do_syscall_64+0x3b/0x90
[   30.857071]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   30.857447] RIP: 0033:0x7f3081d75cf6
[   30.857719] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   30.858168] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   30.858722] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   30.859275] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   30.860063] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   30.860708] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   30.861216] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   30.861749]  </TASK>
[   30.861919] irq event stamp: 21581
[   30.862174] hardirqs last  enabled at (21589): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   30.862796] hardirqs last disabled at (21596): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   30.863454] softirqs last  enabled at (21278): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   30.864381] softirqs last disabled at (21273): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   30.864992] ---[ end trace 0000000000000000 ]---
[   30.865470] ------------[ cut here ]------------
[   30.865893] WARNING: CPU: 1 PID: 534 at drivers/iommu/iommufd/pages.c:1181 iopt_release_pages+0x159/0x190
[   30.866584] Modules linked in:
[   30.866835] CPU: 1 PID: 534 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   30.867482] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   30.868622] RIP: 0010:iopt_release_pages+0x159/0x190
[   30.869013] Code: 61 fc fe eb cb e8 07 ad 17 ff be 03 00 00 00 4c 89 f7 e8 ca a0 c0 ff eb b7 e8 f3 ac 17 ff 0f 0b e9 ed fe ff ff e8 e7 ac 17 ff <0f> 0b e9 00 ff ff ff e8 db ac 17 ff 0f 0b e9 07 ff ff ff e8 cf ac
[   30.870314] RSP: 0018:ffffc9000103bc88 EFLAGS: 00010246
[   30.870692] RAX: 0000000000000000 RBX: ffff88800af19400 RCX: ffffffff82148eb7
[   30.871399] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   30.872325] RBP: ffffc9000103bca8 R08: 000000000000001c R09: 0000000000000001
[   30.872995] R10: ffff8880133cb718 R11: 0000000000000000 R12: ffffffffffffffff
[   30.873494] R13: 0000000001000000 R14: 00000000017fffff R15: 0000000000000000
[   30.874011] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   30.874596] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   30.875070] CR2: 00007f3081e7f500 CR3: 0000000003c3a005 CR4: 0000000000770ee0
[   30.875847] PKRU: 55555554
[   30.876080] Call Trace:
[   30.876262]  <TASK>
[   30.876430]  iopt_unmap_iova_range+0x1ef/0x2e0
[   30.876782]  iopt_unmap_all+0x2f/0x60
[   30.877074]  iommufd_ioas_destroy+0x2c/0x70
[   30.877388]  iommufd_fops_release+0xd4/0x170
[   30.877709]  ? __pfx_iommufd_fops_release+0x10/0x10
[   30.878070]  __fput+0x11f/0x450
[   30.878346]  ____fput+0x1e/0x30
[   30.878597]  task_work_run+0xb6/0x120
[   30.878887]  do_exit+0x547/0x1310
[   30.879207]  ? __this_cpu_preempt_check+0x20/0x30
[   30.879768]  ? lockdep_hardirqs_on+0x8a/0x110
[   30.880295]  do_group_exit+0x5e/0xf0
[   30.880741]  __x64_sys_exit_group+0x25/0x30
[   30.881226]  do_syscall_64+0x3b/0x90
[   30.881531]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   30.881908] RIP: 0033:0x7f3081d75cf6
[   30.882175] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   30.882632] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   30.883210] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   30.884002] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   30.884513] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   30.885032] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   30.885532] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   30.886060]  </TASK>
[   30.886224] irq event stamp: 22083
[   30.886479] hardirqs last  enabled at (22091): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   30.887156] hardirqs last disabled at (22100): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   30.888063] softirqs last  enabled at (21846): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   30.888756] softirqs last disabled at (21835): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   30.889358] ---[ end trace 0000000000000000 ]---
[   31.055392] ------------[ cut here ]------------
[   31.055781] WARNING: CPU: 1 PID: 539 at drivers/iommu/iommufd/pages.c:294 __iopt_area_unfill_domain+0x152/0x560
[   31.056527] Modules linked in:
[   31.056780] CPU: 1 PID: 539 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.057383] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.058215] RIP: 0010:__iopt_area_unfill_domain+0x152/0x560
[   31.058631] Code: be 17 ff 44 8b 64 24 54 48 8b 44 24 48 31 ff 44 89 e6 48 89 44 24 38 e8 dc bf 17 ff 45 85 e4 0f 85 eb 01 00 00 e8 ee bd 17 ff <0f> 0b e8 e7 bd 17 ff 48 8b 44 24 38 89 5c 24 58 89 18 8b 44 24 54
[   31.060005] RSP: 0018:ffffc90001063ae0 EFLAGS: 00010246
[   31.060552] RAX: 0000000000000000 RBX: 00000000ffffffff RCX: ffffffff821480b5
[   31.061309] RDX: 0000000000000000 RSI: ffff8880133c8000 RDI: 0000000000000002
[   31.062031] RBP: ffffc90001063d10 R08: 000000000003b9a5 R09: 0000000000000009
[   31.062816] R10: 000000000003b980 R11: 0000000000000024 R12: 0000000000000001
[   31.063372] R13: 0000000000000801 R14: 00000000000007ff R15: 0000000000000800
[   31.063920] FS:  00007f3081c88740(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.064458] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.064964] CR2: 00007f3081dad580 CR3: 000000000be06004 CR4: 0000000000770ee0
[   31.065449] PKRU: 55555554
[   31.065648] Call Trace:
[   31.065830]  <TASK>
[   31.066108]  ? __this_cpu_preempt_check+0x20/0x30
[   31.066468]  ? lock_is_held_type+0xe6/0x140
[   31.066772]  ? rcu_read_lock_sched_held+0x57/0x80
[   31.067161]  ? __mutex_lock+0x13a/0xf30
[   31.067491]  ? write_comp_data+0x2f/0x90
[   31.067778]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.068132]  iopt_area_unfill_domain+0x32/0x40
[   31.068568]  iopt_table_remove_domain+0x23f/0x4c0
[   31.068912]  iommufd_device_selftest_detach+0x3a/0x90
[   31.069294]  iommufd_selftest_destroy+0x55/0x70
[   31.069727]  iommufd_object_destroy_user+0xce/0x130
[   31.070077]  iommufd_destroy+0xa2/0xc0
[   31.070382]  iommufd_fops_ioctl+0x1ef/0x310
[   31.070684]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.071032]  ? write_comp_data+0x2f/0x90
[   31.071343]  __x64_sys_ioctl+0x10e/0x160
[   31.071629]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   31.071965]  do_syscall_64+0x3b/0x90
[   31.072223]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.072604] RIP: 0033:0x7f3081dad59d
[   31.072901] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   31.074325] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   31.074868] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   31.075377] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   31.075962] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   31.076439] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   31.076939] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   31.077449]  </TASK>
[   31.077730] irq event stamp: 14735
[   31.077993] hardirqs last  enabled at (14743): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.078591] hardirqs last disabled at (14750): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.079329] softirqs last  enabled at (14330): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.079914] softirqs last disabled at (14325): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.080539] ---[ end trace 0000000000000000 ]---
[   31.081002] ------------[ cut here ]------------
[   31.081376] WARNING: CPU: 1 PID: 539 at drivers/iommu/iommufd/pages.c:1290 __iopt_area_unfill_domain+0x54f/0x560
[   31.082194] Modules linked in:
[   31.082483] CPU: 1 PID: 539 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.083106] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.083933] RIP: 0010:__iopt_area_unfill_domain+0x54f/0x560
[   31.084440] Code: e8 f6 bb 17 ff 85 db 0f 85 35 fb ff ff e8 09 ba 17 ff 0f 0b e9 29 fb ff ff e8 fd b9 17 ff 0f 0b e9 69 fe ff ff e8 f1 b9 17 ff <0f> 0b e9 58 ff ff ff e8 45 5a e3 00 0f 1f 44 00 00 90 90 90 90 90
[   31.085822] RSP: 0018:ffffc90001063ae0 EFLAGS: 00010246
[   31.086210] RAX: 0000000000000000 RBX: 00000000ffffffff RCX: ffffffff82148206
[   31.086786] RDX: 0000000000000000 RSI: ffff8880133c8000 RDI: 0000000000000002
[   31.087319] RBP: ffffc90001063d10 R08: 000000000003b9a5 R09: 0000000000000009
[   31.087841] R10: 000000000003b980 R11: 0000000000000024 R12: 00000000000007ff
[   31.088332] R13: 0000000000000801 R14: 00000000000007ff R15: 0000000000000800
[   31.088949] FS:  00007f3081c88740(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.089529] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.090044] CR2: 00007f3081dad580 CR3: 000000000be06004 CR4: 0000000000770ee0
[   31.090546] PKRU: 55555554
[   31.090751] Call Trace:
[   31.090998]  <TASK>
[   31.091219]  ? __this_cpu_preempt_check+0x20/0x30
[   31.091580]  ? lock_is_held_type+0xe6/0x140
[   31.091906]  ? rcu_read_lock_sched_held+0x57/0x80
[   31.092259]  ? __mutex_lock+0x13a/0xf30
[   31.092546]  ? write_comp_data+0x2f/0x90
[   31.092846]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.093319]  iopt_area_unfill_domain+0x32/0x40
[   31.093684]  iopt_table_remove_domain+0x23f/0x4c0
[   31.094030]  iommufd_device_selftest_detach+0x3a/0x90
[   31.094485]  iommufd_selftest_destroy+0x55/0x70
[   31.094838]  iommufd_object_destroy_user+0xce/0x130
[   31.095252]  iommufd_destroy+0xa2/0xc0
[   31.095543]  iommufd_fops_ioctl+0x1ef/0x310
[   31.095963]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.096332]  ? write_comp_data+0x2f/0x90
[   31.096631]  __x64_sys_ioctl+0x10e/0x160
[   31.097045]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   31.097423]  do_syscall_64+0x3b/0x90
[   31.097690]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.098077] RIP: 0033:0x7f3081dad59d
[   31.098421] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   31.099843] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   31.100375] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   31.100885] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   31.101391] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   31.102000] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   31.102502] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   31.103143]  </TASK>
[   31.103317] irq event stamp: 15197
[   31.103563] hardirqs last  enabled at (15205): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.104182] hardirqs last disabled at (15212): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.104923] softirqs last  enabled at (14884): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.105524] softirqs last disabled at (14879): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.106219] ---[ end trace 0000000000000000 ]---
[   31.110790] ------------[ cut here ]------------
[   31.111198] WARNING: CPU: 1 PID: 539 at drivers/iommu/iommufd/pages.c:178 batch_unpin.isra.22+0x151/0x1a0
[   31.111966] Modules linked in:
[   31.112196] CPU: 1 PID: 539 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.112905] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.113781] RIP: 0010:batch_unpin.isra.22+0x151/0x1a0
[   31.114192] Code: e8 04 dd 17 ff 48 8b 45 d0 48 85 c0 75 17 e8 e6 da 17 ff 48 8b 7d c8 48 89 de e8 fa db 17 ff 48 39 5d c8 73 07 e8 cf da 17 ff <0f> 0b e8 c8 da 17 ff 4d 29 e5 31 ff 41 83 c6 01 4c 89 ee 31 db e8
[   31.115619] RSP: 0018:ffffc900010639d8 EFLAGS: 00010246
[   31.116020] RAX: 0000000000000000 RBX: ffffffffffffffff RCX: ffffffff821461ac
[   31.116516] RDX: 0000000000000000 RSI: ffff8880133c8000 RDI: 0000000000000002
[   31.117033] RBP: ffffc90001063a20 R08: 0000000000000000 R09: ffff88807dd3b890
[   31.117655] R10: 0000000000001094 R11: 0000000000000000 R12: 0000000000000001
[   31.118174] R13: 0000000000000001 R14: 0000000000000000 R15: ffff88800af19000
[   31.118765] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.119387] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.119795] CR2: 00007f3081e7f500 CR3: 0000000003c3a005 CR4: 0000000000770ee0
[   31.120309] PKRU: 55555554
[   31.120622] Call Trace:
[   31.120803]  <TASK>
[   31.120969]  iopt_pages_unfill_xarray+0x39f/0x5c0
[   31.121376]  ? write_comp_data+0x2f/0x90
[   31.121671]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.122011]  ? write_comp_data+0x2f/0x90
[   31.122324]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.122676]  ? interval_tree_remove+0x291/0x4e0
[   31.123042]  ? write_comp_data+0x2f/0x90
[   31.123347]  iopt_area_remove_access+0x108/0x120
[   31.123707]  iommufd_access_unpin_pages+0x177/0x210
[   31.124072]  iommufd_test_access_unmap+0xe0/0x130
[   31.124417]  ? __pfx_iommufd_test_staccess_release+0x10/0x10
[   31.124842]  iommufd_test_staccess_release+0x39/0x60
[   31.125208]  __fput+0x11f/0x450
[   31.125466]  ____fput+0x1e/0x30
[   31.125748]  task_work_run+0xb6/0x120
[   31.126020]  do_exit+0x547/0x1310
[   31.126287]  ? __this_cpu_preempt_check+0x20/0x30
[   31.126647]  ? lockdep_hardirqs_on+0x8a/0x110
[   31.127023]  do_group_exit+0x5e/0xf0
[   31.127307]  __x64_sys_exit_group+0x25/0x30
[   31.127617]  do_syscall_64+0x3b/0x90
[   31.127911]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.128283] RIP: 0033:0x7f3081d75cf6
[   31.128545] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   31.129033] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   31.129642] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   31.130155] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   31.130659] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   31.131202] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   31.131698] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   31.132225]  </TASK>
[   31.132393] irq event stamp: 21099
[   31.132641] hardirqs last  enabled at (21107): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.133253] hardirqs last disabled at (21114): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.133836] softirqs last  enabled at (14884): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.134454] softirqs last disabled at (14879): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.135058] ---[ end trace 0000000000000000 ]---
[   31.135490] ------------[ cut here ]------------
[   31.135812] WARNING: CPU: 1 PID: 539 at drivers/iommu/iommufd/pages.c:886 update_unpinned+0x75/0x80
[   31.136460] Modules linked in:
[   31.136685] CPU: 1 PID: 539 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.137269] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.138070] RIP: 0010:update_unpinned+0x75/0x80
[   31.138419] Code: ca 17 ff 48 89 de 31 c9 31 d2 4c 29 e6 4c 89 ef e8 60 fb ff ff e8 1b ca 17 ff 5b 41 5c 41 5d 5d c3 cc cc cc cc e8 0b ca 17 ff <0f> 0b eb e7 0f 1f 80 00 00 00 00 90 90 90 90 90 90 90 90 90 90 90
[   31.139751] RSP: 0018:ffffc90001063a08 EFLAGS: 00010246
[   31.140126] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8214724f
[   31.140615] RDX: 0000000000000000 RSI: ffff8880133c8000 RDI: 0000000000000002
[   31.141127] RBP: ffffc90001063a20 R08: 0000000000000000 R09: ffff88807dd3b890
[   31.141612] R10: 0000000000001094 R11: 0000000000000000 R12: ffffffffffffffff
[   31.142124] R13: ffff88800af19000 R14: 0000000000000002 R15: 0000000000000002
[   31.142629] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.143228] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.143639] CR2: 00007f3081e7f500 CR3: 0000000003c3a005 CR4: 0000000000770ee0
[   31.144149] PKRU: 55555554
[   31.144350] Call Trace:
[   31.144528]  <TASK>
[   31.144691]  iopt_pages_unfill_xarray+0x522/0x5c0
[   31.145062]  ? write_comp_data+0x2f/0x90
[   31.145367]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.145732]  ? write_comp_data+0x2f/0x90
[   31.146024]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.146400]  ? interval_tree_remove+0x291/0x4e0
[   31.146743]  ? write_comp_data+0x2f/0x90
[   31.147062]  iopt_area_remove_access+0x108/0x120
[   31.147440]  iommufd_access_unpin_pages+0x177/0x210
[   31.147808]  iommufd_test_access_unmap+0xe0/0x130
[   31.148153]  ? __pfx_iommufd_test_staccess_release+0x10/0x10
[   31.148581]  iommufd_test_staccess_release+0x39/0x60
[   31.148942]  __fput+0x11f/0x450
[   31.149190]  ____fput+0x1e/0x30
[   31.149435]  task_work_run+0xb6/0x120
[   31.149737]  do_exit+0x547/0x1310
[   31.149995]  ? __this_cpu_preempt_check+0x20/0x30
[   31.150373]  ? lockdep_hardirqs_on+0x8a/0x110
[   31.150714]  do_group_exit+0x5e/0xf0
[   31.151016]  __x64_sys_exit_group+0x25/0x30
[   31.151330]  do_syscall_64+0x3b/0x90
[   31.151598]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.151977] RIP: 0033:0x7f3081d75cf6
[   31.152238] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   31.152656] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   31.153193] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   31.153706] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   31.154221] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   31.154732] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   31.155268] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   31.155779]  </TASK>
[   31.155950] irq event stamp: 21593
[   31.156214] hardirqs last  enabled at (21601): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.156831] hardirqs last disabled at (21608): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.157444] softirqs last  enabled at (21388): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.158043] softirqs last disabled at (21383): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.158665] ---[ end trace 0000000000000000 ]---
[   31.159168] ------------[ cut here ]------------
[   31.159525] WARNING: CPU: 1 PID: 539 at drivers/iommu/iommufd/pages.c:1181 iopt_release_pages+0x159/0x190
[   31.160187] Modules linked in:
[   31.160432] CPU: 1 PID: 539 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.161018] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.161828] RIP: 0010:iopt_release_pages+0x159/0x190
[   31.162189] Code: 61 fc fe eb cb e8 07 ad 17 ff be 03 00 00 00 4c 89 f7 e8 ca a0 c0 ff eb b7 e8 f3 ac 17 ff 0f 0b e9 ed fe ff ff e8 e7 ac 17 ff <0f> 0b e9 00 ff ff ff e8 db ac 17 ff 0f 0b e9 07 ff ff ff e8 cf ac
[   31.163587] RSP: 0018:ffffc90001063c88 EFLAGS: 00010246
[   31.163967] RAX: 0000000000000000 RBX: ffff88800af19000 RCX: ffffffff82148eb7
[   31.164464] RDX: 0000000000000000 RSI: ffff8880133c8000 RDI: 0000000000000002
[   31.164973] RBP: ffffc90001063ca8 R08: 000000000000001c R09: 0000000000000001
[   31.165491] R10: ffff8880133c8d98 R11: 0000000000000000 R12: ffffffffffffffff
[   31.165988] R13: 0000000001000000 R14: 00000000017fffff R15: 0000000000000000
[   31.166482] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.167087] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.167487] CR2: 00007f3081e7f500 CR3: 0000000003c3a005 CR4: 0000000000770ee0
[   31.167979] PKRU: 55555554
[   31.168176] Call Trace:
[   31.168357]  <TASK>
[   31.168520]  iopt_unmap_iova_range+0x1ef/0x2e0
[   31.168863]  iopt_unmap_all+0x2f/0x60
[   31.169132]  iommufd_ioas_destroy+0x2c/0x70
[   31.169436]  iommufd_fops_release+0xd4/0x170
[   31.169751]  ? __pfx_iommufd_fops_release+0x10/0x10
[   31.170103]  __fput+0x11f/0x450
[   31.170369]  ____fput+0x1e/0x30
[   31.170611]  task_work_run+0xb6/0x120
[   31.170897]  do_exit+0x547/0x1310
[   31.171181]  ? __this_cpu_preempt_check+0x20/0x30
[   31.171528]  ? lockdep_hardirqs_on+0x8a/0x110
[   31.171852]  do_group_exit+0x5e/0xf0
[   31.172123]  __x64_sys_exit_group+0x25/0x30
[   31.172449]  do_syscall_64+0x3b/0x90
[   31.172718]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.173093] RIP: 0033:0x7f3081d75cf6
[   31.173360] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   31.173780] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   31.174315] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   31.174803] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   31.175359] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   31.176131] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   31.176834] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   31.177358]  </TASK>
[   31.177523] irq event stamp: 22075
[   31.177767] hardirqs last  enabled at (22083): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.178397] hardirqs last disabled at (22090): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.179039] softirqs last  enabled at (21830): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.179929] softirqs last disabled at (21815): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.180530] ---[ end trace 0000000000000000 ]---
[   31.212379] ------------[ cut here ]------------
[   31.212753] WARNING: CPU: 1 PID: 540 at drivers/iommu/iommufd/pages.c:294 __iopt_area_unfill_domain+0x152/0x560
[   31.213474] Modules linked in:
[   31.213703] CPU: 1 PID: 540 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.214294] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.215152] RIP: 0010:__iopt_area_unfill_domain+0x152/0x560
[   31.215771] Code: be 17 ff 44 8b 64 24 54 48 8b 44 24 48 31 ff 44 89 e6 48 89 44 24 38 e8 dc bf 17 ff 45 85 e4 0f 85 eb 01 00 00 e8 ee bd 17 ff <0f> 0b e8 e7 bd 17 ff 48 8b 44 24 38 89 5c 24 58 89 18 8b 44 24 54
[   31.217214] RSP: 0018:ffffc9000106bae0 EFLAGS: 00010246
[   31.217597] RAX: 0000000000000000 RBX: 00000000ffffffff RCX: ffffffff821480b5
[   31.218112] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   31.218620] RBP: ffffc9000106bd10 R08: 000000000003b9a5 R09: 0000000000000000
[   31.219188] R10: 000000000003b980 R11: 0000000000000024 R12: 000000000000001d
[   31.219944] R13: 0000000000000801 R14: 00000000000007ff R15: 0000000000000800
[   31.220452] FS:  00007f3081c88740(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.221040] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.221485] CR2: 00007f3081dad580 CR3: 000000000af38005 CR4: 0000000000770ee0
[   31.221985] PKRU: 55555554
[   31.222188] Call Trace:
[   31.222381]  <TASK>
[   31.222581]  ? __this_cpu_preempt_check+0x20/0x30
[   31.222993]  ? lock_is_held_type+0xe6/0x140
[   31.223323]  ? rcu_read_lock_sched_held+0x57/0x80
[   31.223681]  ? __mutex_lock+0x13a/0xf30
[   31.223986]  ? write_comp_data+0x2f/0x90
[   31.224309]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.224672]  iopt_area_unfill_domain+0x32/0x40
[   31.225014]  iopt_table_remove_domain+0x23f/0x4c0
[   31.225372]  iommufd_device_selftest_detach+0x3a/0x90
[   31.225755]  iommufd_selftest_destroy+0x55/0x70
[   31.226100]  iommufd_object_destroy_user+0xce/0x130
[   31.226478]  iommufd_destroy+0xa2/0xc0
[   31.226782]  iommufd_fops_ioctl+0x1ef/0x310
[   31.227129]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.227519]  ? write_comp_data+0x2f/0x90
[   31.227822]  __x64_sys_ioctl+0x10e/0x160
[   31.228120]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   31.228474]  do_syscall_64+0x3b/0x90
[   31.228752]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.229186] RIP: 0033:0x7f3081dad59d
[   31.229505] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   31.230811] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   31.231393] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   31.231915] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   31.232437] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   31.232957] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   31.233465] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   31.233987]  </TASK>
[   31.234162] irq event stamp: 14719
[   31.234423] hardirqs last  enabled at (14727): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.235072] hardirqs last disabled at (14736): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.235695] softirqs last  enabled at (14280): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.236305] softirqs last disabled at (14275): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.236900] ---[ end trace 0000000000000000 ]---
[   31.237324] ------------[ cut here ]------------
[   31.237661] WARNING: CPU: 1 PID: 540 at drivers/iommu/iommufd/pages.c:1290 __iopt_area_unfill_domain+0x54f/0x560
[   31.238403] Modules linked in:
[   31.238640] CPU: 1 PID: 540 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.239265] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.240070] RIP: 0010:__iopt_area_unfill_domain+0x54f/0x560
[   31.240484] Code: e8 f6 bb 17 ff 85 db 0f 85 35 fb ff ff e8 09 ba 17 ff 0f 0b e9 29 fb ff ff e8 fd b9 17 ff 0f 0b e9 69 fe ff ff e8 f1 b9 17 ff <0f> 0b e9 58 ff ff ff e8 45 5a e3 00 0f 1f 44 00 00 90 90 90 90 90
[   31.241786] RSP: 0018:ffffc9000106bae0 EFLAGS: 00010246
[   31.242170] RAX: 0000000000000000 RBX: 00000000ffffffff RCX: ffffffff82148206
[   31.242686] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   31.243225] RBP: ffffc9000106bd10 R08: 000000000003b9a5 R09: 0000000000000000
[   31.243755] R10: 000000000003b980 R11: 0000000000000024 R12: 00000000000007ff
[   31.244271] R13: 0000000000000801 R14: 00000000000007ff R15: 0000000000000800
[   31.244779] FS:  00007f3081c88740(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.245383] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.245805] CR2: 00007f3081dad580 CR3: 000000000af38005 CR4: 0000000000770ee0
[   31.246335] PKRU: 55555554
[   31.246539] Call Trace:
[   31.246724]  <TASK>
[   31.246936]  ? __this_cpu_preempt_check+0x20/0x30
[   31.247303]  ? lock_is_held_type+0xe6/0x140
[   31.247631]  ? rcu_read_lock_sched_held+0x57/0x80
[   31.247988]  ? __mutex_lock+0x13a/0xf30
[   31.248294]  ? write_comp_data+0x2f/0x90
[   31.248599]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.248965]  iopt_area_unfill_domain+0x32/0x40
[   31.249311]  iopt_table_remove_domain+0x23f/0x4c0
[   31.249672]  iommufd_device_selftest_detach+0x3a/0x90
[   31.250059]  iommufd_selftest_destroy+0x55/0x70
[   31.250416]  iommufd_object_destroy_user+0xce/0x130
[   31.250797]  iommufd_destroy+0xa2/0xc0
[   31.251115]  iommufd_fops_ioctl+0x1ef/0x310
[   31.251435]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.251791]  ? write_comp_data+0x2f/0x90
[   31.252096]  __x64_sys_ioctl+0x10e/0x160
[   31.252399]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   31.252759]  do_syscall_64+0x3b/0x90
[   31.253040]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.253423] RIP: 0033:0x7f3081dad59d
[   31.253718] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   31.255093] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   31.255644] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   31.256165] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   31.256680] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   31.257195] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   31.257714] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   31.258252]  </TASK>
[   31.258430] irq event stamp: 15183
[   31.258693] hardirqs last  enabled at (15191): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.259355] hardirqs last disabled at (15200): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.259993] softirqs last  enabled at (14872): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.260608] softirqs last disabled at (14863): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.261222] ---[ end trace 0000000000000000 ]---
[   31.266061] ------------[ cut here ]------------
[   31.266439] WARNING: CPU: 1 PID: 540 at drivers/iommu/iommufd/pages.c:178 batch_unpin.isra.22+0x151/0x1a0
[   31.267187] Modules linked in:
[   31.267429] CPU: 1 PID: 540 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.268032] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.268846] RIP: 0010:batch_unpin.isra.22+0x151/0x1a0
[   31.269236] Code: e8 04 dd 17 ff 48 8b 45 d0 48 85 c0 75 17 e8 e6 da 17 ff 48 8b 7d c8 48 89 de e8 fa db 17 ff 48 39 5d c8 73 07 e8 cf da 17 ff <0f> 0b e8 c8 da 17 ff 4d 29 e5 31 ff 41 83 c6 01 4c 89 ee 31 db e8
[   31.270550] RSP: 0018:ffffc9000106b9d8 EFLAGS: 00010246
[   31.270952] RAX: 0000000000000000 RBX: ffffffffffffffff RCX: ffffffff821461ac
[   31.271476] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   31.271997] RBP: ffffc9000106ba20 R08: 0000000000000000 R09: ffff88807dd3b890
[   31.272516] R10: 00000000000010a2 R11: 0000000000000000 R12: 0000000000000001
[   31.273031] R13: 0000000000000001 R14: 0000000000000000 R15: ffff88800af19400
[   31.273547] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.274126] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.274559] CR2: 00007f3081e7f500 CR3: 0000000003c3a006 CR4: 0000000000770ee0
[   31.275100] PKRU: 55555554
[   31.275311] Call Trace:
[   31.275503]  <TASK>
[   31.275689]  iopt_pages_unfill_xarray+0x39f/0x5c0
[   31.276081]  ? write_comp_data+0x2f/0x90
[   31.276388]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.276748]  ? write_comp_data+0x2f/0x90
[   31.277051]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.277412]  ? interval_tree_remove+0x291/0x4e0
[   31.277765]  ? write_comp_data+0x2f/0x90
[   31.278072]  iopt_area_remove_access+0x108/0x120
[   31.278458]  iommufd_access_unpin_pages+0x177/0x210
[   31.278846]  iommufd_test_access_unmap+0xe0/0x130
[   31.279229]  ? __pfx_iommufd_test_staccess_release+0x10/0x10
[   31.279669]  iommufd_test_staccess_release+0x39/0x60
[   31.280055]  __fput+0x11f/0x450
[   31.280315]  ____fput+0x1e/0x30
[   31.280569]  task_work_run+0xb6/0x120
[   31.280864]  do_exit+0x547/0x1310
[   31.281134]  ? __this_cpu_preempt_check+0x20/0x30
[   31.281501]  ? lockdep_hardirqs_on+0x8a/0x110
[   31.281846]  do_group_exit+0x5e/0xf0
[   31.282137]  __x64_sys_exit_group+0x25/0x30
[   31.282475]  do_syscall_64+0x3b/0x90
[   31.282761]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.283166] RIP: 0033:0x7f3081d75cf6
[   31.283441] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   31.283894] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   31.284489] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   31.285002] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   31.285508] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   31.286030] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   31.286544] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   31.287091]  </TASK>
[   31.287268] irq event stamp: 21093
[   31.287524] hardirqs last  enabled at (21101): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.288146] hardirqs last disabled at (21108): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.288764] softirqs last  enabled at (20678): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.289380] softirqs last disabled at (20673): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.290022] ---[ end trace 0000000000000000 ]---
[   31.290464] ------------[ cut here ]------------
[   31.290808] WARNING: CPU: 1 PID: 540 at drivers/iommu/iommufd/pages.c:886 update_unpinned+0x75/0x80
[   31.291499] Modules linked in:
[   31.291737] CPU: 1 PID: 540 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.292334] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.293143] RIP: 0010:update_unpinned+0x75/0x80
[   31.293489] Code: ca 17 ff 48 89 de 31 c9 31 d2 4c 29 e6 4c 89 ef e8 60 fb ff ff e8 1b ca 17 ff 5b 41 5c 41 5d 5d c3 cc cc cc cc e8 0b ca 17 ff <0f> 0b eb e7 0f 1f 80 00 00 00 00 90 90 90 90 90 90 90 90 90 90 90
[   31.294802] RSP: 0018:ffffc9000106ba08 EFLAGS: 00010246
[   31.295204] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8214724f
[   31.295728] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   31.296344] RBP: ffffc9000106ba20 R08: 0000000000000000 R09: ffff88807dd3b890
[   31.296857] R10: 00000000000010a2 R11: 0000000000000000 R12: ffffffffffffffff
[   31.297370] R13: ffff88800af19400 R14: 0000000000000002 R15: 0000000000000002
[   31.297882] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.298471] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.298891] CR2: 00007f3081e7f500 CR3: 0000000003c3a006 CR4: 0000000000770ee0
[   31.299423] PKRU: 55555554
[   31.299632] Call Trace:
[   31.299819]  <TASK>
[   31.299988]  iopt_pages_unfill_xarray+0x522/0x5c0
[   31.300378]  ? write_comp_data+0x2f/0x90
[   31.300682]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.301040]  ? write_comp_data+0x2f/0x90
[   31.301345]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.301700]  ? interval_tree_remove+0x291/0x4e0
[   31.302058]  ? write_comp_data+0x2f/0x90
[   31.302375]  iopt_area_remove_access+0x108/0x120
[   31.302740]  iommufd_access_unpin_pages+0x177/0x210
[   31.303148]  iommufd_test_access_unmap+0xe0/0x130
[   31.303529]  ? __pfx_iommufd_test_staccess_release+0x10/0x10
[   31.303973]  iommufd_test_staccess_release+0x39/0x60
[   31.304377]  __fput+0x11f/0x450
[   31.304637]  ____fput+0x1e/0x30
[   31.304885]  task_work_run+0xb6/0x120
[   31.305171]  do_exit+0x547/0x1310
[   31.305436]  ? __this_cpu_preempt_check+0x20/0x30
[   31.305806]  ? lockdep_hardirqs_on+0x8a/0x110
[   31.306148]  do_group_exit+0x5e/0xf0
[   31.306448]  __x64_sys_exit_group+0x25/0x30
[   31.306771]  do_syscall_64+0x3b/0x90
[   31.307065]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.307449] RIP: 0033:0x7f3081d75cf6
[   31.307723] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   31.308173] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   31.308722] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   31.309238] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   31.309758] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   31.310284] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   31.310804] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   31.311364]  </TASK>
[   31.311542] irq event stamp: 21571
[   31.311802] hardirqs last  enabled at (21579): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.312430] hardirqs last disabled at (21586): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.313057] softirqs last  enabled at (20678): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.313678] softirqs last disabled at (20673): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.314298] ---[ end trace 0000000000000000 ]---
[   31.314777] ------------[ cut here ]------------
[   31.315140] WARNING: CPU: 1 PID: 540 at drivers/iommu/iommufd/pages.c:1181 iopt_release_pages+0x159/0x190
[   31.315838] Modules linked in:
[   31.316075] CPU: 1 PID: 540 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.316673] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.317480] RIP: 0010:iopt_release_pages+0x159/0x190
[   31.317856] Code: 61 fc fe eb cb e8 07 ad 17 ff be 03 00 00 00 4c 89 f7 e8 ca a0 c0 ff eb b7 e8 f3 ac 17 ff 0f 0b e9 ed fe ff ff e8 e7 ac 17 ff <0f> 0b e9 00 ff ff ff e8 db ac 17 ff 0f 0b e9 07 ff ff ff e8 cf ac
[   31.319179] RSP: 0018:ffffc9000106bc88 EFLAGS: 00010246
[   31.319567] RAX: 0000000000000000 RBX: ffff88800af19400 RCX: ffffffff82148eb7
[   31.320081] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   31.320591] RBP: ffffc9000106bca8 R08: 000000000000001c R09: 0000000000000001
[   31.321129] R10: ffff8880133cb718 R11: 0000000000000000 R12: ffffffffffffffff
[   31.321812] R13: 0000000001000000 R14: 00000000017fffff R15: 0000000000000000
[   31.322341] FS:  0000000000000000(0000) GS:ffff88807dd00000(0000) knlGS:0000000000000000
[   31.323015] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.323438] CR2: 00007f3081e7f500 CR3: 0000000003c3a006 CR4: 0000000000770ee0
[   31.323953] PKRU: 55555554
[   31.324160] Call Trace:
[   31.324348]  <TASK>
[   31.324551]  iopt_unmap_iova_range+0x1ef/0x2e0
[   31.324907]  iopt_unmap_all+0x2f/0x60
[   31.325314]  iommufd_ioas_destroy+0x2c/0x70
[   31.325640]  iommufd_fops_release+0xd4/0x170
[   31.325969]  ? __pfx_iommufd_fops_release+0x10/0x10
[   31.326348]  __fput+0x11f/0x450
[   31.326602]  ____fput+0x1e/0x30
[   31.326856]  task_work_run+0xb6/0x120
[   31.327217]  do_exit+0x547/0x1310
[   31.327530]  ? __this_cpu_preempt_check+0x20/0x30
[   31.327898]  ? lockdep_hardirqs_on+0x8a/0x110
[   31.328246]  do_group_exit+0x5e/0xf0
[   31.328534]  __x64_sys_exit_group+0x25/0x30
[   31.328863]  do_syscall_64+0x3b/0x90
[   31.329183]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.329634] RIP: 0033:0x7f3081d75cf6
[   31.329910] Code: Unable to access opcode bytes at 0x7f3081d75ccc.
[   31.330486] RSP: 002b:00007ffef74da278 EFLAGS: 00000246 ORIG_RAX: 00000000000000e7
[   31.331054] RAX: ffffffffffffffda RBX: 00007f3081e80490 RCX: 00007f3081d75cf6
[   31.331573] RDX: 0000000000000000 RSI: 000000000000003c RDI: 0000000000000000
[   31.332090] RBP: 0000000000000000 R08: 00000000000000e7 R09: ffffffffffffff80
[   31.332600] R10: 0000000000000004 R11: 0000000000000246 R12: 00007f3081e80490
[   31.333111] R13: 0000000000000001 R14: 00007f3081e83e88 R15: 0000000000000000
[   31.333729]  </TASK>
[   31.333936] irq event stamp: 22031
[   31.334191] hardirqs last  enabled at (22039): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.334828] hardirqs last disabled at (22046): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.335460] softirqs last  enabled at (21892): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.336084] softirqs last disabled at (21887): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.336683] ---[ end trace 0000000000000000 ]---
[   31.447377] ------------[ cut here ]------------
[   31.447978] WARNING: CPU: 0 PID: 542 at drivers/iommu/iommufd/pages.c:178 batch_unpin.isra.22+0x151/0x1a0
[   31.449034] Modules linked in:
[   31.449394] CPU: 0 PID: 542 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.450300] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.451562] RIP: 0010:batch_unpin.isra.22+0x151/0x1a0
[   31.452140] Code: e8 04 dd 17 ff 48 8b 45 d0 48 85 c0 75 17 e8 e6 da 17 ff 48 8b 7d c8 48 89 de e8 fa db 17 ff 48 39 5d c8 73 07 e8 cf da 17 ff <0f> 0b e8 c8 da 17 ff 4d 29 e5 31 ff 41 83 c6 01 4c 89 ee 31 db e8
[   31.454108] RSP: 0018:ffffc9000107ba88 EFLAGS: 00010246
[   31.454684] RAX: 0000000000000000 RBX: fffffffffffffffe RCX: ffffffff821461ac
[   31.455477] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000002
[   31.456253] RBP: ffffc9000107bad0 R08: 000000000003b9a5 R09: 000000000000000d
[   31.457056] R10: 000000000003b980 R11: 0000000000000024 R12: 0000000000000200
[   31.457825] R13: 00000000000003fa R14: 0000000000000003 R15: ffff88800ad04400
[   31.458608] FS:  00007f3081c88740(0000) GS:ffff88807dc00000(0000) knlGS:0000000000000000
[   31.459516] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.460159] CR2: 00007f3081dad580 CR3: 000000000ad1c005 CR4: 0000000000770ef0
[   31.460940] PKRU: 55555554
[   31.461257] Call Trace:
[   31.461536]  <TASK>
[   31.461803]  __iopt_area_unfill_domain+0x257/0x560
[   31.462415]  ? __this_cpu_preempt_check+0x20/0x30
[   31.463122]  ? lock_is_held_type+0xe6/0x140
[   31.463637]  ? rcu_read_lock_sched_held+0x57/0x80
[   31.464178]  ? __mutex_lock+0x13a/0xf30
[   31.464641]  ? write_comp_data+0x2f/0x90
[   31.465109]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.465644]  iopt_area_unfill_domain+0x32/0x40
[   31.466165]  iopt_table_remove_domain+0x23f/0x4c0
[   31.466728]  iommufd_device_selftest_detach+0x3a/0x90
[   31.467401]  iommufd_selftest_destroy+0x55/0x70
[   31.467930]  iommufd_object_destroy_user+0xce/0x130
[   31.468480]  iommufd_destroy+0xa2/0xc0
[   31.468931]  iommufd_fops_ioctl+0x1ef/0x310
[   31.469423]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.469946]  ? write_comp_data+0x2f/0x90
[   31.470417]  __x64_sys_ioctl+0x10e/0x160
[   31.470898]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   31.471497]  do_syscall_64+0x3b/0x90
[   31.471937]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.472526] RIP: 0033:0x7f3081dad59d
[   31.472950] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   31.474980] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   31.475835] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   31.476634] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   31.477413] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   31.478203] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   31.479013] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   31.479840]  </TASK>
[   31.480114] irq event stamp: 15173
[   31.480512] hardirqs last  enabled at (15181): [<ffffffff811d6ce1>] __up_console_sem+0x91/0xb0
[   31.481476] hardirqs last disabled at (15188): [<ffffffff811d6cc6>] __up_console_sem+0x76/0xb0
[   31.482435] softirqs last  enabled at (14800): [<ffffffff82f9f263>] __do_softirq+0x323/0x489
[   31.483387] softirqs last disabled at (14769): [<ffffffff811241e4>] irq_exit_rcu+0xc4/0x100
[   31.484326] ---[ end trace 0000000000000000 ]---
[   31.484899] general protection fault, probably for non-canonical address 0xffe20a04cb540808: 0000 [#1] PREEMPT SMP NOPTI
[   31.486078] CPU: 0 PID: 542 Comm: repro Tainted: G        W          6.2.0-8ca8d89b43ca+ #1
[   31.487004] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.16.0-0-gd239552ce722-prebuilt.qemu.org 04/01/2014
[   31.488270] RIP: 0010:unpin_user_page_range_dirty_lock+0x121/0x2b0
[   31.488991] Code: 4c 03 65 d0 4c 89 f7 4c 89 e6 e8 3a c1 de ff 4d 39 e6 0f 86 54 01 00 00 e8 0c c0 de ff 4d 89 e5 31 ff 49 c1 e5 06 4c 03 6d c8 <49> 8b 45 08 48 89 c3 48 89 45 d0 83 e3 01 48 89 de e8 f9 c1 de ff
[   31.490968] RSP: 0018:ffffc9000107ba38 EFLAGS: 00010286
[   31.491558] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff814d7bb6
[   31.492344] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000000
[   31.493105] RBP: ffffc9000107ba78 R08: 000000000003b9a5 R09: 000000000000000d
[   31.493906] R10: 000000000003b980 R11: 0000000000000024 R12: 0000000000000000
[   31.494692] R13: ffe20a04cb540800 R14: 0000000000000003 R15: 0000000000000001
[   31.495469] FS:  00007f3081c88740(0000) GS:ffff88807dc00000(0000) knlGS:0000000000000000
[   31.496330] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.496981] CR2: 00007f3081dad580 CR3: 000000000ad1c005 CR4: 0000000000770ef0
[   31.497754] PKRU: 55555554
[   31.498073] Call Trace:
[   31.498373]  <TASK>
[   31.498617]  ? write_comp_data+0x2f/0x90
[   31.499079]  batch_unpin.isra.22+0xfa/0x1a0
[   31.499584]  __iopt_area_unfill_domain+0x257/0x560
[   31.500185]  ? __this_cpu_preempt_check+0x20/0x30
[   31.500739]  ? lock_is_held_type+0xe6/0x140
[   31.501243]  ? rcu_read_lock_sched_held+0x57/0x80
[   31.501789]  ? __mutex_lock+0x13a/0xf30
[   31.502261]  ? write_comp_data+0x2f/0x90
[   31.502711]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.503266]  iopt_area_unfill_domain+0x32/0x40
[   31.503800]  iopt_table_remove_domain+0x23f/0x4c0
[   31.504347]  iommufd_device_selftest_detach+0x3a/0x90
[   31.504959]  iommufd_selftest_destroy+0x55/0x70
[   31.505506]  iommufd_object_destroy_user+0xce/0x130
[   31.506082]  iommufd_destroy+0xa2/0xc0
[   31.506546]  iommufd_fops_ioctl+0x1ef/0x310
[   31.507021]  ? __sanitizer_cov_trace_pc+0x25/0x60
[   31.507565]  ? write_comp_data+0x2f/0x90
[   31.508040]  __x64_sys_ioctl+0x10e/0x160
[   31.508506]  ? __pfx_iommufd_fops_ioctl+0x10/0x10
[   31.509034]  do_syscall_64+0x3b/0x90
[   31.509472]  entry_SYSCALL_64_after_hwframe+0x72/0xdc
[   31.510052] RIP: 0033:0x7f3081dad59d
[   31.510483] Code: 00 c3 66 2e 0f 1f 84 00 00 00 00 00 90 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d d3 08 0d 00 f7 d8 64 89 01 48
[   31.512476] RSP: 002b:00007ffef74da2b8 EFLAGS: 00000213 ORIG_RAX: 0000000000000010
[   31.513325] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f3081dad59d
[   31.514130] RDX: 0000000020000140 RSI: 0000000000003b80 RDI: 0000000000000003
[   31.514927] RBP: 00007ffef74da2d0 R08: 00007ffef74da2d0 R09: 00007ffef74da2d0
[   31.515715] R10: 00007ffef74da2d0 R11: 0000000000000213 R12: 0000000000401180
[   31.516489] R13: 00007ffef74da3f0 R14: 0000000000000000 R15: 0000000000000000
[   31.517252]  </TASK>
[   31.517509] Modules linked in:
[   31.517945] ---[ end trace 0000000000000000 ]---
[   31.518468] RIP: 0010:unpin_user_page_range_dirty_lock+0x121/0x2b0
[   31.519222] Code: 4c 03 65 d0 4c 89 f7 4c 89 e6 e8 3a c1 de ff 4d 39 e6 0f 86 54 01 00 00 e8 0c c0 de ff 4d 89 e5 31 ff 49 c1 e5 06 4c 03 6d c8 <49> 8b 45 08 48 89 c3 48 89 45 d0 83 e3 01 48 89 de e8 f9 c1 de ff
[   31.521230] RSP: 0018:ffffc9000107ba38 EFLAGS: 00010286
[   31.521838] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff814d7bb6
[   31.522660] RDX: 0000000000000000 RSI: ffff8880133ca980 RDI: 0000000000000000
[   31.523462] RBP: ffffc9000107ba78 R08: 000000000003b9a5 R09: 000000000000000d
[   31.524287] R10: 000000000003b980 R11: 0000000000000024 R12: 0000000000000000
[   31.525111] R13: ffe20a04cb540800 R14: 0000000000000003 R15: 0000000000000001
[   31.525926] FS:  00007f3081c88740(0000) GS:ffff88807dc00000(0000) knlGS:0000000000000000
[   31.526835] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[   31.527552] CR2: 00007f3081dad580 CR3: 000000000ad1c005 CR4: 0000000000770ef0
[   31.528363] PKRU: 55555554
